var wye=Object.defineProperty;var Sye=(i,e,t)=>e in i?wye(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var ae=(i,e,t)=>(Sye(i,typeof e!="symbol"?e+"":e,t),t),SV=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var Bn=(i,e,t)=>(SV(i,e,"read from private field"),t?t.call(i):e.get(i)),es=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},Pr=(i,e,t,n)=>(SV(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t);var xV=(i,e,t)=>(SV(i,e,"access private method"),t);function Cue(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Om(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function xye(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var yue={exports:{}},S9={},wue={exports:{}},Ji={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=Symbol.for("react.element"),Eye=Symbol.for("react.portal"),Lye=Symbol.for("react.fragment"),Dye=Symbol.for("react.strict_mode"),Tye=Symbol.for("react.profiler"),Iye=Symbol.for("react.provider"),kye=Symbol.for("react.context"),Nye=Symbol.for("react.forward_ref"),Aye=Symbol.for("react.suspense"),Oye=Symbol.for("react.memo"),Mye=Symbol.for("react.lazy"),Kee=Symbol.iterator;function Rye(i){return i===null||typeof i!="object"?null:(i=Kee&&i[Kee]||i["@@iterator"],typeof i=="function"?i:null)}var Sue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xue=Object.assign,Eue={};function _E(i,e,t){this.props=i,this.context=e,this.refs=Eue,this.updater=t||Sue}_E.prototype.isReactComponent={};_E.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};_E.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function Lue(){}Lue.prototype=_E.prototype;function FY(i,e,t){this.props=i,this.context=e,this.refs=Eue,this.updater=t||Sue}var BY=FY.prototype=new Lue;BY.constructor=FY;xue(BY,_E.prototype);BY.isPureReactComponent=!0;var qee=Array.isArray,Due=Object.prototype.hasOwnProperty,WY={current:null},Tue={key:!0,ref:!0,__self:!0,__source:!0};function Iue(i,e,t){var n,r={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Due.call(e,n)&&!Tue.hasOwnProperty(n)&&(r[n]=e[n]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}if(i&&i.defaultProps)for(n in a=i.defaultProps,a)r[n]===void 0&&(r[n]=a[n]);return{$$typeof:IP,type:i,key:s,ref:o,props:r,_owner:WY.current}}function Pye(i,e){return{$$typeof:IP,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function VY(i){return typeof i=="object"&&i!==null&&i.$$typeof===IP}function Fye(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(t){return e[t]})}var Gee=/\/+/g;function EV(i,e){return typeof i=="object"&&i!==null&&i.key!=null?Fye(""+i.key):e.toString(36)}function v6(i,e,t,n,r){var s=typeof i;(s==="undefined"||s==="boolean")&&(i=null);var o=!1;if(i===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(i.$$typeof){case IP:case Eye:o=!0}}if(o)return o=i,r=r(o),i=n===""?"."+EV(o,0):n,qee(r)?(t="",i!=null&&(t=i.replace(Gee,"$&/")+"/"),v6(r,e,t,"",function(c){return c})):r!=null&&(VY(r)&&(r=Pye(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Gee,"$&/")+"/")+i)),e.push(r)),1;if(o=0,n=n===""?".":n+":",qee(i))for(var a=0;a<i.length;a++){s=i[a];var u=n+EV(s,a);o+=v6(s,e,t,u,r)}else if(u=Rye(i),typeof u=="function")for(i=u.call(i),a=0;!(s=i.next()).done;)s=s.value,u=n+EV(s,a++),o+=v6(s,e,t,u,r);else if(s==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function R3(i,e,t){if(i==null)return i;var n=[],r=0;return v6(i,n,"","",function(s){return e.call(t,s,r++)}),n}function Bye(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(t){(i._status===0||i._status===-1)&&(i._status=1,i._result=t)},function(t){(i._status===0||i._status===-1)&&(i._status=2,i._result=t)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var eu={current:null},b6={transition:null},Wye={ReactCurrentDispatcher:eu,ReactCurrentBatchConfig:b6,ReactCurrentOwner:WY};function kue(){throw Error("act(...) is not supported in production builds of React.")}Ji.Children={map:R3,forEach:function(i,e,t){R3(i,function(){e.apply(this,arguments)},t)},count:function(i){var e=0;return R3(i,function(){e++}),e},toArray:function(i){return R3(i,function(e){return e})||[]},only:function(i){if(!VY(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};Ji.Component=_E;Ji.Fragment=Lye;Ji.Profiler=Tye;Ji.PureComponent=FY;Ji.StrictMode=Dye;Ji.Suspense=Aye;Ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wye;Ji.act=kue;Ji.cloneElement=function(i,e,t){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var n=xue({},i.props),r=i.key,s=i.ref,o=i._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=WY.current),e.key!==void 0&&(r=""+e.key),i.type&&i.type.defaultProps)var a=i.type.defaultProps;for(u in e)Due.call(e,u)&&!Tue.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=t;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:IP,type:i.type,key:r,ref:s,props:n,_owner:o}};Ji.createContext=function(i){return i={$$typeof:kye,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:Iye,_context:i},i.Consumer=i};Ji.createElement=Iue;Ji.createFactory=function(i){var e=Iue.bind(null,i);return e.type=i,e};Ji.createRef=function(){return{current:null}};Ji.forwardRef=function(i){return{$$typeof:Nye,render:i}};Ji.isValidElement=VY;Ji.lazy=function(i){return{$$typeof:Mye,_payload:{_status:-1,_result:i},_init:Bye}};Ji.memo=function(i,e){return{$$typeof:Oye,type:i,compare:e===void 0?null:e}};Ji.startTransition=function(i){var e=b6.transition;b6.transition={};try{i()}finally{b6.transition=e}};Ji.unstable_act=kue;Ji.useCallback=function(i,e){return eu.current.useCallback(i,e)};Ji.useContext=function(i){return eu.current.useContext(i)};Ji.useDebugValue=function(){};Ji.useDeferredValue=function(i){return eu.current.useDeferredValue(i)};Ji.useEffect=function(i,e){return eu.current.useEffect(i,e)};Ji.useId=function(){return eu.current.useId()};Ji.useImperativeHandle=function(i,e,t){return eu.current.useImperativeHandle(i,e,t)};Ji.useInsertionEffect=function(i,e){return eu.current.useInsertionEffect(i,e)};Ji.useLayoutEffect=function(i,e){return eu.current.useLayoutEffect(i,e)};Ji.useMemo=function(i,e){return eu.current.useMemo(i,e)};Ji.useReducer=function(i,e,t){return eu.current.useReducer(i,e,t)};Ji.useRef=function(i){return eu.current.useRef(i)};Ji.useState=function(i){return eu.current.useState(i)};Ji.useSyncExternalStore=function(i,e,t){return eu.current.useSyncExternalStore(i,e,t)};Ji.useTransition=function(){return eu.current.useTransition()};Ji.version="18.3.1";wue.exports=Ji;var ge=wue.exports;const re=Om(ge),Vye=Cue({__proto__:null,default:re},[ge]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hye=ge,$ye=Symbol.for("react.element"),zye=Symbol.for("react.fragment"),Uye=Object.prototype.hasOwnProperty,jye=Hye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kye={key:!0,ref:!0,__self:!0,__source:!0};function Nue(i,e,t){var n,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Uye.call(e,n)&&!Kye.hasOwnProperty(n)&&(r[n]=e[n]);if(i&&i.defaultProps)for(n in e=i.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:$ye,type:i,key:s,ref:o,props:r,_owner:jye.current}}S9.Fragment=zye;S9.jsx=Nue;S9.jsxs=Nue;yue.exports=S9;var ld=yue.exports,Yz={},Aue={exports:{}},zc={},Oue={exports:{}},Mue={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(K,z){var k=K.length;K.push(z);e:for(;0<k;){var q=k-1>>>1,fe=K[q];if(0<r(fe,z))K[q]=z,K[k]=fe,k=q;else break e}}function t(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var z=K[0],k=K.pop();if(k!==z){K[0]=k;e:for(var q=0,fe=K.length,ne=fe>>>1;q<ne;){var Ce=2*(q+1)-1,Te=K[Ce],He=Ce+1,ot=K[He];if(0>r(Te,k))He<fe&&0>r(ot,Te)?(K[q]=ot,K[He]=k,q=He):(K[q]=Te,K[Ce]=k,q=Ce);else if(He<fe&&0>r(ot,k))K[q]=ot,K[He]=k,q=He;else break e}}return z}function r(K,z){var k=K.sortIndex-z.sortIndex;return k!==0?k:K.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,p=3,m=!1,v=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(K){for(var z=t(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=K)n(c),z.sortIndex=z.expirationTime,e(u,z);else break;z=t(c)}}function N(K){if(b=!1,E(K),!v)if(t(u)!==null)v=!0,j(A);else{var z=t(c);z!==null&&U(N,z.startTime-K)}}function A(K,z){v=!1,b&&(b=!1,x(M),M=-1),m=!0;var k=p;try{for(E(z),f=t(u);f!==null&&(!(f.expirationTime>z)||K&&!$());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var fe=q(f.expirationTime<=z);z=i.unstable_now(),typeof fe=="function"?f.callback=fe:f===t(u)&&n(u),E(z)}else n(u);f=t(u)}if(f!==null)var ne=!0;else{var Ce=t(c);Ce!==null&&U(N,Ce.startTime-z),ne=!1}return ne}finally{f=null,p=k,m=!1}}var H=!1,R=null,M=-1,G=5,X=-1;function $(){return!(i.unstable_now()-X<G)}function I(){if(R!==null){var K=i.unstable_now();X=K;var z=!0;try{z=R(!0,K)}finally{z?O():(H=!1,R=null)}}else H=!1}var O;if(typeof w=="function")O=function(){w(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=I,O=function(){W.postMessage(null)}}else O=function(){S(I,0)};function j(K){R=K,H||(H=!0,O())}function U(K,z){M=S(function(){K(i.unstable_now())},z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_continueExecution=function(){v||m||(v=!0,j(A))},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return p},i.unstable_getFirstCallbackNode=function(){return t(u)},i.unstable_next=function(K){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var k=p;p=z;try{return K()}finally{p=k}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(K,z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var k=p;p=K;try{return z()}finally{p=k}},i.unstable_scheduleCallback=function(K,z,k){var q=i.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?q+k:q):k=q,K){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=k+fe,K={id:h++,callback:z,priorityLevel:K,startTime:k,expirationTime:fe,sortIndex:-1},k>q?(K.sortIndex=k,e(c,K),t(u)===null&&K===t(c)&&(b?(x(M),M=-1):b=!0,U(N,k-q))):(K.sortIndex=fe,e(u,K),v||m||(v=!0,j(A))),K},i.unstable_shouldYield=$,i.unstable_wrapCallback=function(K){var z=p;return function(){var k=p;p=z;try{return K.apply(this,arguments)}finally{p=k}}}})(Mue);Oue.exports=Mue;var qye=Oue.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gye=ge,Rc=qye;function Lt(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rue=new Set,jO={};function Ry(i,e){ax(i,e),ax(i+"Capture",e)}function ax(i,e){for(jO[i]=e,i=0;i<e.length;i++)Rue.add(e[i])}var bm=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zz=Object.prototype.hasOwnProperty,Yye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yee={},Zee={};function Zye(i){return Zz.call(Zee,i)?!0:Zz.call(Yee,i)?!1:Yye.test(i)?Zee[i]=!0:(Yee[i]=!0,!1)}function Xye(i,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function Qye(i,e,t,n){if(e===null||typeof e>"u"||Xye(i,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tu(i,e,t,n,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=i,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Xa[i]=new tu(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];Xa[e]=new tu(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Xa[i]=new tu(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Xa[i]=new tu(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Xa[i]=new tu(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Xa[i]=new tu(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Xa[i]=new tu(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Xa[i]=new tu(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Xa[i]=new tu(i,5,!1,i.toLowerCase(),null,!1,!1)});var HY=/[\-:]([a-z])/g;function $Y(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(HY,$Y);Xa[e]=new tu(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(HY,$Y);Xa[e]=new tu(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(HY,$Y);Xa[e]=new tu(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Xa[i]=new tu(i,1,!1,i.toLowerCase(),null,!1,!1)});Xa.xlinkHref=new tu("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Xa[i]=new tu(i,1,!1,i.toLowerCase(),null,!0,!0)});function zY(i,e,t,n){var r=Xa.hasOwnProperty(e)?Xa[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qye(e,t,r,n)&&(t=null),n||r===null?Zye(e)&&(t===null?i.removeAttribute(e):i.setAttribute(e,""+t)):r.mustUseProperty?i[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,n=r.attributeNamespace,t===null?i.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,n?i.setAttributeNS(n,e,t):i.setAttribute(e,t))))}var Mm=Gye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P3=Symbol.for("react.element"),jw=Symbol.for("react.portal"),Kw=Symbol.for("react.fragment"),UY=Symbol.for("react.strict_mode"),Xz=Symbol.for("react.profiler"),Pue=Symbol.for("react.provider"),Fue=Symbol.for("react.context"),jY=Symbol.for("react.forward_ref"),Qz=Symbol.for("react.suspense"),Jz=Symbol.for("react.suspense_list"),KY=Symbol.for("react.memo"),C0=Symbol.for("react.lazy"),Bue=Symbol.for("react.offscreen"),Xee=Symbol.iterator;function rA(i){return i===null||typeof i!="object"?null:(i=Xee&&i[Xee]||i["@@iterator"],typeof i=="function"?i:null)}var so=Object.assign,LV;function MA(i){if(LV===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);LV=e&&e[1]||""}return`
`+LV+i}var DV=!1;function TV(i,e){if(!i||DV)return"";DV=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(i,[],e)}else{try{e.call()}catch(c){n=c}i.call(e.prototype)}else{try{throw Error()}catch(c){n=c}i()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=n.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var u=`
`+r[o].replace(" at new "," at ");return i.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",i.displayName)),u}while(1<=o&&0<=a);break}}}finally{DV=!1,Error.prepareStackTrace=t}return(i=i?i.displayName||i.name:"")?MA(i):""}function Jye(i){switch(i.tag){case 5:return MA(i.type);case 16:return MA("Lazy");case 13:return MA("Suspense");case 19:return MA("SuspenseList");case 0:case 2:case 15:return i=TV(i.type,!1),i;case 11:return i=TV(i.type.render,!1),i;case 1:return i=TV(i.type,!0),i;default:return""}}function eU(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Kw:return"Fragment";case jw:return"Portal";case Xz:return"Profiler";case UY:return"StrictMode";case Qz:return"Suspense";case Jz:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Fue:return(i.displayName||"Context")+".Consumer";case Pue:return(i._context.displayName||"Context")+".Provider";case jY:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case KY:return e=i.displayName||null,e!==null?e:eU(i.type)||"Memo";case C0:e=i._payload,i=i._init;try{return eU(i(e))}catch{}}return null}function ewe(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eU(e);case 8:return e===UY?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function v1(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wue(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function twe(i){var e=Wue(i)?"checked":"value",t=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),n=""+i[e];if(!i.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(i,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function F3(i){i._valueTracker||(i._valueTracker=twe(i))}function Vue(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return i&&(n=Wue(i)?i.checked?"true":"false":i.value),i=n,i!==t?(e.setValue(i),!0):!1}function L8(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function tU(i,e){var t=e.checked;return so({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??i._wrapperState.initialChecked})}function Qee(i,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=v1(e.value!=null?e.value:t),i._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hue(i,e){e=e.checked,e!=null&&zY(i,"checked",e,!1)}function nU(i,e){Hue(i,e);var t=v1(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&i.value===""||i.value!=t)&&(i.value=""+t):i.value!==""+t&&(i.value=""+t);else if(n==="submit"||n==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?iU(i,e.type,t):e.hasOwnProperty("defaultValue")&&iU(i,e.type,v1(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function Jee(i,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,t||e===i.value||(i.value=e),i.defaultValue=e}t=i.name,t!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,t!==""&&(i.name=t)}function iU(i,e,t){(e!=="number"||L8(i.ownerDocument)!==i)&&(t==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+t&&(i.defaultValue=""+t))}var RA=Array.isArray;function CS(i,e,t,n){if(i=i.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<i.length;t++)r=e.hasOwnProperty("$"+i[t].value),i[t].selected!==r&&(i[t].selected=r),r&&n&&(i[t].defaultSelected=!0)}else{for(t=""+v1(t),e=null,r=0;r<i.length;r++){if(i[r].value===t){i[r].selected=!0,n&&(i[r].defaultSelected=!0);return}e!==null||i[r].disabled||(e=i[r])}e!==null&&(e.selected=!0)}}function rU(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Lt(91));return so({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ete(i,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Lt(92));if(RA(t)){if(1<t.length)throw Error(Lt(93));t=t[0]}e=t}e==null&&(e=""),t=e}i._wrapperState={initialValue:v1(t)}}function $ue(i,e){var t=v1(e.value),n=v1(e.defaultValue);t!=null&&(t=""+t,t!==i.value&&(i.value=t),e.defaultValue==null&&i.defaultValue!==t&&(i.defaultValue=t)),n!=null&&(i.defaultValue=""+n)}function tte(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function zue(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sU(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?zue(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var B3,Uue=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return i(e,t,n,r)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(B3=B3||document.createElement("div"),B3.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=B3.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function KO(i,e){if(e){var t=i.firstChild;if(t&&t===i.lastChild&&t.nodeType===3){t.nodeValue=e;return}}i.textContent=e}var oO={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nwe=["Webkit","ms","Moz","O"];Object.keys(oO).forEach(function(i){nwe.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),oO[e]=oO[i]})});function jue(i,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||oO.hasOwnProperty(i)&&oO[i]?(""+e).trim():e+"px"}function Kue(i,e){i=i.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,r=jue(t,e[t],n);t==="float"&&(t="cssFloat"),n?i.setProperty(t,r):i[t]=r}}var iwe=so({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oU(i,e){if(e){if(iwe[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Lt(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Lt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Lt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Lt(62))}}function aU(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lU=null;function qY(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var uU=null,yS=null,wS=null;function nte(i){if(i=AP(i)){if(typeof uU!="function")throw Error(Lt(280));var e=i.stateNode;e&&(e=T9(e),uU(i.stateNode,i.type,e))}}function que(i){yS?wS?wS.push(i):wS=[i]:yS=i}function Gue(){if(yS){var i=yS,e=wS;if(wS=yS=null,nte(i),e)for(i=0;i<e.length;i++)nte(e[i])}}function Yue(i,e){return i(e)}function Zue(){}var IV=!1;function Xue(i,e,t){if(IV)return i(e,t);IV=!0;try{return Yue(i,e,t)}finally{IV=!1,(yS!==null||wS!==null)&&(Zue(),Gue())}}function qO(i,e){var t=i.stateNode;if(t===null)return null;var n=T9(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(i=i.type,n=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!n;break e;default:i=!1}if(i)return null;if(t&&typeof t!="function")throw Error(Lt(231,e,typeof t));return t}var cU=!1;if(bm)try{var sA={};Object.defineProperty(sA,"passive",{get:function(){cU=!0}}),window.addEventListener("test",sA,sA),window.removeEventListener("test",sA,sA)}catch{cU=!1}function rwe(i,e,t,n,r,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var aO=!1,D8=null,T8=!1,dU=null,swe={onError:function(i){aO=!0,D8=i}};function owe(i,e,t,n,r,s,o,a,u){aO=!1,D8=null,rwe.apply(swe,arguments)}function awe(i,e,t,n,r,s,o,a,u){if(owe.apply(this,arguments),aO){if(aO){var c=D8;aO=!1,D8=null}else throw Error(Lt(198));T8||(T8=!0,dU=c)}}function Py(i){var e=i,t=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(t=e.return),i=e.return;while(i)}return e.tag===3?t:null}function Que(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function ite(i){if(Py(i)!==i)throw Error(Lt(188))}function lwe(i){var e=i.alternate;if(!e){if(e=Py(i),e===null)throw Error(Lt(188));return e!==i?null:i}for(var t=i,n=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){t=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return ite(r),i;if(s===n)return ite(r),e;s=s.sibling}throw Error(Lt(188))}if(t.return!==n.return)t=r,n=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,n=s;break}if(a===n){o=!0,n=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,n=r;break}if(a===n){o=!0,n=s,t=r;break}a=a.sibling}if(!o)throw Error(Lt(189))}}if(t.alternate!==n)throw Error(Lt(190))}if(t.tag!==3)throw Error(Lt(188));return t.stateNode.current===t?i:e}function Jue(i){return i=lwe(i),i!==null?ece(i):null}function ece(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=ece(i);if(e!==null)return e;i=i.sibling}return null}var tce=Rc.unstable_scheduleCallback,rte=Rc.unstable_cancelCallback,uwe=Rc.unstable_shouldYield,cwe=Rc.unstable_requestPaint,xo=Rc.unstable_now,dwe=Rc.unstable_getCurrentPriorityLevel,GY=Rc.unstable_ImmediatePriority,nce=Rc.unstable_UserBlockingPriority,I8=Rc.unstable_NormalPriority,hwe=Rc.unstable_LowPriority,ice=Rc.unstable_IdlePriority,x9=null,Pg=null;function fwe(i){if(Pg&&typeof Pg.onCommitFiberRoot=="function")try{Pg.onCommitFiberRoot(x9,i,void 0,(i.current.flags&128)===128)}catch{}}var Ef=Math.clz32?Math.clz32:mwe,gwe=Math.log,pwe=Math.LN2;function mwe(i){return i>>>=0,i===0?32:31-(gwe(i)/pwe|0)|0}var W3=64,V3=4194304;function PA(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function k8(i,e){var t=i.pendingLanes;if(t===0)return 0;var n=0,r=i.suspendedLanes,s=i.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?n=PA(a):(s&=o,s!==0&&(n=PA(s)))}else o=t&~r,o!==0?n=PA(o):s!==0&&(n=PA(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=n;0<e;)t=31-Ef(e),r=1<<t,n|=i[t],e&=~r;return n}function _we(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vwe(i,e){for(var t=i.suspendedLanes,n=i.pingedLanes,r=i.expirationTimes,s=i.pendingLanes;0<s;){var o=31-Ef(s),a=1<<o,u=r[o];u===-1?(!(a&t)||a&n)&&(r[o]=_we(a,e)):u<=e&&(i.expiredLanes|=a),s&=~a}}function hU(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function rce(){var i=W3;return W3<<=1,!(W3&4194240)&&(W3=64),i}function kV(i){for(var e=[],t=0;31>t;t++)e.push(i);return e}function kP(i,e,t){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-Ef(e),i[e]=t}function bwe(i,e){var t=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var n=i.eventTimes;for(i=i.expirationTimes;0<t;){var r=31-Ef(t),s=1<<r;e[r]=0,n[r]=-1,i[r]=-1,t&=~s}}function YY(i,e){var t=i.entangledLanes|=e;for(i=i.entanglements;t;){var n=31-Ef(t),r=1<<n;r&e|i[n]&e&&(i[n]|=e),t&=~r}}var Qr=0;function sce(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var oce,ZY,ace,lce,uce,fU=!1,H3=[],K0=null,q0=null,G0=null,GO=new Map,YO=new Map,L0=[],Cwe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ste(i,e){switch(i){case"focusin":case"focusout":K0=null;break;case"dragenter":case"dragleave":q0=null;break;case"mouseover":case"mouseout":G0=null;break;case"pointerover":case"pointerout":GO.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":YO.delete(e.pointerId)}}function oA(i,e,t,n,r,s){return i===null||i.nativeEvent!==s?(i={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},e!==null&&(e=AP(e),e!==null&&ZY(e)),i):(i.eventSystemFlags|=n,e=i.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),i)}function ywe(i,e,t,n,r){switch(e){case"focusin":return K0=oA(K0,i,e,t,n,r),!0;case"dragenter":return q0=oA(q0,i,e,t,n,r),!0;case"mouseover":return G0=oA(G0,i,e,t,n,r),!0;case"pointerover":var s=r.pointerId;return GO.set(s,oA(GO.get(s)||null,i,e,t,n,r)),!0;case"gotpointercapture":return s=r.pointerId,YO.set(s,oA(YO.get(s)||null,i,e,t,n,r)),!0}return!1}function cce(i){var e=Hb(i.target);if(e!==null){var t=Py(e);if(t!==null){if(e=t.tag,e===13){if(e=Que(t),e!==null){i.blockedOn=e,uce(i.priority,function(){ace(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){i.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}i.blockedOn=null}function C6(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var t=gU(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(t===null){t=i.nativeEvent;var n=new t.constructor(t.type,t);lU=n,t.target.dispatchEvent(n),lU=null}else return e=AP(t),e!==null&&ZY(e),i.blockedOn=t,!1;e.shift()}return!0}function ote(i,e,t){C6(i)&&t.delete(e)}function wwe(){fU=!1,K0!==null&&C6(K0)&&(K0=null),q0!==null&&C6(q0)&&(q0=null),G0!==null&&C6(G0)&&(G0=null),GO.forEach(ote),YO.forEach(ote)}function aA(i,e){i.blockedOn===e&&(i.blockedOn=null,fU||(fU=!0,Rc.unstable_scheduleCallback(Rc.unstable_NormalPriority,wwe)))}function ZO(i){function e(r){return aA(r,i)}if(0<H3.length){aA(H3[0],i);for(var t=1;t<H3.length;t++){var n=H3[t];n.blockedOn===i&&(n.blockedOn=null)}}for(K0!==null&&aA(K0,i),q0!==null&&aA(q0,i),G0!==null&&aA(G0,i),GO.forEach(e),YO.forEach(e),t=0;t<L0.length;t++)n=L0[t],n.blockedOn===i&&(n.blockedOn=null);for(;0<L0.length&&(t=L0[0],t.blockedOn===null);)cce(t),t.blockedOn===null&&L0.shift()}var SS=Mm.ReactCurrentBatchConfig,N8=!0;function Swe(i,e,t,n){var r=Qr,s=SS.transition;SS.transition=null;try{Qr=1,XY(i,e,t,n)}finally{Qr=r,SS.transition=s}}function xwe(i,e,t,n){var r=Qr,s=SS.transition;SS.transition=null;try{Qr=4,XY(i,e,t,n)}finally{Qr=r,SS.transition=s}}function XY(i,e,t,n){if(N8){var r=gU(i,e,t,n);if(r===null)VV(i,e,n,A8,t),ste(i,n);else if(ywe(r,i,e,t,n))n.stopPropagation();else if(ste(i,n),e&4&&-1<Cwe.indexOf(i)){for(;r!==null;){var s=AP(r);if(s!==null&&oce(s),s=gU(i,e,t,n),s===null&&VV(i,e,n,A8,t),s===r)break;r=s}r!==null&&n.stopPropagation()}else VV(i,e,n,null,t)}}var A8=null;function gU(i,e,t,n){if(A8=null,i=qY(n),i=Hb(i),i!==null)if(e=Py(i),e===null)i=null;else if(t=e.tag,t===13){if(i=Que(e),i!==null)return i;i=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return A8=i,null}function dce(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dwe()){case GY:return 1;case nce:return 4;case I8:case hwe:return 16;case ice:return 536870912;default:return 16}default:return 16}}var A0=null,QY=null,y6=null;function hce(){if(y6)return y6;var i,e=QY,t=e.length,n,r="value"in A0?A0.value:A0.textContent,s=r.length;for(i=0;i<t&&e[i]===r[i];i++);var o=t-i;for(n=1;n<=o&&e[t-n]===r[s-n];n++);return y6=r.slice(i,1<n?1-n:void 0)}function w6(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function $3(){return!0}function ate(){return!1}function Uc(i){function e(t,n,r,s,o){this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$3:ate,this.isPropagationStopped=ate,this}return so(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=$3)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=$3)},persist:function(){},isPersistent:$3}),e}var vE={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},JY=Uc(vE),NP=so({},vE,{view:0,detail:0}),Ewe=Uc(NP),NV,AV,lA,E9=so({},NP,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eZ,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==lA&&(lA&&i.type==="mousemove"?(NV=i.screenX-lA.screenX,AV=i.screenY-lA.screenY):AV=NV=0,lA=i),NV)},movementY:function(i){return"movementY"in i?i.movementY:AV}}),lte=Uc(E9),Lwe=so({},E9,{dataTransfer:0}),Dwe=Uc(Lwe),Twe=so({},NP,{relatedTarget:0}),OV=Uc(Twe),Iwe=so({},vE,{animationName:0,elapsedTime:0,pseudoElement:0}),kwe=Uc(Iwe),Nwe=so({},vE,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Awe=Uc(Nwe),Owe=so({},vE,{data:0}),ute=Uc(Owe),Mwe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rwe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pwe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fwe(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=Pwe[i])?!!e[i]:!1}function eZ(){return Fwe}var Bwe=so({},NP,{key:function(i){if(i.key){var e=Mwe[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=w6(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rwe[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eZ,charCode:function(i){return i.type==="keypress"?w6(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?w6(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wwe=Uc(Bwe),Vwe=so({},E9,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cte=Uc(Vwe),Hwe=so({},NP,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eZ}),$we=Uc(Hwe),zwe=so({},vE,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uwe=Uc(zwe),jwe=so({},E9,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Kwe=Uc(jwe),qwe=[9,13,27,32],tZ=bm&&"CompositionEvent"in window,lO=null;bm&&"documentMode"in document&&(lO=document.documentMode);var Gwe=bm&&"TextEvent"in window&&!lO,fce=bm&&(!tZ||lO&&8<lO&&11>=lO),dte=String.fromCharCode(32),hte=!1;function gce(i,e){switch(i){case"keyup":return qwe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pce(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qw=!1;function Ywe(i,e){switch(i){case"compositionend":return pce(e);case"keypress":return e.which!==32?null:(hte=!0,dte);case"textInput":return i=e.data,i===dte&&hte?null:i;default:return null}}function Zwe(i,e){if(qw)return i==="compositionend"||!tZ&&gce(i,e)?(i=hce(),y6=QY=A0=null,qw=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fce&&e.locale!=="ko"?null:e.data;default:return null}}var Xwe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fte(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!Xwe[i.type]:e==="textarea"}function mce(i,e,t,n){que(n),e=O8(e,"onChange"),0<e.length&&(t=new JY("onChange","change",null,t,n),i.push({event:t,listeners:e}))}var uO=null,XO=null;function Qwe(i){Dce(i,0)}function L9(i){var e=Zw(i);if(Vue(e))return i}function Jwe(i,e){if(i==="change")return e}var _ce=!1;if(bm){var MV;if(bm){var RV="oninput"in document;if(!RV){var gte=document.createElement("div");gte.setAttribute("oninput","return;"),RV=typeof gte.oninput=="function"}MV=RV}else MV=!1;_ce=MV&&(!document.documentMode||9<document.documentMode)}function pte(){uO&&(uO.detachEvent("onpropertychange",vce),XO=uO=null)}function vce(i){if(i.propertyName==="value"&&L9(XO)){var e=[];mce(e,XO,i,qY(i)),Xue(Qwe,e)}}function eSe(i,e,t){i==="focusin"?(pte(),uO=e,XO=t,uO.attachEvent("onpropertychange",vce)):i==="focusout"&&pte()}function tSe(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return L9(XO)}function nSe(i,e){if(i==="click")return L9(e)}function iSe(i,e){if(i==="input"||i==="change")return L9(e)}function rSe(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var Pf=typeof Object.is=="function"?Object.is:rSe;function QO(i,e){if(Pf(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var t=Object.keys(i),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var r=t[n];if(!Zz.call(e,r)||!Pf(i[r],e[r]))return!1}return!0}function mte(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _te(i,e){var t=mte(i);i=0;for(var n;t;){if(t.nodeType===3){if(n=i+t.textContent.length,i<=e&&n>=e)return{node:t,offset:e-i};i=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=mte(t)}}function bce(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?bce(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function Cce(){for(var i=window,e=L8();e instanceof i.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)i=e.contentWindow;else break;e=L8(i.document)}return e}function nZ(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function sSe(i){var e=Cce(),t=i.focusedElem,n=i.selectionRange;if(e!==t&&t&&t.ownerDocument&&bce(t.ownerDocument.documentElement,t)){if(n!==null&&nZ(t)){if(e=n.start,i=n.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var r=t.textContent.length,s=Math.min(n.start,r);n=n.end===void 0?s:Math.min(n.end,r),!i.extend&&s>n&&(r=n,n=s,s=r),r=_te(t,s);var o=_te(t,n);r&&o&&(i.rangeCount!==1||i.anchorNode!==r.node||i.anchorOffset!==r.offset||i.focusNode!==o.node||i.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),i.removeAllRanges(),s>n?(i.addRange(e),i.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var oSe=bm&&"documentMode"in document&&11>=document.documentMode,Gw=null,pU=null,cO=null,mU=!1;function vte(i,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;mU||Gw==null||Gw!==L8(n)||(n=Gw,"selectionStart"in n&&nZ(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cO&&QO(cO,n)||(cO=n,n=O8(pU,"onSelect"),0<n.length&&(e=new JY("onSelect","select",null,e,t),i.push({event:e,listeners:n}),e.target=Gw)))}function z3(i,e){var t={};return t[i.toLowerCase()]=e.toLowerCase(),t["Webkit"+i]="webkit"+e,t["Moz"+i]="moz"+e,t}var Yw={animationend:z3("Animation","AnimationEnd"),animationiteration:z3("Animation","AnimationIteration"),animationstart:z3("Animation","AnimationStart"),transitionend:z3("Transition","TransitionEnd")},PV={},yce={};bm&&(yce=document.createElement("div").style,"AnimationEvent"in window||(delete Yw.animationend.animation,delete Yw.animationiteration.animation,delete Yw.animationstart.animation),"TransitionEvent"in window||delete Yw.transitionend.transition);function D9(i){if(PV[i])return PV[i];if(!Yw[i])return i;var e=Yw[i],t;for(t in e)if(e.hasOwnProperty(t)&&t in yce)return PV[i]=e[t];return i}var wce=D9("animationend"),Sce=D9("animationiteration"),xce=D9("animationstart"),Ece=D9("transitionend"),Lce=new Map,bte="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function j1(i,e){Lce.set(i,e),Ry(e,[i])}for(var FV=0;FV<bte.length;FV++){var BV=bte[FV],aSe=BV.toLowerCase(),lSe=BV[0].toUpperCase()+BV.slice(1);j1(aSe,"on"+lSe)}j1(wce,"onAnimationEnd");j1(Sce,"onAnimationIteration");j1(xce,"onAnimationStart");j1("dblclick","onDoubleClick");j1("focusin","onFocus");j1("focusout","onBlur");j1(Ece,"onTransitionEnd");ax("onMouseEnter",["mouseout","mouseover"]);ax("onMouseLeave",["mouseout","mouseover"]);ax("onPointerEnter",["pointerout","pointerover"]);ax("onPointerLeave",["pointerout","pointerover"]);Ry("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ry("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ry("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ry("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ry("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ry("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var FA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uSe=new Set("cancel close invalid load scroll toggle".split(" ").concat(FA));function Cte(i,e,t){var n=i.type||"unknown-event";i.currentTarget=t,awe(n,e,void 0,i),i.currentTarget=null}function Dce(i,e){e=(e&4)!==0;for(var t=0;t<i.length;t++){var n=i[t],r=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&r.isPropagationStopped())break e;Cte(r,a,c),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&r.isPropagationStopped())break e;Cte(r,a,c),s=u}}}if(T8)throw i=dU,T8=!1,dU=null,i}function ks(i,e){var t=e[yU];t===void 0&&(t=e[yU]=new Set);var n=i+"__bubble";t.has(n)||(Tce(e,i,2,!1),t.add(n))}function WV(i,e,t){var n=0;e&&(n|=4),Tce(t,i,n,e)}var U3="_reactListening"+Math.random().toString(36).slice(2);function JO(i){if(!i[U3]){i[U3]=!0,Rue.forEach(function(t){t!=="selectionchange"&&(uSe.has(t)||WV(t,!1,i),WV(t,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[U3]||(e[U3]=!0,WV("selectionchange",!1,e))}}function Tce(i,e,t,n){switch(dce(e)){case 1:var r=Swe;break;case 4:r=xwe;break;default:r=XY}t=r.bind(null,e,t,i),r=void 0,!cU||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?i.addEventListener(e,t,{capture:!0,passive:r}):i.addEventListener(e,t,!0):r!==void 0?i.addEventListener(e,t,{passive:r}):i.addEventListener(e,t,!1)}function VV(i,e,t,n,r){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Hb(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Xue(function(){var c=s,h=qY(t),f=[];e:{var p=Lce.get(i);if(p!==void 0){var m=JY,v=i;switch(i){case"keypress":if(w6(t)===0)break e;case"keydown":case"keyup":m=Wwe;break;case"focusin":v="focus",m=OV;break;case"focusout":v="blur",m=OV;break;case"beforeblur":case"afterblur":m=OV;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lte;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Dwe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$we;break;case wce:case Sce:case xce:m=kwe;break;case Ece:m=Uwe;break;case"scroll":m=Ewe;break;case"wheel":m=Kwe;break;case"copy":case"cut":case"paste":m=Awe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cte}var b=(e&4)!==0,S=!b&&i==="scroll",x=b?p!==null?p+"Capture":null:p;b=[];for(var w=c,E;w!==null;){E=w;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,x!==null&&(N=qO(w,x),N!=null&&b.push(eM(w,N,E)))),S)break;w=w.return}0<b.length&&(p=new m(p,v,null,t,h),f.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=i==="mouseover"||i==="pointerover",m=i==="mouseout"||i==="pointerout",p&&t!==lU&&(v=t.relatedTarget||t.fromElement)&&(Hb(v)||v[Cm]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?Hb(v):null,v!==null&&(S=Py(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(b=lte,N="onMouseLeave",x="onMouseEnter",w="mouse",(i==="pointerout"||i==="pointerover")&&(b=cte,N="onPointerLeave",x="onPointerEnter",w="pointer"),S=m==null?p:Zw(m),E=v==null?p:Zw(v),p=new b(N,w+"leave",m,t,h),p.target=S,p.relatedTarget=E,N=null,Hb(h)===c&&(b=new b(x,w+"enter",v,t,h),b.target=E,b.relatedTarget=S,N=b),S=N,m&&v)t:{for(b=m,x=v,w=0,E=b;E;E=hw(E))w++;for(E=0,N=x;N;N=hw(N))E++;for(;0<w-E;)b=hw(b),w--;for(;0<E-w;)x=hw(x),E--;for(;w--;){if(b===x||x!==null&&b===x.alternate)break t;b=hw(b),x=hw(x)}b=null}else b=null;m!==null&&yte(f,p,m,b,!1),v!==null&&S!==null&&yte(f,S,v,b,!0)}}e:{if(p=c?Zw(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=Jwe;else if(fte(p))if(_ce)A=iSe;else{A=tSe;var H=eSe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=nSe);if(A&&(A=A(i,c))){mce(f,A,t,h);break e}H&&H(i,p,c),i==="focusout"&&(H=p._wrapperState)&&H.controlled&&p.type==="number"&&iU(p,"number",p.value)}switch(H=c?Zw(c):window,i){case"focusin":(fte(H)||H.contentEditable==="true")&&(Gw=H,pU=c,cO=null);break;case"focusout":cO=pU=Gw=null;break;case"mousedown":mU=!0;break;case"contextmenu":case"mouseup":case"dragend":mU=!1,vte(f,t,h);break;case"selectionchange":if(oSe)break;case"keydown":case"keyup":vte(f,t,h)}var R;if(tZ)e:{switch(i){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else qw?gce(i,t)&&(M="onCompositionEnd"):i==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(fce&&t.locale!=="ko"&&(qw||M!=="onCompositionStart"?M==="onCompositionEnd"&&qw&&(R=hce()):(A0=h,QY="value"in A0?A0.value:A0.textContent,qw=!0)),H=O8(c,M),0<H.length&&(M=new ute(M,i,null,t,h),f.push({event:M,listeners:H}),R?M.data=R:(R=pce(t),R!==null&&(M.data=R)))),(R=Gwe?Ywe(i,t):Zwe(i,t))&&(c=O8(c,"onBeforeInput"),0<c.length&&(h=new ute("onBeforeInput","beforeinput",null,t,h),f.push({event:h,listeners:c}),h.data=R))}Dce(f,e)})}function eM(i,e,t){return{instance:i,listener:e,currentTarget:t}}function O8(i,e){for(var t=e+"Capture",n=[];i!==null;){var r=i,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=qO(i,t),s!=null&&n.unshift(eM(i,s,r)),s=qO(i,e),s!=null&&n.push(eM(i,s,r))),i=i.return}return n}function hw(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function yte(i,e,t,n,r){for(var s=e._reactName,o=[];t!==null&&t!==n;){var a=t,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,r?(u=qO(t,s),u!=null&&o.unshift(eM(t,u,a))):r||(u=qO(t,s),u!=null&&o.push(eM(t,u,a)))),t=t.return}o.length!==0&&i.push({event:e,listeners:o})}var cSe=/\r\n?/g,dSe=/\u0000|\uFFFD/g;function wte(i){return(typeof i=="string"?i:""+i).replace(cSe,`
`).replace(dSe,"")}function j3(i,e,t){if(e=wte(e),wte(i)!==e&&t)throw Error(Lt(425))}function M8(){}var _U=null,vU=null;function bU(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var CU=typeof setTimeout=="function"?setTimeout:void 0,hSe=typeof clearTimeout=="function"?clearTimeout:void 0,Ste=typeof Promise=="function"?Promise:void 0,fSe=typeof queueMicrotask=="function"?queueMicrotask:typeof Ste<"u"?function(i){return Ste.resolve(null).then(i).catch(gSe)}:CU;function gSe(i){setTimeout(function(){throw i})}function HV(i,e){var t=e,n=0;do{var r=t.nextSibling;if(i.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(n===0){i.removeChild(r),ZO(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=r}while(t);ZO(e)}function Y0(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function xte(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return i;e--}else t==="/$"&&e++}i=i.previousSibling}return null}var bE=Math.random().toString(36).slice(2),vg="__reactFiber$"+bE,tM="__reactProps$"+bE,Cm="__reactContainer$"+bE,yU="__reactEvents$"+bE,pSe="__reactListeners$"+bE,mSe="__reactHandles$"+bE;function Hb(i){var e=i[vg];if(e)return e;for(var t=i.parentNode;t;){if(e=t[Cm]||t[vg]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(i=xte(i);i!==null;){if(t=i[vg])return t;i=xte(i)}return e}i=t,t=i.parentNode}return null}function AP(i){return i=i[vg]||i[Cm],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Zw(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(Lt(33))}function T9(i){return i[tM]||null}var wU=[],Xw=-1;function K1(i){return{current:i}}function Ps(i){0>Xw||(i.current=wU[Xw],wU[Xw]=null,Xw--)}function Es(i,e){Xw++,wU[Xw]=i.current,i.current=e}var b1={},bl=K1(b1),sc=K1(!1),OC=b1;function lx(i,e){var t=i.type.contextTypes;if(!t)return b1;var n=i.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=r),r}function oc(i){return i=i.childContextTypes,i!=null}function R8(){Ps(sc),Ps(bl)}function Ete(i,e,t){if(bl.current!==b1)throw Error(Lt(168));Es(bl,e),Es(sc,t)}function Ice(i,e,t){var n=i.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(Lt(108,ewe(i)||"Unknown",r));return so({},t,n)}function P8(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||b1,OC=bl.current,Es(bl,i),Es(sc,sc.current),!0}function Lte(i,e,t){var n=i.stateNode;if(!n)throw Error(Lt(169));t?(i=Ice(i,e,OC),n.__reactInternalMemoizedMergedChildContext=i,Ps(sc),Ps(bl),Es(bl,i)):Ps(sc),Es(sc,t)}var Bp=null,I9=!1,$V=!1;function kce(i){Bp===null?Bp=[i]:Bp.push(i)}function _Se(i){I9=!0,kce(i)}function q1(){if(!$V&&Bp!==null){$V=!0;var i=0,e=Qr;try{var t=Bp;for(Qr=1;i<t.length;i++){var n=t[i];do n=n(!0);while(n!==null)}Bp=null,I9=!1}catch(r){throw Bp!==null&&(Bp=Bp.slice(i+1)),tce(GY,q1),r}finally{Qr=e,$V=!1}}return null}var Qw=[],Jw=0,F8=null,B8=0,ud=[],cd=0,MC=null,Jp=1,em="";function vb(i,e){Qw[Jw++]=B8,Qw[Jw++]=F8,F8=i,B8=e}function Nce(i,e,t){ud[cd++]=Jp,ud[cd++]=em,ud[cd++]=MC,MC=i;var n=Jp;i=em;var r=32-Ef(n)-1;n&=~(1<<r),t+=1;var s=32-Ef(e)+r;if(30<s){var o=r-r%5;s=(n&(1<<o)-1).toString(32),n>>=o,r-=o,Jp=1<<32-Ef(e)+r|t<<r|n,em=s+i}else Jp=1<<s|t<<r|n,em=i}function iZ(i){i.return!==null&&(vb(i,1),Nce(i,1,0))}function rZ(i){for(;i===F8;)F8=Qw[--Jw],Qw[Jw]=null,B8=Qw[--Jw],Qw[Jw]=null;for(;i===MC;)MC=ud[--cd],ud[cd]=null,em=ud[--cd],ud[cd]=null,Jp=ud[--cd],ud[cd]=null}var Ic=null,Ec=null,Vs=!1,cf=null;function Ace(i,e){var t=bd(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=i,e=i.deletions,e===null?(i.deletions=[t],i.flags|=16):e.push(t)}function Dte(i,e){switch(i.tag){case 5:var t=i.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,Ic=i,Ec=Y0(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,Ic=i,Ec=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=MC!==null?{id:Jp,overflow:em}:null,i.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=bd(18,null,null,0),t.stateNode=e,t.return=i,i.child=t,Ic=i,Ec=null,!0):!1;default:return!1}}function SU(i){return(i.mode&1)!==0&&(i.flags&128)===0}function xU(i){if(Vs){var e=Ec;if(e){var t=e;if(!Dte(i,e)){if(SU(i))throw Error(Lt(418));e=Y0(t.nextSibling);var n=Ic;e&&Dte(i,e)?Ace(n,t):(i.flags=i.flags&-4097|2,Vs=!1,Ic=i)}}else{if(SU(i))throw Error(Lt(418));i.flags=i.flags&-4097|2,Vs=!1,Ic=i}}}function Tte(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ic=i}function K3(i){if(i!==Ic)return!1;if(!Vs)return Tte(i),Vs=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!bU(i.type,i.memoizedProps)),e&&(e=Ec)){if(SU(i))throw Oce(),Error(Lt(418));for(;e;)Ace(i,e),e=Y0(e.nextSibling)}if(Tte(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Lt(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="/$"){if(e===0){Ec=Y0(i.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}i=i.nextSibling}Ec=null}}else Ec=Ic?Y0(i.stateNode.nextSibling):null;return!0}function Oce(){for(var i=Ec;i;)i=Y0(i.nextSibling)}function ux(){Ec=Ic=null,Vs=!1}function sZ(i){cf===null?cf=[i]:cf.push(i)}var vSe=Mm.ReactCurrentBatchConfig;function uA(i,e,t){if(i=t.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Lt(309));var n=t.stateNode}if(!n)throw Error(Lt(147,i));var r=n,s=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof i!="string")throw Error(Lt(284));if(!t._owner)throw Error(Lt(290,i))}return i}function q3(i,e){throw i=Object.prototype.toString.call(e),Error(Lt(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function Ite(i){var e=i._init;return e(i._payload)}function Mce(i){function e(x,w){if(i){var E=x.deletions;E===null?(x.deletions=[w],x.flags|=16):E.push(w)}}function t(x,w){if(!i)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function r(x,w){return x=J0(x,w),x.index=0,x.sibling=null,x}function s(x,w,E){return x.index=E,i?(E=x.alternate,E!==null?(E=E.index,E<w?(x.flags|=2,w):E):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return i&&x.alternate===null&&(x.flags|=2),x}function a(x,w,E,N){return w===null||w.tag!==6?(w=YV(E,x.mode,N),w.return=x,w):(w=r(w,E),w.return=x,w)}function u(x,w,E,N){var A=E.type;return A===Kw?h(x,w,E.props.children,N,E.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===C0&&Ite(A)===w.type)?(N=r(w,E.props),N.ref=uA(x,w,E),N.return=x,N):(N=I6(E.type,E.key,E.props,null,x.mode,N),N.ref=uA(x,w,E),N.return=x,N)}function c(x,w,E,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=ZV(E,x.mode,N),w.return=x,w):(w=r(w,E.children||[]),w.return=x,w)}function h(x,w,E,N,A){return w===null||w.tag!==7?(w=iC(E,x.mode,N,A),w.return=x,w):(w=r(w,E),w.return=x,w)}function f(x,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=YV(""+w,x.mode,E),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case P3:return E=I6(w.type,w.key,w.props,null,x.mode,E),E.ref=uA(x,null,w),E.return=x,E;case jw:return w=ZV(w,x.mode,E),w.return=x,w;case C0:var N=w._init;return f(x,N(w._payload),E)}if(RA(w)||rA(w))return w=iC(w,x.mode,E,null),w.return=x,w;q3(x,w)}return null}function p(x,w,E,N){var A=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return A!==null?null:a(x,w,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case P3:return E.key===A?u(x,w,E,N):null;case jw:return E.key===A?c(x,w,E,N):null;case C0:return A=E._init,p(x,w,A(E._payload),N)}if(RA(E)||rA(E))return A!==null?null:h(x,w,E,N,null);q3(x,E)}return null}function m(x,w,E,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(E)||null,a(w,x,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P3:return x=x.get(N.key===null?E:N.key)||null,u(w,x,N,A);case jw:return x=x.get(N.key===null?E:N.key)||null,c(w,x,N,A);case C0:var H=N._init;return m(x,w,E,H(N._payload),A)}if(RA(N)||rA(N))return x=x.get(E)||null,h(w,x,N,A,null);q3(w,N)}return null}function v(x,w,E,N){for(var A=null,H=null,R=w,M=w=0,G=null;R!==null&&M<E.length;M++){R.index>M?(G=R,R=null):G=R.sibling;var X=p(x,R,E[M],N);if(X===null){R===null&&(R=G);break}i&&R&&X.alternate===null&&e(x,R),w=s(X,w,M),H===null?A=X:H.sibling=X,H=X,R=G}if(M===E.length)return t(x,R),Vs&&vb(x,M),A;if(R===null){for(;M<E.length;M++)R=f(x,E[M],N),R!==null&&(w=s(R,w,M),H===null?A=R:H.sibling=R,H=R);return Vs&&vb(x,M),A}for(R=n(x,R);M<E.length;M++)G=m(R,x,M,E[M],N),G!==null&&(i&&G.alternate!==null&&R.delete(G.key===null?M:G.key),w=s(G,w,M),H===null?A=G:H.sibling=G,H=G);return i&&R.forEach(function($){return e(x,$)}),Vs&&vb(x,M),A}function b(x,w,E,N){var A=rA(E);if(typeof A!="function")throw Error(Lt(150));if(E=A.call(E),E==null)throw Error(Lt(151));for(var H=A=null,R=w,M=w=0,G=null,X=E.next();R!==null&&!X.done;M++,X=E.next()){R.index>M?(G=R,R=null):G=R.sibling;var $=p(x,R,X.value,N);if($===null){R===null&&(R=G);break}i&&R&&$.alternate===null&&e(x,R),w=s($,w,M),H===null?A=$:H.sibling=$,H=$,R=G}if(X.done)return t(x,R),Vs&&vb(x,M),A;if(R===null){for(;!X.done;M++,X=E.next())X=f(x,X.value,N),X!==null&&(w=s(X,w,M),H===null?A=X:H.sibling=X,H=X);return Vs&&vb(x,M),A}for(R=n(x,R);!X.done;M++,X=E.next())X=m(R,x,M,X.value,N),X!==null&&(i&&X.alternate!==null&&R.delete(X.key===null?M:X.key),w=s(X,w,M),H===null?A=X:H.sibling=X,H=X);return i&&R.forEach(function(I){return e(x,I)}),Vs&&vb(x,M),A}function S(x,w,E,N){if(typeof E=="object"&&E!==null&&E.type===Kw&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case P3:e:{for(var A=E.key,H=w;H!==null;){if(H.key===A){if(A=E.type,A===Kw){if(H.tag===7){t(x,H.sibling),w=r(H,E.props.children),w.return=x,x=w;break e}}else if(H.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===C0&&Ite(A)===H.type){t(x,H.sibling),w=r(H,E.props),w.ref=uA(x,H,E),w.return=x,x=w;break e}t(x,H);break}else e(x,H);H=H.sibling}E.type===Kw?(w=iC(E.props.children,x.mode,N,E.key),w.return=x,x=w):(N=I6(E.type,E.key,E.props,null,x.mode,N),N.ref=uA(x,w,E),N.return=x,x=N)}return o(x);case jw:e:{for(H=E.key;w!==null;){if(w.key===H)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){t(x,w.sibling),w=r(w,E.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=ZV(E,x.mode,N),w.return=x,x=w}return o(x);case C0:return H=E._init,S(x,w,H(E._payload),N)}if(RA(E))return v(x,w,E,N);if(rA(E))return b(x,w,E,N);q3(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(t(x,w.sibling),w=r(w,E),w.return=x,x=w):(t(x,w),w=YV(E,x.mode,N),w.return=x,x=w),o(x)):t(x,w)}return S}var cx=Mce(!0),Rce=Mce(!1),W8=K1(null),V8=null,eS=null,oZ=null;function aZ(){oZ=eS=V8=null}function lZ(i){var e=W8.current;Ps(W8),i._currentValue=e}function EU(i,e,t){for(;i!==null;){var n=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),i===t)break;i=i.return}}function xS(i,e){V8=i,oZ=eS=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(tc=!0),i.firstContext=null)}function kd(i){var e=i._currentValue;if(oZ!==i)if(i={context:i,memoizedValue:e,next:null},eS===null){if(V8===null)throw Error(Lt(308));eS=i,V8.dependencies={lanes:0,firstContext:i}}else eS=eS.next=i;return e}var $b=null;function uZ(i){$b===null?$b=[i]:$b.push(i)}function Pce(i,e,t,n){var r=e.interleaved;return r===null?(t.next=t,uZ(e)):(t.next=r.next,r.next=t),e.interleaved=t,ym(i,n)}function ym(i,e){i.lanes|=e;var t=i.alternate;for(t!==null&&(t.lanes|=e),t=i,i=i.return;i!==null;)i.childLanes|=e,t=i.alternate,t!==null&&(t.childLanes|=e),t=i,i=i.return;return t.tag===3?t.stateNode:null}var y0=!1;function cZ(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fce(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function om(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function Z0(i,e,t){var n=i.updateQueue;if(n===null)return null;if(n=n.shared,wr&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,ym(i,t)}return r=n.interleaved,r===null?(e.next=e,uZ(n)):(e.next=r.next,r.next=e),n.interleaved=e,ym(i,t)}function S6(i,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,YY(i,t)}}function kte(i,e){var t=i.updateQueue,n=i.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},i.updateQueue=t;return}i=t.lastBaseUpdate,i===null?t.firstBaseUpdate=e:i.next=e,t.lastBaseUpdate=e}function H8(i,e,t,n){var r=i.updateQueue;y0=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=i.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=r.baseState;o=0,h=c=u=null,a=s;do{var p=a.lane,m=a.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=i,b=a;switch(p=e,m=t,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=so({},f,p);break e;case 2:y0=!0}}a.callback!==null&&a.lane!==0&&(i.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,u=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(h===null&&(u=f),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);PC|=o,i.lanes=o,i.memoizedState=f}}function Nte(i,e,t){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var n=i[e],r=n.callback;if(r!==null){if(n.callback=null,n=t,typeof r!="function")throw Error(Lt(191,r));r.call(n)}}}var OP={},Fg=K1(OP),nM=K1(OP),iM=K1(OP);function zb(i){if(i===OP)throw Error(Lt(174));return i}function dZ(i,e){switch(Es(iM,e),Es(nM,i),Es(Fg,OP),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sU(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=sU(e,i)}Ps(Fg),Es(Fg,e)}function dx(){Ps(Fg),Ps(nM),Ps(iM)}function Bce(i){zb(iM.current);var e=zb(Fg.current),t=sU(e,i.type);e!==t&&(Es(nM,i),Es(Fg,t))}function hZ(i){nM.current===i&&(Ps(Fg),Ps(nM))}var to=K1(0);function $8(i){for(var e=i;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zV=[];function fZ(){for(var i=0;i<zV.length;i++)zV[i]._workInProgressVersionPrimary=null;zV.length=0}var x6=Mm.ReactCurrentDispatcher,UV=Mm.ReactCurrentBatchConfig,RC=0,io=null,la=null,_a=null,z8=!1,dO=!1,rM=0,bSe=0;function sl(){throw Error(Lt(321))}function gZ(i,e){if(e===null)return!1;for(var t=0;t<e.length&&t<i.length;t++)if(!Pf(i[t],e[t]))return!1;return!0}function pZ(i,e,t,n,r,s){if(RC=s,io=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,x6.current=i===null||i.memoizedState===null?SSe:xSe,i=t(n,r),dO){s=0;do{if(dO=!1,rM=0,25<=s)throw Error(Lt(301));s+=1,_a=la=null,e.updateQueue=null,x6.current=ESe,i=t(n,r)}while(dO)}if(x6.current=U8,e=la!==null&&la.next!==null,RC=0,_a=la=io=null,z8=!1,e)throw Error(Lt(300));return i}function mZ(){var i=rM!==0;return rM=0,i}function sg(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _a===null?io.memoizedState=_a=i:_a=_a.next=i,_a}function Nd(){if(la===null){var i=io.alternate;i=i!==null?i.memoizedState:null}else i=la.next;var e=_a===null?io.memoizedState:_a.next;if(e!==null)_a=e,la=i;else{if(i===null)throw Error(Lt(310));la=i,i={memoizedState:la.memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},_a===null?io.memoizedState=_a=i:_a=_a.next=i}return _a}function sM(i,e){return typeof e=="function"?e(i):e}function jV(i){var e=Nd(),t=e.queue;if(t===null)throw Error(Lt(311));t.lastRenderedReducer=i;var n=la,r=n.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}n.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,n=n.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((RC&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:i(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=n):u=u.next=f,io.lanes|=h,PC|=h}c=c.next}while(c!==null&&c!==s);u===null?o=n:u.next=a,Pf(n,e.memoizedState)||(tc=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,t.lastRenderedState=n}if(i=t.interleaved,i!==null){r=i;do s=r.lane,io.lanes|=s,PC|=s,r=r.next;while(r!==i)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function KV(i){var e=Nd(),t=e.queue;if(t===null)throw Error(Lt(311));t.lastRenderedReducer=i;var n=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=i(s,o.action),o=o.next;while(o!==r);Pf(s,e.memoizedState)||(tc=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function Wce(){}function Vce(i,e){var t=io,n=Nd(),r=e(),s=!Pf(n.memoizedState,r);if(s&&(n.memoizedState=r,tc=!0),n=n.queue,_Z(zce.bind(null,t,n,i),[i]),n.getSnapshot!==e||s||_a!==null&&_a.memoizedState.tag&1){if(t.flags|=2048,oM(9,$ce.bind(null,t,n,r,e),void 0,null),xa===null)throw Error(Lt(349));RC&30||Hce(t,e,r)}return r}function Hce(i,e,t){i.flags|=16384,i={getSnapshot:e,value:t},e=io.updateQueue,e===null?(e={lastEffect:null,stores:null},io.updateQueue=e,e.stores=[i]):(t=e.stores,t===null?e.stores=[i]:t.push(i))}function $ce(i,e,t,n){e.value=t,e.getSnapshot=n,Uce(e)&&jce(i)}function zce(i,e,t){return t(function(){Uce(e)&&jce(i)})}function Uce(i){var e=i.getSnapshot;i=i.value;try{var t=e();return!Pf(i,t)}catch{return!0}}function jce(i){var e=ym(i,1);e!==null&&Lf(e,i,1,-1)}function Ate(i){var e=sg();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sM,lastRenderedState:i},e.queue=i,i=i.dispatch=wSe.bind(null,io,i),[e.memoizedState,i]}function oM(i,e,t,n){return i={tag:i,create:e,destroy:t,deps:n,next:null},e=io.updateQueue,e===null?(e={lastEffect:null,stores:null},io.updateQueue=e,e.lastEffect=i.next=i):(t=e.lastEffect,t===null?e.lastEffect=i.next=i:(n=t.next,t.next=i,i.next=n,e.lastEffect=i)),i}function Kce(){return Nd().memoizedState}function E6(i,e,t,n){var r=sg();io.flags|=i,r.memoizedState=oM(1|e,t,void 0,n===void 0?null:n)}function k9(i,e,t,n){var r=Nd();n=n===void 0?null:n;var s=void 0;if(la!==null){var o=la.memoizedState;if(s=o.destroy,n!==null&&gZ(n,o.deps)){r.memoizedState=oM(e,t,s,n);return}}io.flags|=i,r.memoizedState=oM(1|e,t,s,n)}function Ote(i,e){return E6(8390656,8,i,e)}function _Z(i,e){return k9(2048,8,i,e)}function qce(i,e){return k9(4,2,i,e)}function Gce(i,e){return k9(4,4,i,e)}function Yce(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function Zce(i,e,t){return t=t!=null?t.concat([i]):null,k9(4,4,Yce.bind(null,e,i),t)}function vZ(){}function Xce(i,e){var t=Nd();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&gZ(e,n[1])?n[0]:(t.memoizedState=[i,e],i)}function Qce(i,e){var t=Nd();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&gZ(e,n[1])?n[0]:(i=i(),t.memoizedState=[i,e],i)}function Jce(i,e,t){return RC&21?(Pf(t,e)||(t=rce(),io.lanes|=t,PC|=t,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,tc=!0),i.memoizedState=t)}function CSe(i,e){var t=Qr;Qr=t!==0&&4>t?t:4,i(!0);var n=UV.transition;UV.transition={};try{i(!1),e()}finally{Qr=t,UV.transition=n}}function ede(){return Nd().memoizedState}function ySe(i,e,t){var n=Q0(i);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},tde(i))nde(e,t);else if(t=Pce(i,e,t,n),t!==null){var r=$l();Lf(t,i,n,r),ide(t,e,n)}}function wSe(i,e,t){var n=Q0(i),r={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(tde(i))nde(e,r);else{var s=i.alternate;if(i.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Pf(a,o)){var u=e.interleaved;u===null?(r.next=r,uZ(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}t=Pce(i,e,r,n),t!==null&&(r=$l(),Lf(t,i,n,r),ide(t,e,n))}}function tde(i){var e=i.alternate;return i===io||e!==null&&e===io}function nde(i,e){dO=z8=!0;var t=i.pending;t===null?e.next=e:(e.next=t.next,t.next=e),i.pending=e}function ide(i,e,t){if(t&4194240){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,YY(i,t)}}var U8={readContext:kd,useCallback:sl,useContext:sl,useEffect:sl,useImperativeHandle:sl,useInsertionEffect:sl,useLayoutEffect:sl,useMemo:sl,useReducer:sl,useRef:sl,useState:sl,useDebugValue:sl,useDeferredValue:sl,useTransition:sl,useMutableSource:sl,useSyncExternalStore:sl,useId:sl,unstable_isNewReconciler:!1},SSe={readContext:kd,useCallback:function(i,e){return sg().memoizedState=[i,e===void 0?null:e],i},useContext:kd,useEffect:Ote,useImperativeHandle:function(i,e,t){return t=t!=null?t.concat([i]):null,E6(4194308,4,Yce.bind(null,e,i),t)},useLayoutEffect:function(i,e){return E6(4194308,4,i,e)},useInsertionEffect:function(i,e){return E6(4,2,i,e)},useMemo:function(i,e){var t=sg();return e=e===void 0?null:e,i=i(),t.memoizedState=[i,e],i},useReducer:function(i,e,t){var n=sg();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},n.queue=i,i=i.dispatch=ySe.bind(null,io,i),[n.memoizedState,i]},useRef:function(i){var e=sg();return i={current:i},e.memoizedState=i},useState:Ate,useDebugValue:vZ,useDeferredValue:function(i){return sg().memoizedState=i},useTransition:function(){var i=Ate(!1),e=i[0];return i=CSe.bind(null,i[1]),sg().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,t){var n=io,r=sg();if(Vs){if(t===void 0)throw Error(Lt(407));t=t()}else{if(t=e(),xa===null)throw Error(Lt(349));RC&30||Hce(n,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Ote(zce.bind(null,n,s,i),[i]),n.flags|=2048,oM(9,$ce.bind(null,n,s,t,e),void 0,null),t},useId:function(){var i=sg(),e=xa.identifierPrefix;if(Vs){var t=em,n=Jp;t=(n&~(1<<32-Ef(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=rM++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=bSe++,e=":"+e+"r"+t.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},xSe={readContext:kd,useCallback:Xce,useContext:kd,useEffect:_Z,useImperativeHandle:Zce,useInsertionEffect:qce,useLayoutEffect:Gce,useMemo:Qce,useReducer:jV,useRef:Kce,useState:function(){return jV(sM)},useDebugValue:vZ,useDeferredValue:function(i){var e=Nd();return Jce(e,la.memoizedState,i)},useTransition:function(){var i=jV(sM)[0],e=Nd().memoizedState;return[i,e]},useMutableSource:Wce,useSyncExternalStore:Vce,useId:ede,unstable_isNewReconciler:!1},ESe={readContext:kd,useCallback:Xce,useContext:kd,useEffect:_Z,useImperativeHandle:Zce,useInsertionEffect:qce,useLayoutEffect:Gce,useMemo:Qce,useReducer:KV,useRef:Kce,useState:function(){return KV(sM)},useDebugValue:vZ,useDeferredValue:function(i){var e=Nd();return la===null?e.memoizedState=i:Jce(e,la.memoizedState,i)},useTransition:function(){var i=KV(sM)[0],e=Nd().memoizedState;return[i,e]},useMutableSource:Wce,useSyncExternalStore:Vce,useId:ede,unstable_isNewReconciler:!1};function Zh(i,e){if(i&&i.defaultProps){e=so({},e),i=i.defaultProps;for(var t in i)e[t]===void 0&&(e[t]=i[t]);return e}return e}function LU(i,e,t,n){e=i.memoizedState,t=t(n,e),t=t==null?e:so({},e,t),i.memoizedState=t,i.lanes===0&&(i.updateQueue.baseState=t)}var N9={isMounted:function(i){return(i=i._reactInternals)?Py(i)===i:!1},enqueueSetState:function(i,e,t){i=i._reactInternals;var n=$l(),r=Q0(i),s=om(n,r);s.payload=e,t!=null&&(s.callback=t),e=Z0(i,s,r),e!==null&&(Lf(e,i,r,n),S6(e,i,r))},enqueueReplaceState:function(i,e,t){i=i._reactInternals;var n=$l(),r=Q0(i),s=om(n,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Z0(i,s,r),e!==null&&(Lf(e,i,r,n),S6(e,i,r))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var t=$l(),n=Q0(i),r=om(t,n);r.tag=2,e!=null&&(r.callback=e),e=Z0(i,r,n),e!==null&&(Lf(e,i,n,t),S6(e,i,n))}};function Mte(i,e,t,n,r,s,o){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!QO(t,n)||!QO(r,s):!0}function rde(i,e,t){var n=!1,r=b1,s=e.contextType;return typeof s=="object"&&s!==null?s=kd(s):(r=oc(e)?OC:bl.current,n=e.contextTypes,s=(n=n!=null)?lx(i,r):b1),e=new e(t,s),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=N9,i.stateNode=e,e._reactInternals=i,n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=r,i.__reactInternalMemoizedMaskedChildContext=s),e}function Rte(i,e,t,n){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==i&&N9.enqueueReplaceState(e,e.state,null)}function DU(i,e,t,n){var r=i.stateNode;r.props=t,r.state=i.memoizedState,r.refs={},cZ(i);var s=e.contextType;typeof s=="object"&&s!==null?r.context=kd(s):(s=oc(e)?OC:bl.current,r.context=lx(i,s)),r.state=i.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(LU(i,e,s,t),r.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&N9.enqueueReplaceState(r,r.state,null),H8(i,t,r,n),r.state=i.memoizedState),typeof r.componentDidMount=="function"&&(i.flags|=4194308)}function hx(i,e){try{var t="",n=e;do t+=Jye(n),n=n.return;while(n);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:i,source:e,stack:r,digest:null}}function qV(i,e,t){return{value:i,source:null,stack:t??null,digest:e??null}}function TU(i,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var LSe=typeof WeakMap=="function"?WeakMap:Map;function sde(i,e,t){t=om(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){K8||(K8=!0,BU=n),TU(i,e)},t}function ode(i,e,t){t=om(-1,t),t.tag=3;var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;t.payload=function(){return n(r)},t.callback=function(){TU(i,e)}}var s=i.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){TU(i,e),typeof n!="function"&&(X0===null?X0=new Set([this]):X0.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Pte(i,e,t){var n=i.pingCache;if(n===null){n=i.pingCache=new LSe;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(t)||(r.add(t),i=VSe.bind(null,i,e,t),e.then(i,i))}function Fte(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function Bte(i,e,t,n,r){return i.mode&1?(i.flags|=65536,i.lanes=r,i):(i===e?i.flags|=65536:(i.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=om(-1,1),e.tag=2,Z0(t,e,1))),t.lanes|=1),i)}var DSe=Mm.ReactCurrentOwner,tc=!1;function Ml(i,e,t,n){e.child=i===null?Rce(e,null,t,n):cx(e,i.child,t,n)}function Wte(i,e,t,n,r){t=t.render;var s=e.ref;return xS(e,r),n=pZ(i,e,t,n,s,r),t=mZ(),i!==null&&!tc?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,wm(i,e,r)):(Vs&&t&&iZ(e),e.flags|=1,Ml(i,e,n,r),e.child)}function Vte(i,e,t,n,r){if(i===null){var s=t.type;return typeof s=="function"&&!LZ(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,ade(i,e,s,n,r)):(i=I6(t.type,null,n,e,e.mode,r),i.ref=e.ref,i.return=e,e.child=i)}if(s=i.child,!(i.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:QO,t(o,n)&&i.ref===e.ref)return wm(i,e,r)}return e.flags|=1,i=J0(s,n),i.ref=e.ref,i.return=e,e.child=i}function ade(i,e,t,n,r){if(i!==null){var s=i.memoizedProps;if(QO(s,n)&&i.ref===e.ref)if(tc=!1,e.pendingProps=n=s,(i.lanes&r)!==0)i.flags&131072&&(tc=!0);else return e.lanes=i.lanes,wm(i,e,r)}return IU(i,e,t,n,r)}function lde(i,e,t){var n=e.pendingProps,r=n.children,s=i!==null?i.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Es(nS,bc),bc|=t;else{if(!(t&1073741824))return i=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,Es(nS,bc),bc|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,Es(nS,bc),bc|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,Es(nS,bc),bc|=n;return Ml(i,e,r,t),e.child}function ude(i,e){var t=e.ref;(i===null&&t!==null||i!==null&&i.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function IU(i,e,t,n,r){var s=oc(t)?OC:bl.current;return s=lx(e,s),xS(e,r),t=pZ(i,e,t,n,s,r),n=mZ(),i!==null&&!tc?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,wm(i,e,r)):(Vs&&n&&iZ(e),e.flags|=1,Ml(i,e,t,r),e.child)}function Hte(i,e,t,n,r){if(oc(t)){var s=!0;P8(e)}else s=!1;if(xS(e,r),e.stateNode===null)L6(i,e),rde(e,t,n),DU(e,t,n,r),n=!0;else if(i===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=kd(c):(c=oc(t)?OC:bl.current,c=lx(e,c));var h=t.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&Rte(e,o,n,c),y0=!1;var p=e.memoizedState;o.state=p,H8(e,n,o,r),u=e.memoizedState,a!==n||p!==u||sc.current||y0?(typeof h=="function"&&(LU(e,t,h,n),u=e.memoizedState),(a=y0||Mte(e,t,a,n,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Fce(i,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zh(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=kd(u):(u=oc(t)?OC:bl.current,u=lx(e,u));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&Rte(e,o,n,u),y0=!1,p=e.memoizedState,o.state=p,H8(e,n,o,r);var v=e.memoizedState;a!==f||p!==v||sc.current||y0?(typeof m=="function"&&(LU(e,t,m,n),v=e.memoizedState),(c=y0||Mte(e,t,c,n,p,v,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===i.memoizedProps&&p===i.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===i.memoizedProps&&p===i.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===i.memoizedProps&&p===i.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===i.memoizedProps&&p===i.memoizedState||(e.flags|=1024),n=!1)}return kU(i,e,t,n,s,r)}function kU(i,e,t,n,r,s){ude(i,e);var o=(e.flags&128)!==0;if(!n&&!o)return r&&Lte(e,t,!1),wm(i,e,s);n=e.stateNode,DSe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,i!==null&&o?(e.child=cx(e,i.child,null,s),e.child=cx(e,null,a,s)):Ml(i,e,a,s),e.memoizedState=n.state,r&&Lte(e,t,!0),e.child}function cde(i){var e=i.stateNode;e.pendingContext?Ete(i,e.pendingContext,e.pendingContext!==e.context):e.context&&Ete(i,e.context,!1),dZ(i,e.containerInfo)}function $te(i,e,t,n,r){return ux(),sZ(r),e.flags|=256,Ml(i,e,t,n),e.child}var NU={dehydrated:null,treeContext:null,retryLane:0};function AU(i){return{baseLanes:i,cachePool:null,transitions:null}}function dde(i,e,t){var n=e.pendingProps,r=to.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=i!==null&&i.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(r|=1),Es(to,r&1),i===null)return xU(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,i=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=M9(o,n,0,null),i=iC(i,n,t,null),s.return=e,i.return=e,s.sibling=i,e.child=s,e.child.memoizedState=AU(t),e.memoizedState=NU,i):bZ(e,o));if(r=i.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return TSe(i,e,o,n,a,r,t);if(s){s=n.fallback,o=e.mode,r=i.child,a=r.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=J0(r,u),n.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=J0(a,s):(s=iC(s,o,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=i.child.memoizedState,o=o===null?AU(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=i.childLanes&~t,e.memoizedState=NU,n}return s=i.child,i=s.sibling,n=J0(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,i!==null&&(t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)),e.child=n,e.memoizedState=null,n}function bZ(i,e){return e=M9({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function G3(i,e,t,n){return n!==null&&sZ(n),cx(e,i.child,null,t),i=bZ(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function TSe(i,e,t,n,r,s,o){if(t)return e.flags&256?(e.flags&=-257,n=qV(Error(Lt(422))),G3(i,e,o,n)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(s=n.fallback,r=e.mode,n=M9({mode:"visible",children:n.children},r,0,null),s=iC(s,r,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&cx(e,i.child,null,o),e.child.memoizedState=AU(o),e.memoizedState=NU,s);if(!(e.mode&1))return G3(i,e,o,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Lt(419)),n=qV(s,n,void 0),G3(i,e,o,n)}if(a=(o&i.childLanes)!==0,tc||a){if(n=xa,n!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ym(i,r),Lf(n,i,r,-1))}return EZ(),n=qV(Error(Lt(421))),G3(i,e,o,n)}return r.data==="$?"?(e.flags|=128,e.child=i.child,e=HSe.bind(null,i),r._reactRetry=e,null):(i=s.treeContext,Ec=Y0(r.nextSibling),Ic=e,Vs=!0,cf=null,i!==null&&(ud[cd++]=Jp,ud[cd++]=em,ud[cd++]=MC,Jp=i.id,em=i.overflow,MC=e),e=bZ(e,n.children),e.flags|=4096,e)}function zte(i,e,t){i.lanes|=e;var n=i.alternate;n!==null&&(n.lanes|=e),EU(i.return,e,t)}function GV(i,e,t,n,r){var s=i.memoizedState;s===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=r)}function hde(i,e,t){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Ml(i,e,n.children,t),n=to.current,n&2)n=n&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&zte(i,t,e);else if(i.tag===19)zte(i,t,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}n&=1}if(Es(to,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)i=t.alternate,i!==null&&$8(i)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),GV(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(i=r.alternate,i!==null&&$8(i)===null){e.child=r;break}i=r.sibling,r.sibling=t,t=r,r=i}GV(e,!0,t,null,s);break;case"together":GV(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function L6(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function wm(i,e,t){if(i!==null&&(e.dependencies=i.dependencies),PC|=e.lanes,!(t&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(Lt(153));if(e.child!==null){for(i=e.child,t=J0(i,i.pendingProps),e.child=t,t.return=e;i.sibling!==null;)i=i.sibling,t=t.sibling=J0(i,i.pendingProps),t.return=e;t.sibling=null}return e.child}function ISe(i,e,t){switch(e.tag){case 3:cde(e),ux();break;case 5:Bce(e);break;case 1:oc(e.type)&&P8(e);break;case 4:dZ(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;Es(W8,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Es(to,to.current&1),e.flags|=128,null):t&e.child.childLanes?dde(i,e,t):(Es(to,to.current&1),i=wm(i,e,t),i!==null?i.sibling:null);Es(to,to.current&1);break;case 19:if(n=(t&e.childLanes)!==0,i.flags&128){if(n)return hde(i,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Es(to,to.current),n)break;return null;case 22:case 23:return e.lanes=0,lde(i,e,t)}return wm(i,e,t)}var fde,OU,gde,pde;fde=function(i,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)i.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};OU=function(){};gde=function(i,e,t,n){var r=i.memoizedProps;if(r!==n){i=e.stateNode,zb(Fg.current);var s=null;switch(t){case"input":r=tU(i,r),n=tU(i,n),s=[];break;case"select":r=so({},r,{value:void 0}),n=so({},n,{value:void 0}),s=[];break;case"textarea":r=rU(i,r),n=rU(i,n),s=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(i.onclick=M8)}oU(t,n);var o;t=null;for(c in r)if(!n.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jO.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(a=r!=null?r[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(c,t)),t=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jO.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ks("scroll",i),s||a===u||(s=[])):(s=s||[]).push(c,u))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};pde=function(i,e,t,n){t!==n&&(e.flags|=4)};function cA(i,e){if(!Vs)switch(i.tailMode){case"hidden":e=i.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?i.tail=null:t.sibling=null;break;case"collapsed":t=i.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:n.sibling=null}}function ol(i){var e=i.alternate!==null&&i.alternate.child===i.child,t=0,n=0;if(e)for(var r=i.child;r!==null;)t|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=i,r=r.sibling;else for(r=i.child;r!==null;)t|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=i,r=r.sibling;return i.subtreeFlags|=n,i.childLanes=t,e}function kSe(i,e,t){var n=e.pendingProps;switch(rZ(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ol(e),null;case 1:return oc(e.type)&&R8(),ol(e),null;case 3:return n=e.stateNode,dx(),Ps(sc),Ps(bl),fZ(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(i===null||i.child===null)&&(K3(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cf!==null&&(HU(cf),cf=null))),OU(i,e),ol(e),null;case 5:hZ(e);var r=zb(iM.current);if(t=e.type,i!==null&&e.stateNode!=null)gde(i,e,t,n,r),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Lt(166));return ol(e),null}if(i=zb(Fg.current),K3(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[vg]=e,n[tM]=s,i=(e.mode&1)!==0,t){case"dialog":ks("cancel",n),ks("close",n);break;case"iframe":case"object":case"embed":ks("load",n);break;case"video":case"audio":for(r=0;r<FA.length;r++)ks(FA[r],n);break;case"source":ks("error",n);break;case"img":case"image":case"link":ks("error",n),ks("load",n);break;case"details":ks("toggle",n);break;case"input":Qee(n,s),ks("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ks("invalid",n);break;case"textarea":ete(n,s),ks("invalid",n)}oU(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&j3(n.textContent,a,i),r=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&j3(n.textContent,a,i),r=["children",""+a]):jO.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ks("scroll",n)}switch(t){case"input":F3(n),Jee(n,s,!0);break;case"textarea":F3(n),tte(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=M8)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=zue(t)),i==="http://www.w3.org/1999/xhtml"?t==="script"?(i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof n.is=="string"?i=o.createElement(t,{is:n.is}):(i=o.createElement(t),t==="select"&&(o=i,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):i=o.createElementNS(i,t),i[vg]=e,i[tM]=n,fde(i,e,!1,!1),e.stateNode=i;e:{switch(o=aU(t,n),t){case"dialog":ks("cancel",i),ks("close",i),r=n;break;case"iframe":case"object":case"embed":ks("load",i),r=n;break;case"video":case"audio":for(r=0;r<FA.length;r++)ks(FA[r],i);r=n;break;case"source":ks("error",i),r=n;break;case"img":case"image":case"link":ks("error",i),ks("load",i),r=n;break;case"details":ks("toggle",i),r=n;break;case"input":Qee(i,n),r=tU(i,n),ks("invalid",i);break;case"option":r=n;break;case"select":i._wrapperState={wasMultiple:!!n.multiple},r=so({},n,{value:void 0}),ks("invalid",i);break;case"textarea":ete(i,n),r=rU(i,n),ks("invalid",i);break;default:r=n}oU(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Kue(i,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Uue(i,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&KO(i,u):typeof u=="number"&&KO(i,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jO.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ks("scroll",i):u!=null&&zY(i,s,u,o))}switch(t){case"input":F3(i),Jee(i,n,!1);break;case"textarea":F3(i),tte(i);break;case"option":n.value!=null&&i.setAttribute("value",""+v1(n.value));break;case"select":i.multiple=!!n.multiple,s=n.value,s!=null?CS(i,!!n.multiple,s,!1):n.defaultValue!=null&&CS(i,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(i.onclick=M8)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ol(e),null;case 6:if(i&&e.stateNode!=null)pde(i,e,i.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Lt(166));if(t=zb(iM.current),zb(Fg.current),K3(e)){if(n=e.stateNode,t=e.memoizedProps,n[vg]=e,(s=n.nodeValue!==t)&&(i=Ic,i!==null))switch(i.tag){case 3:j3(n.nodeValue,t,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&j3(n.nodeValue,t,(i.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[vg]=e,e.stateNode=n}return ol(e),null;case 13:if(Ps(to),n=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Vs&&Ec!==null&&e.mode&1&&!(e.flags&128))Oce(),ux(),e.flags|=98560,s=!1;else if(s=K3(e),n!==null&&n.dehydrated!==null){if(i===null){if(!s)throw Error(Lt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Lt(317));s[vg]=e}else ux(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ol(e),s=!1}else cf!==null&&(HU(cf),cf=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(i!==null&&i.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(i===null||to.current&1?ua===0&&(ua=3):EZ())),e.updateQueue!==null&&(e.flags|=4),ol(e),null);case 4:return dx(),OU(i,e),i===null&&JO(e.stateNode.containerInfo),ol(e),null;case 10:return lZ(e.type._context),ol(e),null;case 17:return oc(e.type)&&R8(),ol(e),null;case 19:if(Ps(to),s=e.memoizedState,s===null)return ol(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)cA(s,!1);else{if(ua!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(o=$8(i),o!==null){for(e.flags|=128,cA(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,i=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t=t.sibling;return Es(to,to.current&1|2),e.child}i=i.sibling}s.tail!==null&&xo()>fx&&(e.flags|=128,n=!0,cA(s,!1),e.lanes=4194304)}else{if(!n)if(i=$8(o),i!==null){if(e.flags|=128,n=!0,t=i.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),cA(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Vs)return ol(e),null}else 2*xo()-s.renderingStartTime>fx&&t!==1073741824&&(e.flags|=128,n=!0,cA(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xo(),e.sibling=null,t=to.current,Es(to,n?t&1|2:t&1),e):(ol(e),null);case 22:case 23:return xZ(),n=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?bc&1073741824&&(ol(e),e.subtreeFlags&6&&(e.flags|=8192)):ol(e),null;case 24:return null;case 25:return null}throw Error(Lt(156,e.tag))}function NSe(i,e){switch(rZ(e),e.tag){case 1:return oc(e.type)&&R8(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return dx(),Ps(sc),Ps(bl),fZ(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return hZ(e),null;case 13:if(Ps(to),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(Lt(340));ux()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return Ps(to),null;case 4:return dx(),null;case 10:return lZ(e.type._context),null;case 22:case 23:return xZ(),null;case 24:return null;default:return null}}var Y3=!1,fl=!1,ASe=typeof WeakSet=="function"?WeakSet:Set,fn=null;function tS(i,e){var t=i.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){po(i,e,n)}else t.current=null}function MU(i,e,t){try{t()}catch(n){po(i,e,n)}}var Ute=!1;function OSe(i,e){if(_U=N8,i=Cce(),nZ(i)){if("selectionStart"in i)var t={start:i.selectionStart,end:i.selectionEnd};else e:{t=(t=i.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=i,p=null;t:for(;;){for(var m;f!==t||r!==0&&f.nodeType!==3||(a=o+r),f!==s||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===i)break t;if(p===t&&++c===r&&(a=o),p===s&&++h===n&&(u=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||u===-1?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(vU={focusedElem:i,selectionRange:t},N8=!1,fn=e;fn!==null;)if(e=fn,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,fn=i;else for(;fn!==null;){e=fn;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,S=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:Zh(e.type,b),S);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Lt(163))}}catch(N){po(e,e.return,N)}if(i=e.sibling,i!==null){i.return=e.return,fn=i;break}fn=e.return}return v=Ute,Ute=!1,v}function hO(i,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&i)===i){var s=r.destroy;r.destroy=void 0,s!==void 0&&MU(e,t,s)}r=r.next}while(r!==n)}}function A9(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&i)===i){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function RU(i){var e=i.ref;if(e!==null){var t=i.stateNode;switch(i.tag){case 5:i=t;break;default:i=t}typeof e=="function"?e(i):e.current=i}}function mde(i){var e=i.alternate;e!==null&&(i.alternate=null,mde(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[vg],delete e[tM],delete e[yU],delete e[pSe],delete e[mSe])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function _de(i){return i.tag===5||i.tag===3||i.tag===4}function jte(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_de(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function PU(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(i,e):t.insertBefore(i,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(i,t)):(e=t,e.appendChild(i)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=M8));else if(n!==4&&(i=i.child,i!==null))for(PU(i,e,t),i=i.sibling;i!==null;)PU(i,e,t),i=i.sibling}function FU(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.insertBefore(i,e):t.appendChild(i);else if(n!==4&&(i=i.child,i!==null))for(FU(i,e,t),i=i.sibling;i!==null;)FU(i,e,t),i=i.sibling}var Ua=null,tf=!1;function a0(i,e,t){for(t=t.child;t!==null;)vde(i,e,t),t=t.sibling}function vde(i,e,t){if(Pg&&typeof Pg.onCommitFiberUnmount=="function")try{Pg.onCommitFiberUnmount(x9,t)}catch{}switch(t.tag){case 5:fl||tS(t,e);case 6:var n=Ua,r=tf;Ua=null,a0(i,e,t),Ua=n,tf=r,Ua!==null&&(tf?(i=Ua,t=t.stateNode,i.nodeType===8?i.parentNode.removeChild(t):i.removeChild(t)):Ua.removeChild(t.stateNode));break;case 18:Ua!==null&&(tf?(i=Ua,t=t.stateNode,i.nodeType===8?HV(i.parentNode,t):i.nodeType===1&&HV(i,t),ZO(i)):HV(Ua,t.stateNode));break;case 4:n=Ua,r=tf,Ua=t.stateNode.containerInfo,tf=!0,a0(i,e,t),Ua=n,tf=r;break;case 0:case 11:case 14:case 15:if(!fl&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&MU(t,e,o),r=r.next}while(r!==n)}a0(i,e,t);break;case 1:if(!fl&&(tS(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(a){po(t,e,a)}a0(i,e,t);break;case 21:a0(i,e,t);break;case 22:t.mode&1?(fl=(n=fl)||t.memoizedState!==null,a0(i,e,t),fl=n):a0(i,e,t);break;default:a0(i,e,t)}}function Kte(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var t=i.stateNode;t===null&&(t=i.stateNode=new ASe),e.forEach(function(n){var r=$Se.bind(null,i,n);t.has(n)||(t.add(n),n.then(r,r))})}}function jh(i,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];try{var s=i,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ua=a.stateNode,tf=!1;break e;case 3:Ua=a.stateNode.containerInfo,tf=!0;break e;case 4:Ua=a.stateNode.containerInfo,tf=!0;break e}a=a.return}if(Ua===null)throw Error(Lt(160));vde(s,o,r),Ua=null,tf=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(c){po(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bde(e,i),e=e.sibling}function bde(i,e){var t=i.alternate,n=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(jh(e,i),Gf(i),n&4){try{hO(3,i,i.return),A9(3,i)}catch(b){po(i,i.return,b)}try{hO(5,i,i.return)}catch(b){po(i,i.return,b)}}break;case 1:jh(e,i),Gf(i),n&512&&t!==null&&tS(t,t.return);break;case 5:if(jh(e,i),Gf(i),n&512&&t!==null&&tS(t,t.return),i.flags&32){var r=i.stateNode;try{KO(r,"")}catch(b){po(i,i.return,b)}}if(n&4&&(r=i.stateNode,r!=null)){var s=i.memoizedProps,o=t!==null?t.memoizedProps:s,a=i.type,u=i.updateQueue;if(i.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Hue(r,s),aU(a,o);var c=aU(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?Kue(r,f):h==="dangerouslySetInnerHTML"?Uue(r,f):h==="children"?KO(r,f):zY(r,h,f,c)}switch(a){case"input":nU(r,s);break;case"textarea":$ue(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?CS(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?CS(r,!!s.multiple,s.defaultValue,!0):CS(r,!!s.multiple,s.multiple?[]:"",!1))}r[tM]=s}catch(b){po(i,i.return,b)}}break;case 6:if(jh(e,i),Gf(i),n&4){if(i.stateNode===null)throw Error(Lt(162));r=i.stateNode,s=i.memoizedProps;try{r.nodeValue=s}catch(b){po(i,i.return,b)}}break;case 3:if(jh(e,i),Gf(i),n&4&&t!==null&&t.memoizedState.isDehydrated)try{ZO(e.containerInfo)}catch(b){po(i,i.return,b)}break;case 4:jh(e,i),Gf(i);break;case 13:jh(e,i),Gf(i),r=i.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(wZ=xo())),n&4&&Kte(i);break;case 22:if(h=t!==null&&t.memoizedState!==null,i.mode&1?(fl=(c=fl)||h,jh(e,i),fl=c):jh(e,i),Gf(i),n&8192){if(c=i.memoizedState!==null,(i.stateNode.isHidden=c)&&!h&&i.mode&1)for(fn=i,h=i.child;h!==null;){for(f=fn=h;fn!==null;){switch(p=fn,m=p.child,p.tag){case 0:case 11:case 14:case 15:hO(4,p,p.return);break;case 1:tS(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,t=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){po(n,t,b)}}break;case 5:tS(p,p.return);break;case 22:if(p.memoizedState!==null){Gte(f);continue}}m!==null?(m.return=p,fn=m):Gte(f)}h=h.sibling}e:for(h=null,f=i;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=jue("display",o))}catch(b){po(i,i.return,b)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){po(i,i.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===i)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jh(e,i),Gf(i),n&4&&Kte(i);break;case 21:break;default:jh(e,i),Gf(i)}}function Gf(i){var e=i.flags;if(e&2){try{e:{for(var t=i.return;t!==null;){if(_de(t)){var n=t;break e}t=t.return}throw Error(Lt(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(KO(r,""),n.flags&=-33);var s=jte(i);FU(i,s,r);break;case 3:case 4:var o=n.stateNode.containerInfo,a=jte(i);PU(i,a,o);break;default:throw Error(Lt(161))}}catch(u){po(i,i.return,u)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function MSe(i,e,t){fn=i,Cde(i)}function Cde(i,e,t){for(var n=(i.mode&1)!==0;fn!==null;){var r=fn,s=r.child;if(r.tag===22&&n){var o=r.memoizedState!==null||Y3;if(!o){var a=r.alternate,u=a!==null&&a.memoizedState!==null||fl;a=Y3;var c=fl;if(Y3=o,(fl=u)&&!c)for(fn=r;fn!==null;)o=fn,u=o.child,o.tag===22&&o.memoizedState!==null?Yte(r):u!==null?(u.return=o,fn=u):Yte(r);for(;s!==null;)fn=s,Cde(s),s=s.sibling;fn=r,Y3=a,fl=c}qte(i)}else r.subtreeFlags&8772&&s!==null?(s.return=r,fn=s):qte(i)}}function qte(i){for(;fn!==null;){var e=fn;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fl||A9(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!fl)if(t===null)n.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Zh(e.type,t.memoizedProps);n.componentDidUpdate(r,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nte(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Nte(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ZO(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Lt(163))}fl||e.flags&512&&RU(e)}catch(p){po(e,e.return,p)}}if(e===i){fn=null;break}if(t=e.sibling,t!==null){t.return=e.return,fn=t;break}fn=e.return}}function Gte(i){for(;fn!==null;){var e=fn;if(e===i){fn=null;break}var t=e.sibling;if(t!==null){t.return=e.return,fn=t;break}fn=e.return}}function Yte(i){for(;fn!==null;){var e=fn;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{A9(4,e)}catch(u){po(e,t,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(u){po(e,r,u)}}var s=e.return;try{RU(e)}catch(u){po(e,s,u)}break;case 5:var o=e.return;try{RU(e)}catch(u){po(e,o,u)}}}catch(u){po(e,e.return,u)}if(e===i){fn=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fn=a;break}fn=e.return}}var RSe=Math.ceil,j8=Mm.ReactCurrentDispatcher,CZ=Mm.ReactCurrentOwner,Ed=Mm.ReactCurrentBatchConfig,wr=0,xa=null,jo=null,Ga=0,bc=0,nS=K1(0),ua=0,aM=null,PC=0,O9=0,yZ=0,fO=null,Zu=null,wZ=0,fx=1/0,Ap=null,K8=!1,BU=null,X0=null,Z3=!1,O0=null,q8=0,gO=0,WU=null,D6=-1,T6=0;function $l(){return wr&6?xo():D6!==-1?D6:D6=xo()}function Q0(i){return i.mode&1?wr&2&&Ga!==0?Ga&-Ga:vSe.transition!==null?(T6===0&&(T6=rce()),T6):(i=Qr,i!==0||(i=window.event,i=i===void 0?16:dce(i.type)),i):1}function Lf(i,e,t,n){if(50<gO)throw gO=0,WU=null,Error(Lt(185));kP(i,t,n),(!(wr&2)||i!==xa)&&(i===xa&&(!(wr&2)&&(O9|=t),ua===4&&D0(i,Ga)),ac(i,n),t===1&&wr===0&&!(e.mode&1)&&(fx=xo()+500,I9&&q1()))}function ac(i,e){var t=i.callbackNode;vwe(i,e);var n=k8(i,i===xa?Ga:0);if(n===0)t!==null&&rte(t),i.callbackNode=null,i.callbackPriority=0;else if(e=n&-n,i.callbackPriority!==e){if(t!=null&&rte(t),e===1)i.tag===0?_Se(Zte.bind(null,i)):kce(Zte.bind(null,i)),fSe(function(){!(wr&6)&&q1()}),t=null;else{switch(sce(n)){case 1:t=GY;break;case 4:t=nce;break;case 16:t=I8;break;case 536870912:t=ice;break;default:t=I8}t=Tde(t,yde.bind(null,i))}i.callbackPriority=e,i.callbackNode=t}}function yde(i,e){if(D6=-1,T6=0,wr&6)throw Error(Lt(327));var t=i.callbackNode;if(ES()&&i.callbackNode!==t)return null;var n=k8(i,i===xa?Ga:0);if(n===0)return null;if(n&30||n&i.expiredLanes||e)e=G8(i,n);else{e=n;var r=wr;wr|=2;var s=Sde();(xa!==i||Ga!==e)&&(Ap=null,fx=xo()+500,nC(i,e));do try{BSe();break}catch(a){wde(i,a)}while(1);aZ(),j8.current=s,wr=r,jo!==null?e=0:(xa=null,Ga=0,e=ua)}if(e!==0){if(e===2&&(r=hU(i),r!==0&&(n=r,e=VU(i,r))),e===1)throw t=aM,nC(i,0),D0(i,n),ac(i,xo()),t;if(e===6)D0(i,n);else{if(r=i.current.alternate,!(n&30)&&!PSe(r)&&(e=G8(i,n),e===2&&(s=hU(i),s!==0&&(n=s,e=VU(i,s))),e===1))throw t=aM,nC(i,0),D0(i,n),ac(i,xo()),t;switch(i.finishedWork=r,i.finishedLanes=n,e){case 0:case 1:throw Error(Lt(345));case 2:bb(i,Zu,Ap);break;case 3:if(D0(i,n),(n&130023424)===n&&(e=wZ+500-xo(),10<e)){if(k8(i,0)!==0)break;if(r=i.suspendedLanes,(r&n)!==n){$l(),i.pingedLanes|=i.suspendedLanes&r;break}i.timeoutHandle=CU(bb.bind(null,i,Zu,Ap),e);break}bb(i,Zu,Ap);break;case 4:if(D0(i,n),(n&4194240)===n)break;for(e=i.eventTimes,r=-1;0<n;){var o=31-Ef(n);s=1<<o,o=e[o],o>r&&(r=o),n&=~s}if(n=r,n=xo()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RSe(n/1960))-n,10<n){i.timeoutHandle=CU(bb.bind(null,i,Zu,Ap),n);break}bb(i,Zu,Ap);break;case 5:bb(i,Zu,Ap);break;default:throw Error(Lt(329))}}}return ac(i,xo()),i.callbackNode===t?yde.bind(null,i):null}function VU(i,e){var t=fO;return i.current.memoizedState.isDehydrated&&(nC(i,e).flags|=256),i=G8(i,e),i!==2&&(e=Zu,Zu=t,e!==null&&HU(e)),i}function HU(i){Zu===null?Zu=i:Zu.push.apply(Zu,i)}function PSe(i){for(var e=i;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var r=t[n],s=r.getSnapshot;r=r.value;try{if(!Pf(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function D0(i,e){for(e&=~yZ,e&=~O9,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var t=31-Ef(e),n=1<<t;i[t]=-1,e&=~n}}function Zte(i){if(wr&6)throw Error(Lt(327));ES();var e=k8(i,0);if(!(e&1))return ac(i,xo()),null;var t=G8(i,e);if(i.tag!==0&&t===2){var n=hU(i);n!==0&&(e=n,t=VU(i,n))}if(t===1)throw t=aM,nC(i,0),D0(i,e),ac(i,xo()),t;if(t===6)throw Error(Lt(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,bb(i,Zu,Ap),ac(i,xo()),null}function SZ(i,e){var t=wr;wr|=1;try{return i(e)}finally{wr=t,wr===0&&(fx=xo()+500,I9&&q1())}}function FC(i){O0!==null&&O0.tag===0&&!(wr&6)&&ES();var e=wr;wr|=1;var t=Ed.transition,n=Qr;try{if(Ed.transition=null,Qr=1,i)return i()}finally{Qr=n,Ed.transition=t,wr=e,!(wr&6)&&q1()}}function xZ(){bc=nS.current,Ps(nS)}function nC(i,e){i.finishedWork=null,i.finishedLanes=0;var t=i.timeoutHandle;if(t!==-1&&(i.timeoutHandle=-1,hSe(t)),jo!==null)for(t=jo.return;t!==null;){var n=t;switch(rZ(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&R8();break;case 3:dx(),Ps(sc),Ps(bl),fZ();break;case 5:hZ(n);break;case 4:dx();break;case 13:Ps(to);break;case 19:Ps(to);break;case 10:lZ(n.type._context);break;case 22:case 23:xZ()}t=t.return}if(xa=i,jo=i=J0(i.current,null),Ga=bc=e,ua=0,aM=null,yZ=O9=PC=0,Zu=fO=null,$b!==null){for(e=0;e<$b.length;e++)if(t=$b[e],n=t.interleaved,n!==null){t.interleaved=null;var r=n.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,n.next=o}t.pending=n}$b=null}return i}function wde(i,e){do{var t=jo;try{if(aZ(),x6.current=U8,z8){for(var n=io.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}z8=!1}if(RC=0,_a=la=io=null,dO=!1,rM=0,CZ.current=null,t===null||t.return===null){ua=1,aM=e,jo=null;break}e:{var s=i,o=t.return,a=t,u=e;if(e=Ga,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Fte(o);if(m!==null){m.flags&=-257,Bte(m,o,a,s,e),m.mode&1&&Pte(s,c,e),e=m,u=c;var v=e.updateQueue;if(v===null){var b=new Set;b.add(u),e.updateQueue=b}else v.add(u);break e}else{if(!(e&1)){Pte(s,c,e),EZ();break e}u=Error(Lt(426))}}else if(Vs&&a.mode&1){var S=Fte(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Bte(S,o,a,s,e),sZ(hx(u,a));break e}}s=u=hx(u,a),ua!==4&&(ua=2),fO===null?fO=[s]:fO.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=sde(s,u,e);kte(s,x);break e;case 1:a=u;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(X0===null||!X0.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=ode(s,a,e);kte(s,N);break e}}s=s.return}while(s!==null)}Ede(t)}catch(A){e=A,jo===t&&t!==null&&(jo=t=t.return);continue}break}while(1)}function Sde(){var i=j8.current;return j8.current=U8,i===null?U8:i}function EZ(){(ua===0||ua===3||ua===2)&&(ua=4),xa===null||!(PC&268435455)&&!(O9&268435455)||D0(xa,Ga)}function G8(i,e){var t=wr;wr|=2;var n=Sde();(xa!==i||Ga!==e)&&(Ap=null,nC(i,e));do try{FSe();break}catch(r){wde(i,r)}while(1);if(aZ(),wr=t,j8.current=n,jo!==null)throw Error(Lt(261));return xa=null,Ga=0,ua}function FSe(){for(;jo!==null;)xde(jo)}function BSe(){for(;jo!==null&&!uwe();)xde(jo)}function xde(i){var e=Dde(i.alternate,i,bc);i.memoizedProps=i.pendingProps,e===null?Ede(i):jo=e,CZ.current=null}function Ede(i){var e=i;do{var t=e.alternate;if(i=e.return,e.flags&32768){if(t=NSe(t,e),t!==null){t.flags&=32767,jo=t;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ua=6,jo=null;return}}else if(t=kSe(t,e,bc),t!==null){jo=t;return}if(e=e.sibling,e!==null){jo=e;return}jo=e=i}while(e!==null);ua===0&&(ua=5)}function bb(i,e,t){var n=Qr,r=Ed.transition;try{Ed.transition=null,Qr=1,WSe(i,e,t,n)}finally{Ed.transition=r,Qr=n}return null}function WSe(i,e,t,n){do ES();while(O0!==null);if(wr&6)throw Error(Lt(327));t=i.finishedWork;var r=i.finishedLanes;if(t===null)return null;if(i.finishedWork=null,i.finishedLanes=0,t===i.current)throw Error(Lt(177));i.callbackNode=null,i.callbackPriority=0;var s=t.lanes|t.childLanes;if(bwe(i,s),i===xa&&(jo=xa=null,Ga=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Z3||(Z3=!0,Tde(I8,function(){return ES(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ed.transition,Ed.transition=null;var o=Qr;Qr=1;var a=wr;wr|=4,CZ.current=null,OSe(i,t),bde(t,i),sSe(vU),N8=!!_U,vU=_U=null,i.current=t,MSe(t),cwe(),wr=a,Qr=o,Ed.transition=s}else i.current=t;if(Z3&&(Z3=!1,O0=i,q8=r),s=i.pendingLanes,s===0&&(X0=null),fwe(t.stateNode),ac(i,xo()),e!==null)for(n=i.onRecoverableError,t=0;t<e.length;t++)r=e[t],n(r.value,{componentStack:r.stack,digest:r.digest});if(K8)throw K8=!1,i=BU,BU=null,i;return q8&1&&i.tag!==0&&ES(),s=i.pendingLanes,s&1?i===WU?gO++:(gO=0,WU=i):gO=0,q1(),null}function ES(){if(O0!==null){var i=sce(q8),e=Ed.transition,t=Qr;try{if(Ed.transition=null,Qr=16>i?16:i,O0===null)var n=!1;else{if(i=O0,O0=null,q8=0,wr&6)throw Error(Lt(331));var r=wr;for(wr|=4,fn=i.current;fn!==null;){var s=fn,o=s.child;if(fn.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(fn=c;fn!==null;){var h=fn;switch(h.tag){case 0:case 11:case 15:hO(8,h,s)}var f=h.child;if(f!==null)f.return=h,fn=f;else for(;fn!==null;){h=fn;var p=h.sibling,m=h.return;if(mde(h),h===c){fn=null;break}if(p!==null){p.return=m,fn=p;break}fn=m}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}fn=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fn=o;else e:for(;fn!==null;){if(s=fn,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hO(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,fn=x;break e}fn=s.return}}var w=i.current;for(fn=w;fn!==null;){o=fn;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,fn=E;else e:for(o=w;fn!==null;){if(a=fn,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:A9(9,a)}}catch(A){po(a,a.return,A)}if(a===o){fn=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,fn=N;break e}fn=a.return}}if(wr=r,q1(),Pg&&typeof Pg.onPostCommitFiberRoot=="function")try{Pg.onPostCommitFiberRoot(x9,i)}catch{}n=!0}return n}finally{Qr=t,Ed.transition=e}}return!1}function Xte(i,e,t){e=hx(t,e),e=sde(i,e,1),i=Z0(i,e,1),e=$l(),i!==null&&(kP(i,1,e),ac(i,e))}function po(i,e,t){if(i.tag===3)Xte(i,i,t);else for(;e!==null;){if(e.tag===3){Xte(e,i,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(X0===null||!X0.has(n))){i=hx(t,i),i=ode(e,i,1),e=Z0(e,i,1),i=$l(),e!==null&&(kP(e,1,i),ac(e,i));break}}e=e.return}}function VSe(i,e,t){var n=i.pingCache;n!==null&&n.delete(e),e=$l(),i.pingedLanes|=i.suspendedLanes&t,xa===i&&(Ga&t)===t&&(ua===4||ua===3&&(Ga&130023424)===Ga&&500>xo()-wZ?nC(i,0):yZ|=t),ac(i,e)}function Lde(i,e){e===0&&(i.mode&1?(e=V3,V3<<=1,!(V3&130023424)&&(V3=4194304)):e=1);var t=$l();i=ym(i,e),i!==null&&(kP(i,e,t),ac(i,t))}function HSe(i){var e=i.memoizedState,t=0;e!==null&&(t=e.retryLane),Lde(i,t)}function $Se(i,e){var t=0;switch(i.tag){case 13:var n=i.stateNode,r=i.memoizedState;r!==null&&(t=r.retryLane);break;case 19:n=i.stateNode;break;default:throw Error(Lt(314))}n!==null&&n.delete(e),Lde(i,t)}var Dde;Dde=function(i,e,t){if(i!==null)if(i.memoizedProps!==e.pendingProps||sc.current)tc=!0;else{if(!(i.lanes&t)&&!(e.flags&128))return tc=!1,ISe(i,e,t);tc=!!(i.flags&131072)}else tc=!1,Vs&&e.flags&1048576&&Nce(e,B8,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;L6(i,e),i=e.pendingProps;var r=lx(e,bl.current);xS(e,t),r=pZ(null,e,n,i,r,t);var s=mZ();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oc(n)?(s=!0,P8(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,cZ(e),r.updater=N9,e.stateNode=r,r._reactInternals=e,DU(e,n,i,t),e=kU(null,e,n,!0,s,t)):(e.tag=0,Vs&&s&&iZ(e),Ml(null,e,r,t),e=e.child),e;case 16:n=e.elementType;e:{switch(L6(i,e),i=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=USe(n),i=Zh(n,i),r){case 0:e=IU(null,e,n,i,t);break e;case 1:e=Hte(null,e,n,i,t);break e;case 11:e=Wte(null,e,n,i,t);break e;case 14:e=Vte(null,e,n,Zh(n.type,i),t);break e}throw Error(Lt(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Zh(n,r),IU(i,e,n,r,t);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Zh(n,r),Hte(i,e,n,r,t);case 3:e:{if(cde(e),i===null)throw Error(Lt(387));n=e.pendingProps,s=e.memoizedState,r=s.element,Fce(i,e),H8(e,n,null,t);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=hx(Error(Lt(423)),e),e=$te(i,e,n,t,r);break e}else if(n!==r){r=hx(Error(Lt(424)),e),e=$te(i,e,n,t,r);break e}else for(Ec=Y0(e.stateNode.containerInfo.firstChild),Ic=e,Vs=!0,cf=null,t=Rce(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ux(),n===r){e=wm(i,e,t);break e}Ml(i,e,n,t)}e=e.child}return e;case 5:return Bce(e),i===null&&xU(e),n=e.type,r=e.pendingProps,s=i!==null?i.memoizedProps:null,o=r.children,bU(n,r)?o=null:s!==null&&bU(n,s)&&(e.flags|=32),ude(i,e),Ml(i,e,o,t),e.child;case 6:return i===null&&xU(e),null;case 13:return dde(i,e,t);case 4:return dZ(e,e.stateNode.containerInfo),n=e.pendingProps,i===null?e.child=cx(e,null,n,t):Ml(i,e,n,t),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Zh(n,r),Wte(i,e,n,r,t);case 7:return Ml(i,e,e.pendingProps,t),e.child;case 8:return Ml(i,e,e.pendingProps.children,t),e.child;case 12:return Ml(i,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Es(W8,n._currentValue),n._currentValue=o,s!==null)if(Pf(s.value,o)){if(s.children===r.children&&!sc.current){e=wm(i,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=om(-1,t&-t),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),EU(s.return,t,e),a.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Lt(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),EU(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ml(i,e,r.children,t),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,xS(e,t),r=kd(r),n=n(r),e.flags|=1,Ml(i,e,n,t),e.child;case 14:return n=e.type,r=Zh(n,e.pendingProps),r=Zh(n.type,r),Vte(i,e,n,r,t);case 15:return ade(i,e,e.type,e.pendingProps,t);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Zh(n,r),L6(i,e),e.tag=1,oc(n)?(i=!0,P8(e)):i=!1,xS(e,t),rde(e,n,r),DU(e,n,r,t),kU(null,e,n,!0,i,t);case 19:return hde(i,e,t);case 22:return lde(i,e,t)}throw Error(Lt(156,e.tag))};function Tde(i,e){return tce(i,e)}function zSe(i,e,t,n){this.tag=i,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bd(i,e,t,n){return new zSe(i,e,t,n)}function LZ(i){return i=i.prototype,!(!i||!i.isReactComponent)}function USe(i){if(typeof i=="function")return LZ(i)?1:0;if(i!=null){if(i=i.$$typeof,i===jY)return 11;if(i===KY)return 14}return 2}function J0(i,e){var t=i.alternate;return t===null?(t=bd(i.tag,e,i.key,i.mode),t.elementType=i.elementType,t.type=i.type,t.stateNode=i.stateNode,t.alternate=i,i.alternate=t):(t.pendingProps=e,t.type=i.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=i.flags&14680064,t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=i.sibling,t.index=i.index,t.ref=i.ref,t}function I6(i,e,t,n,r,s){var o=2;if(n=i,typeof i=="function")LZ(i)&&(o=1);else if(typeof i=="string")o=5;else e:switch(i){case Kw:return iC(t.children,r,s,e);case UY:o=8,r|=8;break;case Xz:return i=bd(12,t,e,r|2),i.elementType=Xz,i.lanes=s,i;case Qz:return i=bd(13,t,e,r),i.elementType=Qz,i.lanes=s,i;case Jz:return i=bd(19,t,e,r),i.elementType=Jz,i.lanes=s,i;case Bue:return M9(t,r,s,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Pue:o=10;break e;case Fue:o=9;break e;case jY:o=11;break e;case KY:o=14;break e;case C0:o=16,n=null;break e}throw Error(Lt(130,i==null?i:typeof i,""))}return e=bd(o,t,e,r),e.elementType=i,e.type=n,e.lanes=s,e}function iC(i,e,t,n){return i=bd(7,i,n,e),i.lanes=t,i}function M9(i,e,t,n){return i=bd(22,i,n,e),i.elementType=Bue,i.lanes=t,i.stateNode={isHidden:!1},i}function YV(i,e,t){return i=bd(6,i,null,e),i.lanes=t,i}function ZV(i,e,t){return e=bd(4,i.children!==null?i.children:[],i.key,e),e.lanes=t,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function jSe(i,e,t,n,r){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kV(0),this.expirationTimes=kV(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kV(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function DZ(i,e,t,n,r,s,o,a,u){return i=new jSe(i,e,t,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bd(3,null,null,e),i.current=s,s.stateNode=i,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},cZ(s),i}function KSe(i,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jw,key:n==null?null:""+n,children:i,containerInfo:e,implementation:t}}function Ide(i){if(!i)return b1;i=i._reactInternals;e:{if(Py(i)!==i||i.tag!==1)throw Error(Lt(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oc(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Lt(171))}if(i.tag===1){var t=i.type;if(oc(t))return Ice(i,t,e)}return e}function kde(i,e,t,n,r,s,o,a,u){return i=DZ(t,n,!0,i,r,s,o,a,u),i.context=Ide(null),t=i.current,n=$l(),r=Q0(t),s=om(n,r),s.callback=e??null,Z0(t,s,r),i.current.lanes=r,kP(i,r,n),ac(i,n),i}function R9(i,e,t,n){var r=e.current,s=$l(),o=Q0(r);return t=Ide(t),e.context===null?e.context=t:e.pendingContext=t,e=om(s,o),e.payload={element:i},n=n===void 0?null:n,n!==null&&(e.callback=n),i=Z0(r,e,o),i!==null&&(Lf(i,r,o,s),S6(i,r,o)),o}function Y8(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Qte(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var t=i.retryLane;i.retryLane=t!==0&&t<e?t:e}}function TZ(i,e){Qte(i,e),(i=i.alternate)&&Qte(i,e)}function qSe(){return null}var Nde=typeof reportError=="function"?reportError:function(i){console.error(i)};function IZ(i){this._internalRoot=i}P9.prototype.render=IZ.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(Lt(409));R9(i,e,null,null)};P9.prototype.unmount=IZ.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;FC(function(){R9(null,i,null,null)}),e[Cm]=null}};function P9(i){this._internalRoot=i}P9.prototype.unstable_scheduleHydration=function(i){if(i){var e=lce();i={blockedOn:null,target:i,priority:e};for(var t=0;t<L0.length&&e!==0&&e<L0[t].priority;t++);L0.splice(t,0,i),t===0&&cce(i)}};function kZ(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function F9(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Jte(){}function GSe(i,e,t,n,r){if(r){if(typeof n=="function"){var s=n;n=function(){var c=Y8(o);s.call(c)}}var o=kde(e,n,i,0,null,!1,!1,"",Jte);return i._reactRootContainer=o,i[Cm]=o.current,JO(i.nodeType===8?i.parentNode:i),FC(),o}for(;r=i.lastChild;)i.removeChild(r);if(typeof n=="function"){var a=n;n=function(){var c=Y8(u);a.call(c)}}var u=DZ(i,0,!1,null,null,!1,!1,"",Jte);return i._reactRootContainer=u,i[Cm]=u.current,JO(i.nodeType===8?i.parentNode:i),FC(function(){R9(e,u,t,n)}),u}function B9(i,e,t,n,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var u=Y8(o);a.call(u)}}R9(e,o,i,r)}else o=GSe(t,e,i,r,n);return Y8(o)}oce=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var t=PA(e.pendingLanes);t!==0&&(YY(e,t|1),ac(e,xo()),!(wr&6)&&(fx=xo()+500,q1()))}break;case 13:FC(function(){var n=ym(i,1);if(n!==null){var r=$l();Lf(n,i,1,r)}}),TZ(i,1)}};ZY=function(i){if(i.tag===13){var e=ym(i,134217728);if(e!==null){var t=$l();Lf(e,i,134217728,t)}TZ(i,134217728)}};ace=function(i){if(i.tag===13){var e=Q0(i),t=ym(i,e);if(t!==null){var n=$l();Lf(t,i,e,n)}TZ(i,e)}};lce=function(){return Qr};uce=function(i,e){var t=Qr;try{return Qr=i,e()}finally{Qr=t}};uU=function(i,e,t){switch(e){case"input":if(nU(i,t),e=t.name,t.type==="radio"&&e!=null){for(t=i;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==i&&n.form===i.form){var r=T9(n);if(!r)throw Error(Lt(90));Vue(n),nU(n,r)}}}break;case"textarea":$ue(i,t);break;case"select":e=t.value,e!=null&&CS(i,!!t.multiple,e,!1)}};Yue=SZ;Zue=FC;var YSe={usingClientEntryPoint:!1,Events:[AP,Zw,T9,que,Gue,SZ]},dA={findFiberByHostInstance:Hb,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZSe={bundleType:dA.bundleType,version:dA.version,rendererPackageName:dA.rendererPackageName,rendererConfig:dA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mm.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Jue(i),i===null?null:i.stateNode},findFiberByHostInstance:dA.findFiberByHostInstance||qSe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X3.isDisabled&&X3.supportsFiber)try{x9=X3.inject(ZSe),Pg=X3}catch{}}zc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YSe;zc.createPortal=function(i,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kZ(e))throw Error(Lt(200));return KSe(i,e,null,t)};zc.createRoot=function(i,e){if(!kZ(i))throw Error(Lt(299));var t=!1,n="",r=Nde;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=DZ(i,1,!1,null,null,t,!1,n,r),i[Cm]=e.current,JO(i.nodeType===8?i.parentNode:i),new IZ(e)};zc.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(Lt(188)):(i=Object.keys(i).join(","),Error(Lt(268,i)));return i=Jue(e),i=i===null?null:i.stateNode,i};zc.flushSync=function(i){return FC(i)};zc.hydrate=function(i,e,t){if(!F9(e))throw Error(Lt(200));return B9(null,i,e,!0,t)};zc.hydrateRoot=function(i,e,t){if(!kZ(i))throw Error(Lt(405));var n=t!=null&&t.hydratedSources||null,r=!1,s="",o=Nde;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=kde(e,null,i,1,t??null,r,!1,s,o),i[Cm]=e.current,JO(i),n)for(i=0;i<n.length;i++)t=n[i],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new P9(e)};zc.render=function(i,e,t){if(!F9(e))throw Error(Lt(200));return B9(null,i,e,!1,t)};zc.unmountComponentAtNode=function(i){if(!F9(i))throw Error(Lt(40));return i._reactRootContainer?(FC(function(){B9(null,null,i,!1,function(){i._reactRootContainer=null,i[Cm]=null})}),!0):!1};zc.unstable_batchedUpdates=SZ;zc.unstable_renderSubtreeIntoContainer=function(i,e,t,n){if(!F9(t))throw Error(Lt(200));if(i==null||i._reactInternals===void 0)throw Error(Lt(38));return B9(i,e,t,!1,n)};zc.version="18.3.1-next-f1338f8080-20240426";function Ade(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ade)}catch(i){console.error(i)}}Ade(),Aue.exports=zc;var W9=Aue.exports;const BC=Om(W9),XSe=Cue({__proto__:null,default:BC},[W9]);var ene=W9;Yz.createRoot=ene.createRoot,Yz.hydrateRoot=ene.hydrateRoot;/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var tne;(function(i){(function(e){var t=typeof Ca=="object"?Ca:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=r(i);typeof t.Reflect>"u"?t.Reflect=i:n=r(t.Reflect,n),e(n);function r(s,o){return function(a,u){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:u}),o&&o(a,u)}}})(function(e){var t=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",r=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,u=!o&&!a,c={create:o?function(){return Qn(Object.create(null))}:a?function(){return Qn({__proto__:null})}:function(){return Qn({})},has:u?function(ke,Pe){return t.call(ke,Pe)}:function(ke,Pe){return Pe in ke},get:u?function(ke,Pe){return t.call(ke,Pe)?ke[Pe]:void 0}:function(ke,Pe){return ke[Pe]}},h=Object.getPrototypeOf(Function),f=typeof process=="object"&&process["env"]&&process["env"].REFLECT_METADATA_USE_MAP_POLYFILL==="true",p=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Gi(),m=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Vt(),v=!f&&typeof WeakMap=="function"?WeakMap:un(),b=new v;function S(ke,Pe,_t,ut){if(q(_t)){if(!dt(ke))throw new TypeError;if(!Je(Pe))throw new TypeError;return X(ke,Pe)}else{if(!dt(ke))throw new TypeError;if(!Ce(Pe))throw new TypeError;if(!Ce(ut)&&!q(ut)&&!fe(ut))throw new TypeError;return fe(ut)&&(ut=void 0),_t=Re(_t),$(ke,Pe,_t,ut)}}e("decorate",S);function x(ke,Pe){function _t(ut,yt){if(!Ce(ut))throw new TypeError;if(!q(yt)&&!ln(yt))throw new TypeError;U(ke,Pe,ut,yt)}return _t}e("metadata",x);function w(ke,Pe,_t,ut){if(!Ce(_t))throw new TypeError;return q(ut)||(ut=Re(ut)),U(ke,Pe,_t,ut)}e("defineMetadata",w);function E(ke,Pe,_t){if(!Ce(Pe))throw new TypeError;return q(_t)||(_t=Re(_t)),O(ke,Pe,_t)}e("hasMetadata",E);function N(ke,Pe,_t){if(!Ce(Pe))throw new TypeError;return q(_t)||(_t=Re(_t)),B(ke,Pe,_t)}e("hasOwnMetadata",N);function A(ke,Pe,_t){if(!Ce(Pe))throw new TypeError;return q(_t)||(_t=Re(_t)),W(ke,Pe,_t)}e("getMetadata",A);function H(ke,Pe,_t){if(!Ce(Pe))throw new TypeError;return q(_t)||(_t=Re(_t)),j(ke,Pe,_t)}e("getOwnMetadata",H);function R(ke,Pe){if(!Ce(ke))throw new TypeError;return q(Pe)||(Pe=Re(Pe)),K(ke,Pe)}e("getMetadataKeys",R);function M(ke,Pe){if(!Ce(ke))throw new TypeError;return q(Pe)||(Pe=Re(Pe)),z(ke,Pe)}e("getOwnMetadataKeys",M);function G(ke,Pe,_t){if(!Ce(Pe))throw new TypeError;q(_t)||(_t=Re(_t));var ut=I(Pe,_t,!1);if(q(ut)||!ut.delete(ke))return!1;if(ut.size>0)return!0;var yt=b.get(Pe);return yt.delete(_t),yt.size>0||b.delete(Pe),!0}e("deleteMetadata",G);function X(ke,Pe){for(var _t=ke.length-1;_t>=0;--_t){var ut=ke[_t],yt=ut(Pe);if(!q(yt)&&!fe(yt)){if(!Je(yt))throw new TypeError;Pe=yt}}return Pe}function $(ke,Pe,_t,ut){for(var yt=ke.length-1;yt>=0;--yt){var Li=ke[yt],zt=Li(Pe,_t,ut);if(!q(zt)&&!fe(zt)){if(!Ce(zt))throw new TypeError;ut=zt}}return ut}function I(ke,Pe,_t){var ut=b.get(ke);if(q(ut)){if(!_t)return;ut=new p,b.set(ke,ut)}var yt=ut.get(Pe);if(q(yt)){if(!_t)return;yt=new p,ut.set(Pe,yt)}return yt}function O(ke,Pe,_t){var ut=B(ke,Pe,_t);if(ut)return!0;var yt=di(Pe);return fe(yt)?!1:O(ke,yt,_t)}function B(ke,Pe,_t){var ut=I(Pe,_t,!1);return q(ut)?!1:ot(ut.has(ke))}function W(ke,Pe,_t){var ut=B(ke,Pe,_t);if(ut)return j(ke,Pe,_t);var yt=di(Pe);if(!fe(yt))return W(ke,yt,_t)}function j(ke,Pe,_t){var ut=I(Pe,_t,!1);if(!q(ut))return ut.get(ke)}function U(ke,Pe,_t,ut){var yt=I(_t,ut,!0);yt.set(ke,Pe)}function K(ke,Pe){var _t=z(ke,Pe),ut=di(ke);if(ut===null)return _t;var yt=K(ut,Pe);if(yt.length<=0)return _t;if(_t.length<=0)return yt;for(var Li=new m,zt=[],At=0,Zt=_t;At<Zt.length;At++){var Xt=Zt[At],Ht=Li.has(Xt);Ht||(Li.add(Xt),zt.push(Xt))}for(var yr=0,si=yt;yr<si.length;yr++){var Xt=si[yr],Ht=Li.has(Xt);Ht||(Li.add(Xt),zt.push(Xt))}return zt}function z(ke,Pe){var _t=[],ut=I(ke,Pe,!1);if(q(ut))return _t;for(var yt=ut.keys(),Li=pn(yt),zt=0;;){var At=Un(Li);if(!At)return _t.length=zt,_t;var Zt=Ln(At);try{_t[zt]=Zt}catch(Xt){try{ci(Li)}finally{throw Xt}}zt++}}function k(ke){if(ke===null)return 1;switch(typeof ke){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return ke===null?1:6;default:return 6}}function q(ke){return ke===void 0}function fe(ke){return ke===null}function ne(ke){return typeof ke=="symbol"}function Ce(ke){return typeof ke=="object"?ke!==null:typeof ke=="function"}function Te(ke,Pe){switch(k(ke)){case 0:return ke;case 1:return ke;case 2:return ke;case 3:return ke;case 4:return ke;case 5:return ke}var _t=Pe===3?"string":Pe===5?"number":"default",ut=Yt(ke,r);if(ut!==void 0){var yt=ut.call(ke,_t);if(Ce(yt))throw new TypeError;return yt}return He(ke,_t==="default"?"number":_t)}function He(ke,Pe){if(Pe==="string"){var _t=ke.toString;if(wt(_t)){var ut=_t.call(ke);if(!Ce(ut))return ut}var yt=ke.valueOf;if(wt(yt)){var ut=yt.call(ke);if(!Ce(ut))return ut}}else{var yt=ke.valueOf;if(wt(yt)){var ut=yt.call(ke);if(!Ce(ut))return ut}var Li=ke.toString;if(wt(Li)){var ut=Li.call(ke);if(!Ce(ut))return ut}}throw new TypeError}function ot(ke){return!!ke}function Rt(ke){return""+ke}function Re(ke){var Pe=Te(ke,3);return ne(Pe)?Pe:Rt(Pe)}function dt(ke){return Array.isArray?Array.isArray(ke):ke instanceof Object?ke instanceof Array:Object.prototype.toString.call(ke)==="[object Array]"}function wt(ke){return typeof ke=="function"}function Je(ke){return typeof ke=="function"}function ln(ke){switch(k(ke)){case 3:return!0;case 4:return!0;default:return!1}}function Yt(ke,Pe){var _t=ke[Pe];if(_t!=null){if(!wt(_t))throw new TypeError;return _t}}function pn(ke){var Pe=Yt(ke,s);if(!wt(Pe))throw new TypeError;var _t=Pe.call(ke);if(!Ce(_t))throw new TypeError;return _t}function Ln(ke){return ke.value}function Un(ke){var Pe=ke.next();return Pe.done?!1:Pe}function ci(ke){var Pe=ke.return;Pe&&Pe.call(ke)}function di(ke){var Pe=Object.getPrototypeOf(ke);if(typeof ke!="function"||ke===h||Pe!==h)return Pe;var _t=ke.prototype,ut=_t&&Object.getPrototypeOf(_t);if(ut==null||ut===Object.prototype)return Pe;var yt=ut.constructor;return typeof yt!="function"||yt===ke?Pe:yt}function Gi(){var ke={},Pe=[],_t=function(){function zt(At,Zt,Xt){this._index=0,this._keys=At,this._values=Zt,this._selector=Xt}return zt.prototype["@@iterator"]=function(){return this},zt.prototype[s]=function(){return this},zt.prototype.next=function(){var At=this._index;if(At>=0&&At<this._keys.length){var Zt=this._selector(this._keys[At],this._values[At]);return At+1>=this._keys.length?(this._index=-1,this._keys=Pe,this._values=Pe):this._index++,{value:Zt,done:!1}}return{value:void 0,done:!0}},zt.prototype.throw=function(At){throw this._index>=0&&(this._index=-1,this._keys=Pe,this._values=Pe),At},zt.prototype.return=function(At){return this._index>=0&&(this._index=-1,this._keys=Pe,this._values=Pe),{value:At,done:!0}},zt}();return function(){function zt(){this._keys=[],this._values=[],this._cacheKey=ke,this._cacheIndex=-2}return Object.defineProperty(zt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),zt.prototype.has=function(At){return this._find(At,!1)>=0},zt.prototype.get=function(At){var Zt=this._find(At,!1);return Zt>=0?this._values[Zt]:void 0},zt.prototype.set=function(At,Zt){var Xt=this._find(At,!0);return this._values[Xt]=Zt,this},zt.prototype.delete=function(At){var Zt=this._find(At,!1);if(Zt>=0){for(var Xt=this._keys.length,Ht=Zt+1;Ht<Xt;Ht++)this._keys[Ht-1]=this._keys[Ht],this._values[Ht-1]=this._values[Ht];return this._keys.length--,this._values.length--,At===this._cacheKey&&(this._cacheKey=ke,this._cacheIndex=-2),!0}return!1},zt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ke,this._cacheIndex=-2},zt.prototype.keys=function(){return new _t(this._keys,this._values,ut)},zt.prototype.values=function(){return new _t(this._keys,this._values,yt)},zt.prototype.entries=function(){return new _t(this._keys,this._values,Li)},zt.prototype["@@iterator"]=function(){return this.entries()},zt.prototype[s]=function(){return this.entries()},zt.prototype._find=function(At,Zt){return this._cacheKey!==At&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=At)),this._cacheIndex<0&&Zt&&(this._cacheIndex=this._keys.length,this._keys.push(At),this._values.push(void 0)),this._cacheIndex},zt}();function ut(zt,At){return zt}function yt(zt,At){return At}function Li(zt,At){return[zt,At]}}function Vt(){return function(){function ke(){this._map=new p}return Object.defineProperty(ke.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ke.prototype.has=function(Pe){return this._map.has(Pe)},ke.prototype.add=function(Pe){return this._map.set(Pe,Pe),this},ke.prototype.delete=function(Pe){return this._map.delete(Pe)},ke.prototype.clear=function(){this._map.clear()},ke.prototype.keys=function(){return this._map.keys()},ke.prototype.values=function(){return this._map.values()},ke.prototype.entries=function(){return this._map.entries()},ke.prototype["@@iterator"]=function(){return this.keys()},ke.prototype[s]=function(){return this.keys()},ke}()}function un(){var ke=16,Pe=c.create(),_t=ut();return function(){function Zt(){this._key=ut()}return Zt.prototype.has=function(Xt){var Ht=yt(Xt,!1);return Ht!==void 0?c.has(Ht,this._key):!1},Zt.prototype.get=function(Xt){var Ht=yt(Xt,!1);return Ht!==void 0?c.get(Ht,this._key):void 0},Zt.prototype.set=function(Xt,Ht){var yr=yt(Xt,!0);return yr[this._key]=Ht,this},Zt.prototype.delete=function(Xt){var Ht=yt(Xt,!1);return Ht!==void 0?delete Ht[this._key]:!1},Zt.prototype.clear=function(){this._key=ut()},Zt}();function ut(){var Zt;do Zt="@@WeakMap@@"+At();while(c.has(Pe,Zt));return Pe[Zt]=!0,Zt}function yt(Zt,Xt){if(!t.call(Zt,_t)){if(!Xt)return;Object.defineProperty(Zt,_t,{value:c.create()})}return Zt[_t]}function Li(Zt,Xt){for(var Ht=0;Ht<Xt;++Ht)Zt[Ht]=Math.random()*255|0;return Zt}function zt(Zt){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(Zt)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(Zt)):Li(new Uint8Array(Zt),Zt):Li(new Array(Zt),Zt)}function At(){var Zt=zt(ke);Zt[6]=Zt[6]&79|64,Zt[8]=Zt[8]&191|128;for(var Xt="",Ht=0;Ht<ke;++Ht){var yr=Zt[Ht];(Ht===4||Ht===6||Ht===8)&&(Xt+="-"),yr<16&&(Xt+="0"),Xt+=yr.toString(16).toLowerCase()}return Xt}}function Qn(ke){return ke.__=void 0,delete ke.__,ke}})})(tne||(tne={}));var $U;(function(i){i[i.Transient=0]="Transient",i[i.Singleton=1]="Singleton",i[i.ResolutionScoped=2]="ResolutionScoped",i[i.ContainerScoped=3]="ContainerScoped"})($U||($U={}));const zu=$U;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zU=function(i,e){return zU=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},zU(i,e)};function NZ(i,e){zU(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Q3(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z8(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function Lb(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(Z8(arguments[e]));return i}var QSe="injectionTokens";function JSe(i){var e=Reflect.getMetadata("design:paramtypes",i)||[],t=Reflect.getOwnMetadata(QSe,i)||{};return Object.keys(t).forEach(function(n){e[+n]=t[n]}),e}function Ode(i){return!!i.useClass}function UU(i){return!!i.useFactory}var Mde=function(){function i(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return i.prototype.createProxy=function(e){var t=this,n={},r=!1,s,o=function(){return r||(s=e(t.wrap()),r=!0),s};return new Proxy(n,this.createHandler(o))},i.prototype.createHandler=function(e){var t={},n=function(r){t[r]=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];s[0]=e();var a=Reflect[r];return a.apply(void 0,Lb(s))}};return this.reflectMethods.forEach(n),t},i}();function fw(i){return typeof i=="string"||typeof i=="symbol"}function exe(i){return typeof i=="object"&&"token"in i&&"multiple"in i}function nne(i){return typeof i=="object"&&"token"in i&&"transform"in i}function txe(i){return typeof i=="function"||i instanceof Mde}function k6(i){return!!i.useToken}function N6(i){return i.useValue!=null}function nxe(i){return Ode(i)||N6(i)||k6(i)||UU(i)}var AZ=function(){function i(){this._registryMap=new Map}return i.prototype.entries=function(){return this._registryMap.entries()},i.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},i.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},i.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},i.prototype.setAll=function(e,t){this._registryMap.set(e,t)},i.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},i.prototype.clear=function(){this._registryMap.clear()},i.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},i}(),ixe=function(i){NZ(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(AZ),ine=function(){function i(){this.scopedResolutions=new Map}return i}();function rxe(i,e){if(i===null)return"at position #"+e;var t=i.split(",")[e].trim();return'"'+t+'" at position #'+e}function sxe(i,e,t){return t===void 0&&(t="    "),Lb([i],e.message.split(`
`).map(function(n){return t+n})).join(`
`)}function oxe(i,e,t){var n=Z8(i.toString().match(/constructor\(([\w, ]+)\)/)||[],2),r=n[1],s=r===void 0?null:r,o=rxe(s,e);return sxe("Cannot inject the dependency "+o+' of "'+i.name+'" constructor. Reason:',t)}var axe=function(i){NZ(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(AZ),lxe=function(i){NZ(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(AZ),uxe=function(){function i(){this.preResolution=new axe,this.postResolution=new lxe}return i}(),Rde=new Map,cxe=function(){function i(e){this.parent=e,this._registry=new ixe,this.interceptors=new uxe}return i.prototype.register=function(e,t,n){n===void 0&&(n={lifecycle:zu.Transient});var r;if(nxe(t)?r=t:r={useClass:t},k6(r))for(var s=[e],o=r;o!=null;){var a=o.useToken;if(s.includes(a))throw new Error("Token registration cycle detected! "+Lb(s,[a]).join(" -> "));s.push(a);var u=this._registry.get(a);u&&k6(u.provider)?o=u.provider:o=null}if((n.lifecycle===zu.Singleton||n.lifecycle==zu.ContainerScoped||n.lifecycle==zu.ResolutionScoped)&&(N6(r)||UU(r)))throw new Error('Cannot use lifecycle "'+zu[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:r,options:n}),this},i.prototype.registerType=function(e,t){return fw(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},i.prototype.registerInstance=function(e,t){return this.register(e,{useValue:t})},i.prototype.registerSingleton=function(e,t){if(fw(e)){if(fw(t))return this.register(e,{useToken:t},{lifecycle:zu.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:zu.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return t&&!fw(t)&&(n=t),this.register(e,{useClass:n},{lifecycle:zu.Singleton})},i.prototype.resolve=function(e,t){t===void 0&&(t=new ine);var n=this.getRegistration(e);if(!n&&fw(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),n){var r=this.resolveRegistration(n,t);return this.executePostResolutionInterceptor(e,r,"Single"),r}if(txe(e)){var r=this.construct(e,t);return this.executePostResolutionInterceptor(e,r,"Single"),r}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},i.prototype.executePreResolutionInterceptor=function(e,t){var n,r;if(this.interceptors.preResolution.has(e)){var s=[];try{for(var o=Q3(this.interceptors.preResolution.getAll(e)),a=o.next();!a.done;a=o.next()){var u=a.value;u.options.frequency!="Once"&&s.push(u),u.callback(e,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(e,s)}},i.prototype.executePostResolutionInterceptor=function(e,t,n){var r,s;if(this.interceptors.postResolution.has(e)){var o=[];try{for(var a=Q3(this.interceptors.postResolution.getAll(e)),u=a.next();!u.done;u=a.next()){var c=u.value;c.options.frequency!="Once"&&o.push(c),c.callback(e,t,n)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(r)throw r.error}}this.interceptors.postResolution.setAll(e,o)}},i.prototype.resolveRegistration=function(e,t){if(e.options.lifecycle===zu.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var n=e.options.lifecycle===zu.Singleton,r=e.options.lifecycle===zu.ContainerScoped,s=n||r,o;return N6(e.provider)?o=e.provider.useValue:k6(e.provider)?o=s?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):Ode(e.provider)?o=s?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):UU(e.provider)?o=e.provider.useFactory(this):o=this.construct(e.provider,t),e.options.lifecycle===zu.ResolutionScoped&&t.scopedResolutions.set(e,o),o},i.prototype.resolveAll=function(e,t){var n=this;t===void 0&&(t=new ine);var r=this.getAllRegistrations(e);if(!r&&fw(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),r){var s=r.map(function(a){return n.resolveRegistration(a,t)});return this.executePostResolutionInterceptor(e,s,"All"),s}var o=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,o,"All"),o},i.prototype.isRegistered=function(e,t){return t===void 0&&(t=!1),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},i.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},i.prototype.clearInstances=function(){var e,t;try{for(var n=Q3(this._registry.entries()),r=n.next();!r.done;r=n.next()){var s=Z8(r.value,2),o=s[0],a=s[1];this._registry.setAll(o,a.filter(function(u){return!N6(u.provider)}).map(function(u){return u.instance=void 0,u}))}}catch(u){e={error:u}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},i.prototype.createChildContainer=function(){var e,t,n=new i(this);try{for(var r=Q3(this._registry.entries()),s=r.next();!s.done;s=r.next()){var o=Z8(s.value,2),a=o[0],u=o[1];u.some(function(c){var h=c.options;return h.lifecycle===zu.ContainerScoped})&&n._registry.setAll(a,u.map(function(c){return c.options.lifecycle===zu.ContainerScoped?{provider:c.provider,options:c.options}:c}))}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},i.prototype.beforeResolution=function(e,t,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:n})},i.prototype.afterResolution=function(e,t,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:n})},i.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},i.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},i.prototype.construct=function(e,t){var n=this;if(e instanceof Mde)return e.createProxy(function(o){return n.resolve(o,t)});var r=Rde.get(e);if(!r||r.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var s=r.map(this.resolveParams(t,e));return new(e.bind.apply(e,Lb([void 0],s)))},i.prototype.resolveParams=function(e,t){var n=this;return function(r,s){var o,a,u;try{return exe(r)?nne(r)?r.multiple?(o=n.resolve(r.transform)).transform.apply(o,Lb([n.resolveAll(r.token)],r.transformArgs)):(a=n.resolve(r.transform)).transform.apply(a,Lb([n.resolve(r.token,e)],r.transformArgs)):r.multiple?n.resolveAll(r.token):n.resolve(r.token,e):nne(r)?(u=n.resolve(r.transform,e)).transform.apply(u,Lb([n.resolve(r.token,e)],r.transformArgs)):n.resolve(r,e)}catch(c){throw new Error(oxe(t,s,c))}}},i}(),qe=new cxe;function dxe(){return function(i){Rde.set(i,JSe(i))}}function er(){return function(i){dxe()(i),qe.registerSingleton(i)}}if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);class V9{constructor(){this._events=new Map}count(e){return(this._events.get(e)||[]).length}emit(e,...t){const n=this._events.get(e);if(n&&n.length>0){let r=!0;for(let s=n.length-1;s>=0;s--)r&&n[s].call({stopDelivery:()=>r=!1},...t)}}subscribe(e,t){Array.isArray(e)?e.forEach(n=>{this.assignEvent(n,t)}):this.assignEvent(e,t)}unsubscribe(e,t){Array.isArray(e)?e.forEach(n=>{this.deleteEvent(n,t)}):this.deleteEvent(e,t)}deleteEvent(e,t){if(t){const n=this._events.get(e);n&&n.splice(n.indexOf(t),1)}else this._events.delete(e)}assignEvent(e,t){const n=this._events.get(e);n?n.push(t):this._events.set(e,[t])}}const Ub=new V9;class CE{subscribe(e,t){Ub.subscribe(e,t)}emit(e,...t){Ub.emit(e,...t)}count(e){return Ub.count(e)}unsubscribe(e,t){Ub.unsubscribe(e,t)}}function hxe(i){return function(e,t,n){const r=n.value;return typeof r=="function"&&(n.value=function(...s){try{const o=r.apply(this,s);return Ub.emit(i,s),o}catch(o){throw o}}),n}}function fxe(i){return function(e,t,n){const r=n.value;return typeof r=="function"&&Ub.subscribe(i,r),n}}const gxe=Object.freeze(Object.defineProperty({__proto__:null,EventBus:Ub,EventEmitter:V9,GlobalEvent:CE,emit:hxe,subscribe:fxe},Symbol.toStringTag,{value:"Module"}));var X8={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */X8.exports;(function(i,e){(function(){var t,n="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,m=4,v=1,b=2,S=1,x=2,w=4,E=8,N=16,A=32,H=64,R=128,M=256,G=512,X=30,$="...",I=800,O=16,B=1,W=2,j=3,U=1/0,K=9007199254740991,z=17976931348623157e292,k=0/0,q=4294967295,fe=q-1,ne=q>>>1,Ce=[["ary",R],["bind",S],["bindKey",x],["curry",E],["curryRight",N],["flip",G],["partial",A],["partialRight",H],["rearg",M]],Te="[object Arguments]",He="[object Array]",ot="[object AsyncFunction]",Rt="[object Boolean]",Re="[object Date]",dt="[object DOMException]",wt="[object Error]",Je="[object Function]",ln="[object GeneratorFunction]",Yt="[object Map]",pn="[object Number]",Ln="[object Null]",Un="[object Object]",ci="[object Promise]",di="[object Proxy]",Gi="[object RegExp]",Vt="[object Set]",un="[object String]",Qn="[object Symbol]",ke="[object Undefined]",Pe="[object WeakMap]",_t="[object WeakSet]",ut="[object ArrayBuffer]",yt="[object DataView]",Li="[object Float32Array]",zt="[object Float64Array]",At="[object Int8Array]",Zt="[object Int16Array]",Xt="[object Int32Array]",Ht="[object Uint8Array]",yr="[object Uint8ClampedArray]",si="[object Uint16Array]",$e="[object Uint32Array]",il=/\b__p \+= '';/g,jn=/\b(__p \+=) '' \+/g,oi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fa=/&(?:amp|lt|gt|quot|#39);/g,yn=/[&<>"']/g,dr=RegExp(fa.source),Il=RegExp(yn.source),tr=/<%-([\s\S]+?)%>/g,Xe=/<%([\s\S]+?)%>/g,Co=/<%=([\s\S]+?)%>/g,Ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,le=RegExp(oe.source),me=/^\s+/,J=/\s/,be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qt=/[()=,{}\[\]\/\s]/,T=/\\(\\)?/g,F=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,te=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,ue=/^\[object .+?Constructor\]$/,Ie=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,Ot=/['\n\r\u2028\u2029\\]/g,Wt="\\ud800-\\udfff",Pt="\\u0300-\\u036f",St="\\ufe20-\\ufe2f",hi="\\u20d0-\\u20ff",Kn=Pt+St+hi,hr="\\u2700-\\u27bf",Yi="a-z\\xdf-\\xf6\\xf8-\\xff",rl="\\xac\\xb1\\xd7\\xf7",kl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yp="\\u2000-\\u206f",iL=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wm="A-Z\\xc0-\\xd6\\xd8-\\xde",Vm="\\ufe0e\\ufe0f",Hm=rl+kl+yp+iL,Rd="[']",rL="["+Wt+"]",$m="["+Hm+"]",iu="["+Kn+"]",zm="\\d+",sL="["+hr+"]",Um="["+Yi+"]",jm="[^"+Wt+Hm+zm+hr+Yi+Wm+"]",Pd="\\ud83c[\\udffb-\\udfff]",oL="(?:"+iu+"|"+Pd+")",Km="[^"+Wt+"]",Fd="(?:\\ud83c[\\udde6-\\uddff]){2}",Bd="[\\ud800-\\udbff][\\udc00-\\udfff]",Io="["+Wm+"]",qm="\\u200d",Gm="(?:"+Um+"|"+jm+")",aL="(?:"+Io+"|"+jm+")",Ym="(?:"+Rd+"(?:d|ll|m|re|s|t|ve))?",Zm="(?:"+Rd+"(?:D|LL|M|RE|S|T|VE))?",Xm=oL+"?",Qm="["+Vm+"]?",lL="(?:"+qm+"(?:"+[Km,Fd,Bd].join("|")+")"+Qm+Xm+")*",uL="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cL="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jm=Qm+Xm+lL,dL="(?:"+[sL,Fd,Bd].join("|")+")"+Jm,hL="(?:"+[Km+iu+"?",iu,Fd,Bd,rL].join("|")+")",fL=RegExp(Rd,"g"),gL=RegExp(iu,"g"),Wd=RegExp(Pd+"(?="+Pd+")|"+hL+Jm,"g"),pL=RegExp([Io+"?"+Um+"+"+Ym+"(?="+[$m,Io,"$"].join("|")+")",aL+"+"+Zm+"(?="+[$m,Io+Gm,"$"].join("|")+")",Io+"?"+Gm+"+"+Ym,Io+"+"+Zm,cL,uL,zm,dL].join("|"),"g"),mL=RegExp("["+qm+Wt+Kn+Vm+"]"),_L=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vL=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bL=-1,Gt={};Gt[Li]=Gt[zt]=Gt[At]=Gt[Zt]=Gt[Xt]=Gt[Ht]=Gt[yr]=Gt[si]=Gt[$e]=!0,Gt[Te]=Gt[He]=Gt[ut]=Gt[Rt]=Gt[yt]=Gt[Re]=Gt[wt]=Gt[Je]=Gt[Yt]=Gt[pn]=Gt[Un]=Gt[Gi]=Gt[Vt]=Gt[un]=Gt[Pe]=!1;var jt={};jt[Te]=jt[He]=jt[ut]=jt[yt]=jt[Rt]=jt[Re]=jt[Li]=jt[zt]=jt[At]=jt[Zt]=jt[Xt]=jt[Yt]=jt[pn]=jt[Un]=jt[Gi]=jt[Vt]=jt[un]=jt[Qn]=jt[Ht]=jt[yr]=jt[si]=jt[$e]=!0,jt[wt]=jt[Je]=jt[Pe]=!1;var CL={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},yL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wL={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},SL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xL=parseFloat,EL=parseInt,e_=typeof Ca=="object"&&Ca&&Ca.Object===Object&&Ca,LL=typeof self=="object"&&self&&self.Object===Object&&self,In=e_||LL||Function("return this")(),Vd=e&&!e.nodeType&&e,Us=Vd&&!0&&i&&!i.nodeType&&i,t_=Us&&Us.exports===Vd,Hd=t_&&e_.process,Bi=function(){try{var Y=Us&&Us.require&&Us.require("util").types;return Y||Hd&&Hd.binding&&Hd.binding("util")}catch{}}(),n_=Bi&&Bi.isArrayBuffer,i_=Bi&&Bi.isDate,r_=Bi&&Bi.isMap,s_=Bi&&Bi.isRegExp,o_=Bi&&Bi.isSet,a_=Bi&&Bi.isTypedArray;function Di(Y,se,ee){switch(ee.length){case 0:return Y.call(se);case 1:return Y.call(se,ee[0]);case 2:return Y.call(se,ee[0],ee[1]);case 3:return Y.call(se,ee[0],ee[1],ee[2])}return Y.apply(se,ee)}function DL(Y,se,ee,De){for(var et=-1,Et=Y==null?0:Y.length;++et<Et;){var wn=Y[et];se(De,wn,ee(wn),Y)}return De}function Wi(Y,se){for(var ee=-1,De=Y==null?0:Y.length;++ee<De&&se(Y[ee],ee,Y)!==!1;);return Y}function TL(Y,se){for(var ee=Y==null?0:Y.length;ee--&&se(Y[ee],ee,Y)!==!1;);return Y}function l_(Y,se){for(var ee=-1,De=Y==null?0:Y.length;++ee<De;)if(!se(Y[ee],ee,Y))return!1;return!0}function fs(Y,se){for(var ee=-1,De=Y==null?0:Y.length,et=0,Et=[];++ee<De;){var wn=Y[ee];se(wn,ee,Y)&&(Et[et++]=wn)}return Et}function ru(Y,se){var ee=Y==null?0:Y.length;return!!ee&&ko(Y,se,0)>-1}function $d(Y,se,ee){for(var De=-1,et=Y==null?0:Y.length;++De<et;)if(ee(se,Y[De]))return!0;return!1}function nn(Y,se){for(var ee=-1,De=Y==null?0:Y.length,et=Array(De);++ee<De;)et[ee]=se(Y[ee],ee,Y);return et}function gs(Y,se){for(var ee=-1,De=se.length,et=Y.length;++ee<De;)Y[et+ee]=se[ee];return Y}function zd(Y,se,ee,De){var et=-1,Et=Y==null?0:Y.length;for(De&&Et&&(ee=Y[++et]);++et<Et;)ee=se(ee,Y[et],et,Y);return ee}function IL(Y,se,ee,De){var et=Y==null?0:Y.length;for(De&&et&&(ee=Y[--et]);et--;)ee=se(ee,Y[et],et,Y);return ee}function Ud(Y,se){for(var ee=-1,De=Y==null?0:Y.length;++ee<De;)if(se(Y[ee],ee,Y))return!0;return!1}var kL=jd("length");function NL(Y){return Y.split("")}function AL(Y){return Y.match(ft)||[]}function u_(Y,se,ee){var De;return ee(Y,function(et,Et,wn){if(se(et,Et,wn))return De=Et,!1}),De}function su(Y,se,ee,De){for(var et=Y.length,Et=ee+(De?1:-1);De?Et--:++Et<et;)if(se(Y[Et],Et,Y))return Et;return-1}function ko(Y,se,ee){return se===se?UL(Y,se,ee):su(Y,c_,ee)}function OL(Y,se,ee,De){for(var et=ee-1,Et=Y.length;++et<Et;)if(De(Y[et],se))return et;return-1}function c_(Y){return Y!==Y}function d_(Y,se){var ee=Y==null?0:Y.length;return ee?qd(Y,se)/ee:k}function jd(Y){return function(se){return se==null?t:se[Y]}}function Kd(Y){return function(se){return Y==null?t:Y[se]}}function h_(Y,se,ee,De,et){return et(Y,function(Et,wn,$t){ee=De?(De=!1,Et):se(ee,Et,wn,$t)}),ee}function ML(Y,se){var ee=Y.length;for(Y.sort(se);ee--;)Y[ee]=Y[ee].value;return Y}function qd(Y,se){for(var ee,De=-1,et=Y.length;++De<et;){var Et=se(Y[De]);Et!==t&&(ee=ee===t?Et:ee+Et)}return ee}function Gd(Y,se){for(var ee=-1,De=Array(Y);++ee<Y;)De[ee]=se(ee);return De}function RL(Y,se){return nn(se,function(ee){return[ee,Y[ee]]})}function f_(Y){return Y&&Y.slice(0,__(Y)+1).replace(me,"")}function Ti(Y){return function(se){return Y(se)}}function Yd(Y,se){return nn(se,function(ee){return Y[ee]})}function Ta(Y,se){return Y.has(se)}function g_(Y,se){for(var ee=-1,De=Y.length;++ee<De&&ko(se,Y[ee],0)>-1;);return ee}function p_(Y,se){for(var ee=Y.length;ee--&&ko(se,Y[ee],0)>-1;);return ee}function PL(Y,se){for(var ee=Y.length,De=0;ee--;)Y[ee]===se&&++De;return De}var FL=Kd(CL),BL=Kd(yL);function WL(Y){return"\\"+SL[Y]}function VL(Y,se){return Y==null?t:Y[se]}function No(Y){return mL.test(Y)}function HL(Y){return _L.test(Y)}function $L(Y){for(var se,ee=[];!(se=Y.next()).done;)ee.push(se.value);return ee}function Zd(Y){var se=-1,ee=Array(Y.size);return Y.forEach(function(De,et){ee[++se]=[et,De]}),ee}function m_(Y,se){return function(ee){return Y(se(ee))}}function ps(Y,se){for(var ee=-1,De=Y.length,et=0,Et=[];++ee<De;){var wn=Y[ee];(wn===se||wn===h)&&(Y[ee]=h,Et[et++]=ee)}return Et}function ou(Y){var se=-1,ee=Array(Y.size);return Y.forEach(function(De){ee[++se]=De}),ee}function zL(Y){var se=-1,ee=Array(Y.size);return Y.forEach(function(De){ee[++se]=[De,De]}),ee}function UL(Y,se,ee){for(var De=ee-1,et=Y.length;++De<et;)if(Y[De]===se)return De;return-1}function jL(Y,se,ee){for(var De=ee+1;De--;)if(Y[De]===se)return De;return De}function Ao(Y){return No(Y)?qL(Y):kL(Y)}function ir(Y){return No(Y)?GL(Y):NL(Y)}function __(Y){for(var se=Y.length;se--&&J.test(Y.charAt(se)););return se}var KL=Kd(wL);function qL(Y){for(var se=Wd.lastIndex=0;Wd.test(Y);)++se;return se}function GL(Y){return Y.match(Wd)||[]}function YL(Y){return Y.match(pL)||[]}var ZL=function Y(se){se=se==null?In:Oo.defaults(In.Object(),se,Oo.pick(In,vL));var ee=se.Array,De=se.Date,et=se.Error,Et=se.Function,wn=se.Math,$t=se.Object,Xd=se.RegExp,XL=se.String,Vi=se.TypeError,au=ee.prototype,QL=Et.prototype,Mo=$t.prototype,lu=se["__core-js_shared__"],uu=QL.toString,Mt=Mo.hasOwnProperty,JL=0,v_=function(){var l=/[^.]+$/.exec(lu&&lu.keys&&lu.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),cu=Mo.toString,eD=uu.call($t),tD=In._,nD=Xd("^"+uu.call(Mt).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),du=t_?se.Buffer:t,ms=se.Symbol,hu=se.Uint8Array,b_=du?du.allocUnsafe:t,fu=m_($t.getPrototypeOf,$t),C_=$t.create,y_=Mo.propertyIsEnumerable,gu=au.splice,w_=ms?ms.isConcatSpreadable:t,Ia=ms?ms.iterator:t,js=ms?ms.toStringTag:t,pu=function(){try{var l=Zs($t,"defineProperty");return l({},"",{}),l}catch{}}(),iD=se.clearTimeout!==In.clearTimeout&&se.clearTimeout,rD=De&&De.now!==In.Date.now&&De.now,sD=se.setTimeout!==In.setTimeout&&se.setTimeout,mu=wn.ceil,_u=wn.floor,Qd=$t.getOwnPropertySymbols,oD=du?du.isBuffer:t,S_=se.isFinite,aD=au.join,lD=m_($t.keys,$t),Sn=wn.max,Pn=wn.min,uD=De.now,cD=se.parseInt,x_=wn.random,dD=au.reverse,Jd=Zs(se,"DataView"),ka=Zs(se,"Map"),eh=Zs(se,"Promise"),Ro=Zs(se,"Set"),Na=Zs(se,"WeakMap"),Aa=Zs($t,"create"),vu=Na&&new Na,Po={},hD=Xs(Jd),fD=Xs(ka),gD=Xs(eh),pD=Xs(Ro),mD=Xs(Na),bu=ms?ms.prototype:t,Oa=bu?bu.valueOf:t,E_=bu?bu.toString:t;function L(l){if(cn(l)&&!it(l)&&!(l instanceof vt)){if(l instanceof Hi)return l;if(Mt.call(l,"__wrapped__"))return Lv(l)}return new Hi(l)}var Fo=function(){function l(){}return function(d){if(!sn(d))return{};if(C_)return C_(d);l.prototype=d;var g=new l;return l.prototype=t,g}}();function Cu(){}function Hi(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}L.templateSettings={escape:tr,evaluate:Xe,interpolate:Co,variable:"",imports:{_:L}},L.prototype=Cu.prototype,L.prototype.constructor=L,Hi.prototype=Fo(Cu.prototype),Hi.prototype.constructor=Hi;function vt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function _D(){var l=new vt(this.__wrapped__);return l.__actions__=fi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=fi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=fi(this.__views__),l}function vD(){if(this.__filtered__){var l=new vt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function bD(){var l=this.__wrapped__.value(),d=this.__dir__,g=it(l),_=d<0,y=g?l.length:0,D=NT(0,y,this.__views__),P=D.start,V=D.end,Z=V-P,ce=_?V:P-1,de=this.__iteratees__,pe=de.length,xe=0,Ae=Pn(Z,this.__takeCount__);if(!g||!_&&y==Z&&Ae==Z)return Y_(l,this.__actions__);var je=[];e:for(;Z--&&xe<Ae;){ce+=d;for(var ct=-1,Ke=l[ce];++ct<pe;){var gt=de[ct],Ct=gt.iteratee,Ni=gt.type,ti=Ct(Ke);if(Ni==W)Ke=ti;else if(!ti){if(Ni==B)continue e;break e}}je[xe++]=Ke}return je}vt.prototype=Fo(Cu.prototype),vt.prototype.constructor=vt;function Ks(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function CD(){this.__data__=Aa?Aa(null):{},this.size=0}function yD(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function wD(l){var d=this.__data__;if(Aa){var g=d[l];return g===u?t:g}return Mt.call(d,l)?d[l]:t}function SD(l){var d=this.__data__;return Aa?d[l]!==t:Mt.call(d,l)}function xD(l,d){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=Aa&&d===t?u:d,this}Ks.prototype.clear=CD,Ks.prototype.delete=yD,Ks.prototype.get=wD,Ks.prototype.has=SD,Ks.prototype.set=xD;function Hr(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function ED(){this.__data__=[],this.size=0}function LD(l){var d=this.__data__,g=yu(d,l);if(g<0)return!1;var _=d.length-1;return g==_?d.pop():gu.call(d,g,1),--this.size,!0}function DD(l){var d=this.__data__,g=yu(d,l);return g<0?t:d[g][1]}function TD(l){return yu(this.__data__,l)>-1}function ID(l,d){var g=this.__data__,_=yu(g,l);return _<0?(++this.size,g.push([l,d])):g[_][1]=d,this}Hr.prototype.clear=ED,Hr.prototype.delete=LD,Hr.prototype.get=DD,Hr.prototype.has=TD,Hr.prototype.set=ID;function $r(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function kD(){this.size=0,this.__data__={hash:new Ks,map:new(ka||Hr),string:new Ks}}function ND(l){var d=Ou(this,l).delete(l);return this.size-=d?1:0,d}function AD(l){return Ou(this,l).get(l)}function OD(l){return Ou(this,l).has(l)}function MD(l,d){var g=Ou(this,l),_=g.size;return g.set(l,d),this.size+=g.size==_?0:1,this}$r.prototype.clear=kD,$r.prototype.delete=ND,$r.prototype.get=AD,$r.prototype.has=OD,$r.prototype.set=MD;function qs(l){var d=-1,g=l==null?0:l.length;for(this.__data__=new $r;++d<g;)this.add(l[d])}function RD(l){return this.__data__.set(l,u),this}function PD(l){return this.__data__.has(l)}qs.prototype.add=qs.prototype.push=RD,qs.prototype.has=PD;function rr(l){var d=this.__data__=new Hr(l);this.size=d.size}function FD(){this.__data__=new Hr,this.size=0}function BD(l){var d=this.__data__,g=d.delete(l);return this.size=d.size,g}function WD(l){return this.__data__.get(l)}function VD(l){return this.__data__.has(l)}function HD(l,d){var g=this.__data__;if(g instanceof Hr){var _=g.__data__;if(!ka||_.length<r-1)return _.push([l,d]),this.size=++g.size,this;g=this.__data__=new $r(_)}return g.set(l,d),this.size=g.size,this}rr.prototype.clear=FD,rr.prototype.delete=BD,rr.prototype.get=WD,rr.prototype.has=VD,rr.prototype.set=HD;function L_(l,d){var g=it(l),_=!g&&Qs(l),y=!g&&!_&&ys(l),D=!g&&!_&&!y&&Ho(l),P=g||_||y||D,V=P?Gd(l.length,XL):[],Z=V.length;for(var ce in l)(d||Mt.call(l,ce))&&!(P&&(ce=="length"||y&&(ce=="offset"||ce=="parent")||D&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||Kr(ce,Z)))&&V.push(ce);return V}function D_(l){var d=l.length;return d?l[dh(0,d-1)]:t}function $D(l,d){return Mu(fi(l),Gs(d,0,l.length))}function zD(l){return Mu(fi(l))}function th(l,d,g){(g!==t&&!sr(l[d],g)||g===t&&!(d in l))&&zr(l,d,g)}function Ma(l,d,g){var _=l[d];(!(Mt.call(l,d)&&sr(_,g))||g===t&&!(d in l))&&zr(l,d,g)}function yu(l,d){for(var g=l.length;g--;)if(sr(l[g][0],d))return g;return-1}function UD(l,d,g,_){return _s(l,function(y,D,P){d(_,y,g(y),P)}),_}function T_(l,d){return l&&Er(d,Dn(d),l)}function jD(l,d){return l&&Er(d,pi(d),l)}function zr(l,d,g){d=="__proto__"&&pu?pu(l,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[d]=g}function nh(l,d){for(var g=-1,_=d.length,y=ee(_),D=l==null;++g<_;)y[g]=D?t:Ph(l,d[g]);return y}function Gs(l,d,g){return l===l&&(g!==t&&(l=l<=g?l:g),d!==t&&(l=l>=d?l:d)),l}function $i(l,d,g,_,y,D){var P,V=d&f,Z=d&p,ce=d&m;if(g&&(P=y?g(l,_,y,D):g(l)),P!==t)return P;if(!sn(l))return l;var de=it(l);if(de){if(P=OT(l),!V)return fi(l,P)}else{var pe=Fn(l),xe=pe==Je||pe==ln;if(ys(l))return Q_(l,V);if(pe==Un||pe==Te||xe&&!y){if(P=Z||xe?{}:_v(l),!V)return Z?wT(l,jD(P,l)):yT(l,T_(P,l))}else{if(!jt[pe])return y?l:{};P=MT(l,pe,V)}}D||(D=new rr);var Ae=D.get(l);if(Ae)return Ae;D.set(l,P),Kv(l)?l.forEach(function(Ke){P.add($i(Ke,d,g,Ke,l,D))}):Uv(l)&&l.forEach(function(Ke,gt){P.set(gt,$i(Ke,d,g,gt,l,D))});var je=ce?Z?wh:yh:Z?pi:Dn,ct=de?t:je(l);return Wi(ct||l,function(Ke,gt){ct&&(gt=Ke,Ke=l[gt]),Ma(P,gt,$i(Ke,d,g,gt,l,D))}),P}function KD(l){var d=Dn(l);return function(g){return I_(g,l,d)}}function I_(l,d,g){var _=g.length;if(l==null)return!_;for(l=$t(l);_--;){var y=g[_],D=d[y],P=l[y];if(P===t&&!(y in l)||!D(P))return!1}return!0}function k_(l,d,g){if(typeof l!="function")throw new Vi(o);return Ha(function(){l.apply(t,g)},d)}function Ra(l,d,g,_){var y=-1,D=ru,P=!0,V=l.length,Z=[],ce=d.length;if(!V)return Z;g&&(d=nn(d,Ti(g))),_?(D=$d,P=!1):d.length>=r&&(D=Ta,P=!1,d=new qs(d));e:for(;++y<V;){var de=l[y],pe=g==null?de:g(de);if(de=_||de!==0?de:0,P&&pe===pe){for(var xe=ce;xe--;)if(d[xe]===pe)continue e;Z.push(de)}else D(d,pe,_)||Z.push(de)}return Z}var _s=iv(xr),N_=iv(rh,!0);function qD(l,d){var g=!0;return _s(l,function(_,y,D){return g=!!d(_,y,D),g}),g}function wu(l,d,g){for(var _=-1,y=l.length;++_<y;){var D=l[_],P=d(D);if(P!=null&&(V===t?P===P&&!ki(P):g(P,V)))var V=P,Z=D}return Z}function GD(l,d,g,_){var y=l.length;for(g=at(g),g<0&&(g=-g>y?0:y+g),_=_===t||_>y?y:at(_),_<0&&(_+=y),_=g>_?0:Gv(_);g<_;)l[g++]=d;return l}function A_(l,d){var g=[];return _s(l,function(_,y,D){d(_,y,D)&&g.push(_)}),g}function kn(l,d,g,_,y){var D=-1,P=l.length;for(g||(g=PT),y||(y=[]);++D<P;){var V=l[D];d>0&&g(V)?d>1?kn(V,d-1,g,_,y):gs(y,V):_||(y[y.length]=V)}return y}var ih=rv(),O_=rv(!0);function xr(l,d){return l&&ih(l,d,Dn)}function rh(l,d){return l&&O_(l,d,Dn)}function Su(l,d){return fs(d,function(g){return qr(l[g])})}function Ys(l,d){d=bs(d,l);for(var g=0,_=d.length;l!=null&&g<_;)l=l[Lr(d[g++])];return g&&g==_?l:t}function M_(l,d,g){var _=d(l);return it(l)?_:gs(_,g(l))}function Jn(l){return l==null?l===t?ke:Ln:js&&js in $t(l)?kT(l):zT(l)}function sh(l,d){return l>d}function YD(l,d){return l!=null&&Mt.call(l,d)}function ZD(l,d){return l!=null&&d in $t(l)}function XD(l,d,g){return l>=Pn(d,g)&&l<Sn(d,g)}function oh(l,d,g){for(var _=g?$d:ru,y=l[0].length,D=l.length,P=D,V=ee(D),Z=1/0,ce=[];P--;){var de=l[P];P&&d&&(de=nn(de,Ti(d))),Z=Pn(de.length,Z),V[P]=!g&&(d||y>=120&&de.length>=120)?new qs(P&&de):t}de=l[0];var pe=-1,xe=V[0];e:for(;++pe<y&&ce.length<Z;){var Ae=de[pe],je=d?d(Ae):Ae;if(Ae=g||Ae!==0?Ae:0,!(xe?Ta(xe,je):_(ce,je,g))){for(P=D;--P;){var ct=V[P];if(!(ct?Ta(ct,je):_(l[P],je,g)))continue e}xe&&xe.push(je),ce.push(Ae)}}return ce}function QD(l,d,g,_){return xr(l,function(y,D,P){d(_,g(y),D,P)}),_}function Pa(l,d,g){d=bs(d,l),l=yv(l,d);var _=l==null?l:l[Lr(Ui(d))];return _==null?t:Di(_,l,g)}function R_(l){return cn(l)&&Jn(l)==Te}function JD(l){return cn(l)&&Jn(l)==ut}function eT(l){return cn(l)&&Jn(l)==Re}function Fa(l,d,g,_,y){return l===d?!0:l==null||d==null||!cn(l)&&!cn(d)?l!==l&&d!==d:tT(l,d,g,_,Fa,y)}function tT(l,d,g,_,y,D){var P=it(l),V=it(d),Z=P?He:Fn(l),ce=V?He:Fn(d);Z=Z==Te?Un:Z,ce=ce==Te?Un:ce;var de=Z==Un,pe=ce==Un,xe=Z==ce;if(xe&&ys(l)){if(!ys(d))return!1;P=!0,de=!1}if(xe&&!de)return D||(D=new rr),P||Ho(l)?gv(l,d,g,_,y,D):TT(l,d,Z,g,_,y,D);if(!(g&v)){var Ae=de&&Mt.call(l,"__wrapped__"),je=pe&&Mt.call(d,"__wrapped__");if(Ae||je){var ct=Ae?l.value():l,Ke=je?d.value():d;return D||(D=new rr),y(ct,Ke,g,_,D)}}return xe?(D||(D=new rr),IT(l,d,g,_,y,D)):!1}function nT(l){return cn(l)&&Fn(l)==Yt}function ah(l,d,g,_){var y=g.length,D=y,P=!_;if(l==null)return!D;for(l=$t(l);y--;){var V=g[y];if(P&&V[2]?V[1]!==l[V[0]]:!(V[0]in l))return!1}for(;++y<D;){V=g[y];var Z=V[0],ce=l[Z],de=V[1];if(P&&V[2]){if(ce===t&&!(Z in l))return!1}else{var pe=new rr;if(_)var xe=_(ce,de,Z,l,d,pe);if(!(xe===t?Fa(de,ce,v|b,_,pe):xe))return!1}}return!0}function P_(l){if(!sn(l)||BT(l))return!1;var d=qr(l)?nD:ue;return d.test(Xs(l))}function iT(l){return cn(l)&&Jn(l)==Gi}function rT(l){return cn(l)&&Fn(l)==Vt}function sT(l){return cn(l)&&Vu(l.length)&&!!Gt[Jn(l)]}function F_(l){return typeof l=="function"?l:l==null?mi:typeof l=="object"?it(l)?V_(l[0],l[1]):W_(l):s0(l)}function lh(l){if(!Va(l))return lD(l);var d=[];for(var g in $t(l))Mt.call(l,g)&&g!="constructor"&&d.push(g);return d}function oT(l){if(!sn(l))return $T(l);var d=Va(l),g=[];for(var _ in l)_=="constructor"&&(d||!Mt.call(l,_))||g.push(_);return g}function uh(l,d){return l<d}function B_(l,d){var g=-1,_=gi(l)?ee(l.length):[];return _s(l,function(y,D,P){_[++g]=d(y,D,P)}),_}function W_(l){var d=xh(l);return d.length==1&&d[0][2]?bv(d[0][0],d[0][1]):function(g){return g===l||ah(g,l,d)}}function V_(l,d){return Lh(l)&&vv(d)?bv(Lr(l),d):function(g){var _=Ph(g,l);return _===t&&_===d?Fh(g,l):Fa(d,_,v|b)}}function xu(l,d,g,_,y){l!==d&&ih(d,function(D,P){if(y||(y=new rr),sn(D))aT(l,d,P,g,xu,_,y);else{var V=_?_(Th(l,P),D,P+"",l,d,y):t;V===t&&(V=D),th(l,P,V)}},pi)}function aT(l,d,g,_,y,D,P){var V=Th(l,g),Z=Th(d,g),ce=P.get(Z);if(ce){th(l,g,ce);return}var de=D?D(V,Z,g+"",l,d,P):t,pe=de===t;if(pe){var xe=it(Z),Ae=!xe&&ys(Z),je=!xe&&!Ae&&Ho(Z);de=Z,xe||Ae||je?it(V)?de=V:mn(V)?de=fi(V):Ae?(pe=!1,de=Q_(Z,!0)):je?(pe=!1,de=J_(Z,!0)):de=[]:$a(Z)||Qs(Z)?(de=V,Qs(V)?de=Yv(V):(!sn(V)||qr(V))&&(de=_v(Z))):pe=!1}pe&&(P.set(Z,de),y(de,Z,_,D,P),P.delete(Z)),th(l,g,de)}function H_(l,d){var g=l.length;if(g)return d+=d<0?g:0,Kr(d,g)?l[d]:t}function $_(l,d,g){d.length?d=nn(d,function(D){return it(D)?function(P){return Ys(P,D.length===1?D[0]:D)}:D}):d=[mi];var _=-1;d=nn(d,Ti(Ve()));var y=B_(l,function(D,P,V){var Z=nn(d,function(ce){return ce(D)});return{criteria:Z,index:++_,value:D}});return ML(y,function(D,P){return CT(D,P,g)})}function lT(l,d){return z_(l,d,function(g,_){return Fh(l,_)})}function z_(l,d,g){for(var _=-1,y=d.length,D={};++_<y;){var P=d[_],V=Ys(l,P);g(V,P)&&Ba(D,bs(P,l),V)}return D}function uT(l){return function(d){return Ys(d,l)}}function ch(l,d,g,_){var y=_?OL:ko,D=-1,P=d.length,V=l;for(l===d&&(d=fi(d)),g&&(V=nn(l,Ti(g)));++D<P;)for(var Z=0,ce=d[D],de=g?g(ce):ce;(Z=y(V,de,Z,_))>-1;)V!==l&&gu.call(V,Z,1),gu.call(l,Z,1);return l}function U_(l,d){for(var g=l?d.length:0,_=g-1;g--;){var y=d[g];if(g==_||y!==D){var D=y;Kr(y)?gu.call(l,y,1):gh(l,y)}}return l}function dh(l,d){return l+_u(x_()*(d-l+1))}function cT(l,d,g,_){for(var y=-1,D=Sn(mu((d-l)/(g||1)),0),P=ee(D);D--;)P[_?D:++y]=l,l+=g;return P}function hh(l,d){var g="";if(!l||d<1||d>K)return g;do d%2&&(g+=l),d=_u(d/2),d&&(l+=l);while(d);return g}function ht(l,d){return Ih(Cv(l,d,mi),l+"")}function dT(l){return D_($o(l))}function hT(l,d){var g=$o(l);return Mu(g,Gs(d,0,g.length))}function Ba(l,d,g,_){if(!sn(l))return l;d=bs(d,l);for(var y=-1,D=d.length,P=D-1,V=l;V!=null&&++y<D;){var Z=Lr(d[y]),ce=g;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return l;if(y!=P){var de=V[Z];ce=_?_(de,Z,V):t,ce===t&&(ce=sn(de)?de:Kr(d[y+1])?[]:{})}Ma(V,Z,ce),V=V[Z]}return l}var j_=vu?function(l,d){return vu.set(l,d),l}:mi,fT=pu?function(l,d){return pu(l,"toString",{configurable:!0,enumerable:!1,value:Wh(d),writable:!0})}:mi;function gT(l){return Mu($o(l))}function zi(l,d,g){var _=-1,y=l.length;d<0&&(d=-d>y?0:y+d),g=g>y?y:g,g<0&&(g+=y),y=d>g?0:g-d>>>0,d>>>=0;for(var D=ee(y);++_<y;)D[_]=l[_+d];return D}function pT(l,d){var g;return _s(l,function(_,y,D){return g=d(_,y,D),!g}),!!g}function Eu(l,d,g){var _=0,y=l==null?_:l.length;if(typeof d=="number"&&d===d&&y<=ne){for(;_<y;){var D=_+y>>>1,P=l[D];P!==null&&!ki(P)&&(g?P<=d:P<d)?_=D+1:y=D}return y}return fh(l,d,mi,g)}function fh(l,d,g,_){var y=0,D=l==null?0:l.length;if(D===0)return 0;d=g(d);for(var P=d!==d,V=d===null,Z=ki(d),ce=d===t;y<D;){var de=_u((y+D)/2),pe=g(l[de]),xe=pe!==t,Ae=pe===null,je=pe===pe,ct=ki(pe);if(P)var Ke=_||je;else ce?Ke=je&&(_||xe):V?Ke=je&&xe&&(_||!Ae):Z?Ke=je&&xe&&!Ae&&(_||!ct):Ae||ct?Ke=!1:Ke=_?pe<=d:pe<d;Ke?y=de+1:D=de}return Pn(D,fe)}function K_(l,d){for(var g=-1,_=l.length,y=0,D=[];++g<_;){var P=l[g],V=d?d(P):P;if(!g||!sr(V,Z)){var Z=V;D[y++]=P===0?0:P}}return D}function q_(l){return typeof l=="number"?l:ki(l)?k:+l}function Ii(l){if(typeof l=="string")return l;if(it(l))return nn(l,Ii)+"";if(ki(l))return E_?E_.call(l):"";var d=l+"";return d=="0"&&1/l==-U?"-0":d}function vs(l,d,g){var _=-1,y=ru,D=l.length,P=!0,V=[],Z=V;if(g)P=!1,y=$d;else if(D>=r){var ce=d?null:LT(l);if(ce)return ou(ce);P=!1,y=Ta,Z=new qs}else Z=d?[]:V;e:for(;++_<D;){var de=l[_],pe=d?d(de):de;if(de=g||de!==0?de:0,P&&pe===pe){for(var xe=Z.length;xe--;)if(Z[xe]===pe)continue e;d&&Z.push(pe),V.push(de)}else y(Z,pe,g)||(Z!==V&&Z.push(pe),V.push(de))}return V}function gh(l,d){return d=bs(d,l),l=yv(l,d),l==null||delete l[Lr(Ui(d))]}function G_(l,d,g,_){return Ba(l,d,g(Ys(l,d)),_)}function Lu(l,d,g,_){for(var y=l.length,D=_?y:-1;(_?D--:++D<y)&&d(l[D],D,l););return g?zi(l,_?0:D,_?D+1:y):zi(l,_?D+1:0,_?y:D)}function Y_(l,d){var g=l;return g instanceof vt&&(g=g.value()),zd(d,function(_,y){return y.func.apply(y.thisArg,gs([_],y.args))},g)}function ph(l,d,g){var _=l.length;if(_<2)return _?vs(l[0]):[];for(var y=-1,D=ee(_);++y<_;)for(var P=l[y],V=-1;++V<_;)V!=y&&(D[y]=Ra(D[y]||P,l[V],d,g));return vs(kn(D,1),d,g)}function Z_(l,d,g){for(var _=-1,y=l.length,D=d.length,P={};++_<y;){var V=_<D?d[_]:t;g(P,l[_],V)}return P}function mh(l){return mn(l)?l:[]}function _h(l){return typeof l=="function"?l:mi}function bs(l,d){return it(l)?l:Lh(l,d)?[l]:Ev(Tt(l))}var mT=ht;function Cs(l,d,g){var _=l.length;return g=g===t?_:g,!d&&g>=_?l:zi(l,d,g)}var X_=iD||function(l){return In.clearTimeout(l)};function Q_(l,d){if(d)return l.slice();var g=l.length,_=b_?b_(g):new l.constructor(g);return l.copy(_),_}function vh(l){var d=new l.constructor(l.byteLength);return new hu(d).set(new hu(l)),d}function _T(l,d){var g=d?vh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function vT(l){var d=new l.constructor(l.source,te.exec(l));return d.lastIndex=l.lastIndex,d}function bT(l){return Oa?$t(Oa.call(l)):{}}function J_(l,d){var g=d?vh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function ev(l,d){if(l!==d){var g=l!==t,_=l===null,y=l===l,D=ki(l),P=d!==t,V=d===null,Z=d===d,ce=ki(d);if(!V&&!ce&&!D&&l>d||D&&P&&Z&&!V&&!ce||_&&P&&Z||!g&&Z||!y)return 1;if(!_&&!D&&!ce&&l<d||ce&&g&&y&&!_&&!D||V&&g&&y||!P&&y||!Z)return-1}return 0}function CT(l,d,g){for(var _=-1,y=l.criteria,D=d.criteria,P=y.length,V=g.length;++_<P;){var Z=ev(y[_],D[_]);if(Z){if(_>=V)return Z;var ce=g[_];return Z*(ce=="desc"?-1:1)}}return l.index-d.index}function tv(l,d,g,_){for(var y=-1,D=l.length,P=g.length,V=-1,Z=d.length,ce=Sn(D-P,0),de=ee(Z+ce),pe=!_;++V<Z;)de[V]=d[V];for(;++y<P;)(pe||y<D)&&(de[g[y]]=l[y]);for(;ce--;)de[V++]=l[y++];return de}function nv(l,d,g,_){for(var y=-1,D=l.length,P=-1,V=g.length,Z=-1,ce=d.length,de=Sn(D-V,0),pe=ee(de+ce),xe=!_;++y<de;)pe[y]=l[y];for(var Ae=y;++Z<ce;)pe[Ae+Z]=d[Z];for(;++P<V;)(xe||y<D)&&(pe[Ae+g[P]]=l[y++]);return pe}function fi(l,d){var g=-1,_=l.length;for(d||(d=ee(_));++g<_;)d[g]=l[g];return d}function Er(l,d,g,_){var y=!g;g||(g={});for(var D=-1,P=d.length;++D<P;){var V=d[D],Z=_?_(g[V],l[V],V,g,l):t;Z===t&&(Z=l[V]),y?zr(g,V,Z):Ma(g,V,Z)}return g}function yT(l,d){return Er(l,Eh(l),d)}function wT(l,d){return Er(l,pv(l),d)}function Du(l,d){return function(g,_){var y=it(g)?DL:UD,D=d?d():{};return y(g,l,Ve(_,2),D)}}function Bo(l){return ht(function(d,g){var _=-1,y=g.length,D=y>1?g[y-1]:t,P=y>2?g[2]:t;for(D=l.length>3&&typeof D=="function"?(y--,D):t,P&&ei(g[0],g[1],P)&&(D=y<3?t:D,y=1),d=$t(d);++_<y;){var V=g[_];V&&l(d,V,_,D)}return d})}function iv(l,d){return function(g,_){if(g==null)return g;if(!gi(g))return l(g,_);for(var y=g.length,D=d?y:-1,P=$t(g);(d?D--:++D<y)&&_(P[D],D,P)!==!1;);return g}}function rv(l){return function(d,g,_){for(var y=-1,D=$t(d),P=_(d),V=P.length;V--;){var Z=P[l?V:++y];if(g(D[Z],Z,D)===!1)break}return d}}function ST(l,d,g){var _=d&S,y=Wa(l);function D(){var P=this&&this!==In&&this instanceof D?y:l;return P.apply(_?g:this,arguments)}return D}function sv(l){return function(d){d=Tt(d);var g=No(d)?ir(d):t,_=g?g[0]:d.charAt(0),y=g?Cs(g,1).join(""):d.slice(1);return _[l]()+y}}function Wo(l){return function(d){return zd(i0(n0(d).replace(fL,"")),l,"")}}function Wa(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Fo(l.prototype),_=l.apply(g,d);return sn(_)?_:g}}function xT(l,d,g){var _=Wa(l);function y(){for(var D=arguments.length,P=ee(D),V=D,Z=Vo(y);V--;)P[V]=arguments[V];var ce=D<3&&P[0]!==Z&&P[D-1]!==Z?[]:ps(P,Z);if(D-=ce.length,D<g)return cv(l,d,Tu,y.placeholder,t,P,ce,t,t,g-D);var de=this&&this!==In&&this instanceof y?_:l;return Di(de,this,P)}return y}function ov(l){return function(d,g,_){var y=$t(d);if(!gi(d)){var D=Ve(g,3);d=Dn(d),g=function(V){return D(y[V],V,y)}}var P=l(d,g,_);return P>-1?y[D?d[P]:P]:t}}function av(l){return jr(function(d){var g=d.length,_=g,y=Hi.prototype.thru;for(l&&d.reverse();_--;){var D=d[_];if(typeof D!="function")throw new Vi(o);if(y&&!P&&Au(D)=="wrapper")var P=new Hi([],!0)}for(_=P?_:g;++_<g;){D=d[_];var V=Au(D),Z=V=="wrapper"?Sh(D):t;Z&&Dh(Z[0])&&Z[1]==(R|E|A|M)&&!Z[4].length&&Z[9]==1?P=P[Au(Z[0])].apply(P,Z[3]):P=D.length==1&&Dh(D)?P[V]():P.thru(D)}return function(){var ce=arguments,de=ce[0];if(P&&ce.length==1&&it(de))return P.plant(de).value();for(var pe=0,xe=g?d[pe].apply(this,ce):de;++pe<g;)xe=d[pe].call(this,xe);return xe}})}function Tu(l,d,g,_,y,D,P,V,Z,ce){var de=d&R,pe=d&S,xe=d&x,Ae=d&(E|N),je=d&G,ct=xe?t:Wa(l);function Ke(){for(var gt=arguments.length,Ct=ee(gt),Ni=gt;Ni--;)Ct[Ni]=arguments[Ni];if(Ae)var ti=Vo(Ke),Ai=PL(Ct,ti);if(_&&(Ct=tv(Ct,_,y,Ae)),D&&(Ct=nv(Ct,D,P,Ae)),gt-=Ai,Ae&&gt<ce){var _n=ps(Ct,ti);return cv(l,d,Tu,Ke.placeholder,g,Ct,_n,V,Z,ce-gt)}var or=pe?g:this,Yr=xe?or[l]:l;return gt=Ct.length,V?Ct=UT(Ct,V):je&&gt>1&&Ct.reverse(),de&&Z<gt&&(Ct.length=Z),this&&this!==In&&this instanceof Ke&&(Yr=ct||Wa(Yr)),Yr.apply(or,Ct)}return Ke}function lv(l,d){return function(g,_){return QD(g,l,d(_),{})}}function Iu(l,d){return function(g,_){var y;if(g===t&&_===t)return d;if(g!==t&&(y=g),_!==t){if(y===t)return _;typeof g=="string"||typeof _=="string"?(g=Ii(g),_=Ii(_)):(g=q_(g),_=q_(_)),y=l(g,_)}return y}}function bh(l){return jr(function(d){return d=nn(d,Ti(Ve())),ht(function(g){var _=this;return l(d,function(y){return Di(y,_,g)})})})}function ku(l,d){d=d===t?" ":Ii(d);var g=d.length;if(g<2)return g?hh(d,l):d;var _=hh(d,mu(l/Ao(d)));return No(d)?Cs(ir(_),0,l).join(""):_.slice(0,l)}function ET(l,d,g,_){var y=d&S,D=Wa(l);function P(){for(var V=-1,Z=arguments.length,ce=-1,de=_.length,pe=ee(de+Z),xe=this&&this!==In&&this instanceof P?D:l;++ce<de;)pe[ce]=_[ce];for(;Z--;)pe[ce++]=arguments[++V];return Di(xe,y?g:this,pe)}return P}function uv(l){return function(d,g,_){return _&&typeof _!="number"&&ei(d,g,_)&&(g=_=t),d=Gr(d),g===t?(g=d,d=0):g=Gr(g),_=_===t?d<g?1:-1:Gr(_),cT(d,g,_,l)}}function Nu(l){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=ji(d),g=ji(g)),l(d,g)}}function cv(l,d,g,_,y,D,P,V,Z,ce){var de=d&E,pe=de?P:t,xe=de?t:P,Ae=de?D:t,je=de?t:D;d|=de?A:H,d&=~(de?H:A),d&w||(d&=~(S|x));var ct=[l,d,y,Ae,pe,je,xe,V,Z,ce],Ke=g.apply(t,ct);return Dh(l)&&wv(Ke,ct),Ke.placeholder=_,Sv(Ke,l,d)}function Ch(l){var d=wn[l];return function(g,_){if(g=ji(g),_=_==null?0:Pn(at(_),292),_&&S_(g)){var y=(Tt(g)+"e").split("e"),D=d(y[0]+"e"+(+y[1]+_));return y=(Tt(D)+"e").split("e"),+(y[0]+"e"+(+y[1]-_))}return d(g)}}var LT=Ro&&1/ou(new Ro([,-0]))[1]==U?function(l){return new Ro(l)}:$h;function dv(l){return function(d){var g=Fn(d);return g==Yt?Zd(d):g==Vt?zL(d):RL(d,l(d))}}function Ur(l,d,g,_,y,D,P,V){var Z=d&x;if(!Z&&typeof l!="function")throw new Vi(o);var ce=_?_.length:0;if(ce||(d&=~(A|H),_=y=t),P=P===t?P:Sn(at(P),0),V=V===t?V:at(V),ce-=y?y.length:0,d&H){var de=_,pe=y;_=y=t}var xe=Z?t:Sh(l),Ae=[l,d,g,_,y,de,pe,D,P,V];if(xe&&HT(Ae,xe),l=Ae[0],d=Ae[1],g=Ae[2],_=Ae[3],y=Ae[4],V=Ae[9]=Ae[9]===t?Z?0:l.length:Sn(Ae[9]-ce,0),!V&&d&(E|N)&&(d&=~(E|N)),!d||d==S)var je=ST(l,d,g);else d==E||d==N?je=xT(l,d,V):(d==A||d==(S|A))&&!y.length?je=ET(l,d,g,_):je=Tu.apply(t,Ae);var ct=xe?j_:wv;return Sv(ct(je,Ae),l,d)}function hv(l,d,g,_){return l===t||sr(l,Mo[g])&&!Mt.call(_,g)?d:l}function fv(l,d,g,_,y,D){return sn(l)&&sn(d)&&(D.set(d,l),xu(l,d,t,fv,D),D.delete(d)),l}function DT(l){return $a(l)?t:l}function gv(l,d,g,_,y,D){var P=g&v,V=l.length,Z=d.length;if(V!=Z&&!(P&&Z>V))return!1;var ce=D.get(l),de=D.get(d);if(ce&&de)return ce==d&&de==l;var pe=-1,xe=!0,Ae=g&b?new qs:t;for(D.set(l,d),D.set(d,l);++pe<V;){var je=l[pe],ct=d[pe];if(_)var Ke=P?_(ct,je,pe,d,l,D):_(je,ct,pe,l,d,D);if(Ke!==t){if(Ke)continue;xe=!1;break}if(Ae){if(!Ud(d,function(gt,Ct){if(!Ta(Ae,Ct)&&(je===gt||y(je,gt,g,_,D)))return Ae.push(Ct)})){xe=!1;break}}else if(!(je===ct||y(je,ct,g,_,D))){xe=!1;break}}return D.delete(l),D.delete(d),xe}function TT(l,d,g,_,y,D,P){switch(g){case yt:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case ut:return!(l.byteLength!=d.byteLength||!D(new hu(l),new hu(d)));case Rt:case Re:case pn:return sr(+l,+d);case wt:return l.name==d.name&&l.message==d.message;case Gi:case un:return l==d+"";case Yt:var V=Zd;case Vt:var Z=_&v;if(V||(V=ou),l.size!=d.size&&!Z)return!1;var ce=P.get(l);if(ce)return ce==d;_|=b,P.set(l,d);var de=gv(V(l),V(d),_,y,D,P);return P.delete(l),de;case Qn:if(Oa)return Oa.call(l)==Oa.call(d)}return!1}function IT(l,d,g,_,y,D){var P=g&v,V=yh(l),Z=V.length,ce=yh(d),de=ce.length;if(Z!=de&&!P)return!1;for(var pe=Z;pe--;){var xe=V[pe];if(!(P?xe in d:Mt.call(d,xe)))return!1}var Ae=D.get(l),je=D.get(d);if(Ae&&je)return Ae==d&&je==l;var ct=!0;D.set(l,d),D.set(d,l);for(var Ke=P;++pe<Z;){xe=V[pe];var gt=l[xe],Ct=d[xe];if(_)var Ni=P?_(Ct,gt,xe,d,l,D):_(gt,Ct,xe,l,d,D);if(!(Ni===t?gt===Ct||y(gt,Ct,g,_,D):Ni)){ct=!1;break}Ke||(Ke=xe=="constructor")}if(ct&&!Ke){var ti=l.constructor,Ai=d.constructor;ti!=Ai&&"constructor"in l&&"constructor"in d&&!(typeof ti=="function"&&ti instanceof ti&&typeof Ai=="function"&&Ai instanceof Ai)&&(ct=!1)}return D.delete(l),D.delete(d),ct}function jr(l){return Ih(Cv(l,t,Iv),l+"")}function yh(l){return M_(l,Dn,Eh)}function wh(l){return M_(l,pi,pv)}var Sh=vu?function(l){return vu.get(l)}:$h;function Au(l){for(var d=l.name+"",g=Po[d],_=Mt.call(Po,d)?g.length:0;_--;){var y=g[_],D=y.func;if(D==null||D==l)return y.name}return d}function Vo(l){var d=Mt.call(L,"placeholder")?L:l;return d.placeholder}function Ve(){var l=L.iteratee||Vh;return l=l===Vh?F_:l,arguments.length?l(arguments[0],arguments[1]):l}function Ou(l,d){var g=l.__data__;return FT(d)?g[typeof d=="string"?"string":"hash"]:g.map}function xh(l){for(var d=Dn(l),g=d.length;g--;){var _=d[g],y=l[_];d[g]=[_,y,vv(y)]}return d}function Zs(l,d){var g=VL(l,d);return P_(g)?g:t}function kT(l){var d=Mt.call(l,js),g=l[js];try{l[js]=t;var _=!0}catch{}var y=cu.call(l);return _&&(d?l[js]=g:delete l[js]),y}var Eh=Qd?function(l){return l==null?[]:(l=$t(l),fs(Qd(l),function(d){return y_.call(l,d)}))}:zh,pv=Qd?function(l){for(var d=[];l;)gs(d,Eh(l)),l=fu(l);return d}:zh,Fn=Jn;(Jd&&Fn(new Jd(new ArrayBuffer(1)))!=yt||ka&&Fn(new ka)!=Yt||eh&&Fn(eh.resolve())!=ci||Ro&&Fn(new Ro)!=Vt||Na&&Fn(new Na)!=Pe)&&(Fn=function(l){var d=Jn(l),g=d==Un?l.constructor:t,_=g?Xs(g):"";if(_)switch(_){case hD:return yt;case fD:return Yt;case gD:return ci;case pD:return Vt;case mD:return Pe}return d});function NT(l,d,g){for(var _=-1,y=g.length;++_<y;){var D=g[_],P=D.size;switch(D.type){case"drop":l+=P;break;case"dropRight":d-=P;break;case"take":d=Pn(d,l+P);break;case"takeRight":l=Sn(l,d-P);break}}return{start:l,end:d}}function AT(l){var d=l.match(Ue);return d?d[1].split(Fe):[]}function mv(l,d,g){d=bs(d,l);for(var _=-1,y=d.length,D=!1;++_<y;){var P=Lr(d[_]);if(!(D=l!=null&&g(l,P)))break;l=l[P]}return D||++_!=y?D:(y=l==null?0:l.length,!!y&&Vu(y)&&Kr(P,y)&&(it(l)||Qs(l)))}function OT(l){var d=l.length,g=new l.constructor(d);return d&&typeof l[0]=="string"&&Mt.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function _v(l){return typeof l.constructor=="function"&&!Va(l)?Fo(fu(l)):{}}function MT(l,d,g){var _=l.constructor;switch(d){case ut:return vh(l);case Rt:case Re:return new _(+l);case yt:return _T(l,g);case Li:case zt:case At:case Zt:case Xt:case Ht:case yr:case si:case $e:return J_(l,g);case Yt:return new _;case pn:case un:return new _(l);case Gi:return vT(l);case Vt:return new _;case Qn:return bT(l)}}function RT(l,d){var g=d.length;if(!g)return l;var _=g-1;return d[_]=(g>1?"& ":"")+d[_],d=d.join(g>2?", ":" "),l.replace(be,`{
/* [wrapped with `+d+`] */
`)}function PT(l){return it(l)||Qs(l)||!!(w_&&l&&l[w_])}function Kr(l,d){var g=typeof l;return d=d??K,!!d&&(g=="number"||g!="symbol"&&Be.test(l))&&l>-1&&l%1==0&&l<d}function ei(l,d,g){if(!sn(g))return!1;var _=typeof d;return(_=="number"?gi(g)&&Kr(d,g.length):_=="string"&&d in g)?sr(g[d],l):!1}function Lh(l,d){if(it(l))return!1;var g=typeof l;return g=="number"||g=="symbol"||g=="boolean"||l==null||ki(l)?!0:Le.test(l)||!Ne.test(l)||d!=null&&l in $t(d)}function FT(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Dh(l){var d=Au(l),g=L[d];if(typeof g!="function"||!(d in vt.prototype))return!1;if(l===g)return!0;var _=Sh(g);return!!_&&l===_[0]}function BT(l){return!!v_&&v_ in l}var WT=lu?qr:Uh;function Va(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||Mo;return l===g}function vv(l){return l===l&&!sn(l)}function bv(l,d){return function(g){return g==null?!1:g[l]===d&&(d!==t||l in $t(g))}}function VT(l){var d=Bu(l,function(_){return g.size===c&&g.clear(),_}),g=d.cache;return d}function HT(l,d){var g=l[1],_=d[1],y=g|_,D=y<(S|x|R),P=_==R&&g==E||_==R&&g==M&&l[7].length<=d[8]||_==(R|M)&&d[7].length<=d[8]&&g==E;if(!(D||P))return l;_&S&&(l[2]=d[2],y|=g&S?0:w);var V=d[3];if(V){var Z=l[3];l[3]=Z?tv(Z,V,d[4]):V,l[4]=Z?ps(l[3],h):d[4]}return V=d[5],V&&(Z=l[5],l[5]=Z?nv(Z,V,d[6]):V,l[6]=Z?ps(l[5],h):d[6]),V=d[7],V&&(l[7]=V),_&R&&(l[8]=l[8]==null?d[8]:Pn(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=y,l}function $T(l){var d=[];if(l!=null)for(var g in $t(l))d.push(g);return d}function zT(l){return cu.call(l)}function Cv(l,d,g){return d=Sn(d===t?l.length-1:d,0),function(){for(var _=arguments,y=-1,D=Sn(_.length-d,0),P=ee(D);++y<D;)P[y]=_[d+y];y=-1;for(var V=ee(d+1);++y<d;)V[y]=_[y];return V[d]=g(P),Di(l,this,V)}}function yv(l,d){return d.length<2?l:Ys(l,zi(d,0,-1))}function UT(l,d){for(var g=l.length,_=Pn(d.length,g),y=fi(l);_--;){var D=d[_];l[_]=Kr(D,g)?y[D]:t}return l}function Th(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var wv=xv(j_),Ha=sD||function(l,d){return In.setTimeout(l,d)},Ih=xv(fT);function Sv(l,d,g){var _=d+"";return Ih(l,RT(_,jT(AT(_),g)))}function xv(l){var d=0,g=0;return function(){var _=uD(),y=O-(_-g);if(g=_,y>0){if(++d>=I)return arguments[0]}else d=0;return l.apply(t,arguments)}}function Mu(l,d){var g=-1,_=l.length,y=_-1;for(d=d===t?_:d;++g<d;){var D=dh(g,y),P=l[D];l[D]=l[g],l[g]=P}return l.length=d,l}var Ev=VT(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(Oe,function(g,_,y,D){d.push(y?D.replace(T,"$1"):_||g)}),d});function Lr(l){if(typeof l=="string"||ki(l))return l;var d=l+"";return d=="0"&&1/l==-U?"-0":d}function Xs(l){if(l!=null){try{return uu.call(l)}catch{}try{return l+""}catch{}}return""}function jT(l,d){return Wi(Ce,function(g){var _="_."+g[0];d&g[1]&&!ru(l,_)&&l.push(_)}),l.sort()}function Lv(l){if(l instanceof vt)return l.clone();var d=new Hi(l.__wrapped__,l.__chain__);return d.__actions__=fi(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function KT(l,d,g){(g?ei(l,d,g):d===t)?d=1:d=Sn(at(d),0);var _=l==null?0:l.length;if(!_||d<1)return[];for(var y=0,D=0,P=ee(mu(_/d));y<_;)P[D++]=zi(l,y,y+=d);return P}function qT(l){for(var d=-1,g=l==null?0:l.length,_=0,y=[];++d<g;){var D=l[d];D&&(y[_++]=D)}return y}function GT(){var l=arguments.length;if(!l)return[];for(var d=ee(l-1),g=arguments[0],_=l;_--;)d[_-1]=arguments[_];return gs(it(g)?fi(g):[g],kn(d,1))}var YT=ht(function(l,d){return mn(l)?Ra(l,kn(d,1,mn,!0)):[]}),ZT=ht(function(l,d){var g=Ui(d);return mn(g)&&(g=t),mn(l)?Ra(l,kn(d,1,mn,!0),Ve(g,2)):[]}),XT=ht(function(l,d){var g=Ui(d);return mn(g)&&(g=t),mn(l)?Ra(l,kn(d,1,mn,!0),t,g):[]});function QT(l,d,g){var _=l==null?0:l.length;return _?(d=g||d===t?1:at(d),zi(l,d<0?0:d,_)):[]}function JT(l,d,g){var _=l==null?0:l.length;return _?(d=g||d===t?1:at(d),d=_-d,zi(l,0,d<0?0:d)):[]}function e2(l,d){return l&&l.length?Lu(l,Ve(d,3),!0,!0):[]}function t2(l,d){return l&&l.length?Lu(l,Ve(d,3),!0):[]}function n2(l,d,g,_){var y=l==null?0:l.length;return y?(g&&typeof g!="number"&&ei(l,d,g)&&(g=0,_=y),GD(l,d,g,_)):[]}function Dv(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=g==null?0:at(g);return y<0&&(y=Sn(_+y,0)),su(l,Ve(d,3),y)}function Tv(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=_-1;return g!==t&&(y=at(g),y=g<0?Sn(_+y,0):Pn(y,_-1)),su(l,Ve(d,3),y,!0)}function Iv(l){var d=l==null?0:l.length;return d?kn(l,1):[]}function i2(l){var d=l==null?0:l.length;return d?kn(l,U):[]}function r2(l,d){var g=l==null?0:l.length;return g?(d=d===t?1:at(d),kn(l,d)):[]}function s2(l){for(var d=-1,g=l==null?0:l.length,_={};++d<g;){var y=l[d];_[y[0]]=y[1]}return _}function kv(l){return l&&l.length?l[0]:t}function o2(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=g==null?0:at(g);return y<0&&(y=Sn(_+y,0)),ko(l,d,y)}function a2(l){var d=l==null?0:l.length;return d?zi(l,0,-1):[]}var l2=ht(function(l){var d=nn(l,mh);return d.length&&d[0]===l[0]?oh(d):[]}),u2=ht(function(l){var d=Ui(l),g=nn(l,mh);return d===Ui(g)?d=t:g.pop(),g.length&&g[0]===l[0]?oh(g,Ve(d,2)):[]}),c2=ht(function(l){var d=Ui(l),g=nn(l,mh);return d=typeof d=="function"?d:t,d&&g.pop(),g.length&&g[0]===l[0]?oh(g,t,d):[]});function d2(l,d){return l==null?"":aD.call(l,d)}function Ui(l){var d=l==null?0:l.length;return d?l[d-1]:t}function h2(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=_;return g!==t&&(y=at(g),y=y<0?Sn(_+y,0):Pn(y,_-1)),d===d?jL(l,d,y):su(l,c_,y,!0)}function f2(l,d){return l&&l.length?H_(l,at(d)):t}var g2=ht(Nv);function Nv(l,d){return l&&l.length&&d&&d.length?ch(l,d):l}function p2(l,d,g){return l&&l.length&&d&&d.length?ch(l,d,Ve(g,2)):l}function m2(l,d,g){return l&&l.length&&d&&d.length?ch(l,d,t,g):l}var _2=jr(function(l,d){var g=l==null?0:l.length,_=nh(l,d);return U_(l,nn(d,function(y){return Kr(y,g)?+y:y}).sort(ev)),_});function v2(l,d){var g=[];if(!(l&&l.length))return g;var _=-1,y=[],D=l.length;for(d=Ve(d,3);++_<D;){var P=l[_];d(P,_,l)&&(g.push(P),y.push(_))}return U_(l,y),g}function kh(l){return l==null?l:dD.call(l)}function b2(l,d,g){var _=l==null?0:l.length;return _?(g&&typeof g!="number"&&ei(l,d,g)?(d=0,g=_):(d=d==null?0:at(d),g=g===t?_:at(g)),zi(l,d,g)):[]}function C2(l,d){return Eu(l,d)}function y2(l,d,g){return fh(l,d,Ve(g,2))}function w2(l,d){var g=l==null?0:l.length;if(g){var _=Eu(l,d);if(_<g&&sr(l[_],d))return _}return-1}function S2(l,d){return Eu(l,d,!0)}function x2(l,d,g){return fh(l,d,Ve(g,2),!0)}function E2(l,d){var g=l==null?0:l.length;if(g){var _=Eu(l,d,!0)-1;if(sr(l[_],d))return _}return-1}function L2(l){return l&&l.length?K_(l):[]}function D2(l,d){return l&&l.length?K_(l,Ve(d,2)):[]}function T2(l){var d=l==null?0:l.length;return d?zi(l,1,d):[]}function I2(l,d,g){return l&&l.length?(d=g||d===t?1:at(d),zi(l,0,d<0?0:d)):[]}function k2(l,d,g){var _=l==null?0:l.length;return _?(d=g||d===t?1:at(d),d=_-d,zi(l,d<0?0:d,_)):[]}function N2(l,d){return l&&l.length?Lu(l,Ve(d,3),!1,!0):[]}function A2(l,d){return l&&l.length?Lu(l,Ve(d,3)):[]}var O2=ht(function(l){return vs(kn(l,1,mn,!0))}),M2=ht(function(l){var d=Ui(l);return mn(d)&&(d=t),vs(kn(l,1,mn,!0),Ve(d,2))}),R2=ht(function(l){var d=Ui(l);return d=typeof d=="function"?d:t,vs(kn(l,1,mn,!0),t,d)});function P2(l){return l&&l.length?vs(l):[]}function F2(l,d){return l&&l.length?vs(l,Ve(d,2)):[]}function B2(l,d){return d=typeof d=="function"?d:t,l&&l.length?vs(l,t,d):[]}function Nh(l){if(!(l&&l.length))return[];var d=0;return l=fs(l,function(g){if(mn(g))return d=Sn(g.length,d),!0}),Gd(d,function(g){return nn(l,jd(g))})}function Av(l,d){if(!(l&&l.length))return[];var g=Nh(l);return d==null?g:nn(g,function(_){return Di(d,t,_)})}var W2=ht(function(l,d){return mn(l)?Ra(l,d):[]}),V2=ht(function(l){return ph(fs(l,mn))}),H2=ht(function(l){var d=Ui(l);return mn(d)&&(d=t),ph(fs(l,mn),Ve(d,2))}),$2=ht(function(l){var d=Ui(l);return d=typeof d=="function"?d:t,ph(fs(l,mn),t,d)}),z2=ht(Nh);function U2(l,d){return Z_(l||[],d||[],Ma)}function j2(l,d){return Z_(l||[],d||[],Ba)}var K2=ht(function(l){var d=l.length,g=d>1?l[d-1]:t;return g=typeof g=="function"?(l.pop(),g):t,Av(l,g)});function Ov(l){var d=L(l);return d.__chain__=!0,d}function q2(l,d){return d(l),l}function Ru(l,d){return d(l)}var G2=jr(function(l){var d=l.length,g=d?l[0]:0,_=this.__wrapped__,y=function(D){return nh(D,l)};return d>1||this.__actions__.length||!(_ instanceof vt)||!Kr(g)?this.thru(y):(_=_.slice(g,+g+(d?1:0)),_.__actions__.push({func:Ru,args:[y],thisArg:t}),new Hi(_,this.__chain__).thru(function(D){return d&&!D.length&&D.push(t),D}))});function Y2(){return Ov(this)}function Z2(){return new Hi(this.value(),this.__chain__)}function X2(){this.__values__===t&&(this.__values__=qv(this.value()));var l=this.__index__>=this.__values__.length,d=l?t:this.__values__[this.__index__++];return{done:l,value:d}}function Q2(){return this}function J2(l){for(var d,g=this;g instanceof Cu;){var _=Lv(g);_.__index__=0,_.__values__=t,d?y.__wrapped__=_:d=_;var y=_;g=g.__wrapped__}return y.__wrapped__=l,d}function eI(){var l=this.__wrapped__;if(l instanceof vt){var d=l;return this.__actions__.length&&(d=new vt(this)),d=d.reverse(),d.__actions__.push({func:Ru,args:[kh],thisArg:t}),new Hi(d,this.__chain__)}return this.thru(kh)}function tI(){return Y_(this.__wrapped__,this.__actions__)}var nI=Du(function(l,d,g){Mt.call(l,g)?++l[g]:zr(l,g,1)});function iI(l,d,g){var _=it(l)?l_:qD;return g&&ei(l,d,g)&&(d=t),_(l,Ve(d,3))}function rI(l,d){var g=it(l)?fs:A_;return g(l,Ve(d,3))}var sI=ov(Dv),oI=ov(Tv);function aI(l,d){return kn(Pu(l,d),1)}function lI(l,d){return kn(Pu(l,d),U)}function uI(l,d,g){return g=g===t?1:at(g),kn(Pu(l,d),g)}function Mv(l,d){var g=it(l)?Wi:_s;return g(l,Ve(d,3))}function Rv(l,d){var g=it(l)?TL:N_;return g(l,Ve(d,3))}var cI=Du(function(l,d,g){Mt.call(l,g)?l[g].push(d):zr(l,g,[d])});function dI(l,d,g,_){l=gi(l)?l:$o(l),g=g&&!_?at(g):0;var y=l.length;return g<0&&(g=Sn(y+g,0)),Hu(l)?g<=y&&l.indexOf(d,g)>-1:!!y&&ko(l,d,g)>-1}var hI=ht(function(l,d,g){var _=-1,y=typeof d=="function",D=gi(l)?ee(l.length):[];return _s(l,function(P){D[++_]=y?Di(d,P,g):Pa(P,d,g)}),D}),fI=Du(function(l,d,g){zr(l,g,d)});function Pu(l,d){var g=it(l)?nn:B_;return g(l,Ve(d,3))}function gI(l,d,g,_){return l==null?[]:(it(d)||(d=d==null?[]:[d]),g=_?t:g,it(g)||(g=g==null?[]:[g]),$_(l,d,g))}var pI=Du(function(l,d,g){l[g?0:1].push(d)},function(){return[[],[]]});function mI(l,d,g){var _=it(l)?zd:h_,y=arguments.length<3;return _(l,Ve(d,4),g,y,_s)}function _I(l,d,g){var _=it(l)?IL:h_,y=arguments.length<3;return _(l,Ve(d,4),g,y,N_)}function vI(l,d){var g=it(l)?fs:A_;return g(l,Wu(Ve(d,3)))}function bI(l){var d=it(l)?D_:dT;return d(l)}function CI(l,d,g){(g?ei(l,d,g):d===t)?d=1:d=at(d);var _=it(l)?$D:hT;return _(l,d)}function yI(l){var d=it(l)?zD:gT;return d(l)}function wI(l){if(l==null)return 0;if(gi(l))return Hu(l)?Ao(l):l.length;var d=Fn(l);return d==Yt||d==Vt?l.size:lh(l).length}function SI(l,d,g){var _=it(l)?Ud:pT;return g&&ei(l,d,g)&&(d=t),_(l,Ve(d,3))}var xI=ht(function(l,d){if(l==null)return[];var g=d.length;return g>1&&ei(l,d[0],d[1])?d=[]:g>2&&ei(d[0],d[1],d[2])&&(d=[d[0]]),$_(l,kn(d,1),[])}),Fu=rD||function(){return In.Date.now()};function EI(l,d){if(typeof d!="function")throw new Vi(o);return l=at(l),function(){if(--l<1)return d.apply(this,arguments)}}function Pv(l,d,g){return d=g?t:d,d=l&&d==null?l.length:d,Ur(l,R,t,t,t,t,d)}function Fv(l,d){var g;if(typeof d!="function")throw new Vi(o);return l=at(l),function(){return--l>0&&(g=d.apply(this,arguments)),l<=1&&(d=t),g}}var Ah=ht(function(l,d,g){var _=S;if(g.length){var y=ps(g,Vo(Ah));_|=A}return Ur(l,_,d,g,y)}),Bv=ht(function(l,d,g){var _=S|x;if(g.length){var y=ps(g,Vo(Bv));_|=A}return Ur(d,_,l,g,y)});function Wv(l,d,g){d=g?t:d;var _=Ur(l,E,t,t,t,t,t,d);return _.placeholder=Wv.placeholder,_}function Vv(l,d,g){d=g?t:d;var _=Ur(l,N,t,t,t,t,t,d);return _.placeholder=Vv.placeholder,_}function Hv(l,d,g){var _,y,D,P,V,Z,ce=0,de=!1,pe=!1,xe=!0;if(typeof l!="function")throw new Vi(o);d=ji(d)||0,sn(g)&&(de=!!g.leading,pe="maxWait"in g,D=pe?Sn(ji(g.maxWait)||0,d):D,xe="trailing"in g?!!g.trailing:xe);function Ae(_n){var or=_,Yr=y;return _=y=t,ce=_n,P=l.apply(Yr,or),P}function je(_n){return ce=_n,V=Ha(gt,d),de?Ae(_n):P}function ct(_n){var or=_n-Z,Yr=_n-ce,o0=d-or;return pe?Pn(o0,D-Yr):o0}function Ke(_n){var or=_n-Z,Yr=_n-ce;return Z===t||or>=d||or<0||pe&&Yr>=D}function gt(){var _n=Fu();if(Ke(_n))return Ct(_n);V=Ha(gt,ct(_n))}function Ct(_n){return V=t,xe&&_?Ae(_n):(_=y=t,P)}function Ni(){V!==t&&X_(V),ce=0,_=Z=y=V=t}function ti(){return V===t?P:Ct(Fu())}function Ai(){var _n=Fu(),or=Ke(_n);if(_=arguments,y=this,Z=_n,or){if(V===t)return je(Z);if(pe)return X_(V),V=Ha(gt,d),Ae(Z)}return V===t&&(V=Ha(gt,d)),P}return Ai.cancel=Ni,Ai.flush=ti,Ai}var LI=ht(function(l,d){return k_(l,1,d)}),DI=ht(function(l,d,g){return k_(l,ji(d)||0,g)});function TI(l){return Ur(l,G)}function Bu(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new Vi(o);var g=function(){var _=arguments,y=d?d.apply(this,_):_[0],D=g.cache;if(D.has(y))return D.get(y);var P=l.apply(this,_);return g.cache=D.set(y,P)||D,P};return g.cache=new(Bu.Cache||$r),g}Bu.Cache=$r;function Wu(l){if(typeof l!="function")throw new Vi(o);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function II(l){return Fv(2,l)}var kI=mT(function(l,d){d=d.length==1&&it(d[0])?nn(d[0],Ti(Ve())):nn(kn(d,1),Ti(Ve()));var g=d.length;return ht(function(_){for(var y=-1,D=Pn(_.length,g);++y<D;)_[y]=d[y].call(this,_[y]);return Di(l,this,_)})}),Oh=ht(function(l,d){var g=ps(d,Vo(Oh));return Ur(l,A,t,d,g)}),$v=ht(function(l,d){var g=ps(d,Vo($v));return Ur(l,H,t,d,g)}),NI=jr(function(l,d){return Ur(l,M,t,t,t,d)});function AI(l,d){if(typeof l!="function")throw new Vi(o);return d=d===t?d:at(d),ht(l,d)}function OI(l,d){if(typeof l!="function")throw new Vi(o);return d=d==null?0:Sn(at(d),0),ht(function(g){var _=g[d],y=Cs(g,0,d);return _&&gs(y,_),Di(l,this,y)})}function MI(l,d,g){var _=!0,y=!0;if(typeof l!="function")throw new Vi(o);return sn(g)&&(_="leading"in g?!!g.leading:_,y="trailing"in g?!!g.trailing:y),Hv(l,d,{leading:_,maxWait:d,trailing:y})}function RI(l){return Pv(l,1)}function PI(l,d){return Oh(_h(d),l)}function FI(){if(!arguments.length)return[];var l=arguments[0];return it(l)?l:[l]}function BI(l){return $i(l,m)}function WI(l,d){return d=typeof d=="function"?d:t,$i(l,m,d)}function VI(l){return $i(l,f|m)}function HI(l,d){return d=typeof d=="function"?d:t,$i(l,f|m,d)}function $I(l,d){return d==null||I_(l,d,Dn(d))}function sr(l,d){return l===d||l!==l&&d!==d}var zI=Nu(sh),UI=Nu(function(l,d){return l>=d}),Qs=R_(function(){return arguments}())?R_:function(l){return cn(l)&&Mt.call(l,"callee")&&!y_.call(l,"callee")},it=ee.isArray,jI=n_?Ti(n_):JD;function gi(l){return l!=null&&Vu(l.length)&&!qr(l)}function mn(l){return cn(l)&&gi(l)}function KI(l){return l===!0||l===!1||cn(l)&&Jn(l)==Rt}var ys=oD||Uh,qI=i_?Ti(i_):eT;function GI(l){return cn(l)&&l.nodeType===1&&!$a(l)}function YI(l){if(l==null)return!0;if(gi(l)&&(it(l)||typeof l=="string"||typeof l.splice=="function"||ys(l)||Ho(l)||Qs(l)))return!l.length;var d=Fn(l);if(d==Yt||d==Vt)return!l.size;if(Va(l))return!lh(l).length;for(var g in l)if(Mt.call(l,g))return!1;return!0}function ZI(l,d){return Fa(l,d)}function XI(l,d,g){g=typeof g=="function"?g:t;var _=g?g(l,d):t;return _===t?Fa(l,d,t,g):!!_}function Mh(l){if(!cn(l))return!1;var d=Jn(l);return d==wt||d==dt||typeof l.message=="string"&&typeof l.name=="string"&&!$a(l)}function QI(l){return typeof l=="number"&&S_(l)}function qr(l){if(!sn(l))return!1;var d=Jn(l);return d==Je||d==ln||d==ot||d==di}function zv(l){return typeof l=="number"&&l==at(l)}function Vu(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=K}function sn(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function cn(l){return l!=null&&typeof l=="object"}var Uv=r_?Ti(r_):nT;function JI(l,d){return l===d||ah(l,d,xh(d))}function ek(l,d,g){return g=typeof g=="function"?g:t,ah(l,d,xh(d),g)}function tk(l){return jv(l)&&l!=+l}function nk(l){if(WT(l))throw new et(s);return P_(l)}function ik(l){return l===null}function rk(l){return l==null}function jv(l){return typeof l=="number"||cn(l)&&Jn(l)==pn}function $a(l){if(!cn(l)||Jn(l)!=Un)return!1;var d=fu(l);if(d===null)return!0;var g=Mt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&uu.call(g)==eD}var Rh=s_?Ti(s_):iT;function sk(l){return zv(l)&&l>=-K&&l<=K}var Kv=o_?Ti(o_):rT;function Hu(l){return typeof l=="string"||!it(l)&&cn(l)&&Jn(l)==un}function ki(l){return typeof l=="symbol"||cn(l)&&Jn(l)==Qn}var Ho=a_?Ti(a_):sT;function ok(l){return l===t}function ak(l){return cn(l)&&Fn(l)==Pe}function lk(l){return cn(l)&&Jn(l)==_t}var uk=Nu(uh),ck=Nu(function(l,d){return l<=d});function qv(l){if(!l)return[];if(gi(l))return Hu(l)?ir(l):fi(l);if(Ia&&l[Ia])return $L(l[Ia]());var d=Fn(l),g=d==Yt?Zd:d==Vt?ou:$o;return g(l)}function Gr(l){if(!l)return l===0?l:0;if(l=ji(l),l===U||l===-U){var d=l<0?-1:1;return d*z}return l===l?l:0}function at(l){var d=Gr(l),g=d%1;return d===d?g?d-g:d:0}function Gv(l){return l?Gs(at(l),0,q):0}function ji(l){if(typeof l=="number")return l;if(ki(l))return k;if(sn(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=sn(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=f_(l);var g=_e.test(l);return g||Ie.test(l)?EL(l.slice(2),g?2:8):ie.test(l)?k:+l}function Yv(l){return Er(l,pi(l))}function dk(l){return l?Gs(at(l),-K,K):l===0?l:0}function Tt(l){return l==null?"":Ii(l)}var hk=Bo(function(l,d){if(Va(d)||gi(d)){Er(d,Dn(d),l);return}for(var g in d)Mt.call(d,g)&&Ma(l,g,d[g])}),Zv=Bo(function(l,d){Er(d,pi(d),l)}),$u=Bo(function(l,d,g,_){Er(d,pi(d),l,_)}),fk=Bo(function(l,d,g,_){Er(d,Dn(d),l,_)}),gk=jr(nh);function pk(l,d){var g=Fo(l);return d==null?g:T_(g,d)}var mk=ht(function(l,d){l=$t(l);var g=-1,_=d.length,y=_>2?d[2]:t;for(y&&ei(d[0],d[1],y)&&(_=1);++g<_;)for(var D=d[g],P=pi(D),V=-1,Z=P.length;++V<Z;){var ce=P[V],de=l[ce];(de===t||sr(de,Mo[ce])&&!Mt.call(l,ce))&&(l[ce]=D[ce])}return l}),_k=ht(function(l){return l.push(t,fv),Di(Xv,t,l)});function vk(l,d){return u_(l,Ve(d,3),xr)}function bk(l,d){return u_(l,Ve(d,3),rh)}function Ck(l,d){return l==null?l:ih(l,Ve(d,3),pi)}function yk(l,d){return l==null?l:O_(l,Ve(d,3),pi)}function wk(l,d){return l&&xr(l,Ve(d,3))}function Sk(l,d){return l&&rh(l,Ve(d,3))}function xk(l){return l==null?[]:Su(l,Dn(l))}function Ek(l){return l==null?[]:Su(l,pi(l))}function Ph(l,d,g){var _=l==null?t:Ys(l,d);return _===t?g:_}function Lk(l,d){return l!=null&&mv(l,d,YD)}function Fh(l,d){return l!=null&&mv(l,d,ZD)}var Dk=lv(function(l,d,g){d!=null&&typeof d.toString!="function"&&(d=cu.call(d)),l[d]=g},Wh(mi)),Tk=lv(function(l,d,g){d!=null&&typeof d.toString!="function"&&(d=cu.call(d)),Mt.call(l,d)?l[d].push(g):l[d]=[g]},Ve),Ik=ht(Pa);function Dn(l){return gi(l)?L_(l):lh(l)}function pi(l){return gi(l)?L_(l,!0):oT(l)}function kk(l,d){var g={};return d=Ve(d,3),xr(l,function(_,y,D){zr(g,d(_,y,D),_)}),g}function Nk(l,d){var g={};return d=Ve(d,3),xr(l,function(_,y,D){zr(g,y,d(_,y,D))}),g}var Ak=Bo(function(l,d,g){xu(l,d,g)}),Xv=Bo(function(l,d,g,_){xu(l,d,g,_)}),Ok=jr(function(l,d){var g={};if(l==null)return g;var _=!1;d=nn(d,function(D){return D=bs(D,l),_||(_=D.length>1),D}),Er(l,wh(l),g),_&&(g=$i(g,f|p|m,DT));for(var y=d.length;y--;)gh(g,d[y]);return g});function Mk(l,d){return Qv(l,Wu(Ve(d)))}var Rk=jr(function(l,d){return l==null?{}:lT(l,d)});function Qv(l,d){if(l==null)return{};var g=nn(wh(l),function(_){return[_]});return d=Ve(d),z_(l,g,function(_,y){return d(_,y[0])})}function Pk(l,d,g){d=bs(d,l);var _=-1,y=d.length;for(y||(y=1,l=t);++_<y;){var D=l==null?t:l[Lr(d[_])];D===t&&(_=y,D=g),l=qr(D)?D.call(l):D}return l}function Fk(l,d,g){return l==null?l:Ba(l,d,g)}function Bk(l,d,g,_){return _=typeof _=="function"?_:t,l==null?l:Ba(l,d,g,_)}var Jv=dv(Dn),e0=dv(pi);function Wk(l,d,g){var _=it(l),y=_||ys(l)||Ho(l);if(d=Ve(d,4),g==null){var D=l&&l.constructor;y?g=_?new D:[]:sn(l)?g=qr(D)?Fo(fu(l)):{}:g={}}return(y?Wi:xr)(l,function(P,V,Z){return d(g,P,V,Z)}),g}function Vk(l,d){return l==null?!0:gh(l,d)}function Hk(l,d,g){return l==null?l:G_(l,d,_h(g))}function $k(l,d,g,_){return _=typeof _=="function"?_:t,l==null?l:G_(l,d,_h(g),_)}function $o(l){return l==null?[]:Yd(l,Dn(l))}function zk(l){return l==null?[]:Yd(l,pi(l))}function Uk(l,d,g){return g===t&&(g=d,d=t),g!==t&&(g=ji(g),g=g===g?g:0),d!==t&&(d=ji(d),d=d===d?d:0),Gs(ji(l),d,g)}function jk(l,d,g){return d=Gr(d),g===t?(g=d,d=0):g=Gr(g),l=ji(l),XD(l,d,g)}function Kk(l,d,g){if(g&&typeof g!="boolean"&&ei(l,d,g)&&(d=g=t),g===t&&(typeof d=="boolean"?(g=d,d=t):typeof l=="boolean"&&(g=l,l=t)),l===t&&d===t?(l=0,d=1):(l=Gr(l),d===t?(d=l,l=0):d=Gr(d)),l>d){var _=l;l=d,d=_}if(g||l%1||d%1){var y=x_();return Pn(l+y*(d-l+xL("1e-"+((y+"").length-1))),d)}return dh(l,d)}var qk=Wo(function(l,d,g){return d=d.toLowerCase(),l+(g?t0(d):d)});function t0(l){return Bh(Tt(l).toLowerCase())}function n0(l){return l=Tt(l),l&&l.replace(Qe,FL).replace(gL,"")}function Gk(l,d,g){l=Tt(l),d=Ii(d);var _=l.length;g=g===t?_:Gs(at(g),0,_);var y=g;return g-=d.length,g>=0&&l.slice(g,y)==d}function Yk(l){return l=Tt(l),l&&Il.test(l)?l.replace(yn,BL):l}function Zk(l){return l=Tt(l),l&&le.test(l)?l.replace(oe,"\\$&"):l}var Xk=Wo(function(l,d,g){return l+(g?"-":"")+d.toLowerCase()}),Qk=Wo(function(l,d,g){return l+(g?" ":"")+d.toLowerCase()}),Jk=sv("toLowerCase");function eN(l,d,g){l=Tt(l),d=at(d);var _=d?Ao(l):0;if(!d||_>=d)return l;var y=(d-_)/2;return ku(_u(y),g)+l+ku(mu(y),g)}function tN(l,d,g){l=Tt(l),d=at(d);var _=d?Ao(l):0;return d&&_<d?l+ku(d-_,g):l}function nN(l,d,g){l=Tt(l),d=at(d);var _=d?Ao(l):0;return d&&_<d?ku(d-_,g)+l:l}function iN(l,d,g){return g||d==null?d=0:d&&(d=+d),cD(Tt(l).replace(me,""),d||0)}function rN(l,d,g){return(g?ei(l,d,g):d===t)?d=1:d=at(d),hh(Tt(l),d)}function sN(){var l=arguments,d=Tt(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var oN=Wo(function(l,d,g){return l+(g?"_":"")+d.toLowerCase()});function aN(l,d,g){return g&&typeof g!="number"&&ei(l,d,g)&&(d=g=t),g=g===t?q:g>>>0,g?(l=Tt(l),l&&(typeof d=="string"||d!=null&&!Rh(d))&&(d=Ii(d),!d&&No(l))?Cs(ir(l),0,g):l.split(d,g)):[]}var lN=Wo(function(l,d,g){return l+(g?" ":"")+Bh(d)});function uN(l,d,g){return l=Tt(l),g=g==null?0:Gs(at(g),0,l.length),d=Ii(d),l.slice(g,g+d.length)==d}function cN(l,d,g){var _=L.templateSettings;g&&ei(l,d,g)&&(d=t),l=Tt(l),d=$u({},d,_,hv);var y=$u({},d.imports,_.imports,hv),D=Dn(y),P=Yd(y,D),V,Z,ce=0,de=d.interpolate||lt,pe="__p += '",xe=Xd((d.escape||lt).source+"|"+de.source+"|"+(de===Co?F:lt).source+"|"+(d.evaluate||lt).source+"|$","g"),Ae="//# sourceURL="+(Mt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bL+"]")+`
`;l.replace(xe,function(Ke,gt,Ct,Ni,ti,Ai){return Ct||(Ct=Ni),pe+=l.slice(ce,Ai).replace(Ot,WL),gt&&(V=!0,pe+=`' +
__e(`+gt+`) +
'`),ti&&(Z=!0,pe+=`';
`+ti+`;
__p += '`),Ct&&(pe+=`' +
((__t = (`+Ct+`)) == null ? '' : __t) +
'`),ce=Ai+Ke.length,Ke}),pe+=`';
`;var je=Mt.call(d,"variable")&&d.variable;if(!je)pe=`with (obj) {
`+pe+`
}
`;else if(Qt.test(je))throw new et(a);pe=(Z?pe.replace(il,""):pe).replace(jn,"$1").replace(oi,"$1;"),pe="function("+(je||"obj")+`) {
`+(je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pe+`return __p
}`;var ct=r0(function(){return Et(D,Ae+"return "+pe).apply(t,P)});if(ct.source=pe,Mh(ct))throw ct;return ct}function dN(l){return Tt(l).toLowerCase()}function hN(l){return Tt(l).toUpperCase()}function fN(l,d,g){if(l=Tt(l),l&&(g||d===t))return f_(l);if(!l||!(d=Ii(d)))return l;var _=ir(l),y=ir(d),D=g_(_,y),P=p_(_,y)+1;return Cs(_,D,P).join("")}function gN(l,d,g){if(l=Tt(l),l&&(g||d===t))return l.slice(0,__(l)+1);if(!l||!(d=Ii(d)))return l;var _=ir(l),y=p_(_,ir(d))+1;return Cs(_,0,y).join("")}function pN(l,d,g){if(l=Tt(l),l&&(g||d===t))return l.replace(me,"");if(!l||!(d=Ii(d)))return l;var _=ir(l),y=g_(_,ir(d));return Cs(_,y).join("")}function mN(l,d){var g=X,_=$;if(sn(d)){var y="separator"in d?d.separator:y;g="length"in d?at(d.length):g,_="omission"in d?Ii(d.omission):_}l=Tt(l);var D=l.length;if(No(l)){var P=ir(l);D=P.length}if(g>=D)return l;var V=g-Ao(_);if(V<1)return _;var Z=P?Cs(P,0,V).join(""):l.slice(0,V);if(y===t)return Z+_;if(P&&(V+=Z.length-V),Rh(y)){if(l.slice(V).search(y)){var ce,de=Z;for(y.global||(y=Xd(y.source,Tt(te.exec(y))+"g")),y.lastIndex=0;ce=y.exec(de);)var pe=ce.index;Z=Z.slice(0,pe===t?V:pe)}}else if(l.indexOf(Ii(y),V)!=V){var xe=Z.lastIndexOf(y);xe>-1&&(Z=Z.slice(0,xe))}return Z+_}function _N(l){return l=Tt(l),l&&dr.test(l)?l.replace(fa,KL):l}var vN=Wo(function(l,d,g){return l+(g?" ":"")+d.toUpperCase()}),Bh=sv("toUpperCase");function i0(l,d,g){return l=Tt(l),d=g?t:d,d===t?HL(l)?YL(l):AL(l):l.match(d)||[]}var r0=ht(function(l,d){try{return Di(l,t,d)}catch(g){return Mh(g)?g:new et(g)}}),bN=jr(function(l,d){return Wi(d,function(g){g=Lr(g),zr(l,g,Ah(l[g],l))}),l});function CN(l){var d=l==null?0:l.length,g=Ve();return l=d?nn(l,function(_){if(typeof _[1]!="function")throw new Vi(o);return[g(_[0]),_[1]]}):[],ht(function(_){for(var y=-1;++y<d;){var D=l[y];if(Di(D[0],this,_))return Di(D[1],this,_)}})}function yN(l){return KD($i(l,f))}function Wh(l){return function(){return l}}function wN(l,d){return l==null||l!==l?d:l}var SN=av(),xN=av(!0);function mi(l){return l}function Vh(l){return F_(typeof l=="function"?l:$i(l,f))}function EN(l){return W_($i(l,f))}function LN(l,d){return V_(l,$i(d,f))}var DN=ht(function(l,d){return function(g){return Pa(g,l,d)}}),TN=ht(function(l,d){return function(g){return Pa(l,g,d)}});function Hh(l,d,g){var _=Dn(d),y=Su(d,_);g==null&&!(sn(d)&&(y.length||!_.length))&&(g=d,d=l,l=this,y=Su(d,Dn(d)));var D=!(sn(g)&&"chain"in g)||!!g.chain,P=qr(l);return Wi(y,function(V){var Z=d[V];l[V]=Z,P&&(l.prototype[V]=function(){var ce=this.__chain__;if(D||ce){var de=l(this.__wrapped__),pe=de.__actions__=fi(this.__actions__);return pe.push({func:Z,args:arguments,thisArg:l}),de.__chain__=ce,de}return Z.apply(l,gs([this.value()],arguments))})}),l}function IN(){return In._===this&&(In._=tD),this}function $h(){}function kN(l){return l=at(l),ht(function(d){return H_(d,l)})}var NN=bh(nn),AN=bh(l_),ON=bh(Ud);function s0(l){return Lh(l)?jd(Lr(l)):uT(l)}function MN(l){return function(d){return l==null?t:Ys(l,d)}}var RN=uv(),PN=uv(!0);function zh(){return[]}function Uh(){return!1}function FN(){return{}}function BN(){return""}function WN(){return!0}function VN(l,d){if(l=at(l),l<1||l>K)return[];var g=q,_=Pn(l,q);d=Ve(d),l-=q;for(var y=Gd(_,d);++g<l;)d(g);return y}function HN(l){return it(l)?nn(l,Lr):ki(l)?[l]:fi(Ev(Tt(l)))}function $N(l){var d=++JL;return Tt(l)+d}var zN=Iu(function(l,d){return l+d},0),UN=Ch("ceil"),jN=Iu(function(l,d){return l/d},1),KN=Ch("floor");function qN(l){return l&&l.length?wu(l,mi,sh):t}function GN(l,d){return l&&l.length?wu(l,Ve(d,2),sh):t}function YN(l){return d_(l,mi)}function ZN(l,d){return d_(l,Ve(d,2))}function XN(l){return l&&l.length?wu(l,mi,uh):t}function QN(l,d){return l&&l.length?wu(l,Ve(d,2),uh):t}var JN=Iu(function(l,d){return l*d},1),eA=Ch("round"),tA=Iu(function(l,d){return l-d},0);function nA(l){return l&&l.length?qd(l,mi):0}function iA(l,d){return l&&l.length?qd(l,Ve(d,2)):0}return L.after=EI,L.ary=Pv,L.assign=hk,L.assignIn=Zv,L.assignInWith=$u,L.assignWith=fk,L.at=gk,L.before=Fv,L.bind=Ah,L.bindAll=bN,L.bindKey=Bv,L.castArray=FI,L.chain=Ov,L.chunk=KT,L.compact=qT,L.concat=GT,L.cond=CN,L.conforms=yN,L.constant=Wh,L.countBy=nI,L.create=pk,L.curry=Wv,L.curryRight=Vv,L.debounce=Hv,L.defaults=mk,L.defaultsDeep=_k,L.defer=LI,L.delay=DI,L.difference=YT,L.differenceBy=ZT,L.differenceWith=XT,L.drop=QT,L.dropRight=JT,L.dropRightWhile=e2,L.dropWhile=t2,L.fill=n2,L.filter=rI,L.flatMap=aI,L.flatMapDeep=lI,L.flatMapDepth=uI,L.flatten=Iv,L.flattenDeep=i2,L.flattenDepth=r2,L.flip=TI,L.flow=SN,L.flowRight=xN,L.fromPairs=s2,L.functions=xk,L.functionsIn=Ek,L.groupBy=cI,L.initial=a2,L.intersection=l2,L.intersectionBy=u2,L.intersectionWith=c2,L.invert=Dk,L.invertBy=Tk,L.invokeMap=hI,L.iteratee=Vh,L.keyBy=fI,L.keys=Dn,L.keysIn=pi,L.map=Pu,L.mapKeys=kk,L.mapValues=Nk,L.matches=EN,L.matchesProperty=LN,L.memoize=Bu,L.merge=Ak,L.mergeWith=Xv,L.method=DN,L.methodOf=TN,L.mixin=Hh,L.negate=Wu,L.nthArg=kN,L.omit=Ok,L.omitBy=Mk,L.once=II,L.orderBy=gI,L.over=NN,L.overArgs=kI,L.overEvery=AN,L.overSome=ON,L.partial=Oh,L.partialRight=$v,L.partition=pI,L.pick=Rk,L.pickBy=Qv,L.property=s0,L.propertyOf=MN,L.pull=g2,L.pullAll=Nv,L.pullAllBy=p2,L.pullAllWith=m2,L.pullAt=_2,L.range=RN,L.rangeRight=PN,L.rearg=NI,L.reject=vI,L.remove=v2,L.rest=AI,L.reverse=kh,L.sampleSize=CI,L.set=Fk,L.setWith=Bk,L.shuffle=yI,L.slice=b2,L.sortBy=xI,L.sortedUniq=L2,L.sortedUniqBy=D2,L.split=aN,L.spread=OI,L.tail=T2,L.take=I2,L.takeRight=k2,L.takeRightWhile=N2,L.takeWhile=A2,L.tap=q2,L.throttle=MI,L.thru=Ru,L.toArray=qv,L.toPairs=Jv,L.toPairsIn=e0,L.toPath=HN,L.toPlainObject=Yv,L.transform=Wk,L.unary=RI,L.union=O2,L.unionBy=M2,L.unionWith=R2,L.uniq=P2,L.uniqBy=F2,L.uniqWith=B2,L.unset=Vk,L.unzip=Nh,L.unzipWith=Av,L.update=Hk,L.updateWith=$k,L.values=$o,L.valuesIn=zk,L.without=W2,L.words=i0,L.wrap=PI,L.xor=V2,L.xorBy=H2,L.xorWith=$2,L.zip=z2,L.zipObject=U2,L.zipObjectDeep=j2,L.zipWith=K2,L.entries=Jv,L.entriesIn=e0,L.extend=Zv,L.extendWith=$u,Hh(L,L),L.add=zN,L.attempt=r0,L.camelCase=qk,L.capitalize=t0,L.ceil=UN,L.clamp=Uk,L.clone=BI,L.cloneDeep=VI,L.cloneDeepWith=HI,L.cloneWith=WI,L.conformsTo=$I,L.deburr=n0,L.defaultTo=wN,L.divide=jN,L.endsWith=Gk,L.eq=sr,L.escape=Yk,L.escapeRegExp=Zk,L.every=iI,L.find=sI,L.findIndex=Dv,L.findKey=vk,L.findLast=oI,L.findLastIndex=Tv,L.findLastKey=bk,L.floor=KN,L.forEach=Mv,L.forEachRight=Rv,L.forIn=Ck,L.forInRight=yk,L.forOwn=wk,L.forOwnRight=Sk,L.get=Ph,L.gt=zI,L.gte=UI,L.has=Lk,L.hasIn=Fh,L.head=kv,L.identity=mi,L.includes=dI,L.indexOf=o2,L.inRange=jk,L.invoke=Ik,L.isArguments=Qs,L.isArray=it,L.isArrayBuffer=jI,L.isArrayLike=gi,L.isArrayLikeObject=mn,L.isBoolean=KI,L.isBuffer=ys,L.isDate=qI,L.isElement=GI,L.isEmpty=YI,L.isEqual=ZI,L.isEqualWith=XI,L.isError=Mh,L.isFinite=QI,L.isFunction=qr,L.isInteger=zv,L.isLength=Vu,L.isMap=Uv,L.isMatch=JI,L.isMatchWith=ek,L.isNaN=tk,L.isNative=nk,L.isNil=rk,L.isNull=ik,L.isNumber=jv,L.isObject=sn,L.isObjectLike=cn,L.isPlainObject=$a,L.isRegExp=Rh,L.isSafeInteger=sk,L.isSet=Kv,L.isString=Hu,L.isSymbol=ki,L.isTypedArray=Ho,L.isUndefined=ok,L.isWeakMap=ak,L.isWeakSet=lk,L.join=d2,L.kebabCase=Xk,L.last=Ui,L.lastIndexOf=h2,L.lowerCase=Qk,L.lowerFirst=Jk,L.lt=uk,L.lte=ck,L.max=qN,L.maxBy=GN,L.mean=YN,L.meanBy=ZN,L.min=XN,L.minBy=QN,L.stubArray=zh,L.stubFalse=Uh,L.stubObject=FN,L.stubString=BN,L.stubTrue=WN,L.multiply=JN,L.nth=f2,L.noConflict=IN,L.noop=$h,L.now=Fu,L.pad=eN,L.padEnd=tN,L.padStart=nN,L.parseInt=iN,L.random=Kk,L.reduce=mI,L.reduceRight=_I,L.repeat=rN,L.replace=sN,L.result=Pk,L.round=eA,L.runInContext=Y,L.sample=bI,L.size=wI,L.snakeCase=oN,L.some=SI,L.sortedIndex=C2,L.sortedIndexBy=y2,L.sortedIndexOf=w2,L.sortedLastIndex=S2,L.sortedLastIndexBy=x2,L.sortedLastIndexOf=E2,L.startCase=lN,L.startsWith=uN,L.subtract=tA,L.sum=nA,L.sumBy=iA,L.template=cN,L.times=VN,L.toFinite=Gr,L.toInteger=at,L.toLength=Gv,L.toLower=dN,L.toNumber=ji,L.toSafeInteger=dk,L.toString=Tt,L.toUpper=hN,L.trim=fN,L.trimEnd=gN,L.trimStart=pN,L.truncate=mN,L.unescape=_N,L.uniqueId=$N,L.upperCase=vN,L.upperFirst=Bh,L.each=Mv,L.eachRight=Rv,L.first=kv,Hh(L,function(){var l={};return xr(L,function(d,g){Mt.call(L.prototype,g)||(l[g]=d)}),l}(),{chain:!1}),L.VERSION=n,Wi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){L[l].placeholder=L}),Wi(["drop","take"],function(l,d){vt.prototype[l]=function(g){g=g===t?1:Sn(at(g),0);var _=this.__filtered__&&!d?new vt(this):this.clone();return _.__filtered__?_.__takeCount__=Pn(g,_.__takeCount__):_.__views__.push({size:Pn(g,q),type:l+(_.__dir__<0?"Right":"")}),_},vt.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),Wi(["filter","map","takeWhile"],function(l,d){var g=d+1,_=g==B||g==j;vt.prototype[l]=function(y){var D=this.clone();return D.__iteratees__.push({iteratee:Ve(y,3),type:g}),D.__filtered__=D.__filtered__||_,D}}),Wi(["head","last"],function(l,d){var g="take"+(d?"Right":"");vt.prototype[l]=function(){return this[g](1).value()[0]}}),Wi(["initial","tail"],function(l,d){var g="drop"+(d?"":"Right");vt.prototype[l]=function(){return this.__filtered__?new vt(this):this[g](1)}}),vt.prototype.compact=function(){return this.filter(mi)},vt.prototype.find=function(l){return this.filter(l).head()},vt.prototype.findLast=function(l){return this.reverse().find(l)},vt.prototype.invokeMap=ht(function(l,d){return typeof l=="function"?new vt(this):this.map(function(g){return Pa(g,l,d)})}),vt.prototype.reject=function(l){return this.filter(Wu(Ve(l)))},vt.prototype.slice=function(l,d){l=at(l);var g=this;return g.__filtered__&&(l>0||d<0)?new vt(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),d!==t&&(d=at(d),g=d<0?g.dropRight(-d):g.take(d-l)),g)},vt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},vt.prototype.toArray=function(){return this.take(q)},xr(vt.prototype,function(l,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),_=/^(?:head|last)$/.test(d),y=L[_?"take"+(d=="last"?"Right":""):d],D=_||/^find/.test(d);y&&(L.prototype[d]=function(){var P=this.__wrapped__,V=_?[1]:arguments,Z=P instanceof vt,ce=V[0],de=Z||it(P),pe=function(gt){var Ct=y.apply(L,gs([gt],V));return _&&xe?Ct[0]:Ct};de&&g&&typeof ce=="function"&&ce.length!=1&&(Z=de=!1);var xe=this.__chain__,Ae=!!this.__actions__.length,je=D&&!xe,ct=Z&&!Ae;if(!D&&de){P=ct?P:new vt(this);var Ke=l.apply(P,V);return Ke.__actions__.push({func:Ru,args:[pe],thisArg:t}),new Hi(Ke,xe)}return je&&ct?l.apply(this,V):(Ke=this.thru(pe),je?_?Ke.value()[0]:Ke.value():Ke)})}),Wi(["pop","push","shift","sort","splice","unshift"],function(l){var d=au[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",_=/^(?:pop|shift)$/.test(l);L.prototype[l]=function(){var y=arguments;if(_&&!this.__chain__){var D=this.value();return d.apply(it(D)?D:[],y)}return this[g](function(P){return d.apply(it(P)?P:[],y)})}}),xr(vt.prototype,function(l,d){var g=L[d];if(g){var _=g.name+"";Mt.call(Po,_)||(Po[_]=[]),Po[_].push({name:d,func:g})}}),Po[Tu(t,x).name]=[{name:"wrapper",func:t}],vt.prototype.clone=_D,vt.prototype.reverse=vD,vt.prototype.value=bD,L.prototype.at=G2,L.prototype.chain=Y2,L.prototype.commit=Z2,L.prototype.next=X2,L.prototype.plant=J2,L.prototype.reverse=eI,L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=tI,L.prototype.first=L.prototype.head,Ia&&(L.prototype[Ia]=Q2),L},Oo=ZL();Us?((Us.exports=Oo)._=Oo,Vd._=Oo):In._=Oo}).call(Ca)})(X8,X8.exports);var Nr=X8.exports,LS;(function(i){i.Update="Component.Update"})(LS||(LS={}));class El extends CE{constructor(){super(),this._event=new V9}setState(e,t){const n=Object.assign(this.state,e);this.render(n),t==null||t(this.state,n)}render(e){this._event.emit(LS.Update,this.state,e)}onUpdateState(e){this._event.subscribe(LS.Update,e)}removeOnUpdateState(e){this._event.unsubscribe(LS.Update,e)}forceUpdate(){this.setState(Nr.cloneDeep(this.state))}getState(){return this.state}}function MP(i,e){return ge.Children.map(i,t=>ge.isValidElement(t)?ge.cloneElement(t,e):t)}const Hn={info(...i){},error(...i){console.error(...i)},warn(...i){console.warn(...i)}};function Ll(i,e,t){return class extends ge.Component{constructor(r){super(r),this._isMounted=!1,this.update=()=>{this._isMounted&&this.setState({lastUpdated:Date.now()})},this.onChange=this.onChange.bind(this),this.state={lastUpdated:Date.now()}}componentDidMount(){this._isMounted=!0,this.handleService(r=>{r.onUpdateState(this.onChange)})}componentWillUnmount(){this._isMounted=!1,this.handleService(r=>{r.removeOnUpdateState(this.onChange)})}onChange(r,s){Hn.info(r,s,qe._registry),this.update()}getServiceState(){const r={};return this.handleService((s,o)=>{o?Object.assign(r,{[o]:Object.assign({},s.getState())}):Object.assign(r,Object.assign({},s.getState()))}),r}handleService(r){if(this.isValidService(i))r(i);else for(const s in i)if(s){const o=i[s];this.isValidService(o)&&r(o,s)}}getControllerProperties(){const r={};return t&&this.handleController((s,o)=>{o?Object.assign(r,{[o]:this.getObjectPublicProperties(s)}):Object.assign(r,this.getObjectPublicProperties(s))}),r}handleController(r){if(this.isValidController(t))r(t);else for(const s in t)if(s){const o=t[s];this.isValidController(o)&&r(o,s)}}render(){return re.createElement(e,Object.assign({},this.state,this.props,this.getServiceState(),this.getControllerProperties()))}isValidService(r){return typeof r.onUpdateState=="function"}isValidController(r){return typeof r.initView=="function"}getObjectPublicProperties(r){const s=Object.keys(r),o={};return s.forEach(a=>{!a.endsWith("Service")&&!a.endsWith("Controller")&&!a.startsWith("_")&&(o[a]=r[a])}),o}}}class Da extends CE{}const pxe=Object.freeze(Object.defineProperty({__proto__:null,Component:El,get ComponentEvents(){return LS},Controller:Da,cloneReactChildren:MP,connect:Ll},Symbol.toStringTag,{value:"Module"}));var G1={};Object.defineProperty(G1,"__esModule",{value:!0});function rne(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function mxe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rne(Object(t),!0).forEach(function(n){_xe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):rne(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function jU(i){"@babel/helpers - typeof";return jU=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jU(i)}function Pde(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function sne(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function Fde(i,e,t){return e&&sne(i.prototype,e),t&&sne(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function _xe(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function one(i,e){return vxe(i)||bxe(i,e)||Cxe(i,e)||yxe()}function vxe(i){if(Array.isArray(i))return i}function bxe(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n=[],r=!0,s=!1,o,a;try{for(t=t.call(i);!(r=(o=t.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(u){s=!0,a=u}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return n}}function Cxe(i,e){if(i){if(typeof i=="string")return ane(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ane(i,e)}}function ane(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function yxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ca<"u"?Ca:typeof self<"u"?self:{};function Bde(i,e){return e={exports:{}},i(e,e.exports),e.exports}var XV=Bde(function(i,e){(function(){var t,n="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,m=4,v=1,b=2,S=1,x=2,w=4,E=8,N=16,A=32,H=64,R=128,M=256,G=512,X=30,$="...",I=800,O=16,B=1,W=2,j=3,U=1/0,K=9007199254740991,z=17976931348623157e292,k=0/0,q=4294967295,fe=q-1,ne=q>>>1,Ce=[["ary",R],["bind",S],["bindKey",x],["curry",E],["curryRight",N],["flip",G],["partial",A],["partialRight",H],["rearg",M]],Te="[object Arguments]",He="[object Array]",ot="[object AsyncFunction]",Rt="[object Boolean]",Re="[object Date]",dt="[object DOMException]",wt="[object Error]",Je="[object Function]",ln="[object GeneratorFunction]",Yt="[object Map]",pn="[object Number]",Ln="[object Null]",Un="[object Object]",ci="[object Promise]",di="[object Proxy]",Gi="[object RegExp]",Vt="[object Set]",un="[object String]",Qn="[object Symbol]",ke="[object Undefined]",Pe="[object WeakMap]",_t="[object WeakSet]",ut="[object ArrayBuffer]",yt="[object DataView]",Li="[object Float32Array]",zt="[object Float64Array]",At="[object Int8Array]",Zt="[object Int16Array]",Xt="[object Int32Array]",Ht="[object Uint8Array]",yr="[object Uint8ClampedArray]",si="[object Uint16Array]",$e="[object Uint32Array]",il=/\b__p \+= '';/g,jn=/\b(__p \+=) '' \+/g,oi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fa=/&(?:amp|lt|gt|quot|#39);/g,yn=/[&<>"']/g,dr=RegExp(fa.source),Il=RegExp(yn.source),tr=/<%-([\s\S]+?)%>/g,Xe=/<%([\s\S]+?)%>/g,Co=/<%=([\s\S]+?)%>/g,Ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,le=RegExp(oe.source),me=/^\s+/,J=/\s/,be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qt=/[()=,{}\[\]\/\s]/,T=/\\(\\)?/g,F=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,te=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,ue=/^\[object .+?Constructor\]$/,Ie=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,Ot=/['\n\r\u2028\u2029\\]/g,Wt="\\ud800-\\udfff",Pt="\\u0300-\\u036f",St="\\ufe20-\\ufe2f",hi="\\u20d0-\\u20ff",Kn=Pt+St+hi,hr="\\u2700-\\u27bf",Yi="a-z\\xdf-\\xf6\\xf8-\\xff",rl="\\xac\\xb1\\xd7\\xf7",kl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yp="\\u2000-\\u206f",iL=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wm="A-Z\\xc0-\\xd6\\xd8-\\xde",Vm="\\ufe0e\\ufe0f",Hm=rl+kl+yp+iL,Rd="[']",rL="["+Wt+"]",$m="["+Hm+"]",iu="["+Kn+"]",zm="\\d+",sL="["+hr+"]",Um="["+Yi+"]",jm="[^"+Wt+Hm+zm+hr+Yi+Wm+"]",Pd="\\ud83c[\\udffb-\\udfff]",oL="(?:"+iu+"|"+Pd+")",Km="[^"+Wt+"]",Fd="(?:\\ud83c[\\udde6-\\uddff]){2}",Bd="[\\ud800-\\udbff][\\udc00-\\udfff]",Io="["+Wm+"]",qm="\\u200d",Gm="(?:"+Um+"|"+jm+")",aL="(?:"+Io+"|"+jm+")",Ym="(?:"+Rd+"(?:d|ll|m|re|s|t|ve))?",Zm="(?:"+Rd+"(?:D|LL|M|RE|S|T|VE))?",Xm=oL+"?",Qm="["+Vm+"]?",lL="(?:"+qm+"(?:"+[Km,Fd,Bd].join("|")+")"+Qm+Xm+")*",uL="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cL="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jm=Qm+Xm+lL,dL="(?:"+[sL,Fd,Bd].join("|")+")"+Jm,hL="(?:"+[Km+iu+"?",iu,Fd,Bd,rL].join("|")+")",fL=RegExp(Rd,"g"),gL=RegExp(iu,"g"),Wd=RegExp(Pd+"(?="+Pd+")|"+hL+Jm,"g"),pL=RegExp([Io+"?"+Um+"+"+Ym+"(?="+[$m,Io,"$"].join("|")+")",aL+"+"+Zm+"(?="+[$m,Io+Gm,"$"].join("|")+")",Io+"?"+Gm+"+"+Ym,Io+"+"+Zm,cL,uL,zm,dL].join("|"),"g"),mL=RegExp("["+qm+Wt+Kn+Vm+"]"),_L=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vL=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bL=-1,Gt={};Gt[Li]=Gt[zt]=Gt[At]=Gt[Zt]=Gt[Xt]=Gt[Ht]=Gt[yr]=Gt[si]=Gt[$e]=!0,Gt[Te]=Gt[He]=Gt[ut]=Gt[Rt]=Gt[yt]=Gt[Re]=Gt[wt]=Gt[Je]=Gt[Yt]=Gt[pn]=Gt[Un]=Gt[Gi]=Gt[Vt]=Gt[un]=Gt[Pe]=!1;var jt={};jt[Te]=jt[He]=jt[ut]=jt[yt]=jt[Rt]=jt[Re]=jt[Li]=jt[zt]=jt[At]=jt[Zt]=jt[Xt]=jt[Yt]=jt[pn]=jt[Un]=jt[Gi]=jt[Vt]=jt[un]=jt[Qn]=jt[Ht]=jt[yr]=jt[si]=jt[$e]=!0,jt[wt]=jt[Je]=jt[Pe]=!1;var CL={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},yL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wL={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},SL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xL=parseFloat,EL=parseInt,e_=typeof Fw=="object"&&Fw&&Fw.Object===Object&&Fw,LL=typeof self=="object"&&self&&self.Object===Object&&self,In=e_||LL||Function("return this")(),Vd=e&&!e.nodeType&&e,Us=Vd&&!0&&i&&!i.nodeType&&i,t_=Us&&Us.exports===Vd,Hd=t_&&e_.process,Bi=function(){try{var Y=Us&&Us.require&&Us.require("util").types;return Y||Hd&&Hd.binding&&Hd.binding("util")}catch{}}(),n_=Bi&&Bi.isArrayBuffer,i_=Bi&&Bi.isDate,r_=Bi&&Bi.isMap,s_=Bi&&Bi.isRegExp,o_=Bi&&Bi.isSet,a_=Bi&&Bi.isTypedArray;function Di(Y,se,ee){switch(ee.length){case 0:return Y.call(se);case 1:return Y.call(se,ee[0]);case 2:return Y.call(se,ee[0],ee[1]);case 3:return Y.call(se,ee[0],ee[1],ee[2])}return Y.apply(se,ee)}function DL(Y,se,ee,De){for(var et=-1,Et=Y==null?0:Y.length;++et<Et;){var wn=Y[et];se(De,wn,ee(wn),Y)}return De}function Wi(Y,se){for(var ee=-1,De=Y==null?0:Y.length;++ee<De&&se(Y[ee],ee,Y)!==!1;);return Y}function TL(Y,se){for(var ee=Y==null?0:Y.length;ee--&&se(Y[ee],ee,Y)!==!1;);return Y}function l_(Y,se){for(var ee=-1,De=Y==null?0:Y.length;++ee<De;)if(!se(Y[ee],ee,Y))return!1;return!0}function fs(Y,se){for(var ee=-1,De=Y==null?0:Y.length,et=0,Et=[];++ee<De;){var wn=Y[ee];se(wn,ee,Y)&&(Et[et++]=wn)}return Et}function ru(Y,se){var ee=Y==null?0:Y.length;return!!ee&&ko(Y,se,0)>-1}function $d(Y,se,ee){for(var De=-1,et=Y==null?0:Y.length;++De<et;)if(ee(se,Y[De]))return!0;return!1}function nn(Y,se){for(var ee=-1,De=Y==null?0:Y.length,et=Array(De);++ee<De;)et[ee]=se(Y[ee],ee,Y);return et}function gs(Y,se){for(var ee=-1,De=se.length,et=Y.length;++ee<De;)Y[et+ee]=se[ee];return Y}function zd(Y,se,ee,De){var et=-1,Et=Y==null?0:Y.length;for(De&&Et&&(ee=Y[++et]);++et<Et;)ee=se(ee,Y[et],et,Y);return ee}function IL(Y,se,ee,De){var et=Y==null?0:Y.length;for(De&&et&&(ee=Y[--et]);et--;)ee=se(ee,Y[et],et,Y);return ee}function Ud(Y,se){for(var ee=-1,De=Y==null?0:Y.length;++ee<De;)if(se(Y[ee],ee,Y))return!0;return!1}var kL=jd("length");function NL(Y){return Y.split("")}function AL(Y){return Y.match(ft)||[]}function u_(Y,se,ee){var De;return ee(Y,function(et,Et,wn){if(se(et,Et,wn))return De=Et,!1}),De}function su(Y,se,ee,De){for(var et=Y.length,Et=ee+(De?1:-1);De?Et--:++Et<et;)if(se(Y[Et],Et,Y))return Et;return-1}function ko(Y,se,ee){return se===se?UL(Y,se,ee):su(Y,c_,ee)}function OL(Y,se,ee,De){for(var et=ee-1,Et=Y.length;++et<Et;)if(De(Y[et],se))return et;return-1}function c_(Y){return Y!==Y}function d_(Y,se){var ee=Y==null?0:Y.length;return ee?qd(Y,se)/ee:k}function jd(Y){return function(se){return se==null?t:se[Y]}}function Kd(Y){return function(se){return Y==null?t:Y[se]}}function h_(Y,se,ee,De,et){return et(Y,function(Et,wn,$t){ee=De?(De=!1,Et):se(ee,Et,wn,$t)}),ee}function ML(Y,se){var ee=Y.length;for(Y.sort(se);ee--;)Y[ee]=Y[ee].value;return Y}function qd(Y,se){for(var ee,De=-1,et=Y.length;++De<et;){var Et=se(Y[De]);Et!==t&&(ee=ee===t?Et:ee+Et)}return ee}function Gd(Y,se){for(var ee=-1,De=Array(Y);++ee<Y;)De[ee]=se(ee);return De}function RL(Y,se){return nn(se,function(ee){return[ee,Y[ee]]})}function f_(Y){return Y&&Y.slice(0,__(Y)+1).replace(me,"")}function Ti(Y){return function(se){return Y(se)}}function Yd(Y,se){return nn(se,function(ee){return Y[ee]})}function Ta(Y,se){return Y.has(se)}function g_(Y,se){for(var ee=-1,De=Y.length;++ee<De&&ko(se,Y[ee],0)>-1;);return ee}function p_(Y,se){for(var ee=Y.length;ee--&&ko(se,Y[ee],0)>-1;);return ee}function PL(Y,se){for(var ee=Y.length,De=0;ee--;)Y[ee]===se&&++De;return De}var FL=Kd(CL),BL=Kd(yL);function WL(Y){return"\\"+SL[Y]}function VL(Y,se){return Y==null?t:Y[se]}function No(Y){return mL.test(Y)}function HL(Y){return _L.test(Y)}function $L(Y){for(var se,ee=[];!(se=Y.next()).done;)ee.push(se.value);return ee}function Zd(Y){var se=-1,ee=Array(Y.size);return Y.forEach(function(De,et){ee[++se]=[et,De]}),ee}function m_(Y,se){return function(ee){return Y(se(ee))}}function ps(Y,se){for(var ee=-1,De=Y.length,et=0,Et=[];++ee<De;){var wn=Y[ee];(wn===se||wn===h)&&(Y[ee]=h,Et[et++]=ee)}return Et}function ou(Y){var se=-1,ee=Array(Y.size);return Y.forEach(function(De){ee[++se]=De}),ee}function zL(Y){var se=-1,ee=Array(Y.size);return Y.forEach(function(De){ee[++se]=[De,De]}),ee}function UL(Y,se,ee){for(var De=ee-1,et=Y.length;++De<et;)if(Y[De]===se)return De;return-1}function jL(Y,se,ee){for(var De=ee+1;De--;)if(Y[De]===se)return De;return De}function Ao(Y){return No(Y)?qL(Y):kL(Y)}function ir(Y){return No(Y)?GL(Y):NL(Y)}function __(Y){for(var se=Y.length;se--&&J.test(Y.charAt(se)););return se}var KL=Kd(wL);function qL(Y){for(var se=Wd.lastIndex=0;Wd.test(Y);)++se;return se}function GL(Y){return Y.match(Wd)||[]}function YL(Y){return Y.match(pL)||[]}var ZL=function Y(se){se=se==null?In:Oo.defaults(In.Object(),se,Oo.pick(In,vL));var ee=se.Array,De=se.Date,et=se.Error,Et=se.Function,wn=se.Math,$t=se.Object,Xd=se.RegExp,XL=se.String,Vi=se.TypeError,au=ee.prototype,QL=Et.prototype,Mo=$t.prototype,lu=se["__core-js_shared__"],uu=QL.toString,Mt=Mo.hasOwnProperty,JL=0,v_=function(){var l=/[^.]+$/.exec(lu&&lu.keys&&lu.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),cu=Mo.toString,eD=uu.call($t),tD=In._,nD=Xd("^"+uu.call(Mt).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),du=t_?se.Buffer:t,ms=se.Symbol,hu=se.Uint8Array,b_=du?du.allocUnsafe:t,fu=m_($t.getPrototypeOf,$t),C_=$t.create,y_=Mo.propertyIsEnumerable,gu=au.splice,w_=ms?ms.isConcatSpreadable:t,Ia=ms?ms.iterator:t,js=ms?ms.toStringTag:t,pu=function(){try{var l=Zs($t,"defineProperty");return l({},"",{}),l}catch{}}(),iD=se.clearTimeout!==In.clearTimeout&&se.clearTimeout,rD=De&&De.now!==In.Date.now&&De.now,sD=se.setTimeout!==In.setTimeout&&se.setTimeout,mu=wn.ceil,_u=wn.floor,Qd=$t.getOwnPropertySymbols,oD=du?du.isBuffer:t,S_=se.isFinite,aD=au.join,lD=m_($t.keys,$t),Sn=wn.max,Pn=wn.min,uD=De.now,cD=se.parseInt,x_=wn.random,dD=au.reverse,Jd=Zs(se,"DataView"),ka=Zs(se,"Map"),eh=Zs(se,"Promise"),Ro=Zs(se,"Set"),Na=Zs(se,"WeakMap"),Aa=Zs($t,"create"),vu=Na&&new Na,Po={},hD=Xs(Jd),fD=Xs(ka),gD=Xs(eh),pD=Xs(Ro),mD=Xs(Na),bu=ms?ms.prototype:t,Oa=bu?bu.valueOf:t,E_=bu?bu.toString:t;function L(l){if(cn(l)&&!it(l)&&!(l instanceof vt)){if(l instanceof Hi)return l;if(Mt.call(l,"__wrapped__"))return Lv(l)}return new Hi(l)}var Fo=function(){function l(){}return function(d){if(!sn(d))return{};if(C_)return C_(d);l.prototype=d;var g=new l;return l.prototype=t,g}}();function Cu(){}function Hi(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}L.templateSettings={escape:tr,evaluate:Xe,interpolate:Co,variable:"",imports:{_:L}},L.prototype=Cu.prototype,L.prototype.constructor=L,Hi.prototype=Fo(Cu.prototype),Hi.prototype.constructor=Hi;function vt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function _D(){var l=new vt(this.__wrapped__);return l.__actions__=fi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=fi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=fi(this.__views__),l}function vD(){if(this.__filtered__){var l=new vt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function bD(){var l=this.__wrapped__.value(),d=this.__dir__,g=it(l),_=d<0,y=g?l.length:0,D=NT(0,y,this.__views__),P=D.start,V=D.end,Z=V-P,ce=_?V:P-1,de=this.__iteratees__,pe=de.length,xe=0,Ae=Pn(Z,this.__takeCount__);if(!g||!_&&y==Z&&Ae==Z)return Y_(l,this.__actions__);var je=[];e:for(;Z--&&xe<Ae;){ce+=d;for(var ct=-1,Ke=l[ce];++ct<pe;){var gt=de[ct],Ct=gt.iteratee,Ni=gt.type,ti=Ct(Ke);if(Ni==W)Ke=ti;else if(!ti){if(Ni==B)continue e;break e}}je[xe++]=Ke}return je}vt.prototype=Fo(Cu.prototype),vt.prototype.constructor=vt;function Ks(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function CD(){this.__data__=Aa?Aa(null):{},this.size=0}function yD(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function wD(l){var d=this.__data__;if(Aa){var g=d[l];return g===u?t:g}return Mt.call(d,l)?d[l]:t}function SD(l){var d=this.__data__;return Aa?d[l]!==t:Mt.call(d,l)}function xD(l,d){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=Aa&&d===t?u:d,this}Ks.prototype.clear=CD,Ks.prototype.delete=yD,Ks.prototype.get=wD,Ks.prototype.has=SD,Ks.prototype.set=xD;function Hr(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function ED(){this.__data__=[],this.size=0}function LD(l){var d=this.__data__,g=yu(d,l);if(g<0)return!1;var _=d.length-1;return g==_?d.pop():gu.call(d,g,1),--this.size,!0}function DD(l){var d=this.__data__,g=yu(d,l);return g<0?t:d[g][1]}function TD(l){return yu(this.__data__,l)>-1}function ID(l,d){var g=this.__data__,_=yu(g,l);return _<0?(++this.size,g.push([l,d])):g[_][1]=d,this}Hr.prototype.clear=ED,Hr.prototype.delete=LD,Hr.prototype.get=DD,Hr.prototype.has=TD,Hr.prototype.set=ID;function $r(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function kD(){this.size=0,this.__data__={hash:new Ks,map:new(ka||Hr),string:new Ks}}function ND(l){var d=Ou(this,l).delete(l);return this.size-=d?1:0,d}function AD(l){return Ou(this,l).get(l)}function OD(l){return Ou(this,l).has(l)}function MD(l,d){var g=Ou(this,l),_=g.size;return g.set(l,d),this.size+=g.size==_?0:1,this}$r.prototype.clear=kD,$r.prototype.delete=ND,$r.prototype.get=AD,$r.prototype.has=OD,$r.prototype.set=MD;function qs(l){var d=-1,g=l==null?0:l.length;for(this.__data__=new $r;++d<g;)this.add(l[d])}function RD(l){return this.__data__.set(l,u),this}function PD(l){return this.__data__.has(l)}qs.prototype.add=qs.prototype.push=RD,qs.prototype.has=PD;function rr(l){var d=this.__data__=new Hr(l);this.size=d.size}function FD(){this.__data__=new Hr,this.size=0}function BD(l){var d=this.__data__,g=d.delete(l);return this.size=d.size,g}function WD(l){return this.__data__.get(l)}function VD(l){return this.__data__.has(l)}function HD(l,d){var g=this.__data__;if(g instanceof Hr){var _=g.__data__;if(!ka||_.length<r-1)return _.push([l,d]),this.size=++g.size,this;g=this.__data__=new $r(_)}return g.set(l,d),this.size=g.size,this}rr.prototype.clear=FD,rr.prototype.delete=BD,rr.prototype.get=WD,rr.prototype.has=VD,rr.prototype.set=HD;function L_(l,d){var g=it(l),_=!g&&Qs(l),y=!g&&!_&&ys(l),D=!g&&!_&&!y&&Ho(l),P=g||_||y||D,V=P?Gd(l.length,XL):[],Z=V.length;for(var ce in l)(d||Mt.call(l,ce))&&!(P&&(ce=="length"||y&&(ce=="offset"||ce=="parent")||D&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||Kr(ce,Z)))&&V.push(ce);return V}function D_(l){var d=l.length;return d?l[dh(0,d-1)]:t}function $D(l,d){return Mu(fi(l),Gs(d,0,l.length))}function zD(l){return Mu(fi(l))}function th(l,d,g){(g!==t&&!sr(l[d],g)||g===t&&!(d in l))&&zr(l,d,g)}function Ma(l,d,g){var _=l[d];(!(Mt.call(l,d)&&sr(_,g))||g===t&&!(d in l))&&zr(l,d,g)}function yu(l,d){for(var g=l.length;g--;)if(sr(l[g][0],d))return g;return-1}function UD(l,d,g,_){return _s(l,function(y,D,P){d(_,y,g(y),P)}),_}function T_(l,d){return l&&Er(d,Dn(d),l)}function jD(l,d){return l&&Er(d,pi(d),l)}function zr(l,d,g){d=="__proto__"&&pu?pu(l,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[d]=g}function nh(l,d){for(var g=-1,_=d.length,y=ee(_),D=l==null;++g<_;)y[g]=D?t:Ph(l,d[g]);return y}function Gs(l,d,g){return l===l&&(g!==t&&(l=l<=g?l:g),d!==t&&(l=l>=d?l:d)),l}function $i(l,d,g,_,y,D){var P,V=d&f,Z=d&p,ce=d&m;if(g&&(P=y?g(l,_,y,D):g(l)),P!==t)return P;if(!sn(l))return l;var de=it(l);if(de){if(P=OT(l),!V)return fi(l,P)}else{var pe=Fn(l),xe=pe==Je||pe==ln;if(ys(l))return Q_(l,V);if(pe==Un||pe==Te||xe&&!y){if(P=Z||xe?{}:_v(l),!V)return Z?wT(l,jD(P,l)):yT(l,T_(P,l))}else{if(!jt[pe])return y?l:{};P=MT(l,pe,V)}}D||(D=new rr);var Ae=D.get(l);if(Ae)return Ae;D.set(l,P),Kv(l)?l.forEach(function(Ke){P.add($i(Ke,d,g,Ke,l,D))}):Uv(l)&&l.forEach(function(Ke,gt){P.set(gt,$i(Ke,d,g,gt,l,D))});var je=ce?Z?wh:yh:Z?pi:Dn,ct=de?t:je(l);return Wi(ct||l,function(Ke,gt){ct&&(gt=Ke,Ke=l[gt]),Ma(P,gt,$i(Ke,d,g,gt,l,D))}),P}function KD(l){var d=Dn(l);return function(g){return I_(g,l,d)}}function I_(l,d,g){var _=g.length;if(l==null)return!_;for(l=$t(l);_--;){var y=g[_],D=d[y],P=l[y];if(P===t&&!(y in l)||!D(P))return!1}return!0}function k_(l,d,g){if(typeof l!="function")throw new Vi(o);return Ha(function(){l.apply(t,g)},d)}function Ra(l,d,g,_){var y=-1,D=ru,P=!0,V=l.length,Z=[],ce=d.length;if(!V)return Z;g&&(d=nn(d,Ti(g))),_?(D=$d,P=!1):d.length>=r&&(D=Ta,P=!1,d=new qs(d));e:for(;++y<V;){var de=l[y],pe=g==null?de:g(de);if(de=_||de!==0?de:0,P&&pe===pe){for(var xe=ce;xe--;)if(d[xe]===pe)continue e;Z.push(de)}else D(d,pe,_)||Z.push(de)}return Z}var _s=iv(xr),N_=iv(rh,!0);function qD(l,d){var g=!0;return _s(l,function(_,y,D){return g=!!d(_,y,D),g}),g}function wu(l,d,g){for(var _=-1,y=l.length;++_<y;){var D=l[_],P=d(D);if(P!=null&&(V===t?P===P&&!ki(P):g(P,V)))var V=P,Z=D}return Z}function GD(l,d,g,_){var y=l.length;for(g=at(g),g<0&&(g=-g>y?0:y+g),_=_===t||_>y?y:at(_),_<0&&(_+=y),_=g>_?0:Gv(_);g<_;)l[g++]=d;return l}function A_(l,d){var g=[];return _s(l,function(_,y,D){d(_,y,D)&&g.push(_)}),g}function kn(l,d,g,_,y){var D=-1,P=l.length;for(g||(g=PT),y||(y=[]);++D<P;){var V=l[D];d>0&&g(V)?d>1?kn(V,d-1,g,_,y):gs(y,V):_||(y[y.length]=V)}return y}var ih=rv(),O_=rv(!0);function xr(l,d){return l&&ih(l,d,Dn)}function rh(l,d){return l&&O_(l,d,Dn)}function Su(l,d){return fs(d,function(g){return qr(l[g])})}function Ys(l,d){d=bs(d,l);for(var g=0,_=d.length;l!=null&&g<_;)l=l[Lr(d[g++])];return g&&g==_?l:t}function M_(l,d,g){var _=d(l);return it(l)?_:gs(_,g(l))}function Jn(l){return l==null?l===t?ke:Ln:js&&js in $t(l)?kT(l):zT(l)}function sh(l,d){return l>d}function YD(l,d){return l!=null&&Mt.call(l,d)}function ZD(l,d){return l!=null&&d in $t(l)}function XD(l,d,g){return l>=Pn(d,g)&&l<Sn(d,g)}function oh(l,d,g){for(var _=g?$d:ru,y=l[0].length,D=l.length,P=D,V=ee(D),Z=1/0,ce=[];P--;){var de=l[P];P&&d&&(de=nn(de,Ti(d))),Z=Pn(de.length,Z),V[P]=!g&&(d||y>=120&&de.length>=120)?new qs(P&&de):t}de=l[0];var pe=-1,xe=V[0];e:for(;++pe<y&&ce.length<Z;){var Ae=de[pe],je=d?d(Ae):Ae;if(Ae=g||Ae!==0?Ae:0,!(xe?Ta(xe,je):_(ce,je,g))){for(P=D;--P;){var ct=V[P];if(!(ct?Ta(ct,je):_(l[P],je,g)))continue e}xe&&xe.push(je),ce.push(Ae)}}return ce}function QD(l,d,g,_){return xr(l,function(y,D,P){d(_,g(y),D,P)}),_}function Pa(l,d,g){d=bs(d,l),l=yv(l,d);var _=l==null?l:l[Lr(Ui(d))];return _==null?t:Di(_,l,g)}function R_(l){return cn(l)&&Jn(l)==Te}function JD(l){return cn(l)&&Jn(l)==ut}function eT(l){return cn(l)&&Jn(l)==Re}function Fa(l,d,g,_,y){return l===d?!0:l==null||d==null||!cn(l)&&!cn(d)?l!==l&&d!==d:tT(l,d,g,_,Fa,y)}function tT(l,d,g,_,y,D){var P=it(l),V=it(d),Z=P?He:Fn(l),ce=V?He:Fn(d);Z=Z==Te?Un:Z,ce=ce==Te?Un:ce;var de=Z==Un,pe=ce==Un,xe=Z==ce;if(xe&&ys(l)){if(!ys(d))return!1;P=!0,de=!1}if(xe&&!de)return D||(D=new rr),P||Ho(l)?gv(l,d,g,_,y,D):TT(l,d,Z,g,_,y,D);if(!(g&v)){var Ae=de&&Mt.call(l,"__wrapped__"),je=pe&&Mt.call(d,"__wrapped__");if(Ae||je){var ct=Ae?l.value():l,Ke=je?d.value():d;return D||(D=new rr),y(ct,Ke,g,_,D)}}return xe?(D||(D=new rr),IT(l,d,g,_,y,D)):!1}function nT(l){return cn(l)&&Fn(l)==Yt}function ah(l,d,g,_){var y=g.length,D=y,P=!_;if(l==null)return!D;for(l=$t(l);y--;){var V=g[y];if(P&&V[2]?V[1]!==l[V[0]]:!(V[0]in l))return!1}for(;++y<D;){V=g[y];var Z=V[0],ce=l[Z],de=V[1];if(P&&V[2]){if(ce===t&&!(Z in l))return!1}else{var pe=new rr;if(_)var xe=_(ce,de,Z,l,d,pe);if(!(xe===t?Fa(de,ce,v|b,_,pe):xe))return!1}}return!0}function P_(l){if(!sn(l)||BT(l))return!1;var d=qr(l)?nD:ue;return d.test(Xs(l))}function iT(l){return cn(l)&&Jn(l)==Gi}function rT(l){return cn(l)&&Fn(l)==Vt}function sT(l){return cn(l)&&Vu(l.length)&&!!Gt[Jn(l)]}function F_(l){return typeof l=="function"?l:l==null?mi:typeof l=="object"?it(l)?V_(l[0],l[1]):W_(l):s0(l)}function lh(l){if(!Va(l))return lD(l);var d=[];for(var g in $t(l))Mt.call(l,g)&&g!="constructor"&&d.push(g);return d}function oT(l){if(!sn(l))return $T(l);var d=Va(l),g=[];for(var _ in l)_=="constructor"&&(d||!Mt.call(l,_))||g.push(_);return g}function uh(l,d){return l<d}function B_(l,d){var g=-1,_=gi(l)?ee(l.length):[];return _s(l,function(y,D,P){_[++g]=d(y,D,P)}),_}function W_(l){var d=xh(l);return d.length==1&&d[0][2]?bv(d[0][0],d[0][1]):function(g){return g===l||ah(g,l,d)}}function V_(l,d){return Lh(l)&&vv(d)?bv(Lr(l),d):function(g){var _=Ph(g,l);return _===t&&_===d?Fh(g,l):Fa(d,_,v|b)}}function xu(l,d,g,_,y){l!==d&&ih(d,function(D,P){if(y||(y=new rr),sn(D))aT(l,d,P,g,xu,_,y);else{var V=_?_(Th(l,P),D,P+"",l,d,y):t;V===t&&(V=D),th(l,P,V)}},pi)}function aT(l,d,g,_,y,D,P){var V=Th(l,g),Z=Th(d,g),ce=P.get(Z);if(ce){th(l,g,ce);return}var de=D?D(V,Z,g+"",l,d,P):t,pe=de===t;if(pe){var xe=it(Z),Ae=!xe&&ys(Z),je=!xe&&!Ae&&Ho(Z);de=Z,xe||Ae||je?it(V)?de=V:mn(V)?de=fi(V):Ae?(pe=!1,de=Q_(Z,!0)):je?(pe=!1,de=J_(Z,!0)):de=[]:$a(Z)||Qs(Z)?(de=V,Qs(V)?de=Yv(V):(!sn(V)||qr(V))&&(de=_v(Z))):pe=!1}pe&&(P.set(Z,de),y(de,Z,_,D,P),P.delete(Z)),th(l,g,de)}function H_(l,d){var g=l.length;if(g)return d+=d<0?g:0,Kr(d,g)?l[d]:t}function $_(l,d,g){d.length?d=nn(d,function(D){return it(D)?function(P){return Ys(P,D.length===1?D[0]:D)}:D}):d=[mi];var _=-1;d=nn(d,Ti(Ve()));var y=B_(l,function(D,P,V){var Z=nn(d,function(ce){return ce(D)});return{criteria:Z,index:++_,value:D}});return ML(y,function(D,P){return CT(D,P,g)})}function lT(l,d){return z_(l,d,function(g,_){return Fh(l,_)})}function z_(l,d,g){for(var _=-1,y=d.length,D={};++_<y;){var P=d[_],V=Ys(l,P);g(V,P)&&Ba(D,bs(P,l),V)}return D}function uT(l){return function(d){return Ys(d,l)}}function ch(l,d,g,_){var y=_?OL:ko,D=-1,P=d.length,V=l;for(l===d&&(d=fi(d)),g&&(V=nn(l,Ti(g)));++D<P;)for(var Z=0,ce=d[D],de=g?g(ce):ce;(Z=y(V,de,Z,_))>-1;)V!==l&&gu.call(V,Z,1),gu.call(l,Z,1);return l}function U_(l,d){for(var g=l?d.length:0,_=g-1;g--;){var y=d[g];if(g==_||y!==D){var D=y;Kr(y)?gu.call(l,y,1):gh(l,y)}}return l}function dh(l,d){return l+_u(x_()*(d-l+1))}function cT(l,d,g,_){for(var y=-1,D=Sn(mu((d-l)/(g||1)),0),P=ee(D);D--;)P[_?D:++y]=l,l+=g;return P}function hh(l,d){var g="";if(!l||d<1||d>K)return g;do d%2&&(g+=l),d=_u(d/2),d&&(l+=l);while(d);return g}function ht(l,d){return Ih(Cv(l,d,mi),l+"")}function dT(l){return D_($o(l))}function hT(l,d){var g=$o(l);return Mu(g,Gs(d,0,g.length))}function Ba(l,d,g,_){if(!sn(l))return l;d=bs(d,l);for(var y=-1,D=d.length,P=D-1,V=l;V!=null&&++y<D;){var Z=Lr(d[y]),ce=g;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return l;if(y!=P){var de=V[Z];ce=_?_(de,Z,V):t,ce===t&&(ce=sn(de)?de:Kr(d[y+1])?[]:{})}Ma(V,Z,ce),V=V[Z]}return l}var j_=vu?function(l,d){return vu.set(l,d),l}:mi,fT=pu?function(l,d){return pu(l,"toString",{configurable:!0,enumerable:!1,value:Wh(d),writable:!0})}:mi;function gT(l){return Mu($o(l))}function zi(l,d,g){var _=-1,y=l.length;d<0&&(d=-d>y?0:y+d),g=g>y?y:g,g<0&&(g+=y),y=d>g?0:g-d>>>0,d>>>=0;for(var D=ee(y);++_<y;)D[_]=l[_+d];return D}function pT(l,d){var g;return _s(l,function(_,y,D){return g=d(_,y,D),!g}),!!g}function Eu(l,d,g){var _=0,y=l==null?_:l.length;if(typeof d=="number"&&d===d&&y<=ne){for(;_<y;){var D=_+y>>>1,P=l[D];P!==null&&!ki(P)&&(g?P<=d:P<d)?_=D+1:y=D}return y}return fh(l,d,mi,g)}function fh(l,d,g,_){var y=0,D=l==null?0:l.length;if(D===0)return 0;d=g(d);for(var P=d!==d,V=d===null,Z=ki(d),ce=d===t;y<D;){var de=_u((y+D)/2),pe=g(l[de]),xe=pe!==t,Ae=pe===null,je=pe===pe,ct=ki(pe);if(P)var Ke=_||je;else ce?Ke=je&&(_||xe):V?Ke=je&&xe&&(_||!Ae):Z?Ke=je&&xe&&!Ae&&(_||!ct):Ae||ct?Ke=!1:Ke=_?pe<=d:pe<d;Ke?y=de+1:D=de}return Pn(D,fe)}function K_(l,d){for(var g=-1,_=l.length,y=0,D=[];++g<_;){var P=l[g],V=d?d(P):P;if(!g||!sr(V,Z)){var Z=V;D[y++]=P===0?0:P}}return D}function q_(l){return typeof l=="number"?l:ki(l)?k:+l}function Ii(l){if(typeof l=="string")return l;if(it(l))return nn(l,Ii)+"";if(ki(l))return E_?E_.call(l):"";var d=l+"";return d=="0"&&1/l==-U?"-0":d}function vs(l,d,g){var _=-1,y=ru,D=l.length,P=!0,V=[],Z=V;if(g)P=!1,y=$d;else if(D>=r){var ce=d?null:LT(l);if(ce)return ou(ce);P=!1,y=Ta,Z=new qs}else Z=d?[]:V;e:for(;++_<D;){var de=l[_],pe=d?d(de):de;if(de=g||de!==0?de:0,P&&pe===pe){for(var xe=Z.length;xe--;)if(Z[xe]===pe)continue e;d&&Z.push(pe),V.push(de)}else y(Z,pe,g)||(Z!==V&&Z.push(pe),V.push(de))}return V}function gh(l,d){return d=bs(d,l),l=yv(l,d),l==null||delete l[Lr(Ui(d))]}function G_(l,d,g,_){return Ba(l,d,g(Ys(l,d)),_)}function Lu(l,d,g,_){for(var y=l.length,D=_?y:-1;(_?D--:++D<y)&&d(l[D],D,l););return g?zi(l,_?0:D,_?D+1:y):zi(l,_?D+1:0,_?y:D)}function Y_(l,d){var g=l;return g instanceof vt&&(g=g.value()),zd(d,function(_,y){return y.func.apply(y.thisArg,gs([_],y.args))},g)}function ph(l,d,g){var _=l.length;if(_<2)return _?vs(l[0]):[];for(var y=-1,D=ee(_);++y<_;)for(var P=l[y],V=-1;++V<_;)V!=y&&(D[y]=Ra(D[y]||P,l[V],d,g));return vs(kn(D,1),d,g)}function Z_(l,d,g){for(var _=-1,y=l.length,D=d.length,P={};++_<y;){var V=_<D?d[_]:t;g(P,l[_],V)}return P}function mh(l){return mn(l)?l:[]}function _h(l){return typeof l=="function"?l:mi}function bs(l,d){return it(l)?l:Lh(l,d)?[l]:Ev(Tt(l))}var mT=ht;function Cs(l,d,g){var _=l.length;return g=g===t?_:g,!d&&g>=_?l:zi(l,d,g)}var X_=iD||function(l){return In.clearTimeout(l)};function Q_(l,d){if(d)return l.slice();var g=l.length,_=b_?b_(g):new l.constructor(g);return l.copy(_),_}function vh(l){var d=new l.constructor(l.byteLength);return new hu(d).set(new hu(l)),d}function _T(l,d){var g=d?vh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function vT(l){var d=new l.constructor(l.source,te.exec(l));return d.lastIndex=l.lastIndex,d}function bT(l){return Oa?$t(Oa.call(l)):{}}function J_(l,d){var g=d?vh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function ev(l,d){if(l!==d){var g=l!==t,_=l===null,y=l===l,D=ki(l),P=d!==t,V=d===null,Z=d===d,ce=ki(d);if(!V&&!ce&&!D&&l>d||D&&P&&Z&&!V&&!ce||_&&P&&Z||!g&&Z||!y)return 1;if(!_&&!D&&!ce&&l<d||ce&&g&&y&&!_&&!D||V&&g&&y||!P&&y||!Z)return-1}return 0}function CT(l,d,g){for(var _=-1,y=l.criteria,D=d.criteria,P=y.length,V=g.length;++_<P;){var Z=ev(y[_],D[_]);if(Z){if(_>=V)return Z;var ce=g[_];return Z*(ce=="desc"?-1:1)}}return l.index-d.index}function tv(l,d,g,_){for(var y=-1,D=l.length,P=g.length,V=-1,Z=d.length,ce=Sn(D-P,0),de=ee(Z+ce),pe=!_;++V<Z;)de[V]=d[V];for(;++y<P;)(pe||y<D)&&(de[g[y]]=l[y]);for(;ce--;)de[V++]=l[y++];return de}function nv(l,d,g,_){for(var y=-1,D=l.length,P=-1,V=g.length,Z=-1,ce=d.length,de=Sn(D-V,0),pe=ee(de+ce),xe=!_;++y<de;)pe[y]=l[y];for(var Ae=y;++Z<ce;)pe[Ae+Z]=d[Z];for(;++P<V;)(xe||y<D)&&(pe[Ae+g[P]]=l[y++]);return pe}function fi(l,d){var g=-1,_=l.length;for(d||(d=ee(_));++g<_;)d[g]=l[g];return d}function Er(l,d,g,_){var y=!g;g||(g={});for(var D=-1,P=d.length;++D<P;){var V=d[D],Z=_?_(g[V],l[V],V,g,l):t;Z===t&&(Z=l[V]),y?zr(g,V,Z):Ma(g,V,Z)}return g}function yT(l,d){return Er(l,Eh(l),d)}function wT(l,d){return Er(l,pv(l),d)}function Du(l,d){return function(g,_){var y=it(g)?DL:UD,D=d?d():{};return y(g,l,Ve(_,2),D)}}function Bo(l){return ht(function(d,g){var _=-1,y=g.length,D=y>1?g[y-1]:t,P=y>2?g[2]:t;for(D=l.length>3&&typeof D=="function"?(y--,D):t,P&&ei(g[0],g[1],P)&&(D=y<3?t:D,y=1),d=$t(d);++_<y;){var V=g[_];V&&l(d,V,_,D)}return d})}function iv(l,d){return function(g,_){if(g==null)return g;if(!gi(g))return l(g,_);for(var y=g.length,D=d?y:-1,P=$t(g);(d?D--:++D<y)&&_(P[D],D,P)!==!1;);return g}}function rv(l){return function(d,g,_){for(var y=-1,D=$t(d),P=_(d),V=P.length;V--;){var Z=P[l?V:++y];if(g(D[Z],Z,D)===!1)break}return d}}function ST(l,d,g){var _=d&S,y=Wa(l);function D(){var P=this&&this!==In&&this instanceof D?y:l;return P.apply(_?g:this,arguments)}return D}function sv(l){return function(d){d=Tt(d);var g=No(d)?ir(d):t,_=g?g[0]:d.charAt(0),y=g?Cs(g,1).join(""):d.slice(1);return _[l]()+y}}function Wo(l){return function(d){return zd(i0(n0(d).replace(fL,"")),l,"")}}function Wa(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Fo(l.prototype),_=l.apply(g,d);return sn(_)?_:g}}function xT(l,d,g){var _=Wa(l);function y(){for(var D=arguments.length,P=ee(D),V=D,Z=Vo(y);V--;)P[V]=arguments[V];var ce=D<3&&P[0]!==Z&&P[D-1]!==Z?[]:ps(P,Z);if(D-=ce.length,D<g)return cv(l,d,Tu,y.placeholder,t,P,ce,t,t,g-D);var de=this&&this!==In&&this instanceof y?_:l;return Di(de,this,P)}return y}function ov(l){return function(d,g,_){var y=$t(d);if(!gi(d)){var D=Ve(g,3);d=Dn(d),g=function(V){return D(y[V],V,y)}}var P=l(d,g,_);return P>-1?y[D?d[P]:P]:t}}function av(l){return jr(function(d){var g=d.length,_=g,y=Hi.prototype.thru;for(l&&d.reverse();_--;){var D=d[_];if(typeof D!="function")throw new Vi(o);if(y&&!P&&Au(D)=="wrapper")var P=new Hi([],!0)}for(_=P?_:g;++_<g;){D=d[_];var V=Au(D),Z=V=="wrapper"?Sh(D):t;Z&&Dh(Z[0])&&Z[1]==(R|E|A|M)&&!Z[4].length&&Z[9]==1?P=P[Au(Z[0])].apply(P,Z[3]):P=D.length==1&&Dh(D)?P[V]():P.thru(D)}return function(){var ce=arguments,de=ce[0];if(P&&ce.length==1&&it(de))return P.plant(de).value();for(var pe=0,xe=g?d[pe].apply(this,ce):de;++pe<g;)xe=d[pe].call(this,xe);return xe}})}function Tu(l,d,g,_,y,D,P,V,Z,ce){var de=d&R,pe=d&S,xe=d&x,Ae=d&(E|N),je=d&G,ct=xe?t:Wa(l);function Ke(){for(var gt=arguments.length,Ct=ee(gt),Ni=gt;Ni--;)Ct[Ni]=arguments[Ni];if(Ae)var ti=Vo(Ke),Ai=PL(Ct,ti);if(_&&(Ct=tv(Ct,_,y,Ae)),D&&(Ct=nv(Ct,D,P,Ae)),gt-=Ai,Ae&&gt<ce){var _n=ps(Ct,ti);return cv(l,d,Tu,Ke.placeholder,g,Ct,_n,V,Z,ce-gt)}var or=pe?g:this,Yr=xe?or[l]:l;return gt=Ct.length,V?Ct=UT(Ct,V):je&&gt>1&&Ct.reverse(),de&&Z<gt&&(Ct.length=Z),this&&this!==In&&this instanceof Ke&&(Yr=ct||Wa(Yr)),Yr.apply(or,Ct)}return Ke}function lv(l,d){return function(g,_){return QD(g,l,d(_),{})}}function Iu(l,d){return function(g,_){var y;if(g===t&&_===t)return d;if(g!==t&&(y=g),_!==t){if(y===t)return _;typeof g=="string"||typeof _=="string"?(g=Ii(g),_=Ii(_)):(g=q_(g),_=q_(_)),y=l(g,_)}return y}}function bh(l){return jr(function(d){return d=nn(d,Ti(Ve())),ht(function(g){var _=this;return l(d,function(y){return Di(y,_,g)})})})}function ku(l,d){d=d===t?" ":Ii(d);var g=d.length;if(g<2)return g?hh(d,l):d;var _=hh(d,mu(l/Ao(d)));return No(d)?Cs(ir(_),0,l).join(""):_.slice(0,l)}function ET(l,d,g,_){var y=d&S,D=Wa(l);function P(){for(var V=-1,Z=arguments.length,ce=-1,de=_.length,pe=ee(de+Z),xe=this&&this!==In&&this instanceof P?D:l;++ce<de;)pe[ce]=_[ce];for(;Z--;)pe[ce++]=arguments[++V];return Di(xe,y?g:this,pe)}return P}function uv(l){return function(d,g,_){return _&&typeof _!="number"&&ei(d,g,_)&&(g=_=t),d=Gr(d),g===t?(g=d,d=0):g=Gr(g),_=_===t?d<g?1:-1:Gr(_),cT(d,g,_,l)}}function Nu(l){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=ji(d),g=ji(g)),l(d,g)}}function cv(l,d,g,_,y,D,P,V,Z,ce){var de=d&E,pe=de?P:t,xe=de?t:P,Ae=de?D:t,je=de?t:D;d|=de?A:H,d&=~(de?H:A),d&w||(d&=~(S|x));var ct=[l,d,y,Ae,pe,je,xe,V,Z,ce],Ke=g.apply(t,ct);return Dh(l)&&wv(Ke,ct),Ke.placeholder=_,Sv(Ke,l,d)}function Ch(l){var d=wn[l];return function(g,_){if(g=ji(g),_=_==null?0:Pn(at(_),292),_&&S_(g)){var y=(Tt(g)+"e").split("e"),D=d(y[0]+"e"+(+y[1]+_));return y=(Tt(D)+"e").split("e"),+(y[0]+"e"+(+y[1]-_))}return d(g)}}var LT=Ro&&1/ou(new Ro([,-0]))[1]==U?function(l){return new Ro(l)}:$h;function dv(l){return function(d){var g=Fn(d);return g==Yt?Zd(d):g==Vt?zL(d):RL(d,l(d))}}function Ur(l,d,g,_,y,D,P,V){var Z=d&x;if(!Z&&typeof l!="function")throw new Vi(o);var ce=_?_.length:0;if(ce||(d&=~(A|H),_=y=t),P=P===t?P:Sn(at(P),0),V=V===t?V:at(V),ce-=y?y.length:0,d&H){var de=_,pe=y;_=y=t}var xe=Z?t:Sh(l),Ae=[l,d,g,_,y,de,pe,D,P,V];if(xe&&HT(Ae,xe),l=Ae[0],d=Ae[1],g=Ae[2],_=Ae[3],y=Ae[4],V=Ae[9]=Ae[9]===t?Z?0:l.length:Sn(Ae[9]-ce,0),!V&&d&(E|N)&&(d&=~(E|N)),!d||d==S)var je=ST(l,d,g);else d==E||d==N?je=xT(l,d,V):(d==A||d==(S|A))&&!y.length?je=ET(l,d,g,_):je=Tu.apply(t,Ae);var ct=xe?j_:wv;return Sv(ct(je,Ae),l,d)}function hv(l,d,g,_){return l===t||sr(l,Mo[g])&&!Mt.call(_,g)?d:l}function fv(l,d,g,_,y,D){return sn(l)&&sn(d)&&(D.set(d,l),xu(l,d,t,fv,D),D.delete(d)),l}function DT(l){return $a(l)?t:l}function gv(l,d,g,_,y,D){var P=g&v,V=l.length,Z=d.length;if(V!=Z&&!(P&&Z>V))return!1;var ce=D.get(l),de=D.get(d);if(ce&&de)return ce==d&&de==l;var pe=-1,xe=!0,Ae=g&b?new qs:t;for(D.set(l,d),D.set(d,l);++pe<V;){var je=l[pe],ct=d[pe];if(_)var Ke=P?_(ct,je,pe,d,l,D):_(je,ct,pe,l,d,D);if(Ke!==t){if(Ke)continue;xe=!1;break}if(Ae){if(!Ud(d,function(gt,Ct){if(!Ta(Ae,Ct)&&(je===gt||y(je,gt,g,_,D)))return Ae.push(Ct)})){xe=!1;break}}else if(!(je===ct||y(je,ct,g,_,D))){xe=!1;break}}return D.delete(l),D.delete(d),xe}function TT(l,d,g,_,y,D,P){switch(g){case yt:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case ut:return!(l.byteLength!=d.byteLength||!D(new hu(l),new hu(d)));case Rt:case Re:case pn:return sr(+l,+d);case wt:return l.name==d.name&&l.message==d.message;case Gi:case un:return l==d+"";case Yt:var V=Zd;case Vt:var Z=_&v;if(V||(V=ou),l.size!=d.size&&!Z)return!1;var ce=P.get(l);if(ce)return ce==d;_|=b,P.set(l,d);var de=gv(V(l),V(d),_,y,D,P);return P.delete(l),de;case Qn:if(Oa)return Oa.call(l)==Oa.call(d)}return!1}function IT(l,d,g,_,y,D){var P=g&v,V=yh(l),Z=V.length,ce=yh(d),de=ce.length;if(Z!=de&&!P)return!1;for(var pe=Z;pe--;){var xe=V[pe];if(!(P?xe in d:Mt.call(d,xe)))return!1}var Ae=D.get(l),je=D.get(d);if(Ae&&je)return Ae==d&&je==l;var ct=!0;D.set(l,d),D.set(d,l);for(var Ke=P;++pe<Z;){xe=V[pe];var gt=l[xe],Ct=d[xe];if(_)var Ni=P?_(Ct,gt,xe,d,l,D):_(gt,Ct,xe,l,d,D);if(!(Ni===t?gt===Ct||y(gt,Ct,g,_,D):Ni)){ct=!1;break}Ke||(Ke=xe=="constructor")}if(ct&&!Ke){var ti=l.constructor,Ai=d.constructor;ti!=Ai&&"constructor"in l&&"constructor"in d&&!(typeof ti=="function"&&ti instanceof ti&&typeof Ai=="function"&&Ai instanceof Ai)&&(ct=!1)}return D.delete(l),D.delete(d),ct}function jr(l){return Ih(Cv(l,t,Iv),l+"")}function yh(l){return M_(l,Dn,Eh)}function wh(l){return M_(l,pi,pv)}var Sh=vu?function(l){return vu.get(l)}:$h;function Au(l){for(var d=l.name+"",g=Po[d],_=Mt.call(Po,d)?g.length:0;_--;){var y=g[_],D=y.func;if(D==null||D==l)return y.name}return d}function Vo(l){var d=Mt.call(L,"placeholder")?L:l;return d.placeholder}function Ve(){var l=L.iteratee||Vh;return l=l===Vh?F_:l,arguments.length?l(arguments[0],arguments[1]):l}function Ou(l,d){var g=l.__data__;return FT(d)?g[typeof d=="string"?"string":"hash"]:g.map}function xh(l){for(var d=Dn(l),g=d.length;g--;){var _=d[g],y=l[_];d[g]=[_,y,vv(y)]}return d}function Zs(l,d){var g=VL(l,d);return P_(g)?g:t}function kT(l){var d=Mt.call(l,js),g=l[js];try{l[js]=t;var _=!0}catch{}var y=cu.call(l);return _&&(d?l[js]=g:delete l[js]),y}var Eh=Qd?function(l){return l==null?[]:(l=$t(l),fs(Qd(l),function(d){return y_.call(l,d)}))}:zh,pv=Qd?function(l){for(var d=[];l;)gs(d,Eh(l)),l=fu(l);return d}:zh,Fn=Jn;(Jd&&Fn(new Jd(new ArrayBuffer(1)))!=yt||ka&&Fn(new ka)!=Yt||eh&&Fn(eh.resolve())!=ci||Ro&&Fn(new Ro)!=Vt||Na&&Fn(new Na)!=Pe)&&(Fn=function(l){var d=Jn(l),g=d==Un?l.constructor:t,_=g?Xs(g):"";if(_)switch(_){case hD:return yt;case fD:return Yt;case gD:return ci;case pD:return Vt;case mD:return Pe}return d});function NT(l,d,g){for(var _=-1,y=g.length;++_<y;){var D=g[_],P=D.size;switch(D.type){case"drop":l+=P;break;case"dropRight":d-=P;break;case"take":d=Pn(d,l+P);break;case"takeRight":l=Sn(l,d-P);break}}return{start:l,end:d}}function AT(l){var d=l.match(Ue);return d?d[1].split(Fe):[]}function mv(l,d,g){d=bs(d,l);for(var _=-1,y=d.length,D=!1;++_<y;){var P=Lr(d[_]);if(!(D=l!=null&&g(l,P)))break;l=l[P]}return D||++_!=y?D:(y=l==null?0:l.length,!!y&&Vu(y)&&Kr(P,y)&&(it(l)||Qs(l)))}function OT(l){var d=l.length,g=new l.constructor(d);return d&&typeof l[0]=="string"&&Mt.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function _v(l){return typeof l.constructor=="function"&&!Va(l)?Fo(fu(l)):{}}function MT(l,d,g){var _=l.constructor;switch(d){case ut:return vh(l);case Rt:case Re:return new _(+l);case yt:return _T(l,g);case Li:case zt:case At:case Zt:case Xt:case Ht:case yr:case si:case $e:return J_(l,g);case Yt:return new _;case pn:case un:return new _(l);case Gi:return vT(l);case Vt:return new _;case Qn:return bT(l)}}function RT(l,d){var g=d.length;if(!g)return l;var _=g-1;return d[_]=(g>1?"& ":"")+d[_],d=d.join(g>2?", ":" "),l.replace(be,`{
/* [wrapped with `+d+`] */
`)}function PT(l){return it(l)||Qs(l)||!!(w_&&l&&l[w_])}function Kr(l,d){var g=typeof l;return d=d??K,!!d&&(g=="number"||g!="symbol"&&Be.test(l))&&l>-1&&l%1==0&&l<d}function ei(l,d,g){if(!sn(g))return!1;var _=typeof d;return(_=="number"?gi(g)&&Kr(d,g.length):_=="string"&&d in g)?sr(g[d],l):!1}function Lh(l,d){if(it(l))return!1;var g=typeof l;return g=="number"||g=="symbol"||g=="boolean"||l==null||ki(l)?!0:Le.test(l)||!Ne.test(l)||d!=null&&l in $t(d)}function FT(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Dh(l){var d=Au(l),g=L[d];if(typeof g!="function"||!(d in vt.prototype))return!1;if(l===g)return!0;var _=Sh(g);return!!_&&l===_[0]}function BT(l){return!!v_&&v_ in l}var WT=lu?qr:Uh;function Va(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||Mo;return l===g}function vv(l){return l===l&&!sn(l)}function bv(l,d){return function(g){return g==null?!1:g[l]===d&&(d!==t||l in $t(g))}}function VT(l){var d=Bu(l,function(_){return g.size===c&&g.clear(),_}),g=d.cache;return d}function HT(l,d){var g=l[1],_=d[1],y=g|_,D=y<(S|x|R),P=_==R&&g==E||_==R&&g==M&&l[7].length<=d[8]||_==(R|M)&&d[7].length<=d[8]&&g==E;if(!(D||P))return l;_&S&&(l[2]=d[2],y|=g&S?0:w);var V=d[3];if(V){var Z=l[3];l[3]=Z?tv(Z,V,d[4]):V,l[4]=Z?ps(l[3],h):d[4]}return V=d[5],V&&(Z=l[5],l[5]=Z?nv(Z,V,d[6]):V,l[6]=Z?ps(l[5],h):d[6]),V=d[7],V&&(l[7]=V),_&R&&(l[8]=l[8]==null?d[8]:Pn(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=y,l}function $T(l){var d=[];if(l!=null)for(var g in $t(l))d.push(g);return d}function zT(l){return cu.call(l)}function Cv(l,d,g){return d=Sn(d===t?l.length-1:d,0),function(){for(var _=arguments,y=-1,D=Sn(_.length-d,0),P=ee(D);++y<D;)P[y]=_[d+y];y=-1;for(var V=ee(d+1);++y<d;)V[y]=_[y];return V[d]=g(P),Di(l,this,V)}}function yv(l,d){return d.length<2?l:Ys(l,zi(d,0,-1))}function UT(l,d){for(var g=l.length,_=Pn(d.length,g),y=fi(l);_--;){var D=d[_];l[_]=Kr(D,g)?y[D]:t}return l}function Th(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var wv=xv(j_),Ha=sD||function(l,d){return In.setTimeout(l,d)},Ih=xv(fT);function Sv(l,d,g){var _=d+"";return Ih(l,RT(_,jT(AT(_),g)))}function xv(l){var d=0,g=0;return function(){var _=uD(),y=O-(_-g);if(g=_,y>0){if(++d>=I)return arguments[0]}else d=0;return l.apply(t,arguments)}}function Mu(l,d){var g=-1,_=l.length,y=_-1;for(d=d===t?_:d;++g<d;){var D=dh(g,y),P=l[D];l[D]=l[g],l[g]=P}return l.length=d,l}var Ev=VT(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(Oe,function(g,_,y,D){d.push(y?D.replace(T,"$1"):_||g)}),d});function Lr(l){if(typeof l=="string"||ki(l))return l;var d=l+"";return d=="0"&&1/l==-U?"-0":d}function Xs(l){if(l!=null){try{return uu.call(l)}catch{}try{return l+""}catch{}}return""}function jT(l,d){return Wi(Ce,function(g){var _="_."+g[0];d&g[1]&&!ru(l,_)&&l.push(_)}),l.sort()}function Lv(l){if(l instanceof vt)return l.clone();var d=new Hi(l.__wrapped__,l.__chain__);return d.__actions__=fi(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function KT(l,d,g){(g?ei(l,d,g):d===t)?d=1:d=Sn(at(d),0);var _=l==null?0:l.length;if(!_||d<1)return[];for(var y=0,D=0,P=ee(mu(_/d));y<_;)P[D++]=zi(l,y,y+=d);return P}function qT(l){for(var d=-1,g=l==null?0:l.length,_=0,y=[];++d<g;){var D=l[d];D&&(y[_++]=D)}return y}function GT(){var l=arguments.length;if(!l)return[];for(var d=ee(l-1),g=arguments[0],_=l;_--;)d[_-1]=arguments[_];return gs(it(g)?fi(g):[g],kn(d,1))}var YT=ht(function(l,d){return mn(l)?Ra(l,kn(d,1,mn,!0)):[]}),ZT=ht(function(l,d){var g=Ui(d);return mn(g)&&(g=t),mn(l)?Ra(l,kn(d,1,mn,!0),Ve(g,2)):[]}),XT=ht(function(l,d){var g=Ui(d);return mn(g)&&(g=t),mn(l)?Ra(l,kn(d,1,mn,!0),t,g):[]});function QT(l,d,g){var _=l==null?0:l.length;return _?(d=g||d===t?1:at(d),zi(l,d<0?0:d,_)):[]}function JT(l,d,g){var _=l==null?0:l.length;return _?(d=g||d===t?1:at(d),d=_-d,zi(l,0,d<0?0:d)):[]}function e2(l,d){return l&&l.length?Lu(l,Ve(d,3),!0,!0):[]}function t2(l,d){return l&&l.length?Lu(l,Ve(d,3),!0):[]}function n2(l,d,g,_){var y=l==null?0:l.length;return y?(g&&typeof g!="number"&&ei(l,d,g)&&(g=0,_=y),GD(l,d,g,_)):[]}function Dv(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=g==null?0:at(g);return y<0&&(y=Sn(_+y,0)),su(l,Ve(d,3),y)}function Tv(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=_-1;return g!==t&&(y=at(g),y=g<0?Sn(_+y,0):Pn(y,_-1)),su(l,Ve(d,3),y,!0)}function Iv(l){var d=l==null?0:l.length;return d?kn(l,1):[]}function i2(l){var d=l==null?0:l.length;return d?kn(l,U):[]}function r2(l,d){var g=l==null?0:l.length;return g?(d=d===t?1:at(d),kn(l,d)):[]}function s2(l){for(var d=-1,g=l==null?0:l.length,_={};++d<g;){var y=l[d];_[y[0]]=y[1]}return _}function kv(l){return l&&l.length?l[0]:t}function o2(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=g==null?0:at(g);return y<0&&(y=Sn(_+y,0)),ko(l,d,y)}function a2(l){var d=l==null?0:l.length;return d?zi(l,0,-1):[]}var l2=ht(function(l){var d=nn(l,mh);return d.length&&d[0]===l[0]?oh(d):[]}),u2=ht(function(l){var d=Ui(l),g=nn(l,mh);return d===Ui(g)?d=t:g.pop(),g.length&&g[0]===l[0]?oh(g,Ve(d,2)):[]}),c2=ht(function(l){var d=Ui(l),g=nn(l,mh);return d=typeof d=="function"?d:t,d&&g.pop(),g.length&&g[0]===l[0]?oh(g,t,d):[]});function d2(l,d){return l==null?"":aD.call(l,d)}function Ui(l){var d=l==null?0:l.length;return d?l[d-1]:t}function h2(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=_;return g!==t&&(y=at(g),y=y<0?Sn(_+y,0):Pn(y,_-1)),d===d?jL(l,d,y):su(l,c_,y,!0)}function f2(l,d){return l&&l.length?H_(l,at(d)):t}var g2=ht(Nv);function Nv(l,d){return l&&l.length&&d&&d.length?ch(l,d):l}function p2(l,d,g){return l&&l.length&&d&&d.length?ch(l,d,Ve(g,2)):l}function m2(l,d,g){return l&&l.length&&d&&d.length?ch(l,d,t,g):l}var _2=jr(function(l,d){var g=l==null?0:l.length,_=nh(l,d);return U_(l,nn(d,function(y){return Kr(y,g)?+y:y}).sort(ev)),_});function v2(l,d){var g=[];if(!(l&&l.length))return g;var _=-1,y=[],D=l.length;for(d=Ve(d,3);++_<D;){var P=l[_];d(P,_,l)&&(g.push(P),y.push(_))}return U_(l,y),g}function kh(l){return l==null?l:dD.call(l)}function b2(l,d,g){var _=l==null?0:l.length;return _?(g&&typeof g!="number"&&ei(l,d,g)?(d=0,g=_):(d=d==null?0:at(d),g=g===t?_:at(g)),zi(l,d,g)):[]}function C2(l,d){return Eu(l,d)}function y2(l,d,g){return fh(l,d,Ve(g,2))}function w2(l,d){var g=l==null?0:l.length;if(g){var _=Eu(l,d);if(_<g&&sr(l[_],d))return _}return-1}function S2(l,d){return Eu(l,d,!0)}function x2(l,d,g){return fh(l,d,Ve(g,2),!0)}function E2(l,d){var g=l==null?0:l.length;if(g){var _=Eu(l,d,!0)-1;if(sr(l[_],d))return _}return-1}function L2(l){return l&&l.length?K_(l):[]}function D2(l,d){return l&&l.length?K_(l,Ve(d,2)):[]}function T2(l){var d=l==null?0:l.length;return d?zi(l,1,d):[]}function I2(l,d,g){return l&&l.length?(d=g||d===t?1:at(d),zi(l,0,d<0?0:d)):[]}function k2(l,d,g){var _=l==null?0:l.length;return _?(d=g||d===t?1:at(d),d=_-d,zi(l,d<0?0:d,_)):[]}function N2(l,d){return l&&l.length?Lu(l,Ve(d,3),!1,!0):[]}function A2(l,d){return l&&l.length?Lu(l,Ve(d,3)):[]}var O2=ht(function(l){return vs(kn(l,1,mn,!0))}),M2=ht(function(l){var d=Ui(l);return mn(d)&&(d=t),vs(kn(l,1,mn,!0),Ve(d,2))}),R2=ht(function(l){var d=Ui(l);return d=typeof d=="function"?d:t,vs(kn(l,1,mn,!0),t,d)});function P2(l){return l&&l.length?vs(l):[]}function F2(l,d){return l&&l.length?vs(l,Ve(d,2)):[]}function B2(l,d){return d=typeof d=="function"?d:t,l&&l.length?vs(l,t,d):[]}function Nh(l){if(!(l&&l.length))return[];var d=0;return l=fs(l,function(g){if(mn(g))return d=Sn(g.length,d),!0}),Gd(d,function(g){return nn(l,jd(g))})}function Av(l,d){if(!(l&&l.length))return[];var g=Nh(l);return d==null?g:nn(g,function(_){return Di(d,t,_)})}var W2=ht(function(l,d){return mn(l)?Ra(l,d):[]}),V2=ht(function(l){return ph(fs(l,mn))}),H2=ht(function(l){var d=Ui(l);return mn(d)&&(d=t),ph(fs(l,mn),Ve(d,2))}),$2=ht(function(l){var d=Ui(l);return d=typeof d=="function"?d:t,ph(fs(l,mn),t,d)}),z2=ht(Nh);function U2(l,d){return Z_(l||[],d||[],Ma)}function j2(l,d){return Z_(l||[],d||[],Ba)}var K2=ht(function(l){var d=l.length,g=d>1?l[d-1]:t;return g=typeof g=="function"?(l.pop(),g):t,Av(l,g)});function Ov(l){var d=L(l);return d.__chain__=!0,d}function q2(l,d){return d(l),l}function Ru(l,d){return d(l)}var G2=jr(function(l){var d=l.length,g=d?l[0]:0,_=this.__wrapped__,y=function(D){return nh(D,l)};return d>1||this.__actions__.length||!(_ instanceof vt)||!Kr(g)?this.thru(y):(_=_.slice(g,+g+(d?1:0)),_.__actions__.push({func:Ru,args:[y],thisArg:t}),new Hi(_,this.__chain__).thru(function(D){return d&&!D.length&&D.push(t),D}))});function Y2(){return Ov(this)}function Z2(){return new Hi(this.value(),this.__chain__)}function X2(){this.__values__===t&&(this.__values__=qv(this.value()));var l=this.__index__>=this.__values__.length,d=l?t:this.__values__[this.__index__++];return{done:l,value:d}}function Q2(){return this}function J2(l){for(var d,g=this;g instanceof Cu;){var _=Lv(g);_.__index__=0,_.__values__=t,d?y.__wrapped__=_:d=_;var y=_;g=g.__wrapped__}return y.__wrapped__=l,d}function eI(){var l=this.__wrapped__;if(l instanceof vt){var d=l;return this.__actions__.length&&(d=new vt(this)),d=d.reverse(),d.__actions__.push({func:Ru,args:[kh],thisArg:t}),new Hi(d,this.__chain__)}return this.thru(kh)}function tI(){return Y_(this.__wrapped__,this.__actions__)}var nI=Du(function(l,d,g){Mt.call(l,g)?++l[g]:zr(l,g,1)});function iI(l,d,g){var _=it(l)?l_:qD;return g&&ei(l,d,g)&&(d=t),_(l,Ve(d,3))}function rI(l,d){var g=it(l)?fs:A_;return g(l,Ve(d,3))}var sI=ov(Dv),oI=ov(Tv);function aI(l,d){return kn(Pu(l,d),1)}function lI(l,d){return kn(Pu(l,d),U)}function uI(l,d,g){return g=g===t?1:at(g),kn(Pu(l,d),g)}function Mv(l,d){var g=it(l)?Wi:_s;return g(l,Ve(d,3))}function Rv(l,d){var g=it(l)?TL:N_;return g(l,Ve(d,3))}var cI=Du(function(l,d,g){Mt.call(l,g)?l[g].push(d):zr(l,g,[d])});function dI(l,d,g,_){l=gi(l)?l:$o(l),g=g&&!_?at(g):0;var y=l.length;return g<0&&(g=Sn(y+g,0)),Hu(l)?g<=y&&l.indexOf(d,g)>-1:!!y&&ko(l,d,g)>-1}var hI=ht(function(l,d,g){var _=-1,y=typeof d=="function",D=gi(l)?ee(l.length):[];return _s(l,function(P){D[++_]=y?Di(d,P,g):Pa(P,d,g)}),D}),fI=Du(function(l,d,g){zr(l,g,d)});function Pu(l,d){var g=it(l)?nn:B_;return g(l,Ve(d,3))}function gI(l,d,g,_){return l==null?[]:(it(d)||(d=d==null?[]:[d]),g=_?t:g,it(g)||(g=g==null?[]:[g]),$_(l,d,g))}var pI=Du(function(l,d,g){l[g?0:1].push(d)},function(){return[[],[]]});function mI(l,d,g){var _=it(l)?zd:h_,y=arguments.length<3;return _(l,Ve(d,4),g,y,_s)}function _I(l,d,g){var _=it(l)?IL:h_,y=arguments.length<3;return _(l,Ve(d,4),g,y,N_)}function vI(l,d){var g=it(l)?fs:A_;return g(l,Wu(Ve(d,3)))}function bI(l){var d=it(l)?D_:dT;return d(l)}function CI(l,d,g){(g?ei(l,d,g):d===t)?d=1:d=at(d);var _=it(l)?$D:hT;return _(l,d)}function yI(l){var d=it(l)?zD:gT;return d(l)}function wI(l){if(l==null)return 0;if(gi(l))return Hu(l)?Ao(l):l.length;var d=Fn(l);return d==Yt||d==Vt?l.size:lh(l).length}function SI(l,d,g){var _=it(l)?Ud:pT;return g&&ei(l,d,g)&&(d=t),_(l,Ve(d,3))}var xI=ht(function(l,d){if(l==null)return[];var g=d.length;return g>1&&ei(l,d[0],d[1])?d=[]:g>2&&ei(d[0],d[1],d[2])&&(d=[d[0]]),$_(l,kn(d,1),[])}),Fu=rD||function(){return In.Date.now()};function EI(l,d){if(typeof d!="function")throw new Vi(o);return l=at(l),function(){if(--l<1)return d.apply(this,arguments)}}function Pv(l,d,g){return d=g?t:d,d=l&&d==null?l.length:d,Ur(l,R,t,t,t,t,d)}function Fv(l,d){var g;if(typeof d!="function")throw new Vi(o);return l=at(l),function(){return--l>0&&(g=d.apply(this,arguments)),l<=1&&(d=t),g}}var Ah=ht(function(l,d,g){var _=S;if(g.length){var y=ps(g,Vo(Ah));_|=A}return Ur(l,_,d,g,y)}),Bv=ht(function(l,d,g){var _=S|x;if(g.length){var y=ps(g,Vo(Bv));_|=A}return Ur(d,_,l,g,y)});function Wv(l,d,g){d=g?t:d;var _=Ur(l,E,t,t,t,t,t,d);return _.placeholder=Wv.placeholder,_}function Vv(l,d,g){d=g?t:d;var _=Ur(l,N,t,t,t,t,t,d);return _.placeholder=Vv.placeholder,_}function Hv(l,d,g){var _,y,D,P,V,Z,ce=0,de=!1,pe=!1,xe=!0;if(typeof l!="function")throw new Vi(o);d=ji(d)||0,sn(g)&&(de=!!g.leading,pe="maxWait"in g,D=pe?Sn(ji(g.maxWait)||0,d):D,xe="trailing"in g?!!g.trailing:xe);function Ae(_n){var or=_,Yr=y;return _=y=t,ce=_n,P=l.apply(Yr,or),P}function je(_n){return ce=_n,V=Ha(gt,d),de?Ae(_n):P}function ct(_n){var or=_n-Z,Yr=_n-ce,o0=d-or;return pe?Pn(o0,D-Yr):o0}function Ke(_n){var or=_n-Z,Yr=_n-ce;return Z===t||or>=d||or<0||pe&&Yr>=D}function gt(){var _n=Fu();if(Ke(_n))return Ct(_n);V=Ha(gt,ct(_n))}function Ct(_n){return V=t,xe&&_?Ae(_n):(_=y=t,P)}function Ni(){V!==t&&X_(V),ce=0,_=Z=y=V=t}function ti(){return V===t?P:Ct(Fu())}function Ai(){var _n=Fu(),or=Ke(_n);if(_=arguments,y=this,Z=_n,or){if(V===t)return je(Z);if(pe)return X_(V),V=Ha(gt,d),Ae(Z)}return V===t&&(V=Ha(gt,d)),P}return Ai.cancel=Ni,Ai.flush=ti,Ai}var LI=ht(function(l,d){return k_(l,1,d)}),DI=ht(function(l,d,g){return k_(l,ji(d)||0,g)});function TI(l){return Ur(l,G)}function Bu(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new Vi(o);var g=function(){var _=arguments,y=d?d.apply(this,_):_[0],D=g.cache;if(D.has(y))return D.get(y);var P=l.apply(this,_);return g.cache=D.set(y,P)||D,P};return g.cache=new(Bu.Cache||$r),g}Bu.Cache=$r;function Wu(l){if(typeof l!="function")throw new Vi(o);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function II(l){return Fv(2,l)}var kI=mT(function(l,d){d=d.length==1&&it(d[0])?nn(d[0],Ti(Ve())):nn(kn(d,1),Ti(Ve()));var g=d.length;return ht(function(_){for(var y=-1,D=Pn(_.length,g);++y<D;)_[y]=d[y].call(this,_[y]);return Di(l,this,_)})}),Oh=ht(function(l,d){var g=ps(d,Vo(Oh));return Ur(l,A,t,d,g)}),$v=ht(function(l,d){var g=ps(d,Vo($v));return Ur(l,H,t,d,g)}),NI=jr(function(l,d){return Ur(l,M,t,t,t,d)});function AI(l,d){if(typeof l!="function")throw new Vi(o);return d=d===t?d:at(d),ht(l,d)}function OI(l,d){if(typeof l!="function")throw new Vi(o);return d=d==null?0:Sn(at(d),0),ht(function(g){var _=g[d],y=Cs(g,0,d);return _&&gs(y,_),Di(l,this,y)})}function MI(l,d,g){var _=!0,y=!0;if(typeof l!="function")throw new Vi(o);return sn(g)&&(_="leading"in g?!!g.leading:_,y="trailing"in g?!!g.trailing:y),Hv(l,d,{leading:_,maxWait:d,trailing:y})}function RI(l){return Pv(l,1)}function PI(l,d){return Oh(_h(d),l)}function FI(){if(!arguments.length)return[];var l=arguments[0];return it(l)?l:[l]}function BI(l){return $i(l,m)}function WI(l,d){return d=typeof d=="function"?d:t,$i(l,m,d)}function VI(l){return $i(l,f|m)}function HI(l,d){return d=typeof d=="function"?d:t,$i(l,f|m,d)}function $I(l,d){return d==null||I_(l,d,Dn(d))}function sr(l,d){return l===d||l!==l&&d!==d}var zI=Nu(sh),UI=Nu(function(l,d){return l>=d}),Qs=R_(function(){return arguments}())?R_:function(l){return cn(l)&&Mt.call(l,"callee")&&!y_.call(l,"callee")},it=ee.isArray,jI=n_?Ti(n_):JD;function gi(l){return l!=null&&Vu(l.length)&&!qr(l)}function mn(l){return cn(l)&&gi(l)}function KI(l){return l===!0||l===!1||cn(l)&&Jn(l)==Rt}var ys=oD||Uh,qI=i_?Ti(i_):eT;function GI(l){return cn(l)&&l.nodeType===1&&!$a(l)}function YI(l){if(l==null)return!0;if(gi(l)&&(it(l)||typeof l=="string"||typeof l.splice=="function"||ys(l)||Ho(l)||Qs(l)))return!l.length;var d=Fn(l);if(d==Yt||d==Vt)return!l.size;if(Va(l))return!lh(l).length;for(var g in l)if(Mt.call(l,g))return!1;return!0}function ZI(l,d){return Fa(l,d)}function XI(l,d,g){g=typeof g=="function"?g:t;var _=g?g(l,d):t;return _===t?Fa(l,d,t,g):!!_}function Mh(l){if(!cn(l))return!1;var d=Jn(l);return d==wt||d==dt||typeof l.message=="string"&&typeof l.name=="string"&&!$a(l)}function QI(l){return typeof l=="number"&&S_(l)}function qr(l){if(!sn(l))return!1;var d=Jn(l);return d==Je||d==ln||d==ot||d==di}function zv(l){return typeof l=="number"&&l==at(l)}function Vu(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=K}function sn(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function cn(l){return l!=null&&typeof l=="object"}var Uv=r_?Ti(r_):nT;function JI(l,d){return l===d||ah(l,d,xh(d))}function ek(l,d,g){return g=typeof g=="function"?g:t,ah(l,d,xh(d),g)}function tk(l){return jv(l)&&l!=+l}function nk(l){if(WT(l))throw new et(s);return P_(l)}function ik(l){return l===null}function rk(l){return l==null}function jv(l){return typeof l=="number"||cn(l)&&Jn(l)==pn}function $a(l){if(!cn(l)||Jn(l)!=Un)return!1;var d=fu(l);if(d===null)return!0;var g=Mt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&uu.call(g)==eD}var Rh=s_?Ti(s_):iT;function sk(l){return zv(l)&&l>=-K&&l<=K}var Kv=o_?Ti(o_):rT;function Hu(l){return typeof l=="string"||!it(l)&&cn(l)&&Jn(l)==un}function ki(l){return typeof l=="symbol"||cn(l)&&Jn(l)==Qn}var Ho=a_?Ti(a_):sT;function ok(l){return l===t}function ak(l){return cn(l)&&Fn(l)==Pe}function lk(l){return cn(l)&&Jn(l)==_t}var uk=Nu(uh),ck=Nu(function(l,d){return l<=d});function qv(l){if(!l)return[];if(gi(l))return Hu(l)?ir(l):fi(l);if(Ia&&l[Ia])return $L(l[Ia]());var d=Fn(l),g=d==Yt?Zd:d==Vt?ou:$o;return g(l)}function Gr(l){if(!l)return l===0?l:0;if(l=ji(l),l===U||l===-U){var d=l<0?-1:1;return d*z}return l===l?l:0}function at(l){var d=Gr(l),g=d%1;return d===d?g?d-g:d:0}function Gv(l){return l?Gs(at(l),0,q):0}function ji(l){if(typeof l=="number")return l;if(ki(l))return k;if(sn(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=sn(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=f_(l);var g=_e.test(l);return g||Ie.test(l)?EL(l.slice(2),g?2:8):ie.test(l)?k:+l}function Yv(l){return Er(l,pi(l))}function dk(l){return l?Gs(at(l),-K,K):l===0?l:0}function Tt(l){return l==null?"":Ii(l)}var hk=Bo(function(l,d){if(Va(d)||gi(d)){Er(d,Dn(d),l);return}for(var g in d)Mt.call(d,g)&&Ma(l,g,d[g])}),Zv=Bo(function(l,d){Er(d,pi(d),l)}),$u=Bo(function(l,d,g,_){Er(d,pi(d),l,_)}),fk=Bo(function(l,d,g,_){Er(d,Dn(d),l,_)}),gk=jr(nh);function pk(l,d){var g=Fo(l);return d==null?g:T_(g,d)}var mk=ht(function(l,d){l=$t(l);var g=-1,_=d.length,y=_>2?d[2]:t;for(y&&ei(d[0],d[1],y)&&(_=1);++g<_;)for(var D=d[g],P=pi(D),V=-1,Z=P.length;++V<Z;){var ce=P[V],de=l[ce];(de===t||sr(de,Mo[ce])&&!Mt.call(l,ce))&&(l[ce]=D[ce])}return l}),_k=ht(function(l){return l.push(t,fv),Di(Xv,t,l)});function vk(l,d){return u_(l,Ve(d,3),xr)}function bk(l,d){return u_(l,Ve(d,3),rh)}function Ck(l,d){return l==null?l:ih(l,Ve(d,3),pi)}function yk(l,d){return l==null?l:O_(l,Ve(d,3),pi)}function wk(l,d){return l&&xr(l,Ve(d,3))}function Sk(l,d){return l&&rh(l,Ve(d,3))}function xk(l){return l==null?[]:Su(l,Dn(l))}function Ek(l){return l==null?[]:Su(l,pi(l))}function Ph(l,d,g){var _=l==null?t:Ys(l,d);return _===t?g:_}function Lk(l,d){return l!=null&&mv(l,d,YD)}function Fh(l,d){return l!=null&&mv(l,d,ZD)}var Dk=lv(function(l,d,g){d!=null&&typeof d.toString!="function"&&(d=cu.call(d)),l[d]=g},Wh(mi)),Tk=lv(function(l,d,g){d!=null&&typeof d.toString!="function"&&(d=cu.call(d)),Mt.call(l,d)?l[d].push(g):l[d]=[g]},Ve),Ik=ht(Pa);function Dn(l){return gi(l)?L_(l):lh(l)}function pi(l){return gi(l)?L_(l,!0):oT(l)}function kk(l,d){var g={};return d=Ve(d,3),xr(l,function(_,y,D){zr(g,d(_,y,D),_)}),g}function Nk(l,d){var g={};return d=Ve(d,3),xr(l,function(_,y,D){zr(g,y,d(_,y,D))}),g}var Ak=Bo(function(l,d,g){xu(l,d,g)}),Xv=Bo(function(l,d,g,_){xu(l,d,g,_)}),Ok=jr(function(l,d){var g={};if(l==null)return g;var _=!1;d=nn(d,function(D){return D=bs(D,l),_||(_=D.length>1),D}),Er(l,wh(l),g),_&&(g=$i(g,f|p|m,DT));for(var y=d.length;y--;)gh(g,d[y]);return g});function Mk(l,d){return Qv(l,Wu(Ve(d)))}var Rk=jr(function(l,d){return l==null?{}:lT(l,d)});function Qv(l,d){if(l==null)return{};var g=nn(wh(l),function(_){return[_]});return d=Ve(d),z_(l,g,function(_,y){return d(_,y[0])})}function Pk(l,d,g){d=bs(d,l);var _=-1,y=d.length;for(y||(y=1,l=t);++_<y;){var D=l==null?t:l[Lr(d[_])];D===t&&(_=y,D=g),l=qr(D)?D.call(l):D}return l}function Fk(l,d,g){return l==null?l:Ba(l,d,g)}function Bk(l,d,g,_){return _=typeof _=="function"?_:t,l==null?l:Ba(l,d,g,_)}var Jv=dv(Dn),e0=dv(pi);function Wk(l,d,g){var _=it(l),y=_||ys(l)||Ho(l);if(d=Ve(d,4),g==null){var D=l&&l.constructor;y?g=_?new D:[]:sn(l)?g=qr(D)?Fo(fu(l)):{}:g={}}return(y?Wi:xr)(l,function(P,V,Z){return d(g,P,V,Z)}),g}function Vk(l,d){return l==null?!0:gh(l,d)}function Hk(l,d,g){return l==null?l:G_(l,d,_h(g))}function $k(l,d,g,_){return _=typeof _=="function"?_:t,l==null?l:G_(l,d,_h(g),_)}function $o(l){return l==null?[]:Yd(l,Dn(l))}function zk(l){return l==null?[]:Yd(l,pi(l))}function Uk(l,d,g){return g===t&&(g=d,d=t),g!==t&&(g=ji(g),g=g===g?g:0),d!==t&&(d=ji(d),d=d===d?d:0),Gs(ji(l),d,g)}function jk(l,d,g){return d=Gr(d),g===t?(g=d,d=0):g=Gr(g),l=ji(l),XD(l,d,g)}function Kk(l,d,g){if(g&&typeof g!="boolean"&&ei(l,d,g)&&(d=g=t),g===t&&(typeof d=="boolean"?(g=d,d=t):typeof l=="boolean"&&(g=l,l=t)),l===t&&d===t?(l=0,d=1):(l=Gr(l),d===t?(d=l,l=0):d=Gr(d)),l>d){var _=l;l=d,d=_}if(g||l%1||d%1){var y=x_();return Pn(l+y*(d-l+xL("1e-"+((y+"").length-1))),d)}return dh(l,d)}var qk=Wo(function(l,d,g){return d=d.toLowerCase(),l+(g?t0(d):d)});function t0(l){return Bh(Tt(l).toLowerCase())}function n0(l){return l=Tt(l),l&&l.replace(Qe,FL).replace(gL,"")}function Gk(l,d,g){l=Tt(l),d=Ii(d);var _=l.length;g=g===t?_:Gs(at(g),0,_);var y=g;return g-=d.length,g>=0&&l.slice(g,y)==d}function Yk(l){return l=Tt(l),l&&Il.test(l)?l.replace(yn,BL):l}function Zk(l){return l=Tt(l),l&&le.test(l)?l.replace(oe,"\\$&"):l}var Xk=Wo(function(l,d,g){return l+(g?"-":"")+d.toLowerCase()}),Qk=Wo(function(l,d,g){return l+(g?" ":"")+d.toLowerCase()}),Jk=sv("toLowerCase");function eN(l,d,g){l=Tt(l),d=at(d);var _=d?Ao(l):0;if(!d||_>=d)return l;var y=(d-_)/2;return ku(_u(y),g)+l+ku(mu(y),g)}function tN(l,d,g){l=Tt(l),d=at(d);var _=d?Ao(l):0;return d&&_<d?l+ku(d-_,g):l}function nN(l,d,g){l=Tt(l),d=at(d);var _=d?Ao(l):0;return d&&_<d?ku(d-_,g)+l:l}function iN(l,d,g){return g||d==null?d=0:d&&(d=+d),cD(Tt(l).replace(me,""),d||0)}function rN(l,d,g){return(g?ei(l,d,g):d===t)?d=1:d=at(d),hh(Tt(l),d)}function sN(){var l=arguments,d=Tt(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var oN=Wo(function(l,d,g){return l+(g?"_":"")+d.toLowerCase()});function aN(l,d,g){return g&&typeof g!="number"&&ei(l,d,g)&&(d=g=t),g=g===t?q:g>>>0,g?(l=Tt(l),l&&(typeof d=="string"||d!=null&&!Rh(d))&&(d=Ii(d),!d&&No(l))?Cs(ir(l),0,g):l.split(d,g)):[]}var lN=Wo(function(l,d,g){return l+(g?" ":"")+Bh(d)});function uN(l,d,g){return l=Tt(l),g=g==null?0:Gs(at(g),0,l.length),d=Ii(d),l.slice(g,g+d.length)==d}function cN(l,d,g){var _=L.templateSettings;g&&ei(l,d,g)&&(d=t),l=Tt(l),d=$u({},d,_,hv);var y=$u({},d.imports,_.imports,hv),D=Dn(y),P=Yd(y,D),V,Z,ce=0,de=d.interpolate||lt,pe="__p += '",xe=Xd((d.escape||lt).source+"|"+de.source+"|"+(de===Co?F:lt).source+"|"+(d.evaluate||lt).source+"|$","g"),Ae="//# sourceURL="+(Mt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bL+"]")+`
`;l.replace(xe,function(Ke,gt,Ct,Ni,ti,Ai){return Ct||(Ct=Ni),pe+=l.slice(ce,Ai).replace(Ot,WL),gt&&(V=!0,pe+=`' +
__e(`+gt+`) +
'`),ti&&(Z=!0,pe+=`';
`+ti+`;
__p += '`),Ct&&(pe+=`' +
((__t = (`+Ct+`)) == null ? '' : __t) +
'`),ce=Ai+Ke.length,Ke}),pe+=`';
`;var je=Mt.call(d,"variable")&&d.variable;if(!je)pe=`with (obj) {
`+pe+`
}
`;else if(Qt.test(je))throw new et(a);pe=(Z?pe.replace(il,""):pe).replace(jn,"$1").replace(oi,"$1;"),pe="function("+(je||"obj")+`) {
`+(je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pe+`return __p
}`;var ct=r0(function(){return Et(D,Ae+"return "+pe).apply(t,P)});if(ct.source=pe,Mh(ct))throw ct;return ct}function dN(l){return Tt(l).toLowerCase()}function hN(l){return Tt(l).toUpperCase()}function fN(l,d,g){if(l=Tt(l),l&&(g||d===t))return f_(l);if(!l||!(d=Ii(d)))return l;var _=ir(l),y=ir(d),D=g_(_,y),P=p_(_,y)+1;return Cs(_,D,P).join("")}function gN(l,d,g){if(l=Tt(l),l&&(g||d===t))return l.slice(0,__(l)+1);if(!l||!(d=Ii(d)))return l;var _=ir(l),y=p_(_,ir(d))+1;return Cs(_,0,y).join("")}function pN(l,d,g){if(l=Tt(l),l&&(g||d===t))return l.replace(me,"");if(!l||!(d=Ii(d)))return l;var _=ir(l),y=g_(_,ir(d));return Cs(_,y).join("")}function mN(l,d){var g=X,_=$;if(sn(d)){var y="separator"in d?d.separator:y;g="length"in d?at(d.length):g,_="omission"in d?Ii(d.omission):_}l=Tt(l);var D=l.length;if(No(l)){var P=ir(l);D=P.length}if(g>=D)return l;var V=g-Ao(_);if(V<1)return _;var Z=P?Cs(P,0,V).join(""):l.slice(0,V);if(y===t)return Z+_;if(P&&(V+=Z.length-V),Rh(y)){if(l.slice(V).search(y)){var ce,de=Z;for(y.global||(y=Xd(y.source,Tt(te.exec(y))+"g")),y.lastIndex=0;ce=y.exec(de);)var pe=ce.index;Z=Z.slice(0,pe===t?V:pe)}}else if(l.indexOf(Ii(y),V)!=V){var xe=Z.lastIndexOf(y);xe>-1&&(Z=Z.slice(0,xe))}return Z+_}function _N(l){return l=Tt(l),l&&dr.test(l)?l.replace(fa,KL):l}var vN=Wo(function(l,d,g){return l+(g?" ":"")+d.toUpperCase()}),Bh=sv("toUpperCase");function i0(l,d,g){return l=Tt(l),d=g?t:d,d===t?HL(l)?YL(l):AL(l):l.match(d)||[]}var r0=ht(function(l,d){try{return Di(l,t,d)}catch(g){return Mh(g)?g:new et(g)}}),bN=jr(function(l,d){return Wi(d,function(g){g=Lr(g),zr(l,g,Ah(l[g],l))}),l});function CN(l){var d=l==null?0:l.length,g=Ve();return l=d?nn(l,function(_){if(typeof _[1]!="function")throw new Vi(o);return[g(_[0]),_[1]]}):[],ht(function(_){for(var y=-1;++y<d;){var D=l[y];if(Di(D[0],this,_))return Di(D[1],this,_)}})}function yN(l){return KD($i(l,f))}function Wh(l){return function(){return l}}function wN(l,d){return l==null||l!==l?d:l}var SN=av(),xN=av(!0);function mi(l){return l}function Vh(l){return F_(typeof l=="function"?l:$i(l,f))}function EN(l){return W_($i(l,f))}function LN(l,d){return V_(l,$i(d,f))}var DN=ht(function(l,d){return function(g){return Pa(g,l,d)}}),TN=ht(function(l,d){return function(g){return Pa(l,g,d)}});function Hh(l,d,g){var _=Dn(d),y=Su(d,_);g==null&&!(sn(d)&&(y.length||!_.length))&&(g=d,d=l,l=this,y=Su(d,Dn(d)));var D=!(sn(g)&&"chain"in g)||!!g.chain,P=qr(l);return Wi(y,function(V){var Z=d[V];l[V]=Z,P&&(l.prototype[V]=function(){var ce=this.__chain__;if(D||ce){var de=l(this.__wrapped__),pe=de.__actions__=fi(this.__actions__);return pe.push({func:Z,args:arguments,thisArg:l}),de.__chain__=ce,de}return Z.apply(l,gs([this.value()],arguments))})}),l}function IN(){return In._===this&&(In._=tD),this}function $h(){}function kN(l){return l=at(l),ht(function(d){return H_(d,l)})}var NN=bh(nn),AN=bh(l_),ON=bh(Ud);function s0(l){return Lh(l)?jd(Lr(l)):uT(l)}function MN(l){return function(d){return l==null?t:Ys(l,d)}}var RN=uv(),PN=uv(!0);function zh(){return[]}function Uh(){return!1}function FN(){return{}}function BN(){return""}function WN(){return!0}function VN(l,d){if(l=at(l),l<1||l>K)return[];var g=q,_=Pn(l,q);d=Ve(d),l-=q;for(var y=Gd(_,d);++g<l;)d(g);return y}function HN(l){return it(l)?nn(l,Lr):ki(l)?[l]:fi(Ev(Tt(l)))}function $N(l){var d=++JL;return Tt(l)+d}var zN=Iu(function(l,d){return l+d},0),UN=Ch("ceil"),jN=Iu(function(l,d){return l/d},1),KN=Ch("floor");function qN(l){return l&&l.length?wu(l,mi,sh):t}function GN(l,d){return l&&l.length?wu(l,Ve(d,2),sh):t}function YN(l){return d_(l,mi)}function ZN(l,d){return d_(l,Ve(d,2))}function XN(l){return l&&l.length?wu(l,mi,uh):t}function QN(l,d){return l&&l.length?wu(l,Ve(d,2),uh):t}var JN=Iu(function(l,d){return l*d},1),eA=Ch("round"),tA=Iu(function(l,d){return l-d},0);function nA(l){return l&&l.length?qd(l,mi):0}function iA(l,d){return l&&l.length?qd(l,Ve(d,2)):0}return L.after=EI,L.ary=Pv,L.assign=hk,L.assignIn=Zv,L.assignInWith=$u,L.assignWith=fk,L.at=gk,L.before=Fv,L.bind=Ah,L.bindAll=bN,L.bindKey=Bv,L.castArray=FI,L.chain=Ov,L.chunk=KT,L.compact=qT,L.concat=GT,L.cond=CN,L.conforms=yN,L.constant=Wh,L.countBy=nI,L.create=pk,L.curry=Wv,L.curryRight=Vv,L.debounce=Hv,L.defaults=mk,L.defaultsDeep=_k,L.defer=LI,L.delay=DI,L.difference=YT,L.differenceBy=ZT,L.differenceWith=XT,L.drop=QT,L.dropRight=JT,L.dropRightWhile=e2,L.dropWhile=t2,L.fill=n2,L.filter=rI,L.flatMap=aI,L.flatMapDeep=lI,L.flatMapDepth=uI,L.flatten=Iv,L.flattenDeep=i2,L.flattenDepth=r2,L.flip=TI,L.flow=SN,L.flowRight=xN,L.fromPairs=s2,L.functions=xk,L.functionsIn=Ek,L.groupBy=cI,L.initial=a2,L.intersection=l2,L.intersectionBy=u2,L.intersectionWith=c2,L.invert=Dk,L.invertBy=Tk,L.invokeMap=hI,L.iteratee=Vh,L.keyBy=fI,L.keys=Dn,L.keysIn=pi,L.map=Pu,L.mapKeys=kk,L.mapValues=Nk,L.matches=EN,L.matchesProperty=LN,L.memoize=Bu,L.merge=Ak,L.mergeWith=Xv,L.method=DN,L.methodOf=TN,L.mixin=Hh,L.negate=Wu,L.nthArg=kN,L.omit=Ok,L.omitBy=Mk,L.once=II,L.orderBy=gI,L.over=NN,L.overArgs=kI,L.overEvery=AN,L.overSome=ON,L.partial=Oh,L.partialRight=$v,L.partition=pI,L.pick=Rk,L.pickBy=Qv,L.property=s0,L.propertyOf=MN,L.pull=g2,L.pullAll=Nv,L.pullAllBy=p2,L.pullAllWith=m2,L.pullAt=_2,L.range=RN,L.rangeRight=PN,L.rearg=NI,L.reject=vI,L.remove=v2,L.rest=AI,L.reverse=kh,L.sampleSize=CI,L.set=Fk,L.setWith=Bk,L.shuffle=yI,L.slice=b2,L.sortBy=xI,L.sortedUniq=L2,L.sortedUniqBy=D2,L.split=aN,L.spread=OI,L.tail=T2,L.take=I2,L.takeRight=k2,L.takeRightWhile=N2,L.takeWhile=A2,L.tap=q2,L.throttle=MI,L.thru=Ru,L.toArray=qv,L.toPairs=Jv,L.toPairsIn=e0,L.toPath=HN,L.toPlainObject=Yv,L.transform=Wk,L.unary=RI,L.union=O2,L.unionBy=M2,L.unionWith=R2,L.uniq=P2,L.uniqBy=F2,L.uniqWith=B2,L.unset=Vk,L.unzip=Nh,L.unzipWith=Av,L.update=Hk,L.updateWith=$k,L.values=$o,L.valuesIn=zk,L.without=W2,L.words=i0,L.wrap=PI,L.xor=V2,L.xorBy=H2,L.xorWith=$2,L.zip=z2,L.zipObject=U2,L.zipObjectDeep=j2,L.zipWith=K2,L.entries=Jv,L.entriesIn=e0,L.extend=Zv,L.extendWith=$u,Hh(L,L),L.add=zN,L.attempt=r0,L.camelCase=qk,L.capitalize=t0,L.ceil=UN,L.clamp=Uk,L.clone=BI,L.cloneDeep=VI,L.cloneDeepWith=HI,L.cloneWith=WI,L.conformsTo=$I,L.deburr=n0,L.defaultTo=wN,L.divide=jN,L.endsWith=Gk,L.eq=sr,L.escape=Yk,L.escapeRegExp=Zk,L.every=iI,L.find=sI,L.findIndex=Dv,L.findKey=vk,L.findLast=oI,L.findLastIndex=Tv,L.findLastKey=bk,L.floor=KN,L.forEach=Mv,L.forEachRight=Rv,L.forIn=Ck,L.forInRight=yk,L.forOwn=wk,L.forOwnRight=Sk,L.get=Ph,L.gt=zI,L.gte=UI,L.has=Lk,L.hasIn=Fh,L.head=kv,L.identity=mi,L.includes=dI,L.indexOf=o2,L.inRange=jk,L.invoke=Ik,L.isArguments=Qs,L.isArray=it,L.isArrayBuffer=jI,L.isArrayLike=gi,L.isArrayLikeObject=mn,L.isBoolean=KI,L.isBuffer=ys,L.isDate=qI,L.isElement=GI,L.isEmpty=YI,L.isEqual=ZI,L.isEqualWith=XI,L.isError=Mh,L.isFinite=QI,L.isFunction=qr,L.isInteger=zv,L.isLength=Vu,L.isMap=Uv,L.isMatch=JI,L.isMatchWith=ek,L.isNaN=tk,L.isNative=nk,L.isNil=rk,L.isNull=ik,L.isNumber=jv,L.isObject=sn,L.isObjectLike=cn,L.isPlainObject=$a,L.isRegExp=Rh,L.isSafeInteger=sk,L.isSet=Kv,L.isString=Hu,L.isSymbol=ki,L.isTypedArray=Ho,L.isUndefined=ok,L.isWeakMap=ak,L.isWeakSet=lk,L.join=d2,L.kebabCase=Xk,L.last=Ui,L.lastIndexOf=h2,L.lowerCase=Qk,L.lowerFirst=Jk,L.lt=uk,L.lte=ck,L.max=qN,L.maxBy=GN,L.mean=YN,L.meanBy=ZN,L.min=XN,L.minBy=QN,L.stubArray=zh,L.stubFalse=Uh,L.stubObject=FN,L.stubString=BN,L.stubTrue=WN,L.multiply=JN,L.nth=f2,L.noConflict=IN,L.noop=$h,L.now=Fu,L.pad=eN,L.padEnd=tN,L.padStart=nN,L.parseInt=iN,L.random=Kk,L.reduce=mI,L.reduceRight=_I,L.repeat=rN,L.replace=sN,L.result=Pk,L.round=eA,L.runInContext=Y,L.sample=bI,L.size=wI,L.snakeCase=oN,L.some=SI,L.sortedIndex=C2,L.sortedIndexBy=y2,L.sortedIndexOf=w2,L.sortedLastIndex=S2,L.sortedLastIndexBy=x2,L.sortedLastIndexOf=E2,L.startCase=lN,L.startsWith=uN,L.subtract=tA,L.sum=nA,L.sumBy=iA,L.template=cN,L.times=VN,L.toFinite=Gr,L.toInteger=at,L.toLength=Gv,L.toLower=dN,L.toNumber=ji,L.toSafeInteger=dk,L.toString=Tt,L.toUpper=hN,L.trim=fN,L.trimEnd=gN,L.trimStart=pN,L.truncate=mN,L.unescape=_N,L.uniqueId=$N,L.upperCase=vN,L.upperFirst=Bh,L.each=Mv,L.eachRight=Rv,L.first=kv,Hh(L,function(){var l={};return xr(L,function(d,g){Mt.call(L.prototype,g)||(l[g]=d)}),l}(),{chain:!1}),L.VERSION=n,Wi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){L[l].placeholder=L}),Wi(["drop","take"],function(l,d){vt.prototype[l]=function(g){g=g===t?1:Sn(at(g),0);var _=this.__filtered__&&!d?new vt(this):this.clone();return _.__filtered__?_.__takeCount__=Pn(g,_.__takeCount__):_.__views__.push({size:Pn(g,q),type:l+(_.__dir__<0?"Right":"")}),_},vt.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),Wi(["filter","map","takeWhile"],function(l,d){var g=d+1,_=g==B||g==j;vt.prototype[l]=function(y){var D=this.clone();return D.__iteratees__.push({iteratee:Ve(y,3),type:g}),D.__filtered__=D.__filtered__||_,D}}),Wi(["head","last"],function(l,d){var g="take"+(d?"Right":"");vt.prototype[l]=function(){return this[g](1).value()[0]}}),Wi(["initial","tail"],function(l,d){var g="drop"+(d?"":"Right");vt.prototype[l]=function(){return this.__filtered__?new vt(this):this[g](1)}}),vt.prototype.compact=function(){return this.filter(mi)},vt.prototype.find=function(l){return this.filter(l).head()},vt.prototype.findLast=function(l){return this.reverse().find(l)},vt.prototype.invokeMap=ht(function(l,d){return typeof l=="function"?new vt(this):this.map(function(g){return Pa(g,l,d)})}),vt.prototype.reject=function(l){return this.filter(Wu(Ve(l)))},vt.prototype.slice=function(l,d){l=at(l);var g=this;return g.__filtered__&&(l>0||d<0)?new vt(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),d!==t&&(d=at(d),g=d<0?g.dropRight(-d):g.take(d-l)),g)},vt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},vt.prototype.toArray=function(){return this.take(q)},xr(vt.prototype,function(l,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),_=/^(?:head|last)$/.test(d),y=L[_?"take"+(d=="last"?"Right":""):d],D=_||/^find/.test(d);y&&(L.prototype[d]=function(){var P=this.__wrapped__,V=_?[1]:arguments,Z=P instanceof vt,ce=V[0],de=Z||it(P),pe=function(gt){var Ct=y.apply(L,gs([gt],V));return _&&xe?Ct[0]:Ct};de&&g&&typeof ce=="function"&&ce.length!=1&&(Z=de=!1);var xe=this.__chain__,Ae=!!this.__actions__.length,je=D&&!xe,ct=Z&&!Ae;if(!D&&de){P=ct?P:new vt(this);var Ke=l.apply(P,V);return Ke.__actions__.push({func:Ru,args:[pe],thisArg:t}),new Hi(Ke,xe)}return je&&ct?l.apply(this,V):(Ke=this.thru(pe),je?_?Ke.value()[0]:Ke.value():Ke)})}),Wi(["pop","push","shift","sort","splice","unshift"],function(l){var d=au[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",_=/^(?:pop|shift)$/.test(l);L.prototype[l]=function(){var y=arguments;if(_&&!this.__chain__){var D=this.value();return d.apply(it(D)?D:[],y)}return this[g](function(P){return d.apply(it(P)?P:[],y)})}}),xr(vt.prototype,function(l,d){var g=L[d];if(g){var _=g.name+"";Mt.call(Po,_)||(Po[_]=[]),Po[_].push({name:d,func:g})}}),Po[Tu(t,x).name]=[{name:"wrapper",func:t}],vt.prototype.clone=_D,vt.prototype.reverse=vD,vt.prototype.value=bD,L.prototype.at=G2,L.prototype.chain=Y2,L.prototype.commit=Z2,L.prototype.next=X2,L.prototype.plant=J2,L.prototype.reverse=eI,L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=tI,L.prototype.first=L.prototype.head,Ia&&(L.prototype[Ia]=Q2),L},Oo=ZL();Us?((Us.exports=Oo)._=Oo,Vd._=Oo):In._=Oo}).call(Fw)}),Gh={browserCheck:function(){var e={};if(Gh.isMobileDevice())return!0;var t=navigator.userAgent.toLowerCase(),n;return(n=t.match(/rv:([\d.]+)\) like gecko/))||(n=t.match(/msie ([\d\.]+)/))?e.ie=n[1]:(n=t.match(/edge?\/([\d\.]+)/))?e.edge=n[1]:(n=t.match(/firefox\/([\d\.]+)/))?e.firefox=n[1]:(n=t.match(/(?:opera|opr).([\d\.]+)/))?e.opera=n[1]:(n=t.match(/chrome\/([\d\.]+)/))?e.chrome=n[1]:(n=t.match(/version\/([\d\.]+).*safari/))&&(e.safari=n[1]),!!(e.chrome&&parseInt(e.chrome.split(".")[0],10)>=66||e.firefox||e.edge)},checkExist:function(e){return e!=null&&e!==""},convertBytes:function(e){for(var t=e,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=0;t>=1024;)t=Number((t/1024).toFixed(2)),r++;return"".concat(t," ").concat(n[r])},isMacOs:function(){return navigator.userAgent.indexOf("Macintosh")>-1},isWindows:function(){return navigator.userAgent.indexOf("Windows")>-1},isMobileDevice:function(){return typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1},getParameterByName:function(e,t){var n=t;n||(n=window.location.href);var r=e.replace(/[\[\]]/g,"\\$&"),s=new RegExp("[?&]"+r+"(=([^&#]*)|&|#|$)"),o=s.exec(n);if(!o)return null;if(!o[2])return"";var a=decodeURIComponent(o[2].replace(/\+/g," "));if(a==="null")return null;if(a!=="undefined")return a},generateFullUrlPath:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=new URLSearchParams(t),r=n.toString();return e+(r?"?".concat(r):"")},getQueryParameters:function(e){var t=new URLSearchParams(e),n=Object.fromEntries(t.entries());for(var r in n)n[r]==="null"&&(n[r]=null),n[r]==="undefined"&&(n[r]=void 0);return n},getBase64:function(e,t){var n=new FileReader;n.addEventListener("load",function(){return t(n.result)}),n.readAsDataURL(e)},percent:function(e,t){var n=e;if(!n||n===1/0)return"0%";n>1&&(n=1);var r=t||2;return r=Math.pow(10,r),Math.round(n*r*100)/r+"%"},getCssText:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t},trim:function(e){return typeof e!="string"?e:e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},trimAll:function(e){return typeof e!="string"?e:e.replace(/\s/g,"")},getThousandth:function(e){var t=e;if(t==null||t==="")return"0";t="".concat(e);var n=t.split("."),r=one(n,2),s=r[0],o=r[1];return"".concat(s.replace(/(\d)(?=(\d{3})+$)/g,"$1,")).concat(o?".".concat(o):"")},textOverflowExchange:function(e,t){return e&&e.length>t?e.substring(0,t)+"...":e},jsonFormat:function(e,t){if(!e)return e;try{var n=JSON.parse(e),r=JSON.stringify(n,null,t||2);return r}catch{return null}},sortByCompareFunctions:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.sort(function(s,o){for(var a=0,u=0,c=n;u<c.length;u++){var h=c[u];if(a=h(s,o),a!==0)return a}return a})},exchangeOrder:function(e){switch(e){case"ascend":return"asc";case"descend":return"desc";default:return}},generateAKey:function(){return""+new Date().getTime()+~~(Math.random()*1e6)},isJSONStr:function(e){var t=Gh.trim(e);return t.charAt(0)==="{"&&t.charAt(t.length-1)==="}"||t.charAt(0)==="["&&t.charAt(t.length-1)==="]"},isPhoneNumber:function(e){var t=/^0?1[3|4|5|6|7|8][0-9]\d{8}$/;return t.test(e)},isFunction:function(e){return e?typeof/./!="function"?typeof e=="function":Object.prototype.toString.call(e)==="[object Function]":!1},getRandomStr:function(e){var t="0123456789",n="abcdefghijklmnopqrstuvwxyz",r="ABCDEFGHIJKLMNOPQRSTUVXYZ";function s(c){var h=Math.random()*(c.length-1);return c.charAt(h)}for(var o="num",a="",u=0;u<e;u++)o==="num"?(a+=s(t),o="lower"):o==="lower"?(a+=s(n),o="upper"):o==="upper"&&(a+=s(r),o="num");return a},isEqualArr:function(e,t){var n=JSON.stringify;return n(e.sort())===n(t.sort())},isEqual:function(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0},shouldRender:function(e){e.prototype.shouldComponentUpdate=function(t,n){return!Gh.isEqual(this.state,n)||!Gh.isEqual(this.props,t)}},getStrlen:function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>=1&&r<=126||r>=65376&&r<=65439?t++:t+=2}return t},transformArray:function(e,t){for(var n=e.length,r=[],s=0;s*t<n;)r.push(e.slice(s*t,(s+1)*t)),s++;return r},isEmpty:function(e){return!!(e===""||e===null||e===void 0||Array.prototype.isPrototypeOf(e)&&e.length===0||Object.prototype.isPrototypeOf(e)&&Object.keys(e).length===0)},isObj:function(e){return Object.prototype.toString.call(e)==="[object Object]"},removeEmpty:function(e){if(!(!e||!Gh.isObj(e)))return Object.entries(e).forEach(function(t){var n=one(t,2),r=n[0],s=n[1];s&&Gh.isObj(s)?Gh.removeEmpty(s):Gh.isEmpty(s)&&delete e[r]}),e},mergeDeep:function(e,t){if(e==null||t==null)return e||t;if(!XV.isPlainObject(e)||!XV.isPlainObject(t))return t;if(e===t)return t;if("_isMergeAtom"in t){var n=t._isMergeAtom;if(delete t._isMergeAtom,n)return t}var r=mxe({},e);return XV.forEach(t,function(s,o){o in e?r[o]=Gh.mergeDeep(e[o],s):r[o]=s}),r},downLoadData:function(e){var t=e.url,n=e.payload,r=e.finallyCallback,s=e.successCallback,o=e.errorCallback;fetch(t,{method:"POST",body:JSON.stringify(n)}).then(function(a){if(a.status!==200)return o(a);var u=a.headers.get("Content-type")||"";if(u.includes("application/json"))return o(a);var c=e.fileName;if(!c){var h=a.headers.get("Content-disposition")||"";c=h.split("filename=")[1]}a.blob().then(function(f){var p=URL.createObjectURL(f),m=document.createElement("a");m.setAttribute("href",p),m.setAttribute("download",decodeURIComponent(c||"")),m.click(),URL.revokeObjectURL(p),s&&s(a)})}).finally(function(){r&&r()})},isUtf8:function(e){var t=["","","","","",""];return t.forEach(function(n){if(e&&e.indexOf(n)>-1)return!1}),!0},utf16to8:function(e){if(typeof e!="string"||!this.isUtf8(e))return e;var t,n,r;t="";var s=e.length||0;for(n=0;n<s;n++)r=e.charCodeAt(n),r>=1&&r<=127?t+=e.charAt(n):r>2047?(t+=String.fromCharCode(224|r>>12&15),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|r>>0&63)):(t+=String.fromCharCode(192|r>>6&31),t+=String.fromCharCode(128|r>>0&63));return t},base64Encode:function(e){var t=e;if(!t)return t;try{t=btoa(this.utf16to8(e))}catch(n){console.log(n)}return t}},wxe={getCookie:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.cookie,n=t.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));if(n!=null)try{return unescape(decodeURI(n[2]))}catch{return n[2]}return null},getAllCookies:function(){var e={};try{document.cookie.split("; ").forEach(function(t){var n=t.split("=");e[n[0]]=n[1]})}catch{throw new Error("CookieCookie")}return e},deleteCookie:function(e,t,n){var r=new Date(0),s=t?"; domain=".concat(t):"",o=n||"/";document.cookie=e+"=; expires="+r.toUTCString()+s+"; path="+o},deleteAllCookies:function(e,t){for(var n=document.cookie.split(";"),r=0;r<n.length;r++)n[r]&&this.deleteCookie(n[r].split("=")[0],e,t)},setCookie:function(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"/",o="";if(n){var a=new Date;a.setTime(a.getTime()+n*24*60*60*1e3),o="; expires="+a.toUTCString()}var u="";r&&(u="; domain="+r),document.cookie=e+"="+t+o+u+"; path="+s}},gw=Bde(function(i,e){(function(t,n){i.exports=n()})(Fw,function(){var t=1e3,n=6e4,r=36e5,s="millisecond",o="second",a="minute",u="hour",c="day",h="week",f="month",p="quarter",m="year",v="date",b="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},E=function(O,B,W){var j=String(O);return!j||j.length>=B?O:""+Array(B+1-j.length).join(W)+O},N={s:E,z:function(O){var B=-O.utcOffset(),W=Math.abs(B),j=Math.floor(W/60),U=W%60;return(B<=0?"+":"-")+E(j,2,"0")+":"+E(U,2,"0")},m:function O(B,W){if(B.date()<W.date())return-O(W,B);var j=12*(W.year()-B.year())+(W.month()-B.month()),U=B.clone().add(j,f),K=W-U<0,z=B.clone().add(j+(K?-1:1),f);return+(-(j+(W-U)/(K?U-z:z-U))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:f,y:m,w:h,d:c,D:v,h:u,m:a,s:o,ms:s,Q:p}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},A="en",H={};H[A]=w;var R=function(O){return O instanceof $},M=function O(B,W,j){var U;if(!B)return A;if(typeof B=="string"){var K=B.toLowerCase();H[K]&&(U=K),W&&(H[K]=W,U=K);var z=B.split("-");if(!U&&z.length>1)return O(z[0])}else{var k=B.name;H[k]=B,U=k}return!j&&U&&(A=U),U||!j&&A},G=function(O,B){if(R(O))return O.clone();var W=typeof B=="object"?B:{};return W.date=O,W.args=arguments,new $(W)},X=N;X.l=M,X.i=R,X.w=function(O,B){return G(O,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var $=function(){function O(W){this.$L=M(W.locale,null,!0),this.parse(W)}var B=O.prototype;return B.parse=function(W){this.$d=function(j){var U=j.date,K=j.utc;if(U===null)return new Date(NaN);if(X.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var z=U.match(S);if(z){var k=z[2]-1||0,q=(z[7]||"0").substring(0,3);return K?new Date(Date.UTC(z[1],k,z[3]||1,z[4]||0,z[5]||0,z[6]||0,q)):new Date(z[1],k,z[3]||1,z[4]||0,z[5]||0,z[6]||0,q)}}return new Date(U)}(W),this.$x=W.x||{},this.init()},B.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},B.$utils=function(){return X},B.isValid=function(){return this.$d.toString()!==b},B.isSame=function(W,j){var U=G(W);return this.startOf(j)<=U&&U<=this.endOf(j)},B.isAfter=function(W,j){return G(W)<this.startOf(j)},B.isBefore=function(W,j){return this.endOf(j)<G(W)},B.$g=function(W,j,U){return X.u(W)?this[j]:this.set(U,W)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(W,j){var U=this,K=!!X.u(j)||j,z=X.p(W),k=function(Rt,Re){var dt=X.w(U.$u?Date.UTC(U.$y,Re,Rt):new Date(U.$y,Re,Rt),U);return K?dt:dt.endOf(c)},q=function(Rt,Re){return X.w(U.toDate()[Rt].apply(U.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(Re)),U)},fe=this.$W,ne=this.$M,Ce=this.$D,Te="set"+(this.$u?"UTC":"");switch(z){case m:return K?k(1,0):k(31,11);case f:return K?k(1,ne):k(0,ne+1);case h:var He=this.$locale().weekStart||0,ot=(fe<He?fe+7:fe)-He;return k(K?Ce-ot:Ce+(6-ot),ne);case c:case v:return q(Te+"Hours",0);case u:return q(Te+"Minutes",1);case a:return q(Te+"Seconds",2);case o:return q(Te+"Milliseconds",3);default:return this.clone()}},B.endOf=function(W){return this.startOf(W,!1)},B.$set=function(W,j){var U,K=X.p(W),z="set"+(this.$u?"UTC":""),k=(U={},U[c]=z+"Date",U[v]=z+"Date",U[f]=z+"Month",U[m]=z+"FullYear",U[u]=z+"Hours",U[a]=z+"Minutes",U[o]=z+"Seconds",U[s]=z+"Milliseconds",U)[K],q=K===c?this.$D+(j-this.$W):j;if(K===f||K===m){var fe=this.clone().set(v,1);fe.$d[k](q),fe.init(),this.$d=fe.set(v,Math.min(this.$D,fe.daysInMonth())).$d}else k&&this.$d[k](q);return this.init(),this},B.set=function(W,j){return this.clone().$set(W,j)},B.get=function(W){return this[X.p(W)]()},B.add=function(W,j){var U,K=this;W=Number(W);var z=X.p(j),k=function(ne){var Ce=G(K);return X.w(Ce.date(Ce.date()+Math.round(ne*W)),K)};if(z===f)return this.set(f,this.$M+W);if(z===m)return this.set(m,this.$y+W);if(z===c)return k(1);if(z===h)return k(7);var q=(U={},U[a]=n,U[u]=r,U[o]=t,U)[z]||1,fe=this.$d.getTime()+W*q;return X.w(fe,this)},B.subtract=function(W,j){return this.add(-1*W,j)},B.format=function(W){var j=this,U=this.$locale();if(!this.isValid())return U.invalidDate||b;var K=W||"YYYY-MM-DDTHH:mm:ssZ",z=X.z(this),k=this.$H,q=this.$m,fe=this.$M,ne=U.weekdays,Ce=U.months,Te=function(Re,dt,wt,Je){return Re&&(Re[dt]||Re(j,K))||wt[dt].slice(0,Je)},He=function(Re){return X.s(k%12||12,Re,"0")},ot=U.meridiem||function(Re,dt,wt){var Je=Re<12?"AM":"PM";return wt?Je.toLowerCase():Je},Rt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:fe+1,MM:X.s(fe+1,2,"0"),MMM:Te(U.monthsShort,fe,Ce,3),MMMM:Te(Ce,fe),D:this.$D,DD:X.s(this.$D,2,"0"),d:String(this.$W),dd:Te(U.weekdaysMin,this.$W,ne,2),ddd:Te(U.weekdaysShort,this.$W,ne,3),dddd:ne[this.$W],H:String(k),HH:X.s(k,2,"0"),h:He(1),hh:He(2),a:ot(k,q,!0),A:ot(k,q,!1),m:String(q),mm:X.s(q,2,"0"),s:String(this.$s),ss:X.s(this.$s,2,"0"),SSS:X.s(this.$ms,3,"0"),Z:z};return K.replace(x,function(Re,dt){return dt||Rt[Re]||z.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(W,j,U){var K,z=X.p(j),k=G(W),q=(k.utcOffset()-this.utcOffset())*n,fe=this-k,ne=X.m(this,k);return ne=(K={},K[m]=ne/12,K[f]=ne,K[p]=ne/3,K[h]=(fe-q)/6048e5,K[c]=(fe-q)/864e5,K[u]=fe/r,K[a]=fe/n,K[o]=fe/t,K)[z]||fe,U?ne:X.a(ne)},B.daysInMonth=function(){return this.endOf(f).$D},B.$locale=function(){return H[this.$L]},B.locale=function(W,j){if(!W)return this.$L;var U=this.clone(),K=M(W,j,!0);return K&&(U.$L=K),U},B.clone=function(){return X.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},O}(),I=$.prototype;return G.prototype=I,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",c],["$M",f],["$y",m],["$D",v]].forEach(function(O){I[O[1]]=function(B){return this.$g(B,O[0],O[1])}}),G.extend=function(O,B){return O.$i||(O(B,$,G),O.$i=!0),G},G.locale=M,G.isDayjs=R,G.unix=function(O){return G(1e3*O)},G.en=H[A],G.Ls=H,G.p={},G})}),Sxe={formatDateTime:function(e){return gw(e).format("YYYY-MM-DD HH:mm:ss")},formatDate:function(e){return gw(e).format("YYYY-MM-DD")},formatDateHours:function(e){return gw(e).format("YYYY-MM-DD HH:mm")},formatDayHours:function(e){return gw(e).format("MM-DD HH:mm")},formatHours:function(e){return gw(e).format("HH:mm")},formatMinute:function(e){return gw(e).format("HH:mm:ss")},formatSecond:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=0,n=0,r=0;function s(u){return r=Math.floor(u/3600),u-r*3600}function o(u){return n=Math.floor(u/60),u-n*60}function a(u){return t=u,t}return a(o(s(e))),"".concat(r?r+"h":"").concat(n?n+"m":"").concat(t?t+"s":"")||"0s"}},xxe={pageWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},pageHeight:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},Exe=function(){function i(){Pde(this,i),this.fakeHandler=null}return Fde(i,[{key:"copy",value:function(t,n){var r=this;this.removeFake(),this.fakeHandlerCallback=function(){return r.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style.left="-9999px";var s=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top="".concat(s,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=t,document.body.appendChild(this.fakeElem),this.fakeElem.select(),this.copyText(n)}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"copyText",value:function(t){var n;try{n=document.execCommand("copy")}catch{n=!1}t&&t(n)}}]),i}(),Lxe=function(){function i(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;Pde(this,i),"indexedDB"in window?(this._storeName=n,this._version=t,this._database=e,this._openLog=r):console.log("This browser doesn't support IndexedDB")}return Fde(i,[{key:"open",value:function(){var t=this;return new Promise(function(n,r){try{var s=t;if(s._db)return n(s._db);var o=indexedDB.open(s._database,s._version);o.onsuccess=function(){s._db=o.result,s._db.onversionchange=function(a){console.log("onversionchange",a)},n(o.result),console.log("Open indexedDB success!")},o.onupgradeneeded=function(a){console.log("openDb.onupgradeneeded",a),s._db=o.result,s._db.objectStoreNames.contains(s._storeName)||s._db.createObjectStore(s._storeName),n(o.result)},o.onblocked=function(a){console.log("openDb onblocked",a)},o.onerror=function(a){console.log("Maybe you not allow my web app to use IndexedDB!"),r(a)}}catch(a){console.error(a),r(a)}})}},{key:"getObjectStore",value:function(t,n){if(this._db){var r=this._db.transaction([t],n);return r.objectStore(t)}return null}},{key:"add",value:function(t,n){return this.wrapStoreOperationPromise(function(r){return r.add(t,n)})}},{key:"set",value:function(t,n){return this.log("IndexedDB set",t,n),this.wrapStoreOperationPromise(function(r){return r.put(n,t)})}},{key:"get",value:function(t){return this.log("IndexedDB get",t),this.wrapStoreOperationPromise(function(n){return n.get(t)})}},{key:"delete",value:function(t){return this.wrapStoreOperationPromise(function(n){return n.delete(t)})}},{key:"clear",value:function(){return this.wrapStoreOperationPromise(function(t){return t.clear()})}},{key:"getStore",value:function(){return this.getObjectStore(this._storeName,"readwrite")}},{key:"wrapStoreOperationPromise",value:function(t){var n=this;return new Promise(function(r,s){try{var o=n.getObjectStore(n._storeName,"readwrite");if(o){var a=t(o);a.onsuccess=function(u){return r(u.target.result)},a.onerror=function(u){return s(u)}}}catch(u){console.error(u),s(u)}})}},{key:"log",value:function(){if(this._openLog){var t;(t=console).log.apply(t,arguments)}}}]),i}(),Dxe={set:function(e,t){if(t==null)delete window.localStorage[e];else{var n=jU(t)==="object"?JSON.stringify(t):t;window.localStorage[e]=n}},get:function(e){var t=window.localStorage[e]||"";try{return Gh.isJSONStr(t)?JSON.parse(t):t}catch{return t}},remove:function(e){delete window.localStorage[e]},clear:function(){window.localStorage.clear()}};G1.Cookie=wxe;G1.CopyUtils=Exe;G1.DateTime=Sxe;G1.Layout=xxe;G1.LocalDB=Dxe;G1.LocalIndexedDB=Lxe;var Wde=G1.Utils=Gh;const H9="mo";function zn(i,e=H9){return i?`${e}-${i}`:""}function bn(...i){if(Nr.isEmpty(i))return;const e=[];for(const t of i){if(!t)continue;const n=typeof t;if(n==="string"||n==="number"){e.push(`${t}`);continue}if(n==="object"){if(t.toString!==Object.prototype.toString){e.push(t.toString());continue}for(const r in t)Object.hasOwnProperty.call(t,r)&&t[r]&&e.push(r)}}return e.join(" ")}function mt(i,e){return`${i}__${e}`}function Cn(i,e){return`${i}--${e}`}function Vde(){return Wde.isMacOs()?"mac":""}const $9=Object.assign({},XSe);let Q8;const J8=Symbol("__molecule__root");W9.version.startsWith("18")&&(Q8=$9.createRoot);function lne(i){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:e}=$9;e&&typeof e=="object"&&(e.usingClientEntryPoint=i)}const eF=(i,e)=>{if(Q8){lne(!0);const t=e[J8]||Q8(e);lne(!1),t.render(i),e[J8]=t;return}$9.render(i,e)},Hde=i=>{var e;return Q8?((e=i[J8])===null||e===void 0||e.unmount(),Reflect.deleteProperty(i,J8),!0):$9.unmountComponentAtNode(i)},DS=document.querySelector.bind(document);document.querySelectorAll.bind(document);function Txe(){const i=document.body,e=document.documentElement,t=e.clientWidth,n=e.clientHeight,r=Math.max(i.scrollHeight,i.offsetHeight,n,e.scrollHeight,e.offsetHeight),s=Math.max(i.scrollWidth,i.offsetWidth,t,e.scrollWidth,e.offsetWidth);return{height:r,width:s,clientWidth:t,clientHeight:n}}function $de(i,e){const{clientWidth:t,clientHeight:n}=Txe(),r=e.x,s=e.y,o=t-r,a=n-s,u=i.offsetHeight,c=i.offsetWidth,h=o<c?r-c:r,f=a<u?s-u:s;return{x:h,y:f}}function tF(i){return{x:i.clientX,y:i.clientY}}function zde(i){switch(i){case"click":return"onClick";case"hover":return"onMouseOver";case"contextmenu":return"onContextMenu";default:return i}}function une(i,e){let t=e.x,n=e.y;return i==="top"?n=e.y-e.height:i==="right"?t=e.x+e.width:i==="bottom"?n=e.y+e.height:i==="left"?t=e.x-e.width:i==="rightBottom"&&(t=e.x+e.width,n=e.y+e.height),{x:t,y:n}}function J3(i,e){return i.getAttribute(e)||""}function WC(i){return Object.keys(i).reduce((e,t)=>(t.startsWith("data-")&&(e[t]=i[t]),e),{})}function cne(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Ixe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cne(Object(t),!0).forEach(function(n){kxe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):cne(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function kxe(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function dne(i,e){return Nxe(i)||Axe(i,e)||Oxe(i,e)||Mxe()}function Nxe(i){if(Array.isArray(i))return i}function Axe(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n=[],r=!0,s=!1,o,a;try{for(t=t.call(i);!(r=(o=t.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(u){s=!0,a=u}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return n}}function Oxe(i,e){if(i){if(typeof i=="string")return hne(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hne(i,e)}}function hne(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function Mxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ude(i,e){return e={exports:{}},i(e,e.exports),e.exports}var QV=Ude(function(i,e){(function(){var t,n="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,m=4,v=1,b=2,S=1,x=2,w=4,E=8,N=16,A=32,H=64,R=128,M=256,G=512,X=30,$="...",I=800,O=16,B=1,W=2,j=3,U=1/0,K=9007199254740991,z=17976931348623157e292,k=0/0,q=4294967295,fe=q-1,ne=q>>>1,Ce=[["ary",R],["bind",S],["bindKey",x],["curry",E],["curryRight",N],["flip",G],["partial",A],["partialRight",H],["rearg",M]],Te="[object Arguments]",He="[object Array]",ot="[object AsyncFunction]",Rt="[object Boolean]",Re="[object Date]",dt="[object DOMException]",wt="[object Error]",Je="[object Function]",ln="[object GeneratorFunction]",Yt="[object Map]",pn="[object Number]",Ln="[object Null]",Un="[object Object]",ci="[object Promise]",di="[object Proxy]",Gi="[object RegExp]",Vt="[object Set]",un="[object String]",Qn="[object Symbol]",ke="[object Undefined]",Pe="[object WeakMap]",_t="[object WeakSet]",ut="[object ArrayBuffer]",yt="[object DataView]",Li="[object Float32Array]",zt="[object Float64Array]",At="[object Int8Array]",Zt="[object Int16Array]",Xt="[object Int32Array]",Ht="[object Uint8Array]",yr="[object Uint8ClampedArray]",si="[object Uint16Array]",$e="[object Uint32Array]",il=/\b__p \+= '';/g,jn=/\b(__p \+=) '' \+/g,oi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fa=/&(?:amp|lt|gt|quot|#39);/g,yn=/[&<>"']/g,dr=RegExp(fa.source),Il=RegExp(yn.source),tr=/<%-([\s\S]+?)%>/g,Xe=/<%([\s\S]+?)%>/g,Co=/<%=([\s\S]+?)%>/g,Ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,le=RegExp(oe.source),me=/^\s+/,J=/\s/,be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qt=/[()=,{}\[\]\/\s]/,T=/\\(\\)?/g,F=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,te=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,ue=/^\[object .+?Constructor\]$/,Ie=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,Ot=/['\n\r\u2028\u2029\\]/g,Wt="\\ud800-\\udfff",Pt="\\u0300-\\u036f",St="\\ufe20-\\ufe2f",hi="\\u20d0-\\u20ff",Kn=Pt+St+hi,hr="\\u2700-\\u27bf",Yi="a-z\\xdf-\\xf6\\xf8-\\xff",rl="\\xac\\xb1\\xd7\\xf7",kl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yp="\\u2000-\\u206f",iL=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wm="A-Z\\xc0-\\xd6\\xd8-\\xde",Vm="\\ufe0e\\ufe0f",Hm=rl+kl+yp+iL,Rd="[']",rL="["+Wt+"]",$m="["+Hm+"]",iu="["+Kn+"]",zm="\\d+",sL="["+hr+"]",Um="["+Yi+"]",jm="[^"+Wt+Hm+zm+hr+Yi+Wm+"]",Pd="\\ud83c[\\udffb-\\udfff]",oL="(?:"+iu+"|"+Pd+")",Km="[^"+Wt+"]",Fd="(?:\\ud83c[\\udde6-\\uddff]){2}",Bd="[\\ud800-\\udbff][\\udc00-\\udfff]",Io="["+Wm+"]",qm="\\u200d",Gm="(?:"+Um+"|"+jm+")",aL="(?:"+Io+"|"+jm+")",Ym="(?:"+Rd+"(?:d|ll|m|re|s|t|ve))?",Zm="(?:"+Rd+"(?:D|LL|M|RE|S|T|VE))?",Xm=oL+"?",Qm="["+Vm+"]?",lL="(?:"+qm+"(?:"+[Km,Fd,Bd].join("|")+")"+Qm+Xm+")*",uL="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cL="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jm=Qm+Xm+lL,dL="(?:"+[sL,Fd,Bd].join("|")+")"+Jm,hL="(?:"+[Km+iu+"?",iu,Fd,Bd,rL].join("|")+")",fL=RegExp(Rd,"g"),gL=RegExp(iu,"g"),Wd=RegExp(Pd+"(?="+Pd+")|"+hL+Jm,"g"),pL=RegExp([Io+"?"+Um+"+"+Ym+"(?="+[$m,Io,"$"].join("|")+")",aL+"+"+Zm+"(?="+[$m,Io+Gm,"$"].join("|")+")",Io+"?"+Gm+"+"+Ym,Io+"+"+Zm,cL,uL,zm,dL].join("|"),"g"),mL=RegExp("["+qm+Wt+Kn+Vm+"]"),_L=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vL=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bL=-1,Gt={};Gt[Li]=Gt[zt]=Gt[At]=Gt[Zt]=Gt[Xt]=Gt[Ht]=Gt[yr]=Gt[si]=Gt[$e]=!0,Gt[Te]=Gt[He]=Gt[ut]=Gt[Rt]=Gt[yt]=Gt[Re]=Gt[wt]=Gt[Je]=Gt[Yt]=Gt[pn]=Gt[Un]=Gt[Gi]=Gt[Vt]=Gt[un]=Gt[Pe]=!1;var jt={};jt[Te]=jt[He]=jt[ut]=jt[yt]=jt[Rt]=jt[Re]=jt[Li]=jt[zt]=jt[At]=jt[Zt]=jt[Xt]=jt[Yt]=jt[pn]=jt[Un]=jt[Gi]=jt[Vt]=jt[un]=jt[Qn]=jt[Ht]=jt[yr]=jt[si]=jt[$e]=!0,jt[wt]=jt[Je]=jt[Pe]=!1;var CL={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},yL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wL={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},SL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xL=parseFloat,EL=parseInt,e_=typeof Bw=="object"&&Bw&&Bw.Object===Object&&Bw,LL=typeof self=="object"&&self&&self.Object===Object&&self,In=e_||LL||Function("return this")(),Vd=e&&!e.nodeType&&e,Us=Vd&&!0&&i&&!i.nodeType&&i,t_=Us&&Us.exports===Vd,Hd=t_&&e_.process,Bi=function(){try{var Y=Us&&Us.require&&Us.require("util").types;return Y||Hd&&Hd.binding&&Hd.binding("util")}catch{}}(),n_=Bi&&Bi.isArrayBuffer,i_=Bi&&Bi.isDate,r_=Bi&&Bi.isMap,s_=Bi&&Bi.isRegExp,o_=Bi&&Bi.isSet,a_=Bi&&Bi.isTypedArray;function Di(Y,se,ee){switch(ee.length){case 0:return Y.call(se);case 1:return Y.call(se,ee[0]);case 2:return Y.call(se,ee[0],ee[1]);case 3:return Y.call(se,ee[0],ee[1],ee[2])}return Y.apply(se,ee)}function DL(Y,se,ee,De){for(var et=-1,Et=Y==null?0:Y.length;++et<Et;){var wn=Y[et];se(De,wn,ee(wn),Y)}return De}function Wi(Y,se){for(var ee=-1,De=Y==null?0:Y.length;++ee<De&&se(Y[ee],ee,Y)!==!1;);return Y}function TL(Y,se){for(var ee=Y==null?0:Y.length;ee--&&se(Y[ee],ee,Y)!==!1;);return Y}function l_(Y,se){for(var ee=-1,De=Y==null?0:Y.length;++ee<De;)if(!se(Y[ee],ee,Y))return!1;return!0}function fs(Y,se){for(var ee=-1,De=Y==null?0:Y.length,et=0,Et=[];++ee<De;){var wn=Y[ee];se(wn,ee,Y)&&(Et[et++]=wn)}return Et}function ru(Y,se){var ee=Y==null?0:Y.length;return!!ee&&ko(Y,se,0)>-1}function $d(Y,se,ee){for(var De=-1,et=Y==null?0:Y.length;++De<et;)if(ee(se,Y[De]))return!0;return!1}function nn(Y,se){for(var ee=-1,De=Y==null?0:Y.length,et=Array(De);++ee<De;)et[ee]=se(Y[ee],ee,Y);return et}function gs(Y,se){for(var ee=-1,De=se.length,et=Y.length;++ee<De;)Y[et+ee]=se[ee];return Y}function zd(Y,se,ee,De){var et=-1,Et=Y==null?0:Y.length;for(De&&Et&&(ee=Y[++et]);++et<Et;)ee=se(ee,Y[et],et,Y);return ee}function IL(Y,se,ee,De){var et=Y==null?0:Y.length;for(De&&et&&(ee=Y[--et]);et--;)ee=se(ee,Y[et],et,Y);return ee}function Ud(Y,se){for(var ee=-1,De=Y==null?0:Y.length;++ee<De;)if(se(Y[ee],ee,Y))return!0;return!1}var kL=jd("length");function NL(Y){return Y.split("")}function AL(Y){return Y.match(ft)||[]}function u_(Y,se,ee){var De;return ee(Y,function(et,Et,wn){if(se(et,Et,wn))return De=Et,!1}),De}function su(Y,se,ee,De){for(var et=Y.length,Et=ee+(De?1:-1);De?Et--:++Et<et;)if(se(Y[Et],Et,Y))return Et;return-1}function ko(Y,se,ee){return se===se?UL(Y,se,ee):su(Y,c_,ee)}function OL(Y,se,ee,De){for(var et=ee-1,Et=Y.length;++et<Et;)if(De(Y[et],se))return et;return-1}function c_(Y){return Y!==Y}function d_(Y,se){var ee=Y==null?0:Y.length;return ee?qd(Y,se)/ee:k}function jd(Y){return function(se){return se==null?t:se[Y]}}function Kd(Y){return function(se){return Y==null?t:Y[se]}}function h_(Y,se,ee,De,et){return et(Y,function(Et,wn,$t){ee=De?(De=!1,Et):se(ee,Et,wn,$t)}),ee}function ML(Y,se){var ee=Y.length;for(Y.sort(se);ee--;)Y[ee]=Y[ee].value;return Y}function qd(Y,se){for(var ee,De=-1,et=Y.length;++De<et;){var Et=se(Y[De]);Et!==t&&(ee=ee===t?Et:ee+Et)}return ee}function Gd(Y,se){for(var ee=-1,De=Array(Y);++ee<Y;)De[ee]=se(ee);return De}function RL(Y,se){return nn(se,function(ee){return[ee,Y[ee]]})}function f_(Y){return Y&&Y.slice(0,__(Y)+1).replace(me,"")}function Ti(Y){return function(se){return Y(se)}}function Yd(Y,se){return nn(se,function(ee){return Y[ee]})}function Ta(Y,se){return Y.has(se)}function g_(Y,se){for(var ee=-1,De=Y.length;++ee<De&&ko(se,Y[ee],0)>-1;);return ee}function p_(Y,se){for(var ee=Y.length;ee--&&ko(se,Y[ee],0)>-1;);return ee}function PL(Y,se){for(var ee=Y.length,De=0;ee--;)Y[ee]===se&&++De;return De}var FL=Kd(CL),BL=Kd(yL);function WL(Y){return"\\"+SL[Y]}function VL(Y,se){return Y==null?t:Y[se]}function No(Y){return mL.test(Y)}function HL(Y){return _L.test(Y)}function $L(Y){for(var se,ee=[];!(se=Y.next()).done;)ee.push(se.value);return ee}function Zd(Y){var se=-1,ee=Array(Y.size);return Y.forEach(function(De,et){ee[++se]=[et,De]}),ee}function m_(Y,se){return function(ee){return Y(se(ee))}}function ps(Y,se){for(var ee=-1,De=Y.length,et=0,Et=[];++ee<De;){var wn=Y[ee];(wn===se||wn===h)&&(Y[ee]=h,Et[et++]=ee)}return Et}function ou(Y){var se=-1,ee=Array(Y.size);return Y.forEach(function(De){ee[++se]=De}),ee}function zL(Y){var se=-1,ee=Array(Y.size);return Y.forEach(function(De){ee[++se]=[De,De]}),ee}function UL(Y,se,ee){for(var De=ee-1,et=Y.length;++De<et;)if(Y[De]===se)return De;return-1}function jL(Y,se,ee){for(var De=ee+1;De--;)if(Y[De]===se)return De;return De}function Ao(Y){return No(Y)?qL(Y):kL(Y)}function ir(Y){return No(Y)?GL(Y):NL(Y)}function __(Y){for(var se=Y.length;se--&&J.test(Y.charAt(se)););return se}var KL=Kd(wL);function qL(Y){for(var se=Wd.lastIndex=0;Wd.test(Y);)++se;return se}function GL(Y){return Y.match(Wd)||[]}function YL(Y){return Y.match(pL)||[]}var ZL=function Y(se){se=se==null?In:Oo.defaults(In.Object(),se,Oo.pick(In,vL));var ee=se.Array,De=se.Date,et=se.Error,Et=se.Function,wn=se.Math,$t=se.Object,Xd=se.RegExp,XL=se.String,Vi=se.TypeError,au=ee.prototype,QL=Et.prototype,Mo=$t.prototype,lu=se["__core-js_shared__"],uu=QL.toString,Mt=Mo.hasOwnProperty,JL=0,v_=function(){var l=/[^.]+$/.exec(lu&&lu.keys&&lu.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),cu=Mo.toString,eD=uu.call($t),tD=In._,nD=Xd("^"+uu.call(Mt).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),du=t_?se.Buffer:t,ms=se.Symbol,hu=se.Uint8Array,b_=du?du.allocUnsafe:t,fu=m_($t.getPrototypeOf,$t),C_=$t.create,y_=Mo.propertyIsEnumerable,gu=au.splice,w_=ms?ms.isConcatSpreadable:t,Ia=ms?ms.iterator:t,js=ms?ms.toStringTag:t,pu=function(){try{var l=Zs($t,"defineProperty");return l({},"",{}),l}catch{}}(),iD=se.clearTimeout!==In.clearTimeout&&se.clearTimeout,rD=De&&De.now!==In.Date.now&&De.now,sD=se.setTimeout!==In.setTimeout&&se.setTimeout,mu=wn.ceil,_u=wn.floor,Qd=$t.getOwnPropertySymbols,oD=du?du.isBuffer:t,S_=se.isFinite,aD=au.join,lD=m_($t.keys,$t),Sn=wn.max,Pn=wn.min,uD=De.now,cD=se.parseInt,x_=wn.random,dD=au.reverse,Jd=Zs(se,"DataView"),ka=Zs(se,"Map"),eh=Zs(se,"Promise"),Ro=Zs(se,"Set"),Na=Zs(se,"WeakMap"),Aa=Zs($t,"create"),vu=Na&&new Na,Po={},hD=Xs(Jd),fD=Xs(ka),gD=Xs(eh),pD=Xs(Ro),mD=Xs(Na),bu=ms?ms.prototype:t,Oa=bu?bu.valueOf:t,E_=bu?bu.toString:t;function L(l){if(cn(l)&&!it(l)&&!(l instanceof vt)){if(l instanceof Hi)return l;if(Mt.call(l,"__wrapped__"))return Lv(l)}return new Hi(l)}var Fo=function(){function l(){}return function(d){if(!sn(d))return{};if(C_)return C_(d);l.prototype=d;var g=new l;return l.prototype=t,g}}();function Cu(){}function Hi(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}L.templateSettings={escape:tr,evaluate:Xe,interpolate:Co,variable:"",imports:{_:L}},L.prototype=Cu.prototype,L.prototype.constructor=L,Hi.prototype=Fo(Cu.prototype),Hi.prototype.constructor=Hi;function vt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function _D(){var l=new vt(this.__wrapped__);return l.__actions__=fi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=fi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=fi(this.__views__),l}function vD(){if(this.__filtered__){var l=new vt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function bD(){var l=this.__wrapped__.value(),d=this.__dir__,g=it(l),_=d<0,y=g?l.length:0,D=NT(0,y,this.__views__),P=D.start,V=D.end,Z=V-P,ce=_?V:P-1,de=this.__iteratees__,pe=de.length,xe=0,Ae=Pn(Z,this.__takeCount__);if(!g||!_&&y==Z&&Ae==Z)return Y_(l,this.__actions__);var je=[];e:for(;Z--&&xe<Ae;){ce+=d;for(var ct=-1,Ke=l[ce];++ct<pe;){var gt=de[ct],Ct=gt.iteratee,Ni=gt.type,ti=Ct(Ke);if(Ni==W)Ke=ti;else if(!ti){if(Ni==B)continue e;break e}}je[xe++]=Ke}return je}vt.prototype=Fo(Cu.prototype),vt.prototype.constructor=vt;function Ks(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function CD(){this.__data__=Aa?Aa(null):{},this.size=0}function yD(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function wD(l){var d=this.__data__;if(Aa){var g=d[l];return g===u?t:g}return Mt.call(d,l)?d[l]:t}function SD(l){var d=this.__data__;return Aa?d[l]!==t:Mt.call(d,l)}function xD(l,d){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=Aa&&d===t?u:d,this}Ks.prototype.clear=CD,Ks.prototype.delete=yD,Ks.prototype.get=wD,Ks.prototype.has=SD,Ks.prototype.set=xD;function Hr(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function ED(){this.__data__=[],this.size=0}function LD(l){var d=this.__data__,g=yu(d,l);if(g<0)return!1;var _=d.length-1;return g==_?d.pop():gu.call(d,g,1),--this.size,!0}function DD(l){var d=this.__data__,g=yu(d,l);return g<0?t:d[g][1]}function TD(l){return yu(this.__data__,l)>-1}function ID(l,d){var g=this.__data__,_=yu(g,l);return _<0?(++this.size,g.push([l,d])):g[_][1]=d,this}Hr.prototype.clear=ED,Hr.prototype.delete=LD,Hr.prototype.get=DD,Hr.prototype.has=TD,Hr.prototype.set=ID;function $r(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function kD(){this.size=0,this.__data__={hash:new Ks,map:new(ka||Hr),string:new Ks}}function ND(l){var d=Ou(this,l).delete(l);return this.size-=d?1:0,d}function AD(l){return Ou(this,l).get(l)}function OD(l){return Ou(this,l).has(l)}function MD(l,d){var g=Ou(this,l),_=g.size;return g.set(l,d),this.size+=g.size==_?0:1,this}$r.prototype.clear=kD,$r.prototype.delete=ND,$r.prototype.get=AD,$r.prototype.has=OD,$r.prototype.set=MD;function qs(l){var d=-1,g=l==null?0:l.length;for(this.__data__=new $r;++d<g;)this.add(l[d])}function RD(l){return this.__data__.set(l,u),this}function PD(l){return this.__data__.has(l)}qs.prototype.add=qs.prototype.push=RD,qs.prototype.has=PD;function rr(l){var d=this.__data__=new Hr(l);this.size=d.size}function FD(){this.__data__=new Hr,this.size=0}function BD(l){var d=this.__data__,g=d.delete(l);return this.size=d.size,g}function WD(l){return this.__data__.get(l)}function VD(l){return this.__data__.has(l)}function HD(l,d){var g=this.__data__;if(g instanceof Hr){var _=g.__data__;if(!ka||_.length<r-1)return _.push([l,d]),this.size=++g.size,this;g=this.__data__=new $r(_)}return g.set(l,d),this.size=g.size,this}rr.prototype.clear=FD,rr.prototype.delete=BD,rr.prototype.get=WD,rr.prototype.has=VD,rr.prototype.set=HD;function L_(l,d){var g=it(l),_=!g&&Qs(l),y=!g&&!_&&ys(l),D=!g&&!_&&!y&&Ho(l),P=g||_||y||D,V=P?Gd(l.length,XL):[],Z=V.length;for(var ce in l)(d||Mt.call(l,ce))&&!(P&&(ce=="length"||y&&(ce=="offset"||ce=="parent")||D&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||Kr(ce,Z)))&&V.push(ce);return V}function D_(l){var d=l.length;return d?l[dh(0,d-1)]:t}function $D(l,d){return Mu(fi(l),Gs(d,0,l.length))}function zD(l){return Mu(fi(l))}function th(l,d,g){(g!==t&&!sr(l[d],g)||g===t&&!(d in l))&&zr(l,d,g)}function Ma(l,d,g){var _=l[d];(!(Mt.call(l,d)&&sr(_,g))||g===t&&!(d in l))&&zr(l,d,g)}function yu(l,d){for(var g=l.length;g--;)if(sr(l[g][0],d))return g;return-1}function UD(l,d,g,_){return _s(l,function(y,D,P){d(_,y,g(y),P)}),_}function T_(l,d){return l&&Er(d,Dn(d),l)}function jD(l,d){return l&&Er(d,pi(d),l)}function zr(l,d,g){d=="__proto__"&&pu?pu(l,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[d]=g}function nh(l,d){for(var g=-1,_=d.length,y=ee(_),D=l==null;++g<_;)y[g]=D?t:Ph(l,d[g]);return y}function Gs(l,d,g){return l===l&&(g!==t&&(l=l<=g?l:g),d!==t&&(l=l>=d?l:d)),l}function $i(l,d,g,_,y,D){var P,V=d&f,Z=d&p,ce=d&m;if(g&&(P=y?g(l,_,y,D):g(l)),P!==t)return P;if(!sn(l))return l;var de=it(l);if(de){if(P=OT(l),!V)return fi(l,P)}else{var pe=Fn(l),xe=pe==Je||pe==ln;if(ys(l))return Q_(l,V);if(pe==Un||pe==Te||xe&&!y){if(P=Z||xe?{}:_v(l),!V)return Z?wT(l,jD(P,l)):yT(l,T_(P,l))}else{if(!jt[pe])return y?l:{};P=MT(l,pe,V)}}D||(D=new rr);var Ae=D.get(l);if(Ae)return Ae;D.set(l,P),Kv(l)?l.forEach(function(Ke){P.add($i(Ke,d,g,Ke,l,D))}):Uv(l)&&l.forEach(function(Ke,gt){P.set(gt,$i(Ke,d,g,gt,l,D))});var je=ce?Z?wh:yh:Z?pi:Dn,ct=de?t:je(l);return Wi(ct||l,function(Ke,gt){ct&&(gt=Ke,Ke=l[gt]),Ma(P,gt,$i(Ke,d,g,gt,l,D))}),P}function KD(l){var d=Dn(l);return function(g){return I_(g,l,d)}}function I_(l,d,g){var _=g.length;if(l==null)return!_;for(l=$t(l);_--;){var y=g[_],D=d[y],P=l[y];if(P===t&&!(y in l)||!D(P))return!1}return!0}function k_(l,d,g){if(typeof l!="function")throw new Vi(o);return Ha(function(){l.apply(t,g)},d)}function Ra(l,d,g,_){var y=-1,D=ru,P=!0,V=l.length,Z=[],ce=d.length;if(!V)return Z;g&&(d=nn(d,Ti(g))),_?(D=$d,P=!1):d.length>=r&&(D=Ta,P=!1,d=new qs(d));e:for(;++y<V;){var de=l[y],pe=g==null?de:g(de);if(de=_||de!==0?de:0,P&&pe===pe){for(var xe=ce;xe--;)if(d[xe]===pe)continue e;Z.push(de)}else D(d,pe,_)||Z.push(de)}return Z}var _s=iv(xr),N_=iv(rh,!0);function qD(l,d){var g=!0;return _s(l,function(_,y,D){return g=!!d(_,y,D),g}),g}function wu(l,d,g){for(var _=-1,y=l.length;++_<y;){var D=l[_],P=d(D);if(P!=null&&(V===t?P===P&&!ki(P):g(P,V)))var V=P,Z=D}return Z}function GD(l,d,g,_){var y=l.length;for(g=at(g),g<0&&(g=-g>y?0:y+g),_=_===t||_>y?y:at(_),_<0&&(_+=y),_=g>_?0:Gv(_);g<_;)l[g++]=d;return l}function A_(l,d){var g=[];return _s(l,function(_,y,D){d(_,y,D)&&g.push(_)}),g}function kn(l,d,g,_,y){var D=-1,P=l.length;for(g||(g=PT),y||(y=[]);++D<P;){var V=l[D];d>0&&g(V)?d>1?kn(V,d-1,g,_,y):gs(y,V):_||(y[y.length]=V)}return y}var ih=rv(),O_=rv(!0);function xr(l,d){return l&&ih(l,d,Dn)}function rh(l,d){return l&&O_(l,d,Dn)}function Su(l,d){return fs(d,function(g){return qr(l[g])})}function Ys(l,d){d=bs(d,l);for(var g=0,_=d.length;l!=null&&g<_;)l=l[Lr(d[g++])];return g&&g==_?l:t}function M_(l,d,g){var _=d(l);return it(l)?_:gs(_,g(l))}function Jn(l){return l==null?l===t?ke:Ln:js&&js in $t(l)?kT(l):zT(l)}function sh(l,d){return l>d}function YD(l,d){return l!=null&&Mt.call(l,d)}function ZD(l,d){return l!=null&&d in $t(l)}function XD(l,d,g){return l>=Pn(d,g)&&l<Sn(d,g)}function oh(l,d,g){for(var _=g?$d:ru,y=l[0].length,D=l.length,P=D,V=ee(D),Z=1/0,ce=[];P--;){var de=l[P];P&&d&&(de=nn(de,Ti(d))),Z=Pn(de.length,Z),V[P]=!g&&(d||y>=120&&de.length>=120)?new qs(P&&de):t}de=l[0];var pe=-1,xe=V[0];e:for(;++pe<y&&ce.length<Z;){var Ae=de[pe],je=d?d(Ae):Ae;if(Ae=g||Ae!==0?Ae:0,!(xe?Ta(xe,je):_(ce,je,g))){for(P=D;--P;){var ct=V[P];if(!(ct?Ta(ct,je):_(l[P],je,g)))continue e}xe&&xe.push(je),ce.push(Ae)}}return ce}function QD(l,d,g,_){return xr(l,function(y,D,P){d(_,g(y),D,P)}),_}function Pa(l,d,g){d=bs(d,l),l=yv(l,d);var _=l==null?l:l[Lr(Ui(d))];return _==null?t:Di(_,l,g)}function R_(l){return cn(l)&&Jn(l)==Te}function JD(l){return cn(l)&&Jn(l)==ut}function eT(l){return cn(l)&&Jn(l)==Re}function Fa(l,d,g,_,y){return l===d?!0:l==null||d==null||!cn(l)&&!cn(d)?l!==l&&d!==d:tT(l,d,g,_,Fa,y)}function tT(l,d,g,_,y,D){var P=it(l),V=it(d),Z=P?He:Fn(l),ce=V?He:Fn(d);Z=Z==Te?Un:Z,ce=ce==Te?Un:ce;var de=Z==Un,pe=ce==Un,xe=Z==ce;if(xe&&ys(l)){if(!ys(d))return!1;P=!0,de=!1}if(xe&&!de)return D||(D=new rr),P||Ho(l)?gv(l,d,g,_,y,D):TT(l,d,Z,g,_,y,D);if(!(g&v)){var Ae=de&&Mt.call(l,"__wrapped__"),je=pe&&Mt.call(d,"__wrapped__");if(Ae||je){var ct=Ae?l.value():l,Ke=je?d.value():d;return D||(D=new rr),y(ct,Ke,g,_,D)}}return xe?(D||(D=new rr),IT(l,d,g,_,y,D)):!1}function nT(l){return cn(l)&&Fn(l)==Yt}function ah(l,d,g,_){var y=g.length,D=y,P=!_;if(l==null)return!D;for(l=$t(l);y--;){var V=g[y];if(P&&V[2]?V[1]!==l[V[0]]:!(V[0]in l))return!1}for(;++y<D;){V=g[y];var Z=V[0],ce=l[Z],de=V[1];if(P&&V[2]){if(ce===t&&!(Z in l))return!1}else{var pe=new rr;if(_)var xe=_(ce,de,Z,l,d,pe);if(!(xe===t?Fa(de,ce,v|b,_,pe):xe))return!1}}return!0}function P_(l){if(!sn(l)||BT(l))return!1;var d=qr(l)?nD:ue;return d.test(Xs(l))}function iT(l){return cn(l)&&Jn(l)==Gi}function rT(l){return cn(l)&&Fn(l)==Vt}function sT(l){return cn(l)&&Vu(l.length)&&!!Gt[Jn(l)]}function F_(l){return typeof l=="function"?l:l==null?mi:typeof l=="object"?it(l)?V_(l[0],l[1]):W_(l):s0(l)}function lh(l){if(!Va(l))return lD(l);var d=[];for(var g in $t(l))Mt.call(l,g)&&g!="constructor"&&d.push(g);return d}function oT(l){if(!sn(l))return $T(l);var d=Va(l),g=[];for(var _ in l)_=="constructor"&&(d||!Mt.call(l,_))||g.push(_);return g}function uh(l,d){return l<d}function B_(l,d){var g=-1,_=gi(l)?ee(l.length):[];return _s(l,function(y,D,P){_[++g]=d(y,D,P)}),_}function W_(l){var d=xh(l);return d.length==1&&d[0][2]?bv(d[0][0],d[0][1]):function(g){return g===l||ah(g,l,d)}}function V_(l,d){return Lh(l)&&vv(d)?bv(Lr(l),d):function(g){var _=Ph(g,l);return _===t&&_===d?Fh(g,l):Fa(d,_,v|b)}}function xu(l,d,g,_,y){l!==d&&ih(d,function(D,P){if(y||(y=new rr),sn(D))aT(l,d,P,g,xu,_,y);else{var V=_?_(Th(l,P),D,P+"",l,d,y):t;V===t&&(V=D),th(l,P,V)}},pi)}function aT(l,d,g,_,y,D,P){var V=Th(l,g),Z=Th(d,g),ce=P.get(Z);if(ce){th(l,g,ce);return}var de=D?D(V,Z,g+"",l,d,P):t,pe=de===t;if(pe){var xe=it(Z),Ae=!xe&&ys(Z),je=!xe&&!Ae&&Ho(Z);de=Z,xe||Ae||je?it(V)?de=V:mn(V)?de=fi(V):Ae?(pe=!1,de=Q_(Z,!0)):je?(pe=!1,de=J_(Z,!0)):de=[]:$a(Z)||Qs(Z)?(de=V,Qs(V)?de=Yv(V):(!sn(V)||qr(V))&&(de=_v(Z))):pe=!1}pe&&(P.set(Z,de),y(de,Z,_,D,P),P.delete(Z)),th(l,g,de)}function H_(l,d){var g=l.length;if(g)return d+=d<0?g:0,Kr(d,g)?l[d]:t}function $_(l,d,g){d.length?d=nn(d,function(D){return it(D)?function(P){return Ys(P,D.length===1?D[0]:D)}:D}):d=[mi];var _=-1;d=nn(d,Ti(Ve()));var y=B_(l,function(D,P,V){var Z=nn(d,function(ce){return ce(D)});return{criteria:Z,index:++_,value:D}});return ML(y,function(D,P){return CT(D,P,g)})}function lT(l,d){return z_(l,d,function(g,_){return Fh(l,_)})}function z_(l,d,g){for(var _=-1,y=d.length,D={};++_<y;){var P=d[_],V=Ys(l,P);g(V,P)&&Ba(D,bs(P,l),V)}return D}function uT(l){return function(d){return Ys(d,l)}}function ch(l,d,g,_){var y=_?OL:ko,D=-1,P=d.length,V=l;for(l===d&&(d=fi(d)),g&&(V=nn(l,Ti(g)));++D<P;)for(var Z=0,ce=d[D],de=g?g(ce):ce;(Z=y(V,de,Z,_))>-1;)V!==l&&gu.call(V,Z,1),gu.call(l,Z,1);return l}function U_(l,d){for(var g=l?d.length:0,_=g-1;g--;){var y=d[g];if(g==_||y!==D){var D=y;Kr(y)?gu.call(l,y,1):gh(l,y)}}return l}function dh(l,d){return l+_u(x_()*(d-l+1))}function cT(l,d,g,_){for(var y=-1,D=Sn(mu((d-l)/(g||1)),0),P=ee(D);D--;)P[_?D:++y]=l,l+=g;return P}function hh(l,d){var g="";if(!l||d<1||d>K)return g;do d%2&&(g+=l),d=_u(d/2),d&&(l+=l);while(d);return g}function ht(l,d){return Ih(Cv(l,d,mi),l+"")}function dT(l){return D_($o(l))}function hT(l,d){var g=$o(l);return Mu(g,Gs(d,0,g.length))}function Ba(l,d,g,_){if(!sn(l))return l;d=bs(d,l);for(var y=-1,D=d.length,P=D-1,V=l;V!=null&&++y<D;){var Z=Lr(d[y]),ce=g;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return l;if(y!=P){var de=V[Z];ce=_?_(de,Z,V):t,ce===t&&(ce=sn(de)?de:Kr(d[y+1])?[]:{})}Ma(V,Z,ce),V=V[Z]}return l}var j_=vu?function(l,d){return vu.set(l,d),l}:mi,fT=pu?function(l,d){return pu(l,"toString",{configurable:!0,enumerable:!1,value:Wh(d),writable:!0})}:mi;function gT(l){return Mu($o(l))}function zi(l,d,g){var _=-1,y=l.length;d<0&&(d=-d>y?0:y+d),g=g>y?y:g,g<0&&(g+=y),y=d>g?0:g-d>>>0,d>>>=0;for(var D=ee(y);++_<y;)D[_]=l[_+d];return D}function pT(l,d){var g;return _s(l,function(_,y,D){return g=d(_,y,D),!g}),!!g}function Eu(l,d,g){var _=0,y=l==null?_:l.length;if(typeof d=="number"&&d===d&&y<=ne){for(;_<y;){var D=_+y>>>1,P=l[D];P!==null&&!ki(P)&&(g?P<=d:P<d)?_=D+1:y=D}return y}return fh(l,d,mi,g)}function fh(l,d,g,_){var y=0,D=l==null?0:l.length;if(D===0)return 0;d=g(d);for(var P=d!==d,V=d===null,Z=ki(d),ce=d===t;y<D;){var de=_u((y+D)/2),pe=g(l[de]),xe=pe!==t,Ae=pe===null,je=pe===pe,ct=ki(pe);if(P)var Ke=_||je;else ce?Ke=je&&(_||xe):V?Ke=je&&xe&&(_||!Ae):Z?Ke=je&&xe&&!Ae&&(_||!ct):Ae||ct?Ke=!1:Ke=_?pe<=d:pe<d;Ke?y=de+1:D=de}return Pn(D,fe)}function K_(l,d){for(var g=-1,_=l.length,y=0,D=[];++g<_;){var P=l[g],V=d?d(P):P;if(!g||!sr(V,Z)){var Z=V;D[y++]=P===0?0:P}}return D}function q_(l){return typeof l=="number"?l:ki(l)?k:+l}function Ii(l){if(typeof l=="string")return l;if(it(l))return nn(l,Ii)+"";if(ki(l))return E_?E_.call(l):"";var d=l+"";return d=="0"&&1/l==-U?"-0":d}function vs(l,d,g){var _=-1,y=ru,D=l.length,P=!0,V=[],Z=V;if(g)P=!1,y=$d;else if(D>=r){var ce=d?null:LT(l);if(ce)return ou(ce);P=!1,y=Ta,Z=new qs}else Z=d?[]:V;e:for(;++_<D;){var de=l[_],pe=d?d(de):de;if(de=g||de!==0?de:0,P&&pe===pe){for(var xe=Z.length;xe--;)if(Z[xe]===pe)continue e;d&&Z.push(pe),V.push(de)}else y(Z,pe,g)||(Z!==V&&Z.push(pe),V.push(de))}return V}function gh(l,d){return d=bs(d,l),l=yv(l,d),l==null||delete l[Lr(Ui(d))]}function G_(l,d,g,_){return Ba(l,d,g(Ys(l,d)),_)}function Lu(l,d,g,_){for(var y=l.length,D=_?y:-1;(_?D--:++D<y)&&d(l[D],D,l););return g?zi(l,_?0:D,_?D+1:y):zi(l,_?D+1:0,_?y:D)}function Y_(l,d){var g=l;return g instanceof vt&&(g=g.value()),zd(d,function(_,y){return y.func.apply(y.thisArg,gs([_],y.args))},g)}function ph(l,d,g){var _=l.length;if(_<2)return _?vs(l[0]):[];for(var y=-1,D=ee(_);++y<_;)for(var P=l[y],V=-1;++V<_;)V!=y&&(D[y]=Ra(D[y]||P,l[V],d,g));return vs(kn(D,1),d,g)}function Z_(l,d,g){for(var _=-1,y=l.length,D=d.length,P={};++_<y;){var V=_<D?d[_]:t;g(P,l[_],V)}return P}function mh(l){return mn(l)?l:[]}function _h(l){return typeof l=="function"?l:mi}function bs(l,d){return it(l)?l:Lh(l,d)?[l]:Ev(Tt(l))}var mT=ht;function Cs(l,d,g){var _=l.length;return g=g===t?_:g,!d&&g>=_?l:zi(l,d,g)}var X_=iD||function(l){return In.clearTimeout(l)};function Q_(l,d){if(d)return l.slice();var g=l.length,_=b_?b_(g):new l.constructor(g);return l.copy(_),_}function vh(l){var d=new l.constructor(l.byteLength);return new hu(d).set(new hu(l)),d}function _T(l,d){var g=d?vh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function vT(l){var d=new l.constructor(l.source,te.exec(l));return d.lastIndex=l.lastIndex,d}function bT(l){return Oa?$t(Oa.call(l)):{}}function J_(l,d){var g=d?vh(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function ev(l,d){if(l!==d){var g=l!==t,_=l===null,y=l===l,D=ki(l),P=d!==t,V=d===null,Z=d===d,ce=ki(d);if(!V&&!ce&&!D&&l>d||D&&P&&Z&&!V&&!ce||_&&P&&Z||!g&&Z||!y)return 1;if(!_&&!D&&!ce&&l<d||ce&&g&&y&&!_&&!D||V&&g&&y||!P&&y||!Z)return-1}return 0}function CT(l,d,g){for(var _=-1,y=l.criteria,D=d.criteria,P=y.length,V=g.length;++_<P;){var Z=ev(y[_],D[_]);if(Z){if(_>=V)return Z;var ce=g[_];return Z*(ce=="desc"?-1:1)}}return l.index-d.index}function tv(l,d,g,_){for(var y=-1,D=l.length,P=g.length,V=-1,Z=d.length,ce=Sn(D-P,0),de=ee(Z+ce),pe=!_;++V<Z;)de[V]=d[V];for(;++y<P;)(pe||y<D)&&(de[g[y]]=l[y]);for(;ce--;)de[V++]=l[y++];return de}function nv(l,d,g,_){for(var y=-1,D=l.length,P=-1,V=g.length,Z=-1,ce=d.length,de=Sn(D-V,0),pe=ee(de+ce),xe=!_;++y<de;)pe[y]=l[y];for(var Ae=y;++Z<ce;)pe[Ae+Z]=d[Z];for(;++P<V;)(xe||y<D)&&(pe[Ae+g[P]]=l[y++]);return pe}function fi(l,d){var g=-1,_=l.length;for(d||(d=ee(_));++g<_;)d[g]=l[g];return d}function Er(l,d,g,_){var y=!g;g||(g={});for(var D=-1,P=d.length;++D<P;){var V=d[D],Z=_?_(g[V],l[V],V,g,l):t;Z===t&&(Z=l[V]),y?zr(g,V,Z):Ma(g,V,Z)}return g}function yT(l,d){return Er(l,Eh(l),d)}function wT(l,d){return Er(l,pv(l),d)}function Du(l,d){return function(g,_){var y=it(g)?DL:UD,D=d?d():{};return y(g,l,Ve(_,2),D)}}function Bo(l){return ht(function(d,g){var _=-1,y=g.length,D=y>1?g[y-1]:t,P=y>2?g[2]:t;for(D=l.length>3&&typeof D=="function"?(y--,D):t,P&&ei(g[0],g[1],P)&&(D=y<3?t:D,y=1),d=$t(d);++_<y;){var V=g[_];V&&l(d,V,_,D)}return d})}function iv(l,d){return function(g,_){if(g==null)return g;if(!gi(g))return l(g,_);for(var y=g.length,D=d?y:-1,P=$t(g);(d?D--:++D<y)&&_(P[D],D,P)!==!1;);return g}}function rv(l){return function(d,g,_){for(var y=-1,D=$t(d),P=_(d),V=P.length;V--;){var Z=P[l?V:++y];if(g(D[Z],Z,D)===!1)break}return d}}function ST(l,d,g){var _=d&S,y=Wa(l);function D(){var P=this&&this!==In&&this instanceof D?y:l;return P.apply(_?g:this,arguments)}return D}function sv(l){return function(d){d=Tt(d);var g=No(d)?ir(d):t,_=g?g[0]:d.charAt(0),y=g?Cs(g,1).join(""):d.slice(1);return _[l]()+y}}function Wo(l){return function(d){return zd(i0(n0(d).replace(fL,"")),l,"")}}function Wa(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Fo(l.prototype),_=l.apply(g,d);return sn(_)?_:g}}function xT(l,d,g){var _=Wa(l);function y(){for(var D=arguments.length,P=ee(D),V=D,Z=Vo(y);V--;)P[V]=arguments[V];var ce=D<3&&P[0]!==Z&&P[D-1]!==Z?[]:ps(P,Z);if(D-=ce.length,D<g)return cv(l,d,Tu,y.placeholder,t,P,ce,t,t,g-D);var de=this&&this!==In&&this instanceof y?_:l;return Di(de,this,P)}return y}function ov(l){return function(d,g,_){var y=$t(d);if(!gi(d)){var D=Ve(g,3);d=Dn(d),g=function(V){return D(y[V],V,y)}}var P=l(d,g,_);return P>-1?y[D?d[P]:P]:t}}function av(l){return jr(function(d){var g=d.length,_=g,y=Hi.prototype.thru;for(l&&d.reverse();_--;){var D=d[_];if(typeof D!="function")throw new Vi(o);if(y&&!P&&Au(D)=="wrapper")var P=new Hi([],!0)}for(_=P?_:g;++_<g;){D=d[_];var V=Au(D),Z=V=="wrapper"?Sh(D):t;Z&&Dh(Z[0])&&Z[1]==(R|E|A|M)&&!Z[4].length&&Z[9]==1?P=P[Au(Z[0])].apply(P,Z[3]):P=D.length==1&&Dh(D)?P[V]():P.thru(D)}return function(){var ce=arguments,de=ce[0];if(P&&ce.length==1&&it(de))return P.plant(de).value();for(var pe=0,xe=g?d[pe].apply(this,ce):de;++pe<g;)xe=d[pe].call(this,xe);return xe}})}function Tu(l,d,g,_,y,D,P,V,Z,ce){var de=d&R,pe=d&S,xe=d&x,Ae=d&(E|N),je=d&G,ct=xe?t:Wa(l);function Ke(){for(var gt=arguments.length,Ct=ee(gt),Ni=gt;Ni--;)Ct[Ni]=arguments[Ni];if(Ae)var ti=Vo(Ke),Ai=PL(Ct,ti);if(_&&(Ct=tv(Ct,_,y,Ae)),D&&(Ct=nv(Ct,D,P,Ae)),gt-=Ai,Ae&&gt<ce){var _n=ps(Ct,ti);return cv(l,d,Tu,Ke.placeholder,g,Ct,_n,V,Z,ce-gt)}var or=pe?g:this,Yr=xe?or[l]:l;return gt=Ct.length,V?Ct=UT(Ct,V):je&&gt>1&&Ct.reverse(),de&&Z<gt&&(Ct.length=Z),this&&this!==In&&this instanceof Ke&&(Yr=ct||Wa(Yr)),Yr.apply(or,Ct)}return Ke}function lv(l,d){return function(g,_){return QD(g,l,d(_),{})}}function Iu(l,d){return function(g,_){var y;if(g===t&&_===t)return d;if(g!==t&&(y=g),_!==t){if(y===t)return _;typeof g=="string"||typeof _=="string"?(g=Ii(g),_=Ii(_)):(g=q_(g),_=q_(_)),y=l(g,_)}return y}}function bh(l){return jr(function(d){return d=nn(d,Ti(Ve())),ht(function(g){var _=this;return l(d,function(y){return Di(y,_,g)})})})}function ku(l,d){d=d===t?" ":Ii(d);var g=d.length;if(g<2)return g?hh(d,l):d;var _=hh(d,mu(l/Ao(d)));return No(d)?Cs(ir(_),0,l).join(""):_.slice(0,l)}function ET(l,d,g,_){var y=d&S,D=Wa(l);function P(){for(var V=-1,Z=arguments.length,ce=-1,de=_.length,pe=ee(de+Z),xe=this&&this!==In&&this instanceof P?D:l;++ce<de;)pe[ce]=_[ce];for(;Z--;)pe[ce++]=arguments[++V];return Di(xe,y?g:this,pe)}return P}function uv(l){return function(d,g,_){return _&&typeof _!="number"&&ei(d,g,_)&&(g=_=t),d=Gr(d),g===t?(g=d,d=0):g=Gr(g),_=_===t?d<g?1:-1:Gr(_),cT(d,g,_,l)}}function Nu(l){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=ji(d),g=ji(g)),l(d,g)}}function cv(l,d,g,_,y,D,P,V,Z,ce){var de=d&E,pe=de?P:t,xe=de?t:P,Ae=de?D:t,je=de?t:D;d|=de?A:H,d&=~(de?H:A),d&w||(d&=~(S|x));var ct=[l,d,y,Ae,pe,je,xe,V,Z,ce],Ke=g.apply(t,ct);return Dh(l)&&wv(Ke,ct),Ke.placeholder=_,Sv(Ke,l,d)}function Ch(l){var d=wn[l];return function(g,_){if(g=ji(g),_=_==null?0:Pn(at(_),292),_&&S_(g)){var y=(Tt(g)+"e").split("e"),D=d(y[0]+"e"+(+y[1]+_));return y=(Tt(D)+"e").split("e"),+(y[0]+"e"+(+y[1]-_))}return d(g)}}var LT=Ro&&1/ou(new Ro([,-0]))[1]==U?function(l){return new Ro(l)}:$h;function dv(l){return function(d){var g=Fn(d);return g==Yt?Zd(d):g==Vt?zL(d):RL(d,l(d))}}function Ur(l,d,g,_,y,D,P,V){var Z=d&x;if(!Z&&typeof l!="function")throw new Vi(o);var ce=_?_.length:0;if(ce||(d&=~(A|H),_=y=t),P=P===t?P:Sn(at(P),0),V=V===t?V:at(V),ce-=y?y.length:0,d&H){var de=_,pe=y;_=y=t}var xe=Z?t:Sh(l),Ae=[l,d,g,_,y,de,pe,D,P,V];if(xe&&HT(Ae,xe),l=Ae[0],d=Ae[1],g=Ae[2],_=Ae[3],y=Ae[4],V=Ae[9]=Ae[9]===t?Z?0:l.length:Sn(Ae[9]-ce,0),!V&&d&(E|N)&&(d&=~(E|N)),!d||d==S)var je=ST(l,d,g);else d==E||d==N?je=xT(l,d,V):(d==A||d==(S|A))&&!y.length?je=ET(l,d,g,_):je=Tu.apply(t,Ae);var ct=xe?j_:wv;return Sv(ct(je,Ae),l,d)}function hv(l,d,g,_){return l===t||sr(l,Mo[g])&&!Mt.call(_,g)?d:l}function fv(l,d,g,_,y,D){return sn(l)&&sn(d)&&(D.set(d,l),xu(l,d,t,fv,D),D.delete(d)),l}function DT(l){return $a(l)?t:l}function gv(l,d,g,_,y,D){var P=g&v,V=l.length,Z=d.length;if(V!=Z&&!(P&&Z>V))return!1;var ce=D.get(l),de=D.get(d);if(ce&&de)return ce==d&&de==l;var pe=-1,xe=!0,Ae=g&b?new qs:t;for(D.set(l,d),D.set(d,l);++pe<V;){var je=l[pe],ct=d[pe];if(_)var Ke=P?_(ct,je,pe,d,l,D):_(je,ct,pe,l,d,D);if(Ke!==t){if(Ke)continue;xe=!1;break}if(Ae){if(!Ud(d,function(gt,Ct){if(!Ta(Ae,Ct)&&(je===gt||y(je,gt,g,_,D)))return Ae.push(Ct)})){xe=!1;break}}else if(!(je===ct||y(je,ct,g,_,D))){xe=!1;break}}return D.delete(l),D.delete(d),xe}function TT(l,d,g,_,y,D,P){switch(g){case yt:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case ut:return!(l.byteLength!=d.byteLength||!D(new hu(l),new hu(d)));case Rt:case Re:case pn:return sr(+l,+d);case wt:return l.name==d.name&&l.message==d.message;case Gi:case un:return l==d+"";case Yt:var V=Zd;case Vt:var Z=_&v;if(V||(V=ou),l.size!=d.size&&!Z)return!1;var ce=P.get(l);if(ce)return ce==d;_|=b,P.set(l,d);var de=gv(V(l),V(d),_,y,D,P);return P.delete(l),de;case Qn:if(Oa)return Oa.call(l)==Oa.call(d)}return!1}function IT(l,d,g,_,y,D){var P=g&v,V=yh(l),Z=V.length,ce=yh(d),de=ce.length;if(Z!=de&&!P)return!1;for(var pe=Z;pe--;){var xe=V[pe];if(!(P?xe in d:Mt.call(d,xe)))return!1}var Ae=D.get(l),je=D.get(d);if(Ae&&je)return Ae==d&&je==l;var ct=!0;D.set(l,d),D.set(d,l);for(var Ke=P;++pe<Z;){xe=V[pe];var gt=l[xe],Ct=d[xe];if(_)var Ni=P?_(Ct,gt,xe,d,l,D):_(gt,Ct,xe,l,d,D);if(!(Ni===t?gt===Ct||y(gt,Ct,g,_,D):Ni)){ct=!1;break}Ke||(Ke=xe=="constructor")}if(ct&&!Ke){var ti=l.constructor,Ai=d.constructor;ti!=Ai&&"constructor"in l&&"constructor"in d&&!(typeof ti=="function"&&ti instanceof ti&&typeof Ai=="function"&&Ai instanceof Ai)&&(ct=!1)}return D.delete(l),D.delete(d),ct}function jr(l){return Ih(Cv(l,t,Iv),l+"")}function yh(l){return M_(l,Dn,Eh)}function wh(l){return M_(l,pi,pv)}var Sh=vu?function(l){return vu.get(l)}:$h;function Au(l){for(var d=l.name+"",g=Po[d],_=Mt.call(Po,d)?g.length:0;_--;){var y=g[_],D=y.func;if(D==null||D==l)return y.name}return d}function Vo(l){var d=Mt.call(L,"placeholder")?L:l;return d.placeholder}function Ve(){var l=L.iteratee||Vh;return l=l===Vh?F_:l,arguments.length?l(arguments[0],arguments[1]):l}function Ou(l,d){var g=l.__data__;return FT(d)?g[typeof d=="string"?"string":"hash"]:g.map}function xh(l){for(var d=Dn(l),g=d.length;g--;){var _=d[g],y=l[_];d[g]=[_,y,vv(y)]}return d}function Zs(l,d){var g=VL(l,d);return P_(g)?g:t}function kT(l){var d=Mt.call(l,js),g=l[js];try{l[js]=t;var _=!0}catch{}var y=cu.call(l);return _&&(d?l[js]=g:delete l[js]),y}var Eh=Qd?function(l){return l==null?[]:(l=$t(l),fs(Qd(l),function(d){return y_.call(l,d)}))}:zh,pv=Qd?function(l){for(var d=[];l;)gs(d,Eh(l)),l=fu(l);return d}:zh,Fn=Jn;(Jd&&Fn(new Jd(new ArrayBuffer(1)))!=yt||ka&&Fn(new ka)!=Yt||eh&&Fn(eh.resolve())!=ci||Ro&&Fn(new Ro)!=Vt||Na&&Fn(new Na)!=Pe)&&(Fn=function(l){var d=Jn(l),g=d==Un?l.constructor:t,_=g?Xs(g):"";if(_)switch(_){case hD:return yt;case fD:return Yt;case gD:return ci;case pD:return Vt;case mD:return Pe}return d});function NT(l,d,g){for(var _=-1,y=g.length;++_<y;){var D=g[_],P=D.size;switch(D.type){case"drop":l+=P;break;case"dropRight":d-=P;break;case"take":d=Pn(d,l+P);break;case"takeRight":l=Sn(l,d-P);break}}return{start:l,end:d}}function AT(l){var d=l.match(Ue);return d?d[1].split(Fe):[]}function mv(l,d,g){d=bs(d,l);for(var _=-1,y=d.length,D=!1;++_<y;){var P=Lr(d[_]);if(!(D=l!=null&&g(l,P)))break;l=l[P]}return D||++_!=y?D:(y=l==null?0:l.length,!!y&&Vu(y)&&Kr(P,y)&&(it(l)||Qs(l)))}function OT(l){var d=l.length,g=new l.constructor(d);return d&&typeof l[0]=="string"&&Mt.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function _v(l){return typeof l.constructor=="function"&&!Va(l)?Fo(fu(l)):{}}function MT(l,d,g){var _=l.constructor;switch(d){case ut:return vh(l);case Rt:case Re:return new _(+l);case yt:return _T(l,g);case Li:case zt:case At:case Zt:case Xt:case Ht:case yr:case si:case $e:return J_(l,g);case Yt:return new _;case pn:case un:return new _(l);case Gi:return vT(l);case Vt:return new _;case Qn:return bT(l)}}function RT(l,d){var g=d.length;if(!g)return l;var _=g-1;return d[_]=(g>1?"& ":"")+d[_],d=d.join(g>2?", ":" "),l.replace(be,`{
/* [wrapped with `+d+`] */
`)}function PT(l){return it(l)||Qs(l)||!!(w_&&l&&l[w_])}function Kr(l,d){var g=typeof l;return d=d??K,!!d&&(g=="number"||g!="symbol"&&Be.test(l))&&l>-1&&l%1==0&&l<d}function ei(l,d,g){if(!sn(g))return!1;var _=typeof d;return(_=="number"?gi(g)&&Kr(d,g.length):_=="string"&&d in g)?sr(g[d],l):!1}function Lh(l,d){if(it(l))return!1;var g=typeof l;return g=="number"||g=="symbol"||g=="boolean"||l==null||ki(l)?!0:Le.test(l)||!Ne.test(l)||d!=null&&l in $t(d)}function FT(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Dh(l){var d=Au(l),g=L[d];if(typeof g!="function"||!(d in vt.prototype))return!1;if(l===g)return!0;var _=Sh(g);return!!_&&l===_[0]}function BT(l){return!!v_&&v_ in l}var WT=lu?qr:Uh;function Va(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||Mo;return l===g}function vv(l){return l===l&&!sn(l)}function bv(l,d){return function(g){return g==null?!1:g[l]===d&&(d!==t||l in $t(g))}}function VT(l){var d=Bu(l,function(_){return g.size===c&&g.clear(),_}),g=d.cache;return d}function HT(l,d){var g=l[1],_=d[1],y=g|_,D=y<(S|x|R),P=_==R&&g==E||_==R&&g==M&&l[7].length<=d[8]||_==(R|M)&&d[7].length<=d[8]&&g==E;if(!(D||P))return l;_&S&&(l[2]=d[2],y|=g&S?0:w);var V=d[3];if(V){var Z=l[3];l[3]=Z?tv(Z,V,d[4]):V,l[4]=Z?ps(l[3],h):d[4]}return V=d[5],V&&(Z=l[5],l[5]=Z?nv(Z,V,d[6]):V,l[6]=Z?ps(l[5],h):d[6]),V=d[7],V&&(l[7]=V),_&R&&(l[8]=l[8]==null?d[8]:Pn(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=y,l}function $T(l){var d=[];if(l!=null)for(var g in $t(l))d.push(g);return d}function zT(l){return cu.call(l)}function Cv(l,d,g){return d=Sn(d===t?l.length-1:d,0),function(){for(var _=arguments,y=-1,D=Sn(_.length-d,0),P=ee(D);++y<D;)P[y]=_[d+y];y=-1;for(var V=ee(d+1);++y<d;)V[y]=_[y];return V[d]=g(P),Di(l,this,V)}}function yv(l,d){return d.length<2?l:Ys(l,zi(d,0,-1))}function UT(l,d){for(var g=l.length,_=Pn(d.length,g),y=fi(l);_--;){var D=d[_];l[_]=Kr(D,g)?y[D]:t}return l}function Th(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var wv=xv(j_),Ha=sD||function(l,d){return In.setTimeout(l,d)},Ih=xv(fT);function Sv(l,d,g){var _=d+"";return Ih(l,RT(_,jT(AT(_),g)))}function xv(l){var d=0,g=0;return function(){var _=uD(),y=O-(_-g);if(g=_,y>0){if(++d>=I)return arguments[0]}else d=0;return l.apply(t,arguments)}}function Mu(l,d){var g=-1,_=l.length,y=_-1;for(d=d===t?_:d;++g<d;){var D=dh(g,y),P=l[D];l[D]=l[g],l[g]=P}return l.length=d,l}var Ev=VT(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(Oe,function(g,_,y,D){d.push(y?D.replace(T,"$1"):_||g)}),d});function Lr(l){if(typeof l=="string"||ki(l))return l;var d=l+"";return d=="0"&&1/l==-U?"-0":d}function Xs(l){if(l!=null){try{return uu.call(l)}catch{}try{return l+""}catch{}}return""}function jT(l,d){return Wi(Ce,function(g){var _="_."+g[0];d&g[1]&&!ru(l,_)&&l.push(_)}),l.sort()}function Lv(l){if(l instanceof vt)return l.clone();var d=new Hi(l.__wrapped__,l.__chain__);return d.__actions__=fi(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function KT(l,d,g){(g?ei(l,d,g):d===t)?d=1:d=Sn(at(d),0);var _=l==null?0:l.length;if(!_||d<1)return[];for(var y=0,D=0,P=ee(mu(_/d));y<_;)P[D++]=zi(l,y,y+=d);return P}function qT(l){for(var d=-1,g=l==null?0:l.length,_=0,y=[];++d<g;){var D=l[d];D&&(y[_++]=D)}return y}function GT(){var l=arguments.length;if(!l)return[];for(var d=ee(l-1),g=arguments[0],_=l;_--;)d[_-1]=arguments[_];return gs(it(g)?fi(g):[g],kn(d,1))}var YT=ht(function(l,d){return mn(l)?Ra(l,kn(d,1,mn,!0)):[]}),ZT=ht(function(l,d){var g=Ui(d);return mn(g)&&(g=t),mn(l)?Ra(l,kn(d,1,mn,!0),Ve(g,2)):[]}),XT=ht(function(l,d){var g=Ui(d);return mn(g)&&(g=t),mn(l)?Ra(l,kn(d,1,mn,!0),t,g):[]});function QT(l,d,g){var _=l==null?0:l.length;return _?(d=g||d===t?1:at(d),zi(l,d<0?0:d,_)):[]}function JT(l,d,g){var _=l==null?0:l.length;return _?(d=g||d===t?1:at(d),d=_-d,zi(l,0,d<0?0:d)):[]}function e2(l,d){return l&&l.length?Lu(l,Ve(d,3),!0,!0):[]}function t2(l,d){return l&&l.length?Lu(l,Ve(d,3),!0):[]}function n2(l,d,g,_){var y=l==null?0:l.length;return y?(g&&typeof g!="number"&&ei(l,d,g)&&(g=0,_=y),GD(l,d,g,_)):[]}function Dv(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=g==null?0:at(g);return y<0&&(y=Sn(_+y,0)),su(l,Ve(d,3),y)}function Tv(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=_-1;return g!==t&&(y=at(g),y=g<0?Sn(_+y,0):Pn(y,_-1)),su(l,Ve(d,3),y,!0)}function Iv(l){var d=l==null?0:l.length;return d?kn(l,1):[]}function i2(l){var d=l==null?0:l.length;return d?kn(l,U):[]}function r2(l,d){var g=l==null?0:l.length;return g?(d=d===t?1:at(d),kn(l,d)):[]}function s2(l){for(var d=-1,g=l==null?0:l.length,_={};++d<g;){var y=l[d];_[y[0]]=y[1]}return _}function kv(l){return l&&l.length?l[0]:t}function o2(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=g==null?0:at(g);return y<0&&(y=Sn(_+y,0)),ko(l,d,y)}function a2(l){var d=l==null?0:l.length;return d?zi(l,0,-1):[]}var l2=ht(function(l){var d=nn(l,mh);return d.length&&d[0]===l[0]?oh(d):[]}),u2=ht(function(l){var d=Ui(l),g=nn(l,mh);return d===Ui(g)?d=t:g.pop(),g.length&&g[0]===l[0]?oh(g,Ve(d,2)):[]}),c2=ht(function(l){var d=Ui(l),g=nn(l,mh);return d=typeof d=="function"?d:t,d&&g.pop(),g.length&&g[0]===l[0]?oh(g,t,d):[]});function d2(l,d){return l==null?"":aD.call(l,d)}function Ui(l){var d=l==null?0:l.length;return d?l[d-1]:t}function h2(l,d,g){var _=l==null?0:l.length;if(!_)return-1;var y=_;return g!==t&&(y=at(g),y=y<0?Sn(_+y,0):Pn(y,_-1)),d===d?jL(l,d,y):su(l,c_,y,!0)}function f2(l,d){return l&&l.length?H_(l,at(d)):t}var g2=ht(Nv);function Nv(l,d){return l&&l.length&&d&&d.length?ch(l,d):l}function p2(l,d,g){return l&&l.length&&d&&d.length?ch(l,d,Ve(g,2)):l}function m2(l,d,g){return l&&l.length&&d&&d.length?ch(l,d,t,g):l}var _2=jr(function(l,d){var g=l==null?0:l.length,_=nh(l,d);return U_(l,nn(d,function(y){return Kr(y,g)?+y:y}).sort(ev)),_});function v2(l,d){var g=[];if(!(l&&l.length))return g;var _=-1,y=[],D=l.length;for(d=Ve(d,3);++_<D;){var P=l[_];d(P,_,l)&&(g.push(P),y.push(_))}return U_(l,y),g}function kh(l){return l==null?l:dD.call(l)}function b2(l,d,g){var _=l==null?0:l.length;return _?(g&&typeof g!="number"&&ei(l,d,g)?(d=0,g=_):(d=d==null?0:at(d),g=g===t?_:at(g)),zi(l,d,g)):[]}function C2(l,d){return Eu(l,d)}function y2(l,d,g){return fh(l,d,Ve(g,2))}function w2(l,d){var g=l==null?0:l.length;if(g){var _=Eu(l,d);if(_<g&&sr(l[_],d))return _}return-1}function S2(l,d){return Eu(l,d,!0)}function x2(l,d,g){return fh(l,d,Ve(g,2),!0)}function E2(l,d){var g=l==null?0:l.length;if(g){var _=Eu(l,d,!0)-1;if(sr(l[_],d))return _}return-1}function L2(l){return l&&l.length?K_(l):[]}function D2(l,d){return l&&l.length?K_(l,Ve(d,2)):[]}function T2(l){var d=l==null?0:l.length;return d?zi(l,1,d):[]}function I2(l,d,g){return l&&l.length?(d=g||d===t?1:at(d),zi(l,0,d<0?0:d)):[]}function k2(l,d,g){var _=l==null?0:l.length;return _?(d=g||d===t?1:at(d),d=_-d,zi(l,d<0?0:d,_)):[]}function N2(l,d){return l&&l.length?Lu(l,Ve(d,3),!1,!0):[]}function A2(l,d){return l&&l.length?Lu(l,Ve(d,3)):[]}var O2=ht(function(l){return vs(kn(l,1,mn,!0))}),M2=ht(function(l){var d=Ui(l);return mn(d)&&(d=t),vs(kn(l,1,mn,!0),Ve(d,2))}),R2=ht(function(l){var d=Ui(l);return d=typeof d=="function"?d:t,vs(kn(l,1,mn,!0),t,d)});function P2(l){return l&&l.length?vs(l):[]}function F2(l,d){return l&&l.length?vs(l,Ve(d,2)):[]}function B2(l,d){return d=typeof d=="function"?d:t,l&&l.length?vs(l,t,d):[]}function Nh(l){if(!(l&&l.length))return[];var d=0;return l=fs(l,function(g){if(mn(g))return d=Sn(g.length,d),!0}),Gd(d,function(g){return nn(l,jd(g))})}function Av(l,d){if(!(l&&l.length))return[];var g=Nh(l);return d==null?g:nn(g,function(_){return Di(d,t,_)})}var W2=ht(function(l,d){return mn(l)?Ra(l,d):[]}),V2=ht(function(l){return ph(fs(l,mn))}),H2=ht(function(l){var d=Ui(l);return mn(d)&&(d=t),ph(fs(l,mn),Ve(d,2))}),$2=ht(function(l){var d=Ui(l);return d=typeof d=="function"?d:t,ph(fs(l,mn),t,d)}),z2=ht(Nh);function U2(l,d){return Z_(l||[],d||[],Ma)}function j2(l,d){return Z_(l||[],d||[],Ba)}var K2=ht(function(l){var d=l.length,g=d>1?l[d-1]:t;return g=typeof g=="function"?(l.pop(),g):t,Av(l,g)});function Ov(l){var d=L(l);return d.__chain__=!0,d}function q2(l,d){return d(l),l}function Ru(l,d){return d(l)}var G2=jr(function(l){var d=l.length,g=d?l[0]:0,_=this.__wrapped__,y=function(D){return nh(D,l)};return d>1||this.__actions__.length||!(_ instanceof vt)||!Kr(g)?this.thru(y):(_=_.slice(g,+g+(d?1:0)),_.__actions__.push({func:Ru,args:[y],thisArg:t}),new Hi(_,this.__chain__).thru(function(D){return d&&!D.length&&D.push(t),D}))});function Y2(){return Ov(this)}function Z2(){return new Hi(this.value(),this.__chain__)}function X2(){this.__values__===t&&(this.__values__=qv(this.value()));var l=this.__index__>=this.__values__.length,d=l?t:this.__values__[this.__index__++];return{done:l,value:d}}function Q2(){return this}function J2(l){for(var d,g=this;g instanceof Cu;){var _=Lv(g);_.__index__=0,_.__values__=t,d?y.__wrapped__=_:d=_;var y=_;g=g.__wrapped__}return y.__wrapped__=l,d}function eI(){var l=this.__wrapped__;if(l instanceof vt){var d=l;return this.__actions__.length&&(d=new vt(this)),d=d.reverse(),d.__actions__.push({func:Ru,args:[kh],thisArg:t}),new Hi(d,this.__chain__)}return this.thru(kh)}function tI(){return Y_(this.__wrapped__,this.__actions__)}var nI=Du(function(l,d,g){Mt.call(l,g)?++l[g]:zr(l,g,1)});function iI(l,d,g){var _=it(l)?l_:qD;return g&&ei(l,d,g)&&(d=t),_(l,Ve(d,3))}function rI(l,d){var g=it(l)?fs:A_;return g(l,Ve(d,3))}var sI=ov(Dv),oI=ov(Tv);function aI(l,d){return kn(Pu(l,d),1)}function lI(l,d){return kn(Pu(l,d),U)}function uI(l,d,g){return g=g===t?1:at(g),kn(Pu(l,d),g)}function Mv(l,d){var g=it(l)?Wi:_s;return g(l,Ve(d,3))}function Rv(l,d){var g=it(l)?TL:N_;return g(l,Ve(d,3))}var cI=Du(function(l,d,g){Mt.call(l,g)?l[g].push(d):zr(l,g,[d])});function dI(l,d,g,_){l=gi(l)?l:$o(l),g=g&&!_?at(g):0;var y=l.length;return g<0&&(g=Sn(y+g,0)),Hu(l)?g<=y&&l.indexOf(d,g)>-1:!!y&&ko(l,d,g)>-1}var hI=ht(function(l,d,g){var _=-1,y=typeof d=="function",D=gi(l)?ee(l.length):[];return _s(l,function(P){D[++_]=y?Di(d,P,g):Pa(P,d,g)}),D}),fI=Du(function(l,d,g){zr(l,g,d)});function Pu(l,d){var g=it(l)?nn:B_;return g(l,Ve(d,3))}function gI(l,d,g,_){return l==null?[]:(it(d)||(d=d==null?[]:[d]),g=_?t:g,it(g)||(g=g==null?[]:[g]),$_(l,d,g))}var pI=Du(function(l,d,g){l[g?0:1].push(d)},function(){return[[],[]]});function mI(l,d,g){var _=it(l)?zd:h_,y=arguments.length<3;return _(l,Ve(d,4),g,y,_s)}function _I(l,d,g){var _=it(l)?IL:h_,y=arguments.length<3;return _(l,Ve(d,4),g,y,N_)}function vI(l,d){var g=it(l)?fs:A_;return g(l,Wu(Ve(d,3)))}function bI(l){var d=it(l)?D_:dT;return d(l)}function CI(l,d,g){(g?ei(l,d,g):d===t)?d=1:d=at(d);var _=it(l)?$D:hT;return _(l,d)}function yI(l){var d=it(l)?zD:gT;return d(l)}function wI(l){if(l==null)return 0;if(gi(l))return Hu(l)?Ao(l):l.length;var d=Fn(l);return d==Yt||d==Vt?l.size:lh(l).length}function SI(l,d,g){var _=it(l)?Ud:pT;return g&&ei(l,d,g)&&(d=t),_(l,Ve(d,3))}var xI=ht(function(l,d){if(l==null)return[];var g=d.length;return g>1&&ei(l,d[0],d[1])?d=[]:g>2&&ei(d[0],d[1],d[2])&&(d=[d[0]]),$_(l,kn(d,1),[])}),Fu=rD||function(){return In.Date.now()};function EI(l,d){if(typeof d!="function")throw new Vi(o);return l=at(l),function(){if(--l<1)return d.apply(this,arguments)}}function Pv(l,d,g){return d=g?t:d,d=l&&d==null?l.length:d,Ur(l,R,t,t,t,t,d)}function Fv(l,d){var g;if(typeof d!="function")throw new Vi(o);return l=at(l),function(){return--l>0&&(g=d.apply(this,arguments)),l<=1&&(d=t),g}}var Ah=ht(function(l,d,g){var _=S;if(g.length){var y=ps(g,Vo(Ah));_|=A}return Ur(l,_,d,g,y)}),Bv=ht(function(l,d,g){var _=S|x;if(g.length){var y=ps(g,Vo(Bv));_|=A}return Ur(d,_,l,g,y)});function Wv(l,d,g){d=g?t:d;var _=Ur(l,E,t,t,t,t,t,d);return _.placeholder=Wv.placeholder,_}function Vv(l,d,g){d=g?t:d;var _=Ur(l,N,t,t,t,t,t,d);return _.placeholder=Vv.placeholder,_}function Hv(l,d,g){var _,y,D,P,V,Z,ce=0,de=!1,pe=!1,xe=!0;if(typeof l!="function")throw new Vi(o);d=ji(d)||0,sn(g)&&(de=!!g.leading,pe="maxWait"in g,D=pe?Sn(ji(g.maxWait)||0,d):D,xe="trailing"in g?!!g.trailing:xe);function Ae(_n){var or=_,Yr=y;return _=y=t,ce=_n,P=l.apply(Yr,or),P}function je(_n){return ce=_n,V=Ha(gt,d),de?Ae(_n):P}function ct(_n){var or=_n-Z,Yr=_n-ce,o0=d-or;return pe?Pn(o0,D-Yr):o0}function Ke(_n){var or=_n-Z,Yr=_n-ce;return Z===t||or>=d||or<0||pe&&Yr>=D}function gt(){var _n=Fu();if(Ke(_n))return Ct(_n);V=Ha(gt,ct(_n))}function Ct(_n){return V=t,xe&&_?Ae(_n):(_=y=t,P)}function Ni(){V!==t&&X_(V),ce=0,_=Z=y=V=t}function ti(){return V===t?P:Ct(Fu())}function Ai(){var _n=Fu(),or=Ke(_n);if(_=arguments,y=this,Z=_n,or){if(V===t)return je(Z);if(pe)return X_(V),V=Ha(gt,d),Ae(Z)}return V===t&&(V=Ha(gt,d)),P}return Ai.cancel=Ni,Ai.flush=ti,Ai}var LI=ht(function(l,d){return k_(l,1,d)}),DI=ht(function(l,d,g){return k_(l,ji(d)||0,g)});function TI(l){return Ur(l,G)}function Bu(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new Vi(o);var g=function(){var _=arguments,y=d?d.apply(this,_):_[0],D=g.cache;if(D.has(y))return D.get(y);var P=l.apply(this,_);return g.cache=D.set(y,P)||D,P};return g.cache=new(Bu.Cache||$r),g}Bu.Cache=$r;function Wu(l){if(typeof l!="function")throw new Vi(o);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function II(l){return Fv(2,l)}var kI=mT(function(l,d){d=d.length==1&&it(d[0])?nn(d[0],Ti(Ve())):nn(kn(d,1),Ti(Ve()));var g=d.length;return ht(function(_){for(var y=-1,D=Pn(_.length,g);++y<D;)_[y]=d[y].call(this,_[y]);return Di(l,this,_)})}),Oh=ht(function(l,d){var g=ps(d,Vo(Oh));return Ur(l,A,t,d,g)}),$v=ht(function(l,d){var g=ps(d,Vo($v));return Ur(l,H,t,d,g)}),NI=jr(function(l,d){return Ur(l,M,t,t,t,d)});function AI(l,d){if(typeof l!="function")throw new Vi(o);return d=d===t?d:at(d),ht(l,d)}function OI(l,d){if(typeof l!="function")throw new Vi(o);return d=d==null?0:Sn(at(d),0),ht(function(g){var _=g[d],y=Cs(g,0,d);return _&&gs(y,_),Di(l,this,y)})}function MI(l,d,g){var _=!0,y=!0;if(typeof l!="function")throw new Vi(o);return sn(g)&&(_="leading"in g?!!g.leading:_,y="trailing"in g?!!g.trailing:y),Hv(l,d,{leading:_,maxWait:d,trailing:y})}function RI(l){return Pv(l,1)}function PI(l,d){return Oh(_h(d),l)}function FI(){if(!arguments.length)return[];var l=arguments[0];return it(l)?l:[l]}function BI(l){return $i(l,m)}function WI(l,d){return d=typeof d=="function"?d:t,$i(l,m,d)}function VI(l){return $i(l,f|m)}function HI(l,d){return d=typeof d=="function"?d:t,$i(l,f|m,d)}function $I(l,d){return d==null||I_(l,d,Dn(d))}function sr(l,d){return l===d||l!==l&&d!==d}var zI=Nu(sh),UI=Nu(function(l,d){return l>=d}),Qs=R_(function(){return arguments}())?R_:function(l){return cn(l)&&Mt.call(l,"callee")&&!y_.call(l,"callee")},it=ee.isArray,jI=n_?Ti(n_):JD;function gi(l){return l!=null&&Vu(l.length)&&!qr(l)}function mn(l){return cn(l)&&gi(l)}function KI(l){return l===!0||l===!1||cn(l)&&Jn(l)==Rt}var ys=oD||Uh,qI=i_?Ti(i_):eT;function GI(l){return cn(l)&&l.nodeType===1&&!$a(l)}function YI(l){if(l==null)return!0;if(gi(l)&&(it(l)||typeof l=="string"||typeof l.splice=="function"||ys(l)||Ho(l)||Qs(l)))return!l.length;var d=Fn(l);if(d==Yt||d==Vt)return!l.size;if(Va(l))return!lh(l).length;for(var g in l)if(Mt.call(l,g))return!1;return!0}function ZI(l,d){return Fa(l,d)}function XI(l,d,g){g=typeof g=="function"?g:t;var _=g?g(l,d):t;return _===t?Fa(l,d,t,g):!!_}function Mh(l){if(!cn(l))return!1;var d=Jn(l);return d==wt||d==dt||typeof l.message=="string"&&typeof l.name=="string"&&!$a(l)}function QI(l){return typeof l=="number"&&S_(l)}function qr(l){if(!sn(l))return!1;var d=Jn(l);return d==Je||d==ln||d==ot||d==di}function zv(l){return typeof l=="number"&&l==at(l)}function Vu(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=K}function sn(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function cn(l){return l!=null&&typeof l=="object"}var Uv=r_?Ti(r_):nT;function JI(l,d){return l===d||ah(l,d,xh(d))}function ek(l,d,g){return g=typeof g=="function"?g:t,ah(l,d,xh(d),g)}function tk(l){return jv(l)&&l!=+l}function nk(l){if(WT(l))throw new et(s);return P_(l)}function ik(l){return l===null}function rk(l){return l==null}function jv(l){return typeof l=="number"||cn(l)&&Jn(l)==pn}function $a(l){if(!cn(l)||Jn(l)!=Un)return!1;var d=fu(l);if(d===null)return!0;var g=Mt.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&uu.call(g)==eD}var Rh=s_?Ti(s_):iT;function sk(l){return zv(l)&&l>=-K&&l<=K}var Kv=o_?Ti(o_):rT;function Hu(l){return typeof l=="string"||!it(l)&&cn(l)&&Jn(l)==un}function ki(l){return typeof l=="symbol"||cn(l)&&Jn(l)==Qn}var Ho=a_?Ti(a_):sT;function ok(l){return l===t}function ak(l){return cn(l)&&Fn(l)==Pe}function lk(l){return cn(l)&&Jn(l)==_t}var uk=Nu(uh),ck=Nu(function(l,d){return l<=d});function qv(l){if(!l)return[];if(gi(l))return Hu(l)?ir(l):fi(l);if(Ia&&l[Ia])return $L(l[Ia]());var d=Fn(l),g=d==Yt?Zd:d==Vt?ou:$o;return g(l)}function Gr(l){if(!l)return l===0?l:0;if(l=ji(l),l===U||l===-U){var d=l<0?-1:1;return d*z}return l===l?l:0}function at(l){var d=Gr(l),g=d%1;return d===d?g?d-g:d:0}function Gv(l){return l?Gs(at(l),0,q):0}function ji(l){if(typeof l=="number")return l;if(ki(l))return k;if(sn(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=sn(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=f_(l);var g=_e.test(l);return g||Ie.test(l)?EL(l.slice(2),g?2:8):ie.test(l)?k:+l}function Yv(l){return Er(l,pi(l))}function dk(l){return l?Gs(at(l),-K,K):l===0?l:0}function Tt(l){return l==null?"":Ii(l)}var hk=Bo(function(l,d){if(Va(d)||gi(d)){Er(d,Dn(d),l);return}for(var g in d)Mt.call(d,g)&&Ma(l,g,d[g])}),Zv=Bo(function(l,d){Er(d,pi(d),l)}),$u=Bo(function(l,d,g,_){Er(d,pi(d),l,_)}),fk=Bo(function(l,d,g,_){Er(d,Dn(d),l,_)}),gk=jr(nh);function pk(l,d){var g=Fo(l);return d==null?g:T_(g,d)}var mk=ht(function(l,d){l=$t(l);var g=-1,_=d.length,y=_>2?d[2]:t;for(y&&ei(d[0],d[1],y)&&(_=1);++g<_;)for(var D=d[g],P=pi(D),V=-1,Z=P.length;++V<Z;){var ce=P[V],de=l[ce];(de===t||sr(de,Mo[ce])&&!Mt.call(l,ce))&&(l[ce]=D[ce])}return l}),_k=ht(function(l){return l.push(t,fv),Di(Xv,t,l)});function vk(l,d){return u_(l,Ve(d,3),xr)}function bk(l,d){return u_(l,Ve(d,3),rh)}function Ck(l,d){return l==null?l:ih(l,Ve(d,3),pi)}function yk(l,d){return l==null?l:O_(l,Ve(d,3),pi)}function wk(l,d){return l&&xr(l,Ve(d,3))}function Sk(l,d){return l&&rh(l,Ve(d,3))}function xk(l){return l==null?[]:Su(l,Dn(l))}function Ek(l){return l==null?[]:Su(l,pi(l))}function Ph(l,d,g){var _=l==null?t:Ys(l,d);return _===t?g:_}function Lk(l,d){return l!=null&&mv(l,d,YD)}function Fh(l,d){return l!=null&&mv(l,d,ZD)}var Dk=lv(function(l,d,g){d!=null&&typeof d.toString!="function"&&(d=cu.call(d)),l[d]=g},Wh(mi)),Tk=lv(function(l,d,g){d!=null&&typeof d.toString!="function"&&(d=cu.call(d)),Mt.call(l,d)?l[d].push(g):l[d]=[g]},Ve),Ik=ht(Pa);function Dn(l){return gi(l)?L_(l):lh(l)}function pi(l){return gi(l)?L_(l,!0):oT(l)}function kk(l,d){var g={};return d=Ve(d,3),xr(l,function(_,y,D){zr(g,d(_,y,D),_)}),g}function Nk(l,d){var g={};return d=Ve(d,3),xr(l,function(_,y,D){zr(g,y,d(_,y,D))}),g}var Ak=Bo(function(l,d,g){xu(l,d,g)}),Xv=Bo(function(l,d,g,_){xu(l,d,g,_)}),Ok=jr(function(l,d){var g={};if(l==null)return g;var _=!1;d=nn(d,function(D){return D=bs(D,l),_||(_=D.length>1),D}),Er(l,wh(l),g),_&&(g=$i(g,f|p|m,DT));for(var y=d.length;y--;)gh(g,d[y]);return g});function Mk(l,d){return Qv(l,Wu(Ve(d)))}var Rk=jr(function(l,d){return l==null?{}:lT(l,d)});function Qv(l,d){if(l==null)return{};var g=nn(wh(l),function(_){return[_]});return d=Ve(d),z_(l,g,function(_,y){return d(_,y[0])})}function Pk(l,d,g){d=bs(d,l);var _=-1,y=d.length;for(y||(y=1,l=t);++_<y;){var D=l==null?t:l[Lr(d[_])];D===t&&(_=y,D=g),l=qr(D)?D.call(l):D}return l}function Fk(l,d,g){return l==null?l:Ba(l,d,g)}function Bk(l,d,g,_){return _=typeof _=="function"?_:t,l==null?l:Ba(l,d,g,_)}var Jv=dv(Dn),e0=dv(pi);function Wk(l,d,g){var _=it(l),y=_||ys(l)||Ho(l);if(d=Ve(d,4),g==null){var D=l&&l.constructor;y?g=_?new D:[]:sn(l)?g=qr(D)?Fo(fu(l)):{}:g={}}return(y?Wi:xr)(l,function(P,V,Z){return d(g,P,V,Z)}),g}function Vk(l,d){return l==null?!0:gh(l,d)}function Hk(l,d,g){return l==null?l:G_(l,d,_h(g))}function $k(l,d,g,_){return _=typeof _=="function"?_:t,l==null?l:G_(l,d,_h(g),_)}function $o(l){return l==null?[]:Yd(l,Dn(l))}function zk(l){return l==null?[]:Yd(l,pi(l))}function Uk(l,d,g){return g===t&&(g=d,d=t),g!==t&&(g=ji(g),g=g===g?g:0),d!==t&&(d=ji(d),d=d===d?d:0),Gs(ji(l),d,g)}function jk(l,d,g){return d=Gr(d),g===t?(g=d,d=0):g=Gr(g),l=ji(l),XD(l,d,g)}function Kk(l,d,g){if(g&&typeof g!="boolean"&&ei(l,d,g)&&(d=g=t),g===t&&(typeof d=="boolean"?(g=d,d=t):typeof l=="boolean"&&(g=l,l=t)),l===t&&d===t?(l=0,d=1):(l=Gr(l),d===t?(d=l,l=0):d=Gr(d)),l>d){var _=l;l=d,d=_}if(g||l%1||d%1){var y=x_();return Pn(l+y*(d-l+xL("1e-"+((y+"").length-1))),d)}return dh(l,d)}var qk=Wo(function(l,d,g){return d=d.toLowerCase(),l+(g?t0(d):d)});function t0(l){return Bh(Tt(l).toLowerCase())}function n0(l){return l=Tt(l),l&&l.replace(Qe,FL).replace(gL,"")}function Gk(l,d,g){l=Tt(l),d=Ii(d);var _=l.length;g=g===t?_:Gs(at(g),0,_);var y=g;return g-=d.length,g>=0&&l.slice(g,y)==d}function Yk(l){return l=Tt(l),l&&Il.test(l)?l.replace(yn,BL):l}function Zk(l){return l=Tt(l),l&&le.test(l)?l.replace(oe,"\\$&"):l}var Xk=Wo(function(l,d,g){return l+(g?"-":"")+d.toLowerCase()}),Qk=Wo(function(l,d,g){return l+(g?" ":"")+d.toLowerCase()}),Jk=sv("toLowerCase");function eN(l,d,g){l=Tt(l),d=at(d);var _=d?Ao(l):0;if(!d||_>=d)return l;var y=(d-_)/2;return ku(_u(y),g)+l+ku(mu(y),g)}function tN(l,d,g){l=Tt(l),d=at(d);var _=d?Ao(l):0;return d&&_<d?l+ku(d-_,g):l}function nN(l,d,g){l=Tt(l),d=at(d);var _=d?Ao(l):0;return d&&_<d?ku(d-_,g)+l:l}function iN(l,d,g){return g||d==null?d=0:d&&(d=+d),cD(Tt(l).replace(me,""),d||0)}function rN(l,d,g){return(g?ei(l,d,g):d===t)?d=1:d=at(d),hh(Tt(l),d)}function sN(){var l=arguments,d=Tt(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var oN=Wo(function(l,d,g){return l+(g?"_":"")+d.toLowerCase()});function aN(l,d,g){return g&&typeof g!="number"&&ei(l,d,g)&&(d=g=t),g=g===t?q:g>>>0,g?(l=Tt(l),l&&(typeof d=="string"||d!=null&&!Rh(d))&&(d=Ii(d),!d&&No(l))?Cs(ir(l),0,g):l.split(d,g)):[]}var lN=Wo(function(l,d,g){return l+(g?" ":"")+Bh(d)});function uN(l,d,g){return l=Tt(l),g=g==null?0:Gs(at(g),0,l.length),d=Ii(d),l.slice(g,g+d.length)==d}function cN(l,d,g){var _=L.templateSettings;g&&ei(l,d,g)&&(d=t),l=Tt(l),d=$u({},d,_,hv);var y=$u({},d.imports,_.imports,hv),D=Dn(y),P=Yd(y,D),V,Z,ce=0,de=d.interpolate||lt,pe="__p += '",xe=Xd((d.escape||lt).source+"|"+de.source+"|"+(de===Co?F:lt).source+"|"+(d.evaluate||lt).source+"|$","g"),Ae="//# sourceURL="+(Mt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bL+"]")+`
`;l.replace(xe,function(Ke,gt,Ct,Ni,ti,Ai){return Ct||(Ct=Ni),pe+=l.slice(ce,Ai).replace(Ot,WL),gt&&(V=!0,pe+=`' +
__e(`+gt+`) +
'`),ti&&(Z=!0,pe+=`';
`+ti+`;
__p += '`),Ct&&(pe+=`' +
((__t = (`+Ct+`)) == null ? '' : __t) +
'`),ce=Ai+Ke.length,Ke}),pe+=`';
`;var je=Mt.call(d,"variable")&&d.variable;if(!je)pe=`with (obj) {
`+pe+`
}
`;else if(Qt.test(je))throw new et(a);pe=(Z?pe.replace(il,""):pe).replace(jn,"$1").replace(oi,"$1;"),pe="function("+(je||"obj")+`) {
`+(je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pe+`return __p
}`;var ct=r0(function(){return Et(D,Ae+"return "+pe).apply(t,P)});if(ct.source=pe,Mh(ct))throw ct;return ct}function dN(l){return Tt(l).toLowerCase()}function hN(l){return Tt(l).toUpperCase()}function fN(l,d,g){if(l=Tt(l),l&&(g||d===t))return f_(l);if(!l||!(d=Ii(d)))return l;var _=ir(l),y=ir(d),D=g_(_,y),P=p_(_,y)+1;return Cs(_,D,P).join("")}function gN(l,d,g){if(l=Tt(l),l&&(g||d===t))return l.slice(0,__(l)+1);if(!l||!(d=Ii(d)))return l;var _=ir(l),y=p_(_,ir(d))+1;return Cs(_,0,y).join("")}function pN(l,d,g){if(l=Tt(l),l&&(g||d===t))return l.replace(me,"");if(!l||!(d=Ii(d)))return l;var _=ir(l),y=g_(_,ir(d));return Cs(_,y).join("")}function mN(l,d){var g=X,_=$;if(sn(d)){var y="separator"in d?d.separator:y;g="length"in d?at(d.length):g,_="omission"in d?Ii(d.omission):_}l=Tt(l);var D=l.length;if(No(l)){var P=ir(l);D=P.length}if(g>=D)return l;var V=g-Ao(_);if(V<1)return _;var Z=P?Cs(P,0,V).join(""):l.slice(0,V);if(y===t)return Z+_;if(P&&(V+=Z.length-V),Rh(y)){if(l.slice(V).search(y)){var ce,de=Z;for(y.global||(y=Xd(y.source,Tt(te.exec(y))+"g")),y.lastIndex=0;ce=y.exec(de);)var pe=ce.index;Z=Z.slice(0,pe===t?V:pe)}}else if(l.indexOf(Ii(y),V)!=V){var xe=Z.lastIndexOf(y);xe>-1&&(Z=Z.slice(0,xe))}return Z+_}function _N(l){return l=Tt(l),l&&dr.test(l)?l.replace(fa,KL):l}var vN=Wo(function(l,d,g){return l+(g?" ":"")+d.toUpperCase()}),Bh=sv("toUpperCase");function i0(l,d,g){return l=Tt(l),d=g?t:d,d===t?HL(l)?YL(l):AL(l):l.match(d)||[]}var r0=ht(function(l,d){try{return Di(l,t,d)}catch(g){return Mh(g)?g:new et(g)}}),bN=jr(function(l,d){return Wi(d,function(g){g=Lr(g),zr(l,g,Ah(l[g],l))}),l});function CN(l){var d=l==null?0:l.length,g=Ve();return l=d?nn(l,function(_){if(typeof _[1]!="function")throw new Vi(o);return[g(_[0]),_[1]]}):[],ht(function(_){for(var y=-1;++y<d;){var D=l[y];if(Di(D[0],this,_))return Di(D[1],this,_)}})}function yN(l){return KD($i(l,f))}function Wh(l){return function(){return l}}function wN(l,d){return l==null||l!==l?d:l}var SN=av(),xN=av(!0);function mi(l){return l}function Vh(l){return F_(typeof l=="function"?l:$i(l,f))}function EN(l){return W_($i(l,f))}function LN(l,d){return V_(l,$i(d,f))}var DN=ht(function(l,d){return function(g){return Pa(g,l,d)}}),TN=ht(function(l,d){return function(g){return Pa(l,g,d)}});function Hh(l,d,g){var _=Dn(d),y=Su(d,_);g==null&&!(sn(d)&&(y.length||!_.length))&&(g=d,d=l,l=this,y=Su(d,Dn(d)));var D=!(sn(g)&&"chain"in g)||!!g.chain,P=qr(l);return Wi(y,function(V){var Z=d[V];l[V]=Z,P&&(l.prototype[V]=function(){var ce=this.__chain__;if(D||ce){var de=l(this.__wrapped__),pe=de.__actions__=fi(this.__actions__);return pe.push({func:Z,args:arguments,thisArg:l}),de.__chain__=ce,de}return Z.apply(l,gs([this.value()],arguments))})}),l}function IN(){return In._===this&&(In._=tD),this}function $h(){}function kN(l){return l=at(l),ht(function(d){return H_(d,l)})}var NN=bh(nn),AN=bh(l_),ON=bh(Ud);function s0(l){return Lh(l)?jd(Lr(l)):uT(l)}function MN(l){return function(d){return l==null?t:Ys(l,d)}}var RN=uv(),PN=uv(!0);function zh(){return[]}function Uh(){return!1}function FN(){return{}}function BN(){return""}function WN(){return!0}function VN(l,d){if(l=at(l),l<1||l>K)return[];var g=q,_=Pn(l,q);d=Ve(d),l-=q;for(var y=Gd(_,d);++g<l;)d(g);return y}function HN(l){return it(l)?nn(l,Lr):ki(l)?[l]:fi(Ev(Tt(l)))}function $N(l){var d=++JL;return Tt(l)+d}var zN=Iu(function(l,d){return l+d},0),UN=Ch("ceil"),jN=Iu(function(l,d){return l/d},1),KN=Ch("floor");function qN(l){return l&&l.length?wu(l,mi,sh):t}function GN(l,d){return l&&l.length?wu(l,Ve(d,2),sh):t}function YN(l){return d_(l,mi)}function ZN(l,d){return d_(l,Ve(d,2))}function XN(l){return l&&l.length?wu(l,mi,uh):t}function QN(l,d){return l&&l.length?wu(l,Ve(d,2),uh):t}var JN=Iu(function(l,d){return l*d},1),eA=Ch("round"),tA=Iu(function(l,d){return l-d},0);function nA(l){return l&&l.length?qd(l,mi):0}function iA(l,d){return l&&l.length?qd(l,Ve(d,2)):0}return L.after=EI,L.ary=Pv,L.assign=hk,L.assignIn=Zv,L.assignInWith=$u,L.assignWith=fk,L.at=gk,L.before=Fv,L.bind=Ah,L.bindAll=bN,L.bindKey=Bv,L.castArray=FI,L.chain=Ov,L.chunk=KT,L.compact=qT,L.concat=GT,L.cond=CN,L.conforms=yN,L.constant=Wh,L.countBy=nI,L.create=pk,L.curry=Wv,L.curryRight=Vv,L.debounce=Hv,L.defaults=mk,L.defaultsDeep=_k,L.defer=LI,L.delay=DI,L.difference=YT,L.differenceBy=ZT,L.differenceWith=XT,L.drop=QT,L.dropRight=JT,L.dropRightWhile=e2,L.dropWhile=t2,L.fill=n2,L.filter=rI,L.flatMap=aI,L.flatMapDeep=lI,L.flatMapDepth=uI,L.flatten=Iv,L.flattenDeep=i2,L.flattenDepth=r2,L.flip=TI,L.flow=SN,L.flowRight=xN,L.fromPairs=s2,L.functions=xk,L.functionsIn=Ek,L.groupBy=cI,L.initial=a2,L.intersection=l2,L.intersectionBy=u2,L.intersectionWith=c2,L.invert=Dk,L.invertBy=Tk,L.invokeMap=hI,L.iteratee=Vh,L.keyBy=fI,L.keys=Dn,L.keysIn=pi,L.map=Pu,L.mapKeys=kk,L.mapValues=Nk,L.matches=EN,L.matchesProperty=LN,L.memoize=Bu,L.merge=Ak,L.mergeWith=Xv,L.method=DN,L.methodOf=TN,L.mixin=Hh,L.negate=Wu,L.nthArg=kN,L.omit=Ok,L.omitBy=Mk,L.once=II,L.orderBy=gI,L.over=NN,L.overArgs=kI,L.overEvery=AN,L.overSome=ON,L.partial=Oh,L.partialRight=$v,L.partition=pI,L.pick=Rk,L.pickBy=Qv,L.property=s0,L.propertyOf=MN,L.pull=g2,L.pullAll=Nv,L.pullAllBy=p2,L.pullAllWith=m2,L.pullAt=_2,L.range=RN,L.rangeRight=PN,L.rearg=NI,L.reject=vI,L.remove=v2,L.rest=AI,L.reverse=kh,L.sampleSize=CI,L.set=Fk,L.setWith=Bk,L.shuffle=yI,L.slice=b2,L.sortBy=xI,L.sortedUniq=L2,L.sortedUniqBy=D2,L.split=aN,L.spread=OI,L.tail=T2,L.take=I2,L.takeRight=k2,L.takeRightWhile=N2,L.takeWhile=A2,L.tap=q2,L.throttle=MI,L.thru=Ru,L.toArray=qv,L.toPairs=Jv,L.toPairsIn=e0,L.toPath=HN,L.toPlainObject=Yv,L.transform=Wk,L.unary=RI,L.union=O2,L.unionBy=M2,L.unionWith=R2,L.uniq=P2,L.uniqBy=F2,L.uniqWith=B2,L.unset=Vk,L.unzip=Nh,L.unzipWith=Av,L.update=Hk,L.updateWith=$k,L.values=$o,L.valuesIn=zk,L.without=W2,L.words=i0,L.wrap=PI,L.xor=V2,L.xorBy=H2,L.xorWith=$2,L.zip=z2,L.zipObject=U2,L.zipObjectDeep=j2,L.zipWith=K2,L.entries=Jv,L.entriesIn=e0,L.extend=Zv,L.extendWith=$u,Hh(L,L),L.add=zN,L.attempt=r0,L.camelCase=qk,L.capitalize=t0,L.ceil=UN,L.clamp=Uk,L.clone=BI,L.cloneDeep=VI,L.cloneDeepWith=HI,L.cloneWith=WI,L.conformsTo=$I,L.deburr=n0,L.defaultTo=wN,L.divide=jN,L.endsWith=Gk,L.eq=sr,L.escape=Yk,L.escapeRegExp=Zk,L.every=iI,L.find=sI,L.findIndex=Dv,L.findKey=vk,L.findLast=oI,L.findLastIndex=Tv,L.findLastKey=bk,L.floor=KN,L.forEach=Mv,L.forEachRight=Rv,L.forIn=Ck,L.forInRight=yk,L.forOwn=wk,L.forOwnRight=Sk,L.get=Ph,L.gt=zI,L.gte=UI,L.has=Lk,L.hasIn=Fh,L.head=kv,L.identity=mi,L.includes=dI,L.indexOf=o2,L.inRange=jk,L.invoke=Ik,L.isArguments=Qs,L.isArray=it,L.isArrayBuffer=jI,L.isArrayLike=gi,L.isArrayLikeObject=mn,L.isBoolean=KI,L.isBuffer=ys,L.isDate=qI,L.isElement=GI,L.isEmpty=YI,L.isEqual=ZI,L.isEqualWith=XI,L.isError=Mh,L.isFinite=QI,L.isFunction=qr,L.isInteger=zv,L.isLength=Vu,L.isMap=Uv,L.isMatch=JI,L.isMatchWith=ek,L.isNaN=tk,L.isNative=nk,L.isNil=rk,L.isNull=ik,L.isNumber=jv,L.isObject=sn,L.isObjectLike=cn,L.isPlainObject=$a,L.isRegExp=Rh,L.isSafeInteger=sk,L.isSet=Kv,L.isString=Hu,L.isSymbol=ki,L.isTypedArray=Ho,L.isUndefined=ok,L.isWeakMap=ak,L.isWeakSet=lk,L.join=d2,L.kebabCase=Xk,L.last=Ui,L.lastIndexOf=h2,L.lowerCase=Qk,L.lowerFirst=Jk,L.lt=uk,L.lte=ck,L.max=qN,L.maxBy=GN,L.mean=YN,L.meanBy=ZN,L.min=XN,L.minBy=QN,L.stubArray=zh,L.stubFalse=Uh,L.stubObject=FN,L.stubString=BN,L.stubTrue=WN,L.multiply=JN,L.nth=f2,L.noConflict=IN,L.noop=$h,L.now=Fu,L.pad=eN,L.padEnd=tN,L.padStart=nN,L.parseInt=iN,L.random=Kk,L.reduce=mI,L.reduceRight=_I,L.repeat=rN,L.replace=sN,L.result=Pk,L.round=eA,L.runInContext=Y,L.sample=bI,L.size=wI,L.snakeCase=oN,L.some=SI,L.sortedIndex=C2,L.sortedIndexBy=y2,L.sortedIndexOf=w2,L.sortedLastIndex=S2,L.sortedLastIndexBy=x2,L.sortedLastIndexOf=E2,L.startCase=lN,L.startsWith=uN,L.subtract=tA,L.sum=nA,L.sumBy=iA,L.template=cN,L.times=VN,L.toFinite=Gr,L.toInteger=at,L.toLength=Gv,L.toLower=dN,L.toNumber=ji,L.toSafeInteger=dk,L.toString=Tt,L.toUpper=hN,L.trim=fN,L.trimEnd=gN,L.trimStart=pN,L.truncate=mN,L.unescape=_N,L.uniqueId=$N,L.upperCase=vN,L.upperFirst=Bh,L.each=Mv,L.eachRight=Rv,L.first=kv,Hh(L,function(){var l={};return xr(L,function(d,g){Mt.call(L.prototype,g)||(l[g]=d)}),l}(),{chain:!1}),L.VERSION=n,Wi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){L[l].placeholder=L}),Wi(["drop","take"],function(l,d){vt.prototype[l]=function(g){g=g===t?1:Sn(at(g),0);var _=this.__filtered__&&!d?new vt(this):this.clone();return _.__filtered__?_.__takeCount__=Pn(g,_.__takeCount__):_.__views__.push({size:Pn(g,q),type:l+(_.__dir__<0?"Right":"")}),_},vt.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),Wi(["filter","map","takeWhile"],function(l,d){var g=d+1,_=g==B||g==j;vt.prototype[l]=function(y){var D=this.clone();return D.__iteratees__.push({iteratee:Ve(y,3),type:g}),D.__filtered__=D.__filtered__||_,D}}),Wi(["head","last"],function(l,d){var g="take"+(d?"Right":"");vt.prototype[l]=function(){return this[g](1).value()[0]}}),Wi(["initial","tail"],function(l,d){var g="drop"+(d?"":"Right");vt.prototype[l]=function(){return this.__filtered__?new vt(this):this[g](1)}}),vt.prototype.compact=function(){return this.filter(mi)},vt.prototype.find=function(l){return this.filter(l).head()},vt.prototype.findLast=function(l){return this.reverse().find(l)},vt.prototype.invokeMap=ht(function(l,d){return typeof l=="function"?new vt(this):this.map(function(g){return Pa(g,l,d)})}),vt.prototype.reject=function(l){return this.filter(Wu(Ve(l)))},vt.prototype.slice=function(l,d){l=at(l);var g=this;return g.__filtered__&&(l>0||d<0)?new vt(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),d!==t&&(d=at(d),g=d<0?g.dropRight(-d):g.take(d-l)),g)},vt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},vt.prototype.toArray=function(){return this.take(q)},xr(vt.prototype,function(l,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),_=/^(?:head|last)$/.test(d),y=L[_?"take"+(d=="last"?"Right":""):d],D=_||/^find/.test(d);y&&(L.prototype[d]=function(){var P=this.__wrapped__,V=_?[1]:arguments,Z=P instanceof vt,ce=V[0],de=Z||it(P),pe=function(gt){var Ct=y.apply(L,gs([gt],V));return _&&xe?Ct[0]:Ct};de&&g&&typeof ce=="function"&&ce.length!=1&&(Z=de=!1);var xe=this.__chain__,Ae=!!this.__actions__.length,je=D&&!xe,ct=Z&&!Ae;if(!D&&de){P=ct?P:new vt(this);var Ke=l.apply(P,V);return Ke.__actions__.push({func:Ru,args:[pe],thisArg:t}),new Hi(Ke,xe)}return je&&ct?l.apply(this,V):(Ke=this.thru(pe),je?_?Ke.value()[0]:Ke.value():Ke)})}),Wi(["pop","push","shift","sort","splice","unshift"],function(l){var d=au[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",_=/^(?:pop|shift)$/.test(l);L.prototype[l]=function(){var y=arguments;if(_&&!this.__chain__){var D=this.value();return d.apply(it(D)?D:[],y)}return this[g](function(P){return d.apply(it(P)?P:[],y)})}}),xr(vt.prototype,function(l,d){var g=L[d];if(g){var _=g.name+"";Mt.call(Po,_)||(Po[_]=[]),Po[_].push({name:d,func:g})}}),Po[Tu(t,x).name]=[{name:"wrapper",func:t}],vt.prototype.clone=_D,vt.prototype.reverse=vD,vt.prototype.value=bD,L.prototype.at=G2,L.prototype.chain=Y2,L.prototype.commit=Z2,L.prototype.next=X2,L.prototype.plant=J2,L.prototype.reverse=eI,L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=tI,L.prototype.first=L.prototype.head,Ia&&(L.prototype[Ia]=Q2),L},Oo=ZL();Us?((Us.exports=Oo)._=Oo,Vd._=Oo):In._=Oo}).call(Bw)}),tg={browserCheck:function(){var e={};if(tg.isMobileDevice())return!0;var t=navigator.userAgent.toLowerCase(),n;return(n=t.match(/rv:([\d.]+)\) like gecko/))||(n=t.match(/msie ([\d\.]+)/))?e.ie=n[1]:(n=t.match(/edge?\/([\d\.]+)/))?e.edge=n[1]:(n=t.match(/firefox\/([\d\.]+)/))?e.firefox=n[1]:(n=t.match(/(?:opera|opr).([\d\.]+)/))?e.opera=n[1]:(n=t.match(/chrome\/([\d\.]+)/))?e.chrome=n[1]:(n=t.match(/version\/([\d\.]+).*safari/))&&(e.safari=n[1]),!!(e.chrome&&parseInt(e.chrome.split(".")[0],10)>=66||e.firefox||e.edge)},checkExist:function(e){return e!=null&&e!==""},convertBytes:function(e){for(var t=e,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=0;t>=1024;)t=Number((t/1024).toFixed(2)),r++;return"".concat(t," ").concat(n[r])},isMacOs:function(){return navigator.userAgent.indexOf("Macintosh")>-1},isWindows:function(){return navigator.userAgent.indexOf("Windows")>-1},isMobileDevice:function(){return typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1},getParameterByName:function(e,t){var n=t;n||(n=window.location.href);var r=e.replace(/[\[\]]/g,"\\$&"),s=new RegExp("[?&]"+r+"(=([^&#]*)|&|#|$)"),o=s.exec(n);if(!o)return null;if(!o[2])return"";var a=decodeURIComponent(o[2].replace(/\+/g," "));if(a==="null")return null;if(a!=="undefined")return a},generateFullUrlPath:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=new URLSearchParams(t),r=n.toString();return e+(r?"?".concat(r):"")},getQueryParameters:function(e){var t=new URLSearchParams(e),n=Object.fromEntries(t.entries());for(var r in n)n[r]==="null"&&(n[r]=null),n[r]==="undefined"&&(n[r]=void 0);return n},getBase64:function(e,t){var n=new FileReader;n.addEventListener("load",function(){return t(n.result)}),n.readAsDataURL(e)},percent:function(e,t){var n=e;if(!n||n===1/0)return"0%";n>1&&(n=1);var r=t||2;return r=Math.pow(10,r),Math.round(n*r*100)/r+"%"},getCssText:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t},trim:function(e){return typeof e!="string"?e:e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},trimAll:function(e){return typeof e!="string"?e:e.replace(/\s/g,"")},getThousandth:function(e){var t=e;if(t==null||t==="")return"0";t="".concat(e);var n=t.split("."),r=dne(n,2),s=r[0],o=r[1];return"".concat(s.replace(/(\d)(?=(\d{3})+$)/g,"$1,")).concat(o?".".concat(o):"")},textOverflowExchange:function(e,t){return e&&e.length>t?e.substring(0,t)+"...":e},jsonFormat:function(e,t){if(!e)return e;try{var n=JSON.parse(e),r=JSON.stringify(n,null,t||2);return r}catch{return null}},sortByCompareFunctions:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.sort(function(s,o){for(var a=0,u=0,c=n;u<c.length;u++){var h=c[u];if(a=h(s,o),a!==0)return a}return a})},exchangeOrder:function(e){switch(e){case"ascend":return"asc";case"descend":return"desc";default:return}},generateAKey:function(){return""+new Date().getTime()+~~(Math.random()*1e6)},isJSONStr:function(e){var t=tg.trim(e);return t.charAt(0)==="{"&&t.charAt(t.length-1)==="}"||t.charAt(0)==="["&&t.charAt(t.length-1)==="]"},isPhoneNumber:function(e){var t=/^0?1[3|4|5|6|7|8][0-9]\d{8}$/;return t.test(e)},isFunction:function(e){return e?typeof/./!="function"?typeof e=="function":Object.prototype.toString.call(e)==="[object Function]":!1},getRandomStr:function(e){var t="0123456789",n="abcdefghijklmnopqrstuvwxyz",r="ABCDEFGHIJKLMNOPQRSTUVXYZ";function s(c){var h=Math.random()*(c.length-1);return c.charAt(h)}for(var o="num",a="",u=0;u<e;u++)o==="num"?(a+=s(t),o="lower"):o==="lower"?(a+=s(n),o="upper"):o==="upper"&&(a+=s(r),o="num");return a},isEqualArr:function(e,t){var n=JSON.stringify;return n(e.sort())===n(t.sort())},isEqual:function(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0},shouldRender:function(e){e.prototype.shouldComponentUpdate=function(t,n){return!tg.isEqual(this.state,n)||!tg.isEqual(this.props,t)}},getStrlen:function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>=1&&r<=126||r>=65376&&r<=65439?t++:t+=2}return t},transformArray:function(e,t){for(var n=e.length,r=[],s=0;s*t<n;)r.push(e.slice(s*t,(s+1)*t)),s++;return r},isEmpty:function(e){return!!(e===""||e===null||e===void 0||Array.prototype.isPrototypeOf(e)&&e.length===0||Object.prototype.isPrototypeOf(e)&&Object.keys(e).length===0)},isObj:function(e){return Object.prototype.toString.call(e)==="[object Object]"},removeEmpty:function(e){if(!(!e||!tg.isObj(e)))return Object.entries(e).forEach(function(t){var n=dne(t,2),r=n[0],s=n[1];s&&tg.isObj(s)?tg.removeEmpty(s):tg.isEmpty(s)&&delete e[r]}),e},mergeDeep:function(e,t){if(e==null||t==null)return e||t;if(!QV.isPlainObject(e)||!QV.isPlainObject(t))return t;if(e===t)return t;if("_isMergeAtom"in t){var n=t._isMergeAtom;if(delete t._isMergeAtom,n)return t}var r=Ixe({},e);return QV.forEach(t,function(s,o){o in e?r[o]=tg.mergeDeep(e[o],s):r[o]=s}),r},downLoadData:function(e){var t=e.url,n=e.payload,r=e.finallyCallback,s=e.successCallback,o=e.errorCallback;fetch(t,{method:"POST",body:JSON.stringify(n)}).then(function(a){if(a.status!==200)return o(a);var u=a.headers.get("Content-type")||"";if(u.includes("application/json"))return o(a);var c=e.fileName;if(!c){var h=a.headers.get("Content-disposition")||"";c=h.split("filename=")[1]}a.blob().then(function(f){var p=URL.createObjectURL(f),m=document.createElement("a");m.setAttribute("href",p),m.setAttribute("download",decodeURIComponent(c||"")),m.click(),URL.revokeObjectURL(p),s&&s(a)})}).finally(function(){r&&r()})},isUtf8:function(e){var t=["","","","","",""];return t.forEach(function(n){if(e&&e.indexOf(n)>-1)return!1}),!0},utf16to8:function(e){if(typeof e!="string"||!this.isUtf8(e))return e;var t,n,r;t="";var s=e.length||0;for(n=0;n<s;n++)r=e.charCodeAt(n),r>=1&&r<=127?t+=e.charAt(n):r>2047?(t+=String.fromCharCode(224|r>>12&15),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|r>>0&63)):(t+=String.fromCharCode(192|r>>6&31),t+=String.fromCharCode(128|r>>0&63));return t},base64Encode:function(e){var t=e;if(!t)return t;try{t=btoa(this.utf16to8(e))}catch(n){console.log(n)}return t}};Ude(function(i,e){(function(t,n){i.exports=n()})(Bw,function(){var t=1e3,n=6e4,r=36e5,s="millisecond",o="second",a="minute",u="hour",c="day",h="week",f="month",p="quarter",m="year",v="date",b="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},E=function(O,B,W){var j=String(O);return!j||j.length>=B?O:""+Array(B+1-j.length).join(W)+O},N={s:E,z:function(O){var B=-O.utcOffset(),W=Math.abs(B),j=Math.floor(W/60),U=W%60;return(B<=0?"+":"-")+E(j,2,"0")+":"+E(U,2,"0")},m:function O(B,W){if(B.date()<W.date())return-O(W,B);var j=12*(W.year()-B.year())+(W.month()-B.month()),U=B.clone().add(j,f),K=W-U<0,z=B.clone().add(j+(K?-1:1),f);return+(-(j+(W-U)/(K?U-z:z-U))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:f,y:m,w:h,d:c,D:v,h:u,m:a,s:o,ms:s,Q:p}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},A="en",H={};H[A]=w;var R=function(O){return O instanceof $},M=function O(B,W,j){var U;if(!B)return A;if(typeof B=="string"){var K=B.toLowerCase();H[K]&&(U=K),W&&(H[K]=W,U=K);var z=B.split("-");if(!U&&z.length>1)return O(z[0])}else{var k=B.name;H[k]=B,U=k}return!j&&U&&(A=U),U||!j&&A},G=function(O,B){if(R(O))return O.clone();var W=typeof B=="object"?B:{};return W.date=O,W.args=arguments,new $(W)},X=N;X.l=M,X.i=R,X.w=function(O,B){return G(O,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var $=function(){function O(W){this.$L=M(W.locale,null,!0),this.parse(W)}var B=O.prototype;return B.parse=function(W){this.$d=function(j){var U=j.date,K=j.utc;if(U===null)return new Date(NaN);if(X.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var z=U.match(S);if(z){var k=z[2]-1||0,q=(z[7]||"0").substring(0,3);return K?new Date(Date.UTC(z[1],k,z[3]||1,z[4]||0,z[5]||0,z[6]||0,q)):new Date(z[1],k,z[3]||1,z[4]||0,z[5]||0,z[6]||0,q)}}return new Date(U)}(W),this.$x=W.x||{},this.init()},B.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},B.$utils=function(){return X},B.isValid=function(){return this.$d.toString()!==b},B.isSame=function(W,j){var U=G(W);return this.startOf(j)<=U&&U<=this.endOf(j)},B.isAfter=function(W,j){return G(W)<this.startOf(j)},B.isBefore=function(W,j){return this.endOf(j)<G(W)},B.$g=function(W,j,U){return X.u(W)?this[j]:this.set(U,W)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(W,j){var U=this,K=!!X.u(j)||j,z=X.p(W),k=function(Rt,Re){var dt=X.w(U.$u?Date.UTC(U.$y,Re,Rt):new Date(U.$y,Re,Rt),U);return K?dt:dt.endOf(c)},q=function(Rt,Re){return X.w(U.toDate()[Rt].apply(U.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(Re)),U)},fe=this.$W,ne=this.$M,Ce=this.$D,Te="set"+(this.$u?"UTC":"");switch(z){case m:return K?k(1,0):k(31,11);case f:return K?k(1,ne):k(0,ne+1);case h:var He=this.$locale().weekStart||0,ot=(fe<He?fe+7:fe)-He;return k(K?Ce-ot:Ce+(6-ot),ne);case c:case v:return q(Te+"Hours",0);case u:return q(Te+"Minutes",1);case a:return q(Te+"Seconds",2);case o:return q(Te+"Milliseconds",3);default:return this.clone()}},B.endOf=function(W){return this.startOf(W,!1)},B.$set=function(W,j){var U,K=X.p(W),z="set"+(this.$u?"UTC":""),k=(U={},U[c]=z+"Date",U[v]=z+"Date",U[f]=z+"Month",U[m]=z+"FullYear",U[u]=z+"Hours",U[a]=z+"Minutes",U[o]=z+"Seconds",U[s]=z+"Milliseconds",U)[K],q=K===c?this.$D+(j-this.$W):j;if(K===f||K===m){var fe=this.clone().set(v,1);fe.$d[k](q),fe.init(),this.$d=fe.set(v,Math.min(this.$D,fe.daysInMonth())).$d}else k&&this.$d[k](q);return this.init(),this},B.set=function(W,j){return this.clone().$set(W,j)},B.get=function(W){return this[X.p(W)]()},B.add=function(W,j){var U,K=this;W=Number(W);var z=X.p(j),k=function(ne){var Ce=G(K);return X.w(Ce.date(Ce.date()+Math.round(ne*W)),K)};if(z===f)return this.set(f,this.$M+W);if(z===m)return this.set(m,this.$y+W);if(z===c)return k(1);if(z===h)return k(7);var q=(U={},U[a]=n,U[u]=r,U[o]=t,U)[z]||1,fe=this.$d.getTime()+W*q;return X.w(fe,this)},B.subtract=function(W,j){return this.add(-1*W,j)},B.format=function(W){var j=this,U=this.$locale();if(!this.isValid())return U.invalidDate||b;var K=W||"YYYY-MM-DDTHH:mm:ssZ",z=X.z(this),k=this.$H,q=this.$m,fe=this.$M,ne=U.weekdays,Ce=U.months,Te=function(Re,dt,wt,Je){return Re&&(Re[dt]||Re(j,K))||wt[dt].slice(0,Je)},He=function(Re){return X.s(k%12||12,Re,"0")},ot=U.meridiem||function(Re,dt,wt){var Je=Re<12?"AM":"PM";return wt?Je.toLowerCase():Je},Rt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:fe+1,MM:X.s(fe+1,2,"0"),MMM:Te(U.monthsShort,fe,Ce,3),MMMM:Te(Ce,fe),D:this.$D,DD:X.s(this.$D,2,"0"),d:String(this.$W),dd:Te(U.weekdaysMin,this.$W,ne,2),ddd:Te(U.weekdaysShort,this.$W,ne,3),dddd:ne[this.$W],H:String(k),HH:X.s(k,2,"0"),h:He(1),hh:He(2),a:ot(k,q,!0),A:ot(k,q,!1),m:String(q),mm:X.s(q,2,"0"),s:String(this.$s),ss:X.s(this.$s,2,"0"),SSS:X.s(this.$ms,3,"0"),Z:z};return K.replace(x,function(Re,dt){return dt||Rt[Re]||z.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(W,j,U){var K,z=X.p(j),k=G(W),q=(k.utcOffset()-this.utcOffset())*n,fe=this-k,ne=X.m(this,k);return ne=(K={},K[m]=ne/12,K[f]=ne,K[p]=ne/3,K[h]=(fe-q)/6048e5,K[c]=(fe-q)/864e5,K[u]=fe/r,K[a]=fe/n,K[o]=fe/t,K)[z]||fe,U?ne:X.a(ne)},B.daysInMonth=function(){return this.endOf(f).$D},B.$locale=function(){return H[this.$L]},B.locale=function(W,j){if(!W)return this.$L;var U=this.clone(),K=M(W,j,!0);return K&&(U.$L=K),U},B.clone=function(){return X.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},O}(),I=$.prototype;return G.prototype=I,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",c],["$M",f],["$y",m],["$D",v]].forEach(function(O){I[O[1]]=function(B){return this.$g(B,O[0],O[1])}}),G.extend=function(O,B){return O.$i||(O(B,$,G),O.$i=!0),G},G.locale=M,G.isDayjs=R,G.unix=function(O){return G(1e3*O)},G.en=H[A],G.Ls=H,G.p={},G})});const lM=zn("context-view"),JV=mt(lM,"content"),Rxe=mt(lM,"block"),jde=Cn(lM,"shadow");var pO;(function(i){i.onHide="onHide"})(pO||(pO={}));const eH=new V9;function RP(i){const[e,t]=ge.useState();return ge.useEffect(()=>{t(yE(i))},[]),e}function yE(i={}){const{shadowOutline:e=!0}=i,t=bn(lM,"fade-in");let n=DS(`.${lM}`);const r=(c,h)=>{const f=DS("."+JV),p=h||(i==null?void 0:i.render);if(!p)throw new Error("ContextView show Error: the render parameter is required!");eF(re.createElement("div",{ref:()=>{if(n){const m=$de(n,c);n.style.cssText=`
                    visibility: visible;
                    top: ${m.y}px;
                    left: ${m.x}px;
                `}}},p()),f)},s=()=>{if(n){const c=DS(`.${JV}`);c&&Hde(c),n.style.visibility="hidden",eH.emit(pO.onHide)}},o=c=>{eH.subscribe(pO.onHide,c)},a=c=>{c.preventDefault(),c.stopPropagation(),s()},u=()=>{eH.unsubscribe(pO.onHide),s()};if(!n){n=document.createElement("div"),n.className=bn(t,tg.isMacOs()?"mac":""),n.style.visibility="hidden";const c=document.getElementById("molecule");c?c.appendChild(n):document.body.appendChild(n);const h=e===!1?"":jde;eF(re.createElement(re.Fragment,null,re.createElement("div",{className:Rxe,onClick:a,onContextMenu:a}),re.createElement("div",{className:bn(JV,h)})),n)}return{view:n,show:r,hide:s,onHide:o,dispose:u}}function z9(i){const{anchor:e,render:t}=i;if(!e)return;const n=yE({render:t}),r=o=>{o.target===o.currentTarget&&(o.preventDefault(),n.show({x:o.clientX,y:o.clientY},t))};e.addEventListener("contextmenu",r);const s=()=>{n.hide(),e.removeEventListener("contextmenu",r)};return Object.assign(Object.assign({},n),{dispose:s})}function _i(i){return e=>e.id===i}function OZ(...i){return function(...e){i.filter(t=>!!t).forEach(t=>t==null?void 0:t(...e))}}function Kde(){return Date.now()+Math.round(Math.random()*1e3)}function MZ(i,e){for(const t in e)typeof i[t]=="object"&&e[t]?i[t]=MZ(i[t],e[t]):i[t]=e[t];return i}function Pxe(i){const e={},t=(n,r)=>{for(const s in r)if(s){const o=r[s],a=n?`${n}.${s}`:s;typeof o=="object"?t(a,o):e[a]=o}};return t("",i),e}function Fxe(i){let e={};for(const t in i)if(t){const n=t.split(".");let r="",s={},o=s;for(let a=0;a<n.length&&a!==n.length;++a){const u=n[a],c={[u]:""};r&&(o[r]=c),o=c,r=u,a===0&&(s=c)}o[r]=i[t],e=MZ(e,s)}return e}function Bxe(i){let e,t,n;if(i.match(/^rgb/)){const s=i.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||[];e=+s[1],t=+s[2],n=+s[3]}else{let s=+("0x"+i.slice(1,7));i.length<5&&(s=+("0x"+i.slice(1).replace(/./g,"$&$&").slice(0,6))),e=s>>16,t=s>>8&255,n=s&255}return Math.sqrt(.299*(e*e)+.587*(t*t)+.114*(n*n))>127.5?"light":"dark"}function Wxe(i,e){return i*e}function Vxe(i,e){const t=document.head.getElementsByClassName(e);if(t.length===0){const n=document.createElement("style");n.type="text/css",n.className=e,n.innerHTML=i,document.head.appendChild(n)}else t[0].innerHTML=i}const ap=zn("menu"),qde=zn("sub-menu"),Hxe=Cn(ap,"vertical"),$xe=Cn(ap,"horizontal"),PP=mt(ap,"item"),zxe=mt(ap,"divider"),Gde=mt(ap,"check"),RZ=Cn(PP,"disabled"),BA=Cn(PP,"active"),Yde=mt(ap,"label"),Zde=mt(ap,"content"),Uxe=mt(ap,"keybinding"),jxe=mt(ap,"indicator"),Kxe=()=>re.createElement("li",{className:bn(PP,RZ),role:"separator"},re.createElement("a",{className:zxe}));var qxe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function br(i){const{className:e,type:t,children:n}=i,r=qxe(i,["className","type","children"]);return t?typeof t=="string"?re.createElement("span",Object.assign({className:bn(e,"codicon",t.includes("~spin")&&"codicon-spin",zn(t.split("~spin")[0],"codicon"))},r)):t:n?re.createElement("span",Object.assign({className:e},r),n):null}var Gxe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function Xde(i){const{icon:e,disabled:t=!1,className:n,onClick:r,keybinding:s,render:o,children:a,name:u,title:c,id:h,sortIndex:f}=i,p=Gxe(i,["icon","disabled","className","onClick","keybinding","render","children","name","title","id","sortIndex"]),m={onClick:function(v){r==null||r(v,i)}};return re.createElement("li",Object.assign({className:bn(PP,n,t?RZ:null),id:h==null?void 0:h.toString(),"data-sort":f},typeof c=="string"?{title:c}:{},m,p),re.createElement("div",{className:Zde},re.createElement(br,{type:e,className:Gde}),re.createElement("span",{className:Yde,title:typeof u=="string"?u:""},o?o(i):a),s?re.createElement("span",{className:Uxe},s):null))}var Yxe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},C1;(function(i){i.Vertical="vertical",i.Horizontal="horizontal"})(C1||(C1={}));function Qde(i){return i===C1.Horizontal}function Jde(i){const{className:e,name:t,render:n,data:r=[],mode:s=C1.Vertical,icon:o,disabled:a=!1,children:u,onClick:c,title:h,sortIndex:f}=i,p=Yxe(i,["className","name","render","data","mode","icon","disabled","children","onClick","title","sortIndex"]),m=bn(qde,e),b=Qde(s)?"down":"right",S=r.length>0?re.createElement(Cl,Object.assign({className:m,style:{opacity:"0",pointerEvents:"none"},data:r,onClick:c},p)):re.createElement(Cl,{className:m,style:{opacity:"0",pointerEvents:"none"},onClick:c},u);return re.createElement("li",Object.assign({className:bn(PP,a?RZ:null),"data-submenu":!0,"data-mode":s,"data-sort":f},typeof h=="string"?{title:h}:{},p),re.createElement("div",{className:Zde},typeof o=="string"?re.createElement(br,{className:Gde,type:o||""}):o,re.createElement("span",{className:Yde},n?n(i):t),re.createElement(br,{className:jxe,type:`chevron-${b}`})),S)}var Zxe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Xxe=i=>{if(i&&i!=null&&i.dataset.submenu){const e=Array.prototype.find.call(i.children,t=>t.nodeName==="UL");e.style.opacity="1",e.style.pointerEvents="auto",i.classList.add(BA)}},Qxe=(i,e,t=!1)=>{if(!i||!e)return;const n=i.getBoundingClientRect(),r=$de(e,n);if(t)r.y=r.y+n.height;else{r.x=r.x+n.width;const s=getComputedStyle(e).getPropertyValue("font-size"),o=Wxe(.5,parseInt(s.replace(/px/g,"")));r.y=r.y-o}e.style.top=`${r.y}px`,e.style.left=`${r.x}px`};function Jxe(i,e){const{className:t,mode:n=C1.Vertical,data:r=[],children:s,onClick:o,trigger:a="hover",title:u}=i,c=Zxe(i,["className","mode","data","children","onClick","trigger","title"]),h=ge.useRef(null),f=ge.useRef(!1);let p=MP(s,{onClick:o});const m=a==="hover"?200:0,v=n===C1.Horizontal?$xe:Hxe,b=bn(ap,v,t);if(r.length>0){const H=R=>R.map(M=>{if(M.type==="divider")return re.createElement(Kxe,{key:M.id});const G=OZ(o,M.onClick);return M.data&&M.data.length>0?re.createElement(Jde,Object.assign({key:M.id,mode:M.mode||n},M,{onClick:G}),H(M.data)):re.createElement(Xde,Object.assign({},M,{key:M.id,onClick:G}),M.name)});p=H(r)}const S=()=>{var H,R;(H=h.current)===null||H===void 0||H.querySelectorAll("ul").forEach(M=>{M.style.opacity="0",M.style.pointerEvents="none"}),(R=h.current)===null||R===void 0||R.querySelectorAll(`li.${BA}`).forEach(M=>{M.classList.remove(BA)})},x=Nr.debounce(H=>{if(f.current){const R=document.elementsFromPoint(H.pageX,H.pageY),M=R.find(I=>I.nodeName==="UL"),G=R.find(I=>I.nodeName==="LI");M&&(M.querySelectorAll("ul").forEach(I=>{I.style.opacity="0",I.style.pointerEvents="none"}),M.querySelectorAll(`li.${BA}`).forEach(I=>{I.classList.remove(BA)})),Xxe(G);const X=(G==null?void 0:G.querySelector("ul"))||void 0,$=(G==null?void 0:G.dataset.mode)||n;Qxe(G,X,Qde($))}},m),w=H=>{H.preventDefault(),H.persist(),H.stopPropagation(),f.current=!0,x(H)},E=()=>{f.current=!1},N=()=>b!=null&&b.includes(qde)?{}:{onContextMenu:H=>{H.preventDefault(),H.persist(),H.stopPropagation()},onClick:H=>{H.preventDefault(),H.persist(),H.stopPropagation()},[zde(a)]:w,onMouseOut:E},A=ge.useCallback(()=>{document.hidden&&S()},[]);return ge.useEffect(()=>(window.addEventListener("contextmenu",S),window.addEventListener("click",S),window.addEventListener("visibilitychange",A),()=>{document.removeEventListener("contextmenu",S),window.removeEventListener("click",S),window.removeEventListener("visibilitychange",A)}),[]),ge.useImperativeHandle(e,()=>({dispose:()=>{S()}})),re.createElement("ul",Object.assign({className:b,ref:h},typeof u=="string"?{title:u}:{},N(),c),p)}const Cl=ge.forwardRef(Jxe);function Lo(){return Lo=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Lo.apply(null,arguments)}function Yo(i){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(i)}function eEe(i,e){if(Yo(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function ehe(i){var e=eEe(i,"string");return Yo(e)=="symbol"?e:e+""}function rn(i,e,t){return(e=ehe(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function fne(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function xn(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fne(Object(t),!0).forEach(function(n){rn(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):fne(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function tEe(i,e){if(i==null)return{};var t={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(e.includes(n))continue;t[n]=i[n]}return t}function nF(i,e){if(i==null)return{};var t,n,r=tEe(i,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(n=0;n<s.length;n++)t=s[n],e.includes(t)||{}.propertyIsEnumerable.call(i,t)&&(r[t]=i[t])}return r}function Y1(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function gne(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,ehe(n.key),n)}}function Z1(i,e,t){return e&&gne(i.prototype,e),t&&gne(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function An(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function KU(i,e){return KU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},KU(i,e)}function Fy(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&KU(i,e)}function iF(i){return iF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iF(i)}function the(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(the=function(){return!!i})()}function nEe(i,e){if(e&&(Yo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return An(i)}function By(i){var e=the();return function(){var t,n=iF(i);if(e){var r=iF(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return nEe(this,t)}}var nhe=function(e){return+setTimeout(e,16)},ihe=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(nhe=function(e){return window.requestAnimationFrame(e)},ihe=function(e){return window.cancelAnimationFrame(e)});var pne=0,PZ=new Map;function rhe(i){PZ.delete(i)}var Df=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;pne+=1;var n=pne;function r(s){if(s===0)rhe(n),e();else{var o=nhe(function(){r(s-1)});PZ.set(n,o)}}return r(t),n};Df.cancel=function(i){var e=PZ.get(i);return rhe(i),ihe(e)};function TS(i,e){if(!i)return!1;if(i.contains)return i.contains(e);for(var t=e;t;){if(t===i)return!0;t=t.parentNode}return!1}function mne(i){return i instanceof HTMLElement||i instanceof SVGElement}function iEe(i){return i&&Yo(i)==="object"&&mne(i.nativeElement)?i.nativeElement:mne(i)?i:null}function mO(i){var e=iEe(i);if(e)return e;if(i instanceof re.Component){var t;return(t=BC.findDOMNode)===null||t===void 0?void 0:t.call(BC,i)}return null}var she={exports:{}},Jr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FZ=Symbol.for("react.element"),BZ=Symbol.for("react.portal"),U9=Symbol.for("react.fragment"),j9=Symbol.for("react.strict_mode"),K9=Symbol.for("react.profiler"),q9=Symbol.for("react.provider"),G9=Symbol.for("react.context"),rEe=Symbol.for("react.server_context"),Y9=Symbol.for("react.forward_ref"),Z9=Symbol.for("react.suspense"),X9=Symbol.for("react.suspense_list"),Q9=Symbol.for("react.memo"),J9=Symbol.for("react.lazy"),sEe=Symbol.for("react.offscreen"),ohe;ohe=Symbol.for("react.module.reference");function Od(i){if(typeof i=="object"&&i!==null){var e=i.$$typeof;switch(e){case FZ:switch(i=i.type,i){case U9:case K9:case j9:case Z9:case X9:return i;default:switch(i=i&&i.$$typeof,i){case rEe:case G9:case Y9:case J9:case Q9:case q9:return i;default:return e}}case BZ:return e}}}Jr.ContextConsumer=G9;Jr.ContextProvider=q9;Jr.Element=FZ;Jr.ForwardRef=Y9;Jr.Fragment=U9;Jr.Lazy=J9;Jr.Memo=Q9;Jr.Portal=BZ;Jr.Profiler=K9;Jr.StrictMode=j9;Jr.Suspense=Z9;Jr.SuspenseList=X9;Jr.isAsyncMode=function(){return!1};Jr.isConcurrentMode=function(){return!1};Jr.isContextConsumer=function(i){return Od(i)===G9};Jr.isContextProvider=function(i){return Od(i)===q9};Jr.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===FZ};Jr.isForwardRef=function(i){return Od(i)===Y9};Jr.isFragment=function(i){return Od(i)===U9};Jr.isLazy=function(i){return Od(i)===J9};Jr.isMemo=function(i){return Od(i)===Q9};Jr.isPortal=function(i){return Od(i)===BZ};Jr.isProfiler=function(i){return Od(i)===K9};Jr.isStrictMode=function(i){return Od(i)===j9};Jr.isSuspense=function(i){return Od(i)===Z9};Jr.isSuspenseList=function(i){return Od(i)===X9};Jr.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===U9||i===K9||i===j9||i===Z9||i===X9||i===sEe||typeof i=="object"&&i!==null&&(i.$$typeof===J9||i.$$typeof===Q9||i.$$typeof===q9||i.$$typeof===G9||i.$$typeof===Y9||i.$$typeof===ohe||i.getModuleId!==void 0)};Jr.typeOf=Od;she.exports=Jr;var tH=she.exports;function oEe(i,e,t){var n=ge.useRef({});return(!("value"in n.current)||t(n.current.condition,e))&&(n.current.value=i(),n.current.condition=e),n.current.value}var aEe=Symbol.for("react.element"),lEe=Symbol.for("react.transitional.element"),uEe=Symbol.for("react.fragment");function ahe(i){return i&&Yo(i)==="object"&&(i.$$typeof===aEe||i.$$typeof===lEe)&&i.type===uEe}var lhe=function(e,t){typeof e=="function"?e(t):Yo(e)==="object"&&e&&"current"in e&&(e.current=t)},WZ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(s){t.forEach(function(o){lhe(o,s)})}},cEe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oEe(function(){return WZ.apply(void 0,t)},t,function(r,s){return r.length!==s.length||r.every(function(o,a){return o!==s[a]})})},VZ=function(e){var t,n;if(!e)return!1;if(uhe(e)&&e.props.propertyIsEnumerable("ref"))return!0;var r=tH.isMemo(e)?e.type.type:e.type;return!(typeof r=="function"&&!((t=r.prototype)!==null&&t!==void 0&&t.render)&&r.$$typeof!==tH.ForwardRef||typeof e=="function"&&!((n=e.prototype)!==null&&n!==void 0&&n.render)&&e.$$typeof!==tH.ForwardRef)};function uhe(i){return ge.isValidElement(i)&&!ahe(i)}var che=function(e){if(e&&uhe(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function WA(i,e,t,n){var r=BC.unstable_batchedUpdates?function(o){BC.unstable_batchedUpdates(t,o)}:t;return i!=null&&i.addEventListener&&i.addEventListener(e,r,n),{remove:function(){i!=null&&i.removeEventListener&&i.removeEventListener(e,r,n)}}}function Wy(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var dhe=ge.forwardRef(function(i,e){var t=i.didUpdate,n=i.getContainer,r=i.children,s=ge.useRef(),o=ge.useRef();ge.useImperativeHandle(e,function(){return{}});var a=ge.useRef(!1);return!a.current&&Wy()&&(o.current=n(),s.current=o.current.parentNode,a.current=!0),ge.useEffect(function(){t==null||t(i)}),ge.useEffect(function(){return o.current.parentNode===null&&s.current!==null&&s.current.appendChild(o.current),function(){var u;(u=o.current)===null||u===void 0||(u=u.parentNode)===null||u===void 0||u.removeChild(o.current)}},[]),o.current?BC.createPortal(r,o.current):null}),hhe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,n(a)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}i.exports?(t.default=t,i.exports=t):window.classNames=t})()})(hhe);var dEe=hhe.exports;const Ad=Om(dEe);function hEe(i,e,t){return t?i[0]===e[0]:i[0]===e[0]&&i[1]===e[1]}function fEe(i,e,t){var n=i[e]||{};return xn(xn({},n),t)}function gEe(i,e,t,n){for(var r=t.points,s=Object.keys(i),o=0;o<s.length;o+=1){var a=s[o];if(hEe(i[a].points,r,n))return"".concat(e,"-placement-").concat(a)}return""}function pEe(i){if(Array.isArray(i))return i}function mEe(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,s,o,a=[],u=!0,c=!1;try{if(s=(t=t.call(i)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=s.call(t)).done)&&(a.push(n.value),a.length!==e);u=!0);}catch(h){c=!0,r=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function qU(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function fhe(i,e){if(i){if(typeof i=="string")return qU(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qU(i,e):void 0}}function _Ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ls(i,e){return pEe(i)||mEe(i,e)||fhe(i,e)||_Ee()}const vEe=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var i=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(i==null?void 0:i.substr(0,4))};var bEe=ge.createContext({}),CEe=function(i){Fy(t,i);var e=By(t);function t(){return Y1(this,t),e.apply(this,arguments)}return Z1(t,[{key:"render",value:function(){return this.props.children}}]),t}(ge.Component);function GU(i){var e=ge.useRef();e.current=i;var t=ge.useCallback(function(){for(var n,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=e.current)===null||n===void 0?void 0:n.call.apply(n,[e].concat(s))},[]);return t}var _ne=Wy()?ge.useLayoutEffect:ge.useEffect,YU=function(e,t){var n=ge.useRef(!0);_ne(function(){return e(n.current)},t),_ne(function(){return n.current=!1,function(){n.current=!0}},[])};function rF(i){var e=ge.useRef(!1),t=ge.useState(i),n=Ls(t,2),r=n[0],s=n[1];ge.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,u){u&&e.current||s(a)}return[r,o]}function yEe(i){if(Array.isArray(i))return qU(i)}function wEe(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function SEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vne(i){return yEe(i)||wEe(i)||fhe(i)||SEe()}var ZU={},xEe=function(e){};function EEe(i,e){}function LEe(i,e){}function DEe(){ZU={}}function ghe(i,e,t){!e&&!ZU[t]&&(i(!1,t),ZU[t]=!0)}function eB(i,e){ghe(EEe,i,e)}function TEe(i,e){ghe(LEe,i,e)}eB.preMessage=xEe;eB.resetWarned=DEe;eB.noteOnce=TEe;function IEe(i){var e=ge.useReducer(function(a){return a+1},0),t=Ls(e,2),n=t[1],r=ge.useRef(i),s=GU(function(){return r.current}),o=GU(function(a){r.current=typeof a=="function"?a(r.current):a,n()});return[s,o]}var g0="none",e5="appear",t5="enter",n5="leave",bne="none",nf="prepare",iS="start",rS="active",HZ="end",phe="prepared";function Cne(i,e){var t={};return t[i.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(i)]="webkit".concat(e),t["Moz".concat(i)]="moz".concat(e),t["ms".concat(i)]="MS".concat(e),t["O".concat(i)]="o".concat(e.toLowerCase()),t}function kEe(i,e){var t={animationend:Cne("Animation","AnimationEnd"),transitionend:Cne("Transition","TransitionEnd")};return i&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var NEe=kEe(Wy(),typeof window<"u"?window:{}),mhe={};if(Wy()){var AEe=document.createElement("div");mhe=AEe.style}var i5={};function _he(i){if(i5[i])return i5[i];var e=NEe[i];if(e)for(var t=Object.keys(e),n=t.length,r=0;r<n;r+=1){var s=t[r];if(Object.prototype.hasOwnProperty.call(e,s)&&s in mhe)return i5[i]=e[s],i5[i]}return""}var vhe=_he("animationend"),bhe=_he("transitionend"),Che=!!(vhe&&bhe),yne=vhe||"animationend",wne=bhe||"transitionend";function Sne(i,e){if(!i)return null;if(Yo(i)==="object"){var t=e.replace(/-\w/g,function(n){return n[1].toUpperCase()});return i[t]}return"".concat(i,"-").concat(e)}const OEe=function(i){var e=ge.useRef();function t(r){r&&(r.removeEventListener(wne,i),r.removeEventListener(yne,i))}function n(r){e.current&&e.current!==r&&t(e.current),r&&r!==e.current&&(r.addEventListener(wne,i),r.addEventListener(yne,i),e.current=r)}return ge.useEffect(function(){return function(){t(e.current)}},[]),[n,t]};var yhe=Wy()?ge.useLayoutEffect:ge.useEffect;const MEe=function(){var i=ge.useRef(null);function e(){Df.cancel(i.current)}function t(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=Df(function(){r<=1?n({isCanceled:function(){return s!==i.current}}):t(n,r-1)});i.current=s}return ge.useEffect(function(){return function(){e()}},[]),[t,e]};var REe=[nf,iS,rS,HZ],PEe=[nf,phe],whe=!1,FEe=!0;function She(i){return i===rS||i===HZ}const BEe=function(i,e,t){var n=rF(bne),r=Ls(n,2),s=r[0],o=r[1],a=MEe(),u=Ls(a,2),c=u[0],h=u[1];function f(){o(nf,!0)}var p=e?PEe:REe;return yhe(function(){if(s!==bne&&s!==HZ){var m=p.indexOf(s),v=p[m+1],b=t(s);b===whe?o(v,!0):v&&c(function(S){function x(){S.isCanceled()||o(v,!0)}b===!0?x():Promise.resolve(b).then(x)})}},[i,s]),ge.useEffect(function(){return function(){h()}},[]),[f,s]};function WEe(i,e,t,n){var r=n.motionEnter,s=r===void 0?!0:r,o=n.motionAppear,a=o===void 0?!0:o,u=n.motionLeave,c=u===void 0?!0:u,h=n.motionDeadline,f=n.motionLeaveImmediately,p=n.onAppearPrepare,m=n.onEnterPrepare,v=n.onLeavePrepare,b=n.onAppearStart,S=n.onEnterStart,x=n.onLeaveStart,w=n.onAppearActive,E=n.onEnterActive,N=n.onLeaveActive,A=n.onAppearEnd,H=n.onEnterEnd,R=n.onLeaveEnd,M=n.onVisibleChanged,G=rF(),X=Ls(G,2),$=X[0],I=X[1],O=IEe(g0),B=Ls(O,2),W=B[0],j=B[1],U=rF(null),K=Ls(U,2),z=K[0],k=K[1],q=W(),fe=ge.useRef(!1),ne=ge.useRef(null);function Ce(){return t()}var Te=ge.useRef(!1);function He(){j(g0),k(null,!0)}var ot=GU(function(Vt){var un=W();if(un!==g0){var Qn=Ce();if(!(Vt&&!Vt.deadline&&Vt.target!==Qn)){var ke=Te.current,Pe;un===e5&&ke?Pe=A==null?void 0:A(Qn,Vt):un===t5&&ke?Pe=H==null?void 0:H(Qn,Vt):un===n5&&ke&&(Pe=R==null?void 0:R(Qn,Vt)),ke&&Pe!==!1&&He()}}}),Rt=OEe(ot),Re=Ls(Rt,1),dt=Re[0],wt=function(un){switch(un){case e5:return rn(rn(rn({},nf,p),iS,b),rS,w);case t5:return rn(rn(rn({},nf,m),iS,S),rS,E);case n5:return rn(rn(rn({},nf,v),iS,x),rS,N);default:return{}}},Je=ge.useMemo(function(){return wt(q)},[q]),ln=BEe(q,!i,function(Vt){if(Vt===nf){var un=Je[nf];return un?un(Ce()):whe}if(Ln in Je){var Qn;k(((Qn=Je[Ln])===null||Qn===void 0?void 0:Qn.call(Je,Ce(),null))||null)}return Ln===rS&&q!==g0&&(dt(Ce()),h>0&&(clearTimeout(ne.current),ne.current=setTimeout(function(){ot({deadline:!0})},h))),Ln===phe&&He(),FEe}),Yt=Ls(ln,2),pn=Yt[0],Ln=Yt[1],Un=She(Ln);Te.current=Un;var ci=ge.useRef(null);yhe(function(){if(!(fe.current&&ci.current===e)){I(e);var Vt=fe.current;fe.current=!0;var un;!Vt&&e&&a&&(un=e5),Vt&&e&&s&&(un=t5),(Vt&&!e&&c||!Vt&&f&&!e&&c)&&(un=n5);var Qn=wt(un);un&&(i||Qn[nf])?(j(un),pn()):j(g0),ci.current=e}},[e]),ge.useEffect(function(){(q===e5&&!a||q===t5&&!s||q===n5&&!c)&&j(g0)},[a,s,c]),ge.useEffect(function(){return function(){fe.current=!1,clearTimeout(ne.current)}},[]);var di=ge.useRef(!1);ge.useEffect(function(){$&&(di.current=!0),$!==void 0&&q===g0&&((di.current||$)&&(M==null||M($)),di.current=!0)},[$,q]);var Gi=z;return Je[nf]&&Ln===iS&&(Gi=xn({transition:"none"},Gi)),[q,Ln,Gi,$??e]}function VEe(i){var e=i;Yo(i)==="object"&&(e=i.transitionSupport);function t(r,s){return!!(r.motionName&&e&&s!==!1)}var n=ge.forwardRef(function(r,s){var o=r.visible,a=o===void 0?!0:o,u=r.removeOnLeave,c=u===void 0?!0:u,h=r.forceRender,f=r.children,p=r.motionName,m=r.leavedClassName,v=r.eventProps,b=ge.useContext(bEe),S=b.motion,x=t(r,S),w=ge.useRef(),E=ge.useRef();function N(){try{return w.current instanceof HTMLElement?w.current:mO(E.current)}catch{return null}}var A=WEe(x,a,N,r),H=Ls(A,4),R=H[0],M=H[1],G=H[2],X=H[3],$=ge.useRef(X);X&&($.current=!0);var I=ge.useCallback(function(K){w.current=K,lhe(s,K)},[s]),O,B=xn(xn({},v),{},{visible:a});if(!f)O=null;else if(R===g0)X?O=f(xn({},B),I):!c&&$.current&&m?O=f(xn(xn({},B),{},{className:m}),I):h||!c&&!m?O=f(xn(xn({},B),{},{style:{display:"none"}}),I):O=null;else{var W;M===nf?W="prepare":She(M)?W="active":M===iS&&(W="start");var j=Sne(p,"".concat(R,"-").concat(W));O=f(xn(xn({},B),{},{className:Ad(Sne(p,R),rn(rn({},j,j&&W),p,typeof p=="string")),style:G}),I)}if(ge.isValidElement(O)&&VZ(O)){var U=che(O);U||(O=ge.cloneElement(O,{ref:I}))}return ge.createElement(CEe,{ref:E},O)});return n.displayName="CSSMotion",n}const wE=VEe(Che);var XU="add",QU="keep",JU="remove",nH="removed";function HEe(i){var e;return i&&Yo(i)==="object"&&"key"in i?e=i:e={key:i},xn(xn({},e),{},{key:String(e.key)})}function ej(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return i.map(HEe)}function $Ee(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],n=0,r=e.length,s=ej(i),o=ej(e);s.forEach(function(c){for(var h=!1,f=n;f<r;f+=1){var p=o[f];if(p.key===c.key){n<f&&(t=t.concat(o.slice(n,f).map(function(m){return xn(xn({},m),{},{status:XU})})),n=f),t.push(xn(xn({},p),{},{status:QU})),n+=1,h=!0;break}}h||t.push(xn(xn({},c),{},{status:JU}))}),n<r&&(t=t.concat(o.slice(n).map(function(c){return xn(xn({},c),{},{status:XU})})));var a={};t.forEach(function(c){var h=c.key;a[h]=(a[h]||0)+1});var u=Object.keys(a).filter(function(c){return a[c]>1});return u.forEach(function(c){t=t.filter(function(h){var f=h.key,p=h.status;return f!==c||p!==JU}),t.forEach(function(h){h.key===c&&(h.status=QU)})}),t}var zEe=["component","children","onVisibleChanged","onAllRemoved"],UEe=["status"],jEe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function KEe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wE,t=function(n){Fy(s,n);var r=By(s);function s(){var o;Y1(this,s);for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return o=r.call.apply(r,[this].concat(u)),rn(An(o),"state",{keyEntities:[]}),rn(An(o),"removeKey",function(h){o.setState(function(f){var p=f.keyEntities.map(function(m){return m.key!==h?m:xn(xn({},m),{},{status:nH})});return{keyEntities:p}},function(){var f=o.state.keyEntities,p=f.filter(function(m){var v=m.status;return v!==nH}).length;p===0&&o.props.onAllRemoved&&o.props.onAllRemoved()})}),o}return Z1(s,[{key:"render",value:function(){var a=this,u=this.state.keyEntities,c=this.props,h=c.component,f=c.children,p=c.onVisibleChanged;c.onAllRemoved;var m=nF(c,zEe),v=h||ge.Fragment,b={};return jEe.forEach(function(S){b[S]=m[S],delete m[S]}),delete m.keys,ge.createElement(v,m,u.map(function(S,x){var w=S.status,E=nF(S,UEe),N=w===XU||w===QU;return ge.createElement(e,Lo({},b,{key:E.key,visible:N,eventProps:E,onVisibleChanged:function(H){p==null||p(H,{key:E.key}),H||a.removeKey(E.key)}}),function(A,H){return f(xn(xn({},A),{},{index:x}),H)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,u){var c=a.keys,h=u.keyEntities,f=ej(c),p=$Ee(h,f);return{keyEntities:p.filter(function(m){var v=h.find(function(b){var S=b.key;return m.key===S});return!(v&&v.status===nH&&m.status===JU)})}}}]),s}(ge.Component);return rn(t,"defaultProps",{component:"div"}),t}KEe(Che);function xhe(i){var e=i.prefixCls,t=i.motion,n=i.animation,r=i.transitionName;return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function qEe(i){var e=i.prefixCls,t=i.visible,n=i.zIndex,r=i.mask,s=i.maskMotion,o=i.maskAnimation,a=i.maskTransitionName;if(!r)return null;var u={};return(s||a||o)&&(u=xn({motionAppear:!0},xhe({motion:s,prefixCls:e,transitionName:a,animation:o}))),ge.createElement(wE,Lo({},u,{visible:t,removeOnLeave:!0}),function(c){var h=c.className;return ge.createElement("div",{style:{zIndex:n},className:Ad("".concat(e,"-mask"),h)})})}function xne(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Ene(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xne(Object(t),!0).forEach(function(n){GEe(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):xne(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function tj(i){"@babel/helpers - typeof";return tj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tj(i)}function GEe(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var hA,YEe={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function sF(){if(hA!==void 0)return hA;hA="";var i=document.createElement("p").style,e="Transform";for(var t in YEe)t+e in i&&(hA=t);return hA}function Ehe(){return sF()?"".concat(sF(),"TransitionProperty"):"transitionProperty"}function tB(){return sF()?"".concat(sF(),"Transform"):"transform"}function Lne(i,e){var t=Ehe();t&&(i.style[t]=e,t!=="transitionProperty"&&(i.style.transitionProperty=e))}function iH(i,e){var t=tB();t&&(i.style[t]=e,t!=="transform"&&(i.style.transform=e))}function ZEe(i){return i.style.transitionProperty||i.style[Ehe()]}function XEe(i){var e=window.getComputedStyle(i,null),t=e.getPropertyValue("transform")||e.getPropertyValue(tB());if(t&&t!=="none"){var n=t.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var QEe=/matrix\((.*)\)/,JEe=/matrix3d\((.*)\)/;function eLe(i,e){var t=window.getComputedStyle(i,null),n=t.getPropertyValue("transform")||t.getPropertyValue(tB());if(n&&n!=="none"){var r,s=n.match(QEe);if(s)s=s[1],r=s.split(",").map(function(a){return parseFloat(a,10)}),r[4]=e.x,r[5]=e.y,iH(i,"matrix(".concat(r.join(","),")"));else{var o=n.match(JEe)[1];r=o.split(",").map(function(a){return parseFloat(a,10)}),r[12]=e.x,r[13]=e.y,iH(i,"matrix3d(".concat(r.join(","),")"))}}else iH(i,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var tLe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,FP;function Dne(i){var e=i.style.display;i.style.display="none",i.offsetHeight,i.style.display=e}function IS(i,e,t){var n=t;if(tj(e)==="object"){for(var r in e)e.hasOwnProperty(r)&&IS(i,r,e[r]);return}if(typeof n<"u"){typeof n=="number"&&(n="".concat(n,"px")),i.style[e]=n;return}return FP(i,e)}function nLe(i){var e,t,n,r=i.ownerDocument,s=r.body,o=r&&r.documentElement;return e=i.getBoundingClientRect(),t=Math.floor(e.left),n=Math.floor(e.top),t-=o.clientLeft||s.clientLeft||0,n-=o.clientTop||s.clientTop||0,{left:t,top:n}}function Lhe(i,e){var t=i["page".concat(e?"Y":"X","Offset")],n="scroll".concat(e?"Top":"Left");if(typeof t!="number"){var r=i.document;t=r.documentElement[n],typeof t!="number"&&(t=r.body[n])}return t}function Dhe(i){return Lhe(i)}function The(i){return Lhe(i,!0)}function uM(i){var e=nLe(i),t=i.ownerDocument,n=t.defaultView||t.parentWindow;return e.left+=Dhe(n),e.top+=The(n),e}function $Z(i){return i!=null&&i==i.window}function Ihe(i){return $Z(i)?i.document:i.nodeType===9?i:i.ownerDocument}function iLe(i,e,t){var n=t,r="",s=Ihe(i);return n=n||s.defaultView.getComputedStyle(i,null),n&&(r=n.getPropertyValue(e)||n[e]),r}var rLe=new RegExp("^(".concat(tLe,")(?!px)[a-z%]+$"),"i"),sLe=/^(top|right|bottom|left)$/,rH="currentStyle",sH="runtimeStyle",lb="left",oLe="px";function aLe(i,e){var t=i[rH]&&i[rH][e];if(rLe.test(t)&&!sLe.test(e)){var n=i.style,r=n[lb],s=i[sH][lb];i[sH][lb]=i[rH][lb],n[lb]=e==="fontSize"?"1em":t||0,t=n.pixelLeft+oLe,n[lb]=r,i[sH][lb]=s}return t===""?"auto":t}typeof window<"u"&&(FP=window.getComputedStyle?iLe:aLe);function r5(i,e){return i==="left"?e.useCssRight?"right":i:e.useCssBottom?"bottom":i}function Tne(i){if(i==="left")return"right";if(i==="right")return"left";if(i==="top")return"bottom";if(i==="bottom")return"top"}function Ine(i,e,t){IS(i,"position")==="static"&&(i.style.position="relative");var n=-999,r=-999,s=r5("left",t),o=r5("top",t),a=Tne(s),u=Tne(o);s!=="left"&&(n=999),o!=="top"&&(r=999);var c="",h=uM(i);("left"in e||"top"in e)&&(c=ZEe(i)||"",Lne(i,"none")),"left"in e&&(i.style[a]="",i.style[s]="".concat(n,"px")),"top"in e&&(i.style[u]="",i.style[o]="".concat(r,"px")),Dne(i);var f=uM(i),p={};for(var m in e)if(e.hasOwnProperty(m)){var v=r5(m,t),b=m==="left"?n:r,S=h[m]-f[m];v===m?p[v]=b+S:p[v]=b-S}IS(i,p),Dne(i),("left"in e||"top"in e)&&Lne(i,c);var x={};for(var w in e)if(e.hasOwnProperty(w)){var E=r5(w,t),N=e[w]-h[w];w===E?x[E]=p[E]+N:x[E]=p[E]-N}IS(i,x)}function lLe(i,e){var t=uM(i),n=XEe(i),r={x:n.x,y:n.y};"left"in e&&(r.x=n.x+e.left-t.left),"top"in e&&(r.y=n.y+e.top-t.top),eLe(i,r)}function uLe(i,e,t){if(t.ignoreShake){var n=uM(i),r=n.left.toFixed(0),s=n.top.toFixed(0),o=e.left.toFixed(0),a=e.top.toFixed(0);if(r===o&&s===a)return}t.useCssRight||t.useCssBottom?Ine(i,e,t):t.useCssTransform&&tB()in document.body.style?lLe(i,e):Ine(i,e,t)}function zZ(i,e){for(var t=0;t<i.length;t++)e(i[t])}function khe(i){return FP(i,"boxSizing")==="border-box"}var cLe=["margin","border","padding"],nj=-1,dLe=2,ij=1,hLe=0;function fLe(i,e,t){var n={},r=i.style,s;for(s in e)e.hasOwnProperty(s)&&(n[s]=r[s],r[s]=e[s]);t.call(i);for(s in e)e.hasOwnProperty(s)&&(r[s]=n[s])}function VA(i,e,t){var n=0,r,s,o;for(s=0;s<e.length;s++)if(r=e[s],r)for(o=0;o<t.length;o++){var a=void 0;r==="border"?a="".concat(r).concat(t[o],"Width"):a=r+t[o],n+=parseFloat(FP(i,a))||0}return n}var Ag={getParent:function(e){var t=e;do t.nodeType===11&&t.host?t=t.host:t=t.parentNode;while(t&&t.nodeType!==1&&t.nodeType!==9);return t}};zZ(["Width","Height"],function(i){Ag["doc".concat(i)]=function(e){var t=e.document;return Math.max(t.documentElement["scroll".concat(i)],t.body["scroll".concat(i)],Ag["viewport".concat(i)](t))},Ag["viewport".concat(i)]=function(e){var t="client".concat(i),n=e.document,r=n.body,s=n.documentElement,o=s[t];return n.compatMode==="CSS1Compat"&&o||r&&r[t]||o}});function kne(i,e,t){var n=t;if($Z(i))return e==="width"?Ag.viewportWidth(i):Ag.viewportHeight(i);if(i.nodeType===9)return e==="width"?Ag.docWidth(i):Ag.docHeight(i);var r=e==="width"?["Left","Right"]:["Top","Bottom"],s=Math.floor(e==="width"?i.getBoundingClientRect().width:i.getBoundingClientRect().height),o=khe(i),a=0;(s==null||s<=0)&&(s=void 0,a=FP(i,e),(a==null||Number(a)<0)&&(a=i.style[e]||0),a=Math.floor(parseFloat(a))||0),n===void 0&&(n=o?ij:nj);var u=s!==void 0||o,c=s||a;return n===nj?u?c-VA(i,["border","padding"],r):a:u?n===ij?c:c+(n===dLe?-VA(i,["border"],r):VA(i,["margin"],r)):a+VA(i,cLe.slice(n),r)}var gLe={position:"absolute",visibility:"hidden",display:"block"};function Nne(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var n,r=e[0];return r.offsetWidth!==0?n=kne.apply(void 0,e):fLe(r,gLe,function(){n=kne.apply(void 0,e)}),n}zZ(["width","height"],function(i){var e=i.charAt(0).toUpperCase()+i.slice(1);Ag["outer".concat(e)]=function(n,r){return n&&Nne(n,i,r?hLe:ij)};var t=i==="width"?["Left","Right"]:["Top","Bottom"];Ag[i]=function(n,r){var s=r;if(s!==void 0){if(n){var o=khe(n);return o&&(s+=VA(n,["padding","border"],t)),IS(n,i,s)}return}return n&&Nne(n,i,nj)}});function Nhe(i,e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}var vi={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Ihe,offset:function(e,t,n){if(typeof t<"u")uLe(e,t,n||{});else return uM(e)},isWindow:$Z,each:zZ,css:IS,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);var r=e.overflow;if(r)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Nhe,getWindowScrollLeft:function(e){return Dhe(e)},getWindowScrollTop:function(e){return The(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)vi.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Nhe(vi,Ag);var oH=vi.getParent;function rj(i){if(vi.isWindow(i)||i.nodeType===9)return null;var e=vi.getDocument(i),t=e.body,n,r=vi.css(i,"position"),s=r==="fixed"||r==="absolute";if(!s)return i.nodeName.toLowerCase()==="html"?null:oH(i);for(n=oH(i);n&&n!==t&&n.nodeType!==9;n=oH(n))if(r=vi.css(n,"position"),r!=="static")return n;return null}var Ane=vi.getParent;function pLe(i){if(vi.isWindow(i)||i.nodeType===9)return!1;var e=vi.getDocument(i),t=e.body,n=null;for(n=Ane(i);n&&n!==t&&n!==e;n=Ane(n)){var r=vi.css(n,"position");if(r==="fixed")return!0}return!1}function UZ(i,e){for(var t={left:0,right:1/0,top:0,bottom:1/0},n=rj(i),r=vi.getDocument(i),s=r.defaultView||r.parentWindow,o=r.body,a=r.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==o&&n!==a&&vi.css(n,"overflow")!=="visible"){var u=vi.offset(n);u.left+=n.clientLeft,u.top+=n.clientTop,t.top=Math.max(t.top,u.top),t.right=Math.min(t.right,u.left+n.clientWidth),t.bottom=Math.min(t.bottom,u.top+n.clientHeight),t.left=Math.max(t.left,u.left)}else if(n===o||n===a)break;n=rj(n)}var c=null;if(!vi.isWindow(i)&&i.nodeType!==9){c=i.style.position;var h=vi.css(i,"position");h==="absolute"&&(i.style.position="fixed")}var f=vi.getWindowScrollLeft(s),p=vi.getWindowScrollTop(s),m=vi.viewportWidth(s),v=vi.viewportHeight(s),b=a.scrollWidth,S=a.scrollHeight,x=window.getComputedStyle(o);if(x.overflowX==="hidden"&&(b=s.innerWidth),x.overflowY==="hidden"&&(S=s.innerHeight),i.style&&(i.style.position=c),e||pLe(i))t.left=Math.max(t.left,f),t.top=Math.max(t.top,p),t.right=Math.min(t.right,f+m),t.bottom=Math.min(t.bottom,p+v);else{var w=Math.max(b,f+m);t.right=Math.min(t.right,w);var E=Math.max(S,p+v);t.bottom=Math.min(t.bottom,E)}return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null}function mLe(i,e,t,n){var r=vi.clone(i),s={width:e.width,height:e.height};return n.adjustX&&r.left<t.left&&(r.left=t.left),n.resizeWidth&&r.left>=t.left&&r.left+s.width>t.right&&(s.width-=r.left+s.width-t.right),n.adjustX&&r.left+s.width>t.right&&(r.left=Math.max(t.right-s.width,t.left)),n.adjustY&&r.top<t.top&&(r.top=t.top),n.resizeHeight&&r.top>=t.top&&r.top+s.height>t.bottom&&(s.height-=r.top+s.height-t.bottom),n.adjustY&&r.top+s.height>t.bottom&&(r.top=Math.max(t.bottom-s.height,t.top)),vi.mix(r,s)}function jZ(i){var e,t,n;if(!vi.isWindow(i)&&i.nodeType!==9)e=vi.offset(i),t=vi.outerWidth(i),n=vi.outerHeight(i);else{var r=vi.getWindow(i);e={left:vi.getWindowScrollLeft(r),top:vi.getWindowScrollTop(r)},t=vi.viewportWidth(r),n=vi.viewportHeight(r)}return e.width=t,e.height=n,e}function One(i,e){var t=e.charAt(0),n=e.charAt(1),r=i.width,s=i.height,o=i.left,a=i.top;return t==="c"?a+=s/2:t==="b"&&(a+=s),n==="c"?o+=r/2:n==="r"&&(o+=r),{left:o,top:a}}function s5(i,e,t,n,r){var s=One(e,t[1]),o=One(i,t[0]),a=[o.left-s.left,o.top-s.top];return{left:Math.round(i.left-a[0]+n[0]-r[0]),top:Math.round(i.top-a[1]+n[1]-r[1])}}function Mne(i,e,t){return i.left<t.left||i.left+e.width>t.right}function Rne(i,e,t){return i.top<t.top||i.top+e.height>t.bottom}function _Le(i,e,t){return i.left>t.right||i.left+e.width<t.left}function vLe(i,e,t){return i.top>t.bottom||i.top+e.height<t.top}function o5(i,e,t){var n=[];return vi.each(i,function(r){n.push(r.replace(e,function(s){return t[s]}))}),n}function a5(i,e){return i[e]=-i[e],i}function Pne(i,e){var t;return/%$/.test(i)?t=parseInt(i.substring(0,i.length-1),10)/100*e:t=parseInt(i,10),t||0}function Fne(i,e){i[0]=Pne(i[0],e.width),i[1]=Pne(i[1],e.height)}function Ahe(i,e,t,n){var r=t.points,s=t.offset||[0,0],o=t.targetOffset||[0,0],a=t.overflow,u=t.source||i;s=[].concat(s),o=[].concat(o),a=a||{};var c={},h=0,f=!!(a&&a.alwaysByViewport),p=UZ(u,f),m=jZ(u);Fne(s,m),Fne(o,e);var v=s5(m,e,r,s,o),b=vi.merge(m,v);if(p&&(a.adjustX||a.adjustY)&&n){if(a.adjustX&&Mne(v,m,p)){var S=o5(r,/[lr]/gi,{l:"r",r:"l"}),x=a5(s,0),w=a5(o,0),E=s5(m,e,S,x,w);_Le(E,m,p)||(h=1,r=S,s=x,o=w)}if(a.adjustY&&Rne(v,m,p)){var N=o5(r,/[tb]/gi,{t:"b",b:"t"}),A=a5(s,1),H=a5(o,1),R=s5(m,e,N,A,H);vLe(R,m,p)||(h=1,r=N,s=A,o=H)}h&&(v=s5(m,e,r,s,o),vi.mix(b,v));var M=Mne(v,m,p),G=Rne(v,m,p);if(M||G){var X=r;M&&(X=o5(r,/[lr]/gi,{l:"r",r:"l"})),G&&(X=o5(r,/[tb]/gi,{t:"b",b:"t"})),r=X,s=t.offset||[0,0],o=t.targetOffset||[0,0]}c.adjustX=a.adjustX&&M,c.adjustY=a.adjustY&&G,(c.adjustX||c.adjustY)&&(b=mLe(v,m,p,c))}return b.width!==m.width&&vi.css(u,"width",vi.width(u)+b.width-m.width),b.height!==m.height&&vi.css(u,"height",vi.height(u)+b.height-m.height),vi.offset(u,{left:b.left,top:b.top},{useCssRight:t.useCssRight,useCssBottom:t.useCssBottom,useCssTransform:t.useCssTransform,ignoreShake:t.ignoreShake}),{points:r,offset:s,targetOffset:o,overflow:c}}function bLe(i,e){var t=UZ(i,e),n=jZ(i);return!t||n.left+n.width<=t.left||n.top+n.height<=t.top||n.left>=t.right||n.top>=t.bottom}function KZ(i,e,t){var n=t.target||e,r=jZ(n),s=!bLe(n,t.overflow&&t.overflow.alwaysByViewport);return Ahe(i,r,t,s)}KZ.__getOffsetParent=rj;KZ.__getVisibleRectForElement=UZ;function CLe(i,e,t){var n,r,s=vi.getDocument(i),o=s.defaultView||s.parentWindow,a=vi.getWindowScrollLeft(o),u=vi.getWindowScrollTop(o),c=vi.viewportWidth(o),h=vi.viewportHeight(o);"pageX"in e?n=e.pageX:n=a+e.clientX,"pageY"in e?r=e.pageY:r=u+e.clientY;var f={left:n,top:r,width:0,height:0},p=n>=0&&n<=a+c&&r>=0&&r<=u+h,m=[t.points[0],"cc"];return Ahe(i,f,Ene(Ene({},t),{},{points:m}),p)}function yLe(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function r(s,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=n.has(s);if(eB(!u,"Warning: There may be circular references"),u)return!1;if(s===o)return!0;if(t&&a>1)return!1;n.add(s);var c=a+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var h=0;h<s.length;h++)if(!r(s[h],o[h],c))return!1;return!0}if(s&&o&&Yo(s)==="object"&&Yo(o)==="object"){var f=Object.keys(s);return f.length!==Object.keys(o).length?!1:f.every(function(p){return r(s[p],o[p],c)})}return!1}return r(i,e)}const wLe=function(i){if(!i)return!1;if(i instanceof Element){if(i.offsetParent)return!0;if(i.getBBox){var e=i.getBBox(),t=e.width,n=e.height;if(t||n)return!0}if(i.getBoundingClientRect){var r=i.getBoundingClientRect(),s=r.width,o=r.height;if(s||o)return!0}}return!1},SLe=function(i,e){var t=re.useRef(!1),n=re.useRef(null);function r(){window.clearTimeout(n.current)}function s(o){if(r(),!t.current||o===!0){if(i(o)===!1)return;t.current=!0,n.current=window.setTimeout(function(){t.current=!1},e)}else n.current=window.setTimeout(function(){t.current=!1,s()},e)}return[s,function(){t.current=!1,r()}]};var Ohe=function(){if(typeof Map<"u")return Map;function i(e,t){var n=-1;return e.some(function(r,s){return r[0]===t?(n=s,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=i(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(t,n){var r=i(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,r=i(n,t);~r&&n.splice(r,1)},e.prototype.has=function(t){return!!~i(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var r=0,s=this.__entries__;r<s.length;r++){var o=s[r];t.call(n,o[1],o[0])}},e}()}(),sj=typeof window<"u"&&typeof document<"u"&&window.document===document,oF=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),xLe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(oF):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}}(),ELe=2;function LLe(i,e){var t=!1,n=!1,r=0;function s(){t&&(t=!1,i()),n&&a()}function o(){xLe(s)}function a(){var u=Date.now();if(t){if(u-r<ELe)return;n=!0}else t=!0,n=!1,setTimeout(o,e);r=u}return a}var DLe=20,TLe=["top","right","bottom","left","width","height","size","weight"],ILe=typeof MutationObserver<"u",kLe=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=LLe(this.refresh.bind(this),DLe)}return i.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},i.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},i.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},i.prototype.connect_=function(){!sj||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ILe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!sj||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,r=TLe.some(function(s){return!!~n.indexOf(s)});r&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),Mhe=function(i,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];Object.defineProperty(i,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return i},gx=function(i){var e=i&&i.ownerDocument&&i.ownerDocument.defaultView;return e||oF},Rhe=nB(0,0,0,0);function aF(i){return parseFloat(i)||0}function Bne(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,r){var s=i["border-"+r+"-width"];return n+aF(s)},0)}function NLe(i){for(var e=["top","right","bottom","left"],t={},n=0,r=e;n<r.length;n++){var s=r[n],o=i["padding-"+s];t[s]=aF(o)}return t}function ALe(i){var e=i.getBBox();return nB(0,0,e.width,e.height)}function OLe(i){var e=i.clientWidth,t=i.clientHeight;if(!e&&!t)return Rhe;var n=gx(i).getComputedStyle(i),r=NLe(n),s=r.left+r.right,o=r.top+r.bottom,a=aF(n.width),u=aF(n.height);if(n.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=Bne(n,"left","right")+s),Math.round(u+o)!==t&&(u-=Bne(n,"top","bottom")+o)),!RLe(i)){var c=Math.round(a+s)-e,h=Math.round(u+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(h)!==1&&(u-=h)}return nB(r.left,r.top,a,u)}var MLe=function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof gx(i).SVGGraphicsElement}:function(i){return i instanceof gx(i).SVGElement&&typeof i.getBBox=="function"}}();function RLe(i){return i===gx(i).document.documentElement}function PLe(i){return sj?MLe(i)?ALe(i):OLe(i):Rhe}function FLe(i){var e=i.x,t=i.y,n=i.width,r=i.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return Mhe(o,{x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:r+t,left:e}),o}function nB(i,e,t,n){return{x:i,y:e,width:t,height:n}}var BLe=function(){function i(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=nB(0,0,0,0),this.target=e}return i.prototype.isActive=function(){var e=PLe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},i}(),WLe=function(){function i(e,t){var n=FLe(t);Mhe(this,{target:e,contentRect:n})}return i}(),VLe=function(){function i(e,t,n){if(this.activeObservations_=[],this.observations_=new Ohe,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return i.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof gx(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new BLe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof gx(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new WLe(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),Phe=typeof WeakMap<"u"?new WeakMap:new Ohe,Fhe=function(){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=kLe.getInstance(),n=new VLe(e,t,this);Phe.set(this,n)}return i}();["observe","unobserve","disconnect"].forEach(function(i){Fhe.prototype[i]=function(){var e;return(e=Phe.get(this))[i].apply(e,arguments)}});var Bhe=function(){return typeof oF.ResizeObserver<"u"?oF.ResizeObserver:Fhe}();function HLe(i,e){return i===e?!0:!i||!e?!1:"pageX"in e&&"pageY"in e?i.pageX===e.pageX&&i.pageY===e.pageY:"clientX"in e&&"clientY"in e?i.clientX===e.clientX&&i.clientY===e.clientY:!1}function $Le(i,e){i!==document.activeElement&&TS(e,i)&&typeof i.focus=="function"&&i.focus()}function Wne(i,e){var t=null,n=null;function r(o){var a=Ls(o,1),u=a[0].target;if(document.documentElement.contains(u)){var c=u.getBoundingClientRect(),h=c.width,f=c.height,p=Math.floor(h),m=Math.floor(f);(t!==p||n!==m)&&Promise.resolve().then(function(){e({width:p,height:m})}),t=p,n=m}}var s=new Bhe(r);return i&&s.observe(i),function(){s.disconnect()}}function Vne(i){return typeof i!="function"?null:i()}function Hne(i){return Yo(i)!=="object"||!i?null:i}var zLe=function(e,t){var n=e.children,r=e.disabled,s=e.target,o=e.align,a=e.onAlign,u=e.monitorWindowResize,c=e.monitorBufferTime,h=c===void 0?0:c,f=re.useRef({}),p=re.useRef(),m=re.Children.only(n),v=re.useRef({});v.current.disabled=r,v.current.target=s,v.current.align=o,v.current.onAlign=a;var b=SLe(function(){var $=v.current,I=$.disabled,O=$.target,B=$.align,W=$.onAlign,j=p.current;if(!I&&O&&j){var U,K=Vne(O),z=Hne(O);f.current.element=K,f.current.point=z,f.current.align=B;var k=document,q=k.activeElement;return K&&wLe(K)?U=KZ(j,K,B):z&&(U=CLe(j,z,B)),$Le(q,j),W&&U&&W(j,U),!0}return!1},h),S=Ls(b,2),x=S[0],w=S[1],E=re.useState(),N=Ls(E,2),A=N[0],H=N[1],R=re.useState(),M=Ls(R,2),G=M[0],X=M[1];return YU(function(){H(Vne(s)),X(Hne(s))}),re.useEffect(function(){(f.current.element!==A||!HLe(f.current.point,G)||!yLe(f.current.align,o))&&x()}),re.useEffect(function(){var $=Wne(p.current,x);return $},[p.current]),re.useEffect(function(){var $=Wne(A,x);return $},[A]),re.useEffect(function(){r?w():x()},[r]),re.useEffect(function(){if(u){var $=WA(window,"resize",x);return $.remove}},[u]),re.useEffect(function(){return function(){w()}},[]),re.useImperativeHandle(t,function(){return{forceAlign:function(){return x(!0)}}}),re.isValidElement(m)&&(m=re.cloneElement(m,{ref:WZ(m.ref,p)})),m},Whe=re.forwardRef(zLe);Whe.displayName="Align";function oj(){oj=function(){return e};var i,e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(j,U,K){j[U]=K.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(j,U,K){return Object.defineProperty(j,U,{value:K,enumerable:!0,configurable:!0,writable:!0}),j[U]}try{c({},"")}catch{c=function(K,z,k){return K[z]=k}}function h(j,U,K,z){var k=U&&U.prototype instanceof x?U:x,q=Object.create(k.prototype),fe=new B(z||[]);return r(q,"_invoke",{value:X(j,K,fe)}),q}function f(j,U,K){try{return{type:"normal",arg:j.call(U,K)}}catch(z){return{type:"throw",arg:z}}}e.wrap=h;var p="suspendedStart",m="suspendedYield",v="executing",b="completed",S={};function x(){}function w(){}function E(){}var N={};c(N,o,function(){return this});var A=Object.getPrototypeOf,H=A&&A(A(W([])));H&&H!==t&&n.call(H,o)&&(N=H);var R=E.prototype=x.prototype=Object.create(N);function M(j){["next","throw","return"].forEach(function(U){c(j,U,function(K){return this._invoke(U,K)})})}function G(j,U){function K(k,q,fe,ne){var Ce=f(j[k],j,q);if(Ce.type!=="throw"){var Te=Ce.arg,He=Te.value;return He&&Yo(He)=="object"&&n.call(He,"__await")?U.resolve(He.__await).then(function(ot){K("next",ot,fe,ne)},function(ot){K("throw",ot,fe,ne)}):U.resolve(He).then(function(ot){Te.value=ot,fe(Te)},function(ot){return K("throw",ot,fe,ne)})}ne(Ce.arg)}var z;r(this,"_invoke",{value:function(q,fe){function ne(){return new U(function(Ce,Te){K(q,fe,Ce,Te)})}return z=z?z.then(ne,ne):ne()}})}function X(j,U,K){var z=p;return function(k,q){if(z===v)throw Error("Generator is already running");if(z===b){if(k==="throw")throw q;return{value:i,done:!0}}for(K.method=k,K.arg=q;;){var fe=K.delegate;if(fe){var ne=$(fe,K);if(ne){if(ne===S)continue;return ne}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(z===p)throw z=b,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);z=v;var Ce=f(j,U,K);if(Ce.type==="normal"){if(z=K.done?b:m,Ce.arg===S)continue;return{value:Ce.arg,done:K.done}}Ce.type==="throw"&&(z=b,K.method="throw",K.arg=Ce.arg)}}}function $(j,U){var K=U.method,z=j.iterator[K];if(z===i)return U.delegate=null,K==="throw"&&j.iterator.return&&(U.method="return",U.arg=i,$(j,U),U.method==="throw")||K!=="return"&&(U.method="throw",U.arg=new TypeError("The iterator does not provide a '"+K+"' method")),S;var k=f(z,j.iterator,U.arg);if(k.type==="throw")return U.method="throw",U.arg=k.arg,U.delegate=null,S;var q=k.arg;return q?q.done?(U[j.resultName]=q.value,U.next=j.nextLoc,U.method!=="return"&&(U.method="next",U.arg=i),U.delegate=null,S):q:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,S)}function I(j){var U={tryLoc:j[0]};1 in j&&(U.catchLoc=j[1]),2 in j&&(U.finallyLoc=j[2],U.afterLoc=j[3]),this.tryEntries.push(U)}function O(j){var U=j.completion||{};U.type="normal",delete U.arg,j.completion=U}function B(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(I,this),this.reset(!0)}function W(j){if(j||j===""){var U=j[o];if(U)return U.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var K=-1,z=function k(){for(;++K<j.length;)if(n.call(j,K))return k.value=j[K],k.done=!1,k;return k.value=i,k.done=!0,k};return z.next=z}}throw new TypeError(Yo(j)+" is not iterable")}return w.prototype=E,r(R,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:w,configurable:!0}),w.displayName=c(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(j){var U=typeof j=="function"&&j.constructor;return!!U&&(U===w||(U.displayName||U.name)==="GeneratorFunction")},e.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,E):(j.__proto__=E,c(j,u,"GeneratorFunction")),j.prototype=Object.create(R),j},e.awrap=function(j){return{__await:j}},M(G.prototype),c(G.prototype,a,function(){return this}),e.AsyncIterator=G,e.async=function(j,U,K,z,k){k===void 0&&(k=Promise);var q=new G(h(j,U,K,z),k);return e.isGeneratorFunction(U)?q:q.next().then(function(fe){return fe.done?fe.value:q.next()})},M(R),c(R,u,"Generator"),c(R,o,function(){return this}),c(R,"toString",function(){return"[object Generator]"}),e.keys=function(j){var U=Object(j),K=[];for(var z in U)K.push(z);return K.reverse(),function k(){for(;K.length;){var q=K.pop();if(q in U)return k.value=q,k.done=!1,k}return k.done=!0,k}},e.values=W,B.prototype={constructor:B,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(O),!U)for(var K in this)K.charAt(0)==="t"&&n.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=i)},stop:function(){this.done=!0;var U=this.tryEntries[0].completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var K=this;function z(Te,He){return fe.type="throw",fe.arg=U,K.next=Te,He&&(K.method="next",K.arg=i),!!He}for(var k=this.tryEntries.length-1;k>=0;--k){var q=this.tryEntries[k],fe=q.completion;if(q.tryLoc==="root")return z("end");if(q.tryLoc<=this.prev){var ne=n.call(q,"catchLoc"),Ce=n.call(q,"finallyLoc");if(ne&&Ce){if(this.prev<q.catchLoc)return z(q.catchLoc,!0);if(this.prev<q.finallyLoc)return z(q.finallyLoc)}else if(ne){if(this.prev<q.catchLoc)return z(q.catchLoc,!0)}else{if(!Ce)throw Error("try statement without catch or finally");if(this.prev<q.finallyLoc)return z(q.finallyLoc)}}}},abrupt:function(U,K){for(var z=this.tryEntries.length-1;z>=0;--z){var k=this.tryEntries[z];if(k.tryLoc<=this.prev&&n.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var q=k;break}}q&&(U==="break"||U==="continue")&&q.tryLoc<=K&&K<=q.finallyLoc&&(q=null);var fe=q?q.completion:{};return fe.type=U,fe.arg=K,q?(this.method="next",this.next=q.finallyLoc,S):this.complete(fe)},complete:function(U,K){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&K&&(this.next=K),S},finish:function(U){for(var K=this.tryEntries.length-1;K>=0;--K){var z=this.tryEntries[K];if(z.finallyLoc===U)return this.complete(z.completion,z.afterLoc),O(z),S}},catch:function(U){for(var K=this.tryEntries.length-1;K>=0;--K){var z=this.tryEntries[K];if(z.tryLoc===U){var k=z.completion;if(k.type==="throw"){var q=k.arg;O(z)}return q}}throw Error("illegal catch attempt")},delegateYield:function(U,K,z){return this.delegate={iterator:W(U),resultName:K,nextLoc:z},this.method==="next"&&(this.arg=i),S}},e}function $ne(i,e,t,n,r,s,o){try{var a=i[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(n,r)}function ULe(i){return function(){var e=this,t=arguments;return new Promise(function(n,r){var s=i.apply(e,t);function o(u){$ne(s,n,r,o,a,"next",u)}function a(u){$ne(s,n,r,o,a,"throw",u)}o(void 0)})}}var zne=["measure","alignPre","align",null,"motion"];const jLe=function(i,e){var t=rF(null),n=Ls(t,2),r=n[0],s=n[1],o=ge.useRef();function a(h){s(h,!0)}function u(){Df.cancel(o.current)}function c(h){u(),o.current=Df(function(){a(function(f){switch(r){case"align":return"motion";case"motion":return"stable"}return f}),h==null||h()})}return ge.useEffect(function(){a("measure")},[i]),ge.useEffect(function(){switch(r){case"measure":e();break}r&&(o.current=Df(ULe(oj().mark(function h(){var f,p;return oj().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:f=zne.indexOf(r),p=zne[f+1],p&&f!==-1&&a(p);case 3:case"end":return v.stop()}},h)}))))},[r]),ge.useEffect(function(){return function(){u()}},[]),[r,c]},KLe=function(i){var e=ge.useState({width:0,height:0}),t=Ls(e,2),n=t[0],r=t[1];function s(a){var u=a.offsetWidth,c=a.offsetHeight,h=a.getBoundingClientRect(),f=h.width,p=h.height;Math.abs(u-f)<1&&Math.abs(c-p)<1&&(u=f,c=p),r({width:u,height:c})}var o=ge.useMemo(function(){var a={};if(i){var u=n.width,c=n.height;i.indexOf("height")!==-1&&c?a.height=c:i.indexOf("minHeight")!==-1&&c&&(a.minHeight=c),i.indexOf("width")!==-1&&u?a.width=u:i.indexOf("minWidth")!==-1&&u&&(a.minWidth=u)}return a},[i,n]);return[o,s]};var Vhe=ge.forwardRef(function(i,e){var t=i.visible,n=i.prefixCls,r=i.className,s=i.style,o=i.children,a=i.zIndex,u=i.stretch,c=i.destroyPopupOnHide,h=i.forceRender,f=i.align,p=i.point,m=i.getRootDomNode,v=i.getClassNameFromAlign,b=i.onAlign,S=i.onMouseEnter,x=i.onMouseLeave,w=i.onMouseDown,E=i.onTouchStart,N=i.onClick,A=ge.useRef(),H=ge.useRef(),R=ge.useState(),M=Ls(R,2),G=M[0],X=M[1],$=KLe(u),I=Ls($,2),O=I[0],B=I[1];function W(){u&&B(m())}var j=jLe(t,W),U=Ls(j,2),K=U[0],z=U[1],k=ge.useState(0),q=Ls(k,2),fe=q[0],ne=q[1],Ce=ge.useRef();YU(function(){K==="alignPre"&&ne(0)},[K]);function Te(){return p||m}function He(){var ln;(ln=A.current)===null||ln===void 0||ln.forceAlign()}function ot(ln,Yt){var pn=v(Yt);G!==pn&&X(pn),ne(function(Ln){return Ln+1}),K==="align"&&(b==null||b(ln,Yt))}YU(function(){K==="align"&&(fe<3?He():z(function(){var ln;(ln=Ce.current)===null||ln===void 0||ln.call(Ce)}))},[fe]);var Rt=xn({},xhe(i));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(ln){var Yt=Rt[ln];Rt[ln]=function(pn,Ln){return z(),Yt==null?void 0:Yt(pn,Ln)}});function Re(){return new Promise(function(ln){Ce.current=ln})}ge.useEffect(function(){!Rt.motionName&&K==="motion"&&z()},[Rt.motionName,K]),ge.useImperativeHandle(e,function(){return{forceAlign:He,getElement:function(){return H.current}}});var dt=xn(xn({},O),{},{zIndex:a,opacity:K==="motion"||K==="stable"||!t?void 0:0,pointerEvents:!t&&K!=="stable"?"none":void 0},s),wt=!0;f!=null&&f.points&&(K==="align"||K==="stable")&&(wt=!1);var Je=o;return ge.Children.count(o)>1&&(Je=ge.createElement("div",{className:"".concat(n,"-content")},o)),ge.createElement(wE,Lo({visible:t,ref:H,leavedClassName:"".concat(n,"-hidden")},Rt,{onAppearPrepare:Re,onEnterPrepare:Re,removeOnLeave:c,forceRender:h}),function(ln,Yt){var pn=ln.className,Ln=ln.style,Un=Ad(n,r,G,pn);return ge.createElement(Whe,{target:Te(),key:"popup",ref:A,monitorWindowResize:!0,disabled:wt,align:f,onAlign:ot},ge.createElement("div",{ref:Yt,className:Un,onMouseEnter:S,onMouseLeave:x,onMouseDownCapture:w,onTouchStartCapture:E,onClick:N,style:xn(xn({},Ln),dt)},Je))})});Vhe.displayName="PopupInner";var Hhe=ge.forwardRef(function(i,e){var t=i.prefixCls,n=i.visible,r=i.zIndex,s=i.children,o=i.mobile;o=o===void 0?{}:o;var a=o.popupClassName,u=o.popupStyle,c=o.popupMotion,h=c===void 0?{}:c,f=o.popupRender,p=i.onClick,m=ge.useRef();ge.useImperativeHandle(e,function(){return{forceAlign:function(){},getElement:function(){return m.current}}});var v=xn({zIndex:r},u),b=s;return ge.Children.count(s)>1&&(b=ge.createElement("div",{className:"".concat(t,"-content")},s)),f&&(b=f(b)),ge.createElement(wE,Lo({visible:n,ref:m,removeOnLeave:!0},h),function(S,x){var w=S.className,E=S.style,N=Ad(t,a,w);return ge.createElement("div",{ref:x,className:N,onClick:p,style:xn(xn({},E),v)},b)})});Hhe.displayName="MobilePopupInner";var qLe=["visible","mobile"],$he=ge.forwardRef(function(i,e){var t=i.visible,n=i.mobile,r=nF(i,qLe),s=ge.useState(t),o=Ls(s,2),a=o[0],u=o[1],c=ge.useState(!1),h=Ls(c,2),f=h[0],p=h[1],m=xn(xn({},r),{},{visible:a});ge.useEffect(function(){u(t),t&&n&&p(vEe())},[t,n]);var v=f?ge.createElement(Hhe,Lo({},m,{mobile:n,ref:e})):ge.createElement(Vhe,Lo({},m,{ref:e}));return ge.createElement("div",null,ge.createElement(qEe,m),v)});$he.displayName="Popup";var Une=ge.createContext(null);function aH(){}function GLe(){return""}function YLe(i){return i?i.ownerDocument:window.document}var ZLe=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function XLe(i){var e=function(t){Fy(r,t);var n=By(r);function r(s){var o;Y1(this,r),o=n.call(this,s),rn(An(o),"popupRef",ge.createRef()),rn(An(o),"triggerRef",ge.createRef()),rn(An(o),"portalContainer",void 0),rn(An(o),"attachId",void 0),rn(An(o),"clickOutsideHandler",void 0),rn(An(o),"touchOutsideHandler",void 0),rn(An(o),"contextMenuOutsideHandler1",void 0),rn(An(o),"contextMenuOutsideHandler2",void 0),rn(An(o),"mouseDownTimeout",void 0),rn(An(o),"focusTime",void 0),rn(An(o),"preClickTime",void 0),rn(An(o),"preTouchTime",void 0),rn(An(o),"delayTimer",void 0),rn(An(o),"hasPopupMouseDown",void 0),rn(An(o),"onMouseEnter",function(u){var c=o.props.mouseEnterDelay;o.fireEvents("onMouseEnter",u),o.delaySetPopupVisible(!0,c,c?null:u)}),rn(An(o),"onMouseMove",function(u){o.fireEvents("onMouseMove",u),o.setPoint(u)}),rn(An(o),"onMouseLeave",function(u){o.fireEvents("onMouseLeave",u),o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)}),rn(An(o),"onPopupMouseEnter",function(){o.clearDelayTimer()}),rn(An(o),"onPopupMouseLeave",function(u){var c;u.relatedTarget&&!u.relatedTarget.setTimeout&&TS((c=o.popupRef.current)===null||c===void 0?void 0:c.getElement(),u.relatedTarget)||o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)}),rn(An(o),"onFocus",function(u){o.fireEvents("onFocus",u),o.clearDelayTimer(),o.isFocusToShow()&&(o.focusTime=Date.now(),o.delaySetPopupVisible(!0,o.props.focusDelay))}),rn(An(o),"onMouseDown",function(u){o.fireEvents("onMouseDown",u),o.preClickTime=Date.now()}),rn(An(o),"onTouchStart",function(u){o.fireEvents("onTouchStart",u),o.preTouchTime=Date.now()}),rn(An(o),"onBlur",function(u){o.fireEvents("onBlur",u),o.clearDelayTimer(),o.isBlurToHide()&&o.delaySetPopupVisible(!1,o.props.blurDelay)}),rn(An(o),"onContextMenu",function(u){u.preventDefault(),o.fireEvents("onContextMenu",u),o.setPopupVisible(!0,u)}),rn(An(o),"onContextMenuClose",function(){o.isContextMenuToShow()&&o.close()}),rn(An(o),"onClick",function(u){if(o.fireEvents("onClick",u),o.focusTime){var c;if(o.preClickTime&&o.preTouchTime?c=Math.min(o.preClickTime,o.preTouchTime):o.preClickTime?c=o.preClickTime:o.preTouchTime&&(c=o.preTouchTime),Math.abs(c-o.focusTime)<20)return;o.focusTime=0}o.preClickTime=0,o.preTouchTime=0,o.isClickToShow()&&(o.isClickToHide()||o.isBlurToHide())&&u&&u.preventDefault&&u.preventDefault();var h=!o.state.popupVisible;(o.isClickToHide()&&!h||h&&o.isClickToShow())&&o.setPopupVisible(!o.state.popupVisible,u)}),rn(An(o),"onPopupMouseDown",function(){if(o.hasPopupMouseDown=!0,clearTimeout(o.mouseDownTimeout),o.mouseDownTimeout=window.setTimeout(function(){o.hasPopupMouseDown=!1},0),o.context){var u;(u=o.context).onPopupMouseDown.apply(u,arguments)}}),rn(An(o),"onDocumentClick",function(u){if(!(o.props.mask&&!o.props.maskClosable)){var c=u.target,h=o.getRootDomNode(),f=o.getPopupDomNode();(!TS(h,c)||o.isContextMenuOnly())&&!TS(f,c)&&!o.hasPopupMouseDown&&o.close()}}),rn(An(o),"getRootDomNode",function(){var u=o.props.getTriggerDOMNode;if(u)return u(o.triggerRef.current);try{var c=mO(o.triggerRef.current);if(c)return c}catch{}return BC.findDOMNode(An(o))}),rn(An(o),"getPopupClassNameFromAlign",function(u){var c=[],h=o.props,f=h.popupPlacement,p=h.builtinPlacements,m=h.prefixCls,v=h.alignPoint,b=h.getPopupClassNameFromAlign;return f&&p&&c.push(gEe(p,m,u,v)),b&&c.push(b(u)),c.join(" ")}),rn(An(o),"getComponent",function(){var u=o.props,c=u.prefixCls,h=u.destroyPopupOnHide,f=u.popupClassName,p=u.onPopupAlign,m=u.popupMotion,v=u.popupAnimation,b=u.popupTransitionName,S=u.popupStyle,x=u.mask,w=u.maskAnimation,E=u.maskTransitionName,N=u.maskMotion,A=u.zIndex,H=u.popup,R=u.stretch,M=u.alignPoint,G=u.mobile,X=u.forceRender,$=u.onPopupClick,I=o.state,O=I.popupVisible,B=I.point,W=o.getPopupAlign(),j={};return o.isMouseEnterToShow()&&(j.onMouseEnter=o.onPopupMouseEnter),o.isMouseLeaveToHide()&&(j.onMouseLeave=o.onPopupMouseLeave),j.onMouseDown=o.onPopupMouseDown,j.onTouchStart=o.onPopupMouseDown,ge.createElement($he,Lo({prefixCls:c,destroyPopupOnHide:h,visible:O,point:M&&B,className:f,align:W,onAlign:p,animation:v,getClassNameFromAlign:o.getPopupClassNameFromAlign},j,{stretch:R,getRootDomNode:o.getRootDomNode,style:S,mask:x,zIndex:A,transitionName:b,maskAnimation:w,maskTransitionName:E,maskMotion:N,ref:o.popupRef,motion:m,mobile:G,forceRender:X,onClick:$}),typeof H=="function"?H():H)}),rn(An(o),"attachParent",function(u){Df.cancel(o.attachId);var c=o.props,h=c.getPopupContainer,f=c.getDocument,p=o.getRootDomNode(),m;h?(p||h.length===0)&&(m=h(p)):m=f(o.getRootDomNode()).body,m?m.appendChild(u):o.attachId=Df(function(){o.attachParent(u)})}),rn(An(o),"getContainer",function(){if(!o.portalContainer){var u=o.props.getDocument,c=u(o.getRootDomNode()).createElement("div");c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.width="100%",o.portalContainer=c}return o.attachParent(o.portalContainer),o.portalContainer}),rn(An(o),"setPoint",function(u){var c=o.props.alignPoint;!c||!u||o.setState({point:{pageX:u.pageX,pageY:u.pageY}})}),rn(An(o),"handlePortalUpdate",function(){o.state.prevPopupVisible!==o.state.popupVisible&&o.props.afterPopupVisibleChange(o.state.popupVisible)}),rn(An(o),"triggerContextValue",{onPopupMouseDown:o.onPopupMouseDown});var a;return"popupVisible"in s?a=!!s.popupVisible:a=!!s.defaultPopupVisible,o.state={prevPopupVisible:a,popupVisible:a},ZLe.forEach(function(u){o["fire".concat(u)]=function(c){o.fireEvents(u,c)}}),o}return Z1(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var o=this.props,a=this.state;if(a.popupVisible){var u;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(u=o.getDocument(this.getRootDomNode()),this.clickOutsideHandler=WA(u,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(u=u||o.getDocument(this.getRootDomNode()),this.touchOutsideHandler=WA(u,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(u=u||o.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=WA(u,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=WA(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Df.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var o;return((o=this.popupRef.current)===null||o===void 0?void 0:o.getElement())||null}},{key:"getPopupAlign",value:function(){var o=this.props,a=o.popupPlacement,u=o.popupAlign,c=o.builtinPlacements;return a&&c?fEe(c,a,u):u}},{key:"setPopupVisible",value:function(o,a){var u=this.props.alignPoint,c=this.state.popupVisible;this.clearDelayTimer(),c!==o&&("popupVisible"in this.props||this.setState({popupVisible:o,prevPopupVisible:c}),this.props.onPopupVisibleChange(o)),u&&a&&o&&this.setPoint(a)}},{key:"delaySetPopupVisible",value:function(o,a,u){var c=this,h=a*1e3;if(this.clearDelayTimer(),h){var f=u?{pageX:u.pageX,pageY:u.pageY}:null;this.delayTimer=window.setTimeout(function(){c.setPopupVisible(o,f),c.clearDelayTimer()},h)}else this.setPopupVisible(o,u)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(o){var a=this.props.children.props,u=this.props;return a[o]&&u[o]?this["fire".concat(o)]:a[o]||u[o]}},{key:"isClickToShow",value:function(){var o=this.props,a=o.action,u=o.showAction;return a.indexOf("click")!==-1||u.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var o=this.props.action;return o==="contextMenu"||o.length===1&&o[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var o=this.props,a=o.action,u=o.showAction;return a.indexOf("contextMenu")!==-1||u.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var o=this.props,a=o.action,u=o.hideAction;return a.indexOf("click")!==-1||u.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var o=this.props,a=o.action,u=o.showAction;return a.indexOf("hover")!==-1||u.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var o=this.props,a=o.action,u=o.hideAction;return a.indexOf("hover")!==-1||u.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var o=this.props,a=o.action,u=o.showAction;return a.indexOf("focus")!==-1||u.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var o=this.props,a=o.action,u=o.hideAction;return a.indexOf("focus")!==-1||u.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var o;(o=this.popupRef.current)===null||o===void 0||o.forceAlign()}}},{key:"fireEvents",value:function(o,a){var u=this.props.children.props[o];u&&u(a);var c=this.props[o];c&&c(a)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var o=this.state.popupVisible,a=this.props,u=a.children,c=a.forceRender,h=a.alignPoint,f=a.className,p=a.autoDestroy,m=ge.Children.only(u),v={key:"trigger"};this.isContextMenuToShow()?v.onContextMenu=this.onContextMenu:v.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(v.onClick=this.onClick,v.onMouseDown=this.onMouseDown,v.onTouchStart=this.onTouchStart):(v.onClick=this.createTwoChains("onClick"),v.onMouseDown=this.createTwoChains("onMouseDown"),v.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(v.onMouseEnter=this.onMouseEnter,h&&(v.onMouseMove=this.onMouseMove)):v.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?v.onMouseLeave=this.onMouseLeave:v.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(v.onFocus=this.onFocus,v.onBlur=this.onBlur):(v.onFocus=this.createTwoChains("onFocus"),v.onBlur=this.createTwoChains("onBlur"));var b=Ad(m&&m.props&&m.props.className,f);b&&(v.className=b);var S=xn({},v);VZ(m)&&(S.ref=WZ(this.triggerRef,m.ref));var x=ge.cloneElement(m,S),w;return(o||this.popupRef.current||c)&&(w=ge.createElement(i,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!o&&p&&(w=null),ge.createElement(Une.Provider,{value:this.triggerContextValue},x,w)}}],[{key:"getDerivedStateFromProps",value:function(o,a){var u=o.popupVisible,c={};return u!==void 0&&a.popupVisible!==u&&(c.popupVisible=u,c.prevPopupVisible=a.popupVisible),c}}]),r}(ge.Component);return rn(e,"contextType",Une),rn(e,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:GLe,getDocument:YLe,onPopupVisibleChange:aH,afterPopupVisibleChange:aH,onPopupAlign:aH,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),e}const QLe=XLe(dhe);var Yc={adjustX:1,adjustY:1},Zc=[0,0],JLe={left:{points:["cr","cl"],overflow:Yc,offset:[-4,0],targetOffset:Zc},right:{points:["cl","cr"],overflow:Yc,offset:[4,0],targetOffset:Zc},top:{points:["bc","tc"],overflow:Yc,offset:[0,-4],targetOffset:Zc},bottom:{points:["tc","bc"],overflow:Yc,offset:[0,4],targetOffset:Zc},topLeft:{points:["bl","tl"],overflow:Yc,offset:[0,-4],targetOffset:Zc},leftTop:{points:["tr","tl"],overflow:Yc,offset:[-4,0],targetOffset:Zc},topRight:{points:["br","tr"],overflow:Yc,offset:[0,-4],targetOffset:Zc},rightTop:{points:["tl","tr"],overflow:Yc,offset:[4,0],targetOffset:Zc},bottomRight:{points:["tr","br"],overflow:Yc,offset:[0,4],targetOffset:Zc},rightBottom:{points:["bl","br"],overflow:Yc,offset:[4,0],targetOffset:Zc},bottomLeft:{points:["tl","bl"],overflow:Yc,offset:[0,4],targetOffset:Zc},leftBottom:{points:["br","bl"],overflow:Yc,offset:[-4,0],targetOffset:Zc}};function eDe(i){var e=i.showArrow,t=i.arrowContent,n=i.children,r=i.prefixCls,s=i.id,o=i.overlayInnerStyle,a=i.className,u=i.style;return ge.createElement("div",{className:Ad("".concat(r,"-content"),a),style:u},e!==!1&&ge.createElement("div",{className:"".concat(r,"-arrow"),key:"arrow"},t),ge.createElement("div",{className:"".concat(r,"-inner"),id:s,role:"tooltip",style:o},typeof n=="function"?n():n))}var tDe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],nDe=function(e,t){var n=e.overlayClassName,r=e.trigger,s=r===void 0?["hover"]:r,o=e.mouseEnterDelay,a=o===void 0?0:o,u=e.mouseLeaveDelay,c=u===void 0?.1:u,h=e.overlayStyle,f=e.prefixCls,p=f===void 0?"rc-tooltip":f,m=e.children,v=e.onVisibleChange,b=e.afterVisibleChange,S=e.transitionName,x=e.animation,w=e.motion,E=e.placement,N=E===void 0?"right":E,A=e.align,H=A===void 0?{}:A,R=e.destroyTooltipOnHide,M=R===void 0?!1:R,G=e.defaultVisible,X=e.getTooltipContainer,$=e.overlayInnerStyle,I=e.arrowContent,O=e.overlay,B=e.id,W=e.showArrow,j=W===void 0?!0:W,U=nF(e,tDe),K=ge.useRef(null);ge.useImperativeHandle(t,function(){return K.current});var z=xn({},U);"visible"in e&&(z.popupVisible=e.visible);var k=function(){return ge.createElement(eDe,{showArrow:j,arrowContent:I,key:"content",prefixCls:p,id:B,overlayInnerStyle:$},O)},q=!1,fe=!1;if(typeof M=="boolean")q=M;else if(M&&Yo(M)==="object"){var ne=M.keepParent;q=ne===!0,fe=ne===!1}return ge.createElement(QLe,Lo({popupClassName:n,prefixCls:p,popup:k,action:s,builtinPlacements:JLe,popupPlacement:N,ref:K,popupAlign:H,getPopupContainer:X,onPopupVisibleChange:v,afterPopupVisibleChange:b,popupTransitionName:S,popupAnimation:x,popupMotion:w,defaultPopupVisible:G,destroyPopupOnHide:q,autoDestroy:fe,mouseLeaveDelay:c,popupStyle:h,mouseEnterDelay:a},z),m)};const iDe=ge.forwardRef(nDe);var rDe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const qZ=i=>{var{overlay:e,children:t,placement:n="bottom",trigger:r="hover",overlayClassName:s,mouseEnterDelay:o}=i,a=rDe(i,["overlay","children","placement","trigger","overlayClassName","mouseEnterDelay"]);return e?re.createElement(iDe,Object.assign({overlayClassName:bn(Vde(),s),placement:n,trigger:r,overlay:e,mouseEnterDelay:o||.1},a),t):t||null};var zhe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const GZ=zn("action-bar"),sDe=mt(GZ,"container"),YZ=mt(GZ,"item"),oDe=Cn(YZ,"disabled"),aDe=Cn(YZ,"checked");function lDe(i){const{title:e,name:t,contextMenu:n=[],onClick:r,icon:s,onContextMenuClick:o}=i,a=zhe(i,["title","name","contextMenu","onClick","icon","onContextMenuClick"]),u=i.disabled?oDe:null,c=i.checked?aDe:null,h=ge.useRef(null),f=ge.useRef(),p=ge.useCallback((S,x)=>{var w;o==null||o(S,x),(w=f.current)===null||w===void 0||w.hide()},[n]),m=()=>re.createElement(Cl,{onClick:p,data:n});ge.useEffect(()=>(n.length>0&&(f.current=z9({anchor:h.current,render:m})),function(){var x;(x=f.current)===null||x===void 0||x.dispose()}));const v=function(S){if(i.disabled){S.preventDefault();return}r&&r(S,i),n.length>-1&&f.current&&f.current.show({x:S.clientX,y:S.clientY})},b=WC(a);return re.createElement("li",Object.assign({ref:h,className:bn(YZ,u,c),onClick:v},b),re.createElement(qZ,{overlay:re.createElement("span",null,e)},re.createElement(br,{type:s},t)))}function BP(i){const{data:e=[],onClick:t,onContextMenuClick:n,className:r,style:s,title:o}=i,a=zhe(i,["data","onClick","onContextMenuClick","className","style","title"]),u=bn(GZ,r),c=e.map((f,p)=>re.createElement(lDe,Object.assign({key:f.id},f,{onContextMenuClick:n,"data-index":p,onClick:OZ(t,f.onClick)}))),h=WC(a);return re.createElement("div",Object.assign({className:u,style:s,title:o},h),re.createElement("ul",{className:sDe},c))}const ZZ=zn("breadcrumb"),uDe=mt(ZZ,"item"),cDe=mt(ZZ,"label");var jne=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function Uhe(i){const{onClick:e,className:t,separator:n,routes:r=[],style:s,title:o,role:a}=i,u=jne(i,["onClick","className","separator","routes","style","title","role"]),c=bn(ZZ,t),h=r.length,f=n||re.createElement(br,{type:"chevron-right"}),p=WC(u);return re.createElement("div",Object.assign({className:c,role:a,style:s,title:o},p),r.map((m,v)=>{const{id:b,className:S,title:x,style:w,href:E,icon:N,render:A,name:H}=m,R=jne(m,["id","className","title","style","href","icon","render","name"]);return re.createElement("a",Object.assign({key:b,className:bn(uDe,S),title:x,style:w,href:E,tabIndex:0,onContextMenu:M=>M.preventDefault(),onClick:M=>e==null?void 0:e(M,m)},WC(R)),re.createElement(br,{type:N}),re.createElement("span",{className:cDe},A?A(m):H),h-v>1?f:null)}))}var dDe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const iB=zn("btn"),hDe=Cn(iB,"normal"),fDe=Cn(iB,"large"),gDe=Cn(iB,"disabled"),VC=ge.forwardRef(function(i,e){const{className:t,children:n,size:r="normal"}=i,s=dDe(i,["className","children","size"]),o=i.disabled?gDe:null,u=bn(t,iB,r==="large"?fDe:hDe,o);return re.createElement("button",Object.assign({ref:e,className:u},s),n)});var pDe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const XZ=zn("checkbox"),mDe=mt(XZ,"label"),_De=mt(XZ,"input");function vDe(i){const{className:e,id:t,children:n,value:r,onChange:s,title:o,role:a,style:u}=i,c=pDe(i,["className","id","children","value","onChange","title","role","style"]),h=bn(XZ,e),f=m=>{s==null||s(m,{id:t,value:m.target.value})},p=WC(c);return re.createElement("div",Object.assign({className:h,role:a,style:u,title:o},p),re.createElement("input",{id:t.toString(),type:"checkbox",className:_De,value:r,onChange:f}),re.createElement("label",{htmlFor:t.toString(),className:bn(mDe,"codicon")},n))}const Vy=zn("collapse"),bDe=mt(Vy,"item"),jhe=mt(Vy,"pane"),CDe=Cn(jhe,"collapsing"),yDe=Cn(Vy,"active"),Khe=mt(Vy,"header"),wDe=mt(Khe,"title"),Kne=mt(Vy,"content"),SDe=mt(Vy,"extra");var xDe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const EDe="tool-bar",LDe=zn(EDe);function WP(i){const{className:e}=i,t=xDe(i,["className"]);return re.createElement("div",{className:bn(LDe,e)},re.createElement(BP,Object.assign({},t)))}function am({children:i,style:e,className:t,role:n,title:r}){return re.createElement("div",{role:n,title:r,className:t,style:e},i)}const SE=zn("split"),DDe=Cn(SE,"dragging"),TDe=Cn(SE,"vertical"),IDe=Cn(SE,"horizontal"),kDe=mt(SE,"pane"),VP=mt(SE,"sash"),NDe=Cn(VP,"vertical"),ADe=Cn(VP,"horizontal"),ODe=Cn(VP,"disabled"),MDe=Cn(VP,"hover");var RDe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function PDe(i){var{className:e,onDragStart:t,onDragging:n,onDragEnd:r}=i,s=RDe(i,["className","onDragStart","onDragging","onDragEnd"]);const o=ge.useRef(),[a,u]=ge.useState(!1),[c,h]=ge.useState(!1);return ge.useEffect(function(){return function(){clearTimeout(o.current)}},[]),re.createElement("div",Object.assign({role:"Resizer",className:bn(VP,(c||a)&&MDe,e),onMouseEnter:()=>{o.current=setTimeout(()=>{u(!0)},150)},onMouseLeave:()=>{o.current&&(u(!1),clearTimeout(o.current))},onMouseDown:f=>{h(!0),t(f);const p=function(v){n(v)},m=function(v){h(!1),r(v),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",m)};window.addEventListener("mousemove",p),window.addEventListener("mouseup",m)}},s))}var FDe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const lH=function(i,e,t=1/0){return typeof i>"u"?t:typeof i=="number"?i:i.endsWith("%")?e*(+i.replace("%","")/100):i.endsWith("px")?+i.replace("px",""):t},cM=i=>{var e,{children:t,sizes:n,allowResize:r=!0,showSashes:s=!0,split:o="vertical",className:a,sashClassName:u,paneClassName:c,resizerSize:h=4,onChange:f}=i,p=FDe(i,["children","sizes","allowResize","showSashes","split","className","sashClassName","paneClassName","resizerSize","onChange"]);const m=ge.useRef({x:0,y:0}),v=ge.useRef(null),[b,S]=ge.useState({}),[x,w]=ge.useState(!1);ge.useEffect(()=>{const O=new ResizeObserver(()=>{S(v.current.getBoundingClientRect())});return O.observe(v.current),()=>{O.disconnect()}},[]);const{sizeName:E,sPos:N,sAxis:A}=ge.useMemo(function(){return{sizeName:o==="vertical"?"width":"height",sPos:o==="vertical"?"left":"top",sAxis:o==="vertical"?"x":"y"}},[o]),H=(e=b[E])!==null&&e!==void 0?e:0,R=ge.useMemo(function(){return t.map(O=>{const B=[0,1/0];if(O.type===am){const{minSize:W,maxSize:j}=O.props;B[0]=lH(W,H,0),B[1]=lH(j,H)}return B})},[t,H]),M=ge.useMemo(()=>typeof r=="boolean"?new Array(t.length).fill(r):t.map((O,B)=>{var W;return(W=r[B])!==null&&W!==void 0?W:!0}),[t.length,r]),G=ge.useMemo(function(){let O=0,B=0,W=0;const j=t.map((K,z)=>{const k=lH(n[z],H);return k===1/0?O++:(B+=k,M[z]&&(W+=k)),k});if(M.filter(K=>K===!0).length===0)return j;if(B>H||!O&&B<H){const K=(B-H)/W;return j.map((z,k)=>z===1/0?0:M[k]?z-z*K:z)}if(O>0){const K=(H-B)/O;return j.map(z=>z===1/0?K:z)}return j},[...n,t.length,H,...M]),X=ge.useMemo(function(){return G.reduce(function(O,B){return[...O,O[O.length-1]+B]},[0])},[...G]),$=ge.useCallback(function(O){var B,W;m.current={x:(B=O.pageX)!==null&&B!==void 0?B:O.screenX,y:(W=O.pageY)!==null&&W!==void 0?W:O.screenY},w(!0)},[]),I=ge.useCallback(function(O,B){var W,j;let K={x:(W=O.pageX)!==null&&W!==void 0?W:O.screenX,y:(j=O.pageY)!==null&&j!==void 0?j:O.screenY}[A]-m.current[A];const z=-Math.min(G[B]-R[B][0],R[B+1][1]-G[B+1]),k=Math.min(G[B+1]-R[B+1][0],R[B][1]-G[B]);K<z&&(K=z),K>k&&(K=k);const q=[...G];q[B]+=K,q[B+1]-=K,f==null||f(q)},[R,f,G]);return re.createElement("div",Object.assign({className:bn(SE,x&&DDe,o==="vertical"&&TDe,o==="horizontal"&&IDe,a),ref:v},p),t.map((O,B)=>{const W=bn(kDe,c),j={[E]:G[B],[N]:X[B]};let U=null;if(B>0){const K=s===!1||(s==null?void 0:s[B-1])===!1;U=re.createElement(PDe,{className:bn(K&&ODe,o==="vertical"?NDe:ADe,u),style:{[E]:h,[N]:X[B]-h/2},onDragStart:$,onDragging:z=>I(z,B-1),onDragEnd:()=>{w(!1)}})}if(O.type===am){const{className:K="",style:z={}}=O.props;return re.createElement(re.Fragment,{key:B},U,MP(O,{className:bn(W,K),style:Object.assign(Object.assign({},z),j)}))}return re.createElement(re.Fragment,{key:B},U,re.createElement(am,{className:W,style:j},O))}))};var BDe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const A6=220,kp=26;function qhe(i){var{data:e=[],activePanelKeys:t,className:n,title:r,style:s,role:o,onCollapseChange:a,onToolbarClick:u,onResize:c}=i,h=BDe(i,["data","activePanelKeys","className","title","style","role","onCollapseChange","onToolbarClick","onResize"]);const[f,p]=ge.useState(new Array(e.length)),[m,v]=ge.useState(!1),b=ge.useRef(null),[S,x]=ge.useState(e.map(W=>W.hidden?0:kp)),w=ge.useRef([]),E=ge.useRef(!0),N=W=>W===void 0,A=(W,j)=>{for(let U=0;U<W.length;U++)if(W[U]!==j[U])return U+1;return-1},H=W=>{const j=A(S,W);j!==-1&&(w.current[j]=W[j],c==null||c(W),x(W))},R=(W,j,U)=>{W.stopPropagation(),u==null||u(j,U)},M=(W,j)=>j?j(W):null,G=(W,j)=>{const U=[...f];N(U[j])?U[j]=W:delete U[j],a==null||a(U),p(U.concat())},X=()=>{v(!0),$(),setTimeout(()=>{v(!1)},300)},$=()=>{if(f.filter(j=>!N(j)).length){const{height:j}=b.current.getBoundingClientRect();let U=j,K=0;const z=e.map((fe,ne)=>{var Ce,Te,He,ot;if(fe.hidden)return 0;if(!f.includes(fe.id))return U=U-kp,kp;if(((Ce=fe.config)===null||Ce===void 0?void 0:Ce.grow)===0){const dt=(He=(Te=b.current)===null||Te===void 0?void 0:Te.querySelector(`.${Kne}[data-collapse-index='${ne}']`))===null||He===void 0?void 0:He.querySelector(`[data-content='${fe.id}']`);if(!dt)return U=U-kp,kp;const{height:wt}=dt.getBoundingClientRect(),Je=wt+kp;return Je>A6?(U=U-A6,A6):(U=U-Je,Je)}return typeof w.current[ne]<"u"?(U=U-w.current[ne],w.current[ne]):(K=K+(((ot=fe.config)===null||ot===void 0?void 0:ot.grow)||1),"auto")}),k=U/K,q=z.map((fe,ne)=>{var Ce;return fe==="auto"?k*(((Ce=e[ne].config)===null||Ce===void 0?void 0:Ce.grow)||1):fe});c==null||c(q),x(q)}else{const j=e.map(U=>U.hidden?0:kp);c==null||c(j),x(j)}},{nextSashes:I,allowResize:O}=ge.useMemo(function(){var W,j;const U=[];for(let K=1;K<f.length;K++){const z=!N(f[K-1]),k=((j=(W=e[K-1])===null||W===void 0?void 0:W.config)===null||j===void 0?void 0:j.grow)!==0,q=!N(f[K]),fe=z&&k&&q;U.push(fe)}return{nextSashes:U,allowResize:e.map((K,z)=>{var k;return((k=K==null?void 0:K.config)===null||k===void 0?void 0:k.grow)===0?!1:!N(f[z])})}},[f,e]);ge.useLayoutEffect(()=>{E.current||X(),E.current=!1},[f,e]),ge.useLayoutEffect(()=>{Array.isArray(t)&&p(t)},[t]);const B=WC(h);return re.createElement("div",Object.assign({ref:b,className:bn(Vy,n),title:r,style:s,role:o},B),re.createElement(cM,{sizes:S,onChange:H,split:"horizontal",allowResize:O,showSashes:I,paneClassName:bn(jhe,m&&CDe)},e.map((W,j)=>{const U=f.includes(W.id);return re.createElement(am,{key:W.id,minSize:kp},re.createElement("div",{className:bn(W.className,bDe,U&&yDe),"data-collapse-id":W.id},re.createElement("div",{className:Khe,tabIndex:0,onClick:()=>G(W.id,j)},re.createElement(br,{type:U?"chevron-down":"chevron-right"}),re.createElement("span",{className:wDe},W.name),re.createElement("div",{className:SDe},U&&re.createElement(WP,{key:W.id,data:W.toolbar||[],onClick:(K,z)=>R(K,z,W)}))),re.createElement("div",{className:Kne,tabIndex:0,"data-collapse-index":j},M(W,W.renderPanel))))})))}var qne="data-rc-order",Gne="data-rc-priority",WDe="rc-util-key",aj=new Map;function Ghe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=i.mark;return e?e.startsWith("data-")?e:"data-".concat(e):WDe}function rB(i){if(i.attachTo)return i.attachTo;var e=document.querySelector("head");return e||document.body}function VDe(i){return i==="queue"?"prependQueue":i?"prepend":"append"}function QZ(i){return Array.from((aj.get(i)||i).children).filter(function(e){return e.tagName==="STYLE"})}function Yhe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Wy())return null;var t=e.csp,n=e.prepend,r=e.priority,s=r===void 0?0:r,o=VDe(n),a=o==="prependQueue",u=document.createElement("style");u.setAttribute(qne,o),a&&s&&u.setAttribute(Gne,"".concat(s)),t!=null&&t.nonce&&(u.nonce=t==null?void 0:t.nonce),u.innerHTML=i;var c=rB(e),h=c.firstChild;if(n){if(a){var f=(e.styles||QZ(c)).filter(function(p){if(!["prepend","prependQueue"].includes(p.getAttribute(qne)))return!1;var m=Number(p.getAttribute(Gne)||0);return s>=m});if(f.length)return c.insertBefore(u,f[f.length-1].nextSibling),u}c.insertBefore(u,h)}else c.appendChild(u);return u}function Zhe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=rB(e);return(e.styles||QZ(t)).find(function(n){return n.getAttribute(Ghe(e))===i})}function HDe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Zhe(i,e);if(t){var n=rB(e);n.removeChild(t)}}function $De(i,e){var t=aj.get(i);if(!t||!TS(document,t)){var n=Yhe("",e),r=n.parentNode;aj.set(i,r),i.removeChild(n)}}function zDe(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=rB(t),r=QZ(n),s=xn(xn({},t),{},{styles:r});$De(n,s);var o=Zhe(e,s);if(o){var a,u;if((a=s.csp)!==null&&a!==void 0&&a.nonce&&o.nonce!==((u=s.csp)===null||u===void 0?void 0:u.nonce)){var c;o.nonce=(c=s.csp)===null||c===void 0?void 0:c.nonce}return o.innerHTML!==i&&(o.innerHTML=i),o}var h=Yhe(i,s);return h.setAttribute(Ghe(s),e),h}var uH;function UDe(i){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var n=t.style;n.position="absolute",n.left="0",n.top="0",n.width="100px",n.height="100px",n.overflow="scroll";var r,s;if(i){var o=getComputedStyle(i);n.scrollbarColor=o.scrollbarColor,n.scrollbarWidth=o.scrollbarWidth;var a=getComputedStyle(i,"::-webkit-scrollbar"),u=parseInt(a.width,10),c=parseInt(a.height,10);try{var h=u?"width: ".concat(a.width,";"):"",f=c?"height: ".concat(a.height,";"):"";zDe(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(h,`
`).concat(f,`
}`),e)}catch(v){console.error(v),r=u,s=c}}document.body.appendChild(t);var p=i&&r&&!isNaN(r)?r:t.offsetWidth-t.clientWidth,m=i&&s&&!isNaN(s)?s:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),HDe(e),{width:p,height:m}}function Xhe(i){return typeof document>"u"?0:((i||uH===void 0)&&(uH=UDe()),uH.width)}function px(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!i)return{};var t=e.element,n=t===void 0?document.body:t,r={},s=Object.keys(i);return s.forEach(function(o){r[o]=n.style[o]}),s.forEach(function(o){n.style[o]=i[o]}),r}function jDe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var cH={};const Yne=function(i){if(!(!jDe()&&!i)){var e="ant-scrolling-effect",t=new RegExp("".concat(e),"g"),n=document.body.className;if(i){if(!t.test(n))return;px(cH),cH={},document.body.className=n.replace(t,"").trim();return}var r=Xhe();if(r&&(cH=px({position:"relative",width:"calc(100% - ".concat(r,"px)")}),!t.test(n))){var s="".concat(n," ").concat(e);document.body.className=s.trim()}}};var KDe=0,Xc=[],Qhe="ant-scrolling-effect",dH=new RegExp("".concat(Qhe),"g"),hH=new Map,qDe=Z1(function i(e){var t=this;Y1(this,i),rn(this,"lockTarget",void 0),rn(this,"options",void 0),rn(this,"getContainer",function(){var n;return(n=t.options)===null||n===void 0?void 0:n.container}),rn(this,"reLock",function(n){var r=Xc.find(function(s){var o=s.target;return o===t.lockTarget});r&&t.unLock(),t.options=n,r&&(r.options=n,t.lock())}),rn(this,"lock",function(){var n;if(!Xc.some(function(u){var c=u.target;return c===t.lockTarget})){if(Xc.some(function(u){var c,h=u.options;return(h==null?void 0:h.container)===((c=t.options)===null||c===void 0?void 0:c.container)})){Xc=[].concat(vne(Xc),[{target:t.lockTarget,options:t.options}]);return}var r=0,s=((n=t.options)===null||n===void 0?void 0:n.container)||document.body;(s===document.body&&window.innerWidth-document.documentElement.clientWidth>0||s.scrollHeight>s.clientHeight)&&getComputedStyle(s).overflow!=="hidden"&&(r=Xhe());var o=s.className;if(Xc.filter(function(u){var c,h=u.options;return(h==null?void 0:h.container)===((c=t.options)===null||c===void 0?void 0:c.container)}).length===0&&hH.set(s,px({width:r!==0?"calc(100% - ".concat(r,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:s})),!dH.test(o)){var a="".concat(o," ").concat(Qhe);s.className=a.trim()}Xc=[].concat(vne(Xc),[{target:t.lockTarget,options:t.options}])}}),rn(this,"unLock",function(){var n,r=Xc.find(function(a){var u=a.target;return u===t.lockTarget});if(Xc=Xc.filter(function(a){var u=a.target;return u!==t.lockTarget}),!(!r||Xc.some(function(a){var u,c=a.options;return(c==null?void 0:c.container)===((u=r.options)===null||u===void 0?void 0:u.container)}))){var s=((n=t.options)===null||n===void 0?void 0:n.container)||document.body,o=s.className;dH.test(o)&&(px(hH.get(s),{element:s}),hH.delete(s),s.className=s.className.replace(dH,"").trim())}}),this.lockTarget=KDe++,this.options=e}),wp=0,HA=Wy(),l5={},pw=function(e){if(!HA)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(Yo(e)==="object"&&e instanceof window.HTMLElement)return e}return document.body},GDe=function(i){Fy(t,i);var e=By(t);function t(n){var r;return Y1(this,t),r=e.call(this,n),rn(An(r),"container",void 0),rn(An(r),"componentRef",ge.createRef()),rn(An(r),"rafId",void 0),rn(An(r),"scrollLocker",void 0),rn(An(r),"renderComponent",void 0),rn(An(r),"updateScrollLocker",function(s){var o=s||{},a=o.visible,u=r.props,c=u.getContainer,h=u.visible;h&&h!==a&&HA&&pw(c)!==r.scrollLocker.getContainer()&&r.scrollLocker.reLock({container:pw(c)})}),rn(An(r),"updateOpenCount",function(s){var o=s||{},a=o.visible,u=o.getContainer,c=r.props,h=c.visible,f=c.getContainer;h!==a&&HA&&pw(f)===document.body&&(h&&!a?wp+=1:s&&(wp-=1));var p=typeof f=="function"&&typeof u=="function";(p?f.toString()!==u.toString():f!==u)&&r.removeCurrentContainer()}),rn(An(r),"attachToParent",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(s||r.container&&!r.container.parentNode){var o=pw(r.props.getContainer);return o?(o.appendChild(r.container),!0):!1}return!0}),rn(An(r),"getContainer",function(){return HA?(r.container||(r.container=document.createElement("div"),r.attachToParent(!0)),r.setWrapperClassName(),r.container):null}),rn(An(r),"setWrapperClassName",function(){var s=r.props.wrapperClassName;r.container&&s&&s!==r.container.className&&(r.container.className=s)}),rn(An(r),"removeCurrentContainer",function(){var s;(s=r.container)===null||s===void 0||(s=s.parentNode)===null||s===void 0||s.removeChild(r.container)}),rn(An(r),"switchScrollingEffect",function(){wp===1&&!Object.keys(l5).length?(Yne(),l5=px({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):wp||(px(l5),l5={},Yne(!0))}),r.scrollLocker=new qDe({container:pw(n.getContainer)}),r}return Z1(t,[{key:"componentDidMount",value:function(){var r=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Df(function(){r.forceUpdate()}))}},{key:"componentDidUpdate",value:function(r){this.updateOpenCount(r),this.updateScrollLocker(r),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var r=this.props,s=r.visible,o=r.getContainer;HA&&pw(o)===document.body&&(wp=s&&wp?wp-1:wp),this.removeCurrentContainer(),Df.cancel(this.rafId)}},{key:"render",value:function(){var r=this.props,s=r.children,o=r.forceRender,a=r.visible,u=null,c={getOpenCount:function(){return wp},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(o||a||this.componentRef.current)&&(u=ge.createElement(dhe,{getContainer:this.getContainer,ref:this.componentRef},s(c))),u}}]),t}(ge.Component),Wn={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Wn.F1&&t<=Wn.F12)return!1;switch(t){case Wn.ALT:case Wn.CAPS_LOCK:case Wn.CONTEXT_MENU:case Wn.CTRL:case Wn.DOWN:case Wn.END:case Wn.ESC:case Wn.HOME:case Wn.INSERT:case Wn.LEFT:case Wn.MAC_FF_META:case Wn.META:case Wn.NUMLOCK:case Wn.NUM_CENTER:case Wn.PAGE_DOWN:case Wn.PAGE_UP:case Wn.PAUSE:case Wn.PRINT_SCREEN:case Wn.RIGHT:case Wn.SHIFT:case Wn.UP:case Wn.WIN_KEY:case Wn.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Wn.ZERO&&e<=Wn.NINE||e>=Wn.NUM_ZERO&&e<=Wn.NUM_MULTIPLY||e>=Wn.A&&e<=Wn.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case Wn.SPACE:case Wn.QUESTION_MARK:case Wn.NUM_PLUS:case Wn.NUM_MINUS:case Wn.NUM_PERIOD:case Wn.NUM_DIVISION:case Wn.SEMICOLON:case Wn.DASH:case Wn.EQUALS:case Wn.COMMA:case Wn.PERIOD:case Wn.SLASH:case Wn.APOSTROPHE:case Wn.SINGLE_QUOTE:case Wn.OPEN_SQUARE_BRACKET:case Wn.BACKSLASH:case Wn.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};function YDe(){var i=xn({},Vye);return i.useId}var Zne=0,Xne=YDe();const ZDe=Xne?function(e){var t=Xne();return e||t}:function(e){var t=ge.useState("ssr-id"),n=Ls(t,2),r=n[0],s=n[1];return ge.useEffect(function(){var o=Zne;Zne+=1,s("rc_unique_".concat(o))},[]),e||r};var XDe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,QDe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,JDe="".concat(XDe," ").concat(QDe).split(/[\s\n]+/),eTe="aria-",tTe="data-";function Qne(i,e){return i.indexOf(e)===0}function nTe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=xn({},e);var n={};return Object.keys(i).forEach(function(r){(t.aria&&(r==="role"||Qne(r,eTe))||t.data&&Qne(r,tTe)||t.attr&&JDe.includes(r))&&(n[r]=i[r])}),n}function iTe(i){var e=i.prefixCls,t=i.style,n=i.visible,r=i.maskProps,s=i.motionName;return ge.createElement(wE,{key:"mask",visible:n,motionName:s,leavedClassName:"".concat(e,"-mask-hidden")},function(o){var a=o.className,u=o.style;return ge.createElement("div",Lo({style:xn(xn({},u),t),className:Ad("".concat(e,"-mask"),a)},r))})}function Jne(i,e,t){var n=e;return!n&&t&&(n="".concat(i,"-").concat(t)),n}function eie(i,e){var t=i["page".concat(e?"Y":"X","Offset")],n="scroll".concat(e?"Top":"Left");if(typeof t!="number"){var r=i.document;t=r.documentElement[n],typeof t!="number"&&(t=r.body[n])}return t}function rTe(i){var e=i.getBoundingClientRect(),t={left:e.left,top:e.top},n=i.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=eie(r),t.top+=eie(r,!0),t}const sTe=ge.memo(function(i){var e=i.children;return e},function(i,e){var t=e.shouldUpdate;return!t});var tie={width:0,height:0,overflow:"hidden",outline:"none"},oTe=re.forwardRef(function(i,e){var t=i.prefixCls,n=i.className,r=i.style,s=i.title,o=i.ariaId,a=i.footer,u=i.closable,c=i.closeIcon,h=i.onClose,f=i.children,p=i.bodyStyle,m=i.bodyProps,v=i.modalRender,b=i.onMouseDown,S=i.onMouseUp,x=i.holderRef,w=i.visible,E=i.forceRender,N=i.width,A=i.height,H=ge.useRef(),R=ge.useRef();re.useImperativeHandle(e,function(){return{focus:function(){var B;(B=H.current)===null||B===void 0||B.focus()},changeActive:function(B){var W=document,j=W.activeElement;B&&j===R.current?H.current.focus():!B&&j===H.current&&R.current.focus()}}});var M={};N!==void 0&&(M.width=N),A!==void 0&&(M.height=A);var G;a&&(G=re.createElement("div",{className:"".concat(t,"-footer")},a));var X;s&&(X=re.createElement("div",{className:"".concat(t,"-header")},re.createElement("div",{className:"".concat(t,"-title"),id:o},s)));var $;u&&($=re.createElement("button",{type:"button",onClick:h,"aria-label":"Close",className:"".concat(t,"-close")},c||re.createElement("span",{className:"".concat(t,"-close-x")})));var I=re.createElement("div",{className:"".concat(t,"-content")},$,X,re.createElement("div",Lo({className:"".concat(t,"-body"),style:p},m),f),G);return re.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":s?o:null,"aria-modal":"true",ref:x,style:xn(xn({},r),M),className:Ad(t,n),onMouseDown:b,onMouseUp:S},re.createElement("div",{tabIndex:0,ref:H,style:tie,"aria-hidden":"true"}),re.createElement(sTe,{shouldUpdate:w||E},v?v(I):I),re.createElement("div",{tabIndex:0,ref:R,style:tie,"aria-hidden":"true"}))}),Jhe=ge.forwardRef(function(i,e){var t=i.prefixCls,n=i.title,r=i.style,s=i.className,o=i.visible,a=i.forceRender,u=i.destroyOnClose,c=i.motionName,h=i.ariaId,f=i.onVisibleChanged,p=i.mousePosition,m=ge.useRef(),v=ge.useState(),b=Ls(v,2),S=b[0],x=b[1],w={};S&&(w.transformOrigin=S);function E(){var N=rTe(m.current);x(p?"".concat(p.x-N.left,"px ").concat(p.y-N.top,"px"):"")}return ge.createElement(wE,{visible:o,onVisibleChanged:f,onAppearPrepare:E,onEnterPrepare:E,forceRender:a,motionName:c,removeOnLeave:u,ref:m},function(N,A){var H=N.className,R=N.style;return ge.createElement(oTe,Lo({},i,{ref:e,title:n,ariaId:h,prefixCls:t,holderRef:A,style:xn(xn(xn({},R),r),w),className:Ad(s,H)}))})});Jhe.displayName="Content";function nie(i){var e=i.prefixCls,t=e===void 0?"rc-dialog":e,n=i.zIndex,r=i.visible,s=r===void 0?!1:r,o=i.keyboard,a=o===void 0?!0:o,u=i.focusTriggerAfterClose,c=u===void 0?!0:u,h=i.scrollLocker,f=i.wrapStyle,p=i.wrapClassName,m=i.wrapProps,v=i.onClose,b=i.afterClose,S=i.transitionName,x=i.animation,w=i.closable,E=w===void 0?!0:w,N=i.mask,A=N===void 0?!0:N,H=i.maskTransitionName,R=i.maskAnimation,M=i.maskClosable,G=M===void 0?!0:M,X=i.maskStyle,$=i.maskProps,I=i.rootClassName,O=ge.useRef(),B=ge.useRef(),W=ge.useRef(),j=ge.useState(s),U=Ls(j,2),K=U[0],z=U[1],k=ZDe();function q(Re){if(Re){if(!TS(B.current,document.activeElement)){var dt;O.current=document.activeElement,(dt=W.current)===null||dt===void 0||dt.focus()}}else{if(z(!1),A&&O.current&&c){try{O.current.focus({preventScroll:!0})}catch{}O.current=null}K&&(b==null||b())}}function fe(Re){v==null||v(Re)}var ne=ge.useRef(!1),Ce=ge.useRef(),Te=function(){clearTimeout(Ce.current),ne.current=!0},He=function(){Ce.current=setTimeout(function(){ne.current=!1})},ot=null;G&&(ot=function(dt){ne.current?ne.current=!1:B.current===dt.target&&fe(dt)});function Rt(Re){if(a&&Re.keyCode===Wn.ESC){Re.stopPropagation(),fe(Re);return}s&&Re.keyCode===Wn.TAB&&W.current.changeActive(!Re.shiftKey)}return ge.useEffect(function(){return s&&z(!0),function(){}},[s]),ge.useEffect(function(){return function(){clearTimeout(Ce.current)}},[]),ge.useEffect(function(){return K?(h==null||h.lock(),h==null?void 0:h.unLock):function(){}},[K,h]),ge.createElement("div",Lo({className:Ad("".concat(t,"-root"),I)},nTe(i,{data:!0})),ge.createElement(iTe,{prefixCls:t,visible:A&&s,motionName:Jne(t,H,R),style:xn({zIndex:n},X),maskProps:$}),ge.createElement("div",Lo({tabIndex:-1,onKeyDown:Rt,className:Ad("".concat(t,"-wrap"),p),ref:B,onClick:ot,style:xn(xn({zIndex:n},f),{},{display:K?null:"none"})},m),ge.createElement(Jhe,Lo({},i,{onMouseDown:Te,onMouseUp:He,ref:W,closable:E,ariaId:k,prefixCls:t,visible:s,onClose:fe,onVisibleChanged:q,motionName:Jne(t,S,x)}))))}var efe=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,s=e.destroyOnClose,o=s===void 0?!1:s,a=e.afterClose,u=ge.useState(t),c=Ls(u,2),h=c[0],f=c[1];return ge.useEffect(function(){t&&f(!0)},[t]),n===!1?ge.createElement(nie,Lo({},e,{getOpenCount:function(){return 2}})):!r&&o&&!h?null:ge.createElement(GDe,{visible:t,forceRender:r,getContainer:n},function(p){return ge.createElement(nie,Lo({},e,{destroyOnClose:o,afterClose:function(){a==null||a(),f(!1)}},p))})};efe.displayName="Dialog";const JZ=zn("modal"),Sm=zn("confirm"),aTe=mt(JZ,"close"),lTe=Cn(aTe,"x"),uTe=Cn(JZ,"centered"),cTe=mt(Sm,"container"),dTe=mt(Sm,"indicator"),hTe=i=>typeof i=="string"?mt(Sm,uj[i]):"",fTe=mt(Sm,"content"),eX=mt(Sm,"message"),gTe=mt(Sm,"btns"),pTe=Cn(Sm,"centered"),mTe=Cn(eX,"text"),_Te=Cn(eX,"detail");var vTe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const sS=[];let lj;const iie=i=>{lj={x:i.pageX,y:i.pageY},setTimeout(()=>{lj=null},100)},bTe=re.createElement("span",{className:lTe},re.createElement(br,{type:"close"})),tfe=i=>{ge.useEffect(()=>(document.documentElement.addEventListener("click",iie,!0),()=>{document.documentElement.removeEventListener("click",iie,!0)}),[]);const e=v=>{const{onCancel:b}=i;b==null||b(v)},t=v=>{const{onOk:b}=i;b==null||b(v)},{footer:n,visible:r,wrapClassName:s,centered:o,getContainer:a,closeIcon:u,cancelText:c="Cancel",okText:h="Ok"}=i,f=vTe(i,["footer","visible","wrapClassName","centered","getContainer","closeIcon","cancelText","okText"]),p=bn(s,{[uTe]:!!o}),m=()=>{const{footer:v,cancelButtonProps:b,okButtonProps:S}=i;return v!==void 0?v:re.createElement(re.Fragment,null,re.createElement(VC,Object.assign({onClick:e},b),c),re.createElement(VC,Object.assign({onClick:t},S),h))};return re.createElement(efe,Object.assign({},f,{getContainer:a,prefixCls:JZ,wrapClassName:p,footer:m(),visible:r,mousePosition:lj,onClose:e,closeIcon:bTe}))},rie=i=>{const e=ge.useRef(!1),{close:t}=i,n=a=>{!a||!a.then||a.then((...u)=>{t==null||t(...u)},u=>{console.error(u),e.current=!1})},r=()=>{const{actionFn:a,close:u}=i;if(e.current)return;if(e.current=!0,!a){u==null||u();return}let c;if(a.length)c=a(u),e.current=!1;else if(c=a(),!c){u==null||u();return}n(c)},{children:s,buttonProps:o}=i;return re.createElement(VC,Object.assign({onClick:r},o),s)},CTe=i=>{const{actions:e,icon:t,onCancel:n,onOk:r,close:s,maskStyle:o,okText:a="Ok",okButtonProps:u,cancelText:c="Cancel",cancelButtonProps:h,okCancel:f,bodyStyle:p,closable:m=!1,className:v,width:b=520,style:S={},mask:x=!0,maskClosable:w=!1,transitionName:E="zoom",maskTransitionName:N="fade",type:A,visible:H}=i,R=hTe(A),M=bn(Sm,R,v),G=f&&re.createElement(rie,{actionFn:n,close:s,buttonProps:h},c);return re.createElement(tfe,{prefixCls:Sm,className:M,wrapClassName:bn({[pTe]:!!i.centered}),onCancel:()=>s({triggerCancel:!0}),transitionName:E,maskTransitionName:N,mask:x,maskClosable:w,style:S,width:b,closable:m,footer:"",title:"",maskStyle:o,visible:H},re.createElement("div",{className:cTe,style:p},re.createElement("div",{className:fTe},re.createElement("div",{className:dTe}," ",t," "),re.createElement("div",{className:eX},i.title!==void 0&&re.createElement("span",{className:mTe},i.title),re.createElement("div",{className:_Te},i.content))),re.createElement("div",{className:gTe},e===void 0?re.createElement(re.Fragment,null,G,re.createElement(rie,{actionFn:r,close:s,buttonProps:u},a)):e)))};var yTe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function nfe(i){const e=document.createElement("div");document.body.appendChild(e);const t=Object.assign(Object.assign({},i),{close:s,visible:!0});function n(...o){const a=o.some(c=>c&&c.triggerCancel);i.onCancel&&a&&i.onCancel(...o),Hde(e)&&e.parentNode&&e.parentNode.removeChild(e);for(let c=0;c<sS.length;c++)if(sS[c]===s){sS.splice(c,1);break}}function r(o){var{okText:a,cancelText:u}=o,c=yTe(o,["okText","cancelText"]);eF(re.createElement(CTe,Object.assign({okText:a,cancelText:u},c)),e)}function s(...o){n(...o)}return r(t),sS.push(s),{destroy:s}}function wTe(i){return Object.assign({type:"warning",okCancel:!1,icon:re.createElement(br,{type:"warning"})},i)}function STe(i){return Object.assign({type:"confirm",okCancel:!0,icon:re.createElement(br,{type:"warning"})},i)}function ife(i){return nfe(wTe(i))}const HP=tfe;var uj;(function(i){i.warning="warning",i.confirm="confirm"})(uj||(uj={}));HP.warning=ife;HP.warn=ife;HP.confirm=function(e){return nfe(STe(e))};HP.destroyAll=function(){for(;sS.length;){const e=sS.pop();e&&e()}};var xTe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const sie=zn("drop-down"),tX=ge.forwardRef((i,e)=>{const{className:t,overlay:n,children:r,placement:s="right",trigger:o="click"}=i,a=xTe(i,["className","overlay","children","placement","trigger"]),u=RP({render:()=>n});ge.useImperativeHandle(e,()=>({contextView:u,dispose:()=>{u.hide()}}));const c=bn(sie,Cn(sie,s),t),h={[zde(o)]:function(f){if(!u)return;const m=f.currentTarget.getBoundingClientRect();let v=une(s,m);if(u.show(v),s==="left"||s==="top"){const b=u.view.getBoundingClientRect();b.x=m.x,b.y=m.y,v=une(s,b),u.show(v)}}};return re.createElement("div",Object.assign({className:c},h,a),r)});var cj;(function(i){i.ENTER="Enter"})(cj||(cj={}));var ETe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const xE=zn("input"),LTe=Cn(xE,"normal"),DTe=Cn(xE,"lg"),TTe=Cn(xE,"disabled");function ITe(i){return typeof i>"u"||i===null?"":i}function rfe(i,e,t){t&&t(e)}function kTe(i,e){return bn(xE,{[LTe]:i==="normal"},{[DTe]:i==="large"},{[TTe]:e})}let nX=class extends re.Component{constructor(e){super(e),this.input=null,this.saveInput=n=>{this.input=n},this.handleChange=n=>{const{onChange:r}=this.props;this.setValue(n.target.value),typeof r=="function"&&rfe(this.input,n,r)},this.handleKeyDown=n=>{const{onPressEnter:r,onKeyDown:s}=this.props;n.key===cj.ENTER&&(r==null||r(n)),s==null||s(n)};const t=typeof e.value>"u"?e.defaultValue:e.value;this.state={value:t,prevValue:e.value}}static getDerivedStateFromProps(e,{prevValue:t}){const n={prevValue:e.value};return(e.value!==void 0||t!==e.value)&&(n.value=e.value),n}setValue(e){this.props.value===void 0&&this.setState({value:e})}render(){const{value:e}=this.state,t=this.props,{className:n,size:r="normal",disabled:s=!1,placeholder:o,style:a}=t,u=ETe(t,["className","size","disabled","placeholder","style"]);return re.createElement("input",Object.assign({value:e,style:a,placeholder:o,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:bn(n,kTe(r,s)),ref:this.saveInput},u))}};nX.defaultProps={type:"text"};function dj(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return re.Children.forEach(i,function(n){n==null&&!e.keepEmpty||(Array.isArray(n)?t=t.concat(dj(n)):ahe(n)&&n.props?t=t.concat(dj(n.props.children,e)):t.push(n))}),t}var hj=ge.createContext(null);function NTe(i){var e=i.children,t=i.onBatchResize,n=ge.useRef(0),r=ge.useRef([]),s=ge.useContext(hj),o=ge.useCallback(function(a,u,c){n.current+=1;var h=n.current;r.current.push({size:a,element:u,data:c}),Promise.resolve().then(function(){h===n.current&&(t==null||t(r.current),r.current=[])}),s==null||s(a,u,c)},[t,s]);return ge.createElement(hj.Provider,{value:o},e)}var M0=new Map;function ATe(i){i.forEach(function(e){var t,n=e.target;(t=M0.get(n))===null||t===void 0||t.forEach(function(r){return r(n)})})}var sfe=new Bhe(ATe);function OTe(i,e){M0.has(i)||(M0.set(i,new Set),sfe.observe(i)),M0.get(i).add(e)}function MTe(i,e){M0.has(i)&&(M0.get(i).delete(e),M0.get(i).size||(sfe.unobserve(i),M0.delete(i)))}var RTe=function(i){Fy(t,i);var e=By(t);function t(){return Y1(this,t),e.apply(this,arguments)}return Z1(t,[{key:"render",value:function(){return this.props.children}}]),t}(ge.Component);function PTe(i,e){var t=i.children,n=i.disabled,r=ge.useRef(null),s=ge.useRef(null),o=ge.useContext(hj),a=typeof t=="function",u=a?t(r):t,c=ge.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!a&&ge.isValidElement(u)&&VZ(u),f=h?che(u):null,p=cEe(f,r),m=function(){var x;return mO(r.current)||(r.current&&Yo(r.current)==="object"?mO((x=r.current)===null||x===void 0?void 0:x.nativeElement):null)||mO(s.current)};ge.useImperativeHandle(e,function(){return m()});var v=ge.useRef(i);v.current=i;var b=ge.useCallback(function(S){var x=v.current,w=x.onResize,E=x.data,N=S.getBoundingClientRect(),A=N.width,H=N.height,R=S.offsetWidth,M=S.offsetHeight,G=Math.floor(A),X=Math.floor(H);if(c.current.width!==G||c.current.height!==X||c.current.offsetWidth!==R||c.current.offsetHeight!==M){var $={width:G,height:X,offsetWidth:R,offsetHeight:M};c.current=$;var I=R===Math.round(A)?A:R,O=M===Math.round(H)?H:M,B=xn(xn({},$),{},{offsetWidth:I,offsetHeight:O});o==null||o(B,S,E),w&&Promise.resolve().then(function(){w(B,S)})}},[]);return ge.useEffect(function(){var S=m();return S&&!n&&OTe(S,b),function(){return MTe(S,b)}},[r.current,n]),ge.createElement(RTe,{ref:s},h?ge.cloneElement(u,{ref:p}):u)}var FTe=ge.forwardRef(PTe),BTe="rc-observer-key";function WTe(i,e){var t=i.children,n=typeof t=="function"?[t]:dj(t);return n.map(function(r,s){var o=(r==null?void 0:r.key)||"".concat(BTe,"-").concat(s);return ge.createElement(FTe,Lo({},i,{key:o,ref:s===0?e:void 0}),r)})}var ofe=ge.forwardRef(WTe);ofe.Collection=NTe;function VTe(i,e){var t=Object.assign({},i);return Array.isArray(e)&&e.forEach(function(n){delete t[n]}),t}var HTe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,$Te=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],fH={},Qc;function zTe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=i.getAttribute("id")||i.getAttribute("data-reactid")||i.getAttribute("name");if(e&&fH[t])return fH[t];var n=window.getComputedStyle(i),r=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),s=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),o=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),a=$Te.map(function(c){return"".concat(c,":").concat(n.getPropertyValue(c))}).join(";"),u={sizingStyle:a,paddingSize:s,borderSize:o,boxSizing:r};return e&&t&&(fH[t]=u),u}function UTe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Qc||(Qc=document.createElement("textarea"),Qc.setAttribute("tab-index","-1"),Qc.setAttribute("aria-hidden","true"),document.body.appendChild(Qc)),i.getAttribute("wrap")?Qc.setAttribute("wrap",i.getAttribute("wrap")):Qc.removeAttribute("wrap");var r=zTe(i,e),s=r.paddingSize,o=r.borderSize,a=r.boxSizing,u=r.sizingStyle;Qc.setAttribute("style","".concat(u,";").concat(HTe)),Qc.value=i.value||i.placeholder||"";var c=Number.MIN_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER,f=Qc.scrollHeight,p;if(a==="border-box"?f+=o:a==="content-box"&&(f-=s),t!==null||n!==null){Qc.value=" ";var m=Qc.scrollHeight-s;t!==null&&(c=m*t,a==="border-box"&&(c=c+s+o),f=Math.max(c,f)),n!==null&&(h=m*n,a==="border-box"&&(h=h+s+o),p=f>h?"":"hidden",f=Math.min(h,f))}return{height:f,minHeight:c,maxHeight:h,overflowY:p,resize:"none"}}var jTe=function(e,t,n,r){var s=n?n.call(r,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var h=o[c];if(!u(h))return!1;var f=e[h],p=t[h];if(s=n?n.call(r,f,p,h):void 0,s===!1||s===void 0&&f!==p)return!1}return!0};const KTe=Om(jTe);var w0;(function(i){i[i.NONE=0]="NONE",i[i.RESIZING=1]="RESIZING",i[i.RESIZED=2]="RESIZED"})(w0||(w0={}));var qTe=function(i){Fy(t,i);var e=By(t);function t(n){var r;return Y1(this,t),r=e.call(this,n),r.nextFrameActionId=void 0,r.resizeFrameId=void 0,r.textArea=void 0,r.saveTextArea=function(s){r.textArea=s},r.handleResize=function(s){var o=r.state.resizeStatus,a=r.props,u=a.autoSize,c=a.onResize;o===w0.NONE&&(typeof c=="function"&&c(s),u&&r.resizeOnNextFrame())},r.resizeOnNextFrame=function(){cancelAnimationFrame(r.nextFrameActionId),r.nextFrameActionId=requestAnimationFrame(r.resizeTextarea)},r.resizeTextarea=function(){var s=r.props.autoSize;if(!(!s||!r.textArea)){var o=s.minRows,a=s.maxRows,u=UTe(r.textArea,!1,o,a);r.setState({textareaStyles:u,resizeStatus:w0.RESIZING},function(){cancelAnimationFrame(r.resizeFrameId),r.resizeFrameId=requestAnimationFrame(function(){r.setState({resizeStatus:w0.RESIZED},function(){r.resizeFrameId=requestAnimationFrame(function(){r.setState({resizeStatus:w0.NONE}),r.fixFirefoxAutoScroll()})})})})}},r.renderTextArea=function(){var s=r.props,o=s.prefixCls,a=o===void 0?"rc-textarea":o,u=s.autoSize,c=s.onResize,h=s.className,f=s.disabled,p=r.state,m=p.textareaStyles,v=p.resizeStatus,b=VTe(r.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),S=Ad(a,h,rn({},"".concat(a,"-disabled"),f));"value"in b&&(b.value=b.value||"");var x=xn(xn(xn({},r.props.style),m),v===w0.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return ge.createElement(ofe,{onResize:r.handleResize,disabled:!(u||c)},ge.createElement("textarea",Lo({},b,{className:S,style:x,ref:r.saveTextArea})))},r.state={textareaStyles:{},resizeStatus:w0.NONE},r}return Z1(t,[{key:"componentDidUpdate",value:function(r){(r.value!==this.props.value||!KTe(r.autoSize,this.props.autoSize))&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var r=this.textArea.selectionStart,s=this.textArea.selectionEnd;this.textArea.setSelectionRange(r,s)}}catch{}}},{key:"render",value:function(){return this.renderTextArea()}}]),t}(ge.Component),GTe=function(i){Fy(t,i);var e=By(t);function t(n){var r;Y1(this,t),r=e.call(this,n),r.resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(o){r.resizableTextArea=o},r.handleChange=function(o){var a=r.props.onChange;r.setValue(o.target.value,function(){r.resizableTextArea.resizeTextarea()}),a&&a(o)},r.handleKeyDown=function(o){var a=r.props,u=a.onPressEnter,c=a.onKeyDown;o.keyCode===13&&u&&u(o),c&&c(o)};var s=typeof n.value>"u"||n.value===null?n.defaultValue:n.value;return r.state={value:s},r}return Z1(t,[{key:"setValue",value:function(r,s){"value"in this.props||this.setState({value:r},s)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return ge.createElement(qTe,Lo({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(r){return"value"in r?{value:r.value}:null}}]),t}(ge.Component),afe={},lfe={exports:{}};(function(i){function e(t){return t&&t.__esModule?t:{default:t}}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(lfe);var iX=lfe.exports,ufe={exports:{}},cfe={exports:{}};(function(i){function e(t){if(Array.isArray(t))return t}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(cfe);var YTe=cfe.exports,dfe={exports:{}};(function(i){function e(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,o,a,u,c=[],h=!0,f=!1;try{if(a=(r=r.call(t)).next,n===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(s=a.call(r)).done)&&(c.push(s.value),c.length!==n);h=!0);}catch(p){f=!0,o=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(f)throw o}}return c}}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(dfe);var ZTe=dfe.exports,hfe={exports:{}},ffe={exports:{}};(function(i){function e(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,s=Array(n);r<n;r++)s[r]=t[r];return s}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(ffe);var XTe=ffe.exports;(function(i){var e=XTe;function t(n,r){if(n){if(typeof n=="string")return e(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?e(n,r):void 0}}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports})(hfe);var QTe=hfe.exports,gfe={exports:{}};(function(i){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(gfe);var JTe=gfe.exports;(function(i){var e=YTe,t=ZTe,n=QTe,r=JTe;function s(o,a){return e(o)||t(o,a)||n(o,a)||r()}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports})(ufe);var pfe=ufe.exports,rX={},mfe={exports:{}},_fe={exports:{}};(function(i){function e(t){"@babel/helpers - typeof";return i.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i.exports.__esModule=!0,i.exports.default=i.exports,e(t)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(_fe);var e2e=_fe.exports;(function(i){var e=e2e.default;function t(r){if(typeof WeakMap!="function")return null;var s=new WeakMap,o=new WeakMap;return(t=function(u){return u?o:s})(r)}function n(r,s){if(!s&&r&&r.__esModule)return r;if(r===null||e(r)!="object"&&typeof r!="function")return{default:r};var o=t(s);if(o&&o.has(r))return o.get(r);var a={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in r)if(c!=="default"&&{}.hasOwnProperty.call(r,c)){var h=u?Object.getOwnPropertyDescriptor(r,c):null;h&&(h.get||h.set)?Object.defineProperty(a,c,h):a[c]=r[c]}return a.default=r,o&&o.set(r,a),a}i.exports=n,i.exports.__esModule=!0,i.exports.default=i.exports})(mfe);var sX=mfe.exports,t2e=sX.default;Object.defineProperty(rX,"__esModule",{value:!0});rX.default=n2e;var oie=t2e(ge);function n2e(i){var e=oie.useRef();e.current=i;var t=oie.useCallback(function(){for(var n,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=e.current)===null||n===void 0?void 0:n.call.apply(n,[e].concat(s))},[]);return t}var mx={},oX={};Object.defineProperty(oX,"__esModule",{value:!0});oX.default=i2e;function i2e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var r2e=iX.default,s2e=sX.default;Object.defineProperty(mx,"__esModule",{value:!0});mx.useLayoutUpdateEffect=mx.default=void 0;var fj=s2e(ge),o2e=r2e(oX),aie=(0,o2e.default)()?fj.useLayoutEffect:fj.useEffect,vfe=function(e,t){var n=fj.useRef(!0);aie(function(){return e(n.current)},t),aie(function(){return n.current=!1,function(){n.current=!0}},[])};mx.useLayoutUpdateEffect=function(e,t){vfe(function(n){if(!n)return e()},t)};mx.default=vfe;var aX={},a2e=sX.default,l2e=iX.default;Object.defineProperty(aX,"__esModule",{value:!0});aX.default=c2e;var u2e=l2e(pfe),gH=a2e(ge);function c2e(i){var e=gH.useRef(!1),t=gH.useState(i),n=(0,u2e.default)(t,2),r=n[0],s=n[1];gH.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,u){u&&e.current||s(a)}return[r,o]}var lX=iX.default;Object.defineProperty(afe,"__esModule",{value:!0});var d2e=afe.default=h2e,lie=lX(pfe),uie=lX(rX),cie=mx,die=lX(aX);function pH(i){return i!==void 0}function h2e(i,e){var t=e||{},n=t.defaultValue,r=t.value,s=t.onChange,o=t.postState,a=(0,die.default)(function(){return pH(r)?r:pH(n)?typeof n=="function"?n():n:typeof i=="function"?i():i}),u=(0,lie.default)(a,2),c=u[0],h=u[1],f=r!==void 0?r:c,p=o?o(f):f,m=(0,uie.default)(s),v=(0,die.default)([f]),b=(0,lie.default)(v,2),S=b[0],x=b[1];(0,cie.useLayoutUpdateEffect)(function(){var E=S[0];c!==E&&m(c,E)},[S]),(0,cie.useLayoutUpdateEffect)(function(){pH(r)||h(r)},[r]);var w=(0,uie.default)(function(E,N){h(E,N),x([f],N)});return[p,w]}var f2e=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const bfe=mt(xE,"textarea"),g2e=Cn(bfe,"show-count"),p2e=i=>{var{showCount:e=!1,maxLength:t,className:n,style:r,onChange:s}=i,o=f2e(i,["showCount","maxLength","className","style","onChange"]);const a=ge.useRef(null),[u,c]=d2e(o.defaultValue,{value:o.value}),h=ge.useRef(o.value);ge.useEffect(()=>{(o.value!==void 0||h.current!==o.value)&&(c(o.value),h.current=o.value)},[o.value,h.current]);const f=x=>{o.value===void 0&&c(x)},p=x=>{f(x.target.value),rfe(a.current,x,s)},m=Nr.omit(o,["value"]),v=re.createElement(GTe,Object.assign({},m,{value:u,maxLength:t,className:bn(n&&!e?[n]:""),style:e?{}:r,prefixCls:xE,onChange:p,ref:a}));let b=ITe(u);const S=Number(t)>0;if(b=S?[...b].slice(0,t).join(""):b,e){const w=`${[...b].length}${S?` / ${t}`:""}`;return re.createElement("div",{className:bn(n,bfe,g2e),style:r,"data-count":w},v)}return v};nX.TextArea=p2e;var m2e=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const $P=zn("list"),_2e=Cn($P,"vertical"),v2e=Cn($P,"horizontal");function b2e(i){const{children:e,current:t,disable:n,onClick:r,onSelect:s,className:o,mode:a}=i,u=m2e(i,["children","current","disable","onClick","onSelect","className","mode"]),[c,h]=ge.useState(t),[f,p]=ge.useState(n);ge.useEffect(()=>{c!==t&&h(t),n!==f&&p(n)},[t,n]);const m=(S,x)=>{r==null||r(S,x),x&&(x.id!==c&&h(x.id),s==null||s(S,x))},b=bn($P,o,a==="horizontal"?v2e:_2e);return re.createElement("ul",Object.assign({},u,{className:b}),MP(e,{active:c,disable:f,onClick:m}))}var C2e=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const uX=mt($P,"item"),y2e=mt($P,"label"),w2e=Cn(uX,"active"),hie=Cn(uX,"disabled");function S2e(i){const{id:e,onClick:t,disabled:n,active:r,disable:s,className:o,children:a}=i,u=C2e(i,["id","onClick","disabled","active","disable","className","children"]),c=p=>{t==null||t(p,i)};let h="";(n!==void 0||n===!0)&&(h=hie),s===e&&(h=hie);const f=bn(uX,o,h,r===e?w2e:"");return re.createElement("li",Object.assign({id:e.toString(),className:f},u,{onClick:c}),re.createElement("span",{className:y2e},a))}class x2e{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const Cfe=new x2e;function vn(i){lp(i)||Cfe.onUnexpectedError(i)}function Jo(i){lp(i)||Cfe.onUnexpectedExternalError(i)}function fie(i){if(i instanceof Error){let{name:e,message:t}=i;const n=i.stacktrace||i.stack;return{$isError:!0,name:e,message:t,stack:n}}return i}const gj="Canceled";function lp(i){return i instanceof Error&&i.name===gj&&i.message===gj}function Hy(){const i=new Error(gj);return i.name=i.message,i}function Tf(i){return i?new Error(`Illegal argument: ${i}`):new Error("Illegal argument")}function E2e(i){return i?new Error(`Illegal state: ${i}`):new Error("Illegal state")}class L2e extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}function xm(i){const e=this;let t=!1,n;return function(){return t||(t=!0,n=i.apply(e,arguments)),n}}var ri;(function(i){function e(w){return w&&typeof w=="object"&&typeof w[Symbol.iterator]=="function"}i.is=e;const t=Object.freeze([]);function n(){return t}i.empty=n;function*r(w){yield w}i.single=r;function s(w){return w||t}i.from=s;function o(w){return!w||w[Symbol.iterator]().next().done===!0}i.isEmpty=o;function a(w){return w[Symbol.iterator]().next().value}i.first=a;function u(w,E){for(const N of w)if(E(N))return!0;return!1}i.some=u;function c(w,E){for(const N of w)if(E(N))return N}i.find=c;function*h(w,E){for(const N of w)E(N)&&(yield N)}i.filter=h;function*f(w,E){let N=0;for(const A of w)yield E(A,N++)}i.map=f;function*p(...w){for(const E of w)for(const N of E)yield N}i.concat=p;function*m(w){for(const E of w)for(const N of E)yield N}i.concatNested=m;function v(w,E,N){let A=N;for(const H of w)A=E(A,H);return A}i.reduce=v;function*b(w,E,N=w.length){for(E<0&&(E+=w.length),N<0?N+=w.length:N>w.length&&(N=w.length);E<N;E++)yield w[E]}i.slice=b;function S(w,E=Number.POSITIVE_INFINITY){const N=[];if(E===0)return[N,w];const A=w[Symbol.iterator]();for(let H=0;H<E;H++){const R=A.next();if(R.done)return[N,i.empty()];N.push(R.value)}return[N,{[Symbol.iterator](){return A}}]}i.consume=S;function x(w,E,N=(A,H)=>A===H){const A=w[Symbol.iterator](),H=E[Symbol.iterator]();for(;;){const R=A.next(),M=H.next();if(R.done!==M.done)return!1;if(R.done)return!0;if(!N(R.value,M.value))return!1}}i.equals=x})(ri||(ri={}));class D2e extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function cX(i){return typeof i.dispose=="function"&&i.dispose.length===0}function ui(i){if(ri.is(i)){let e=[];for(const t of i)if(t)try{t.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new D2e(e);return Array.isArray(i)?[]:i}else if(i)return i.dispose(),i}function e1(...i){return Yn(()=>ui(i))}function Yn(i){return{dispose:xm(()=>{i()})}}class tt{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{ui(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?tt.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}tt.DISABLE_DISPOSED_WARNING=!1;class Me{constructor(){this._store=new tt,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}Me.None=Object.freeze({dispose(){}});class Ja{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e}}class T2e{constructor(e){this.object=e}dispose(){}}let Ns=class pj{constructor(e){this.element=e,this.next=pj.Undefined,this.prev=pj.Undefined}};Ns.Undefined=new Ns(void 0);class nc{constructor(){this._first=Ns.Undefined,this._last=Ns.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Ns.Undefined}clear(){let e=this._first;for(;e!==Ns.Undefined;){const t=e.next;e.prev=Ns.Undefined,e.next=Ns.Undefined,e=t}this._first=Ns.Undefined,this._last=Ns.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const n=new Ns(e);if(this._first===Ns.Undefined)this._first=n,this._last=n;else if(t){const s=this._last;this._last=n,n.prev=s,s.next=n}else{const s=this._first;this._first=n,n.next=s,s.prev=n}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(n))}}shift(){if(this._first!==Ns.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Ns.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Ns.Undefined&&e.next!==Ns.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Ns.Undefined&&e.next===Ns.Undefined?(this._first=Ns.Undefined,this._last=Ns.Undefined):e.next===Ns.Undefined?(this._last=this._last.prev,this._last.next=Ns.Undefined):e.prev===Ns.Undefined&&(this._first=this._first.next,this._first.prev=Ns.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Ns.Undefined;)yield e.element,e=e.next}}var mH;const O6="en";let lF=!1,uF=!1,M6=!1,yfe=!1,wfe=!1,dX=!1,$A,R6=O6,I2e,p0;const us=typeof self=="object"?self:typeof global=="object"?global:{};let Rl;typeof us.vscode<"u"&&typeof us.vscode.process<"u"?Rl=us.vscode.process:typeof process<"u"&&(Rl=process);const k2e=typeof((mH=Rl==null?void 0:Rl.versions)===null||mH===void 0?void 0:mH.electron)=="string",N2e=k2e&&(Rl==null?void 0:Rl.type)==="renderer";if(typeof navigator=="object"&&!N2e)p0=navigator.userAgent,lF=p0.indexOf("Windows")>=0,uF=p0.indexOf("Macintosh")>=0,dX=(p0.indexOf("Macintosh")>=0||p0.indexOf("iPad")>=0||p0.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,M6=p0.indexOf("Linux")>=0,wfe=!0,$A=navigator.language,R6=$A;else if(typeof Rl=="object"){lF=Rl.platform==="win32",uF=Rl.platform==="darwin",M6=Rl.platform==="linux",M6&&Rl.env.SNAP&&Rl.env.SNAP_REVISION,$A=O6,R6=O6;const i=Rl.env.VSCODE_NLS_CONFIG;if(i)try{const e=JSON.parse(i),t=e.availableLanguages["*"];$A=e.locale,R6=t||O6,I2e=e._translationsConfigFile}catch{}yfe=!0}else console.error("Unable to resolve platform.");const Zo=lF,Xn=uF,yl=M6,If=yfe,EE=wfe,zg=dX,A2e=p0,O2e=R6,M2e=$A,R2e=(()=>{if(typeof us.postMessage=="function"&&!us.importScripts){let i=[];us.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let n=0,r=i.length;n<r;n++){const s=i[n];if(s.id===t.data.vscodeScheduleAsyncWork){i.splice(n,1),s.callback();return}}});let e=0;return t=>{const n=++e;i.push({id:n,callback:t}),us.postMessage({vscodeScheduleAsyncWork:n},"*")}}return i=>setTimeout(i)})(),yc=uF||dX?2:lF?1:3;let gie=!0,pie=!1;function Sfe(){if(!pie){pie=!0;const i=new Uint8Array(2);i[0]=1,i[1]=2,gie=new Uint16Array(i.buffer)[0]===512+1}return gie}const P2e=us.performance&&typeof us.performance.now=="function";class Ug{constructor(e){this._highResolution=P2e&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new Ug(e)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?us.performance.now():Date.now()}}var Bt;(function(i){i.None=()=>Me.None;function e(w){return(E,N=null,A)=>{let H=!1,R;return R=w(M=>{if(!H)return R?R.dispose():H=!0,E.call(N,M)},null,A),H&&R.dispose(),R}}i.once=e;function t(w,E){return u((N,A=null,H)=>w(R=>N.call(A,E(R)),null,H))}i.map=t;function n(w,E){return u((N,A=null,H)=>w(R=>{E(R),N.call(A,R)},null,H))}i.forEach=n;function r(w,E){return u((N,A=null,H)=>w(R=>E(R)&&N.call(A,R),null,H))}i.filter=r;function s(w){return w}i.signal=s;function o(...w){return(E,N=null,A)=>e1(...w.map(H=>H(R=>E.call(N,R),null,A)))}i.any=o;function a(w,E,N){let A=N;return t(w,H=>(A=E(A,H),A))}i.reduce=a;function u(w){let E;const N=new ye({onFirstListenerAdd(){E=w(N.fire,N)},onLastListenerRemove(){E.dispose()}});return N.event}function c(w,E,N=100,A=!1,H){let R,M,G,X=0;const $=new ye({leakWarningThreshold:H,onFirstListenerAdd(){R=w(I=>{X++,M=E(M,I),A&&!G&&($.fire(M),M=void 0),clearTimeout(G),G=setTimeout(()=>{const O=M;M=void 0,G=void 0,(!A||X>1)&&$.fire(O),X=0},N)})},onLastListenerRemove(){R.dispose()}});return $.event}i.debounce=c;function h(w,E=(N,A)=>N===A){let N=!0,A;return r(w,H=>{const R=N||!E(H,A);return N=!1,A=H,R})}i.latch=h;function f(w,E){return[i.filter(w,E),i.filter(w,N=>!E(N))]}i.split=f;function p(w,E=!1,N=[]){let A=N.slice(),H=w(G=>{A?A.push(G):M.fire(G)});const R=()=>{A&&A.forEach(G=>M.fire(G)),A=null},M=new ye({onFirstListenerAdd(){H||(H=w(G=>M.fire(G)))},onFirstListenerDidAdd(){A&&(E?setTimeout(R):R())},onLastListenerRemove(){H&&H.dispose(),H=null}});return M.event}i.buffer=p;class m{constructor(E){this.event=E}map(E){return new m(t(this.event,E))}forEach(E){return new m(n(this.event,E))}filter(E){return new m(r(this.event,E))}reduce(E,N){return new m(a(this.event,E,N))}latch(){return new m(h(this.event))}debounce(E,N=100,A=!1,H){return new m(c(this.event,E,N,A,H))}on(E,N,A){return this.event(E,N,A)}once(E,N,A){return e(this.event)(E,N,A)}}function v(w){return new m(w)}i.chain=v;function b(w,E,N=A=>A){const A=(...G)=>M.fire(N(...G)),H=()=>w.on(E,A),R=()=>w.removeListener(E,A),M=new ye({onFirstListenerAdd:H,onLastListenerRemove:R});return M.event}i.fromNodeEventEmitter=b;function S(w,E,N=A=>A){const A=(...G)=>M.fire(N(...G)),H=()=>w.addEventListener(E,A),R=()=>w.removeEventListener(E,A),M=new ye({onFirstListenerAdd:H,onLastListenerRemove:R});return M.event}i.fromDOMEventEmitter=S;function x(w){return new Promise(E=>e(w)(E))}i.toPromise=x})(Bt||(Bt={}));class sB{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${sB._idPool++}`}start(e){this._stopWatch=new Ug(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}sB._idPool=0;let ye=class{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=!((t=this._options)===null||t===void 0)&&t._profName?new sB(this._options._profName):void 0}get event(){return this._event||(this._event=(e,t,n)=>{var r;this._listeners||(this._listeners=new nc);const s=this._listeners.isEmpty();s&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(t?[e,t]:e);s&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);const a=(r=this._leakageMon)===null||r===void 0?void 0:r.check(this._listeners.size),u=Yn(()=>{a&&a(),this._disposed||(o(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return n instanceof tt?n.add(u):Array.isArray(n)&&n.push(u),u}),this._event}fire(e){var t,n;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new nc);for(let r of this._listeners)this._deliveryQueue.push([r,e]);for((t=this._perfMon)===null||t===void 0||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[r,s]=this._deliveryQueue.shift();try{typeof r=="function"?r.call(void 0,s):r[0].call(r[1],s)}catch(o){vn(o)}}(n=this._perfMon)===null||n===void 0||n.stop()}}dispose(){var e,t,n,r,s;this._disposed||(this._disposed=!0,(e=this._listeners)===null||e===void 0||e.clear(),(t=this._deliveryQueue)===null||t===void 0||t.clear(),(r=(n=this._options)===null||n===void 0?void 0:n.onLastListenerRemove)===null||r===void 0||r.call(n),(s=this._leakageMon)===null||s===void 0||s.dispose())}};class cF extends ye{constructor(e){super(e),this._isPaused=0,this._eventQueue=new nc,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class F2e extends cF{constructor(e){var t;super(e),this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class hX{constructor(){this.buffers=[]}wrapEvent(e){return(t,n,r)=>e(s=>{const o=this.buffers[this.buffers.length-1];o?o.push(()=>t.call(n,s)):t.call(n,s)},void 0,r)}bufferEvents(e){const t=[];this.buffers.push(t);const n=e();return this.buffers.pop(),t.forEach(r=>r()),n}}class mie{constructor(){this.listening=!1,this.inputEvent=Bt.None,this.inputEventListener=Me.None,this.emitter=new ye({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}class HC{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new ye,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/n}}HC.INSTANCE=new HC;function dF(){return HC.INSTANCE.getZoomLevel()}function xfe(){return HC.INSTANCE.getTimeSinceLastZoomLevelChanged()}function fX(i){return HC.INSTANCE.onDidChangeZoomLevel(i)}function Efe(){return HC.INSTANCE.getZoomFactor()}function dM(){return HC.INSTANCE.getPixelRatio()}const zP=navigator.userAgent,Kl=zP.indexOf("Firefox")>=0,t1=zP.indexOf("AppleWebKit")>=0,gX=zP.indexOf("Chrome")>=0,Cd=!gX&&zP.indexOf("Safari")>=0,Lfe=!gX&&!Cd&&t1,Dfe=zP.indexOf("Android")>=0,pX=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,B2e=Object.freeze(Object.defineProperty({__proto__:null,getPixelRatio:dM,getTimeSinceLastZoomLevelChanged:xfe,getZoomFactor:Efe,getZoomLevel:dF,isAndroid:Dfe,isChrome:gX,isFirefox:Kl,isSafari:Cd,isStandalone:pX,isWebKit:t1,isWebkitWebView:Lfe,onDidChangeZoomLevel:fX},Symbol.toStringTag,{value:"Module"})),oB={clipboard:{writeText:If||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:If||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>If||pX?0:navigator.keyboard||Cd?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)};class mX{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const P6=new mX,mj=new mX,_j=new mX,Tfe=new Array(230),W2e=Object.create(null),V2e=Object.create(null),_X=[];for(let i=0;i<=193;i++)_X[i]=-1;(function(){const i="",e=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[0,1,1,"Hyper",0,i,0,i,i,i],[0,1,2,"Super",0,i,0,i,i,i],[0,1,3,"Fn",0,i,0,i,i,i],[0,1,4,"FnLock",0,i,0,i,i,i],[0,1,5,"Suspend",0,i,0,i,i,i],[0,1,6,"Resume",0,i,0,i,i,i],[0,1,7,"Turbo",0,i,0,i,i,i],[0,1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[0,1,9,"WakeUp",0,i,0,i,i,i],[31,0,10,"KeyA",31,"A",65,"VK_A",i,i],[32,0,11,"KeyB",32,"B",66,"VK_B",i,i],[33,0,12,"KeyC",33,"C",67,"VK_C",i,i],[34,0,13,"KeyD",34,"D",68,"VK_D",i,i],[35,0,14,"KeyE",35,"E",69,"VK_E",i,i],[36,0,15,"KeyF",36,"F",70,"VK_F",i,i],[37,0,16,"KeyG",37,"G",71,"VK_G",i,i],[38,0,17,"KeyH",38,"H",72,"VK_H",i,i],[39,0,18,"KeyI",39,"I",73,"VK_I",i,i],[40,0,19,"KeyJ",40,"J",74,"VK_J",i,i],[41,0,20,"KeyK",41,"K",75,"VK_K",i,i],[42,0,21,"KeyL",42,"L",76,"VK_L",i,i],[43,0,22,"KeyM",43,"M",77,"VK_M",i,i],[44,0,23,"KeyN",44,"N",78,"VK_N",i,i],[45,0,24,"KeyO",45,"O",79,"VK_O",i,i],[46,0,25,"KeyP",46,"P",80,"VK_P",i,i],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[48,0,27,"KeyR",48,"R",82,"VK_R",i,i],[49,0,28,"KeyS",49,"S",83,"VK_S",i,i],[50,0,29,"KeyT",50,"T",84,"VK_T",i,i],[51,0,30,"KeyU",51,"U",85,"VK_U",i,i],[52,0,31,"KeyV",52,"V",86,"VK_V",i,i],[53,0,32,"KeyW",53,"W",87,"VK_W",i,i],[54,0,33,"KeyX",54,"X",88,"VK_X",i,i],[55,0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[22,0,36,"Digit1",22,"1",49,"VK_1",i,i],[23,0,37,"Digit2",23,"2",50,"VK_2",i,i],[24,0,38,"Digit3",24,"3",51,"VK_3",i,i],[25,0,39,"Digit4",25,"4",52,"VK_4",i,i],[26,0,40,"Digit5",26,"5",53,"VK_5",i,i],[27,0,41,"Digit6",27,"6",54,"VK_6",i,i],[28,0,42,"Digit7",28,"7",55,"VK_7",i,i],[29,0,43,"Digit8",29,"8",56,"VK_8",i,i],[30,0,44,"Digit9",30,"9",57,"VK_9",i,i],[21,0,45,"Digit0",21,"0",48,"VK_0",i,i],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[10,1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,i,0,i,i,i],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[59,1,64,"F1",59,"F1",112,"VK_F1",i,i],[60,1,65,"F2",60,"F2",113,"VK_F2",i,i],[61,1,66,"F3",61,"F3",114,"VK_F3",i,i],[62,1,67,"F4",62,"F4",115,"VK_F4",i,i],[63,1,68,"F5",63,"F5",116,"VK_F5",i,i],[64,1,69,"F6",64,"F6",117,"VK_F6",i,i],[65,1,70,"F7",65,"F7",118,"VK_F7",i,i],[66,1,71,"F8",66,"F8",119,"VK_F8",i,i],[67,1,72,"F9",67,"F9",120,"VK_F9",i,i],[68,1,73,"F10",68,"F10",121,"VK_F10",i,i],[69,1,74,"F11",69,"F11",122,"VK_F11",i,i],[70,1,75,"F12",70,"F12",123,"VK_F12",i,i],[0,1,76,"PrintScreen",0,i,0,i,i,i],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",i,i],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[14,1,80,"Home",14,"Home",36,"VK_HOME",i,i],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[13,1,83,"End",13,"End",35,"VK_END",i,i],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",i,i],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",i,i],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",i,i],[3,1,94,"NumpadEnter",3,i,0,i,i,i],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",i,i],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",i,i],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",i,i],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",i,i],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",i,i],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",i,i],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",i,i],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",i,i],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",i,i],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",i,i],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",i,i],[58,1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[0,1,108,"Power",0,i,0,i,i,i],[0,1,109,"NumpadEqual",0,i,0,i,i,i],[71,1,110,"F13",71,"F13",124,"VK_F13",i,i],[72,1,111,"F14",72,"F14",125,"VK_F14",i,i],[73,1,112,"F15",73,"F15",126,"VK_F15",i,i],[74,1,113,"F16",74,"F16",127,"VK_F16",i,i],[75,1,114,"F17",75,"F17",128,"VK_F17",i,i],[76,1,115,"F18",76,"F18",129,"VK_F18",i,i],[77,1,116,"F19",77,"F19",130,"VK_F19",i,i],[0,1,117,"F20",0,i,0,"VK_F20",i,i],[0,1,118,"F21",0,i,0,"VK_F21",i,i],[0,1,119,"F22",0,i,0,"VK_F22",i,i],[0,1,120,"F23",0,i,0,"VK_F23",i,i],[0,1,121,"F24",0,i,0,"VK_F24",i,i],[0,1,122,"Open",0,i,0,i,i,i],[0,1,123,"Help",0,i,0,i,i,i],[0,1,124,"Select",0,i,0,i,i,i],[0,1,125,"Again",0,i,0,i,i,i],[0,1,126,"Undo",0,i,0,i,i,i],[0,1,127,"Cut",0,i,0,i,i,i],[0,1,128,"Copy",0,i,0,i,i,i],[0,1,129,"Paste",0,i,0,i,i,i],[0,1,130,"Find",0,i,0,i,i,i],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",i,i],[0,1,136,"KanaMode",0,i,0,i,i,i],[0,0,137,"IntlYen",0,i,0,i,i,i],[0,1,138,"Convert",0,i,0,i,i,i],[0,1,139,"NonConvert",0,i,0,i,i,i],[0,1,140,"Lang1",0,i,0,i,i,i],[0,1,141,"Lang2",0,i,0,i,i,i],[0,1,142,"Lang3",0,i,0,i,i,i],[0,1,143,"Lang4",0,i,0,i,i,i],[0,1,144,"Lang5",0,i,0,i,i,i],[0,1,145,"Abort",0,i,0,i,i,i],[0,1,146,"Props",0,i,0,i,i,i],[0,1,147,"NumpadParenLeft",0,i,0,i,i,i],[0,1,148,"NumpadParenRight",0,i,0,i,i,i],[0,1,149,"NumpadBackspace",0,i,0,i,i,i],[0,1,150,"NumpadMemoryStore",0,i,0,i,i,i],[0,1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[0,1,152,"NumpadMemoryClear",0,i,0,i,i,i],[0,1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[0,1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[0,1,155,"NumpadClear",0,i,0,i,i,i],[0,1,156,"NumpadClearEntry",0,i,0,i,i,i],[5,1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[4,1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[6,1,0,i,6,"Alt",18,"VK_MENU",i,i],[57,1,0,i,57,"Meta",0,"VK_COMMAND",i,i],[5,1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[4,1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[6,1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[57,1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[5,1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[4,1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[6,1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[57,1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[0,1,165,"BrightnessUp",0,i,0,i,i,i],[0,1,166,"BrightnessDown",0,i,0,i,i,i],[0,1,167,"MediaPlay",0,i,0,i,i,i],[0,1,168,"MediaRecord",0,i,0,i,i,i],[0,1,169,"MediaFastForward",0,i,0,i,i,i],[0,1,170,"MediaRewind",0,i,0,i,i,i],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",i,i],[0,1,174,"Eject",0,i,0,i,i,i],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[0,1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[0,1,180,"SelectTask",0,i,0,i,i,i],[0,1,181,"LaunchScreenSaver",0,i,0,i,i,i],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[0,1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[0,1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[0,1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[0,1,189,"ZoomToggle",0,i,0,i,i,i],[0,1,190,"MailReply",0,i,0,i,i,i],[0,1,191,"MailForward",0,i,0,i,i,i],[0,1,192,"MailSend",0,i,0,i,i,i],[109,1,0,i,109,"KeyInComposition",229,i,i,i],[111,1,0,i,111,"ABNT_C2",194,"VK_ABNT_C2",i,i],[91,1,0,i,91,"OEM_8",223,"VK_OEM_8",i,i],[0,1,0,i,0,i,0,"VK_CLEAR",i,i],[0,1,0,i,0,i,0,"VK_KANA",i,i],[0,1,0,i,0,i,0,"VK_HANGUL",i,i],[0,1,0,i,0,i,0,"VK_JUNJA",i,i],[0,1,0,i,0,i,0,"VK_FINAL",i,i],[0,1,0,i,0,i,0,"VK_HANJA",i,i],[0,1,0,i,0,i,0,"VK_KANJI",i,i],[0,1,0,i,0,i,0,"VK_CONVERT",i,i],[0,1,0,i,0,i,0,"VK_NONCONVERT",i,i],[0,1,0,i,0,i,0,"VK_ACCEPT",i,i],[0,1,0,i,0,i,0,"VK_MODECHANGE",i,i],[0,1,0,i,0,i,0,"VK_SELECT",i,i],[0,1,0,i,0,i,0,"VK_PRINT",i,i],[0,1,0,i,0,i,0,"VK_EXECUTE",i,i],[0,1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[0,1,0,i,0,i,0,"VK_HELP",i,i],[0,1,0,i,0,i,0,"VK_APPS",i,i],[0,1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[0,1,0,i,0,i,0,"VK_PACKET",i,i],[0,1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_ATTN",i,i],[0,1,0,i,0,i,0,"VK_CRSEL",i,i],[0,1,0,i,0,i,0,"VK_EXSEL",i,i],[0,1,0,i,0,i,0,"VK_EREOF",i,i],[0,1,0,i,0,i,0,"VK_PLAY",i,i],[0,1,0,i,0,i,0,"VK_ZOOM",i,i],[0,1,0,i,0,i,0,"VK_NONAME",i,i],[0,1,0,i,0,i,0,"VK_PA1",i,i],[0,1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]];let t=[],n=[];for(const r of e){const[s,o,a,u,c,h,f,p,m,v]=r;if(n[a]||(n[a]=!0,W2e[u]=a,V2e[u.toLowerCase()]=a,o&&(_X[a]=c)),!t[c]){if(t[c]=!0,!h)throw new Error(`String representation missing for key code ${c} around scan code ${u}`);P6.define(c,h),mj.define(c,m||h),_j.define(c,v||m||h)}f&&(Tfe[f]=c)}})();var jb;(function(i){function e(a){return P6.keyCodeToStr(a)}i.toString=e;function t(a){return P6.strToKeyCode(a)}i.fromString=t;function n(a){return mj.keyCodeToStr(a)}i.toUserSettingsUS=n;function r(a){return _j.keyCodeToStr(a)}i.toUserSettingsGeneral=r;function s(a){return mj.strToKeyCode(a)||_j.strToKeyCode(a)}i.fromUserSettings=s;function o(a){if(a>=93&&a<=108)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return P6.keyCodeToStr(a)}i.toElectronAccelerator=o})(jb||(jb={}));function cs(i,e){const t=(e&65535)<<16>>>0;return(i|t)>>>0}function vj(i,e){if(i===0)return null;const t=(i&65535)>>>0,n=(i&4294901760)>>>16;return n!==0?new hF([_H(t,e),_H(n,e)]):new hF([_H(t,e)])}function _H(i,e){const t=!!(i&2048),n=!!(i&256),r=e===2?n:t,s=!!(i&1024),o=!!(i&512),a=e===2?t:n,u=i&255;return new $C(r,s,o,a,u)}class $C{constructor(e,t,n,r,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=r,this.keyCode=s}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new hF([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class hF{constructor(e){if(e.length===0)throw Tf("parts");this.parts=e}}class H2e{constructor(e,t,n,r,s,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=r,this.keyLabel=s,this.keyAriaLabel=o}}class $2e{}function z2e(i){if(i.charCode){let t=String.fromCharCode(i.charCode).toUpperCase();return jb.fromString(t)}const e=i.keyCode;if(e===3)return 7;if(Kl){if(e===59)return 80;if(e===107)return 81;if(e===109)return 83;if(Xn&&e===224)return 57}else if(t1){if(e===91)return 57;if(Xn&&e===93)return 57;if(!Xn&&e===92)return 57}return Tfe[e]||0}const U2e=Xn?256:2048,j2e=512,K2e=1024,q2e=Xn?2048:256;class Ar{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=z2e(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=U2e),this.altKey&&(t|=j2e),this.shiftKey&&(t|=K2e),this.metaKey&&(t|=q2e),t|=e,t}_computeRuntimeKeybinding(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new $C(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let bj=!1,mw=null;function G2e(i){if(!i.parent||i.parent===i)return null;try{let e=i.location,t=i.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return bj=!0,null}catch{return bj=!0,null}return i.parent}class Cj{static getSameOriginWindowChain(){if(!mw){mw=[];let e=window,t;do t=G2e(e),t?mw.push({window:e,iframeElement:e.frameElement||null}):mw.push({window:e,iframeElement:null}),e=t;while(e)}return mw.slice(0)}static hasDifferentOriginAncestor(){return mw||this.getSameOriginWindowChain(),bj}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let n=0,r=0,s=this.getSameOriginWindowChain();for(const o of s){if(n+=o.window.scrollY,r+=o.window.scrollX,o.window===t||!o.iframeElement)break;let a=o.iframeElement.getBoundingClientRect();n+=a.top,r+=a.left}return{top:n,left:r}}}class Lc{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=Cj.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class _x{constructor(e,t=0,n=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=n,this.deltaX=t,e){let r=e,s=e;if(typeof r.wheelDeltaY<"u")this.deltaY=r.wheelDeltaY/120;else if(typeof s.VERTICAL_AXIS<"u"&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(e.type==="wheel"){const o=e;o.deltaMode===o.DOM_DELTA_LINE?Kl&&!Xn?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof r.wheelDeltaX<"u")Cd&&Zo?this.deltaX=-(r.wheelDeltaX/120):this.deltaX=r.wheelDeltaX/120;else if(typeof s.HORIZONTAL_AXIS<"u"&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const o=e;o.deltaMode===o.DOM_DELTA_LINE?Kl&&!Xn?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}const Ife=Object.freeze(function(i,e){const t=setTimeout(i.bind(e),0);return{dispose(){clearTimeout(t)}}});var $n;(function(i){function e(t){return t===i.None||t===i.Cancelled||t instanceof F6?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}i.isCancellationToken=e,i.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Bt.None}),i.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ife})})($n||($n={}));class F6{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Ife:(this._emitter||(this._emitter=new ye),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}let Ea=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new F6),this._token}cancel(){this._token?this._token instanceof F6&&this._token.cancel():this._token=$n.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof F6&&this._token.dispose():this._token=$n.None}};var _c=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})},zA=globalThis&&globalThis.__asyncValues||function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=i[s]&&function(o){return new Promise(function(a,u){o=i[s](o),r(a,u,o.done,o.value)})}}function r(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}};function Y2e(i){return!!i&&typeof i.then=="function"}function Do(i){const e=new Ea,t=i(e.token),n=new Promise((r,s)=>{const o=e.token.onCancellationRequested(()=>{o.dispose(),e.dispose(),s(Hy())});Promise.resolve(t).then(a=>{o.dispose(),e.dispose(),r(a)},a=>{o.dispose(),e.dispose(),s(a)})});return new class{cancel(){e.cancel()}then(r,s){return n.then(r,s)}catch(r){return this.then(void 0,r)}finally(r){return n.finally(r)}}}function vX(i,e,t){return Promise.race([i,new Promise(n=>e.onCancellationRequested(()=>n(t)))])}class Z2e{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{this.queuedPromise=null;const n=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,n};this.queuedPromise=new Promise(n=>{this.activePromise.then(t,t).then(n)})}return new Promise((t,n)=>{this.queuedPromise.then(t,n)})}return this.activePromise=e(),new Promise((t,n)=>{this.activePromise.then(r=>{this.activePromise=null,t(r)},r=>{this.activePromise=null,n(r)})})}}class Em{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((n,r)=>{this.doResolve=n,this.doReject=r}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const n=this.task;return this.task=null,n()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},t),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(Hy()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class X2e{constructor(e){this.delayer=new Em(e),this.throttler=new Z2e}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}dispose(){this.delayer.dispose()}}function y1(i,e){return e?new Promise((t,n)=>{const r=setTimeout(()=>{s.dispose(),t()},i),s=e.onCancellationRequested(()=>{clearTimeout(r),s.dispose(),n(Hy())})}):Do(t=>y1(i,t))}function zC(i,e=0){const t=setTimeout(i,e);return Yn(()=>clearTimeout(t))}function kfe(i,e=n=>!!n,t=null){let n=0;const r=i.length,s=()=>{if(n>=r)return Promise.resolve(t);const o=i[n++];return Promise.resolve(o()).then(u=>e(u)?Promise.resolve(u):s())};return s()}class el{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class UP{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}}class lr{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let hM;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?hM=i=>{R2e(()=>{if(e)return;const t=Date.now()+3;i(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,t-Date.now())}}))});let e=!1;return{dispose(){e||(e=!0)}}}:hM=(i,e)=>{const t=requestIdleCallback(i,typeof e=="number"?{timeout:e}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(t))}}}})();class kS{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=hM(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class Nfe{constructor(){this.resolved=!1,this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.resolved=!0,t()})}}var yj;(function(i){function e(n){return _c(this,void 0,void 0,function*(){let r;const s=yield Promise.all(n.map(o=>o.then(a=>a,a=>{r||(r=a)})));if(typeof r<"u")throw r;return s})}i.settled=e;function t(n){return new Promise((r,s)=>_c(this,void 0,void 0,function*(){try{yield n(r,s)}catch(o){s(o)}}))}i.withAsyncBody=t})(yj||(yj={}));class ho{constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new ye,queueMicrotask(()=>_c(this,void 0,void 0,function*(){const t={emitOne:n=>this.emitOne(n),emitMany:n=>this.emitMany(n),reject:n=>this.reject(n)};try{yield Promise.resolve(e(t)),this.resolve()}catch(n){this.reject(n)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))}static fromArray(e){return new ho(t=>{t.emitMany(e)})}static fromPromise(e){return new ho(t=>_c(this,void 0,void 0,function*(){t.emitMany(yield e)}))}static fromPromises(e){return new ho(t=>_c(this,void 0,void 0,function*(){yield Promise.all(e.map(n=>_c(this,void 0,void 0,function*(){return t.emitOne(yield n)})))}))}static merge(e){return new ho(t=>_c(this,void 0,void 0,function*(){yield Promise.all(e.map(n=>{var r,s;return _c(this,void 0,void 0,function*(){var o,a;try{for(r=zA(n);s=yield r.next(),!s.done;){const u=s.value;t.emitOne(u)}}catch(u){o={error:u}}finally{try{s&&!s.done&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}})}))}))}[Symbol.asyncIterator](){let e=0;return{next:()=>_c(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};yield Bt.toPromise(this._onStateChanged.event)}while(!0)})}}static map(e,t){return new ho(n=>_c(this,void 0,void 0,function*(){var r,s;try{for(var o=zA(e),a;a=yield o.next(),!a.done;){const u=a.value;n.emitOne(t(u))}}catch(u){r={error:u}}finally{try{a&&!a.done&&(s=o.return)&&(yield s.call(o))}finally{if(r)throw r.error}}}))}map(e){return ho.map(this,e)}static filter(e,t){return new ho(n=>_c(this,void 0,void 0,function*(){var r,s;try{for(var o=zA(e),a;a=yield o.next(),!a.done;){const u=a.value;t(u)&&n.emitOne(u)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(s=o.return)&&(yield s.call(o))}finally{if(r)throw r.error}}}))}filter(e){return ho.filter(this,e)}static coalesce(e){return ho.filter(e,t=>!!t)}coalesce(){return ho.coalesce(this)}static toPromise(e){var t,n,r,s;return _c(this,void 0,void 0,function*(){const o=[];try{for(t=zA(e);n=yield t.next(),!n.done;){const a=n.value;o.push(a)}}catch(a){r={error:a}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}return o})}toPromise(){return ho.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}}ho.EMPTY=ho.fromArray([]);class Q2e extends ho{constructor(e,t){super(t),this._source=e}cancel(){this._source.cancel()}}function J2e(i){const e=new Ea,t=i(e.token);return new Q2e(e,n=>_c(this,void 0,void 0,function*(){var r,s;const o=e.token.onCancellationRequested(()=>{o.dispose(),e.dispose(),n.reject(Hy())});try{try{for(var a=zA(t),u;u=yield a.next(),!u.done;){const c=u.value;if(e.token.isCancellationRequested)return;n.emitOne(c)}}catch(c){r={error:c}}finally{try{u&&!u.done&&(s=a.return)&&(yield s.call(a))}finally{if(r)throw r.error}}o.dispose(),e.dispose()}catch(c){o.dispose(),e.dispose(),n.reject(c)}}))}let NS;if(typeof us.vscode<"u"&&typeof us.vscode.process<"u"){const i=us.vscode.process;NS={get platform(){return i.platform},get arch(){return i.arch},get env(){return i.env},cwd(){return i.cwd()}}}else typeof process<"u"?NS={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:NS={get platform(){return Zo?"win32":Xn?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const wj=NS.cwd,eIe=NS.env,$y=NS.platform,tIe=65,nIe=97,iIe=90,rIe=122,n1=46,pa=47,Ku=92,l0=58,sIe=63;class Afe extends Error{constructor(e,t,n){let r;typeof t=="string"&&t.indexOf("not ")===0?(r="must not be",t=t.replace(/^not /,"")):r="must be";const s=e.indexOf(".")!==-1?"property":"argument";let o=`The "${e}" ${s} ${r} of type ${t}`;o+=`. Received type ${typeof n}`,super(o),this.code="ERR_INVALID_ARG_TYPE"}}function fo(i,e){if(typeof i!="string")throw new Afe(e,"string",i)}function Oi(i){return i===pa||i===Ku}function Sj(i){return i===pa}function u0(i){return i>=tIe&&i<=iIe||i>=nIe&&i<=rIe}function fF(i,e,t,n){let r="",s=0,o=-1,a=0,u=0;for(let c=0;c<=i.length;++c){if(c<i.length)u=i.charCodeAt(c);else{if(n(u))break;u=pa}if(n(u)){if(!(o===c-1||a===1))if(a===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==n1||r.charCodeAt(r.length-2)!==n1){if(r.length>2){const h=r.lastIndexOf(t);h===-1?(r="",s=0):(r=r.slice(0,h),s=r.length-1-r.lastIndexOf(t)),o=c,a=0;continue}else if(r.length!==0){r="",s=0,o=c,a=0;continue}}e&&(r+=r.length>0?`${t}..`:"..",s=2)}else r.length>0?r+=`${t}${i.slice(o+1,c)}`:r=i.slice(o+1,c),s=c-o-1;o=c,a=0}else u===n1&&a!==-1?++a:a=-1}return r}function Ofe(i,e){if(e===null||typeof e!="object")throw new Afe("pathObject","Object",e);const t=e.dir||e.root,n=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${n}`:`${t}${i}${n}`:n}const Wl={resolve(...i){let e="",t="",n=!1;for(let r=i.length-1;r>=-1;r--){let s;if(r>=0){if(s=i[r],fo(s,"path"),s.length===0)continue}else e.length===0?s=wj():(s=eIe[`=${e}`]||wj(),(s===void 0||s.slice(0,2).toLowerCase()!==e.toLowerCase()&&s.charCodeAt(2)===Ku)&&(s=`${e}\\`));const o=s.length;let a=0,u="",c=!1;const h=s.charCodeAt(0);if(o===1)Oi(h)&&(a=1,c=!0);else if(Oi(h))if(c=!0,Oi(s.charCodeAt(1))){let f=2,p=f;for(;f<o&&!Oi(s.charCodeAt(f));)f++;if(f<o&&f!==p){const m=s.slice(p,f);for(p=f;f<o&&Oi(s.charCodeAt(f));)f++;if(f<o&&f!==p){for(p=f;f<o&&!Oi(s.charCodeAt(f));)f++;(f===o||f!==p)&&(u=`\\\\${m}\\${s.slice(p,f)}`,a=f)}}}else a=1;else u0(h)&&s.charCodeAt(1)===l0&&(u=s.slice(0,2),a=2,o>2&&Oi(s.charCodeAt(2))&&(c=!0,a=3));if(u.length>0)if(e.length>0){if(u.toLowerCase()!==e.toLowerCase())continue}else e=u;if(n){if(e.length>0)break}else if(t=`${s.slice(a)}\\${t}`,n=c,c&&e.length>0)break}return t=fF(t,!n,"\\",Oi),n?`${e}\\${t}`:`${e}${t}`||"."},normalize(i){fo(i,"path");const e=i.length;if(e===0)return".";let t=0,n,r=!1;const s=i.charCodeAt(0);if(e===1)return Sj(s)?"\\":i;if(Oi(s))if(r=!0,Oi(i.charCodeAt(1))){let a=2,u=a;for(;a<e&&!Oi(i.charCodeAt(a));)a++;if(a<e&&a!==u){const c=i.slice(u,a);for(u=a;a<e&&Oi(i.charCodeAt(a));)a++;if(a<e&&a!==u){for(u=a;a<e&&!Oi(i.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${i.slice(u)}\\`;a!==u&&(n=`\\\\${c}\\${i.slice(u,a)}`,t=a)}}}else t=1;else u0(s)&&i.charCodeAt(1)===l0&&(n=i.slice(0,2),t=2,e>2&&Oi(i.charCodeAt(2))&&(r=!0,t=3));let o=t<e?fF(i.slice(t),!r,"\\",Oi):"";return o.length===0&&!r&&(o="."),o.length>0&&Oi(i.charCodeAt(e-1))&&(o+="\\"),n===void 0?r?`\\${o}`:o:r?`${n}\\${o}`:`${n}${o}`},isAbsolute(i){fo(i,"path");const e=i.length;if(e===0)return!1;const t=i.charCodeAt(0);return Oi(t)||e>2&&u0(t)&&i.charCodeAt(1)===l0&&Oi(i.charCodeAt(2))},join(...i){if(i.length===0)return".";let e,t;for(let s=0;s<i.length;++s){const o=i[s];fo(o,"path"),o.length>0&&(e===void 0?e=t=o:e+=`\\${o}`)}if(e===void 0)return".";let n=!0,r=0;if(typeof t=="string"&&Oi(t.charCodeAt(0))){++r;const s=t.length;s>1&&Oi(t.charCodeAt(1))&&(++r,s>2&&(Oi(t.charCodeAt(2))?++r:n=!1))}if(n){for(;r<e.length&&Oi(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return Wl.normalize(e)},relative(i,e){if(fo(i,"from"),fo(e,"to"),i===e)return"";const t=Wl.resolve(i),n=Wl.resolve(e);if(t===n||(i=t.toLowerCase(),e=n.toLowerCase(),i===e))return"";let r=0;for(;r<i.length&&i.charCodeAt(r)===Ku;)r++;let s=i.length;for(;s-1>r&&i.charCodeAt(s-1)===Ku;)s--;const o=s-r;let a=0;for(;a<e.length&&e.charCodeAt(a)===Ku;)a++;let u=e.length;for(;u-1>a&&e.charCodeAt(u-1)===Ku;)u--;const c=u-a,h=o<c?o:c;let f=-1,p=0;for(;p<h;p++){const v=i.charCodeAt(r+p);if(v!==e.charCodeAt(a+p))break;v===Ku&&(f=p)}if(p!==h){if(f===-1)return n}else{if(c>h){if(e.charCodeAt(a+p)===Ku)return n.slice(a+p+1);if(p===2)return n.slice(a+p)}o>h&&(i.charCodeAt(r+p)===Ku?f=p:p===2&&(f=3)),f===-1&&(f=0)}let m="";for(p=r+f+1;p<=s;++p)(p===s||i.charCodeAt(p)===Ku)&&(m+=m.length===0?"..":"\\..");return a+=f,m.length>0?`${m}${n.slice(a,u)}`:(n.charCodeAt(a)===Ku&&++a,n.slice(a,u))},toNamespacedPath(i){if(typeof i!="string")return i;if(i.length===0)return"";const e=Wl.resolve(i);if(e.length<=2)return i;if(e.charCodeAt(0)===Ku){if(e.charCodeAt(1)===Ku){const t=e.charCodeAt(2);if(t!==sIe&&t!==n1)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(u0(e.charCodeAt(0))&&e.charCodeAt(1)===l0&&e.charCodeAt(2)===Ku)return`\\\\?\\${e}`;return i},dirname(i){fo(i,"path");const e=i.length;if(e===0)return".";let t=-1,n=0;const r=i.charCodeAt(0);if(e===1)return Oi(r)?i:".";if(Oi(r)){if(t=n=1,Oi(i.charCodeAt(1))){let a=2,u=a;for(;a<e&&!Oi(i.charCodeAt(a));)a++;if(a<e&&a!==u){for(u=a;a<e&&Oi(i.charCodeAt(a));)a++;if(a<e&&a!==u){for(u=a;a<e&&!Oi(i.charCodeAt(a));)a++;if(a===e)return i;a!==u&&(t=n=a+1)}}}}else u0(r)&&i.charCodeAt(1)===l0&&(t=e>2&&Oi(i.charCodeAt(2))?3:2,n=t);let s=-1,o=!0;for(let a=e-1;a>=n;--a)if(Oi(i.charCodeAt(a))){if(!o){s=a;break}}else o=!1;if(s===-1){if(t===-1)return".";s=t}return i.slice(0,s)},basename(i,e){e!==void 0&&fo(e,"ext"),fo(i,"path");let t=0,n=-1,r=!0,s;if(i.length>=2&&u0(i.charCodeAt(0))&&i.charCodeAt(1)===l0&&(t=2),e!==void 0&&e.length>0&&e.length<=i.length){if(e===i)return"";let o=e.length-1,a=-1;for(s=i.length-1;s>=t;--s){const u=i.charCodeAt(s);if(Oi(u)){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return t===n?n=a:n===-1&&(n=i.length),i.slice(t,n)}for(s=i.length-1;s>=t;--s)if(Oi(i.charCodeAt(s))){if(!r){t=s+1;break}}else n===-1&&(r=!1,n=s+1);return n===-1?"":i.slice(t,n)},extname(i){fo(i,"path");let e=0,t=-1,n=0,r=-1,s=!0,o=0;i.length>=2&&i.charCodeAt(1)===l0&&u0(i.charCodeAt(0))&&(e=n=2);for(let a=i.length-1;a>=e;--a){const u=i.charCodeAt(a);if(Oi(u)){if(!s){n=a+1;break}continue}r===-1&&(s=!1,r=a+1),u===n1?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||r===-1||o===0||o===1&&t===r-1&&t===n+1?"":i.slice(t,r)},format:Ofe.bind(null,"\\"),parse(i){fo(i,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;const t=i.length;let n=0,r=i.charCodeAt(0);if(t===1)return Oi(r)?(e.root=e.dir=i,e):(e.base=e.name=i,e);if(Oi(r)){if(n=1,Oi(i.charCodeAt(1))){let f=2,p=f;for(;f<t&&!Oi(i.charCodeAt(f));)f++;if(f<t&&f!==p){for(p=f;f<t&&Oi(i.charCodeAt(f));)f++;if(f<t&&f!==p){for(p=f;f<t&&!Oi(i.charCodeAt(f));)f++;f===t?n=f:f!==p&&(n=f+1)}}}}else if(u0(r)&&i.charCodeAt(1)===l0){if(t<=2)return e.root=e.dir=i,e;if(n=2,Oi(i.charCodeAt(2))){if(t===3)return e.root=e.dir=i,e;n=3}}n>0&&(e.root=i.slice(0,n));let s=-1,o=n,a=-1,u=!0,c=i.length-1,h=0;for(;c>=n;--c){if(r=i.charCodeAt(c),Oi(r)){if(!u){o=c+1;break}continue}a===-1&&(u=!1,a=c+1),r===n1?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return a!==-1&&(s===-1||h===0||h===1&&s===a-1&&s===o+1?e.base=e.name=i.slice(o,a):(e.name=i.slice(o,s),e.base=i.slice(o,a),e.ext=i.slice(s,a))),o>0&&o!==n?e.dir=i.slice(0,o-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},Hs={resolve(...i){let e="",t=!1;for(let n=i.length-1;n>=-1&&!t;n--){const r=n>=0?i[n]:wj();fo(r,"path"),r.length!==0&&(e=`${r}/${e}`,t=r.charCodeAt(0)===pa)}return e=fF(e,!t,"/",Sj),t?`/${e}`:e.length>0?e:"."},normalize(i){if(fo(i,"path"),i.length===0)return".";const e=i.charCodeAt(0)===pa,t=i.charCodeAt(i.length-1)===pa;return i=fF(i,!e,"/",Sj),i.length===0?e?"/":t?"./":".":(t&&(i+="/"),e?`/${i}`:i)},isAbsolute(i){return fo(i,"path"),i.length>0&&i.charCodeAt(0)===pa},join(...i){if(i.length===0)return".";let e;for(let t=0;t<i.length;++t){const n=i[t];fo(n,"path"),n.length>0&&(e===void 0?e=n:e+=`/${n}`)}return e===void 0?".":Hs.normalize(e)},relative(i,e){if(fo(i,"from"),fo(e,"to"),i===e||(i=Hs.resolve(i),e=Hs.resolve(e),i===e))return"";const t=1,n=i.length,r=n-t,s=1,o=e.length-s,a=r<o?r:o;let u=-1,c=0;for(;c<a;c++){const f=i.charCodeAt(t+c);if(f!==e.charCodeAt(s+c))break;f===pa&&(u=c)}if(c===a)if(o>a){if(e.charCodeAt(s+c)===pa)return e.slice(s+c+1);if(c===0)return e.slice(s+c)}else r>a&&(i.charCodeAt(t+c)===pa?u=c:c===0&&(u=0));let h="";for(c=t+u+1;c<=n;++c)(c===n||i.charCodeAt(c)===pa)&&(h+=h.length===0?"..":"/..");return`${h}${e.slice(s+u)}`},toNamespacedPath(i){return i},dirname(i){if(fo(i,"path"),i.length===0)return".";const e=i.charCodeAt(0)===pa;let t=-1,n=!0;for(let r=i.length-1;r>=1;--r)if(i.charCodeAt(r)===pa){if(!n){t=r;break}}else n=!1;return t===-1?e?"/":".":e&&t===1?"//":i.slice(0,t)},basename(i,e){e!==void 0&&fo(e,"ext"),fo(i,"path");let t=0,n=-1,r=!0,s;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e===i)return"";let o=e.length-1,a=-1;for(s=i.length-1;s>=0;--s){const u=i.charCodeAt(s);if(u===pa){if(!r){t=s+1;break}}else a===-1&&(r=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return t===n?n=a:n===-1&&(n=i.length),i.slice(t,n)}for(s=i.length-1;s>=0;--s)if(i.charCodeAt(s)===pa){if(!r){t=s+1;break}}else n===-1&&(r=!1,n=s+1);return n===-1?"":i.slice(t,n)},extname(i){fo(i,"path");let e=-1,t=0,n=-1,r=!0,s=0;for(let o=i.length-1;o>=0;--o){const a=i.charCodeAt(o);if(a===pa){if(!r){t=o+1;break}continue}n===-1&&(r=!1,n=o+1),a===n1?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===t+1?"":i.slice(e,n)},format:Ofe.bind(null,"/"),parse(i){fo(i,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;const t=i.charCodeAt(0)===pa;let n;t?(e.root="/",n=1):n=0;let r=-1,s=0,o=-1,a=!0,u=i.length-1,c=0;for(;u>=n;--u){const h=i.charCodeAt(u);if(h===pa){if(!a){s=u+1;break}continue}o===-1&&(a=!1,o=u+1),h===n1?r===-1?r=u:c!==1&&(c=1):r!==-1&&(c=-1)}if(o!==-1){const h=s===0&&t?1:s;r===-1||c===0||c===1&&r===o-1&&r===s+1?e.base=e.name=i.slice(h,o):(e.name=i.slice(h,r),e.base=i.slice(h,o),e.ext=i.slice(r,o))}return s>0?e.dir=i.slice(0,s-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Hs.win32=Wl.win32=Wl;Hs.posix=Wl.posix=Hs;const bX=$y==="win32"?Wl.normalize:Hs.normalize,oIe=$y==="win32"?Wl.resolve:Hs.resolve,aIe=$y==="win32"?Wl.relative:Hs.relative,Mfe=$y==="win32"?Wl.dirname:Hs.dirname,rC=$y==="win32"?Wl.basename:Hs.basename,lIe=$y==="win32"?Wl.extname:Hs.extname,sC=$y==="win32"?Wl.sep:Hs.sep,uIe=/^\w[\w\d+.-]*$/,cIe=/^\//,dIe=/^\/\//;function _ie(i,e){if(!i.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${i.authority}", path: "${i.path}", query: "${i.query}", fragment: "${i.fragment}"}`);if(i.scheme&&!uIe.test(i.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(i.path){if(i.authority){if(!cIe.test(i.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(dIe.test(i.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function hIe(i,e){return!i&&!e?"file":i}function fIe(i,e){switch(i){case"https":case"http":case"file":e?e[0]!==df&&(e=df+e):e=df;break}return e}const ss="",df="/",gIe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class an{constructor(e,t,n,r,s,o=!1){typeof e=="object"?(this.scheme=e.scheme||ss,this.authority=e.authority||ss,this.path=e.path||ss,this.query=e.query||ss,this.fragment=e.fragment||ss):(this.scheme=hIe(e,o),this.authority=t||ss,this.path=fIe(this.scheme,n||ss),this.query=r||ss,this.fragment=s||ss,_ie(this,o))}static isUri(e){return e instanceof an?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}get fsPath(){return gF(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:r,query:s,fragment:o}=e;return t===void 0?t=this.scheme:t===null&&(t=ss),n===void 0?n=this.authority:n===null&&(n=ss),r===void 0?r=this.path:r===null&&(r=ss),s===void 0?s=this.query:s===null&&(s=ss),o===void 0?o=this.fragment:o===null&&(o=ss),t===this.scheme&&n===this.authority&&r===this.path&&s===this.query&&o===this.fragment?this:new _w(t,n,r,s,o)}static parse(e,t=!1){const n=gIe.exec(e);return n?new _w(n[2]||ss,u5(n[4]||ss),u5(n[5]||ss),u5(n[7]||ss),u5(n[9]||ss),t):new _w(ss,ss,ss,ss,ss)}static file(e){let t=ss;if(Zo&&(e=e.replace(/\\/g,df)),e[0]===df&&e[1]===df){const n=e.indexOf(df,2);n===-1?(t=e.substring(2),e=df):(t=e.substring(2,n),e=e.substring(n)||df)}return new _w("file",t,e,ss,ss)}static from(e){const t=new _w(e.scheme,e.authority,e.path,e.query,e.fragment);return _ie(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return Zo&&e.scheme==="file"?n=an.file(Wl.join(gF(e,!0),...t)).path:n=Hs.join(e.path,...t),e.with({path:n})}toString(e=!1){return xj(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof an)return e;{const t=new _w(e);return t._formatted=e.external,t._fsPath=e._sep===Rfe?e.fsPath:null,t}}else return e}}const Rfe=Zo?1:void 0;let _w=class extends an{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=gF(this,!1)),this._fsPath}toString(e=!1){return e?xj(this,!0):(this._formatted||(this._formatted=xj(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Rfe),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}};const Pfe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function vie(i,e){let t,n=-1;for(let r=0;r<i.length;r++){const s=i.charCodeAt(r);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47)n!==-1&&(t+=encodeURIComponent(i.substring(n,r)),n=-1),t!==void 0&&(t+=i.charAt(r));else{t===void 0&&(t=i.substr(0,r));const o=Pfe[s];o!==void 0?(n!==-1&&(t+=encodeURIComponent(i.substring(n,r)),n=-1),t+=o):n===-1&&(n=r)}}return n!==-1&&(t+=encodeURIComponent(i.substring(n))),t!==void 0?t:i}function pIe(i){let e;for(let t=0;t<i.length;t++){const n=i.charCodeAt(t);n===35||n===63?(e===void 0&&(e=i.substr(0,t)),e+=Pfe[n]):e!==void 0&&(e+=i[t])}return e!==void 0?e:i}function gF(i,e){let t;return i.authority&&i.path.length>1&&i.scheme==="file"?t=`//${i.authority}${i.path}`:i.path.charCodeAt(0)===47&&(i.path.charCodeAt(1)>=65&&i.path.charCodeAt(1)<=90||i.path.charCodeAt(1)>=97&&i.path.charCodeAt(1)<=122)&&i.path.charCodeAt(2)===58?e?t=i.path.substr(1):t=i.path[1].toLowerCase()+i.path.substr(2):t=i.path,Zo&&(t=t.replace(/\//g,"\\")),t}function xj(i,e){const t=e?pIe:vie;let n="",{scheme:r,authority:s,path:o,query:a,fragment:u}=i;if(r&&(n+=r,n+=":"),(s||r==="file")&&(n+=df,n+=df),s){let c=s.indexOf("@");if(c!==-1){const h=s.substr(0,c);s=s.substr(c+1),c=h.indexOf(":"),c===-1?n+=t(h,!1):(n+=t(h.substr(0,c),!1),n+=":",n+=t(h.substr(c+1),!1)),n+="@"}s=s.toLowerCase(),c=s.indexOf(":"),c===-1?n+=t(s,!1):(n+=t(s.substr(0,c),!1),n+=s.substr(c))}if(o){if(o.length>=3&&o.charCodeAt(0)===47&&o.charCodeAt(2)===58){const c=o.charCodeAt(1);c>=65&&c<=90&&(o=`/${String.fromCharCode(c+32)}:${o.substr(3)}`)}else if(o.length>=2&&o.charCodeAt(1)===58){const c=o.charCodeAt(0);c>=65&&c<=90&&(o=`${String.fromCharCode(c+32)}:${o.substr(2)}`)}n+=t(o,!0)}return a&&(n+="?",n+=t(a,!1)),u&&(n+="#",n+=e?u:vie(u,!1)),n}function Ffe(i){try{return decodeURIComponent(i)}catch{return i.length>3?i.substr(0,3)+Ffe(i.substr(3)):i}}const bie=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function u5(i){return i.match(bie)?i.replace(bie,e=>Ffe(e)):i}var On;(function(i){i.inMemory="inmemory",i.vscode="vscode",i.internal="private",i.walkThrough="walkThrough",i.walkThroughSnippet="walkThroughSnippet",i.http="http",i.https="https",i.file="file",i.mailto="mailto",i.untitled="untitled",i.data="data",i.command="command",i.vscodeRemote="vscode-remote",i.vscodeRemoteResource="vscode-remote-resource",i.userData="vscode-userdata",i.vscodeCustomEditor="vscode-custom-editor",i.vscodeNotebook="vscode-notebook",i.vscodeNotebookCell="vscode-notebook-cell",i.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",i.vscodeNotebookCellOutput="vscode-notebook-cell-output",i.vscodeInteractive="vscode-interactive",i.vscodeInteractiveInput="vscode-interactive-input",i.vscodeSettings="vscode-settings",i.vscodeWorkspaceTrust="vscode-workspace-trust",i.vscodeTerminal="vscode-terminal",i.webviewPanel="webview-panel",i.vscodeWebview="vscode-webview",i.extension="extension",i.vscodeFileResource="vscode-file",i.tmp="tmp",i.vsls="vsls"})(On||(On={}));class mIe{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let n=this._hosts[t];n&&n.indexOf(":")!==-1&&(n=`[${n}]`);const r=this._ports[t],s=this._connectionTokens[t];let o=`path=${encodeURIComponent(e.path)}`;return typeof s=="string"&&(o+=`&tkn=${encodeURIComponent(s)}`),an.from({scheme:EE?this._preferredWebSchema:On.vscodeRemoteResource,authority:`${n}:${r}`,path:"/vscode-remote-resource",query:o})}}const Bfe=new mIe;class fM{asBrowserUri(e,t){const n=this.toUri(e,t);return n.scheme===On.vscodeRemote?Bfe.rewrite(n):n.scheme===On.file&&(If||typeof us.importScripts=="function"&&us.origin===`${On.vscodeFileResource}://${fM.FALLBACK_AUTHORITY}`)?n.with({scheme:On.vscodeFileResource,authority:n.authority||fM.FALLBACK_AUTHORITY,query:null,fragment:null}):n}toUri(e,t){return an.isUri(e)?e:an.parse(t.toUrl(e))}}fM.FALLBACK_AUTHORITY="vscode-app";const Wfe=new fM;function ro(i){for(;i.firstChild;)i.firstChild.remove()}function CX(i){var e;return(e=i==null?void 0:i.isConnected)!==null&&e!==void 0?e:!1}class Vfe{constructor(e,t,n,r){this._node=e,this._type=t,this._handler=n,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function Ze(i,e,t,n){return new Vfe(i,e,t,n)}function Hfe(i){return function(e){return i(new Lc(e))}}function _Ie(i){return function(e){return i(new Ar(e))}}let vo=function(e,t,n,r){let s=n;return t==="click"||t==="mousedown"?s=Hfe(n):(t==="keydown"||t==="keypress"||t==="keyup")&&(s=_Ie(n)),Ze(e,t,s,r)},vIe=function(e,t,n){let r=Hfe(t);return yX(e,r,n)};function yX(i,e,t){return Ze(i,zg&&oB.pointerEvents?Ut.POINTER_DOWN:Ut.MOUSE_DOWN,e,t)}function $fe(i,e,t){return Ze(i,zg&&oB.pointerEvents?Ut.POINTER_UP:Ut.MOUSE_UP,e,t)}function wX(i,e){return Ze(i,"mouseout",t=>{let n=t.relatedTarget;for(;n&&n!==i;)n=n.parentNode;n!==i&&e(t)})}function bIe(i,e){return Ze(i,"pointerout",t=>{let n=t.relatedTarget;for(;n&&n!==i;)n=n.parentNode;n!==i&&e(t)})}function Kh(i,e,t){let n=null;const r=u=>a.fire(u),s=()=>{n||(n=new Vfe(i,e,r,t))},o=()=>{n&&(n.dispose(),n=null)},a=new ye({onFirstListenerAdd:s,onLastListenerRemove:o});return a}let vH=null;function CIe(i){if(!vH){const e=t=>setTimeout(()=>t(new Date().getTime()),0);vH=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}return vH.call(self,i)}let zfe,jg;class bH{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){vn(e)}}static sort(e,t){return t.priority-e.priority}}(function(){let i=[],e=null,t=!1,n=!1,r=()=>{for(t=!1,e=i,i=[],n=!0;e.length>0;)e.sort(bH.sort),e.shift().execute();n=!1};jg=(s,o=0)=>{let a=new bH(s,o);return i.push(a),t||(t=!0,CIe(r)),a},zfe=(s,o)=>{if(n){let a=new bH(s,o);return e.push(a),a}else return jg(s,o)}})();const yIe=8,wIe=function(i,e){return e};class SIe extends Me{constructor(e,t,n,r=wIe,s=yIe){super();let o=null,a=0,u=this._register(new el),c=()=>{a=new Date().getTime(),n(o),o=null};this._register(Ze(e,t,h=>{o=r(o,h);let f=new Date().getTime()-a;f>=s?(u.cancel(),c()):u.setIfNotSet(c,s-f)}))}}function SX(i,e,t,n,r){return new SIe(i,e,t,n,r)}function xX(i){return document.defaultView.getComputedStyle(i,null)}function aB(i){if(i!==document.body)return new vr(i.clientWidth,i.clientHeight);if(zg&&window.visualViewport)return new vr(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new vr(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new vr(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new vr(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class ns{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,n){let r=xX(e),s="0";return r&&(r.getPropertyValue?s=r.getPropertyValue(t):s=r.getAttribute(n)),ns.convertToPixels(e,s)}static getBorderLeftWidth(e){return ns.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return ns.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return ns.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return ns.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return ns.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return ns.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return ns.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return ns.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return ns.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return ns.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return ns.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return ns.getDimension(e,"margin-bottom","marginBottom")}}class vr{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new vr(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof vr?e:new vr(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}}function Ufe(i){let e=i.offsetParent,t=i.offsetTop,n=i.offsetLeft;for(;(i=i.parentNode)!==null&&i!==document.body&&i!==document.documentElement;){t-=i.scrollTop;const r=Kfe(i)?null:xX(i);r&&(n-=r.direction!=="rtl"?i.scrollLeft:-i.scrollLeft),i===e&&(n+=ns.getBorderLeftWidth(i),t+=ns.getBorderTopWidth(i),t+=i.offsetTop,n+=i.offsetLeft,e=i.offsetParent)}return{left:n,top:t}}function xIe(i,e,t){typeof e=="number"&&(i.style.width=`${e}px`),typeof t=="number"&&(i.style.height=`${t}px`)}function ca(i){let e=i.getBoundingClientRect();return{left:e.left+lm.scrollX,top:e.top+lm.scrollY,width:e.width,height:e.height}}const lm=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function rd(i){let e=ns.getMarginLeft(i)+ns.getMarginRight(i);return i.offsetWidth+e}function CH(i){let e=ns.getBorderLeftWidth(i)+ns.getBorderRightWidth(i),t=ns.getPaddingLeft(i)+ns.getPaddingRight(i);return i.offsetWidth-e-t}function EIe(i){let e=ns.getBorderTopWidth(i)+ns.getBorderBottomWidth(i),t=ns.getPaddingTop(i)+ns.getPaddingBottom(i);return i.offsetHeight-e-t}function Ej(i){let e=ns.getMarginTop(i)+ns.getMarginBottom(i);return i.offsetHeight+e}function um(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function jfe(i,e,t){for(;i&&i.nodeType===i.ELEMENT_NODE;){if(i.classList.contains(e))return i;if(t){if(typeof t=="string"){if(i.classList.contains(t))return null}else if(i===t)return null}i=i.parentNode}return null}function Cie(i,e,t){return!!jfe(i,e,t)}function Kfe(i){return i&&!!i.host&&!!i.mode}function lB(i){return!!w1(i)}function w1(i){for(;i.parentNode;){if(i===document.body)return null;i=i.parentNode}return Kfe(i)?i:null}function AS(){let i=document.activeElement;for(;i!=null&&i.shadowRoot;)i=i.shadowRoot.activeElement;return i}function Pc(i=document.getElementsByTagName("head")[0]){let e=document.createElement("style");return e.type="text/css",e.media="screen",i.appendChild(e),e}let yH=null;function qfe(){return yH||(yH=Pc()),yH}function LIe(i){var e,t;return!((e=i==null?void 0:i.sheet)===null||e===void 0)&&e.rules?i.sheet.rules:!((t=i==null?void 0:i.sheet)===null||t===void 0)&&t.cssRules?i.sheet.cssRules:[]}function Lj(i,e,t=qfe()){!t||!e||t.sheet.insertRule(i+"{"+e+"}",0)}function yie(i,e=qfe()){if(!e)return;let t=LIe(e),n=[];for(let r=0;r<t.length;r++)t[r].selectorText.indexOf(i)!==-1&&n.push(r);for(let r=n.length-1;r>=0;r--)e.sheet.deleteRule(n[r])}function Gfe(i){return typeof HTMLElement=="object"?i instanceof HTMLElement:i&&typeof i=="object"&&i.nodeType===1&&typeof i.nodeName=="string"}const Ut={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:t1?"webkitAnimationStart":"animationstart",ANIMATION_END:t1?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:t1?"webkitAnimationIteration":"animationiteration"},Fi={stop:function(i,e){i.preventDefault?i.preventDefault():i.returnValue=!1,e&&(i.stopPropagation?i.stopPropagation():i.cancelBubble=!0)}};function DIe(i){let e=[];for(let t=0;i&&i.nodeType===i.ELEMENT_NODE;t++)e[t]=i.scrollTop,i=i.parentNode;return e}function TIe(i,e){for(let t=0;i&&i.nodeType===i.ELEMENT_NODE;t++)i.scrollTop!==e[t]&&(i.scrollTop=e[t]),i=i.parentNode}class pF extends Me{constructor(e){super(),this._onDidFocus=this._register(new ye),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ye),this.onDidBlur=this._onDidBlur.event;let t=pF.hasFocusWithin(e),n=!1;const r=()=>{n=!1,t||(t=!0,this._onDidFocus.fire())},s=()=>{t&&(n=!0,window.setTimeout(()=>{n&&(n=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{pF.hasFocusWithin(e)!==t&&(t?s():r())},this._register(Ze(e,Ut.FOCUS,r,!0)),this._register(Ze(e,Ut.BLUR,s,!0)),this._register(Ze(e,Ut.FOCUS_IN,()=>this._refreshStateHandler())),this._register(Ze(e,Ut.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(e){const t=w1(e),n=t?t.activeElement:document.activeElement;return um(n,e)}}function vx(i){return new pF(i)}function We(i,...e){if(i.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function IIe(i,e){return i.insertBefore(e,i.firstChild),e}function S1(i,...e){i.innerText="",We(i,...e)}const kIe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var gM;(function(i){i.HTML="http://www.w3.org/1999/xhtml",i.SVG="http://www.w3.org/2000/svg"})(gM||(gM={}));function Yfe(i,e,t,...n){let r=kIe.exec(e);if(!r)throw new Error("Bad use of emmet");t=Object.assign({},t||{});let s=r[1]||"div",o;return i!==gM.HTML?o=document.createElementNS(i,s):o=document.createElement(s),r[3]&&(o.id=r[3]),r[4]&&(o.className=r[4].replace(/\./g," ").trim()),Object.keys(t).forEach(a=>{const u=t[a];typeof u>"u"||(/^on\w+$/.test(a)?o[a]=u:a==="selected"?u&&o.setAttribute(a,"true"):o.setAttribute(a,u))}),o.append(...n),o}function Ye(i,e,...t){return Yfe(gM.HTML,i,e,...t)}Ye.SVG=function(i,e,...t){return Yfe(gM.SVG,i,e,...t)};function Xu(...i){for(let e of i)e.style.display="",e.removeAttribute("aria-hidden")}function gl(...i){for(let e of i)e.style.display="none",e.setAttribute("aria-hidden","true")}function NIe(i){return Array.prototype.slice.call(document.getElementsByTagName(i),0)}function wie(i){const e=window.devicePixelRatio*i;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function Zfe(i){window.open(i,"_blank","noopener")}function AIe(i){const e=()=>{i(),t=jg(e)};let t=jg(e);return Yn(()=>t.dispose())}Bfe.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function UC(i){return i?`url('${Wfe.asBrowserUri(i).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Sie(i){return`'${i.replace(/'/g,"%27")}'`}class Kb extends ye{constructor(){super(),this._subscriptions=new tt,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(Ze(window,"keydown",e=>{if(e.defaultPrevented)return;const t=new Ar(e);if(!(t.keyCode===6&&e.repeat)){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(t.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(Ze(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(Ze(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(Ze(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(Ze(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(Ze(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Kb.instance||(Kb.instance=new Kb),Kb.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function OIe(i,e){const t=window.matchMedia(i);typeof t.addEventListener=="function"?t.addEventListener("change",e):t.addListener(e)}const xie=2e4;let Db,B6,Dj,W6,Tj;function MIe(i){Db=document.createElement("div"),Db.className="monaco-aria-container";const e=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),Db.appendChild(n),n};B6=e(),Dj=e();const t=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("role","complementary"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),Db.appendChild(n),n};W6=t(),Tj=t(),i.appendChild(Db)}function Ko(i){Db&&(B6.textContent!==i?(ro(Dj),_F(B6,i)):(ro(B6),_F(Dj,i)))}function mF(i){Db&&(Xn?Ko(i):W6.textContent!==i?(ro(Tj),_F(W6,i)):(ro(W6),_F(Tj,i)))}function _F(i,e){ro(i),e.length>xie&&(e=e.substr(0,xie)),i.textContent=e,i.style.visibility="hidden",i.style.visibility="visible"}var mf;(function(i){i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=e})(mf||(mf={}));const Rn=Ci("instantiationService");function RIe(i,e,t,n){e[mf.DI_TARGET]===e?e[mf.DI_DEPENDENCIES].push({id:i,index:t,optional:n}):(e[mf.DI_DEPENDENCIES]=[{id:i,index:t,optional:n}],e[mf.DI_TARGET]=e)}function Ci(i){if(mf.serviceIds.has(i))return mf.serviceIds.get(i);const e=function(t,n,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");RIe(e,t,r,!1)};return e.toString=()=>i,mf.serviceIds.set(i,e),e}const Mi=Ci("codeEditorService"),EX=Ci("markerDecorationsService");function PIe(i,e){let t;return e.length===0?t=i:t=i.replace(/\{(\d+)\}/g,function(n,r){const s=r[0];return typeof e[s]<"u"?e[s]:n}),t}function C(i,e,...t){return PIe(e,t)}let Ee=class Cb{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new Cb(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return Cb.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Cb.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return Cb.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){let n=e.lineNumber|0,r=t.lineNumber|0;if(n===r){let s=e.column|0,o=t.column|0;return s-o}return n-r}clone(){return new Cb(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Cb(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}};const $s=Ci("modelService");function FIe(i){return!i.isTooLargeForSyncing()&&!i.isForSimpleWidget}const wl=Ci("textModelService");var vF=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class kc extends Me{constructor(e,t="",n="",r=!0,s){super(),this._onDidChange=this._register(new ye),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=n,this._enabled=r,this._actionCallback=s}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return vF(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(e))})}}class bx extends Me{constructor(){super(...arguments),this._onBeforeRun=this._register(new ye),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new ye),this.onDidRun=this._onDidRun.event}run(e,t){return vF(this,void 0,void 0,function*(){if(!e.enabled)return;this._onBeforeRun.fire({action:e});let n;try{yield this.runAction(e,t)}catch(r){n=r}this._onDidRun.fire({action:e,error:n})})}runAction(e,t){return vF(this,void 0,void 0,function*(){yield e.run(t)})}}class Ld extends kc{constructor(e){super(Ld.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}Ld.ID="vs.actions.separator";class uB{constructor(e,t,n,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=r,this._actions=n}get actions(){return this._actions}dispose(){}run(){return vF(this,void 0,void 0,function*(){})}}class cB extends kc{constructor(){super(cB.ID,C("submenu.empty","(empty)"),void 0,!1)}}cB.ID="vs.actions.empty";let BIe=class{constructor(){this._icons=new Map,this._onDidRegister=new ye}add(e){const t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error(`Duplicate registration of codicon ${e.id}`):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}};const Xfe=new BIe,bF=Xfe;function WIe(i){return i?i.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}class ve{constructor(e,t,n){this.id=e,this.definition=t,this.description=n,Xfe.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}ve.add=new ve("add",{fontCharacter:"\\ea60"});ve.lightBulb=new ve("light-bulb",{fontCharacter:"\\ea61"});ve.warning=new ve("warning",{fontCharacter:"\\ea6c"});ve.info=new ve("info",{fontCharacter:"\\ea74"});ve.close=new ve("close",{fontCharacter:"\\ea76"});ve.symbolFolder=new ve("symbol-folder",{fontCharacter:"\\ea83"});ve.symbolEvent=new ve("symbol-event",{fontCharacter:"\\ea86"});ve.error=new ve("error",{fontCharacter:"\\ea87"});ve.symbolVariable=new ve("symbol-variable",{fontCharacter:"\\ea88"});ve.symbolArray=new ve("symbol-array",{fontCharacter:"\\ea8a"});ve.symbolModule=new ve("symbol-module",{fontCharacter:"\\ea8b"});ve.symbolPackage=new ve("symbol-package",{fontCharacter:"\\ea8b"});ve.symbolNamespace=new ve("symbol-namespace",{fontCharacter:"\\ea8b"});ve.symbolObject=new ve("symbol-object",{fontCharacter:"\\ea8b"});ve.symbolMethod=new ve("symbol-method",{fontCharacter:"\\ea8c"});ve.symbolFunction=new ve("symbol-function",{fontCharacter:"\\ea8c"});ve.symbolConstructor=new ve("symbol-constructor",{fontCharacter:"\\ea8c"});ve.symbolBoolean=new ve("symbol-boolean",{fontCharacter:"\\ea8f"});ve.symbolNull=new ve("symbol-null",{fontCharacter:"\\ea8f"});ve.symbolNumber=new ve("symbol-number",{fontCharacter:"\\ea90"});ve.symbolStruct=new ve("symbol-struct",{fontCharacter:"\\ea91"});ve.symbolTypeParameter=new ve("symbol-type-parameter",{fontCharacter:"\\ea92"});ve.symbolKey=new ve("symbol-key",{fontCharacter:"\\ea93"});ve.symbolText=new ve("symbol-text",{fontCharacter:"\\ea93"});ve.symbolReference=new ve("symbol-reference",{fontCharacter:"\\ea94"});ve.symbolEnum=new ve("symbol-enum",{fontCharacter:"\\ea95"});ve.symbolValue=new ve("symbol-value",{fontCharacter:"\\ea95"});ve.symbolUnit=new ve("symbol-unit",{fontCharacter:"\\ea96"});ve.arrowDown=new ve("arrow-down",{fontCharacter:"\\ea9a"});ve.arrowLeft=new ve("arrow-left",{fontCharacter:"\\ea9b"});ve.arrowUp=new ve("arrow-up",{fontCharacter:"\\eaa1"});ve.caseSensitive=new ve("case-sensitive",{fontCharacter:"\\eab1"});ve.check=new ve("check",{fontCharacter:"\\eab2"});ve.chevronDown=new ve("chevron-down",{fontCharacter:"\\eab4"});ve.chevronRight=new ve("chevron-right",{fontCharacter:"\\eab6"});ve.chevronUp=new ve("chevron-up",{fontCharacter:"\\eab7"});ve.lightbulbAutofix=new ve("lightbulb-autofix",{fontCharacter:"\\eb13"});ve.loading=new ve("loading",{fontCharacter:"\\eb19"});ve.preserveCase=new ve("preserve-case",{fontCharacter:"\\eb2e"});ve.regex=new ve("regex",{fontCharacter:"\\eb38"});ve.remove=new ve("remove",{fontCharacter:"\\eb3b"});ve.replaceAll=new ve("replace-all",{fontCharacter:"\\eb3c"});ve.replace=new ve("replace",{fontCharacter:"\\eb3d"});ve.splitHorizontal=new ve("split-horizontal",{fontCharacter:"\\eb56"});ve.splitVertical=new ve("split-vertical",{fontCharacter:"\\eb57"});ve.symbolClass=new ve("symbol-class",{fontCharacter:"\\eb5b"});ve.symbolColor=new ve("symbol-color",{fontCharacter:"\\eb5c"});ve.symbolConstant=new ve("symbol-constant",{fontCharacter:"\\eb5d"});ve.symbolEnumMember=new ve("symbol-enum-member",{fontCharacter:"\\eb5e"});ve.symbolField=new ve("symbol-field",{fontCharacter:"\\eb5f"});ve.symbolFile=new ve("symbol-file",{fontCharacter:"\\eb60"});ve.symbolInterface=new ve("symbol-interface",{fontCharacter:"\\eb61"});ve.symbolKeyword=new ve("symbol-keyword",{fontCharacter:"\\eb62"});ve.symbolOperator=new ve("symbol-operator",{fontCharacter:"\\eb64"});ve.symbolProperty=new ve("symbol-property",{fontCharacter:"\\eb65"});ve.symbolSnippet=new ve("symbol-snippet",{fontCharacter:"\\eb66"});ve.triangleDown=new ve("triangle-down",{fontCharacter:"\\eb6e"});ve.triangleLeft=new ve("triangle-left",{fontCharacter:"\\eb6f"});ve.triangleRight=new ve("triangle-right",{fontCharacter:"\\eb70"});ve.triangleUp=new ve("triangle-up",{fontCharacter:"\\eb71"});ve.wholeWord=new ve("whole-word",{fontCharacter:"\\eb7e"});ve.listFilter=new ve("list-filter",{fontCharacter:"\\eb83"});ve.listSelection=new ve("list-selection",{fontCharacter:"\\eb85"});ve.selection=new ve("selection",{fontCharacter:"\\eb85"});ve.symbolString=new ve("symbol-string",{fontCharacter:"\\eb8d"});ve.treeItemExpanded=new ve("tree-item-expanded",ve.chevronDown.definition);ve.treeFilterOnTypeOn=new ve("tree-filter-on-type-on",ve.listFilter.definition);ve.treeFilterOnTypeOff=new ve("tree-filter-on-type-off",ve.listSelection.definition);ve.treeFilterClear=new ve("tree-filter-clear",ve.close.definition);ve.treeItemLoading=new ve("tree-item-loading",ve.loading.definition);ve.menuSelection=new ve("menu-selection",ve.check.definition);ve.menuSubmenu=new ve("menu-submenu",ve.chevronRight.definition);ve.scrollbarButtonLeft=new ve("scrollbar-button-left",ve.triangleLeft.definition);ve.scrollbarButtonRight=new ve("scrollbar-button-right",ve.triangleRight.definition);ve.scrollbarButtonUp=new ve("scrollbar-button-up",ve.triangleUp.definition);ve.scrollbarButtonDown=new ve("scrollbar-button-down",ve.triangleDown.definition);ve.quickInputBack=new ve("quick-input-back",ve.arrowLeft.definition);var ml;(function(i){i.iconNameSegment="[A-Za-z0-9]+",i.iconNameExpression="[A-Za-z0-9-]+",i.iconModifierExpression="~[A-Za-z]+",i.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${i.iconNameExpression})(${i.iconModifierExpression})?$`);function t(s){if(s instanceof ve)return["codicon","codicon-"+s.id];const o=e.exec(s.id);if(!o)return t(ve.error);let[,a,u]=o;const c=["codicon","codicon-"+a];return u&&c.push("codicon-modifier-"+u.substr(1)),c}i.asClassNameArray=t;function n(s){return t(s).join(" ")}i.asClassName=n;function r(s){return"."+t(s).join(".")}i.asCSSSelector=r})(ml||(ml={}));function Qfe(i){return Array.isArray(i)}function Fc(i){return typeof i=="string"}function vl(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!(i instanceof RegExp)&&!(i instanceof Date)}function jC(i){return typeof i=="number"&&!isNaN(i)}function Jfe(i){return i===!0||i===!1}function Vl(i){return typeof i>"u"}function VIe(i){return!Qu(i)}function Qu(i){return Vl(i)||i===null}function nr(i,e){if(!i)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function c5(i){if(Qu(i))throw new Error("Assertion Failed: argument is undefined or null");return i}function CF(i){return typeof i=="function"}function HIe(i,e){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)$Ie(i[n],e[n])}function $Ie(i,e){if(Fc(e)){if(typeof i!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(CF(e)){try{if(i instanceof e)return}catch{}if(!Qu(i)&&i.constructor===e||e.length===1&&e.call(void 0,i)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function zIe(i){let e=[],t=Object.getPrototypeOf(i);for(;Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}function LX(i){const e=[];for(const t of zIe(i))typeof i[t]=="function"&&e.push(t);return e}function UIe(i,e){const t=r=>function(){const s=Array.prototype.slice.call(arguments,0);return e(r,s)};let n={};for(const r of i)n[r]=t(r);return n}function Hl(i){return i===null?void 0:i}function ege(i,e="Unreachable"){throw new Error(e)}const Vr=Ci("commandService"),ni=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new ye,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(i,e){if(!i)throw new Error("invalid command");if(typeof i=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:i,handler:e})}if(i.description){const o=[];for(let u of i.description.args)o.push(u.constraint);const a=i.handler;i.handler=function(u,...c){return HIe(c,o),a(u,...c)}}const{id:t}=i;let n=this._commands.get(t);n||(n=new nc,this._commands.set(t,n));let r=n.unshift(i),s=Yn(()=>{r();const o=this._commands.get(t);o!=null&&o.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),s}registerCommandAlias(i,e){return ni.registerCommand(i,(t,...n)=>t.get(Vr).executeCommand(e,...n))}getCommand(i){const e=this._commands.get(i);if(!(!e||e.isEmpty()))return ri.first(e)}getCommands(){const i=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&i.set(e,t)}return i}};ni.registerCommand("noop",()=>{});function tge(i){return!i||typeof i!="string"?!0:i.trim().length===0}const jIe=/{(\d+)}/g;function Dc(i,...e){return e.length===0?i:i.replace(jIe,function(t,n){const r=parseInt(n,10);return isNaN(r)||r<0||r>=e.length?t:e[r]})}function DX(i){return i.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Bc(i){return i.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function KIe(i,e=" "){const t=TX(i,e);return nge(t,e)}function TX(i,e){if(!i||!e)return i;const t=e.length;if(t===0||i.length===0)return i;let n=0;for(;i.indexOf(e,n)===n;)n=n+t;return i.substring(n)}function nge(i,e){if(!i||!e)return i;const t=e.length,n=i.length;if(t===0||n===0)return i;let r=n,s=-1;for(;s=i.lastIndexOf(e,r-1),!(s===-1||s+t!==r);){if(s===0)return"";r=s}return i.substring(0,r)}function qIe(i){return i.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function GIe(i){return i.replace(/\*/g,"")}function ige(i,e,t={}){if(!i)throw new Error("Cannot create regex from empty string");e||(i=Bc(i)),t.wholeWord&&(/\B/.test(i.charAt(0))||(i="\\b"+i),/\B/.test(i.charAt(i.length-1))||(i=i+"\\b"));let n="";return t.global&&(n+="g"),t.matchCase||(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),new RegExp(i,n)}function YIe(i){return i.source==="^"||i.source==="^$"||i.source==="$"||i.source==="^\\s*$"?!1:!!(i.exec("")&&i.lastIndex===0)}function wH(i){return(i.global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")}function Kg(i){return i.split(/\r\n|\r|\n/)}function Ya(i){for(let e=0,t=i.length;e<t;e++){const n=i.charCodeAt(e);if(n!==32&&n!==9)return e}return-1}function Xi(i,e=0,t=i.length){for(let n=e;n<t;n++){const r=i.charCodeAt(n);if(r!==32&&r!==9)return i.substring(e,n)}return i.substring(e,t)}function Bg(i,e=i.length-1){for(let t=e;t>=0;t--){const n=i.charCodeAt(t);if(n!==32&&n!==9)return t}return-1}function pM(i,e){return i<e?-1:i>e?1:0}function IX(i,e,t=0,n=i.length,r=0,s=e.length){for(;t<n&&r<s;t++,r++){let u=i.charCodeAt(t),c=e.charCodeAt(r);if(u<c)return-1;if(u>c)return 1}const o=n-t,a=s-r;return o<a?-1:o>a?1:0}function Ij(i,e){return jP(i,e,0,i.length,0,e.length)}function jP(i,e,t=0,n=i.length,r=0,s=e.length){for(;t<n&&r<s;t++,r++){let u=i.charCodeAt(t),c=e.charCodeAt(r);if(u===c)continue;if(u>=128||c>=128)return IX(i.toLowerCase(),e.toLowerCase(),t,n,r,s);R0(u)&&(u-=32),R0(c)&&(c-=32);const h=u-c;if(h!==0)return h}const o=n-t,a=s-r;return o<a?-1:o>a?1:0}function R0(i){return i>=97&&i<=122}function fg(i){return i>=65&&i<=90}function UA(i,e){return i.length===e.length&&jP(i,e)===0}function kX(i,e){const t=e.length;return e.length>i.length?!1:jP(i,e,0,t)===0}function Cx(i,e){let t,n=Math.min(i.length,e.length);for(t=0;t<n;t++)if(i.charCodeAt(t)!==e.charCodeAt(t))return t;return n}function yF(i,e){let t,n=Math.min(i.length,e.length);const r=i.length-1,s=e.length-1;for(t=0;t<n;t++)if(i.charCodeAt(r-t)!==e.charCodeAt(s-t))return t;return n}function no(i){return 55296<=i&&i<=56319}function yx(i){return 56320<=i&&i<=57343}function NX(i,e){return(i-55296<<10)+(e-56320)+65536}function qb(i,e,t){const n=i.charCodeAt(t);if(no(n)&&t+1<e){const r=i.charCodeAt(t+1);if(yx(r))return NX(n,r)}return n}function OS(i,e){const t=i.charCodeAt(e-1);if(yx(t)&&e>1){const n=i.charCodeAt(e-2);if(no(n))return NX(n,t)}return t}function wF(i,e){const t=tm.getInstance(),n=e,r=i.length,s=qb(i,r,e);e+=s>=65536?2:1;let o=t.getGraphemeBreakType(s);for(;e<r;){const a=qb(i,r,e),u=t.getGraphemeBreakType(a);if(xF(o,u))break;e+=a>=65536?2:1,o=u}return e-n}function ZIe(i,e){const t=tm.getInstance(),n=e,r=OS(i,e);e-=r>=65536?2:1;let s=t.getGraphemeBreakType(r);for(;e>0;){const o=OS(i,e),a=t.getGraphemeBreakType(o);if(xF(a,s))break;e-=o>=65536?2:1,s=a}return n-e}const XIe=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function dB(i){return XIe.test(i)}const QIe=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFF0]|\uD83E[\uDD00-\uDDFF\uDE70-\uDEF6])/;function JIe(i){return QIe.test(i)}const eke=/^[\t\n\r\x20-\x7E]*$/;function AX(i){return eke.test(i)}const rge=/[\u2028\u2029]/;function sge(i){return rge.test(i)}function tke(i){for(let e=0,t=i.length;e<t;e++)if(qg(i.charCodeAt(e)))return!0;return!1}function qg(i){return i>=11904&&i<=55215||i>=63744&&i<=64255||i>=65281&&i<=65374}function SF(i){return i>=127462&&i<=127487||i===8986||i===8987||i===9200||i===9203||i>=9728&&i<=10175||i===11088||i===11093||i>=127744&&i<=128591||i>=128640&&i<=128764||i>=128992&&i<=129008||i>=129280&&i<=129535||i>=129648&&i<=129782}const nke=String.fromCharCode(65279);function OX(i){return!!(i&&i.length>0&&i.charCodeAt(0)===65279)}function ike(i,e=!1){return i?(e&&(i=i.replace(/\\./g,"")),i.toLowerCase()!==i):!1}function oge(i){return i=i%(2*26),i<26?String.fromCharCode(97+i):String.fromCharCode(65+i-26)}function d5(i){return tm.getInstance().getGraphemeBreakType(i)}function xF(i,e){return i===0?e!==5&&e!==7:i===2&&e===3?!1:i===4||i===2||i===3||e===4||e===2||e===3?!0:!(i===8&&(e===8||e===9||e===11||e===12)||(i===11||i===9)&&(e===9||e===10)||(i===12||i===10)&&e===10||e===5||e===13||e===7||i===1||i===13&&e===14||i===6&&e===6)}class tm{constructor(){this._data=rke()}static getInstance(){return tm._INSTANCE||(tm._INSTANCE=new tm),tm._INSTANCE}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,n=t.length/3;let r=1;for(;r<=n;)if(e<t[3*r])r=2*r;else if(e>t[3*r+1])r=2*r+1;else return t[3*r+2];return 0}}tm._INSTANCE=null;function rke(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function ske(i,e){if(i===0)return 0;const t=oke(i,e);if(t!==void 0)return t;const n=OS(e,i);return i-=V6(n),i}function oke(i,e){let t=OS(e,i);for(i-=V6(t);ake(t)||t===65039||t===8419;){if(i===0)return;t=OS(e,i),i-=V6(t)}if(SF(t)){if(i>=0){const n=OS(e,i);n===8205&&(i-=V6(n))}return i}}function V6(i){return i>=65536?2:1}function ake(i){return 127995<=i&&i<=127999}const lke="";class rf{static getData(){return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,40,10088,40,10098,40,12308,40,64830,40,65341,41,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,124,8739,124,9213,124,65512,124,1633,124,1777,124,66336,124,125127,124,120783,124,120793,124,120803,124,120813,124,120823,124,130033,124,65321,124,8544,124,8464,124,8465,124,119816,124,119868,124,119920,124,120024,124,120128,124,120180,124,120232,124,120284,124,120336,124,120388,124,120440,124,406,124,65356,124,8572,124,8467,124,119845,124,119897,124,119949,124,120001,124,120053,124,120105,124,120157,124,120209,124,120261,124,120313,124,120365,124,120417,124,120469,124,448,124,120496,124,120554,124,120612,124,120670,124,120728,124,11410,124,1030,124,1216,124,1493,124,1503,124,1575,124,126464,124,126592,124,65166,124,65165,124,1994,124,11599,124,5825,124,42226,124,93992,124,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90],"_default":[160,32,8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"cs":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89],"de":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89],"es":[8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"fr":[65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"it":[160,32,8211,45,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ko":[8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"pl":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"pt-BR":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"qps-ploc":[160,32,8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"ru":[65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,124,1009,112,215,120],"tr":[160,32,8211,45,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"zh-hans":[65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89],"zh-hant":[8211,45,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,124,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89]}')}static getConfusablesForCurrentLocale(){if(!rf.map){let n=function(o){const a=new Map;for(let u=0;u<o.length;u+=2)a.set(o[u],o[u+1]);return a};const e=rf.getData();let t=M2e;(!t||!(t in e))&&(t=O2e),(!t||!(t in e))&&(t="_default");const r=n(e._common),s=n(e[t]);for(const[o,a]of s)r.set(o,a);rf.map=r}return rf.map}static isAmbiguous(e){return rf.getConfusablesForCurrentLocale().has(e)}static getPrimaryConfusable(e){return rf.getConfusablesForCurrentLocale().get(e)}static getPrimaryConfusableCodePoints(){return new Set(rf.getConfusablesForCurrentLocale().keys())}}class cm{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(cm.getRawData())),this._data}static isInvisibleCharacter(e){return cm.getData().has(e)}static get codePoints(){return cm.getData()}}cm._data=void 0;let hB=A2e||"";const ha=new Map;ha.set("false",!1);ha.set("true",!0);ha.set("isMac",Xn);ha.set("isLinux",yl);ha.set("isWindows",Zo);ha.set("isWeb",EE);ha.set("isMacNative",Xn&&!EE);ha.set("isEdge",hB.indexOf("Edg/")>=0);ha.set("isFirefox",hB.indexOf("Firefox")>=0);ha.set("isChrome",hB.indexOf("Chrome")>=0);ha.set("isSafari",hB.indexOf("Safari")>=0);const uke=Object.prototype.hasOwnProperty;class bt{static has(e){return x1.create(e)}static equals(e,t){return wx.create(e,t)}static regex(e,t){return EF.create(e,t)}static not(e){return KC.create(e)}static and(...e){return P0.create(e,null)}static or(...e){return nm.create(e,null,!0)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let n=e.split("||");return nm.create(n.map(r=>this._deserializeAndExpression(r,t)),null,!0)}static _deserializeAndExpression(e,t){let n=e.split("&&");return P0.create(n.map(r=>this._deserializeOne(r,t)),null)}static _deserializeOne(e,t){if(e=e.trim(),e.indexOf("!=")>=0){let n=e.split("!=");return fB.create(n[0].trim(),this._deserializeValue(n[1],t))}if(e.indexOf("==")>=0){let n=e.split("==");return wx.create(n[0].trim(),this._deserializeValue(n[1],t))}if(e.indexOf("=~")>=0){let n=e.split("=~");return EF.create(n[0].trim(),this._deserializeRegexValue(n[1],t))}if(e.indexOf(" in ")>=0){let n=e.split(" in ");return MX.create(n[0].trim(),n[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const n=e.split(">=");return mB.create(n[0].trim(),n[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const n=e.split(">");return pB.create(n[0].trim(),n[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const n=e.split("<=");return vB.create(n[0].trim(),n[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const n=e.split("<");return _B.create(n[0].trim(),n[1].trim())}return/^\!\s*/.test(e)?KC.create(e.substr(1).trim()):x1.create(e)}static _deserializeValue(e,t){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;let n=/^'([^']*)'$/.exec(e);return n?n[1].trim():e}static _deserializeRegexValue(e,t){if(tge(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let n=e.indexOf("/"),r=e.lastIndexOf("/");if(n===r||n<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let s=e.slice(n+1,r),o=e[r+1]==="i"?"i":"";try{return new RegExp(s,o)}catch(a){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${a}`);return console.warn(`bad regexp-value '${e}', parse error: ${a}`),null}}}function cke(i,e){const t=i?i.substituteConstants():void 0,n=e?e.substituteConstants():void 0;return!t&&!n?!0:!t||!n?!1:t.equals(n)}function MS(i,e){return i.cmp(e)}class lc{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return Wc.INSTANCE}}lc.INSTANCE=new lc;class Wc{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return lc.INSTANCE}}Wc.INSTANCE=new Wc;class x1{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){const n=ha.get(e);return typeof n=="boolean"?n?Wc.INSTANCE:lc.INSTANCE:new x1(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:lge(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=ha.get(this.key);return typeof e=="boolean"?e?Wc.INSTANCE:lc.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=KC.create(this.key,this)),this.negated}}class wx{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=4}static create(e,t,n=null){if(typeof t=="boolean")return t?x1.create(e,n):KC.create(e,n);const r=ha.get(e);return typeof r=="boolean"?t===(r?"true":"false")?Wc.INSTANCE:lc.INSTANCE:new wx(e,t,n)}cmp(e){return e.type!==this.type?this.type-e.type:zy(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=ha.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?Wc.INSTANCE:lc.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=fB.create(this.key,this.value,this)),this.negated}}class MX{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new MX(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:zy(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),n=e.getValue(this.key);return Array.isArray(t)?t.indexOf(n)>=0:typeof n=="string"&&typeof t=="object"&&t!==null?uke.call(t,n):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=RX.create(this)),this.negated}}class RX{constructor(e){this._actual=e,this.type=11}static create(e){return new RX(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class fB{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=5}static create(e,t,n=null){if(typeof t=="boolean")return t?KC.create(e,n):x1.create(e,n);const r=ha.get(e);return typeof r=="boolean"?t===(r?"true":"false")?lc.INSTANCE:Wc.INSTANCE:new fB(e,t,n)}cmp(e){return e.type!==this.type?this.type-e.type:zy(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=ha.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?lc.INSTANCE:Wc.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=wx.create(this.key,this.value,this)),this.negated}}class KC{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){const n=ha.get(e);return typeof n=="boolean"?n?lc.INSTANCE:Wc.INSTANCE:new KC(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:lge(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=ha.get(this.key);return typeof e=="boolean"?e?lc.INSTANCE:Wc.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x1.create(this.key,this)),this.negated}}function gB(i,e){if(typeof i=="string"){const t=parseFloat(i);isNaN(t)||(i=t)}return typeof i=="string"||typeof i=="number"?e(i):lc.INSTANCE}class pB{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=12}static create(e,t,n=null){return gB(t,r=>new pB(e,r,n))}cmp(e){return e.type!==this.type?this.type-e.type:zy(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=vB.create(this.key,this.value,this)),this.negated}}class mB{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=13}static create(e,t,n=null){return gB(t,r=>new mB(e,r,n))}cmp(e){return e.type!==this.type?this.type-e.type:zy(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=_B.create(this.key,this.value,this)),this.negated}}class _B{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=14}static create(e,t,n=null){return gB(t,r=>new _B(e,r,n))}cmp(e){return e.type!==this.type?this.type-e.type:zy(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=mB.create(this.key,this.value,this)),this.negated}}class vB{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=15}static create(e,t,n=null){return gB(t,r=>new vB(e,r,n))}cmp(e){return e.type!==this.type?this.type-e.type:zy(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=pB.create(this.key,this.value,this)),this.negated}}class EF{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new EF(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return t<n?-1:t>n?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return this.key===e.key&&t===n}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=PX.create(this)),this.negated}}class PX{constructor(e){this._actual=e,this.type=8}static create(e){return new PX(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function age(i){let e=null;for(let t=0,n=i.length;t<n;t++){const r=i[t].substituteConstants();if(i[t]!==r&&e===null){e=[];for(let s=0;s<t;s++)e[s]=i[s]}e!==null&&(e[t]=r)}return e===null?i:e}class P0{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return P0._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){const r=MS(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=age(this.expr);return e===this.expr?this:P0.create(e,this.negated)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const n=[];let r=!1;for(const s of e)if(s){if(s.type===1){r=!0;continue}if(s.type===0)return lc.INSTANCE;if(s.type===6){n.push(...s.expr);continue}n.push(s)}if(n.length===0&&r)return Wc.INSTANCE;if(n.length!==0){if(n.length===1)return n[0];n.sort(MS);for(let s=1;s<n.length;s++)n[s-1].equals(n[s])&&(n.splice(s,1),s--);if(n.length===1)return n[0];for(;n.length>1;){const s=n[n.length-1];if(s.type!==9)break;n.pop();const o=n.pop(),a=n.length===0,u=nm.create(s.expr.map(c=>P0.create([c,o],null)),null,a);u&&(n.push(u),n.sort(MS))}return n.length===1?n[0]:new P0(n,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(let t of this.expr)e.push(t.negate());this.negated=nm.create(e,this,!0)}return this.negated}}class nm{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,n){return nm._normalizeArr(e,t,n)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){const r=MS(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=age(this.expr);return e===this.expr?this:nm.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,n){let r=[],s=!1;if(e){for(let o=0,a=e.length;o<a;o++){const u=e[o];if(u){if(u.type===0){s=!0;continue}if(u.type===1)return Wc.INSTANCE;if(u.type===9){r=r.concat(u.expr);continue}r.push(u)}}if(r.length===0&&s)return lc.INSTANCE;r.sort(MS)}if(r.length!==0){if(r.length===1)return r[0];for(let o=1;o<r.length;o++)r[o-1].equals(r[o])&&(r.splice(o,1),o--);if(r.length===1)return r[0];if(n){for(let o=0;o<r.length;o++)for(let a=o+1;a<r.length;a++)uge(r[o],r[a])&&(r.splice(a,1),a--);if(r.length===1)return r[0]}return new nm(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),n=e.shift(),r=[];for(const o of LF(t))for(const a of LF(n))r.push(P0.create([o,a],null));const s=e.length===0;e.unshift(nm.create(r,null,s))}this.negated=e[0]}return this.negated}}class It extends x1{constructor(e,t,n){super(e,null),this._defaultValue=t,typeof n=="object"?It._info.push(Object.assign(Object.assign({},n),{key:e})):n!==!0&&It._info.push({key:e,description:n,type:t!=null?typeof t:void 0})}static all(){return It._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return wx.create(this.key,e)}}It._info=[];const gn=Ci("contextKeyService"),dke="setContext";function lge(i,e){return i<e?-1:i>e?1:0}function zy(i,e,t,n){return i<t?-1:i>t?1:e<n?-1:e>n?1:0}function uge(i,e){if(e.type===6&&i.type!==9&&i.type!==6){for(const r of e.expr)if(i.equals(r))return!0}const t=i.negate(),n=LF(t).concat(LF(e));n.sort(MS);for(let r=0;r<n.length;r++){const o=n[r].negate();for(let a=r+1;a<n.length;a++){const u=n[a];if(o.equals(u))return!0}}return!1}function LF(i){return i.type===9?i.expr:[i]}function H6(i,e){if(!i)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}class hke{constructor(){this.data=new Map}add(e,t){H6(Fc(e)),H6(vl(t)),H6(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const ds=new hke;var Dd;(function(i){i.DARK="dark",i.LIGHT="light",i.HIGH_CONTRAST="hc"})(Dd||(Dd={}));const Rr=Ci("themeService");var kj;(function(i){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}i.isThemeColor=e})(kj||(kj={}));function Mr(i){return{id:i}}var Sr;(function(i){function e(u){return u&&typeof u=="object"&&typeof u.id=="string"&&(typeof u.color>"u"||kj.isThemeColor(u.color))}i.isThemeIcon=e;const t=new RegExp(`^\\$\\((${ml.iconNameExpression}(?:${ml.iconModifierExpression})?)\\)$`);function n(u){const c=t.exec(u);if(!c)return;let[,h]=c;return{id:h}}i.fromString=n;function r(u,c){let h=u.id;const f=h.lastIndexOf("~");return f!==-1&&(h=h.substring(0,f)),c&&(h=`${h}~${c}`),{id:h}}i.modify=r;function s(u){const c=u.id.lastIndexOf("~");if(c!==-1)return u.id.substring(c+1)}i.getModifier=s;function o(u,c){var h,f;return u.id===c.id&&((h=u.color)===null||h===void 0?void 0:h.id)===((f=c.color)===null||f===void 0?void 0:f.id)}i.isEqual=o;function a(u,c){return{id:u.id,color:c?Mr(c):void 0}}i.asThemeIcon=a,i.asClassNameArray=ml.asClassNameArray,i.asClassName=ml.asClassName,i.asCSSSelector=ml.asCSSSelector})(Sr||(Sr={}));function DF(i){switch(i){case Dd.DARK:return"vs-dark";case Dd.HIGH_CONTRAST:return"hc-black";default:return"vs"}}const cge={ThemingContribution:"base.contributions.theming"};class fke{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new ye}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Yn(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}let dge=new fke;ds.add(cge.ThemingContribution,dge);function Cr(i){return dge.onColorThemeChange(i)}class gke extends Me{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var pke=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Eie=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};function jA(i){return i.command!==void 0}class Ft{constructor(e){this.id=Ft._idPool++,this._debugName=e}}Ft._idPool=0;Ft.CommandPalette=new Ft("CommandPalette");Ft.EditorContext=new Ft("EditorContext");Ft.SimpleEditorContext=new Ft("SimpleEditorContext");Ft.EditorContextCopy=new Ft("EditorContextCopy");Ft.EditorContextPeek=new Ft("EditorContextPeek");Ft.MenubarEditMenu=new Ft("MenubarEditMenu");Ft.MenubarCopy=new Ft("MenubarCopy");Ft.MenubarGoMenu=new Ft("MenubarGoMenu");Ft.MenubarSelectionMenu=new Ft("MenubarSelectionMenu");Ft.InlineCompletionsActions=new Ft("InlineCompletionsActions");const Uy=Ci("menuService"),Sa=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new ye,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:i=>i===Ft.CommandPalette}}addCommand(i){return this.addCommands(ri.single(i))}addCommands(i){for(const e of i)this._commands.set(e.id,e);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),Yn(()=>{let e=!1;for(const t of i)e=this._commands.delete(t.id)||e;e&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(i){return this._commands.get(i)}getCommands(){const i=new Map;return this._commands.forEach((e,t)=>i.set(t,e)),i}appendMenuItem(i,e){return this.appendMenuItems(ri.single({id:i,item:e}))}appendMenuItems(i){const e=new Set,t=new nc;for(const{id:n,item:r}of i){let s=this._menuItems.get(n);s||(s=new nc,this._menuItems.set(n,s)),t.push(s.push(r)),e.add(n)}return this._onDidChangeMenu.fire(e),Yn(()=>{if(t.size>0){for(let n of t)n();this._onDidChangeMenu.fire(e),t.clear()}})}getMenuItems(i){let e;return this._menuItems.has(i)?e=[...this._menuItems.get(i)]:e=[],i===Ft.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(i){const e=new Set;for(const t of i)jA(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,n)=>{e.has(n)||i.push({command:t})})}};class FX extends uB{constructor(e,t,n,r){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=n,this._options=r}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),n=t.getActions(this._options);t.dispose();for(const[,r]of n)r.length>0&&(e.push(...r),e.push(new Ld));return e.length&&e.pop(),e}}let E1=class hge{constructor(e,t,n,r,s){var o,a;if(this._commandService=s,this.id=e.id,this.label=n!=null&&n.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value,this.tooltip=(a=typeof e.tooltip=="string"?e.tooltip:(o=e.tooltip)===null||o===void 0?void 0:o.value)!==null&&a!==void 0?a:"",this.enabled=!e.precondition||r.contextMatchesRules(e.precondition),this.checked=void 0,e.toggled){const u=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=r.contextMatchesRules(u.condition),this.checked&&u.tooltip&&(this.tooltip=typeof u.tooltip=="string"?u.tooltip:u.tooltip.value),u.title&&(this.label=typeof u.title=="string"?u.title:u.title.value)}this.item=e,this.alt=t?new hge(t,void 0,n,r,s):void 0,this._options=n,Sr.isThemeIcon(e.icon)&&(this.class=ml.asClassName(e.icon))}dispose(){}run(...e){var t,n;let r=[];return!((t=this._options)===null||t===void 0)&&t.arg&&(r=[...r,this._options.arg]),!((n=this._options)===null||n===void 0)&&n.shouldForwardArgs&&(r=[...r,...e]),this._commandService.executeCommand(this.id,...r)}};E1=pke([Eie(3,gn),Eie(4,Vr)],E1);class TF{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(yc===1){if(e&&e.win)return e.win}else if(yc===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=TF.bindToCurrentPlatform(e);if(t&&t.primary){const n=vj(t.primary,yc);n&&this._registerDefaultKeybinding(n,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let n=0,r=t.secondary.length;n<r;n++){const s=t.secondary[n],o=vj(s,yc);o&&this._registerDefaultKeybinding(o,e.id,e.args,e.weight,-n-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),ni.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||e>=31&&e<=56?!0:e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&TF._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,n,r,s,o){yc===1&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:n,when:o,weight1:r,weight2:s,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(_ke)),this._cachedMergedKeybindings.slice(0)}}const Xo=new TF,mke={EditorModes:"platform.keybindingsRegistry"};ds.add(mke.EditorModes,Xo);function _ke(i,e){return i.weight1!==e.weight1?i.weight1-e.weight1:i.command<e.command?-1:i.command>e.command?1:i.weight2-e.weight2}const up=Ci("telemetryService"),cp=Ci("logService");var _f;(function(i){i[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.Off=6]="Off"})(_f||(_f={}));const fge=_f.Info;class vke extends Me{constructor(){super(...arguments),this.level=fge,this._onDidChangeLogLevel=this._register(new ye)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class bke extends vke{constructor(e=fge){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=_f.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=_f.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=_f.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=_f.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class Cke extends Me{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}class bB{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let n=t.kbExpr;this.precondition&&(n?n=bt.and(n,this.precondition):n=this.precondition);const r={id:this.id,weight:t.weight,args:t.args,when:n,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};Xo.registerKeybindingRule(r)}}ni.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){Sa.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class LE extends bB{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,n){return this._implementations.push({priority:e,name:t,implementation:n}),this._implementations.sort((r,s)=>s.priority-r.priority),{dispose:()=>{for(let r=0;r<this._implementations.length;r++)if(this._implementations[r].implementation===n){this._implementations.splice(r,1);return}}}}runCommand(e,t){const n=e.get(cp);n.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const r of this._implementations){const s=r.implementation(e,t);if(s)return n.trace(`Command '${this.id}' was handled by '${r.name}'.`),typeof s=="boolean"?void 0:s}n.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class gge extends bB{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class ea extends bB{static bindToContribution(e){return class extends ea{constructor(n){super(n),this._callback=n.handler}runEditorCommand(n,r,s){e(r)&&this._callback(e(r),s)}}}runCommand(e,t){const n=e.get(Mi),r=n.getFocusedCodeEditor()||n.getActiveCodeEditor();if(r)return r.invokeWithinContext(s=>{if(s.get(gn).contextMatchesRules(Hl(this.precondition)))return this.runEditorCommand(s,r,t)})}}let Dt=class pge extends ea{constructor(e){super(pge.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function n(r){return r.menuId||(r.menuId=Ft.EditorContext),r.title||(r.title=e.label),r.when=bt.and(e.precondition,r.when),r}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(n)):e.contextMenuOpts&&t.push(n(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,n){return this.reportTelemetry(e,t),this.run(e,t,n||{})}reportTelemetry(e,t){e.get(up).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}};class mge extends Dt{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((n,r)=>r[0]-n[0]),{dispose:()=>{for(let n=0;n<this._implementations.length;n++)if(this._implementations[n][1]===t){this._implementations.splice(n,1);return}}}}run(e,t,n){for(const r of this._implementations){const s=r[1](e,t,n);if(s)return typeof s=="boolean"?void 0:s}}}function dp(i,e){ni.registerCommand(i,function(t,...n){const[r,s]=n;nr(an.isUri(r)),nr(Ee.isIPosition(s));const o=t.get($s).getModel(r);if(o){const a=Ee.lift(s);return e(o,a,...n.slice(2))}return t.get(wl).createModelReference(r).then(a=>new Promise((u,c)=>{try{const h=e(a.object.textEditorModel,Ee.lift(s),n.slice(2));u(h)}catch(h){c(h)}}).finally(()=>{a.dispose()}))})}function yke(i,e){ni.registerCommand(i,function(t,...n){const[r]=n;nr(an.isUri(r));const s=t.get($s).getModel(r);return s?e(s,...n.slice(1)):t.get(wl).createModelReference(r).then(o=>new Promise((a,u)=>{try{const c=e(o.object.textEditorModel,n.slice(1));a(c)}catch(c){u(c)}}).finally(()=>{o.dispose()}))})}function rt(i){return wc.INSTANCE.registerEditorCommand(i),i}function st(i){const e=new i;return wc.INSTANCE.registerEditorAction(e),e}function _ge(i){return wc.INSTANCE.registerEditorAction(i),i}function vge(i){wc.INSTANCE.registerEditorAction(i)}function Ri(i,e){wc.INSTANCE.registerEditorContribution(i,e)}var RS;(function(i){function e(o){return wc.INSTANCE.getEditorCommand(o)}i.getEditorCommand=e;function t(){return wc.INSTANCE.getEditorActions()}i.getEditorActions=t;function n(){return wc.INSTANCE.getEditorContributions()}i.getEditorContributions=n;function r(o){return wc.INSTANCE.getEditorContributions().filter(a=>o.indexOf(a.id)>=0)}i.getSomeEditorContributions=r;function s(){return wc.INSTANCE.getDiffEditorContributions()}i.getDiffEditorContributions=s})(RS||(RS={}));const wke={EditorCommonContributions:"editor.contributions"};class wc{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}wc.INSTANCE=new wc;ds.add(wke.EditorCommonContributions,wc.INSTANCE);function KP(i){return i.register(),i}const bge=KP(new LE({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:Ft.MenubarEditMenu,group:"1_do",title:C({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:Ft.CommandPalette,group:"",title:C("undo","Undo"),order:1}]}));KP(new gge(bge,{id:"default:undo",precondition:void 0}));const Cge=KP(new LE({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:Ft.MenubarEditMenu,group:"1_do",title:C({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:Ft.CommandPalette,group:"",title:C("redo","Redo"),order:1}]}));KP(new gge(Cge,{id:"default:redo",precondition:void 0}));const Ske=KP(new LE({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:Ft.MenubarSelectionMenu,group:"1_basic",title:C({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:Ft.CommandPalette,group:"",title:C("selectAll","Select All"),order:1}]}));var xke=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Eke=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let mM=class{constructor(e,t){}dispose(){}};mM.ID="editor.contrib.markerDecorations";mM=xke([Eke(1,EX)],mM);Ri(mM.ID,mM);const yge="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function Lke(i=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of yge)i.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const wge=Lke();function IF(i){let e=wge;if(i&&i instanceof RegExp)if(i.global)e=i;else{let t="g";i.ignoreCase&&(t+="i"),i.multiline&&(t+="m"),i.unicode&&(t+="u"),e=new RegExp(i.source,t)}return e.lastIndex=0,e}const Dke={maxLen:1e3,windowSize:15,timeBudget:150};function kF(i,e,t,n,r=Dke){if(t.length>r.maxLen){let c=i-r.maxLen/2;return c<0?c=0:n+=c,t=t.substring(c,i+r.maxLen/2),kF(i,e,t,n,r)}const s=Date.now(),o=i-1-n;let a=-1,u=null;for(let c=1;!(Date.now()-s>=r.timeBudget);c++){const h=o-r.windowSize*c;e.lastIndex=Math.max(0,h);const f=Tke(e,t,o,a);if(!f&&u||(u=f,h<=0))break;a=h}if(u){let c={word:u[0],startColumn:n+1+u.index,endColumn:n+1+u.index+u[0].length};return e.lastIndex=0,c}return null}function Tke(i,e,t,n){let r;for(;r=i.exec(e);){const s=r.index||0;if(s<=t&&i.lastIndex>=t)return r;if(n>0&&s>n)return null}return null}function pc(i,e=0){return i[i.length-(1+e)]}function Ike(i){if(i.length===0)throw new Error("Invalid tail call");return[i.slice(0,i.length-1),i[i.length-1]]}function Nc(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e||i.length!==e.length)return!1;for(let n=0,r=i.length;n<r;n++)if(!t(i[n],e[n]))return!1;return!0}function BX(i,e,t){let n=0,r=i.length-1;for(;n<=r;){const s=(n+r)/2|0,o=t(i[s],e);if(o<0)n=s+1;else if(o>0)r=s-1;else return s}return-(n+1)}function Sge(i,e){let t=0,n=i.length;if(n===0)return 0;for(;t<n;){const r=Math.floor((t+n)/2);e(i[r])?n=r:t=r+1}return t}function Nj(i,e,t){if(i=i|0,i>=e.length)throw new TypeError("invalid index");let n=e[Math.floor(e.length*Math.random())],r=[],s=[],o=[];for(let a of e){const u=t(a,n);u<0?r.push(a):u>0?s.push(a):o.push(a)}return i<r.length?Nj(i,r,t):i<r.length+o.length?o[0]:Nj(i-(r.length+o.length),s,t)}function Lie(i,e){const t=[];let n;for(const r of i.slice(0).sort(e))!n||e(n[0],r)!==0?(n=[r],t.push(n)):n.push(r);return t}function DE(i){return i.filter(e=>!!e)}function xge(i){return!Array.isArray(i)||i.length===0}function zl(i){return Array.isArray(i)&&i.length>0}function qC(i,e=t=>t){const t=new Set;return i.filter(n=>{const r=e(n);return t.has(r)?!1:(t.add(r),!0)})}function kke(i,e){const t=Nke(i,e);if(t!==-1)return i[t]}function Nke(i,e){for(let t=i.length-1;t>=0;t--){const n=i[t];if(e(n))return t}return-1}function Aj(i,e){return i.length>0?i[0]:e}function Ege(i){return[].concat(...i)}function ja(i,e){let t=typeof e=="number"?i:0;typeof e=="number"?t=i:(t=0,e=i);const n=[];if(t<=e)for(let r=t;r<e;r++)n.push(r);else for(let r=t;r>e;r--)n.push(r);return n}function _M(i,e,t){const n=i.slice(0,e),r=i.slice(e);return n.concat(t,r)}function SH(i,e){const t=i.indexOf(e);t>-1&&(i.splice(t,1),i.unshift(e))}function h5(i,e){const t=i.indexOf(e);t>-1&&(i.splice(t,1),i.push(e))}function WX(i){return Array.isArray(i)?i:[i]}function Ake(i,e,t){const n=Lge(i,e),r=i.length,s=t.length;i.length=r+s;for(let o=r-1;o>=n;o--)i[o+s]=i[o];for(let o=0;o<s;o++)i[o+n]=t[o]}function Die(i,e,t,n){const r=Lge(i,e),s=i.splice(r,t);return Ake(i,r,n),s}function Lge(i,e){return e<0?Math.max(e+i.length,0):Math.min(e,i.length)}class PS{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const n=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,n}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const n=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,n}peek(){return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}function Wp(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const e=Array.isArray(i)?[]:{};return Object.keys(i).forEach(t=>{i[t]&&typeof i[t]=="object"?e[t]=Wp(i[t]):e[t]=i[t]}),e}function Oke(i){if(!i||typeof i!="object")return i;const e=[i];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const n in t)if(Dge.call(t,n)){const r=t[n];typeof r=="object"&&!Object.isFrozen(r)&&e.push(r)}}return i}const Dge=Object.prototype.hasOwnProperty;function Mke(i,e){return Oj(i,e,new Set)}function Oj(i,e,t){if(Qu(i))return i;const n=e(i);if(typeof n<"u")return n;if(Qfe(i)){const r=[];for(const s of i)r.push(Oj(s,e,t));return r}if(vl(i)){if(t.has(i))throw new Error("Cannot clone recursive data-structure");t.add(i);const r={};for(let s in i)Dge.call(i,s)&&(r[s]=Oj(i[s],e,t));return t.delete(i),r}return i}function hp(i,e,t=!0){return vl(i)?(vl(e)&&Object.keys(e).forEach(n=>{n in i?t&&(vl(i[n])&&vl(e[n])?hp(i[n],e[n],t):i[n]=e[n]):i[n]=e[n]}),i):e}function Td(i,e){if(i===e)return!0;if(i==null||e===null||e===void 0||typeof i!=typeof e||typeof i!="object"||Array.isArray(i)!==Array.isArray(e))return!1;let t,n;if(Array.isArray(i)){if(i.length!==e.length)return!1;for(t=0;t<i.length;t++)if(!Td(i[t],e[t]))return!1}else{const r=[];for(n in i)r.push(n);r.sort();const s=[];for(n in e)s.push(n);if(s.sort(),!Td(r,s))return!1;for(t=0;t<r.length;t++)if(!Td(i[r[t]],e[r[t]]))return!1}return!0}function Yf(i,e,t){const n=e(i);return typeof n>"u"?t:n}const m0=8;class Tge{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class Rke{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class Ige{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class ao{constructor(e,t,n,r){this.id=e,this.name=t,this.defaultValue=n,this.schema=r}applyUpdate(e,t){return CB(e,t)}compute(e,t,n){return n}}class _O{constructor(e,t){this.newValue=e,this.didChange=t}}function CB(i,e){if(typeof i!="object"||typeof e!="object"||!i||!e)return new _O(e,i!==e);if(Array.isArray(i)||Array.isArray(e)){const n=Array.isArray(i)&&Array.isArray(e)&&Nc(i,e);return new _O(e,n)}let t=!1;for(let n in e)if(e.hasOwnProperty(n)){const r=CB(i[n],e[n]);r.didChange&&(i[n]=r.newValue,t=!0)}return new _O(i,t)}class TE{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}applyUpdate(e,t){return CB(e,t)}validate(e){return this.defaultValue}}class jy{constructor(e,t,n,r){this.id=e,this.name=t,this.defaultValue=n,this.schema=r}applyUpdate(e,t){return CB(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,n){return n}}function Jt(i,e){return typeof i>"u"?e:i==="false"?!1:!!i}class Zn extends jy{constructor(e,t,n,r=void 0){typeof r<"u"&&(r.type="boolean",r.default=n),super(e,t,n,r)}validate(e){return Jt(e,this.defaultValue)}}function Mj(i,e,t,n){if(typeof i>"u")return e;let r=parseInt(i,10);return isNaN(r)?e:(r=Math.max(t,r),r=Math.min(n,r),r|0)}class Dr extends jy{constructor(e,t,n,r,s,o=void 0){typeof o<"u"&&(o.type="integer",o.default=n,o.minimum=r,o.maximum=s),super(e,t,n,o),this.minimum=r,this.maximum=s}static clampedInt(e,t,n,r){return Mj(e,t,n,r)}validate(e){return Dr.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class Og extends jy{constructor(e,t,n,r,s){typeof s<"u"&&(s.type="number",s.default=n),super(e,t,n,s),this.validationFn=r}static clamp(e,t,n){return e<t?t:e>n?n:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;const n=parseFloat(e);return isNaN(n)?t:n}validate(e){return this.validationFn(Og.float(e,this.defaultValue))}}class Pl extends jy{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,n,r=void 0){typeof r<"u"&&(r.type="string",r.default=n),super(e,t,n,r)}validate(e){return Pl.string(e,this.defaultValue)}}function pl(i,e,t){return typeof i!="string"||t.indexOf(i)===-1?e:i}class Fs extends jy{constructor(e,t,n,r,s=void 0){typeof s<"u"&&(s.type="string",s.enum=r,s.default=n),super(e,t,n,s),this._allowedValues=r}validate(e){return pl(e,this.defaultValue,this._allowedValues)}}class fA extends ao{constructor(e,t,n,r,s,o,a=void 0){typeof a<"u"&&(a.type="string",a.enum=s,a.default=r),super(e,t,n,a),this._allowedValues=s,this._convert=o}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function Pke(i){switch(i){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class Fke extends ao{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[C("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),C("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),C("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:C("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,n){return n===0?e.accessibilitySupport:n}}class Bke extends ao{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:C("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:C("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:Jt(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:Jt(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function Wke(i){switch(i){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Eo;(function(i){i[i.Line=1]="Line",i[i.Block=2]="Block",i[i.Underline=3]="Underline",i[i.LineThin=4]="LineThin",i[i.BlockOutline=5]="BlockOutline",i[i.UnderlineThin=6]="UnderlineThin"})(Eo||(Eo={}));function Vke(i){switch(i){case"line":return Eo.Line;case"block":return Eo.Block;case"underline":return Eo.Underline;case"line-thin":return Eo.LineThin;case"block-outline":return Eo.BlockOutline;case"underline-thin":return Eo.UnderlineThin}}class Hke extends TE{constructor(){super(127,[65,33])}compute(e,t,n){const r=["monaco-editor"];return t.get(33)&&r.push(t.get(33)),e.extraEditorClassName&&r.push(e.extraEditorClassName),t.get(65)==="default"?r.push("mouse-default"):t.get(65)==="copy"&&r.push("mouse-copy"),t.get(99)&&r.push("showUnused"),t.get(125)&&r.push("showDeprecated"),r.join(" ")}}class $ke extends Zn{constructor(){super(32,"emptySelectionClipboard",!0,{description:C("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,n){return n&&e.emptySelectionClipboard}}class zke extends ao{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:C("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[C("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),C("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),C("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:C("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[C("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),C("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),C("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:C("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:C("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Xn},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:C("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:C("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:Jt(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":pl(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":pl(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:Jt(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:Jt(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:Jt(t.loop,this.defaultValue.loop)}}}class Ju extends ao{constructor(){super(44,"fontLigatures",Ju.OFF,{anyOf:[{type:"boolean",description:C("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:C("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:C("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?Ju.OFF:e==="true"?Ju.ON:e:e?Ju.ON:Ju.OFF}}Ju.OFF='"liga" off, "calt" off';Ju.ON='"liga" on, "calt" on';class Uke extends TE{constructor(){super(43)}compute(e,t,n){return e.fontInfo}}class jke extends jy{constructor(){super(45,"fontSize",da.fontSize,{type:"number",minimum:6,maximum:100,default:da.fontSize,description:C("fontSize","Controls the font size in pixels.")})}validate(e){let t=Og.float(e,this.defaultValue);return t===0?da.fontSize:Og.clamp(t,6,100)}compute(e,t,n){return e.fontInfo.fontSize}}class bg extends ao{constructor(){super(46,"fontWeight",da.fontWeight,{anyOf:[{type:"number",minimum:bg.MINIMUM_VALUE,maximum:bg.MAXIMUM_VALUE,errorMessage:C("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:bg.SUGGESTION_VALUES}],default:da.fontWeight,description:C("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(Dr.clampedInt(e,da.fontWeight,bg.MINIMUM_VALUE,bg.MAXIMUM_VALUE))}}bg.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];bg.MINIMUM_VALUE=1;bg.MAXIMUM_VALUE=1e3;class Kke extends ao{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[C("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),C("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),C("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},n=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:C("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:C("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:C("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:C("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:C("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:C("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:n,description:C("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:n,description:C("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:n,description:C("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:n,description:C("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:n,description:C("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,n,r,s,o;if(!e||typeof e!="object")return this.defaultValue;const a=e;return{multiple:pl(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:pl(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(n=a.multipleTypeDefinitions)!==null&&n!==void 0?n:pl(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(r=a.multipleDeclarations)!==null&&r!==void 0?r:pl(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(s=a.multipleImplementations)!==null&&s!==void 0?s:pl(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(o=a.multipleReferences)!==null&&o!==void 0?o:pl(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Pl.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Pl.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Pl.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Pl.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Pl.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class qke extends ao{constructor(){const e={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:C("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:C("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:C("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:C("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Jt(t.enabled,this.defaultValue.enabled),delay:Dr.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:Jt(t.sticky,this.defaultValue.sticky),above:Jt(t.above,this.defaultValue.above)}}}class FS extends TE{constructor(){super(130,[49,57,37,64,91,59,60,93,117,120,121,122,2])}compute(e,t,n){return FS.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,n=e.scrollBeyondLastLine?t-1:0,r=(e.viewLineCount+n)/(e.pixelRatio*e.height),s=Math.floor(e.viewLineCount/r);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:n,desiredRatio:r,minimapLineCount:s}}static _computeMinimapLayout(e,t){const n=e.outerWidth,r=e.outerHeight,s=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(s*r),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:r};const o=t.stableMinimapLayoutInput,a=o&&e.outerHeight===o.outerHeight&&e.lineHeight===o.lineHeight&&e.typicalHalfwidthCharacterWidth===o.typicalHalfwidthCharacterWidth&&e.pixelRatio===o.pixelRatio&&e.scrollBeyondLastLine===o.scrollBeyondLastLine&&e.minimap.enabled===o.minimap.enabled&&e.minimap.side===o.minimap.side&&e.minimap.size===o.minimap.size&&e.minimap.showSlider===o.minimap.showSlider&&e.minimap.renderCharacters===o.minimap.renderCharacters&&e.minimap.maxColumn===o.minimap.maxColumn&&e.minimap.scale===o.minimap.scale&&e.verticalScrollbarWidth===o.verticalScrollbarWidth&&e.isViewportWrapping===o.isViewportWrapping,u=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,h=e.scrollBeyondLastLine,f=e.minimap.renderCharacters;let p=s>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const m=e.minimap.maxColumn,v=e.minimap.size,b=e.minimap.side,S=e.verticalScrollbarWidth,x=e.viewLineCount,w=e.remainingWidth,E=e.isViewportWrapping,N=f?2:3;let A=Math.floor(s*r);const H=A/s;let R=!1,M=!1,G=N*p,X=p/s,$=1;if(v==="fill"||v==="fit"){const{typicalViewportLineCount:K,extraLinesBeyondLastLine:z,desiredRatio:k,minimapLineCount:q}=FS.computeContainedMinimapLineCount({viewLineCount:x,scrollBeyondLastLine:h,height:r,lineHeight:u,pixelRatio:s});if(x/q>1)R=!0,M=!0,p=1,G=1,X=p/s;else{let ne=!1,Ce=p+1;if(v==="fit"){const Te=Math.ceil((x+z)*G);E&&a&&w<=t.stableFitRemainingWidth?(ne=!0,Ce=t.stableFitMaxMinimapScale):ne=Te>A}if(v==="fill"||ne){R=!0;const Te=p;G=Math.min(u*s,Math.max(1,Math.floor(1/k))),E&&a&&w<=t.stableFitRemainingWidth&&(Ce=t.stableFitMaxMinimapScale),p=Math.min(Ce,Math.max(1,Math.floor(G/N))),p>Te&&($=Math.min(2,p/Te)),X=p/s/$,A=Math.ceil(Math.max(K,x+z)*G),E?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=w,t.stableFitMaxMinimapScale=p):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const I=Math.floor(m*X),O=Math.min(I,Math.max(0,Math.floor((w-S-2)*X/(c+X)))+m0);let B=Math.floor(s*O);const W=B/s;B=Math.floor(B*$);const j=f?1:2,U=b==="left"?0:n-O-S;return{renderMinimap:j,minimapLeft:U,minimapWidth:O,minimapHeightIsEditorHeight:R,minimapIsSampling:M,minimapScale:p,minimapLineHeight:G,minimapCanvasInnerWidth:B,minimapCanvasInnerHeight:A,minimapCanvasOuterWidth:W,minimapCanvasOuterHeight:H}}static computeLayout(e,t){const n=t.outerWidth|0,r=t.outerHeight|0,s=t.lineHeight|0,o=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,u=t.maxDigitWidth,c=t.pixelRatio,h=t.viewLineCount,f=e.get(122),p=f==="inherit"?e.get(121):f,m=p==="inherit"?e.get(117):p,v=e.get(120),b=e.get(2),S=t.isDominatedByLongLines,x=e.get(49),w=e.get(59).renderType!==0,E=e.get(60),N=e.get(93),A=e.get(64),H=e.get(91),R=H.verticalScrollbarSize,M=H.verticalHasArrows,G=H.arrowSize,X=H.horizontalScrollbarSize,$=e.get(57),I=e.get(37);let O;if(typeof $=="string"&&/^\d+(\.\d+)?ch$/.test($)){const Rt=parseFloat($.substr(0,$.length-2));O=Dr.clampedInt(Rt*a,0,0,1e3)}else O=Dr.clampedInt($,0,0,1e3);I&&(O+=16);let B=0;if(w){const Rt=Math.max(o,E);B=Math.round(Rt*u)}let W=0;x&&(W=s);let j=0,U=j+W,K=U+B,z=K+O;const k=n-W-B-O;let q=!1,fe=!1,ne=-1;b!==2&&(p==="inherit"&&S?(q=!0,fe=!0):m==="on"||m==="bounded"?fe=!0:m==="wordWrapColumn"&&(ne=v));const Ce=FS._computeMinimapLayout({outerWidth:n,outerHeight:r,lineHeight:s,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:N,minimap:A,verticalScrollbarWidth:R,viewLineCount:h,remainingWidth:k,isViewportWrapping:fe},t.memory||new Ige);Ce.renderMinimap!==0&&Ce.minimapLeft===0&&(j+=Ce.minimapWidth,U+=Ce.minimapWidth,K+=Ce.minimapWidth,z+=Ce.minimapWidth);const Te=k-Ce.minimapWidth,He=Math.max(1,Math.floor((Te-R-2)/a)),ot=M?G:0;return fe&&(ne=Math.max(1,He),m==="bounded"&&(ne=Math.min(ne,v))),{width:n,height:r,glyphMarginLeft:j,glyphMarginWidth:W,lineNumbersLeft:U,lineNumbersWidth:B,decorationsLeft:K,decorationsWidth:O,contentLeft:z,contentWidth:Te,minimap:Ce,viewportColumn:He,isWordWrapMinified:q,isViewportWrapping:fe,wrappingColumn:ne,verticalScrollbarWidth:R,horizontalScrollbarHeight:X,overviewRuler:{top:ot,width:R,height:r-2*ot,right:0}}}}class Gke extends ao{constructor(){const e={enabled:!0};super(56,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:C("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:Jt(e.enabled,this.defaultValue.enabled)}}}class Yke extends ao{constructor(){const e={enabled:!0,fontSize:0,fontFamily:""};super(126,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:C("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:C("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:C("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Jt(t.enabled,this.defaultValue.enabled),fontSize:Dr.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:Pl.string(t.fontFamily,this.defaultValue.fontFamily)}}}class Zke extends Og{constructor(){super(58,"lineHeight",da.lineHeight,e=>Og.clamp(e,0,150),{markdownDescription:C("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,n){return e.fontInfo.lineHeight}}class Xke extends ao{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:C("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[C("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),C("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),C("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:C("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:C("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:C("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:C("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:C("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:C("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Jt(t.enabled,this.defaultValue.enabled),size:pl(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:pl(t.side,this.defaultValue.side,["right","left"]),showSlider:pl(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:Jt(t.renderCharacters,this.defaultValue.renderCharacters),scale:Dr.clampedInt(t.scale,1,1,3),maxColumn:Dr.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Qke(i){return i==="ctrlCmd"?Xn?"metaKey":"ctrlKey":"altKey"}class Jke extends ao{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:C("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:C("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:Dr.clampedInt(t.top,0,0,1e3),bottom:Dr.clampedInt(t.bottom,0,0,1e3)}}}class eNe extends ao{constructor(){const e={enabled:!0,cycle:!1};super(75,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:C("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:C("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Jt(t.enabled,this.defaultValue.enabled),cycle:Jt(t.cycle,this.defaultValue.cycle)}}}class tNe extends TE{constructor(){super(128)}compute(e,t,n){return e.pixelRatio}}class nNe extends ao{constructor(){const e={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:C("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:C("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:C("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:C("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){const t=e,n={other:Jt(t.other,this.defaultValue.other),comments:Jt(t.comments,this.defaultValue.comments),strings:Jt(t.strings,this.defaultValue.strings)};return n.other&&n.comments&&n.strings?!0:!n.other&&!n.comments&&!n.strings?!1:n}return this.defaultValue}}class iNe extends ao{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[C("lineNumbers.off","Line numbers are not rendered."),C("lineNumbers.on","Line numbers are rendered as absolute number."),C("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),C("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:C("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,n=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,n=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:n}}}function VX(i){const e=i.get(86);return e==="editable"?i.get(80):e!=="on"}class rNe extends ao{constructor(){const e=[],t={type:"number",description:C("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:C("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:C("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let n of e)if(typeof n=="number")t.push({column:Dr.clampedInt(n,0,0,1e4),color:null});else if(n&&typeof n=="object"){const r=n;t.push({column:Dr.clampedInt(r.column,0,0,1e4),color:r.color})}return t.sort((n,r)=>n.column-r.column),t}return this.defaultValue}}function Tie(i,e){if(typeof i!="string")return e;switch(i){case"hidden":return 2;case"visible":return 3;default:return 1}}let sNe=class extends ao{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[C("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),C("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),C("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:C("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[C("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),C("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),C("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:C("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:C("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:C("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:C("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,n=Dr.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),r=Dr.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:Dr.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Tie(t.vertical,this.defaultValue.vertical),horizontal:Tie(t.horizontal,this.defaultValue.horizontal),useShadows:Jt(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:Jt(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:Jt(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:Jt(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:Jt(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:n,horizontalSliderSize:Dr.clampedInt(t.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:r,verticalSliderSize:Dr.clampedInt(t.verticalSliderSize,r,0,1e3),scrollByPage:Jt(t.scrollByPage,this.defaultValue.scrollByPage)}}};const og="inUntrustedWorkspace",Cg={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments"};class oNe extends ao{constructor(){const e={nonBasicASCII:og,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:og,allowedCharacters:{}};super(112,"unicodeHighlight",e,{[Cg.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,og],default:e.nonBasicASCII,description:C("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Cg.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:C("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Cg.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:C("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Cg.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,og],default:e.includeComments,description:C("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Cg.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:C("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}}})}applyUpdate(e,t){let n=!1;t.allowedCharacters&&(Td(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),n=!0));const r=super.applyUpdate(e,t);return n?new _O(r.newValue,!0):r}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{nonBasicASCII:NF(t.nonBasicASCII,og,[!0,!1,og]),invisibleCharacters:Jt(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:Jt(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:NF(t.includeComments,og,[!0,!1,og]),allowedCharacters:this.validateAllowedCharacters(e.allowedCharacters,this.defaultValue.allowedCharacters)}}validateAllowedCharacters(e,t){if(typeof e!="object"||!e)return t;const n={};for(const[r,s]of Object.entries(e))s===!0&&(n[r]=!0);return n}}class aNe extends ao{constructor(){const e={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:C("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:Jt(t.enabled,this.defaultValue.enabled),mode:pl(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class lNe extends ao{constructor(){const e={enabled:va.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,description:C("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:Jt(e.enabled,this.defaultValue.enabled)}}}class uNe extends ao{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[C("editor.guides.bracketPairs.true","Enables bracket pair guides."),C("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),C("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:C("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[C("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),C("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),C("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:C("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:C("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:C("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:e.highlightActiveIndentation,description:C("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{bracketPairs:NF(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:NF(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:Jt(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:Jt(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:Jt(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function NF(i,e,t){const n=t.indexOf(i);return n===-1?e:t[n]}class cNe extends ao{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[C("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),C("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:C("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:C("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:C("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:C("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:C("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:C("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:C("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:C("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:C("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:C("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:C("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:C("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:pl(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:Jt(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:Jt(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:Jt(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:Jt(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:Jt(t.showIcons,this.defaultValue.showIcons),showStatusBar:Jt(t.showStatusBar,this.defaultValue.showStatusBar),preview:Jt(t.preview,this.defaultValue.preview),previewMode:pl(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:Jt(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:Jt(t.showMethods,this.defaultValue.showMethods),showFunctions:Jt(t.showFunctions,this.defaultValue.showFunctions),showConstructors:Jt(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:Jt(t.showDeprecated,this.defaultValue.showDeprecated),showFields:Jt(t.showFields,this.defaultValue.showFields),showVariables:Jt(t.showVariables,this.defaultValue.showVariables),showClasses:Jt(t.showClasses,this.defaultValue.showClasses),showStructs:Jt(t.showStructs,this.defaultValue.showStructs),showInterfaces:Jt(t.showInterfaces,this.defaultValue.showInterfaces),showModules:Jt(t.showModules,this.defaultValue.showModules),showProperties:Jt(t.showProperties,this.defaultValue.showProperties),showEvents:Jt(t.showEvents,this.defaultValue.showEvents),showOperators:Jt(t.showOperators,this.defaultValue.showOperators),showUnits:Jt(t.showUnits,this.defaultValue.showUnits),showValues:Jt(t.showValues,this.defaultValue.showValues),showConstants:Jt(t.showConstants,this.defaultValue.showConstants),showEnums:Jt(t.showEnums,this.defaultValue.showEnums),showEnumMembers:Jt(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:Jt(t.showKeywords,this.defaultValue.showKeywords),showWords:Jt(t.showWords,this.defaultValue.showWords),showColors:Jt(t.showColors,this.defaultValue.showColors),showFiles:Jt(t.showFiles,this.defaultValue.showFiles),showReferences:Jt(t.showReferences,this.defaultValue.showReferences),showFolders:Jt(t.showFolders,this.defaultValue.showFolders),showTypeParameters:Jt(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:Jt(t.showSnippets,this.defaultValue.showSnippets),showUsers:Jt(t.showUsers,this.defaultValue.showUsers),showIssues:Jt(t.showIssues,this.defaultValue.showIssues)}}}class dNe extends ao{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:C("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:Jt(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class hNe extends TE{constructor(){super(129,[80])}compute(e,t,n){return t.get(80)?!0:e.tabFocusMode}}function fNe(i){switch(i){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class gNe extends TE{constructor(){super(131,[130])}compute(e,t,n){const r=t.get(130);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:r.isWordWrapMinified,isViewportWrapping:r.isViewportWrapping,wrappingColumn:r.wrappingColumn}}}const pNe="Consolas, 'Courier New', monospace",mNe="Menlo, Monaco, 'Courier New', monospace",_Ne="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",da={fontFamily:Xn?mNe:yl?_Ne:pNe,fontWeight:"normal",fontSize:Xn?12:14,lineHeight:0,letterSpacing:0},va={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},Tb=[];function nt(i){return Tb[i.id]=i,i}const zf={acceptSuggestionOnCommitCharacter:nt(new Zn(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:C("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:nt(new Fs(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",C("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:C("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:nt(new Fke),accessibilityPageSize:nt(new Dr(3,"accessibilityPageSize",10,1,1073741824,{description:C("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:nt(new Pl(4,"ariaLabel",C("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:nt(new Fs(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),C("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:C("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:nt(new Fs(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",C("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:C("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:nt(new Fs(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",C("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:C("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:nt(new Fs(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),C("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:C("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:nt(new fA(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],Pke,{enumDescriptions:[C("editor.autoIndent.none","The editor will not insert indentation automatically."),C("editor.autoIndent.keep","The editor will keep the current line's indentation."),C("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),C("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),C("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:C("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:nt(new Zn(10,"automaticLayout",!1)),autoSurround:nt(new Fs(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[C("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),C("editor.autoSurround.quotes","Surround with quotes but not brackets."),C("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:C("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:nt(new lNe),bracketPairGuides:nt(new uNe),stickyTabStops:nt(new Zn(103,"stickyTabStops",!1,{description:C("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:nt(new Zn(14,"codeLens",!0,{description:C("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:nt(new Pl(15,"codeLensFontFamily","",{description:C("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:nt(new Dr(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:C("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:nt(new Zn(17,"colorDecorators",!0,{description:C("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:nt(new Zn(18,"columnSelection",!1,{description:C("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:nt(new Bke),contextmenu:nt(new Zn(20,"contextmenu",!0)),copyWithSyntaxHighlighting:nt(new Zn(21,"copyWithSyntaxHighlighting",!0,{description:C("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:nt(new fA(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],Wke,{description:C("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:nt(new Zn(23,"cursorSmoothCaretAnimation",!1,{description:C("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:nt(new fA(24,"cursorStyle",Eo.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],Vke,{description:C("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:nt(new Dr(25,"cursorSurroundingLines",0,0,1073741824,{description:C("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:nt(new Fs(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[C("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),C("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:C("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:nt(new Dr(27,"cursorWidth",0,0,1073741824,{markdownDescription:C("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:nt(new Zn(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:nt(new Zn(29,"disableMonospaceOptimizations",!1)),domReadOnly:nt(new Zn(30,"domReadOnly",!1)),dragAndDrop:nt(new Zn(31,"dragAndDrop",!0,{description:C("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:nt(new $ke),extraEditorClassName:nt(new Pl(33,"extraEditorClassName","")),fastScrollSensitivity:nt(new Og(34,"fastScrollSensitivity",5,i=>i<=0?5:i,{markdownDescription:C("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:nt(new zke),fixedOverflowWidgets:nt(new Zn(36,"fixedOverflowWidgets",!1)),folding:nt(new Zn(37,"folding",!0,{description:C("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:nt(new Fs(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[C("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),C("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:C("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:nt(new Zn(39,"foldingHighlight",!0,{description:C("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:nt(new Zn(40,"foldingImportsByDefault",!1,{description:C("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:nt(new Zn(41,"unfoldOnClickAfterEndOfLine",!1,{description:C("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:nt(new Pl(42,"fontFamily",da.fontFamily,{description:C("fontFamily","Controls the font family.")})),fontInfo:nt(new Uke),fontLigatures2:nt(new Ju),fontSize:nt(new jke),fontWeight:nt(new bg),formatOnPaste:nt(new Zn(47,"formatOnPaste",!1,{description:C("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:nt(new Zn(48,"formatOnType",!1,{description:C("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:nt(new Zn(49,"glyphMargin",!0,{description:C("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:nt(new Kke),hideCursorInOverviewRuler:nt(new Zn(51,"hideCursorInOverviewRuler",!1,{description:C("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:nt(new qke),inDiffEditor:nt(new Zn(53,"inDiffEditor",!1)),letterSpacing:nt(new Og(55,"letterSpacing",da.letterSpacing,i=>Og.clamp(i,-5,20),{description:C("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:nt(new Gke),lineDecorationsWidth:nt(new jy(57,"lineDecorationsWidth",10)),lineHeight:nt(new Zke),lineNumbers:nt(new iNe),lineNumbersMinChars:nt(new Dr(60,"lineNumbersMinChars",5,1,300)),linkedEditing:nt(new Zn(61,"linkedEditing",!1,{description:C("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:nt(new Zn(62,"links",!0,{description:C("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:nt(new Fs(63,"matchBrackets","always",["always","near","never"],{description:C("matchBrackets","Highlight matching brackets.")})),minimap:nt(new Xke),mouseStyle:nt(new Fs(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:nt(new Og(66,"mouseWheelScrollSensitivity",1,i=>i===0?1:i,{markdownDescription:C("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:nt(new Zn(67,"mouseWheelZoom",!1,{markdownDescription:C("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:nt(new Zn(68,"multiCursorMergeOverlapping",!0,{description:C("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:nt(new fA(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Qke,{markdownEnumDescriptions:[C("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),C("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:C({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:nt(new Fs(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[C("multiCursorPaste.spread","Each cursor pastes a single line of the text."),C("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:C("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:nt(new Zn(71,"occurrencesHighlight",!0,{description:C("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:nt(new Zn(72,"overviewRulerBorder",!0,{description:C("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:nt(new Dr(73,"overviewRulerLanes",3,0,3)),padding:nt(new Jke),parameterHints:nt(new eNe),peekWidgetDefaultFocus:nt(new Fs(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[C("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),C("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:C("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:nt(new Zn(77,"definitionLinkOpensInPeek",!1,{description:C("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:nt(new nNe),quickSuggestionsDelay:nt(new Dr(79,"quickSuggestionsDelay",10,0,1073741824,{description:C("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:nt(new Zn(80,"readOnly",!1)),renameOnType:nt(new Zn(81,"renameOnType",!1,{description:C("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:C("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:nt(new Zn(82,"renderControlCharacters",!0,{description:C("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:nt(new Zn(83,"renderFinalNewline",!0,{description:C("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:nt(new Fs(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",C("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:C("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:nt(new Zn(85,"renderLineHighlightOnlyWhenFocus",!1,{description:C("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:nt(new Fs(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:nt(new Fs(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",C("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),C("renderWhitespace.selection","Render whitespace characters only on selected text."),C("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:C("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:nt(new Dr(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:nt(new Zn(89,"roundedSelection",!0,{description:C("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:nt(new rNe),scrollbar:nt(new sNe),scrollBeyondLastColumn:nt(new Dr(92,"scrollBeyondLastColumn",5,0,1073741824,{description:C("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:nt(new Zn(93,"scrollBeyondLastLine",!0,{description:C("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:nt(new Zn(94,"scrollPredominantAxis",!0,{description:C("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:nt(new Zn(95,"selectionClipboard",!0,{description:C("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:yl})),selectionHighlight:nt(new Zn(96,"selectionHighlight",!0,{description:C("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:nt(new Zn(97,"selectOnLineNumbers",!0)),showFoldingControls:nt(new Fs(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[C("showFoldingControls.always","Always show the folding controls."),C("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:C("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:nt(new Zn(99,"showUnused",!0,{description:C("showUnused","Controls fading out of unused code.")})),showDeprecated:nt(new Zn(125,"showDeprecated",!0,{description:C("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:nt(new Yke),snippetSuggestions:nt(new Fs(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[C("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),C("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),C("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),C("snippetSuggestions.none","Do not show snippet suggestions.")],description:C("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:nt(new dNe),smoothScrolling:nt(new Zn(102,"smoothScrolling",!1,{description:C("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:nt(new Dr(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:nt(new cNe),inlineSuggest:nt(new aNe),suggestFontSize:nt(new Dr(106,"suggestFontSize",0,0,1e3,{markdownDescription:C("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:nt(new Dr(107,"suggestLineHeight",0,0,1e3,{markdownDescription:C("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:nt(new Zn(108,"suggestOnTriggerCharacters",!0,{description:C("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:nt(new Fs(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[C("suggestSelection.first","Always select the first suggestion."),C("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),C("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:C("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:nt(new Fs(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[C("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),C("tabCompletion.off","Disable tab completions."),C("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:C("tabCompletion","Enables tab completions.")})),tabIndex:nt(new Dr(111,"tabIndex",0,-1,1073741824)),unicodeHighlight:nt(new oNe),unusualLineTerminators:nt(new Fs(113,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[C("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),C("unusualLineTerminators.off","Unusual line terminators are ignored."),C("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:C("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:nt(new Zn(114,"useShadowDOM",!0)),useTabStops:nt(new Zn(115,"useTabStops",!0,{description:C("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:nt(new Pl(116,"wordSeparators",yge,{description:C("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:nt(new Fs(117,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[C("wordWrap.off","Lines will never wrap."),C("wordWrap.on","Lines will wrap at the viewport width."),C({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),C({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:C({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:nt(new Pl(118,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;")),wordWrapBreakBeforeCharacters:nt(new Pl(119,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:nt(new Dr(120,"wordWrapColumn",80,1,1073741824,{markdownDescription:C({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:nt(new Fs(121,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:nt(new Fs(122,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:nt(new fA(123,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],fNe,{enumDescriptions:[C("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),C("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),C("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),C("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:C("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:nt(new Fs(124,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[C("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),C("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:C("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:nt(new Hke),pixelRatio:nt(new tNe),tabFocusMode:nt(new hNe),layoutInfo:nt(new FS),wrappingInfo:nt(new gNe)};class vNe{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class HX{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=this._bareFontInfo.getMassagedFontFamily(Cd?da.fontFamily:null),t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const n=document.createElement("div");n.style.fontFamily=e,n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(n);const r=document.createElement("div");r.style.fontFamily=e,r.style.fontWeight="bold",r.style.fontSize=this._bareFontInfo.fontSize+"px",r.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,r.style.lineHeight=this._bareFontInfo.lineHeight+"px",r.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(r);const s=document.createElement("div");s.style.fontFamily=e,s.style.fontWeight=this._bareFontInfo.fontWeight,s.style.fontSize=this._bareFontInfo.fontSize+"px",s.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,s.style.lineHeight=this._bareFontInfo.lineHeight+"px",s.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",s.style.fontStyle="italic",t.appendChild(s);const o=[];for(const a of this._requests){let u;a.type===0&&(u=n),a.type===2&&(u=r),a.type===1&&(u=s),u.appendChild(document.createElement("br"));const c=document.createElement("span");HX._render(c,a),u.appendChild(c),o.push(c)}this._container=t,this._testElements=o}static _render(e,t){if(t.chr===" "){let n="";for(let r=0;r<8;r++)n+=n;e.innerText=n}else{let n=t.chr;for(let r=0;r<8;r++)n+=n;e.textContent=n}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const n=this._requests[e],r=this._testElements[e];n.fulfill(r.offsetWidth/256)}}}function bNe(i,e){new HX(i,e).read()}class kge extends Me{constructor(e,t,n){super(),this.referenceDomElement=e,this.changeCallback=n,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver<"u"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let n=0,r=0;t?(n=t.width,r=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,r=this.referenceDomElement.clientHeight),n=Math.max(5,n),r=Math.max(5,r),(this.width!==n||this.height!==r)&&(this.width=n,this.height=r,e&&this.changeCallback())}}const Lm=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new ye,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(i){i=Math.min(Math.max(-5,i),20),this._zoomLevel!==i&&(this._zoomLevel=i,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},CNe=Xn?1.5:1.35,xH=8;class oC{constructor(e){this._bareFontInfoBrand=void 0,this.zoomLevel=e.zoomLevel,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,n,r){const s=e.get(42),o=e.get(46),a=e.get(45),u=e.get(44),c=e.get(58),h=e.get(55);return oC._create(s,o,a,u,c,h,t,n,r)}static _create(e,t,n,r,s,o,a,u,c){s===0?s=CNe*n:s<xH&&(s=s*n),s=Math.round(s),s<xH&&(s=xH);const h=1+(c?0:Lm.getZoomLevel()*.1);return n*=h,s*=h,new oC({zoomLevel:a,pixelRatio:u,fontFamily:e,fontWeight:t,fontSize:n,fontFeatureSettings:r,lineHeight:s,letterSpacing:o})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(e){const t=oC._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const yNe=1;class Rj extends oC{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=yNe,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}const yB={JSONContribution:"base.contributions.json"};function wNe(i){return i.length>0&&i.charAt(i.length-1)==="#"?i.substring(0,i.length-1):i}class SNe{constructor(){this._onDidChangeSchema=new ye,this.schemasById={}}registerSchema(e,t){this.schemasById[wNe(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const xNe=new SNe;ds.add(yB.JSONContribution,xNe);const Ky={Configuration:"base.contributions.configuration"},gA="vscode://schemas/settings/resourceLanguage",Iie=ds.as(yB.JSONContribution);class ENe{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new ye,this._onDidUpdateConfiguration=new ye,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:C("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},Iie.registerSchema(gA,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const n=this.doRegisterConfigurations(e,t);Iie.registerSchema(gA,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}registerDefaultConfigurations(e){var t;const n=[],r=[];for(const{overrides:s,source:o}of e)for(const a in s)if(n.push(a),vM.test(a)){const u=Object.assign(Object.assign({},((t=this.configurationDefaultsOverrides.get(a))===null||t===void 0?void 0:t.value)||{}),s[a]);this.configurationDefaultsOverrides.set(a,{source:o,value:u});const c={type:"object",default:u,description:C("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",a),$ref:gA,defaultDefaultValue:u,source:Fc(o)?void 0:o};r.push(...Age(a)),this.configurationProperties[a]=c,this.defaultLanguageConfigurationOverridesNode.properties[a]=c}else{this.configurationDefaultsOverrides.set(a,{value:s[a],source:o});const u=this.configurationProperties[a];u&&(this.updatePropertyDefaultValue(a,u),this.updateSchema(a,u))}this.registerOverrideIdentifiers(r),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n,defaultsOverrides:!0})}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const n=[];return e.forEach(r=>{n.push(...this.validateAndRegisterProperties(r,t,r.extensionInfo,r.restrictedProperties)),this.configurationContributors.push(r),this.registerJSONConfiguration(r)}),n}validateAndRegisterProperties(e,t=!0,n,r,s=3){s=Qu(e.scope)?s:e.scope;let o=[],a=e.properties;if(a)for(let c in a){if(t&&TNe(c)){delete a[c];continue}const h=a[c];if(h.source=n,h.defaultDefaultValue=a[c].default,this.updatePropertyDefaultValue(c,h),vM.test(c)?h.scope=void 0:(h.scope=Qu(h.scope)?s:h.scope,h.restricted=Qu(h.restricted)?!!(r!=null&&r.includes(c)):h.restricted),a[c].hasOwnProperty("included")&&!a[c].included){this.excludedConfigurationProperties[c]=a[c],delete a[c];continue}else this.configurationProperties[c]=a[c];!a[c].deprecationMessage&&a[c].markdownDeprecationMessage&&(a[c].deprecationMessage=a[c].markdownDeprecationMessage),o.push(c)}let u=e.allOf;if(u)for(let c of u)o.push(...this.validateAndRegisterProperties(c,t,n,r,s));return o}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=n=>{let r=n.properties;if(r)for(const o in r)this.updateSchema(o,r[o]);let s=n.allOf;s&&s.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,n={type:"object",description:C("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:C("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:gA};this.updatePropertyDefaultValue(t,n)}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){C("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),C("overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const n=this.configurationDefaultsOverrides.get(e);let r=n==null?void 0:n.value,s=n==null?void 0:n.source;Vl(r)&&(r=t.defaultDefaultValue,s=void 0),Vl(r)&&(r=DNe(t.type)),t.default=r,t.defaultValueSource=s}}const Nge="\\[([^\\]]+)\\]",kie=new RegExp(Nge,"g"),LNe=`^(${Nge})+$`,vM=new RegExp(LNe);function Age(i){const e=[];if(vM.test(i)){let t=kie.exec(i);for(;t!=null&&t.length;){const n=t[1].trim();n&&e.push(n),t=kie.exec(i)}}return qC(e)}function DNe(i){switch(Array.isArray(i)?i[0]:i){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const Oge=new ENe;ds.add(Ky.Configuration,Oge);function TNe(i){return i.trim()?vM.test(i)?C("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",i):Oge.getConfigurationProperties()[i]!==void 0?C("config.property.duplicate","Cannot register '{0}'. This property is already registered.",i):null:C("config.property.empty","Cannot register an empty property")}const INe=Object.prototype.hasOwnProperty;function kNe(i,e){for(let t in i)if(INe.call(i,t)&&e({key:t,value:i[t]},function(){delete i[t]})===!1)return}class NNe{constructor(){this.map=new Map}add(e,t){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(t)}delete(e,t){const n=this.map.get(e);n&&(n.delete(t),n.size===0&&this.map.delete(e))}forEach(e,t){const n=this.map.get(e);n&&n.forEach(t)}}const AF=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new ye,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(i){this._tabFocus!==i&&(this._tabFocus=i,this._onDidChangeTabFocus.fire(this._tabFocus))}},ANe=Object.hasOwnProperty;class ONe{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class MNe{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class lg{static readOptions(e){const t=e,n=new MNe;for(const r of Tb){const s=r.name==="_never_"?void 0:t[r.name];n._write(r.id,s)}return n}static validateOptions(e){const t=new Rke;for(const n of Tb)t._write(n.id,n.validate(e._read(n.id)));return t}static computeOptions(e,t){const n=new ONe;for(const r of Tb)n._write(r.id,r.compute(t,n,e._read(r.id)));return n}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?Nc(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!lg._deepEquals(e[n],t[n]))return!1;return!0}static checkEquals(e,t){const n=[];let r=!1;for(const s of Tb){const o=!lg._deepEquals(e._read(s.id),t._read(s.id));n[s.id]=o,o&&(r=!0)}return r?new Tge(n):null}static applyUpdate(e,t){let n=!1;for(const r of Tb)if(t.hasOwnProperty(r.name)){const s=r.applyUpdate(e[r.name],t[r.name]);e[r.name]=s.newValue,n=n||s.didChange}return n}}function RNe(i){const e=i.wordWrap;e===!0?i.wordWrap="on":e===!1&&(i.wordWrap="off");const t=i.lineNumbers;t===!0?i.lineNumbers="on":t===!1&&(i.lineNumbers="off"),i.autoClosingBrackets===!1&&(i.autoClosingBrackets="never",i.autoClosingQuotes="never",i.autoSurround="never"),i.cursorBlinking==="visible"&&(i.cursorBlinking="solid");const s=i.renderWhitespace;s===!0?i.renderWhitespace="boundary":s===!1&&(i.renderWhitespace="none");const o=i.renderLineHighlight;o===!0?i.renderLineHighlight="line":o===!1&&(i.renderLineHighlight="none");const a=i.acceptSuggestionOnEnter;a===!0?i.acceptSuggestionOnEnter="on":a===!1&&(i.acceptSuggestionOnEnter="off");const u=i.tabCompletion;u===!1?i.tabCompletion="off":u===!0&&(i.tabCompletion="onlySnippets");const c=i.suggest;if(c&&typeof c.filteredTypes=="object"&&c.filteredTypes){const S={};S.method="showMethods",S.function="showFunctions",S.constructor="showConstructors",S.deprecated="showDeprecated",S.field="showFields",S.variable="showVariables",S.class="showClasses",S.struct="showStructs",S.interface="showInterfaces",S.module="showModules",S.property="showProperties",S.event="showEvents",S.operator="showOperators",S.unit="showUnits",S.value="showValues",S.constant="showConstants",S.enum="showEnums",S.enumMember="showEnumMembers",S.keyword="showKeywords",S.text="showWords",S.color="showColors",S.file="showFiles",S.reference="showReferences",S.folder="showFolders",S.typeParameter="showTypeParameters",S.snippet="showSnippets",kNe(S,x=>{const w=c.filteredTypes[x.key];w===!1&&(c[x.value]=w)})}const h=i.hover;h===!0?i.hover={enabled:!0}:h===!1&&(i.hover={enabled:!1});const f=i.parameterHints;f===!0?i.parameterHints={enabled:!0}:f===!1&&(i.parameterHints={enabled:!1});const p=i.autoIndent;p===!0?i.autoIndent="full":p===!1&&(i.autoIndent="advanced");const m=i.matchBrackets;m===!0?i.matchBrackets="always":m===!1&&(i.matchBrackets="never");const{renderIndentGuides:v,highlightActiveIndentGuide:b}=i;i.guides||(i.guides={}),v!==void 0&&(i.guides.indentation=!!v),b!==void 0&&(i.guides.highlightActiveIndentation=!!b)}function Nie(i){const e=Wp(i);return RNe(e),e}class $X extends Me{constructor(e,t){super(),this._onDidChange=this._register(new ye),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new ye),this.onDidChangeFast=this._onDidChangeFast.event,this._reservedHeight=0,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new Ige,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=Nie(t),this._readOptions=lg.readOptions(this._rawOptions),this._validatedOptions=lg.validateOptions(this._readOptions),this._register(Lm.onDidChangeZoomLevel(n=>this._recomputeOptions())),this._register(AF.onDidChangeTabFocus(n=>this._recomputeOptions()))}observeReferenceElement(e){}updatePixelRatio(){}_recomputeOptions(){const e=this.options,t=this._computeInternalOptions();if(!e)this.options=t;else{const n=lg.checkEquals(e,t);if(n===null)return;this.options=t,this._onDidChangeFast.fire(n),this._onDidChange.fire(n)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const e=this._getEnvConfiguration(),t=oC.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,e.pixelRatio,this.isSimpleWidget),n={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:AF.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return lg.computeOptions(this._validatedOptions,n)}updateOptions(e){if(typeof e>"u")return;const t=Nie(e);lg.applyUpdate(this._rawOptions,t)&&(this._readOptions=lg.readOptions(this._rawOptions),this._validatedOptions=lg.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){const t=$X._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}reserveHeight(e){this._reservedHeight=e,this._recomputeOptions()}}const PNe=Object.freeze({id:"editor",order:5,type:"object",title:C("editorConfigurationTitle","Editor"),scope:5}),FNe=ds.as(Ky.Configuration),OF=Object.assign(Object.assign({},PNe),{properties:{"editor.tabSize":{type:"number",default:va.tabSize,minimum:1,markdownDescription:C("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:va.insertSpaces,markdownDescription:C("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:va.detectIndentation,markdownDescription:C("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:va.trimAutoWhitespace,description:C("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:va.largeFileOptimizations,description:C("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:C("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[C("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),C("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),C("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:C("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[C("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),C("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),C("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:C("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:C("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:C("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:C("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:C("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:C("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:C("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:C("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:C("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:C("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:C("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:C("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:C("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:C("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:C("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[C("wordWrap.off","Lines will never wrap."),C("wordWrap.on","Lines will wrap at the viewport width."),C("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function BNe(i){return typeof i.type<"u"||typeof i.anyOf<"u"}for(const i of Tb){const e=i.schema;if(typeof e<"u")if(BNe(e))OF.properties[`editor.${i.name}`]=e;else for(let t in e)ANe.call(e,t)&&(OF.properties[t]=e[t])}let f5=null;function Mge(){return f5===null&&(f5=Object.create(null),Object.keys(OF.properties).forEach(i=>{f5[i]=!0})),f5}function WNe(i){return Mge()[`editor.${i}`]||!1}function VNe(i){return Mge()[`diffEditor.${i}`]||!1}FNe.registerConfiguration(OF);class Aie{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const n=e.getId();this._keys[n]=e,this._values[n]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}function HNe(){GC.INSTANCE.clearCache()}class GC extends Me{constructor(){super(),this._onDidChange=this._register(new ye),this.onDidChange=this._onDidChange.event,this._cache=new Aie,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new Aie,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const n of e)n.isTrusted||(t=!0,this._cache.remove(n));t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=GC._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new Rj({zoomLevel:dF(),pixelRatio:dM(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,n,r){const s=new vNe(e,t);return n.push(s),r&&r.push(s),s}static _actualReadConfiguration(e){const t=[],n=[],r=this.createRequest("n",0,t,n),s=this.createRequest("",0,t,null),o=this.createRequest(" ",0,t,n),a=this.createRequest("0",0,t,n),u=this.createRequest("1",0,t,n),c=this.createRequest("2",0,t,n),h=this.createRequest("3",0,t,n),f=this.createRequest("4",0,t,n),p=this.createRequest("5",0,t,n),m=this.createRequest("6",0,t,n),v=this.createRequest("7",0,t,n),b=this.createRequest("8",0,t,n),S=this.createRequest("9",0,t,n),x=this.createRequest("",0,t,n),w=this.createRequest("",0,t,null),E=this.createRequest("",0,t,n),N=this.createRequest(String.fromCharCode(11825),0,t,null),A="|/-_ilm%";for(let $=0,I=A.length;$<I;$++)this.createRequest(A.charAt($),0,t,n),this.createRequest(A.charAt($),1,t,n),this.createRequest(A.charAt($),2,t,n);bNe(e,t);const H=Math.max(a.width,u.width,c.width,h.width,f.width,p.width,m.width,v.width,b.width,S.width);let R=e.fontFeatureSettings===Ju.OFF;const M=n[0].width;for(let $=1,I=n.length;R&&$<I;$++){const O=M-n[$].width;if(O<-.001||O>.001){R=!1;break}}let G=!0;R&&w.width!==M&&(G=!1),w.width>x.width&&(G=!1);const X=xfe()>2e3;return new Rj({zoomLevel:dF(),pixelRatio:dM(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:R,typicalHalfwidthCharacterWidth:r.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:G,spaceWidth:o.width,middotWidth:E.width,wsmiddotWidth:N.width,maxDigitWidth:H},X)}}GC.INSTANCE=new GC;let Qa=class Rge extends $X{constructor(e,t,n=null,r){super(e,t),this.accessibilityService=r,this._elementSizeObserver=this._register(new kge(n,t.dimension,()=>this._recomputeOptions())),this._register(GC.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(fX(s=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(Cd?da.fontFamily:null),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily(Cd?da.fontFamily:null)),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}observeReferenceElement(e){this._elementSizeObserver.observe(e)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let e="";return!Cd&&!Lfe&&(e+="no-user-select "),Cd&&(e+="no-minimap-shadow "),Xn&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:Rge._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:t1||Kl,pixelRatio:dM(),zoomLevel:dF(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return GC.INSTANCE.readConfiguration(e)}},Q=class ga{constructor(e,t,n,r){e>n||e===n&&t>r?(this.startLineNumber=n,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=r)}isEmpty(){return ga.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return ga.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return ga.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return ga.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return ga.plusRange(this,e)}static plusRange(e,t){let n,r,s,o;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(s=t.endLineNumber,o=t.endColumn):t.endLineNumber===e.endLineNumber?(s=t.endLineNumber,o=Math.max(t.endColumn,e.endColumn)):(s=e.endLineNumber,o=e.endColumn),new ga(n,r,s,o)}intersectRanges(e){return ga.intersectRanges(this,e)}static intersectRanges(e,t){let n=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn,a=t.startLineNumber,u=t.startColumn,c=t.endLineNumber,h=t.endColumn;return n<a?(n=a,r=u):n===a&&(r=Math.max(r,u)),s>c?(s=c,o=h):s===c&&(o=Math.min(o,h)),n>s||n===s&&r>o?null:new ga(n,r,s,o)}equalsRange(e){return ga.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return ga.getEndPosition(this)}static getEndPosition(e){return new Ee(e.endLineNumber,e.endColumn)}getStartPosition(){return ga.getStartPosition(this)}static getStartPosition(e){return new Ee(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new ga(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new ga(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return ga.collapseToStart(this)}static collapseToStart(e){return new ga(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new ga(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new ga(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const s=e.startLineNumber|0,o=t.startLineNumber|0;if(s===o){const a=e.startColumn|0,u=t.startColumn|0;if(a===u){const c=e.endLineNumber|0,h=t.endLineNumber|0;if(c===h){const f=e.endColumn|0,p=t.endColumn|0;return f-p}return c-h}return a-u}return s-o}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}},xt=class nd extends Q{constructor(e,t,n,r){super(e,t,n,r),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=n,this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return nd.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new nd(this.startLineNumber,this.startColumn,e,t):new nd(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new Ee(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new Ee(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new nd(e,t,this.endLineNumber,this.endColumn):new nd(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new nd(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new nd(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new nd(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new nd(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,n,r,s){return s===0?new nd(e,t,n,r):new nd(n,r,e,t)}};class Pge{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function li(i){return new Pge(i)}function zs(i,e,t){let n=null,r=null;if(typeof t.value=="function"?(n="value",r=t.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(n="get",r=t.get),!r)throw new Error("not supported");const s=`$memoize$${e}`;t[n]=function(...o){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,o)}),this[s]}}var $Ne=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mr;(function(i){i.Tap="-monaco-gesturetap",i.Change="-monaco-gesturechange",i.Start="-monaco-gesturestart",i.End="-monaco-gesturesend",i.Contextmenu="-monaco-gesturecontextmenu"})(mr||(mr={}));class qi extends Me{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(Ze(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(Ze(document,"touchend",e=>this.onTouchEnd(e))),this._register(Ze(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return qi.isTouchDevice()?(qi.INSTANCE||(qi.INSTANCE=new qi),qi.INSTANCE.targets.push(e),{dispose:()=>{qi.INSTANCE.targets=qi.INSTANCE.targets.filter(t=>t!==e)}}):Me.None}static ignoreTarget(e){return qi.isTouchDevice()?(qi.INSTANCE||(qi.INSTANCE=new qi),qi.INSTANCE.ignoreTargets.push(e),{dispose:()=>{qi.INSTANCE.ignoreTargets=qi.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):Me.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,r=e.targetTouches.length;n<r;n++){let s=e.targetTouches.item(n);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:t,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[t],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};let o=this.newGestureEvent(mr.Start,s.target);o.pageX=s.pageX,o.pageY=s.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),n=Object.keys(this.activeTouches).length;for(let r=0,s=e.changedTouches.length;r<s;r++){let o=e.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("move of an UNKNOWN touch",o);continue}let a=this.activeTouches[o.identifier],u=Date.now()-a.initialTimeStamp;if(u<qi.HOLD_DELAY&&Math.abs(a.initialPageX-pc(a.rollingPageX))<30&&Math.abs(a.initialPageY-pc(a.rollingPageY))<30){let c=this.newGestureEvent(mr.Tap,a.initialTarget);c.pageX=pc(a.rollingPageX),c.pageY=pc(a.rollingPageY),this.dispatchEvent(c)}else if(u>=qi.HOLD_DELAY&&Math.abs(a.initialPageX-pc(a.rollingPageX))<30&&Math.abs(a.initialPageY-pc(a.rollingPageY))<30){let c=this.newGestureEvent(mr.Contextmenu,a.initialTarget);c.pageX=pc(a.rollingPageX),c.pageY=pc(a.rollingPageY),this.dispatchEvent(c)}else if(n===1){let c=pc(a.rollingPageX),h=pc(a.rollingPageY),f=pc(a.rollingTimestamps)-a.rollingTimestamps[0],p=c-a.rollingPageX[0],m=h-a.rollingPageY[0];const v=this.targets.filter(b=>a.initialTarget instanceof Node&&b.contains(a.initialTarget));this.inertia(v,t,Math.abs(p)/f,p>0?1:-1,c,Math.abs(m)/f,m>0?1:-1,h)}this.dispatchEvent(this.newGestureEvent(mr.End,a.initialTarget)),delete this.activeTouches[o.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),n.initialTarget=t,n.tapCount=0,n}dispatchEvent(e){if(e.type===mr.Tap){const t=new Date().getTime();let n=0;t-this._lastSetTapCountTime>qi.CLEAR_TAP_COUNT_TIME?n=1:n=2,this._lastSetTapCountTime=t,e.tapCount=n}else(e.type===mr.Change||e.type===mr.Contextmenu)&&(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,n,r,s,o,a,u){this.handle=jg(()=>{let c=Date.now(),h=c-t,f=0,p=0,m=!0;n+=qi.SCROLL_FRICTION*h,o+=qi.SCROLL_FRICTION*h,n>0&&(m=!1,f=r*n*h),o>0&&(m=!1,p=a*o*h);let v=this.newGestureEvent(mr.Change);v.translationX=f,v.translationY=p,e.forEach(b=>b.dispatchEvent(v)),m||this.inertia(e,c,n,r,s+f,o,a,u+p)})}onTouchMove(e){let t=Date.now();for(let n=0,r=e.changedTouches.length;n<r;n++){let s=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}let o=this.activeTouches[s.identifier],a=this.newGestureEvent(mr.Change,o.initialTarget);a.translationX=s.pageX-pc(o.rollingPageX),a.translationY=s.pageY-pc(o.rollingPageY),a.pageX=s.pageX,a.pageY=s.pageY,this.dispatchEvent(a),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(s.pageX),o.rollingPageY.push(s.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}qi.SCROLL_FRICTION=-.005;qi.HOLD_DELAY=700;qi.CLEAR_TAP_COUNT_TIME=400;$Ne([zs],qi,"isTouchDevice",null);function IE(i,e){let t=new Lc(e);return t.preventDefault(),{leftButton:t.leftButton,buttons:t.buttons,posx:t.posx,posy:t.posy}}class qy{constructor(){this._hooks=new tt,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const n=this._onStopCallback;this._onStopCallback=null,e&&n&&n(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,n,r,s){if(this.isMonitoring())return;this._mouseMoveEventMerger=n,this._mouseMoveCallback=r,this._onStopCallback=s;const o=Cj.getSameOriginWindowChain(),a=zg?"pointermove":"mousemove",u="mouseup",c=o.map(f=>f.window.document),h=w1(e);h&&c.unshift(h);for(const f of c)this._hooks.add(SX(f,a,p=>{if(p.buttons!==t){this.stopMonitoring(!0);return}this._mouseMoveCallback(p)},(p,m)=>this._mouseMoveEventMerger(p,m))),this._hooks.add(Ze(f,u,p=>this.stopMonitoring(!0)));if(Cj.hasDifferentOriginAncestor()){let f=o[o.length-1];this._hooks.add(Ze(f.window.document,"mouseout",p=>{new Lc(p).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(Ze(f.window.document,"mouseover",p=>{new Lc(p).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(Ze(f.window.document.body,"mouseleave",p=>{this.stopMonitoring(!0)}))}}}function i1(i,e){const t=Math.pow(10,e);return Math.round(i*t)/t}class bi{constructor(e,t,n,r=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,n))|0,this.a=i1(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class hf{constructor(e,t,n,r){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=i1(Math.max(Math.min(1,t),0),3),this.l=i1(Math.max(Math.min(1,n),0),3),this.a=i1(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=e.a,o=Math.max(t,n,r),a=Math.min(t,n,r);let u=0,c=0;const h=(a+o)/2,f=o-a;if(f>0){switch(c=Math.min(h<=.5?f/(2*h):f/(2-2*h),1),o){case t:u=(n-r)/f+(n<r?6:0);break;case n:u=(r-t)/f+2;break;case r:u=(t-n)/f+4;break}u*=60,u=Math.round(u)}return new hf(u,c,h,s)}static _hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}static toRGBA(e){const t=e.h/360,{s:n,l:r,a:s}=e;let o,a,u;if(n===0)o=a=u=r;else{const c=r<.5?r*(1+n):r+n-r*n,h=2*r-c;o=hf._hue2rgb(h,c,t+1/3),a=hf._hue2rgb(h,c,t),u=hf._hue2rgb(h,c,t-1/3)}return new bi(Math.round(o*255),Math.round(a*255),Math.round(u*255),s)}}class Mg{constructor(e,t,n,r){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=i1(Math.max(Math.min(1,t),0),3),this.v=i1(Math.max(Math.min(1,n),0),3),this.a=i1(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(t,n,r),o=Math.min(t,n,r),a=s-o,u=s===0?0:a/s;let c;return a===0?c=0:s===t?c=((n-r)/a%6+6)%6:s===n?c=(r-t)/a+2:c=(t-n)/a+4,new Mg(Math.round(c*60),u,s,e.a)}static toRGBA(e){const{h:t,s:n,v:r,a:s}=e,o=r*n,a=o*(1-Math.abs(t/60%2-1)),u=r-o;let[c,h,f]=[0,0,0];return t<60?(c=o,h=a):t<120?(c=a,h=o):t<180?(h=o,f=a):t<240?(h=a,f=o):t<300?(c=a,f=o):t<=360&&(c=o,f=a),c=Math.round((c+u)*255),h=Math.round((h+u)*255),f=Math.round((f+u)*255),new bi(c,h,f,s)}}class Se{constructor(e){if(e)if(e instanceof bi)this.rgba=e;else if(e instanceof hf)this._hsla=e,this.rgba=hf.toRGBA(e);else if(e instanceof Mg)this._hsva=e,this.rgba=Mg.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(e){return Se.Format.CSS.parseHex(e)||Se.red}get hsla(){return this._hsla?this._hsla:hf.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Mg.fromRGBA(this.rgba)}equals(e){return!!e&&bi.equals(this.rgba,e.rgba)&&hf.equals(this.hsla,e.hsla)&&Mg.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=Se._relativeLuminanceForComponent(this.rgba.r),t=Se._relativeLuminanceForComponent(this.rgba.g),n=Se._relativeLuminanceForComponent(this.rgba.b),r=.2126*e+.7152*t+.0722*n;return i1(r,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t>n}isDarkerThan(e){const t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t<n}lighten(e){return new Se(new hf(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new Se(new hf(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:n,b:r,a:s}=this.rgba;return new Se(new bi(t,n,r,s*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new Se(new bi(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=Se.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return n=n*(s-r)/s,e.lighten(n)}static getDarkerColor(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;const r=e.getRelativeLuminance(),s=t.getRelativeLuminance();return n=n*(r-s)/r,e.darken(n)}}Se.white=new Se(new bi(255,255,255,1));Se.black=new Se(new bi(0,0,0,1));Se.red=new Se(new bi(255,0,0,1));Se.blue=new Se(new bi(0,0,255,1));Se.cyan=new Se(new bi(0,255,255,1));Se.lightgrey=new Se(new bi(211,211,211,1));Se.transparent=new Se(new bi(0,0,0,0));(function(i){(function(e){(function(t){function n(m){return m.rgba.a===1?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:i.Format.CSS.formatRGBA(m)}t.formatRGB=n;function r(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`}t.formatRGBA=r;function s(m){return m.hsla.a===1?`hsl(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%)`:i.Format.CSS.formatHSLA(m)}t.formatHSL=s;function o(m){return`hsla(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`}t.formatHSLA=o;function a(m){const v=m.toString(16);return v.length!==2?"0"+v:v}function u(m){return`#${a(m.rgba.r)}${a(m.rgba.g)}${a(m.rgba.b)}`}t.formatHex=u;function c(m,v=!1){return v&&m.rgba.a===1?i.Format.CSS.formatHex(m):`#${a(m.rgba.r)}${a(m.rgba.g)}${a(m.rgba.b)}${a(Math.round(m.rgba.a*255))}`}t.formatHexA=c;function h(m){return m.isOpaque()?i.Format.CSS.formatHex(m):i.Format.CSS.formatRGBA(m)}t.format=h;function f(m){const v=m.length;if(v===0||m.charCodeAt(0)!==35)return null;if(v===7){const b=16*p(m.charCodeAt(1))+p(m.charCodeAt(2)),S=16*p(m.charCodeAt(3))+p(m.charCodeAt(4)),x=16*p(m.charCodeAt(5))+p(m.charCodeAt(6));return new i(new bi(b,S,x,1))}if(v===9){const b=16*p(m.charCodeAt(1))+p(m.charCodeAt(2)),S=16*p(m.charCodeAt(3))+p(m.charCodeAt(4)),x=16*p(m.charCodeAt(5))+p(m.charCodeAt(6)),w=16*p(m.charCodeAt(7))+p(m.charCodeAt(8));return new i(new bi(b,S,x,w/255))}if(v===4){const b=p(m.charCodeAt(1)),S=p(m.charCodeAt(2)),x=p(m.charCodeAt(3));return new i(new bi(16*b+b,16*S+S,16*x+x))}if(v===5){const b=p(m.charCodeAt(1)),S=p(m.charCodeAt(2)),x=p(m.charCodeAt(3)),w=p(m.charCodeAt(4));return new i(new bi(16*b+b,16*S+S,16*x+x,(16*w+w)/255))}return null}t.parseHex=f;function p(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(i.Format||(i.Format={}))})(Se||(Se={}));function Fge(i){return`--vscode-${i.replace(".","-")}`}const Bge={ColorContribution:"base.contributions.colors"};class zNe{constructor(){this._onDidChangeSchema=new ye,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,n,r=!1,s){let o={id:e,description:n,defaults:t,needsTransparency:r,deprecationMessage:s};this.colorsById[e]=o;let a={type:"string",description:n,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return s&&(a.deprecationMessage=s),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(n),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const n=this.colorsById[e];if(n&&n.defaults){const r=n.defaults[t.type];return Op(r,t)}}getColorSchema(){return this.colorSchema}toString(){let e=(t,n)=>{let r=t.indexOf(".")===-1?0:1,s=n.indexOf(".")===-1?0:1;return r!==s?r-s:t.localeCompare(n)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const wB=new zNe;ds.add(Bge.ColorContribution,wB);function we(i,e,t,n,r){return wB.registerColor(i,e,t,n,r)}const Kt=we("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},C("foreground","Overall foreground color. This color is only used if not overridden by a component.")),UNe=we("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},C("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),EH=we("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},C("iconForeground","The default color for icons in the workbench.")),YC=we("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},C("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Ds=we("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},C("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Sl=we("contrastActiveBorder",{light:null,dark:null,hc:YC},C("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),SB=we("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},C("textLinkForeground","Foreground color for links in text.")),xB=we("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},C("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),Wge=we("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:Se.black},C("textCodeBlockBackground","Background color for code blocks in text.")),L1=we("widget.shadow",{dark:ur(Se.black,.36),light:ur(Se.black,.16),hc:null},C("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),zX=we("input.background",{dark:"#3C3C3C",light:Se.white,hc:Se.black},C("inputBoxBackground","Input box background.")),UX=we("input.foreground",{dark:Kt,light:Kt,hc:Kt},C("inputBoxForeground","Input box foreground.")),jX=we("input.border",{dark:null,light:null,hc:Ds},C("inputBoxBorder","Input box border.")),Pj=we("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:Ds},C("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Fj=we("inputOption.activeBackground",{dark:ur(YC,.4),light:ur(YC,.2),hc:Se.transparent},C("inputOption.activeBackground","Background hover color of options in input fields.")),Bj=we("inputOption.activeForeground",{dark:Se.white,light:Se.black,hc:null},C("inputOption.activeForeground","Foreground color of activated options in input fields.")),Vge=we("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:Se.black},C("inputValidationInfoBackground","Input validation background color for information severity.")),Hge=we("inputValidation.infoForeground",{dark:null,light:null,hc:null},C("inputValidationInfoForeground","Input validation foreground color for information severity.")),$ge=we("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Ds},C("inputValidationInfoBorder","Input validation border color for information severity.")),zge=we("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:Se.black},C("inputValidationWarningBackground","Input validation background color for warning severity.")),Uge=we("inputValidation.warningForeground",{dark:null,light:null,hc:null},C("inputValidationWarningForeground","Input validation foreground color for warning severity.")),jge=we("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Ds},C("inputValidationWarningBorder","Input validation border color for warning severity.")),Kge=we("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:Se.black},C("inputValidationErrorBackground","Input validation background color for error severity.")),qge=we("inputValidation.errorForeground",{dark:null,light:null,hc:null},C("inputValidationErrorForeground","Input validation foreground color for error severity.")),Gge=we("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Ds},C("inputValidationErrorBorder","Input validation border color for error severity.")),LH=we("dropdown.background",{dark:"#3C3C3C",light:Se.white,hc:Se.black},C("dropdownBackground","Dropdown background.")),Oie=we("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:Se.white},C("dropdownForeground","Dropdown foreground.")),jNe=we("button.foreground",{dark:Se.white,light:Se.white,hc:Se.white},C("buttonForeground","Button foreground color.")),Wj=we("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},C("buttonBackground","Button background color.")),KNe=we("button.hoverBackground",{dark:tpe(Wj,.2),light:epe(Wj,.2),hc:null},C("buttonHoverBackground","Button background color when hovering.")),vO=we("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:Se.black},C("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),bO=we("badge.foreground",{dark:Se.white,light:"#333",hc:Se.white},C("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),kE=we("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},C("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),BS=we("scrollbarSlider.background",{dark:Se.fromHex("#797979").transparent(.4),light:Se.fromHex("#646464").transparent(.4),hc:ur(Ds,.6)},C("scrollbarSliderBackground","Scrollbar slider background color.")),WS=we("scrollbarSlider.hoverBackground",{dark:Se.fromHex("#646464").transparent(.7),light:Se.fromHex("#646464").transparent(.7),hc:ur(Ds,.8)},C("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),VS=we("scrollbarSlider.activeBackground",{dark:Se.fromHex("#BFBFBF").transparent(.4),light:Se.fromHex("#000000").transparent(.6),hc:Ds},C("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),qNe=we("progressBar.background",{dark:Se.fromHex("#0E70C0"),light:Se.fromHex("#0E70C0"),hc:Ds},C("progressBarBackground","Background color of the progress bar that can show for long running operations.")),GNe=we("editorError.background",{dark:null,light:null,hc:null},C("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),CO=we("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},C("editorError.foreground","Foreground color of error squigglies in the editor.")),Yge=we("editorError.border",{dark:null,light:null,hc:Se.fromHex("#E47777").transparent(.8)},C("errorBorder","Border color of error boxes in the editor.")),YNe=we("editorWarning.background",{dark:null,light:null,hc:null},C("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),dm=we("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},C("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),EB=we("editorWarning.border",{dark:null,light:null,hc:Se.fromHex("#FFCC00").transparent(.8)},C("warningBorder","Border color of warning boxes in the editor.")),ZNe=we("editorInfo.background",{dark:null,light:null,hc:null},C("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),kf=we("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},C("editorInfo.foreground","Foreground color of info squigglies in the editor.")),KX=we("editorInfo.border",{dark:null,light:null,hc:Se.fromHex("#3794FF").transparent(.8)},C("infoBorder","Border color of info boxes in the editor.")),XNe=we("editorHint.foreground",{dark:Se.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},C("editorHint.foreground","Foreground color of hint squigglies in the editor.")),QNe=we("editorHint.border",{dark:null,light:null,hc:Se.fromHex("#eeeeee").transparent(.8)},C("hintBorder","Border color of hint boxes in the editor.")),Ac=we("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:Se.black},C("editorBackground","Editor background color.")),qP=we("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:Se.white},C("editorForeground","Editor default foreground color.")),Nf=we("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},C("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),hm=we("editorWidget.foreground",{dark:Kt,light:Kt,hc:Kt},C("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),$6=we("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Ds},C("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),JNe=we("editorWidget.resizeBorder",{light:null,dark:null,hc:null},C("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Mie=we("quickInput.background",{dark:Nf,light:Nf,hc:Nf},C("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),eAe=we("quickInput.foreground",{dark:hm,light:hm,hc:hm},C("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),tAe=we("quickInputTitle.background",{dark:new Se(new bi(255,255,255,.105)),light:new Se(new bi(0,0,0,.06)),hc:"#000000"},C("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),nAe=we("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:Se.white},C("pickerGroupForeground","Quick picker color for grouping labels.")),iAe=we("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:Se.white},C("pickerGroupBorder","Quick picker color for grouping borders.")),rAe=we("keybindingLabel.background",{dark:new Se(new bi(128,128,128,.17)),light:new Se(new bi(221,221,221,.4)),hc:Se.transparent},C("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),sAe=we("keybindingLabel.foreground",{dark:Se.fromHex("#CCCCCC"),light:Se.fromHex("#555555"),hc:Se.white},C("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),oAe=we("keybindingLabel.border",{dark:new Se(new bi(51,51,51,.6)),light:new Se(new bi(204,204,204,.4)),hc:new Se(new bi(111,195,223))},C("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),aAe=we("keybindingLabel.bottomBorder",{dark:new Se(new bi(68,68,68,.6)),light:new Se(new bi(187,187,187,.4)),hc:new Se(new bi(111,195,223))},C("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),r1=we("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},C("editorSelectionBackground","Color of the editor selection.")),lAe=we("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},C("editorSelectionForeground","Color of the selected text for high contrast.")),qX=we("editor.inactiveSelectionBackground",{light:ur(r1,.5),dark:ur(r1,.5),hc:ur(r1,.5)},C("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),GX=we("editor.selectionHighlightBackground",{light:Fie(r1,Ac,.3,.6),dark:Fie(r1,Ac,.3,.6),hc:null},C("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),uAe=we("editor.selectionHighlightBorder",{light:null,dark:null,hc:Sl},C("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),cAe=we("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},C("editorFindMatch","Color of the current search match.")),Vj=we("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},C("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),dAe=we("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},C("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),hAe=we("editor.findMatchBorder",{light:null,dark:null,hc:Sl},C("editorFindMatchBorder","Border color of the current search match.")),fAe=we("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Sl},C("findMatchHighlightBorder","Border color of the other search matches.")),gAe=we("editor.findRangeHighlightBorder",{dark:null,light:null,hc:ur(Sl,.4)},C("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),pAe=we("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},C("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),ZC=we("editorHoverWidget.background",{light:Nf,dark:Nf,hc:Nf},C("hoverBackground","Background color of the editor hover.")),YX=we("editorHoverWidget.foreground",{light:hm,dark:hm,hc:hm},C("hoverForeground","Foreground color of the editor hover.")),ZX=we("editorHoverWidget.border",{light:$6,dark:$6,hc:$6},C("hoverBorder","Border color of the editor hover.")),mAe=we("editorHoverWidget.statusBarBackground",{dark:tpe(ZC,.2),light:epe(ZC,.05),hc:Nf},C("statusBarBackground","Background color of the editor hover status bar.")),Zge=we("editorLink.activeForeground",{dark:"#4E94CE",light:Se.blue,hc:Se.cyan},C("activeLinkForeground","Color of active links.")),aC=we("editorInlayHint.foreground",{dark:ur(bO,.8),light:ur(bO,.8),hc:bO},C("editorInlayHintForeground","Foreground color of inline hints")),lC=we("editorInlayHint.background",{dark:ur(vO,.6),light:ur(vO,.3),hc:vO},C("editorInlayHintBackground","Background color of inline hints")),_Ae=we("editorInlayHint.typeForeground",{dark:aC,light:aC,hc:aC},C("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),vAe=we("editorInlayHint.typeBackground",{dark:lC,light:lC,hc:lC},C("editorInlayHintBackgroundTypes","Background color of inline hints for types")),bAe=we("editorInlayHint.parameterForeground",{dark:aC,light:aC,hc:aC},C("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),CAe=we("editorInlayHint.parameterBackground",{dark:lC,light:lC,hc:lC},C("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),yAe=we("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},C("editorLightBulbForeground","The color used for the lightbulb actions icon.")),wAe=we("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},C("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Hj=new Se(new bi(155,185,85,.2)),$j=new Se(new bi(255,0,0,.2)),Xge=we("diffEditor.insertedTextBackground",{dark:Hj,light:Hj,hc:null},C("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Qge=we("diffEditor.removedTextBackground",{dark:$j,light:$j,hc:null},C("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),SAe=we("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},C("diffEditorInsertedOutline","Outline color for the text that got inserted.")),xAe=we("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},C("diffEditorRemovedOutline","Outline color for text that got removed.")),EAe=we("diffEditor.border",{dark:null,light:null,hc:Ds},C("diffEditorBorder","Border color between the two text editors.")),LAe=we("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},C("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),DAe=we("list.focusBackground",{dark:null,light:null,hc:null},C("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),TAe=we("list.focusForeground",{dark:null,light:null,hc:null},C("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),IAe=we("list.focusOutline",{dark:YC,light:YC,hc:Sl},C("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),uC=we("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},C("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),s1=we("list.activeSelectionForeground",{dark:Se.white,light:Se.white,hc:null},C("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),z6=we("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},C("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),kAe=we("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},C("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),NAe=we("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},C("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),AAe=we("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},C("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),OAe=we("list.inactiveFocusBackground",{dark:null,light:null,hc:null},C("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),MAe=we("list.inactiveFocusOutline",{dark:null,light:null,hc:null},C("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),RAe=we("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},C("listHoverBackground","List/Tree background when hovering over items using the mouse.")),PAe=we("list.hoverForeground",{dark:null,light:null,hc:null},C("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),FAe=we("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},C("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),DH=we("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:YC},C("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),BAe=we("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:Se.black},C("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),WAe=we("listFilterWidget.outline",{dark:Se.transparent,light:Se.transparent,hc:"#f38518"},C("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),VAe=we("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Ds},C("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),HAe=we("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},C("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),$Ae=we("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},C("tableColumnsBorder","Table border color between columns.")),zAe=we("tree.tableOddRowsBackground",{dark:ur(Kt,.04),light:ur(Kt,.04),hc:null},C("tableOddRowsBackgroundColor","Background color for odd table rows.")),Rie=we("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,C("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),UAe=we("quickInputList.focusForeground",{dark:s1,light:s1,hc:s1},C("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),jAe=we("quickInputList.focusIconForeground",{dark:z6,light:z6,hc:z6},C("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),U6=we("quickInputList.focusBackground",{dark:bM(Rie,uC),light:bM(Rie,uC),hc:null},C("quickInput.listFocusBackground","Quick picker background color for the focused item.")),KAe=we("menu.border",{dark:null,light:null,hc:Ds},C("menuBorder","Border color of menus.")),qAe=we("menu.foreground",{dark:Oie,light:Kt,hc:Oie},C("menuForeground","Foreground color of menu items.")),GAe=we("menu.background",{dark:LH,light:LH,hc:LH},C("menuBackground","Background color of menu items.")),YAe=we("menu.selectionForeground",{dark:s1,light:s1,hc:s1},C("menuSelectionForeground","Foreground color of the selected menu item in menus.")),ZAe=we("menu.selectionBackground",{dark:uC,light:uC,hc:uC},C("menuSelectionBackground","Background color of the selected menu item in menus.")),XAe=we("menu.selectionBorder",{dark:null,light:null,hc:Sl},C("menuSelectionBorder","Border color of the selected menu item in menus.")),QAe=we("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Ds},C("menuSeparatorBackground","Color of a separator menu item in menus.")),JAe=we("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},C("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),LB=we("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},C("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Jge=we("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},C("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),eOe=we("editorOverviewRuler.unicodeForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},C("overviewRulerUnicodeForeground","Overview ruler marker color for highlighted unicode characters. The color must not be opaque so as not to hide underlying decorations."),!0),XX=we("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},C("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),DB=we("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},C("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Pie=we("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},C("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),tOe=we("minimap.errorHighlight",{dark:new Se(new bi(255,18,18,.7)),light:new Se(new bi(255,18,18,.7)),hc:new Se(new bi(255,50,50,1))},C("minimapError","Minimap marker color for errors.")),nOe=we("minimap.warningHighlight",{dark:dm,light:dm,hc:EB},C("overviewRuleWarning","Minimap marker color for warnings.")),iOe=we("minimap.background",{dark:null,light:null,hc:null},C("minimapBackground","Minimap background color.")),rOe=we("minimap.foregroundOpacity",{dark:Se.fromHex("#000f"),light:Se.fromHex("#000f"),hc:Se.fromHex("#000f")},C("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),sOe=we("minimap.unicodeHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},C("minimapUnicodeHighlight","Minimap marker color for highlighted unicode characters.")),oOe=we("minimapSlider.background",{light:ur(BS,.5),dark:ur(BS,.5),hc:ur(BS,.5)},C("minimapSliderBackground","Minimap slider background color.")),aOe=we("minimapSlider.hoverBackground",{light:ur(WS,.5),dark:ur(WS,.5),hc:ur(WS,.5)},C("minimapSliderHoverBackground","Minimap slider background color when hovering.")),lOe=we("minimapSlider.activeBackground",{light:ur(VS,.5),dark:ur(VS,.5),hc:ur(VS,.5)},C("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),uOe=we("problemsErrorIcon.foreground",{dark:CO,light:CO,hc:CO},C("problemsErrorIconForeground","The color used for the problems error icon.")),cOe=we("problemsWarningIcon.foreground",{dark:dm,light:dm,hc:dm},C("problemsWarningIconForeground","The color used for the problems warning icon.")),dOe=we("problemsInfoIcon.foreground",{dark:kf,light:kf,hc:kf},C("problemsInfoIconForeground","The color used for the problems info icon."));function hOe(i,e){var t,n,r;switch(i.op){case 0:return(t=Op(i.value,e))===null||t===void 0?void 0:t.darken(i.factor);case 1:return(n=Op(i.value,e))===null||n===void 0?void 0:n.lighten(i.factor);case 2:return(r=Op(i.value,e))===null||r===void 0?void 0:r.transparent(i.factor);case 3:for(const a of i.values){const u=Op(a,e);if(u)return u}return;case 5:return Op(e.defines(i.if)?i.then:i.else,e);case 4:const s=Op(i.value,e);if(!s)return;const o=Op(i.background,e);return o?s.isDarkerThan(o)?Se.getLighterColor(s,o,i.factor).transparent(i.transparency):Se.getDarkerColor(s,o,i.factor).transparent(i.transparency):s.transparent(i.factor*i.transparency);default:throw ege()}}function epe(i,e){return{op:0,value:i,factor:e}}function tpe(i,e){return{op:1,value:i,factor:e}}function ur(i,e){return{op:2,value:i,factor:e}}function bM(...i){return{op:3,values:i}}function Fie(i,e,t,n){return{op:4,value:i,background:e,factor:t,transparency:n}}function Op(i,e){if(i!==null){if(typeof i=="string")return i[0]==="#"?Se.fromHex(i):e.getColor(i);if(i instanceof Se)return i;if(typeof i=="object")return hOe(i,e)}}const npe="vscode://schemas/workbench-colors";let ipe=ds.as(yB.JSONContribution);ipe.registerSchema(npe,wB.getColorSchema());const Bie=new lr(()=>ipe.notifySchemaChanged(npe),200);wB.onDidChangeSchema(()=>{Bie.isScheduled()||Bie.schedule()});class QX{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new rpe(this.x-lm.scrollX,this.y-lm.scrollY)}}class rpe{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new QX(this.clientX+lm.scrollX,this.clientY+lm.scrollY)}}class fOe{constructor(e,t,n,r){this.x=e,this.y=t,this.width=n,this.height=r,this._editorPagePositionBrand=void 0}}function spe(i){const e=ca(i);return new fOe(e.left,e.top,e.width,e.height)}class XC extends Lc{constructor(e,t){super(e),this._editorMouseEventBrand=void 0,this.pos=new QX(this.posx,this.posy),this.editorPos=spe(t)}}class gOe{constructor(e){this._editorViewDomNode=e}_create(e){return new XC(e,this._editorViewDomNode)}onContextMenu(e,t){return Ze(e,"contextmenu",n=>{t(this._create(n))})}onMouseUp(e,t){return Ze(e,"mouseup",n=>{t(this._create(n))})}onMouseDown(e,t){return Ze(e,"mousedown",n=>{t(this._create(n))})}onMouseLeave(e,t){return wX(e,n=>{t(this._create(n))})}onMouseMoveThrottled(e,t,n,r){return SX(e,"mousemove",t,(o,a)=>n(o,this._create(a)),r)}}class pOe{constructor(e){this._editorViewDomNode=e}_create(e){return new XC(e,this._editorViewDomNode)}onPointerUp(e,t){return Ze(e,"pointerup",n=>{t(this._create(n))})}onPointerDown(e,t){return Ze(e,"pointerdown",n=>{t(this._create(n))})}onPointerLeave(e,t){return bIe(e,n=>{t(this._create(n))})}onPointerMoveThrottled(e,t,n,r){return SX(e,"pointermove",t,(o,a)=>n(o,this._create(a)),r)}}class mOe extends Me{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new qy),this._keydownListener=null}startMonitoring(e,t,n,r,s){this._keydownListener=vo(document,"keydown",a=>{a.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,a.browserEvent)},!0);const o=(a,u)=>n(a,new XC(u,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(e,t,o,r,a=>{this._keydownListener.dispose(),s(a)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class ope{constructor(e){this._editor=e,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new lr(()=>this.garbageCollect(),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let n=this._rules.get(t);if(!n){const r=this._counter++;n=new _Oe(t,`dyn-rule-${r}`,lB(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,n)}return n}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}class _Oe{constructor(e,t,n,r){this.key=e,this.className=t,this.properties=r,this._referenceCount=0,this._styleElement=Pc(n),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let n=`.${e} {`;for(const r in t){const s=t[r];let o;typeof s=="object"?o=`var(${Fge(s.id)})`:o=s;const a=vOe(r);n+=`
	${a}: ${o};`}return n+=`
}`,n}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function vOe(i){return i.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}class GP extends Me{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let n=0,r=e.length;n<r;n++){let s=e[n];switch(s.type){case 0:this.onCompositionStart(s)&&(t=!0);break;case 1:this.onCompositionEnd(s)&&(t=!0);break;case 2:this.onConfigurationChanged(s)&&(t=!0);break;case 3:this.onCursorStateChanged(s)&&(t=!0);break;case 4:this.onDecorationsChanged(s)&&(t=!0);break;case 5:this.onFlushed(s)&&(t=!0);break;case 6:this.onFocusChanged(s)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(s)&&(t=!0);break;case 8:this.onLineMappingChanged(s)&&(t=!0);break;case 9:this.onLinesChanged(s)&&(t=!0);break;case 10:this.onLinesDeleted(s)&&(t=!0);break;case 11:this.onLinesInserted(s)&&(t=!0);break;case 12:this.onRevealRangeRequest(s)&&(t=!0);break;case 13:this.onScrollChanged(s)&&(t=!0);break;case 15:this.onTokensChanged(s)&&(t=!0);break;case 14:this.onThemeChanged(s)&&(t=!0);break;case 16:this.onTokensColorsChanged(s)&&(t=!0);break;case 17:this.onZonesChanged(s)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(s)}}t&&(this._shouldRender=!0)}}class jc extends GP{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Gg{static write(e,t){e instanceof Pge,e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){let n=[],r=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n[r++]=this.read(e)),e=e.parentElement;const s=new Uint8Array(r);for(let o=0;o<r;o++)s[o]=n[r-o-1];return s}}class bOe{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class COe extends bOe{constructor(e,t,n){super(e,t),this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class yOe{constructor(e,t,n){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=n}}class TB{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let n=0,r=e.length;n<r;n++){const s=e[n];t[n]=new TB(s.left,s.width)}return t}toString(){return`[${this.left},${this.width}]`}}class HS{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class wOe{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class SOe{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class TH{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,n,r,s){const o=this._createRange();try{return o.setStart(e,t),o.setEnd(n,r),o.getClientRects()}catch{return null}finally{this._detachRange(o,s)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(HS.compare);let t=[],n=0,r=e[0];for(let s=1,o=e.length;s<o;s++){const a=e[s];r.left+r.width+.9>=a.left?r.width=Math.max(r.width,a.left+a.width-r.left):(t[n++]=r,r=a)}return t[n++]=r,t}static _createHorizontalRangesFromClientRects(e,t){if(!e||e.length===0)return null;const n=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];n[r]=new HS(Math.max(0,o.left-t),o.width)}return this._mergeAdjacentRanges(n)}static readHorizontalRanges(e,t,n,r,s,o,a){const c=e.children.length-1;if(0>c)return null;if(t=Math.min(c,Math.max(0,t)),r=Math.min(c,Math.max(0,r)),t===r&&n===s&&n===0&&!e.children[t].firstChild){const m=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(m,o)}t!==r&&r>0&&s===0&&(r--,s=1073741824);let h=e.children[t].firstChild,f=e.children[r].firstChild;if((!h||!f)&&(!h&&n===0&&t>0&&(h=e.children[t-1].firstChild,n=1073741824),!f&&s===0&&r>0&&(f=e.children[r-1].firstChild,s=1073741824)),!h||!f)return null;n=Math.min(h.textContent.length,Math.max(0,n)),s=Math.min(f.textContent.length,Math.max(0,s));const p=this._readClientRects(h,n,f,s,a);return this._createHorizontalRangesFromClientRects(p,o)}}class ic{constructor(e,t,n,r){this.startColumn=e,this.endColumn=t,this.className=n,this.type=r,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const n=e.length,r=t.length;if(n!==r)return!1;for(let s=0;s<n;s++)if(!ic._equals(e[s],t[s]))return!1;return!0}static extractWrapped(e,t,n){if(e.length===0)return e;const r=t+1,s=n+1,o=n-t,a=[];let u=0;for(const c of e)c.endColumn<=r||c.startColumn>=s||(a[u++]=new ic(Math.max(1,c.startColumn-r+1),Math.min(o+1,c.endColumn-r+1),c.className,c.type));return a}static filter(e,t,n,r){if(e.length===0)return[];let s=[],o=0;for(let a=0,u=e.length;a<u;a++){const c=e[a],h=c.range;if(h.endLineNumber<t||h.startLineNumber>t||h.isEmpty()&&(c.type===0||c.type===3))continue;const f=h.startLineNumber===t?h.startColumn:n,p=h.endLineNumber===t?h.endColumn:r;s[o++]=new ic(f,p,c.inlineClassName,c.type)}return s}static _typeCompare(e,t){const n=[2,0,1,3];return n[e]-n[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const n=ic._typeCompare(e.type,t.type);return n!==0?n:e.className!==t.className?e.className<t.className?-1:1:0}}class Wie{constructor(e,t,n,r){this.startOffset=e,this.endOffset=t,this.className=n,this.metadata=r}}let xOe=class zj{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let n=0,r=e.length;n<r;n++)t|=e[n];return t}consumeLowerThan(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){let r=0;for(;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;n.push(new Wie(t,this.stopOffsets[r],this.classNames.join(" "),zj._metadata(this.metadata))),t=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&t<e&&(n.push(new Wie(t,e-1,this.classNames.join(" "),zj._metadata(this.metadata))),t=e),t}insert(e,t,n){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(n);else for(let r=0;r<this.count;r++)if(this.stopOffsets[r]>=e){this.stopOffsets.splice(r,0,e),this.classNames.splice(r,0,t),this.metadata.splice(r,0,n);break}this.count++}};class EOe{static normalize(e,t){if(t.length===0)return[];let n=[];const r=new xOe;let s=0;for(let o=0,a=t.length;o<a;o++){const u=t[o];let c=u.startColumn,h=u.endColumn;const f=u.className,p=u.type===1?2:u.type===2?4:0;if(c>1){const b=e.charCodeAt(c-2);no(b)&&c--}if(h>1){const b=e.charCodeAt(h-2);no(b)&&h--}const m=c-1,v=h-2;s=r.consumeLowerThan(m,s,n),r.count===0&&(s=m),r.insert(v,f,p)}return r.consumeLowerThan(1073741824,s,n),n}}const Vie=typeof Buffer<"u";let IH;class IB{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return Vie&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new IB(e)}toString(){return Vie?this.buffer.toString():(IH||(IH=new TextDecoder),IH.decode(this.buffer))}}function LOe(i,e){return i[e+0]<<0>>>0|i[e+1]<<8>>>0}function DOe(i,e,t){i[t+0]=e&255,e=e>>>8,i[t+1]=e&255}function Xh(i,e){return i[e]*Math.pow(2,24)+i[e+1]*Math.pow(2,16)+i[e+2]*Math.pow(2,8)+i[e+3]}function Qh(i,e,t){i[t+3]=e,e=e>>>8,i[t+2]=e,e=e>>>8,i[t+1]=e,e=e>>>8,i[t]=e}function Hie(i,e){return i[e]}function $ie(i,e,t){i[t]=e}let kH;function ape(){return kH||(kH=new TextDecoder("UTF-16LE")),kH}let NH;function TOe(){return NH||(NH=new TextDecoder("UTF-16BE")),NH}let AH;function lpe(){return AH||(AH=Sfe()?ape():TOe()),AH}const upe=typeof TextDecoder<"u";let QC,Uj;upe?(QC=i=>new kOe(i),Uj=IOe):(QC=i=>new NOe,Uj=cpe);function IOe(i,e,t){const n=new Uint16Array(i.buffer,e,t);return t>0&&(n[0]===65279||n[0]===65534)?cpe(i,e,t):ape().decode(n)}function cpe(i,e,t){let n=[],r=0;for(let s=0;s<t;s++){const o=LOe(i,e);e+=2,n[r++]=String.fromCharCode(o)}return n.join("")}class kOe{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return lpe().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||no(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)}}class NOe{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}class mo{constructor(e,t,n){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=n}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class AOe{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class Gy{constructor(e,t,n,r,s,o,a,u,c,h,f,p,m,v,b,S,x,w,E){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.continuesWithWrappedLine=r,this.isBasicASCII=s,this.containsRTL=o,this.fauxIndentLength=a,this.lineTokens=u,this.lineDecorations=c.sort(ic.compare),this.tabSize=h,this.startVisibleColumn=f,this.spaceWidth=p,this.stopRenderingLineAfter=b,this.renderWhitespace=S==="all"?4:S==="boundary"?1:S==="selection"?2:S==="trailing"?3:0,this.renderControlCharacters=x,this.fontLigatures=w,this.selectionsOnLine=E&&E.sort((H,R)=>H.startOffset<R.startOffset?-1:1);const N=Math.abs(v-p),A=Math.abs(m-p);N<A?(this.renderSpaceWidth=v,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=m,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&ic.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class JX{constructor(e,t){this.partIndex=e,this.charIndex=t}}class gg{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}setColumnInfo(e,t,n,r){const s=(t<<16|n<<0)>>>0;this._data[e-1]=s,this._absoluteOffsets[e-1]=r+n}getAbsoluteOffset(e){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),n=gg.getPartIndex(t),r=gg.getCharIndex(t);return new JX(n,r)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,n){if(this.length===0)return 0;let r=(e<<16|n<<0)>>>0,s=0,o=this.length-1;for(;s+1<o;){let b=s+o>>>1,S=this._data[b];if(S===r)return b;S>r?o=b:s=b}if(s===o)return s;let a=this._data[s],u=this._data[o];if(a===r)return s;if(u===r)return o;let c=gg.getPartIndex(a),h=gg.getCharIndex(a),f=gg.getPartIndex(u),p;c!==f?p=t:p=gg.getCharIndex(u);let m=n-h,v=p-n;return m<=v?s:o}}class jj{constructor(e,t,n){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=n}}function kB(i,e){if(i.lineContent.length===0){if(i.lineDecorations.length>0){e.appendASCIIString("<span>");let t=0,n=0,r=0;for(const o of i.lineDecorations)(o.type===1||o.type===2)&&(e.appendASCIIString('<span class="'),e.appendASCIIString(o.className),e.appendASCIIString('"></span>'),o.type===1&&(r|=1,t++),o.type===2&&(r|=2,n++));e.appendASCIIString("</span>");const s=new gg(1,t+n);return s.setColumnInfo(1,t,0,0),new jj(s,!1,r)}return e.appendASCIIString("<span><span></span></span>"),new jj(new gg(0,0),!1,0)}return HOe(ROe(i),e)}class OOe{constructor(e,t,n,r){this.characterMapping=e,this.html=t,this.containsRTL=n,this.containsForeignElements=r}}function NB(i){let e=QC(1e4),t=kB(i,e);return new OOe(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class MOe{constructor(e,t,n,r,s,o,a,u,c,h,f,p,m,v,b){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.len=r,this.isOverflowing=s,this.parts=o,this.containsForeignElements=a,this.fauxIndentLength=u,this.tabSize=c,this.startVisibleColumn=h,this.containsRTL=f,this.spaceWidth=p,this.renderSpaceCharCode=m,this.renderWhitespace=v,this.renderControlCharacters=b}}function ROe(i){const e=i.lineContent;let t,n;i.stopRenderingLineAfter!==-1&&i.stopRenderingLineAfter<e.length?(t=!0,n=i.stopRenderingLineAfter):(t=!1,n=e.length);let r=POe(i.lineTokens,i.fauxIndentLength,n);i.renderControlCharacters&&!i.isBasicASCII&&(r=BOe(e,r)),(i.renderWhitespace===4||i.renderWhitespace===1||i.renderWhitespace===2&&i.selectionsOnLine||i.renderWhitespace===3)&&(r=WOe(i,e,n,r));let s=0;if(i.lineDecorations.length>0){for(let o=0,a=i.lineDecorations.length;o<a;o++){const u=i.lineDecorations[o];u.type===3||u.type===1?s|=1:u.type===2&&(s|=2)}r=VOe(e,n,r,i.lineDecorations)}return i.containsRTL||(r=FOe(e,r,!i.isBasicASCII||i.fontLigatures)),new MOe(i.useMonospaceOptimizations,i.canUseHalfwidthRightwardsArrow,e,n,t,r,s,i.fauxIndentLength,i.tabSize,i.startVisibleColumn,i.containsRTL,i.spaceWidth,i.renderSpaceCharCode,i.renderWhitespace,i.renderControlCharacters)}function POe(i,e,t){let n=[],r=0;e>0&&(n[r++]=new mo(e,"",0));for(let s=0,o=i.getCount();s<o;s++){const a=i.getEndOffset(s);if(a<=e)continue;const u=i.getClassName(s);if(a>=t){n[r++]=new mo(t,u,0);break}n[r++]=new mo(a,u,0)}return n}function FOe(i,e,t){let n=0,r=[],s=0;if(t)for(let o=0,a=e.length;o<a;o++){const u=e[o],c=u.endIndex;if(n+50<c){const h=u.type,f=u.metadata;let p=-1,m=n;for(let v=n;v<c;v++)i.charCodeAt(v)===32&&(p=v),p!==-1&&v-m>=50&&(r[s++]=new mo(p+1,h,f),m=p+1,p=-1);m!==c&&(r[s++]=new mo(c,h,f))}else r[s++]=u;n=c}else for(let o=0,a=e.length;o<a;o++){const u=e[o],c=u.endIndex;let h=c-n;if(h>50){const f=u.type,p=u.metadata,m=Math.ceil(h/50);for(let v=1;v<m;v++){let b=n+v*50;r[s++]=new mo(b,f,p)}r[s++]=new mo(c,f,p)}else r[s++]=u;n=c}return r}function dpe(i){return i<32?i!==9:i===127||i>=8234&&i<=8238||i>=8294&&i<=8297||i>=8206&&i<=8207||i===1564}function BOe(i,e){let t=[],n=new mo(0,"",0),r=0;for(const s of e){const o=s.endIndex;for(;r<o;r++){const a=i.charCodeAt(r);dpe(a)&&(r>n.endIndex&&(n=new mo(r,s.type,s.metadata),t.push(n)),n=new mo(r+1,"mtkcontrol",s.metadata),t.push(n))}r>n.endIndex&&(n=new mo(o,s.type,s.metadata),t.push(n))}return t}function WOe(i,e,t,n){const r=i.continuesWithWrappedLine,s=i.fauxIndentLength,o=i.tabSize,a=i.startVisibleColumn,u=i.useMonospaceOptimizations,c=i.selectionsOnLine,h=i.renderWhitespace===1,f=i.renderWhitespace===3,p=i.renderSpaceWidth!==i.spaceWidth;let m=[],v=0,b=0,S=n[b].type,x=n[b].endIndex;const w=n.length;let E=!1,N=Ya(e),A;N===-1?(E=!0,N=t,A=t):A=Bg(e);let H=!1,R=0,M=c&&c[R],G=a%o;for(let $=s;$<t;$++){const I=e.charCodeAt($);M&&$>=M.endOffset&&(R++,M=c&&c[R]);let O;if($<N||$>A)O=!0;else if(I===9)O=!0;else if(I===32)if(h)if(H)O=!0;else{const B=$+1<t?e.charCodeAt($+1):0;O=B===32||B===9}else O=!0;else O=!1;if(O&&c&&(O=!!M&&M.startOffset<=$&&M.endOffset>$),O&&f&&(O=E||$>A),H){if(!O||!u&&G>=o){if(p){const B=v>0?m[v-1].endIndex:s;for(let W=B+1;W<=$;W++)m[v++]=new mo(W,"mtkw",1)}else m[v++]=new mo($,"mtkw",1);G=G%o}}else($===x||O&&$>s)&&(m[v++]=new mo($,S,0),G=G%o);for(I===9?G=o:qg(I)?G+=2:G++,H=O;$===x&&(b++,b<w);)S=n[b].type,x=n[b].endIndex}let X=!1;if(H)if(r&&h){let $=t>0?e.charCodeAt(t-1):0,I=t>1?e.charCodeAt(t-2):0;$===32&&I!==32&&I!==9||(X=!0)}else X=!0;if(X)if(p){const $=v>0?m[v-1].endIndex:s;for(let I=$+1;I<=t;I++)m[v++]=new mo(I,"mtkw",1)}else m[v++]=new mo(t,"mtkw",1);else m[v++]=new mo(t,S,0);return m}function VOe(i,e,t,n){n.sort(ic.compare);const r=EOe.normalize(i,n),s=r.length;let o=0,a=[],u=0,c=0;for(let f=0,p=t.length;f<p;f++){const m=t[f],v=m.endIndex,b=m.type,S=m.metadata;for(;o<s&&r[o].startOffset<v;){const x=r[o];if(x.startOffset>c&&(c=x.startOffset,a[u++]=new mo(c,b,S)),x.endOffset+1<=v)c=x.endOffset+1,a[u++]=new mo(c,b+" "+x.className,S|x.metadata),o++;else{c=v,a[u++]=new mo(c,b+" "+x.className,S|x.metadata);break}}v>c&&(c=v,a[u++]=new mo(c,b,S))}const h=t[t.length-1].endIndex;if(o<s&&r[o].startOffset===h)for(;o<s&&r[o].startOffset===h;){const f=r[o];a[u++]=new mo(c,f.className,f.metadata),o++}return a}function HOe(i,e){const t=i.fontIsMonospace,n=i.canUseHalfwidthRightwardsArrow,r=i.containsForeignElements,s=i.lineContent,o=i.len,a=i.isOverflowing,u=i.parts,c=i.fauxIndentLength,h=i.tabSize,f=i.startVisibleColumn,p=i.containsRTL,m=i.spaceWidth,v=i.renderSpaceCharCode,b=i.renderWhitespace,S=i.renderControlCharacters,x=new gg(o+1,u.length);let w=!1,E=0,N=f,A=0,H=0,R=0,M=0;p?e.appendASCIIString('<span dir="ltr">'):e.appendASCIIString("<span>");for(let G=0,X=u.length;G<X;G++){M+=R;const $=u[G],I=$.endIndex,O=$.type,B=b!==0&&$.isWhitespace(),W=B&&!t&&(O==="mtkw"||!r),j=E===I&&$.isPseudoAfter();if(A=0,e.appendASCIIString('<span class="'),e.appendASCIIString(W?"mtkz":O),e.appendASCII(34),B){let U=0;{let K=E,z=N;for(;K<I;K++){const q=(s.charCodeAt(K)===9?h-z%h:1)|0;U+=q,K>=c&&(z+=q)}}for(W&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(m*U)),e.appendASCIIString('px"')),e.appendASCII(62);E<I;E++){x.setColumnInfo(E+1,G-H,A,M),H=0;const K=s.charCodeAt(E);let z;if(K===9){z=h-N%h|0,!n||z>1?e.write1(8594):e.write1(65515);for(let k=2;k<=z;k++)e.write1(160)}else z=1,e.write1(v);A+=z,E>=c&&(N+=z)}R=U}else{let U=0;for(e.appendASCII(62);E<I;E++){x.setColumnInfo(E+1,G-H,A,M),H=0;const K=s.charCodeAt(E);let z=1,k=1;switch(K){case 9:z=h-N%h,k=z;for(let q=1;q<=z;q++)e.write1(160);break;case 32:e.write1(160);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:S?e.write1(9216):e.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.write1(65533);break;default:qg(K)&&k++,S&&K<32?e.write1(9216+K):S&&K===127?e.write1(9249):S&&dpe(K)?(e.appendASCIIString("[U+"),e.appendASCIIString($Oe(K)),e.appendASCIIString("]"),z=8):e.write1(K)}A+=z,U+=z,E>=c&&(N+=k)}R=U}j?H++:H=0,E>=o&&!w&&$.isPseudoAfter()&&(w=!0,x.setColumnInfo(E+1,G,A,M)),e.appendASCIIString("</span>")}return w||x.setColumnInfo(o+1,u.length-1,A,M),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new jj(x,p,r)}function $Oe(i){return i.toString(16).toUpperCase().padStart(4,"0")}const zOe=function(){return If?!0:!(yl||Kl||Cd)}();let $S=!0;class zie{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class Uie{constructor(e,t){this.themeType=t;const n=e.options,r=n.get(43);this.renderWhitespace=n.get(87),this.renderControlCharacters=n.get(82),this.spaceWidth=r.spaceWidth,this.middotWidth=r.middotWidth,this.wsmiddotWidth=r.wsmiddotWidth,this.useMonospaceOptimizations=r.isMonospace&&!n.get(29),this.canUseHalfwidthRightwardsArrow=r.canUseHalfwidthRightwardsArrow,this.lineHeight=n.get(58),this.stopRenderingLineAfter=n.get(104),this.fontLigatures=n.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class yg{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=li(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return this._options.themeType===Dd.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,n,r){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const s=n.getViewLineRenderingData(e),o=this._options,a=ic.filter(s.inlineDecorations,e,s.minColumn,s.maxColumn);let u=null;if(o.themeType===Dd.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const p=n.selections;for(const m of p){if(m.endLineNumber<e||m.startLineNumber>e)continue;const v=m.startLineNumber===e?m.startColumn:s.minColumn,b=m.endLineNumber===e?m.endColumn:s.maxColumn;v<b&&(o.themeType===Dd.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?a.push(new ic(v,b,"inline-selected-text",0)):(u||(u=[]),u.push(new AOe(v-1,b-1))))}}const c=new Gy(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,s.minColumn-1,s.tokens,a,s.tabSize,s.startVisibleColumn,o.spaceWidth,o.middotWidth,o.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==Ju.OFF,u);if(this._renderedViewLine&&this._renderedViewLine.input.equals(c))return!1;r.appendASCIIString('<div style="top:'),r.appendASCIIString(String(t)),r.appendASCIIString("px;height:"),r.appendASCIIString(String(this._options.lineHeight)),r.appendASCIIString('px;" class="'),r.appendASCIIString(yg.CLASS_NAME),r.appendASCIIString('">');const h=kB(c,r);r.appendASCIIString("</div>");let f=null;return $S&&zOe&&s.isBasicASCII&&o.useMonospaceOptimizations&&h.containsForeignElements===0&&s.content.length<300&&c.lineTokens.getCount()<100&&(f=new g5(this._renderedViewLine?this._renderedViewLine.domNode:null,c,h.characterMapping)),f||(f=fpe(this._renderedViewLine?this._renderedViewLine.domNode:null,c,h.characterMapping,h.containsRTL,h.containsForeignElements)),this._renderedViewLine=f,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof g5:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof g5?this._renderedViewLine.monospaceAssumptionsAreValid():$S}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof g5&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,n,r){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),n=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,n));const s=this._renderedViewLine.input.stopRenderingLineAfter;let o=!1;s!==-1&&t>s+1&&n>s+1&&(o=!0),s!==-1&&t>s+1&&(t=s+1),s!==-1&&n>s+1&&(n=s+1);const a=this._renderedViewLine.getVisibleRangesForRange(e,t,n,r);return a&&a.length>0?new SOe(o,a):null}getColumnOfNodeOffset(e,t,n){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,n):1}}yg.CLASS_NAME="view-line";class g5{constructor(e,t,n){this.domNode=e,this.input=t,this._characterMapping=n,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return $S;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),$S=!1),$S}toSlowRenderedLine(){return fpe(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,n,r){const s=this._getCharPosition(t),o=this._getCharPosition(n);return[new HS(s,o-s)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,n){const r=t.textContent.length;let s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.getColumn(new JX(s,n),r)}}class hpe{constructor(e,t,n,r,s){if(this.domNode=e,this.input=t,this._characterMapping=n,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=s,this._cachedWidth=-1,this._pixelOffsetCache=null,!r||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let o=0,a=this._characterMapping.length;o<=a;o++)this._pixelOffsetCache[o]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,n,r){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const s=this._readPixelOffset(this.domNode,e,t,r);if(s===-1)return null;const o=this._readPixelOffset(this.domNode,e,n,r);return o===-1?null:[new HS(s,o-s)]}return this._readVisibleRangesForRange(this.domNode,e,t,n,r)}_readVisibleRangesForRange(e,t,n,r,s){if(n===r){const o=this._readPixelOffset(e,t,n,s);return o===-1?null:[new HS(o,0)]}else return this._readRawVisibleRangesForRange(e,n,r,s)}_readPixelOffset(e,t,n,r){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const s=this._getReadingTarget(e);return s.firstChild?s.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const s=this._pixelOffsetCache[n];if(s!==-1)return s;const o=this._actualReadPixelOffset(e,t,n,r);return this._pixelOffsetCache[n]=o,o}return this._actualReadPixelOffset(e,t,n,r)}_actualReadPixelOffset(e,t,n,r){if(this._characterMapping.length===0){const u=TH.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,r.clientRectDeltaLeft,r.endNode);return!u||u.length===0?-1:u[0].left}if(n===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const s=this._characterMapping.getDomPosition(n),o=TH.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,s.partIndex,s.charIndex,r.clientRectDeltaLeft,r.endNode);if(!o||o.length===0)return-1;const a=o[0].left;if(this.input.isBasicASCII){const u=this._characterMapping.getAbsoluteOffset(n),c=Math.round(this.input.spaceWidth*u);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,n,r){if(t===1&&n===this._characterMapping.length)return[new HS(0,this.getWidth())];const s=this._characterMapping.getDomPosition(t),o=this._characterMapping.getDomPosition(n);return TH.readHorizontalRanges(this._getReadingTarget(e),s.partIndex,s.charIndex,o.partIndex,o.charIndex,r.clientRectDeltaLeft,r.endNode)}getColumnOfNodeOffset(e,t,n){const r=t.textContent.length;let s=-1;for(;t;)t=t.previousSibling,s++;return this._characterMapping.getColumn(new JX(s,n),r)}}class UOe extends hpe{_readVisibleRangesForRange(e,t,n,r,s){const o=super._readVisibleRangesForRange(e,t,n,r,s);if(!o||o.length===0||n===r||n===1&&r===this._characterMapping.length)return o;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,r,s);if(a!==-1){const u=o[o.length-1];u.left<a&&(u.width=a-u.left)}}return o}}const fpe=function(){return t1?jOe:KOe}();function jOe(i,e,t,n,r){return new UOe(i,e,t,n,r)}function KOe(i,e,t,n,r){return new hpe(i,e,t,n,r)}var ql;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=4]="Right",i[i.Full=7]="Full"})(ql||(ql={}));var Ul;(function(i){i[i.Inline=1]="Inline",i[i.Gutter=2]="Gutter"})(Ul||(Ul={}));class j6{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),this.indentSize=e.tabSize|0,this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&Td(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class CM{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}var cC;(function(i){i[i.Disabled=0]="Disabled",i[i.EnabledForActive=1]="EnabledForActive",i[i.Enabled=2]="Enabled"})(cC||(cC={}));class oS{constructor(e,t,n){this.visibleColumn=e,this.className=t,this.horizontalLine=n}}class Kj{constructor(e,t){this.top=e,this.endColumn=t}}class OH{constructor(e,t,n,r,s,o){this.identifier=e,this.range=t,this.text=n,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=s,this._isTracked=o}}class qOe{constructor(e,t,n){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=n}}function p5(i){return i.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Uo{constructor(e,t,n,r){this.oldPosition=e,this.oldText=t,this.newPosition=n,this.newText=r}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${p5(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${p5(this.oldText)}")`:`(replace@${this.oldPosition} "${p5(this.oldText)}" with "${p5(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,n){const r=t.length;Qh(e,r,n),n+=4;for(let s=0;s<r;s++)DOe(e,t.charCodeAt(s),n),n+=2;return n}static _readString(e,t){const n=Xh(e,t);return t+=4,Uj(e,t,n)}writeSize(){return 4+4+Uo._writeStringSize(this.oldText)+Uo._writeStringSize(this.newText)}write(e,t){return Qh(e,this.oldPosition,t),t+=4,Qh(e,this.newPosition,t),t+=4,t=Uo._writeString(e,this.oldText,t),t=Uo._writeString(e,this.newText,t),t}static read(e,t,n){const r=Xh(e,t);t+=4;const s=Xh(e,t);t+=4;const o=Uo._readString(e,t);t+=Uo._writeStringSize(o);const a=Uo._readString(e,t);return t+=Uo._writeStringSize(a),n.push(new Uo(r,o,s,a)),t}}function GOe(i,e){return i===null||i.length===0?e:new ag(i,e).compress()}class ag{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,n=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(n===null){this._acceptCurr(r),r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(n),n=this._getPrev(++e);continue}if(r.oldEnd<=n.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(n.newEnd<=r.oldPosition){this._acceptPrev(n),n=this._getPrev(++e);continue}if(r.oldPosition<n.newPosition){const[c,h]=ag._splitCurr(r,n.newPosition-r.oldPosition);this._acceptCurr(c),r=h;continue}if(n.newPosition<r.oldPosition){const[c,h]=ag._splitPrev(n,r.oldPosition-n.newPosition);this._acceptPrev(c),n=h;continue}let a,u;if(r.oldEnd===n.newEnd)a=n,u=r,n=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<n.newEnd){const[c,h]=ag._splitPrev(n,r.oldLength);a=c,u=r,n=h,r=this._getCurr(++t)}else{const[c,h]=ag._splitCurr(r,n.newLength);a=n,u=c,n=this._getPrev(++e),r=h}this._result[this._resultLen++]=new Uo(a.oldPosition,a.oldText,u.newPosition,u.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=u.newLength-u.oldLength}const s=ag._merge(this._result);return ag._removeNoOps(s)}_acceptCurr(e){this._result[this._resultLen++]=ag._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=ag._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Uo(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Uo(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const n=e.newText.substr(0,t),r=e.newText.substr(t);return[new Uo(e.oldPosition,e.oldText,e.newPosition,n),new Uo(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const n=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new Uo(e.oldPosition,n,e.newPosition,e.newText),new Uo(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;let t=[],n=0,r=e[0];for(let s=1;s<e.length;s++){const o=e[s];r.oldEnd===o.oldPosition?r=new Uo(r.oldPosition,r.oldText+o.oldText,r.newPosition,r.newText+o.newText):(t[n++]=r,r=o)}return t[n++]=r,t}static _removeNoOps(e){if(e.length===0)return e;let t=[],n=0;for(let r=0;r<e.length;r++){const s=e[r];s.oldText!==s.newText&&(t[n++]=s)}return t}}function YOe(i){return i.replace(/[\\/]/g,Hs.sep)}function ZOe(i){return i.indexOf("/")===-1&&(i=YOe(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}function XOe(i,e,t,n=sC){if(i===e)return!0;if(!i||!e||e.length>i.length)return!1;if(t){if(!kX(i,e))return!1;if(e.length===i.length)return!0;let s=e.length;return e.charAt(e.length-1)===n&&s--,i.charAt(s)===n}return e.charAt(e.length-1)!==n&&(e+=n),i.indexOf(e)===0}function QOe(i){return i>=65&&i<=90||i>=97&&i<=122}function JOe(i){const e=bX(i);return Zo?i.length>3?!1:gpe(e)&&(i.length===2||e.charCodeAt(2)===92):e===Hs.sep}function gpe(i,e){return(e!==void 0?e:Zo)?QOe(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}function K6(i){return gF(i,!0)}class eMe{constructor(e){this._ignorePathCasing=e}compare(e,t,n=!1){return e===t?0:pM(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return an.joinPath(e,...t)}basenameOrAuthority(e){return Vc(e)||e.authority}basename(e){return Hs.basename(e.path)}extname(e){return Hs.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===On.file?t=an.file(Mfe(K6(e))).path:(t=Hs.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===On.file?t=an.file(bX(K6(e))).path:t=Hs.normalize(e.path),e.with({path:t})}resolvePath(e,t){if(e.scheme===On.file){const n=an.file(oIe(K6(e),t));return e.with({authority:n.authority,path:n.path})}return t=ZOe(t),e.with({path:Hs.resolve(e.path,t)})}}const La=new eMe(()=>!1),ppe=La.isEqual.bind(La),mpe=La.basenameOrAuthority.bind(La),Vc=La.basename.bind(La),tMe=La.extname.bind(La),eQ=La.dirname.bind(La),nMe=La.joinPath.bind(La),iMe=La.normalizePath.bind(La),jie=La.resolvePath.bind(La);var D1;(function(i){i.META_DATA_LABEL="label",i.META_DATA_DESCRIPTION="description",i.META_DATA_SIZE="size",i.META_DATA_MIME="mime";function e(t){const n=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(o=>{const[a,u]=o.split(":");a&&u&&n.set(a,u)});const s=t.path.substring(0,t.path.indexOf(";"));return s&&n.set(i.META_DATA_MIME,s),n}i.parseMetaData=e})(D1||(D1={}));function vw(i){return i.toString()}class co{constructor(e,t,n,r,s,o,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=n,this.afterEOL=r,this.beforeCursorState=s,this.afterCursorState=o,this.changes=a}static create(e,t){const n=e.getAlternativeVersionId(),r=qj(e);return new co(n,n,r,r,t,t,[])}append(e,t,n,r,s){t.length>0&&(this.changes=GOe(this.changes,t)),this.afterEOL=n,this.afterVersionId=r,this.afterCursorState=s}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,n){if(Qh(e,t?t.length:0,n),n+=4,t)for(const r of t)Qh(e,r.selectionStartLineNumber,n),n+=4,Qh(e,r.selectionStartColumn,n),n+=4,Qh(e,r.positionLineNumber,n),n+=4,Qh(e,r.positionColumn,n),n+=4;return n}static _readSelections(e,t,n){const r=Xh(e,t);t+=4;for(let s=0;s<r;s++){const o=Xh(e,t);t+=4;const a=Xh(e,t);t+=4;const u=Xh(e,t);t+=4;const c=Xh(e,t);t+=4,n.push(new xt(o,a,u,c))}return t}serialize(){let e=10+co._writeSelectionsSize(this.beforeCursorState)+co._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)e+=r.writeSize();const t=new Uint8Array(e);let n=0;Qh(t,this.beforeVersionId,n),n+=4,Qh(t,this.afterVersionId,n),n+=4,$ie(t,this.beforeEOL,n),n+=1,$ie(t,this.afterEOL,n),n+=1,n=co._writeSelections(t,this.beforeCursorState,n),n=co._writeSelections(t,this.afterCursorState,n),Qh(t,this.changes.length,n),n+=4;for(const r of this.changes)n=r.write(t,n);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let n=0;const r=Xh(t,n);n+=4;const s=Xh(t,n);n+=4;const o=Hie(t,n);n+=1;const a=Hie(t,n);n+=1;const u=[];n=co._readSelections(t,n,u);const c=[];n=co._readSelections(t,n,c);const h=Xh(t,n);n+=4;const f=[];for(let p=0;p<h;p++)n=Uo.read(t,n,f);return new co(r,s,o,a,u,c,f)}}class _pe{constructor(e,t){this.model=e,this._data=co.create(e,t)}get type(){return 0}get resource(){return an.isUri(this.model)?this.model:this.model.uri}get label(){return C("edit","Typing")}toString(){return(this._data instanceof co?this._data:co.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(an.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof co}append(e,t,n,r,s){this._data instanceof co&&this._data.append(e,t,n,r,s)}close(){this._data instanceof co&&(this._data=this._data.serialize())}open(){this._data instanceof co||(this._data=co.deserialize(this._data))}undo(){if(an.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof co&&(this._data=this._data.serialize());const e=co.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(an.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof co&&(this._data=this._data.serialize());const e=co.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof co&&(this._data=this._data.serialize()),this._data.byteLength+168}}class rMe{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const n of this._editStackElementsArr){const r=vw(n.resource);this._editStackElementsMap.set(r,n)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=vw(e);return this._editStackElementsMap.has(t)}setModel(e){const t=vw(an.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=vw(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,n,r,s){const o=vw(e.uri);this._editStackElementsMap.get(o).append(e,t,n,r,s)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=vw(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${Vc(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function qj(i){return i.getEOL()===`
`?0:1}function Vp(i){return i?i instanceof _pe||i instanceof rMe:!1}class tQ{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Vp(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Vp(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(Vp(t)&&t.canAppend(this._model))return t;const n=new _pe(this._model,e);return this._undoRedoService.pushElement(n),n}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],qj(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n){const r=this._getOrCreateEditStackElement(e),s=this._model.applyEdits(t,!0),o=tQ._computeCursorState(n,s),a=s.map((u,c)=>({index:c,textChange:u.textChange}));return a.sort((u,c)=>u.textChange.oldPosition===c.textChange.oldPosition?u.index-c.index:u.textChange.oldPosition-c.textChange.oldPosition),r.append(this._model,a.map(u=>u.textChange),qj(this._model),this._model.getAlternativeVersionId(),o),o}static _computeCursorState(e,t){try{return e?e(t):null}catch(n){return vn(n),null}}}class sMe{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function oMe(i,e,t,n,r){r.spacesDiff=0,r.looksLikeAlignment=!1;let s;for(s=0;s<e&&s<n;s++){let p=i.charCodeAt(s),m=t.charCodeAt(s);if(p!==m)break}let o=0,a=0;for(let p=s;p<e;p++)i.charCodeAt(p)===32?o++:a++;let u=0,c=0;for(let p=s;p<n;p++)t.charCodeAt(p)===32?u++:c++;if(o>0&&a>0||u>0&&c>0)return;let h=Math.abs(a-c),f=Math.abs(o-u);if(h===0){r.spacesDiff=f,f>0&&0<=u-1&&u-1<i.length&&u<t.length&&t.charCodeAt(u)!==32&&i.charCodeAt(u-1)===32&&i.charCodeAt(i.length-1)===44&&(r.looksLikeAlignment=!0);return}if(f%h===0){r.spacesDiff=f/h;return}}function Kie(i,e,t){const n=Math.min(i.getLineCount(),1e4);let r=0,s=0,o="",a=0;const u=[2,4,6,8,3,5,7],c=8;let h=[0,0,0,0,0,0,0,0,0],f=new sMe;for(let v=1;v<=n;v++){let b=i.getLineLength(v),S=i.getLineContent(v);const x=b<=65536;let w=!1,E=0,N=0,A=0;for(let R=0,M=b;R<M;R++){let G=x?S.charCodeAt(R):i.getLineCharCode(v,R);if(G===9)A++;else if(G===32)N++;else{w=!0,E=R;break}}if(!w||(A>0?r++:N>1&&s++,oMe(o,a,S,E,f),f.looksLikeAlignment&&!(t&&e===f.spacesDiff)))continue;let H=f.spacesDiff;H<=c&&h[H]++,o=S,a=E}let p=t;r!==s&&(p=r<s);let m=e;if(p){let v=p?0:.1*n;u.forEach(b=>{let S=h[b];S>v&&(v=S,m=b)}),m===4&&h[4]>0&&h[2]>0&&h[2]>=h[4]/2&&(m=2)}return{insertSpaces:p,tabSize:m}}function ll(i){return(i.metadata&1)>>>0}function fr(i,e){i.metadata=i.metadata&254|e<<0}function Go(i){return(i.metadata&2)>>>1===1}function ar(i,e){i.metadata=i.metadata&253|(e?1:0)<<1}function vpe(i){return(i.metadata&4)>>>2===1}function qie(i,e){i.metadata=i.metadata&251|(e?1:0)<<2}function aMe(i){return(i.metadata&24)>>>3}function Gie(i,e){i.metadata=i.metadata&231|e<<3}function lMe(i){return(i.metadata&32)>>>5===1}function Yie(i,e){i.metadata=i.metadata&223|(e?1:0)<<5}class bpe{constructor(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,fr(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,qie(this,!1),Gie(this,1),Yie(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,ar(this,!1)}reset(e,t,n,r){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=r}setOptions(e){this.options=e;let t=this.options.className;qie(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),Gie(this,this.options.stickiness),Yie(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const En=new bpe(null,0,0);En.parent=En;En.left=En;En.right=En;fr(En,0);class MH{constructor(){this.root=En,this.requestNormalizeDelta=!1}intervalSearch(e,t,n,r,s){return this.root===En?[]:mMe(this,e,t,n,r,s)}search(e,t,n){return this.root===En?[]:pMe(this,e,t,n)}collectNodesFromOwner(e){return fMe(this,e)}collectNodesPostOrder(){return gMe(this)}insert(e){Zie(this,e),this._normalizeDeltaIfNecessary()}delete(e){Xie(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const n=e;let r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;const s=n.start+r,o=n.end+r;n.setCachedOffsets(s,o,t)}acceptReplace(e,t,n,r){const s=dMe(this,e,e+t);for(let o=0,a=s.length;o<a;o++){const u=s[o];Xie(this,u)}this._normalizeDeltaIfNecessary(),hMe(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(let o=0,a=s.length;o<a;o++){const u=s[o];u.start=u.cachedAbsoluteStart,u.end=u.cachedAbsoluteEnd,cMe(u,e,e+t,n,r),u.maxEnd=u.end,Zie(this,u)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,uMe(this))}}function uMe(i){let e=i.root,t=0;for(;e!==En;){if(e.left!==En&&!Go(e.left)){e=e.left;continue}if(e.right!==En&&!Go(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,T1(e),ar(e,!0),ar(e.left,!1),ar(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}ar(i.root,!1)}function bw(i,e,t,n){return i<t?!0:i>t||n===1?!1:n===2?!0:e}function cMe(i,e,t,n,r){const s=aMe(i),o=s===0||s===2,a=s===1||s===2,u=t-e,c=n,h=Math.min(u,c),f=i.start;let p=!1;const m=i.end;let v=!1;e<=f&&m<=t&&lMe(i)&&(i.start=e,p=!0,i.end=e,v=!0);{const S=r?1:u>0?2:0;!p&&bw(f,o,e,S)&&(p=!0),!v&&bw(m,a,e,S)&&(v=!0)}if(h>0&&!r){const S=u>c?2:0;!p&&bw(f,o,e+h,S)&&(p=!0),!v&&bw(m,a,e+h,S)&&(v=!0)}{const S=r?1:0;!p&&bw(f,o,t,S)&&(i.start=e+c,p=!0),!v&&bw(m,a,t,S)&&(i.end=e+c,v=!0)}const b=c-u;p||(i.start=Math.max(0,f+b)),v||(i.end=Math.max(0,m+b)),i.start>i.end&&(i.end=i.start)}function dMe(i,e,t){let n=i.root,r=0,s=0,o=0,a=0,u=[],c=0;for(;n!==En;){if(Go(n)){ar(n.left,!1),ar(n.right,!1),n===n.parent.right&&(r-=n.parent.delta),n=n.parent;continue}if(!Go(n.left)){if(s=r+n.maxEnd,s<e){ar(n,!0);continue}if(n.left!==En){n=n.left;continue}}if(o=r+n.start,o>t){ar(n,!0);continue}if(a=r+n.end,a>=e&&(n.setCachedOffsets(o,a,0),u[c++]=n),ar(n,!0),n.right!==En&&!Go(n.right)){r+=n.delta,n=n.right;continue}}return ar(i.root,!1),u}function hMe(i,e,t,n){let r=i.root,s=0,o=0,a=0;const u=n-(t-e);for(;r!==En;){if(Go(r)){ar(r.left,!1),ar(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),T1(r),r=r.parent;continue}if(!Go(r.left)){if(o=s+r.maxEnd,o<e){ar(r,!0);continue}if(r.left!==En){r=r.left;continue}}if(a=s+r.start,a>t){r.start+=u,r.end+=u,r.delta+=u,(r.delta<-1073741824||r.delta>1073741824)&&(i.requestNormalizeDelta=!0),ar(r,!0);continue}if(ar(r,!0),r.right!==En&&!Go(r.right)){s+=r.delta,r=r.right;continue}}ar(i.root,!1)}function fMe(i,e){let t=i.root,n=[],r=0;for(;t!==En;){if(Go(t)){ar(t.left,!1),ar(t.right,!1),t=t.parent;continue}if(t.left!==En&&!Go(t.left)){t=t.left;continue}if(t.ownerId===e&&(n[r++]=t),ar(t,!0),t.right!==En&&!Go(t.right)){t=t.right;continue}}return ar(i.root,!1),n}function gMe(i){let e=i.root,t=[],n=0;for(;e!==En;){if(Go(e)){ar(e.left,!1),ar(e.right,!1),e=e.parent;continue}if(e.left!==En&&!Go(e.left)){e=e.left;continue}if(e.right!==En&&!Go(e.right)){e=e.right;continue}t[n++]=e,ar(e,!0)}return ar(i.root,!1),t}function pMe(i,e,t,n){let r=i.root,s=0,o=0,a=0,u=[],c=0;for(;r!==En;){if(Go(r)){ar(r.left,!1),ar(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),r=r.parent;continue}if(r.left!==En&&!Go(r.left)){r=r.left;continue}o=s+r.start,a=s+r.end,r.setCachedOffsets(o,a,n);let h=!0;if(e&&r.ownerId&&r.ownerId!==e&&(h=!1),t&&vpe(r)&&(h=!1),h&&(u[c++]=r),ar(r,!0),r.right!==En&&!Go(r.right)){s+=r.delta,r=r.right;continue}}return ar(i.root,!1),u}function mMe(i,e,t,n,r,s){let o=i.root,a=0,u=0,c=0,h=0,f=[],p=0;for(;o!==En;){if(Go(o)){ar(o.left,!1),ar(o.right,!1),o===o.parent.right&&(a-=o.parent.delta),o=o.parent;continue}if(!Go(o.left)){if(u=a+o.maxEnd,u<e){ar(o,!0);continue}if(o.left!==En){o=o.left;continue}}if(c=a+o.start,c>t){ar(o,!0);continue}if(h=a+o.end,h>=e){o.setCachedOffsets(c,h,s);let m=!0;n&&o.ownerId&&o.ownerId!==n&&(m=!1),r&&vpe(o)&&(m=!1),m&&(f[p++]=o)}if(ar(o,!0),o.right!==En&&!Go(o.right)){a+=o.delta,o=o.right;continue}}return ar(i.root,!1),f}function Zie(i,e){if(i.root===En)return e.parent=En,e.left=En,e.right=En,fr(e,0),i.root=e,i.root;_Me(i,e),_0(e.parent);let t=e;for(;t!==i.root&&ll(t.parent)===1;)if(t.parent===t.parent.parent.left){const n=t.parent.parent.right;ll(n)===1?(fr(t.parent,0),fr(n,0),fr(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,yO(i,t)),fr(t.parent,0),fr(t.parent.parent,1),wO(i,t.parent.parent))}else{const n=t.parent.parent.left;ll(n)===1?(fr(t.parent,0),fr(n,0),fr(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,wO(i,t)),fr(t.parent,0),fr(t.parent.parent,1),yO(i,t.parent.parent))}return fr(i.root,0),e}function _Me(i,e){let t=0,n=i.root;const r=e.start,s=e.end;for(;;)if(bMe(r,s,n.start+t,n.end+t)<0)if(n.left===En){e.start-=t,e.end-=t,e.maxEnd-=t,n.left=e;break}else n=n.left;else if(n.right===En){e.start-=t+n.delta,e.end-=t+n.delta,e.maxEnd-=t+n.delta,n.right=e;break}else t+=n.delta,n=n.right;e.parent=n,e.left=En,e.right=En,fr(e,1)}function Xie(i,e){let t,n;if(e.left===En?(t=e.right,n=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(i.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===En?(t=e.left,n=e):(n=vMe(e.right),t=n.right,t.start+=n.delta,t.end+=n.delta,t.delta+=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(i.requestNormalizeDelta=!0),n.start+=e.delta,n.end+=e.delta,n.delta=e.delta,(n.delta<-1073741824||n.delta>1073741824)&&(i.requestNormalizeDelta=!0)),n===i.root){i.root=t,fr(t,0),e.detach(),RH(),T1(t),i.root.parent=En;return}let r=ll(n)===1;if(n===n.parent.left?n.parent.left=t:n.parent.right=t,n===e?t.parent=n.parent:(n.parent===e?t.parent=n:t.parent=n.parent,n.left=e.left,n.right=e.right,n.parent=e.parent,fr(n,ll(e)),e===i.root?i.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==En&&(n.left.parent=n),n.right!==En&&(n.right.parent=n)),e.detach(),r){_0(t.parent),n!==e&&(_0(n),_0(n.parent)),RH();return}_0(t),_0(t.parent),n!==e&&(_0(n),_0(n.parent));let s;for(;t!==i.root&&ll(t)===0;)t===t.parent.left?(s=t.parent.right,ll(s)===1&&(fr(s,0),fr(t.parent,1),yO(i,t.parent),s=t.parent.right),ll(s.left)===0&&ll(s.right)===0?(fr(s,1),t=t.parent):(ll(s.right)===0&&(fr(s.left,0),fr(s,1),wO(i,s),s=t.parent.right),fr(s,ll(t.parent)),fr(t.parent,0),fr(s.right,0),yO(i,t.parent),t=i.root)):(s=t.parent.left,ll(s)===1&&(fr(s,0),fr(t.parent,1),wO(i,t.parent),s=t.parent.left),ll(s.left)===0&&ll(s.right)===0?(fr(s,1),t=t.parent):(ll(s.left)===0&&(fr(s.right,0),fr(s,1),yO(i,s),s=t.parent.left),fr(s,ll(t.parent)),fr(t.parent,0),fr(s.left,0),wO(i,t.parent),t=i.root));fr(t,0),RH()}function vMe(i){for(;i.left!==En;)i=i.left;return i}function RH(){En.parent=En,En.delta=0,En.start=0,En.end=0}function yO(i,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(i.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==En&&(t.left.parent=e),t.parent=e.parent,e.parent===En?i.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,T1(e),T1(t)}function wO(i,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(i.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==En&&(t.right.parent=e),t.parent=e.parent,e.parent===En?i.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,T1(e),T1(t)}function Cpe(i){let e=i.end;if(i.left!==En){const t=i.left.maxEnd;t>e&&(e=t)}if(i.right!==En){const t=i.right.maxEnd+i.delta;t>e&&(e=t)}return e}function T1(i){i.maxEnd=Cpe(i)}function _0(i){for(;i!==En;){const e=Cpe(i);if(i.maxEnd===e)return;i.maxEnd=e,i=i.parent}}function bMe(i,e,t,n){return i===t?e-n:i-t}let Gj=class{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==hn)return nQ(this.right);let e=this;for(;e.parent!==hn&&e.parent.left!==e;)e=e.parent;return e.parent===hn?hn:e.parent}prev(){if(this.left!==hn)return ype(this.left);let e=this;for(;e.parent!==hn&&e.parent.right!==e;)e=e.parent;return e.parent===hn?hn:e.parent}detach(){this.parent=null,this.left=null,this.right=null}};const hn=new Gj(null,0);hn.parent=hn;hn.left=hn;hn.right=hn;hn.color=0;function nQ(i){for(;i.left!==hn;)i=i.left;return i}function ype(i){for(;i.right!==hn;)i=i.right;return i}function iQ(i){return i===hn?0:i.size_left+i.piece.length+iQ(i.right)}function rQ(i){return i===hn?0:i.lf_left+i.piece.lineFeedCnt+rQ(i.right)}function PH(){hn.parent=hn}function SO(i,e){let t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==hn&&(t.left.parent=e),t.parent=e.parent,e.parent===hn?i.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function xO(i,e){let t=e.left;e.left=t.right,t.right!==hn&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===hn?i.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function m5(i,e){let t,n;if(e.left===hn?(n=e,t=n.right):e.right===hn?(n=e,t=n.left):(n=nQ(e.right),t=n.right),n===i.root){i.root=t,t.color=0,e.detach(),PH(),i.root.parent=hn;return}let r=n.color===1;if(n===n.parent.left?n.parent.left=t:n.parent.right=t,n===e?(t.parent=n.parent,KA(i,t)):(n.parent===e?t.parent=n:t.parent=n.parent,KA(i,t),n.left=e.left,n.right=e.right,n.parent=e.parent,n.color=e.color,e===i.root?i.root=n:e===e.parent.left?e.parent.left=n:e.parent.right=n,n.left!==hn&&(n.left.parent=n),n.right!==hn&&(n.right.parent=n),n.size_left=e.size_left,n.lf_left=e.lf_left,KA(i,n)),e.detach(),t.parent.left===t){let o=iQ(t),a=rQ(t);if(o!==t.parent.size_left||a!==t.parent.lf_left){let u=o-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=o,t.parent.lf_left=a,Np(i,t.parent,u,c)}}if(KA(i,t.parent),r){PH();return}let s;for(;t!==i.root&&t.color===0;)t===t.parent.left?(s=t.parent.right,s.color===1&&(s.color=0,t.parent.color=1,SO(i,t.parent),s=t.parent.right),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.right.color===0&&(s.left.color=0,s.color=1,xO(i,s),s=t.parent.right),s.color=t.parent.color,t.parent.color=0,s.right.color=0,SO(i,t.parent),t=i.root)):(s=t.parent.left,s.color===1&&(s.color=0,t.parent.color=1,xO(i,t.parent),s=t.parent.left),s.left.color===0&&s.right.color===0?(s.color=1,t=t.parent):(s.left.color===0&&(s.right.color=0,s.color=1,SO(i,s),s=t.parent.left),s.color=t.parent.color,t.parent.color=0,s.left.color=0,xO(i,t.parent),t=i.root));t.color=0,PH()}function Qie(i,e){for(KA(i,e);e!==i.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,SO(i,e)),e.parent.color=0,e.parent.parent.color=1,xO(i,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,xO(i,e)),e.parent.color=0,e.parent.parent.color=1,SO(i,e.parent.parent))}i.root.color=0}function Np(i,e,t,n){for(;e!==i.root&&e!==hn;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=n),e=e.parent}function KA(i,e){let t=0,n=0;if(e!==i.root){for(;e!==i.root&&e===e.parent.right;)e=e.parent;if(e!==i.root)for(e=e.parent,t=iQ(e.left)-e.size_left,n=rQ(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=n;e!==i.root&&(t!==0||n!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=n),e=e.parent}}function MF(i){return i<0?0:i>255?255:i|0}function Cw(i){return i<0?0:i>4294967295?4294967295:i|0}class NE{constructor(e){let t=MF(e);this._defaultValue=t,this._asciiMap=NE._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let n=0;n<256;n++)t[n]=e;return t}set(e,t){let n=MF(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class aS{constructor(){this._actual=new NE(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}}class CMe extends NE{constructor(e){super(0);for(let t=0,n=e.length;t<n;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}function yMe(i){let e={};return t=>(e.hasOwnProperty(t)||(e[t]=i(t)),e[t])}const Hc=yMe(i=>new CMe(i)),wMe=999;class yb{constructor(e,t,n,r){this.searchString=e,this.isRegex=t,this.matchCase=n,this.wordSeparators=r}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=SMe(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=ige(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let n=!this.isRegex&&!e;return n&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(n=this.matchCase),new xMe(t,this.wordSeparators?Hc(this.wordSeparators):null,n?this.searchString:null)}}function SMe(i){if(!i||i.length===0)return!1;for(let e=0,t=i.length;e<t;e++)if(i.charCodeAt(e)===92){if(e++,e>=t)break;const r=i.charCodeAt(e);if(r===110||r===114||r===87)return!0}return!1}class xMe{constructor(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}}function Ib(i,e,t){if(!t)return new CM(i,null);let n=[];for(let r=0,s=e.length;r<s;r++)n[r]=e[r];return new CM(i,n)}class Jie{constructor(e){let t=[],n=0;for(let r=0,s=e.length;r<s;r++)e.charCodeAt(r)===10&&(t[n++]=r);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let n=0,r=t.length-1;if(r===-1||e<=t[0])return 0;for(;n<r;){const s=n+((r-n)/2>>0);t[s]>=e?r=s-1:t[s+1]>=e?(n=s,r=s):n=s+1}return n+1}}class _5{static findMatches(e,t,n,r,s){const o=t.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(e,n,new lS(o.wordSeparators,o.regex),r,s):this._doFindMatchesLineByLine(e,n,o,r,s):[]}static _getMultilineMatchRange(e,t,n,r,s,o){let a,u=0;r?(u=r.findLineFeedCountBeforeOffset(s),a=t+s+u):a=t+s;let c;if(r){let m=r.findLineFeedCountBeforeOffset(s+o.length)-u;c=a+o.length+m}else c=a+o.length;const h=e.getPositionAt(a),f=e.getPositionAt(c);return new Q(h.lineNumber,h.column,f.lineNumber,f.column)}static _doFindMatchesMultiline(e,t,n,r,s){const o=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),u=e.getEOL()===`\r
`?new Jie(a):null,c=[];let h=0,f;for(n.reset(0);f=n.next(a);)if(c[h++]=Ib(this._getMultilineMatchRange(e,o,a,u,f.index,f[0]),f,r),h>=s)return c;return c}static _doFindMatchesLineByLine(e,t,n,r,s){const o=[];let a=0;if(t.startLineNumber===t.endLineNumber){const c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(n,c,t.startLineNumber,t.startColumn-1,a,o,r,s),o}const u=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(n,u,t.startLineNumber,t.startColumn-1,a,o,r,s);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<s;c++)a=this._findMatchesInLine(n,e.getLineContent(c),c,0,a,o,r,s);if(a<s){const c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(n,c,t.endLineNumber,0,a,o,r,s)}return o}static _findMatchesInLine(e,t,n,r,s,o,a,u){const c=e.wordSeparators;if(!a&&e.simpleSearch){const p=e.simpleSearch,m=p.length,v=t.length;let b=-m;for(;(b=t.indexOf(p,b+m))!==-1;)if((!c||sQ(c,t,v,b,m))&&(o[s++]=new CM(new Q(n,b+1+r,n,b+1+m+r),null),s>=u))return s;return s}const h=new lS(e.wordSeparators,e.regex);let f;h.reset(0);do if(f=h.next(t),f&&(o[s++]=Ib(new Q(n,f.index+1+r,n,f.index+1+f[0].length+r),f,a),s>=u))return s;while(f);return s}static findNextMatch(e,t,n,r){const s=t.parseSearchRequest();if(!s)return null;const o=new lS(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindNextMatchMultiline(e,n,o,r):this._doFindNextMatchLineByLine(e,n,o,r)}static _doFindNextMatchMultiline(e,t,n,r){const s=new Ee(t.lineNumber,1),o=e.getOffsetAt(s),a=e.getLineCount(),u=e.getValueInRange(new Q(s.lineNumber,s.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new Jie(u):null;n.reset(t.column-1);let h=n.next(u);return h?Ib(this._getMultilineMatchRange(e,o,u,c,h.index,h[0]),h,r):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new Ee(1,1),n,r):null}static _doFindNextMatchLineByLine(e,t,n,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o),u=this._findFirstMatchInLine(n,a,o,t.column,r);if(u)return u;for(let c=1;c<=s;c++){const h=(o+c-1)%s,f=e.getLineContent(h+1),p=this._findFirstMatchInLine(n,f,h+1,1,r);if(p)return p}return null}static _findFirstMatchInLine(e,t,n,r,s){e.reset(r-1);const o=e.next(t);return o?Ib(new Q(n,o.index+1,n,o.index+1+o[0].length),o,s):null}static findPreviousMatch(e,t,n,r){const s=t.parseSearchRequest();if(!s)return null;const o=new lS(s.wordSeparators,s.regex);return s.regex.multiline?this._doFindPreviousMatchMultiline(e,n,o,r):this._doFindPreviousMatchLineByLine(e,n,o,r)}static _doFindPreviousMatchMultiline(e,t,n,r){const s=this._doFindMatchesMultiline(e,new Q(1,1,t.lineNumber,t.column),n,r,10*wMe);if(s.length>0)return s[s.length-1];const o=e.getLineCount();return t.lineNumber!==o||t.column!==e.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(e,new Ee(o,e.getLineMaxColumn(o)),n,r):null}static _doFindPreviousMatchLineByLine(e,t,n,r){const s=e.getLineCount(),o=t.lineNumber,a=e.getLineContent(o).substring(0,t.column-1),u=this._findLastMatchInLine(n,a,o,r);if(u)return u;for(let c=1;c<=s;c++){const h=(s+o-c-1)%s,f=e.getLineContent(h+1),p=this._findLastMatchInLine(n,f,h+1,r);if(p)return p}return null}static _findLastMatchInLine(e,t,n,r){let s=null,o;for(e.reset(0);o=e.next(t);)s=Ib(new Q(n,o.index+1,n,o.index+1+o[0].length),o,r);return s}}function EMe(i,e,t,n,r){if(n===0)return!0;const s=e.charCodeAt(n-1);if(i.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(n);if(i.get(o)!==0)return!0}return!1}function LMe(i,e,t,n,r){if(n+r===t)return!0;const s=e.charCodeAt(n+r);if(i.get(s)!==0||s===13||s===10)return!0;if(r>0){const o=e.charCodeAt(n+r-1);if(i.get(o)!==0)return!0}return!1}function sQ(i,e,t,n,r){return EMe(i,e,t,n,r)&&LMe(i,e,t,n,r)}class lS{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let n;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(n=this._searchRegex.exec(e),!n))return null;const r=n.index,s=n[0].length;if(r===this._prevMatchStartIndex&&s===this._prevMatchLength){if(s===0){qb(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=s,!this._wordSeparators||sQ(this._wordSeparators,e,t,r,s))return n}while(n);return null}}const Sp=65535;function wpe(i){let e;return i[i.length-1]<65536?e=new Uint16Array(i.length):e=new Uint32Array(i.length),e.set(i,0),e}class DMe{constructor(e,t,n,r,s){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=r,this.isBasicASCII=s}}function Mp(i,e=!0){let t=[0],n=1;for(let r=0,s=i.length;r<s;r++){const o=i.charCodeAt(r);o===13?r+1<s&&i.charCodeAt(r+1)===10?(t[n++]=r+2,r++):t[n++]=r+1:o===10&&(t[n++]=r+1)}return e?wpe(t):t}function TMe(i,e){i.length=0,i[0]=0;let t=1,n=0,r=0,s=0,o=!0;for(let u=0,c=e.length;u<c;u++){const h=e.charCodeAt(u);h===13?u+1<c&&e.charCodeAt(u+1)===10?(s++,i[t++]=u+2,u++):(n++,i[t++]=u+1):h===10?(r++,i[t++]=u+1):o&&h!==9&&(h<32||h>126)&&(o=!1)}const a=new DMe(wpe(i),n,r,s,o);return i.length=0,a}class Nl{constructor(e,t,n,r,s){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=r,this.length=s}}class kb{constructor(e,t){this.buffer=e,this.lineStarts=t}}class IMe{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==hn&&e.iterate(e.root,n=>(n!==hn&&this._pieces.push(n.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class kMe{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,n=this._cache;for(let r=0;r<n.length;r++){let s=n[r];if(s.node.parent===null||s.nodeStartOffset>=e){n[r]=null,t=!0;continue}}if(t){let r=[];for(const s of n)s!==null&&r.push(s);this._cache=r}}}class NMe{constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new kb("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=hn,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let r=null;for(let s=0,o=e.length;s<o;s++)if(e[s].buffer.length>0){e[s].lineStarts||(e[s].lineStarts=Mp(e[s].buffer));let a=new Nl(s+1,{line:0,column:0},{line:e[s].lineStarts.length-1,column:e[s].buffer.length-e[s].lineStarts[e[s].lineStarts.length-1]},e[s].lineStarts.length-1,e[s].buffer.length);this._buffers.push(e[s]),r=this.rbInsertRight(r,a)}this._searchCache=new kMe(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=Sp,n=t-Math.floor(t/3),r=n*2,s="",o=0,a=[];if(this.iterate(this.root,u=>{let c=this.getNodeContent(u),h=c.length;if(o<=n||o+h<r)return s+=c,o+=h,!0;let f=s.replace(/\r\n|\r|\n/g,e);return a.push(new kb(f,Mp(f))),s=c,o=h,!0}),o>0){let u=s.replace(/\r\n|\r|\n/g,e);a.push(new kb(u,Mp(u)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new IMe(this,e)}getOffsetAt(e,t){let n=0,r=this.root;for(;r!==hn;)if(r.left!==hn&&r.lf_left+1>=e)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=e){n+=r.size_left;let s=this.getAccumulatedValue(r,e-r.lf_left-2);return n+=s+t-1}else e-=r.lf_left+r.piece.lineFeedCnt,n+=r.size_left+r.piece.length,r=r.right;return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0,r=e;for(;t!==hn;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){let s=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+s.index,s.index===0){let o=this.getOffsetAt(n+1,1),a=r-o;return new Ee(n+1,a+1)}return new Ee(n+1,s.remainder+1)}else if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===hn){let s=this.getOffsetAt(n+1,1),o=r-e-s;return new Ee(n+1,o+1)}else t=t.right;return new Ee(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let n=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),s=this.getValueInRange2(n,r);return t?t!==this._EOL||!this._EOLNormalized?s.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?s:s.replace(/\r\n|\r|\n/g,t):s}getValueInRange2(e,t){if(e.node===t.node){let a=e.node,u=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return u.substring(c+e.remainder,c+t.remainder)}let n=e.node,r=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),o=r.substring(s+e.remainder,s+n.piece.length);for(n=n.next();n!==hn;){let a=this._buffers[n.piece.bufferIndex].buffer,u=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){o+=a.substring(u,u+t.remainder);break}else o+=a.substr(u,n.piece.length);n=n.next()}return o}getLinesContent(){let e=[],t=0,n="",r=!1;return this.iterate(this.root,s=>{if(s===hn)return!0;const o=s.piece;let a=o.length;if(a===0)return!0;const u=this._buffers[o.bufferIndex].buffer,c=this._buffers[o.bufferIndex].lineStarts,h=o.start.line,f=o.end.line;let p=c[h]+o.start.column;if(r&&(u.charCodeAt(p)===10&&(p++,a--),e[t++]=n,n="",r=!1,a===0))return!0;if(h===f)return!this._EOLNormalized&&u.charCodeAt(p+a-1)===13?(r=!0,n+=u.substr(p,a-1)):n+=u.substr(p,a),!0;n+=this._EOLNormalized?u.substring(p,Math.max(p,c[h+1]-this._EOLLength)):u.substring(p,c[h+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;for(let m=h+1;m<f;m++)n=this._EOLNormalized?u.substring(c[m],c[m+1]-this._EOLLength):u.substring(c[m],c[m+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;return!this._EOLNormalized&&u.charCodeAt(c[f]+o.end.column-1)===13?(r=!0,o.end.column===0?t--:n=u.substr(c[f],o.end.column-1)):n=u.substr(c[f],o.end.column),!0}),r&&(e[t++]=n,n=""),e[t++]=n,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let n=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return n.buffer.charCodeAt(r)}else{let t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){let n=this.nodeAt2(e,t+1);return this._getCharCode(n)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,n,r,s,o,a,u,c,h,f){let p=this._buffers[e.piece.bufferIndex],m=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),v=this.offsetInBuffer(e.piece.bufferIndex,s),b=this.offsetInBuffer(e.piece.bufferIndex,o),S,x={line:0,column:0},w,E;t._wordSeparators?(w=p.buffer.substring(v,b),E=N=>N+v,t.reset(0)):(w=p.buffer,E=N=>N,t.reset(v));do if(S=t.next(w),S){if(E(S.index)>=b)return h;this.positionInBuffer(e,E(S.index)-m,x);let N=this.getLineFeedCnt(e.piece.bufferIndex,s,x),A=x.line===s.line?x.column-s.column+r:x.column+1,H=A+S[0].length;if(f[h++]=Ib(new Q(n+N,A,n+N,H),S,u),E(S.index)+S[0].length>=b||h>=c)return h}while(S);return h}findMatchesLineByLine(e,t,n,r){const s=[];let o=0;const a=new lS(t.wordSeparators,t.regex);let u=this.nodeAt2(e.startLineNumber,e.startColumn);if(u===null)return[];let c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let h=this.positionInBuffer(u.node,u.remainder),f=this.positionInBuffer(c.node,c.remainder);if(u.node===c.node)return this.findMatchesInNode(u.node,a,e.startLineNumber,e.startColumn,h,f,t,n,r,o,s),s;let p=e.startLineNumber,m=u.node;for(;m!==c.node;){let b=this.getLineFeedCnt(m.piece.bufferIndex,h,m.piece.end);if(b>=1){let x=this._buffers[m.piece.bufferIndex].lineStarts,w=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start),E=x[h.line+b],N=p===e.startLineNumber?e.startColumn:1;if(o=this.findMatchesInNode(m,a,p,N,h,this.positionInBuffer(m,E-w),t,n,r,o,s),o>=r)return s;p+=b}let S=p===e.startLineNumber?e.startColumn-1:0;if(p===e.endLineNumber){const x=this.getLineContent(p).substring(S,e.endColumn-1);return o=this._findMatchesInLine(t,a,x,e.endLineNumber,S,o,s,n,r),s}if(o=this._findMatchesInLine(t,a,this.getLineContent(p).substr(S),p,S,o,s,n,r),o>=r)return s;p++,u=this.nodeAt2(p,1),m=u.node,h=this.positionInBuffer(u.node,u.remainder)}if(p===e.endLineNumber){let b=p===e.startLineNumber?e.startColumn-1:0;const S=this.getLineContent(p).substring(b,e.endColumn-1);return o=this._findMatchesInLine(t,a,S,e.endLineNumber,b,o,s,n,r),s}let v=p===e.startLineNumber?e.startColumn:1;return o=this.findMatchesInNode(c.node,a,p,v,h,f,t,n,r,o,s),s}_findMatchesInLine(e,t,n,r,s,o,a,u,c){const h=e.wordSeparators;if(!u&&e.simpleSearch){const p=e.simpleSearch,m=p.length,v=n.length;let b=-m;for(;(b=n.indexOf(p,b+m))!==-1;)if((!h||sQ(h,n,v,b,m))&&(a[o++]=new CM(new Q(r,b+1+s,r,b+1+m+s),null),o>=c))return o;return o}let f;t.reset(0);do if(f=t.next(n),f&&(a[o++]=Ib(new Q(r,f.index+1+s,r,f.index+1+f[0].length+s),f,u),o>=c))return o;while(f);return o}insert(e,t,n=!1){if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==hn){let{node:r,remainder:s,nodeStartOffset:o}=this.nodeAt(e),a=r.piece,u=a.bufferIndex,c=this.positionInBuffer(r,s);if(r.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&o+a.length===e&&t.length<Sp){this.appendToNode(r,t),this.computeBufferMetadata();return}if(o===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(o+r.piece.length>e){let h=[],f=new Nl(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(u,a.end)-this.offsetInBuffer(u,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(r,s)===10){let b={line:f.start.line+1,column:0};f=new Nl(f.bufferIndex,b,f.end,this.getLineFeedCnt(f.bufferIndex,b,f.end),f.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(r,s-1)===13){let b=this.positionInBuffer(r,s-1);this.deleteNodeTail(r,b),t="\r"+t,r.piece.length===0&&h.push(r)}else this.deleteNodeTail(r,c);else this.deleteNodeTail(r,c);let p=this.createNewPieces(t);f.length>0&&this.rbInsertRight(r,f);let m=r;for(let v=0;v<p.length;v++)m=this.rbInsertRight(m,p[v]);this.deleteNodes(h)}else this.insertContentToNodeRight(t,r)}else{let r=this.createNewPieces(t),s=this.rbInsertLeft(null,r[0]);for(let o=1;o<r.length;o++)s=this.rbInsertRight(s,r[o])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===hn)return;let n=this.nodeAt(e),r=this.nodeAt(e+t),s=n.node,o=r.node;if(s===o){let p=this.positionInBuffer(s,n.remainder),m=this.positionInBuffer(s,r.remainder);if(n.nodeStartOffset===e){if(t===s.piece.length){let v=s.next();m5(this,s),this.validateCRLFWithPrevNode(v),this.computeBufferMetadata();return}this.deleteNodeHead(s,m),this._searchCache.validate(e),this.validateCRLFWithPrevNode(s),this.computeBufferMetadata();return}if(n.nodeStartOffset+s.piece.length===e+t){this.deleteNodeTail(s,p),this.validateCRLFWithNextNode(s),this.computeBufferMetadata();return}this.shrinkNode(s,p,m),this.computeBufferMetadata();return}let a=[],u=this.positionInBuffer(s,n.remainder);this.deleteNodeTail(s,u),this._searchCache.validate(e),s.piece.length===0&&a.push(s);let c=this.positionInBuffer(o,r.remainder);this.deleteNodeHead(o,c),o.piece.length===0&&a.push(o);let h=s.next();for(let p=h;p!==hn&&p!==o;p=p.next())a.push(p);let f=s.piece.length===0?s.prev():s;this.deleteNodes(a),this.validateCRLFWithNextNode(f),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let o=t.piece,a={line:o.start.line+1,column:0},u=new Nl(o.bufferIndex,a,o.end,this.getLineFeedCnt(o.bufferIndex,a,o.end),o.length-1);t.piece=u,e+=`
`,Np(this,t,-1,-1),t.piece.length===0&&n.push(t)}let r=this.createNewPieces(e),s=this.rbInsertLeft(t,r[r.length-1]);for(let o=r.length-2;o>=0;o--)s=this.rbInsertLeft(s,r[o]);this.validateCRLFWithPrevNode(s),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);let n=this.createNewPieces(e),r=this.rbInsertRight(t,n[0]),s=r;for(let o=1;o<n.length;o++)s=this.rbInsertRight(s,n[o]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,n){let r=e.piece,s=e.piece.bufferIndex,o=this._buffers[s].lineStarts,u=o[r.start.line]+r.start.column+t,c=r.start.line,h=r.end.line,f=0,p=0,m=0;for(;c<=h&&(f=c+(h-c)/2|0,m=o[f],f!==h);)if(p=o[f+1],u<m)h=f-1;else if(u>=p)c=f+1;else break;return n?(n.line=f,n.column=u-m,null):{line:f,column:u-m}}getLineFeedCnt(e,t,n){if(n.column===0)return n.line-t.line;let r=this._buffers[e].lineStarts;if(n.line===r.length-1)return n.line-t.line;let s=r[n.line+1],o=r[n.line]+n.column;if(s>o+1)return n.line-t.line;let a=o-1;return this._buffers[e].buffer.charCodeAt(a)===13?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)m5(this,e[t])}createNewPieces(e){if(e.length>Sp){let h=[];for(;e.length>Sp;){const p=e.charCodeAt(Sp-1);let m;p===13||p>=55296&&p<=56319?(m=e.substring(0,Sp-1),e=e.substring(Sp-1)):(m=e.substring(0,Sp),e=e.substring(Sp));let v=Mp(m);h.push(new Nl(this._buffers.length,{line:0,column:0},{line:v.length-1,column:m.length-v[v.length-1]},v.length-1,m.length)),this._buffers.push(new kb(m,v))}let f=Mp(e);return h.push(new Nl(this._buffers.length,{line:0,column:0},{line:f.length-1,column:e.length-f[f.length-1]},f.length-1,e.length)),this._buffers.push(new kb(e,f)),h}let t=this._buffers[0].buffer.length;const n=Mp(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let h=0;h<n.length;h++)n[h]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let h=0;h<n.length;h++)n[h]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+=e}const s=this._buffers[0].buffer.length;let o=this._buffers[0].lineStarts.length-1,a=s-this._buffers[0].lineStarts[o],u={line:o,column:a},c=new Nl(0,r,u,this.getLineFeedCnt(0,r,u),s-t);return this._lastChangeBufferPos=u,[c]}getLineRawContent(e,t=0){let n=this.root,r="",s=this._searchCache.get2(e);if(s){n=s.node;let o=this.getAccumulatedValue(n,e-s.nodeStartLineNumber-1),a=this._buffers[n.piece.bufferIndex].buffer,u=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(s.nodeStartLineNumber+n.piece.lineFeedCnt===e)r=a.substring(u+o,u+n.piece.length);else{let c=this.getAccumulatedValue(n,e-s.nodeStartLineNumber);return a.substring(u+o,u+c-t)}}else{let o=0;const a=e;for(;n!==hn;)if(n.left!==hn&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){let u=this.getAccumulatedValue(n,e-n.lf_left-2),c=this.getAccumulatedValue(n,e-n.lf_left-1),h=this._buffers[n.piece.bufferIndex].buffer,f=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return o+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:o,nodeStartLineNumber:a-(e-1-n.lf_left)}),h.substring(f+u,f+c-t)}else if(n.lf_left+n.piece.lineFeedCnt===e-1){let u=this.getAccumulatedValue(n,e-n.lf_left-2),c=this._buffers[n.piece.bufferIndex].buffer,h=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r=c.substring(h+u,h+n.piece.length);break}else e-=n.lf_left+n.piece.lineFeedCnt,o+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==hn;){let o=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){let a=this.getAccumulatedValue(n,0),u=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r+=o.substring(u,u+a-t),r}else{let a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r+=o.substr(a,n.piece.length)}n=n.next()}return r}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==hn;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.validate(this._length)}getIndexOf(e,t){let n=e.piece,r=this.positionInBuffer(e,t),s=r.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){let o=this.getLineFeedCnt(e.piece.bufferIndex,n.start,r);if(o!==s)return{index:o,remainder:0}}return{index:s,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;let n=e.piece,r=this._buffers[n.bufferIndex].lineStarts,s=n.start.line+t+1;return s>n.end.line?r[n.end.line]+n.end.column-r[n.start.line]-n.start.column:r[s]-r[n.start.line]-n.start.column}deleteNodeTail(e,t){const n=e.piece,r=n.lineFeedCnt,s=this.offsetInBuffer(n.bufferIndex,n.end),o=t,a=this.offsetInBuffer(n.bufferIndex,o),u=this.getLineFeedCnt(n.bufferIndex,n.start,o),c=u-r,h=a-s,f=n.length+h;e.piece=new Nl(n.bufferIndex,n.start,o,u,f),Np(this,e,h,c)}deleteNodeHead(e,t){const n=e.piece,r=n.lineFeedCnt,s=this.offsetInBuffer(n.bufferIndex,n.start),o=t,a=this.getLineFeedCnt(n.bufferIndex,o,n.end),u=this.offsetInBuffer(n.bufferIndex,o),c=a-r,h=s-u,f=n.length+h;e.piece=new Nl(n.bufferIndex,o,n.end,a,f),Np(this,e,h,c)}shrinkNode(e,t,n){const r=e.piece,s=r.start,o=r.end,a=r.length,u=r.lineFeedCnt,c=t,h=this.getLineFeedCnt(r.bufferIndex,r.start,c),f=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,s);e.piece=new Nl(r.bufferIndex,r.start,c,h,f),Np(this,e,f-a,h-u);let p=new Nl(r.bufferIndex,n,o,this.getLineFeedCnt(r.bufferIndex,n,o),this.offsetInBuffer(r.bufferIndex,o)-this.offsetInBuffer(r.bufferIndex,n)),m=this.rbInsertRight(e,p);this.validateCRLFWithPrevNode(m)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const s=Mp(t,!1);for(let m=0;m<s.length;m++)s[m]+=r;if(n){let m=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-m}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1));const o=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[o],u={line:o,column:a},c=e.piece.length+t.length,h=e.piece.lineFeedCnt,f=this.getLineFeedCnt(0,e.piece.start,u),p=f-h;e.piece=new Nl(e.piece.bufferIndex,e.piece.start,u,f,c),this._lastChangeBufferPos=u,Np(this,e,t.length,p)}nodeAt(e){let t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let r=0;for(;t!==hn;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){r+=t.size_left;let s={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(s),s}else e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let n=this.root,r=0;for(;n!==hn;)if(n.left!==hn&&n.lf_left>=e-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>e-1){let s=this.getAccumulatedValue(n,e-n.lf_left-2),o=this.getAccumulatedValue(n,e-n.lf_left-1);return r+=n.size_left,{node:n,remainder:Math.min(s+t-1,o),nodeStartOffset:r}}else if(n.lf_left+n.piece.lineFeedCnt===e-1){let s=this.getAccumulatedValue(n,e-n.lf_left-2);if(s+t-1<=n.piece.length)return{node:n,remainder:s+t-1,nodeStartOffset:r};t-=n.piece.length-s;break}else e-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==hn;){if(n.piece.lineFeedCnt>0){let s=this.getAccumulatedValue(n,0),o=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,s),nodeStartOffset:o}}else if(n.piece.length>=t-1){let s=this.offsetOfNode(n);return{node:n,remainder:t-1,nodeStartOffset:s}}else t-=n.piece.length;n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let n=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===hn||e.piece.lineFeedCnt===0)return!1;let t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,s=n[r]+t.start.column;return r===n.length-1||n[r+1]>s+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(s)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===hn||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let n=[],r=this._buffers[e.piece.bufferIndex].lineStarts,s;e.piece.end.column===0?s={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:s={line:e.piece.end.line,column:e.piece.end.column-1};const o=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Nl(e.piece.bufferIndex,e.piece.start,s,a,o),Np(this,e,-1,-1),e.piece.length===0&&n.push(e);let u={line:t.piece.start.line+1,column:0};const c=t.piece.length-1,h=this.getLineFeedCnt(t.piece.bufferIndex,u,t.piece.end);t.piece=new Nl(t.piece.bufferIndex,u,t.piece.end,h,c),Np(this,t,-1,-1),t.piece.length===0&&n.push(t);let f=this.createNewPieces(`\r
`);this.rbInsertRight(e,f[0]);for(let p=0;p<n.length;p++)m5(this,n[p])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let n=t.next();if(this.startWithLF(n)){if(e+=`
`,n.piece.length===1)m5(this,n);else{const r=n.piece,s={line:r.start.line+1,column:0},o=r.length-1,a=this.getLineFeedCnt(r.bufferIndex,s,r.end);n.piece=new Nl(r.bufferIndex,s,r.end,a,o),Np(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===hn)return t(hn);let n=this.iterate(e.left,t);return n&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===hn)return"";let t=this._buffers[e.piece.bufferIndex],n,r=e.piece,s=this.offsetInBuffer(r.bufferIndex,r.start),o=this.offsetInBuffer(r.bufferIndex,r.end);return n=t.buffer.substring(s,o),n}getPieceContent(e){let t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,r)}rbInsertRight(e,t){let n=new Gj(t,1);if(n.left=hn,n.right=hn,n.parent=hn,n.size_left=0,n.lf_left=0,this.root===hn)this.root=n,n.color=0;else if(e.right===hn)e.right=n,n.parent=e;else{let s=nQ(e.right);s.left=n,n.parent=s}return Qie(this,n),n}rbInsertLeft(e,t){let n=new Gj(t,1);if(n.left=hn,n.right=hn,n.parent=hn,n.size_left=0,n.lf_left=0,this.root===hn)this.root=n,n.color=0;else if(e.left===hn)e.left=n,n.parent=e;else{let r=ype(e.left);r.right=n,n.parent=r}return Qie(this,n),n}}function Spe(i){return AB(i,0)}function AB(i,e){switch(typeof i){case"object":return i===null?im(349,e):Array.isArray(i)?OMe(i,e):MMe(i,e);case"string":return oQ(i,e);case"boolean":return AMe(i,e);case"number":return im(i,e);case"undefined":return im(937,e);default:return im(617,e)}}function im(i,e){return(e<<5)-e+i|0}function AMe(i,e){return im(i?433:863,e)}function oQ(i,e){e=im(149417,e);for(let t=0,n=i.length;t<n;t++)e=im(i.charCodeAt(t),e);return e}function OMe(i,e){return e=im(104579,e),i.reduce((t,n)=>AB(n,t),e)}function MMe(i,e){return e=im(181387,e),Object.keys(i).sort().reduce((t,n)=>(t=oQ(n,t),AB(i[n],t)),e)}function FH(i,e,t=32){const n=t-e,r=~((1<<n)-1);return(i<<e|(r&i)>>>n)>>>0}function ere(i,e=0,t=i.byteLength,n=0){for(let r=0;r<t;r++)i[e+r]=n}function RMe(i,e,t="0"){for(;i.length<e;)i=t+i;return i}function pA(i,e=32){return i instanceof ArrayBuffer?Array.from(new Uint8Array(i)).map(t=>t.toString(16).padStart(2,"0")).join(""):RMe((i>>>0).toString(16),e/4)}class OB{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const n=this._buff;let r=this._buffLen,s=this._leftoverHighSurrogate,o,a;for(s!==0?(o=s,a=-1,s=0):(o=e.charCodeAt(0),a=0);;){let u=o;if(no(o))if(a+1<t){const c=e.charCodeAt(a+1);yx(c)?(a++,u=NX(o,c)):u=65533}else{s=o;break}else yx(o)&&(u=65533);if(r=this._push(n,r,u),a++,a<t)o=e.charCodeAt(a);else break}this._buffLen=r,this._leftoverHighSurrogate=s}_push(e,t,n){return n<128?e[t++]=n:n<2048?(e[t++]=192|(n&1984)>>>6,e[t++]=128|(n&63)>>>0):n<65536?(e[t++]=224|(n&61440)>>>12,e[t++]=128|(n&4032)>>>6,e[t++]=128|(n&63)>>>0):(e[t++]=240|(n&1835008)>>>18,e[t++]=128|(n&258048)>>>12,e[t++]=128|(n&4032)>>>6,e[t++]=128|(n&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64+0],e[1]=e[64+1],e[2]=e[64+2]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),pA(this._h0)+pA(this._h1)+pA(this._h2)+pA(this._h3)+pA(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,ere(this._buff,this._buffLen),this._buffLen>56&&(this._step(),ere(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=OB._bigBlock32,t=this._buffDV;for(let f=0;f<64;f+=4)e.setUint32(f,t.getUint32(f,!1),!1);for(let f=64;f<320;f+=4)e.setUint32(f,FH(e.getUint32(f-12,!1)^e.getUint32(f-32,!1)^e.getUint32(f-56,!1)^e.getUint32(f-64,!1),1),!1);let n=this._h0,r=this._h1,s=this._h2,o=this._h3,a=this._h4,u,c,h;for(let f=0;f<80;f++)f<20?(u=r&s|~r&o,c=1518500249):f<40?(u=r^s^o,c=1859775393):f<60?(u=r&s|r&o|s&o,c=2400959708):(u=r^s^o,c=3395469782),h=FH(n,5)+u+a+c+e.getUint32(f*4,!1)&4294967295,a=o,o=s,s=FH(r,30),r=n,n=h;this._h0=this._h0+n&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+a&4294967295}}OB._bigBlock32=new DataView(new ArrayBuffer(320));var tre,nre;class PMe{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),n=this._value.charCodeAt(this._pos);return t-n}value(){return this._value[this._pos]}}class FMe{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?IX(e,this._value,0,e.length,this._from,this._to):jP(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class BMe{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?IX(e,this._value,0,e.length,this._from,this._to):jP(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class WMe{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new BMe(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return Ij(e,this._value.scheme);if(this._states[this._stateIdx]===2)return Ij(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return pM(e,this._value.query);if(this._states[this._stateIdx]===5)return pM(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class v5{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return(t=(e=this.left)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}get heightRight(){var e,t;return(t=(e=this.right)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}}class zS{constructor(e){this._iter=e}static forUris(e=()=>!1){return new zS(new WMe(e))}static forStrings(){return new zS(new PMe)}static forConfigKeys(){return new zS(new FMe)}clear(){this._root=void 0}set(e,t){const n=this._iter.reset(e);let r;this._root||(this._root=new v5,this._root.segment=n.value());const s=[];for(r=this._root;;){const a=n.cmp(r.segment);if(a>0)r.left||(r.left=new v5,r.left.segment=n.value()),s.push([-1,r]),r=r.left;else if(a<0)r.right||(r.right=new v5,r.right.segment=n.value()),s.push([1,r]),r=r.right;else if(n.hasNext())n.next(),r.mid||(r.mid=new v5,r.mid.segment=n.value()),s.push([0,r]),r=r.mid;else break}const o=r.value;r.value=t,r.key=e;for(let a=s.length-1;a>=0;a--){const u=s[a][1];u.updateHeight();const c=u.balanceFactor();if(c<-1||c>1){const h=s[a][0],f=s[a+1][0];if(h===1&&f===1)s[a][1]=u.rotateLeft();else if(h===-1&&f===-1)s[a][1]=u.rotateRight();else if(h===1&&f===-1)u.right=s[a+1][1]=s[a+1][1].rotateRight(),s[a][1]=u.rotateLeft();else if(h===-1&&f===1)u.left=s[a+1][1]=s[a+1][1].rotateLeft(),s[a][1]=u.rotateRight();else throw new Error;if(a>0)switch(s[a-1][0]){case-1:s[a-1][1].left=s[a][1];break;case 1:s[a-1][1].right=s[a][1];break;case 0:s[a-1][1].mid=s[a][1];break}else this._root=s[0][1]}}return o}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let n=this._root;for(;n;){const r=t.cmp(n.segment);if(r>0)n=n.left;else if(r<0)n=n.right;else if(t.hasNext())t.next(),n=n.mid;else break}return n}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var n;const r=this._iter.reset(e),s=[];let o=this._root;for(;o;){const a=r.cmp(o.segment);if(a>0)s.push([-1,o]),o=o.left;else if(a<0)s.push([1,o]),o=o.right;else if(r.hasNext())r.next(),s.push([0,o]),o=o.mid;else break}if(o){if(t?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){const a=this._min(o.right),{key:u,value:c,segment:h}=a;this._delete(a.key,!1),o.key=u,o.value=c,o.segment=h}else{const a=(n=o.left)!==null&&n!==void 0?n:o.right;if(s.length>0){const[u,c]=s[s.length-1];switch(u){case-1:c.left=a;break;case 0:c.mid=a;break;case 1:c.right=a;break}}else this._root=a}for(let a=s.length-1;a>=0;a--){const u=s[a][1];u.updateHeight();const c=u.balanceFactor();if(c>1?(u.right.balanceFactor()>=0||(u.right=s[a+1][1]=s[a+1][1].rotateRight()),s[a][1]=u.rotateLeft()):c<-1&&(u.left.balanceFactor()<=0||(u.left=s[a+1][1]=s[a+1][1].rotateLeft()),s[a][1]=u.rotateRight()),a>0)switch(s[a-1][0]){case-1:s[a-1][1].left=s[a][1];break;case 1:s[a-1][1].right=s[a][1];break;case 0:s[a-1][1].mid=s[a][1];break}else this._root=s[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let n=this._root,r;for(;n;){const s=t.cmp(n.segment);if(s>0)n=n.left;else if(s<0)n=n.right;else if(t.hasNext())t.next(),r=n.value||r,n=n.mid;else break}return n&&n.value||r}findSuperstr(e){const t=this._iter.reset(e);let n=this._root;for(;n;){const r=t.cmp(n.segment);if(r>0)n=n.left;else if(r<0)n=n.right;else if(t.hasNext())t.next(),n=n.mid;else return n.mid?this._entries(n.mid):void 0}}forEach(e){for(const[t,n]of this)e(n,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(e.left&&(yield*this._entries(e.left)),e.value&&(yield[e.key,e.value]),e.mid&&(yield*this._entries(e.mid)),e.right&&(yield*this._entries(e.right)))}}class VMe{constructor(e,t){this.uri=e,this.value=t}}class ya{constructor(e,t){this[tre]="ResourceMap",e instanceof ya?(this.map=new Map(e.map),this.toKey=t??ya.defaultToKey):(this.map=new Map,this.toKey=e??ya.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new VMe(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))===null||t===void 0?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(let[n,r]of this.map)e(r.value,r.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(tre=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}}ya.defaultToKey=i=>i.toString();class HMe{constructor(){this[nre]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const n=this._map.get(e);if(n)return t!==0&&this.touch(n,t),n.value}set(e,t,n=0){let r=this._map.get(e);if(r)r.value=t,n!==0&&this.touch(r,n);else{switch(r={key:e,value:t,next:void 0,previous:void 0},n){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return r}[(nre=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const n=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(n.previous=r,r.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const n=e.next,r=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=r,r.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}class X1 extends HMe{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}function ad(i,e,t){return Math.min(Math.max(i,e),t)}class $Me{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this}get value(){return this._val}}const BH="**",ire="/",q6="[/\\\\]",G6="[^/\\\\]",zMe=/\//g;function rre(i){switch(i){case 0:return"";case 1:return`${G6}*?`;default:return`(?:${q6}|${G6}+${q6}|${q6}${G6}+)*?`}}function sre(i,e){if(!i)return[];const t=[];let n=!1,r=!1,s="";for(const o of i){switch(o){case e:if(!n&&!r){t.push(s),s="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":r=!0;break;case"]":r=!1;break}s+=o}return s&&t.push(s),t}function xpe(i){if(!i)return"";let e="";const t=sre(i,ire);if(t.every(n=>n===BH))e=".*";else{let n=!1;t.forEach((r,s)=>{if(r===BH){n||(e+=rre(2),n=!0);return}let o=!1,a="",u=!1,c="";for(const h of r){if(h!=="}"&&o){a+=h;continue}if(u&&(h!=="]"||!c)){let f;h==="-"?f=h:(h==="^"||h==="!")&&!c?f="^":h===ire?f="":f=Bc(h),c+=f;continue}switch(h){case"{":o=!0;continue;case"[":u=!0;continue;case"}":const p=`(?:${sre(a,",").map(m=>xpe(m)).join("|")})`;e+=p,o=!1,a="";break;case"]":e+="["+c+"]",u=!1,c="";break;case"?":e+=G6;continue;case"*":e+=rre(1);continue;default:e+=Bc(h)}}s<t.length-1&&(t[s+1]!==BH||s+2<t.length)&&(e+=q6),n=!1})}return e}const UMe=/^\*\*\/\*\.[\w\.-]+$/,jMe=/^\*\*\/([\w\.-]+)\/?$/,KMe=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,qMe=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,GMe=/^\*\*((\/[\w\.-]+)+)\/?$/,YMe=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,ore=new X1(1e4),are=function(){return!1},Wg=function(){return null};function aQ(i,e){if(!i)return Wg;let t;typeof i!="string"?t=i.pattern:t=i,t=t.trim();const n=`${t}_${!!e.trimForExclusions}`;let r=ore.get(n);if(r)return lre(r,i);let s;if(UMe.test(t)){const o=t.substr(4);r=function(a,u){return typeof a=="string"&&a.endsWith(o)?t:null}}else(s=jMe.exec(WH(t,e)))?r=ZMe(s[1],t):(e.trimForExclusions?qMe:KMe).test(t)?r=XMe(t,e):(s=GMe.exec(WH(t,e)))?r=ure(s[1].substr(1),t,!0):(s=YMe.exec(WH(t,e)))?r=ure(s[1],t,!1):r=QMe(t);return ore.set(n,r),lre(r,i)}function lre(i,e){return typeof e=="string"?i:function(t,n){return XOe(t,e.base)?i(aIe(e.base,t),n):null}}function WH(i,e){return e.trimForExclusions&&i.endsWith("/**")?i.substr(0,i.length-2):i}function ZMe(i,e){const t=`/${i}`,n=`\\${i}`,r=function(o,a){return typeof o!="string"?null:a?a===i?e:null:o===i||o.endsWith(t)||o.endsWith(n)?e:null},s=[i];return r.basenames=s,r.patterns=[e],r.allBasenames=s,r}function XMe(i,e){const t=Lpe(i.slice(1,-1).split(",").map(a=>aQ(a,e)).filter(a=>a!==Wg),i),n=t.length;if(!n)return Wg;if(n===1)return t[0];const r=function(a,u){for(let c=0,h=t.length;c<h;c++)if(t[c](a,u))return i;return null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,u)=>u.allPaths?a.concat(u.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function ure(i,e,t){const n=sC===Hs.sep,r=n?i:i.replace(zMe,sC),s=sC+r,o=Hs.sep+i,a=t?function(u,c){return typeof u=="string"&&(u===r||u.endsWith(s)||!n&&(u===i||u.endsWith(o)))?e:null}:function(u,c){return typeof u=="string"&&(u===r||!n&&u===i)?e:null};return a.allPaths=[(t?"*/":"./")+i],a}function QMe(i){try{const e=new RegExp(`^${xpe(i)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?i:null}}catch{return Wg}}function JMe(i,e,t){return!i||typeof e!="string"?!1:Epe(i)(e,void 0,t)}function Epe(i,e={}){if(!i)return are;if(typeof i=="string"||eRe(i)){const t=aQ(i,e);if(t===Wg)return are;const n=function(r,s){return!!t(r,s)};return t.allBasenames&&(n.allBasenames=t.allBasenames),t.allPaths&&(n.allPaths=t.allPaths),n}return tRe(i,e)}function eRe(i){const e=i;return e&&typeof e.base=="string"&&typeof e.pattern=="string"}function tRe(i,e){const t=Lpe(Object.getOwnPropertyNames(i).map(a=>nRe(a,i[a],e)).filter(a=>a!==Wg)),n=t.length;if(!n)return Wg;if(!t.some(a=>!!a.requiresSiblings)){if(n===1)return t[0];const a=function(h,f){for(let p=0,m=t.length;p<m;p++){const v=t[p](h,f);if(v)return v}return null},u=t.find(h=>!!h.allBasenames);u&&(a.allBasenames=u.allBasenames);const c=t.reduce((h,f)=>f.allPaths?h.concat(f.allPaths):h,[]);return c.length&&(a.allPaths=c),a}const r=function(a,u,c){let h;for(let f=0,p=t.length;f<p;f++){const m=t[f];m.requiresSiblings&&c&&(u||(u=rC(a)),h||(h=u.substr(0,u.length-lIe(a).length)));const v=m(a,u,h,c);if(v)return v}return null},s=t.find(a=>!!a.allBasenames);s&&(r.allBasenames=s.allBasenames);const o=t.reduce((a,u)=>u.allPaths?a.concat(u.allPaths):a,[]);return o.length&&(r.allPaths=o),r}function nRe(i,e,t){if(e===!1)return Wg;const n=aQ(i,t);if(n===Wg)return Wg;if(typeof e=="boolean")return n;if(e){const r=e.when;if(typeof r=="string"){const s=(o,a,u,c)=>{if(!c||!n(o,a))return null;const h=r.replace("$(basename)",u),f=c(h);return Y2e(f)?f.then(p=>p?i:null):f?i:null};return s.requiresSiblings=!0,s}}return n}function Lpe(i,e){const t=i.filter(a=>!!a.basenames);if(t.length<2)return i;const n=t.reduce((a,u)=>{const c=u.basenames;return c?a.concat(c):a},[]);let r;if(e){r=[];for(let a=0,u=n.length;a<u;a++)r.push(e)}else r=t.reduce((a,u)=>{const c=u.patterns;return c?a.concat(c):a},[]);const s=function(a,u){if(typeof a!="string")return null;if(!u){let h;for(h=a.length;h>0;h--){const f=a.charCodeAt(h-1);if(f===47||f===92)break}u=a.substr(h)}const c=n.indexOf(u);return c!==-1?r[c]:null};s.basenames=n,s.patterns=r,s.allBasenames=n;const o=i.filter(a=>!a.basenames);return o.push(s),o}function Dpe(i,e,t,n){if(Array.isArray(i)){let r=0;for(const s of i){const o=Dpe(s,e,t,n);if(o===10)return o;o>r&&(r=o)}return r}else{if(typeof i=="string")return n?i==="*"?5:i===t?10:0:0;if(i){const{language:r,pattern:s,scheme:o,hasAccessToAllModels:a}=i;if(!n&&!a)return 0;let u=0;if(o)if(o===e.scheme)u=10;else if(o==="*")u=5;else return 0;if(r)if(r===t)u=10;else if(r==="*")u=Math.max(u,5);else return 0;if(s){let c;if(typeof s=="string"?c=s:c=Object.assign(Object.assign({},s),{base:bX(s.base)}),c===e.fsPath||JMe(c,e.fsPath))u=10;else return 0}return u}else return 0}}function Tpe(i){return typeof i=="string"?!1:Array.isArray(i)?i.every(Tpe):!!i.exclusive}class hs{constructor(){this._clock=0,this._entries=[],this._onDidChange=new ye}get onDidChange(){return this._onDidChange.event}register(e,t){let n={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Yn(()=>{if(n){let r=this._entries.indexOf(n);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let n of this._entries)n._score>0&&t.push(n.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,n=>t.push(n.provider)),t}orderedGroups(e){const t=[];let n,r;return this._orderedForEach(e,s=>{n&&r===s._score?n.push(s.provider):(r=s._score,n=[s.provider],t.push(n))}),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const n of this._entries)n._score>0&&t(n)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===t.language&&this._lastCandidate.uri===t.uri)){this._lastCandidate=t;for(let n of this._entries)if(n._score=Dpe(n.selector,e.uri,e.getLanguageId(),FIe(e)),Tpe(n.selector)&&n._score>0){for(let r of this._entries)r._score=0;n._score=1e3;break}this._entries.sort(hs._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}const cre=new WeakMap;let iRe=0;function rRe(i){let e=cre.get(i);return e===void 0&&(e=++iRe,cre.set(i,e)),e}class RF{constructor(e,t,n=Number.MAX_SAFE_INTEGER){this._registry=e,this.min=t,this.max=n,this._cache=new X1(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,n)=>AB(rRe(n),t),0)}_clamp(e){return e===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(e*1.3)))}get(e){const t=this._key(e),n=this._cache.get(t);return this._clamp(n==null?void 0:n.value)}update(e,t){const n=this._key(e);let r=this._cache.get(n);return r||(r=new $Me,this._cache.set(n,r)),r.update(t),this.get(e)}}class sRe{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new ye,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Yn(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let n=null,r=!1;return this._promises.set(e,t.then(s=>{this._promises.delete(e),!(r||!s)&&(n=this.register(e,s))})),Yn(()=>{r=!0,n&&n.dispose()})}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const n=this._promises.get(e);return n?n.then(r=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class wa{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static getClassNameFromMetadata(e){let n="mtk"+this.getForeground(e),r=this.getFontStyle(e);return r&1&&(n+=" mtki"),r&2&&(n+=" mtkb"),r&4&&(n+=" mtku"),n}static getInlineStyleFromMetadata(e,t){const n=this.getForeground(e),r=this.getFontStyle(e);let s=`color: ${t[n]};`;return r&1&&(s+="font-style: italic;"),r&2&&(s+="font-weight: bold;"),r&4&&(s+="text-decoration: underline;"),s}}const oRe=function(){let i=Object.create(null);return i[0]="symbol-method",i[1]="symbol-function",i[2]="symbol-constructor",i[3]="symbol-field",i[4]="symbol-variable",i[5]="symbol-class",i[6]="symbol-struct",i[7]="symbol-interface",i[8]="symbol-module",i[9]="symbol-property",i[10]="symbol-event",i[11]="symbol-operator",i[12]="symbol-unit",i[13]="symbol-value",i[14]="symbol-constant",i[15]="symbol-enum",i[16]="symbol-enum-member",i[17]="symbol-keyword",i[27]="symbol-snippet",i[18]="symbol-text",i[19]="symbol-color",i[20]="symbol-file",i[21]="symbol-reference",i[22]="symbol-customcolor",i[23]="symbol-folder",i[24]="symbol-type-parameter",i[25]="account",i[26]="issues",function(e){const t=i[e];let n=t&&bF.get(t);return n||(console.info("No codicon found for CompletionItemKind "+e),n=ve.symbolProperty),n.classNames}}();let Ipe=function(){let i=Object.create(null);return i.method=0,i.function=1,i.constructor=2,i.field=3,i.variable=4,i.class=5,i.struct=6,i.interface=7,i.module=8,i.property=9,i.event=10,i.operator=11,i.unit=12,i.value=13,i.constant=14,i.enum=15,i["enum-member"]=16,i.enumMember=16,i.keyword=17,i.snippet=27,i.text=18,i.color=19,i.file=20,i.reference=21,i.customcolor=22,i.folder=23,i["type-parameter"]=24,i.typeParameter=24,i.account=25,i.issue=26,function(e,t){let n=i[e];return typeof n>"u"&&!t&&(n=9),n}}();var Sc;(function(i){i[i.Automatic=0]="Automatic",i[i.Explicit=1]="Explicit"})(Sc||(Sc={}));var Vg;(function(i){i[i.Invoke=1]="Invoke",i[i.TriggerCharacter=2]="TriggerCharacter",i[i.ContentChange=3]="ContentChange"})(Vg||(Vg={}));var yM;(function(i){i[i.Text=0]="Text",i[i.Read=1]="Read",i[i.Write=2]="Write"})(yM||(yM={}));function aRe(i){return i&&an.isUri(i.uri)&&Q.isIRange(i.range)&&(Q.isIRange(i.originSelectionRange)||Q.isIRange(i.targetSelectionRange))}var Yj;(function(i){const e=new Map;e.set("file",0),e.set("module",1),e.set("namespace",2),e.set("package",3),e.set("class",4),e.set("method",5),e.set("property",6),e.set("field",7),e.set("constructor",8),e.set("enum",9),e.set("interface",10),e.set("function",11),e.set("variable",12),e.set("constant",13),e.set("string",14),e.set("number",15),e.set("boolean",16),e.set("array",17),e.set("object",18),e.set("key",19),e.set("null",20),e.set("enum-member",21),e.set("struct",22),e.set("event",23),e.set("operator",24),e.set("type-parameter",25);const t=new Map;t.set(0,"file"),t.set(1,"module"),t.set(2,"namespace"),t.set(3,"package"),t.set(4,"class"),t.set(5,"method"),t.set(6,"property"),t.set(7,"field"),t.set(8,"constructor"),t.set(9,"enum"),t.set(10,"interface"),t.set(11,"function"),t.set(12,"variable"),t.set(13,"constant"),t.set(14,"string"),t.set(15,"number"),t.set(16,"boolean"),t.set(17,"array"),t.set(18,"object"),t.set(19,"key"),t.set(20,"null"),t.set(21,"enum-member"),t.set(22,"struct"),t.set(23,"event"),t.set(24,"operator"),t.set(25,"type-parameter");function n(o){return e.get(o)}i.fromString=n;function r(o){return t.get(o)}i.toString=r;function s(o,a){const u=t.get(o);let c=u&&bF.get("symbol-"+u);return c||(console.info("No codicon found for SymbolKind "+o),c=ve.symbolProperty),`${a?"inline":"block"} ${c.classNames}`}i.toCssClassName=s})(Yj||(Yj={}));class Ff{constructor(e){this.value=e}}Ff.Comment=new Ff("comment");Ff.Imports=new Ff("imports");Ff.Region=new Ff("region");var PF;(function(i){i[i.Other=0]="Other",i[i.Type=1]="Type",i[i.Parameter=2]="Parameter"})(PF||(PF={}));const FF=new hs,BF=new hs,ff=new hs,lQ=new hs,dC=new hs,wM=new hs,yd=new hs,Sx=new hs,WF=new hs,SM=new hs,VF=new hs,HF=new hs,$F=new hs,qp=new hs,F0=new hs,Hg=new hs,EO=new hs,gf=new hs,zF=new hs,xM=new hs,xx=new hs,MB=new hs,Zj=new hs,Ex=new hs,RB=new hs,Xr=new sRe;class _o{constructor(e,t,n){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=n}static createEmpty(e,t){const n=_o.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=e.length,r[1]=n,new _o(r,e,t)}equals(e){return e instanceof _o?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,n){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const r=t<<1,s=r+(n<<1);for(let o=r;o<s;o++)if(this._tokens[o]!==e._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],n=wa.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(n)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return wa.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return wa.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return wa.getClassNameFromMetadata(t)}getInlineStyle(e,t){const n=this._tokens[(e<<1)+1];return wa.getInlineStyleFromMetadata(n,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return _o.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,n){return new uQ(this,e,t,n)}static convertToEndOffset(e,t){const r=(e.length>>>1)-1;for(let s=0;s<r;s++)e[s<<1]=e[s+1<<1];e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let n=0,r=(e.length>>>1)-1;for(;n<r;){const s=n+Math.floor((r-n)/2),o=e[s<<1];if(o===t)return s+1;o<t?n=s+1:o>t&&(r=s)}return n}withInserted(e){if(e.length===0)return this;let t=0,n=0,r="";const s=new Array;let o=0;for(;;){let a=t<this._tokensCount?this._tokens[t<<1]:-1,u=n<e.length?e[n]:null;if(a!==-1&&(u===null||a<=u.offset)){r+=this._text.substring(o,a);const c=this._tokens[(t<<1)+1];s.push(r.length,c),t++,o=a}else if(u){if(u.offset>o){r+=this._text.substring(o,u.offset);const c=this._tokens[(t<<1)+1];s.push(r.length,c),o=u.offset}r+=u.text,s.push(r.length,u.tokenMetadata),n++}else break}return new _o(new Uint32Array(s),r,this._languageIdCodec)}}_o.defaultTokenMetadata=(16384|2<<23)>>>0;class uQ{constructor(e,t,n,r){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let s=this._firstTokenIndex,o=e.getCount();s<o&&!(e.getStartOffset(s)>=n);s++)this._tokensCount++}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof uQ?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}function JC(i){let e=0,t=0,n=0,r=0;for(let s=0,o=i.length;s<o;s++){const a=i.charCodeAt(s);a===13?(e===0&&(t=s),e++,s+1<o&&i.charCodeAt(s+1)===10?(r|=2,s++):r|=3,n=s+1):a===10&&(r|=1,e===0&&(t=s),e++,n=s+1)}return e===0&&(t=i.length),[e,t,i.length-n,r]}function dre(i){return(i<<0|0|0|16384|2<<23)>>>0}const xp=new Uint32Array(0).buffer;class VH{constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){const n=this.tokens[this.tokens.length-1];if(n.startLineNumber+n.tokens.length-1+1===e){n.tokens.push(t);return}}this.tokens.push(new lRe(e,[t]))}}class UF{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let n=0;n<this._tokenCount;n++)t.push(`(${this._getDeltaLine(n)+e},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(e===0)return null;const t=this._getStartCharacter(0),n=this._getDeltaLine(e-1),r=this._getEndCharacter(e-1);return new Q(0,t+1,n,r+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,n=this._getTokenCount()-1;for(;t<n;){const r=t+Math.floor((n-t)/2),s=this._getDeltaLine(r);if(s<e)t=r+1;else if(s>e)n=r-1;else{let o=r;for(;o>t&&this._getDeltaLine(o-1)===e;)o--;let a=r;for(;a<n&&this._getDeltaLine(a+1)===e;)a++;return new hre(this._tokens.subarray(4*o,4*a+4))}}return this._getDeltaLine(t)===e?new hre(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,n,r){const s=this._tokens,o=this._tokenCount;let a=0,u=!1,c=0;for(let h=0;h<o;h++){const f=4*h,p=s[f],m=s[f+1],v=s[f+2],b=s[f+3];if((p>e||p===e&&v>=t)&&(p<n||p===n&&m<=r))u=!0;else{if(a===0&&(c=p),u){const S=4*a;s[S]=p-c,s[S+1]=m,s[S+2]=v,s[S+3]=b}a++}}return this._tokenCount=a,c}split(e,t,n,r){const s=this._tokens,o=this._tokenCount;let a=[],u=[],c=a,h=0,f=0;for(let p=0;p<o;p++){const m=4*p,v=s[m],b=s[m+1],S=s[m+2],x=s[m+3];if(v>e||v===e&&S>=t){if(v<n||v===n&&b<=r)continue;c!==u&&(c=u,h=0,f=v)}c[h++]=v-f,c[h++]=b,c[h++]=S,c[h++]=x}return[new UF(new Uint32Array(a)),new UF(new Uint32Array(u)),f]}acceptDeleteRange(e,t,n,r,s){const o=this._tokens,a=this._tokenCount,u=r-t;let c=0,h=!1;for(let f=0;f<a;f++){const p=4*f;let m=o[p],v=o[p+1],b=o[p+2];const S=o[p+3];if(m<t||m===t&&b<=n){c++;continue}else if(m===t&&v<n)m===r&&b>s?b-=s-n:b=n;else if(m===t&&v===n)if(m===r&&b>s)b-=s-n;else{h=!0;continue}else if(m<r||m===r&&v<s)if(m===r&&b>s)m===t?(v=n,b=v+(b-s)):(v=0,b=v+(b-s));else{h=!0;continue}else if(m>r){if(u===0&&!h){c=a;break}m-=u}else if(m===r&&v>=s)e&&m===0&&(v+=e,b+=e),m-=u,v-=s-n,b-=s-n;else throw new Error("Not possible!");const x=4*c;o[x]=m,o[x+1]=v,o[x+2]=b,o[x+3]=S,c++}this._tokenCount=c}acceptInsertText(e,t,n,r,s,o){const a=n===0&&r===1&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),u=this._tokens,c=this._tokenCount;for(let h=0;h<c;h++){const f=4*h;let p=u[f],m=u[f+1],v=u[f+2];if(!(p<e||p===e&&v<t)){if(p===e&&v===t)if(a)v+=1;else continue;else if(p===e&&m<t&&t<v)n===0?v+=r:v=t;else{if(p===e&&m===t&&a)continue;if(p===e)if(p+=n,n===0)m+=r,v+=r;else{const b=v-m;m=s+(m-t),v=m+b}else p+=n}u[f]=p,u[f+1]=m,u[f+2]=v}}}}class hre{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class jF{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){const e=this.tokens.getRange();return e&&new Q(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){const t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,n,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber,[r,s,o]=this.tokens.split(t,e.startColumn-1,n,e.endColumn-1);return[new jF(this.startLineNumber,r),new jF(this.startLineNumber+o,s)]}applyEdit(e,t){const[n,r,s]=JC(t);this.acceptEdit(e,n,r,s,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,n,r,s){this._acceptDeleteRange(e),this._acceptInsertText(new Ee(e.startLineNumber,e.startColumn),t,n,r,s),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber;if(n<0){const s=n-t;this.startLineNumber-=s;return}const r=this.tokens.getMaxDeltaLine();if(!(t>=r+1)){if(t<0&&n>=r+1){this.startLineNumber=0,this.tokens.clear();return}if(t<0){const s=-t;this.startLineNumber-=s,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,n,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,n,e.endColumn-1)}}_acceptInsertText(e,t,n,r,s){if(t===0&&n===0)return;const o=e.lineNumber-this.startLineNumber;if(o<0){this.startLineNumber+=t;return}const a=this.tokens.getMaxDeltaLine();o>=a+1||this.tokens.acceptInsertText(o,e.column-1,t,n,r,s)}}class lRe{constructor(e,t){this.startLineNumber=e,this.tokens=t}}function Ep(i){return i instanceof Uint32Array?i:new Uint32Array(i)}class cQ{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let n=e;if(t.length>0){const s=t[0].getRange(),o=t[t.length-1].getRange();if(!s||!o)return e;n=e.plusRange(s).plusRange(o)}let r=null;for(let s=0,o=this._pieces.length;s<o;s++){const a=this._pieces[s];if(a.endLineNumber<n.startLineNumber)continue;if(a.startLineNumber>n.endLineNumber){r=r||{index:s};break}if(a.removeTokens(n),a.isEmpty()){this._pieces.splice(s,1),s--,o--;continue}if(a.endLineNumber<n.startLineNumber)continue;if(a.startLineNumber>n.endLineNumber){r=r||{index:s};continue}const[u,c]=a.split(n);if(u.isEmpty()){r=r||{index:s};continue}c.isEmpty()||(this._pieces.splice(s,1,u,c),s++,o++,r=r||{index:s})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=_M(this._pieces,r.index,t)),n}isComplete(){return this._isComplete}addSemanticTokens(e,t){const n=this._pieces;if(n.length===0)return t;const r=cQ._findFirstPieceWithLine(n,e),s=n[r].getLineTokens(e);if(!s)return t;const o=t.getCount(),a=s.getCount();let u=0,c=[],h=0,f=0;const p=(m,v)=>{m!==f&&(f=m,c[h++]=m,c[h++]=v)};for(let m=0;m<a;m++){const v=s.getStartCharacter(m),b=s.getEndCharacter(m),S=s.getMetadata(m),x=((S&1?2048:0)|(S&2?4096:0)|(S&4?8192:0)|(S&8?8372224:0)|(S&16?4286578688:0))>>>0,w=~x>>>0;for(;u<o&&t.getEndOffset(u)<=v;)p(t.getEndOffset(u),t.getMetadata(u)),u++;for(u<o&&t.getStartOffset(u)<v&&p(v,t.getMetadata(u));u<o&&t.getEndOffset(u)<b;)p(t.getEndOffset(u),t.getMetadata(u)&w|S&x),u++;if(u<o)p(b,t.getMetadata(u)&w|S&x),t.getEndOffset(u)===b&&u++;else{const E=Math.min(Math.max(0,u-1),o-1);p(b,t.getMetadata(E)&w|S&x)}}for(;u<o;)p(t.getEndOffset(u),t.getMetadata(u)),u++;return new _o(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let n=0,r=e.length-1;for(;n<r;){let s=n+Math.floor((r-n)/2);if(e[s].endLineNumber<t)n=s+1;else if(e[s].startLineNumber>t)r=s-1;else{for(;s>n&&e[s-1].startLineNumber<=t&&t<=e[s-1].endLineNumber;)s--;return s}}return n}acceptEdit(e,t,n,r,s){for(const o of this._pieces)o.acceptEdit(e,t,n,r,s)}}class mc{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,n){let r=null;if(t<this._len&&(r=this._lineTokens[t]),r!==null&&r!==xp)return new _o(Ep(r),n,this._languageIdCodec);const s=new Uint32Array(2);return s[0]=n.length,s[1]=dre(this._languageIdCodec.encodeLanguageId(e)),new _o(s,n,this._languageIdCodec)}static _massageTokens(e,t,n){const r=n?Ep(n):null;if(t===0){let s=!1;if(r&&r.length>1&&(s=wa.getLanguageId(r[1])!==e),!s)return xp}if(!r||r.length===0){const s=new Uint32Array(2);return s[0]=t,s[1]=dre(e),s.buffer}return r[r.length-2]=t,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;let n=[];for(let r=0;r<t;r++)n[r]=null;this._lineTokens=_M(this._lineTokens,e,n),this._len+=t}setTokens(e,t,n,r,s){const o=mc._massageTokens(this._languageIdCodec.encodeLanguageId(e),n,r);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=o,s?!mc._equals(a,o):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const n=Ep(e),r=Ep(t);if(n.length!==r.length)return!1;for(let s=0,o=n.length;s<o;s++)if(n[s]!==r[s])return!1;return!0}acceptEdit(e,t,n){this._acceptDeleteRange(e),this._acceptInsertText(new Ee(e.startLineNumber,e.startColumn),t,n)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=mc._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=mc._deleteEnding(this._lineTokens[t],e.startColumn-1);const n=e.endLineNumber-1;let r=null;n<this._len&&(r=mc._deleteBeginning(this._lineTokens[n],e.endColumn-1)),this._lineTokens[t]=mc._append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,n){if(t===0&&n===0)return;const r=e.lineNumber-1;if(!(r>=this._len)){if(t===0){this._lineTokens[r]=mc._insert(this._lineTokens[r],e.column-1,n);return}this._lineTokens[r]=mc._deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=mc._insert(this._lineTokens[r],e.column-1,n),this._insertLines(e.lineNumber,t)}}static _deleteBeginning(e,t){return e===null||e===xp?e:mc._delete(e,0,t)}static _deleteEnding(e,t){if(e===null||e===xp)return e;const n=Ep(e),r=n[n.length-2];return mc._delete(e,t,r)}static _delete(e,t,n){if(e===null||e===xp||t===n)return e;const r=Ep(e),s=r.length>>>1;if(t===0&&r[r.length-2]===n)return xp;const o=_o.findIndexInTokensArray(r,t),a=o>0?r[o-1<<1]:0,u=r[o<<1];if(n<u){const m=n-t;for(let v=o;v<s;v++)r[v<<1]-=m;return e}let c,h;a!==t?(r[o<<1]=t,c=o+1<<1,h=t):(c=o<<1,h=a);const f=n-t;for(let m=o+1;m<s;m++){const v=r[m<<1]-f;v>h&&(r[c++]=v,r[c++]=r[(m<<1)+1],h=v)}if(c===r.length)return e;let p=new Uint32Array(c);return p.set(r.subarray(0,c),0),p.buffer}static _append(e,t){if(t===xp)return e;if(e===xp)return t;if(e===null)return e;if(t===null)return null;const n=Ep(e),r=Ep(t),s=r.length>>>1;let o=new Uint32Array(n.length+r.length);o.set(n,0);let a=n.length;const u=n[n.length-2];for(let c=0;c<s;c++)o[a++]=r[c<<1]+u,o[a++]=r[(c<<1)+1];return o.buffer}static _insert(e,t,n){if(e===null||e===xp)return e;const r=Ep(e),s=r.length>>>1;let o=_o.findIndexInTokensArray(r,t);o>0&&r[o-1<<1]===t&&o--;for(let a=o;a<s;a++)r[a<<1]+=n;return e}}class US extends Me{constructor(e,t,n,r,s,o,a){super(),this._onDidChangeContent=this._register(new ye),this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._pieceTree=new NMe(e,n,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let n=e+t;const r=this.getPositionAt(e),s=this.getPositionAt(n);return new Q(r.lineNumber,r.column,s.lineNumber,s.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let n=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-n}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let n=0;const r=e.startLineNumber,s=e.endLineNumber;for(let o=r;o<=s;o++){const a=this.getLineContent(o),u=o===r?e.startColumn-1:0,c=o===s?e.endColumn-1:a.length;for(let h=u;h<c;h++)no(a.charCodeAt(h))?(n=n+1,h=h+1):n=n+1}return n+=this._getEndOfLine(t).length*(s-r),n}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=Ya(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Bg(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,n){let r=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,o=this._mightContainNonBasicASCII,a=!0,u=[];for(let b=0;b<e.length;b++){let S=e[b];a&&S._isTracked&&(a=!1);let x=S.range;if(S.text){let H=!0;o||(H=!AX(S.text),o=H),!r&&H&&(r=dB(S.text)),!s&&H&&(s=sge(S.text))}let w="",E=0,N=0,A=0;if(S.text){let H;[E,N,A,H]=JC(S.text);const R=this.getEOL();H===0||H===(R===`\r
`?2:1)?w=S.text:w=S.text.replace(/\r\n|\r|\n/g,R)}u[b]={sortIndex:b,identifier:S.identifier||null,range:x,rangeOffset:this.getOffsetAt(x.startLineNumber,x.startColumn),rangeLength:this.getValueLengthInRange(x),text:w,eolCount:E,firstLineLength:N,lastLineLength:A,forceMoveMarkers:!!S.forceMoveMarkers,isAutoWhitespaceEdit:S.isAutoWhitespaceEdit||!1}}u.sort(US._sortOpsAscending);let c=!1;for(let b=0,S=u.length-1;b<S;b++){let x=u[b].range.getEndPosition(),w=u[b+1].range.getStartPosition();if(w.isBeforeOrEqual(x)){if(w.isBefore(x))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(u=this._reduceOperations(u));let h=n||t?US._getInverseEditRanges(u):[],f=[];if(t)for(let b=0;b<u.length;b++){let S=u[b],x=h[b];if(S.isAutoWhitespaceEdit&&S.range.isEmpty())for(let w=x.startLineNumber;w<=x.endLineNumber;w++){let E="";w===x.startLineNumber&&(E=this.getLineContent(S.range.startLineNumber),Ya(E)!==-1)||f.push({lineNumber:w,oldContent:E})}}let p=null;if(n){let b=0;p=[];for(let S=0;S<u.length;S++){const x=u[S],w=h[S],E=this.getValueInRange(x.range),N=x.rangeOffset+b;b+=x.text.length-E.length,p[S]={sortIndex:x.sortIndex,identifier:x.identifier,range:w,text:E,textChange:new Uo(x.rangeOffset,E,N,x.text)}}c||p.sort((S,x)=>S.sortIndex-x.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=o;const m=this._doApplyEdits(u);let v=null;if(t&&f.length>0){f.sort((b,S)=>S.lineNumber-b.lineNumber),v=[];for(let b=0,S=f.length;b<S;b++){let x=f[b].lineNumber;if(b>0&&f[b-1].lineNumber===x)continue;let w=f[b].oldContent,E=this.getLineContent(x);E.length===0||E===w||Ya(E)!==-1||v.push(x)}}return this._onDidChangeContent.fire(),new qOe(p,m,v)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const n=e[0].range,r=e[e.length-1].range,s=new Q(n.startLineNumber,n.startColumn,r.endLineNumber,r.endColumn);let o=n.startLineNumber,a=n.startColumn;const u=[];for(let m=0,v=e.length;m<v;m++){const b=e[m],S=b.range;t=t||b.forceMoveMarkers,u.push(this.getValueInRange(new Q(o,a,S.startLineNumber,S.startColumn))),b.text.length>0&&u.push(b.text),o=S.endLineNumber,a=S.endColumn}const c=u.join(""),[h,f,p]=JC(c);return{sortIndex:0,identifier:e[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:c,eolCount:h,firstLineLength:f,lastLineLength:p,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(US._sortOpsDescending);let t=[];for(let n=0;n<e.length;n++){let r=e[n];const s=r.range.startLineNumber,o=r.range.startColumn,a=r.range.endLineNumber,u=r.range.endColumn;if(s===a&&o===u&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const c=new Q(s,o,a,u);t.push({range:c,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,n,r){return this._pieceTree.findMatchesLineByLine(e,t,n,r)}static _getInverseEditRanges(e){let t=[],n=0,r=0,s=null;for(let o=0,a=e.length;o<a;o++){let u=e[o],c,h;s?s.range.endLineNumber===u.range.startLineNumber?(c=n,h=r+(u.range.startColumn-s.range.endColumn)):(c=n+(u.range.startLineNumber-s.range.endLineNumber),h=u.range.startColumn):(c=u.range.startLineNumber,h=u.range.startColumn);let f;if(u.text.length>0){const p=u.eolCount+1;p===1?f=new Q(c,h,c,h+u.firstLineLength):f=new Q(c,h,c+p-1,u.lastLineLength+1)}else f=new Q(c,h,c,h);n=f.endLineNumber,r=f.endColumn,t.push(f),s=u}return t}static _sortOpsAscending(e,t){let n=Q.compareRangesUsingEnds(e.range,t.range);return n===0?e.sortIndex-t.sortIndex:n}static _sortOpsDescending(e,t){let n=Q.compareRangesUsingEnds(e.range,t.range);return n===0?t.sortIndex-e.sortIndex:-n}}class uRe{constructor(e,t,n,r,s,o,a,u,c){this._chunks=e,this._bom=t,this._cr=n,this._lf=r,this._crlf=s,this._containsRTL=o,this._containsUnusualLineTerminators=a,this._isBasicASCII=u,this._normalizeEOL=c}_getEOL(e){const t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:n>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e);let n=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let s=0,o=n.length;s<o;s++){let a=n[s].buffer.replace(/\r\n|\r|\n/g,t),u=Mp(a);n[s]=new kb(a,u)}const r=new US(n,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}class cRe{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&OX(e)&&(this.BOM=nke,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=TMe(this._tmpLineStarts,e);this.chunks.push(new kb(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=dB(e)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=sge(e))}finish(e=!0){return this._finish(),new uRe(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=Mp(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class dRe{constructor(){this.changeType=1}}class Bf{constructor(e,t,n,r,s){this.ownerId=e,this.lineNumber=t,this.column=n,this.options=r,this.order=s}static applyInjectedText(e,t){if(!t||t.length===0)return e;let n="",r=0;for(const s of t)n+=e.substring(r,s.column-1),r=s.column-1,n+=s.options.content;return n+=e.substring(r),n}static fromDecorations(e){const t=[];for(const n of e)n.options.before&&n.options.before.content.length>0&&t.push(new Bf(n.ownerId,n.range.startLineNumber,n.range.startColumn,n.options.before,0)),n.options.after&&n.options.after.content.length>0&&t.push(new Bf(n.ownerId,n.range.endLineNumber,n.range.endColumn,n.options.after,1));return t.sort((n,r)=>n.lineNumber===r.lineNumber?n.column===r.column?n.order-r.order:n.column-r.column:n.lineNumber-r.lineNumber),t}}class fre{constructor(e,t,n){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=n}}class hRe{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class fRe{constructor(e,t,n,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}}class gRe{constructor(){this.changeType=5}}class hC{constructor(e,t,n,r){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,n=this.changes.length;t<n;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const n=[].concat(e.changes).concat(t.changes),r=t.versionId,s=e.isUndoing||t.isUndoing,o=e.isRedoing||t.isRedoing;return new hC(n,r,s,o)}}class kpe{constructor(e){this.changes=e}}class KF{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=hC.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),n=KF._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new KF(t,n)}static _mergeChangeEvents(e,t){const n=[].concat(e.changes).concat(t.changes),r=t.eol,s=t.versionId,o=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,u=e.isFlush||t.isFlush;return{changes:n,eol:r,versionId:s,isUndoing:o,isRedoing:a,isFlush:u}}}let PB=class{constructor(e,t,n){this._tokenBrand=void 0,this.offset=e,this.type=t,this.language=n}toString(){return"("+this.offset+", "+this.type+")"}};class dQ{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class FB{constructor(e,t){this._tokenizationResult2Brand=void 0,this.tokens=e,this.endState=t}}class pRe{clone(){return this}equals(e){return this===e}}const YP=new pRe,I1="vs.editor.nullMode";function Npe(i,e,t,n){return new dQ([new PB(n,"",i)],t)}function hQ(i,e,t,n){let r=new Uint32Array(2);return r[0]=n,r[1]=(i<<0|0|0|16384|2<<23)>>>0,new FB(r,t===null?YP:t)}class mRe{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len?this._valid[e]:!1}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const n=[],r=[];for(let s=0;s<t;s++)n[s]=null,r[s]=!1;this._beginState=_M(this._beginState,e,n),this._valid=_M(this._valid,e,r),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,n){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;const r=this.getBeginState(t+1);if(r===null||!n.equals(r)){this._setBeginState(t+1,n),this._invalidateLine(t+1);return}let s=t+1;for(;s<e&&this._isValid(s);)s++;this._invalidLineStartIndex=s}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){const n=e.endLineNumber-e.startLineNumber,s=Math.min(n,t);for(let o=s;o>=0;o--)this._invalidateLine(e.startLineNumber+o-1);this._acceptDeleteRange(e),this._acceptInsertText(new Ee(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class _Re extends Me{constructor(e,t){super(),this._textModel=e,this._languageIdCodec=t,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=new mRe,this._tokenizationSupport=null,this._register(Xr.onDidChange(n=>{const r=this._textModel.getLanguageId();n.changedLanguages.indexOf(r)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(n=>{if(n.isFlush){this._resetTokenizationState();return}for(let r=0,s=n.changes.length;r<s;r++){const o=n.changes[r],[a]=JC(o.text);this._tokenizationStateStore.applyEdits(o.range,a)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=vRe(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,hM(e=>{this._isScheduled=!1,!this._isDisposed&&this._revalidateTokensNow(e)}))}_revalidateTokensNow(e){const t=this._textModel.getLineCount(),n=1,r=new VH,s=Ug.create(!1);let o=-1;do if(s.elapsed()>n||(o=this._tokenizeOneInvalidLine(r),o>=t))break;while(this._hasLinesToTokenize()&&e.timeRemaining()>0);this._beginBackgroundTokenization(),this._textModel.setTokens(r.tokens,!this._hasLinesToTokenize())}tokenizeViewport(e,t){const n=new VH;this._tokenizeViewport(n,e,t),this._textModel.setTokens(n.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new VH;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(e,t){if(!this._tokenizationSupport)return 0;this.forceTokenization(e.lineNumber);const n=this._tokenizationStateStore.getBeginState(e.lineNumber-1);if(!n)return 0;const r=this._textModel.getLanguageId(),s=this._textModel.getLineContent(e.lineNumber),o=s.substring(0,e.column-1)+t+s.substring(e.column-1),a=b5(this._languageIdCodec,r,this._tokenizationSupport,o,!0,n),u=new _o(a.tokens,o,this._languageIdCodec);if(u.getCount()===0)return 0;const c=u.findTokenIndexAtOffset(e.column-1);return u.getStandardTokenType(c)}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return e>t?!1:e<t||this._textModel.getLineLength(e)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;const n=this._textModel.getLanguageId(),r=this._textModel.getLineCount(),s=t-1;for(let o=this._tokenizationStateStore.invalidLineStartIndex;o<=s;o++){const a=this._textModel.getLineContent(o+1),u=this._tokenizationStateStore.getBeginState(o),c=b5(this._languageIdCodec,n,this._tokenizationSupport,a,!0,u);e.add(o+1,c.tokens),this._tokenizationStateStore.setEndState(r,o,c.endState),o=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,n){if(!this._tokenizationSupport||n<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(e,n);return}let r=this._textModel.getLineFirstNonWhitespaceColumn(t);const s=[];let o=null;for(let c=t-1;r>1&&c>=1;c--){const h=this._textModel.getLineFirstNonWhitespaceColumn(c);if(h!==0&&h<r){if(o=this._tokenizationStateStore.getBeginState(c-1),o)break;s.push(this._textModel.getLineContent(c)),r=h}}o||(o=this._tokenizationSupport.getInitialState());const a=this._textModel.getLanguageId();let u=o;for(let c=s.length-1;c>=0;c--)u=b5(this._languageIdCodec,a,this._tokenizationSupport,s[c],!1,u).endState;for(let c=t;c<=n;c++){const h=this._textModel.getLineContent(c),f=b5(this._languageIdCodec,a,this._tokenizationSupport,h,!0,u);e.add(c,f.tokens),this._tokenizationStateStore.setFakeTokens(c-1),u=f.endState}}}function vRe(i){const e=i.getLanguageId();let t=i.isTooLargeForTokenization()?null:Xr.get(e),n=null;if(t)try{n=t.getInitialState()}catch(r){vn(r),t=null}return[t,n]}function b5(i,e,t,n,r,s){let o=null;if(t)try{o=t.tokenize2(n,r,s.clone(),0)}catch(a){vn(a)}return o||(o=hQ(i.encodeLanguageId(e),n,s,0)),_o.convertToEndOffset(o.tokens,n.length),o}var xs;(function(i){i[i.None=0]="None",i[i.Indent=1]="Indent",i[i.IndentOutdent=2]="IndentOutdent",i[i.Outdent=3]="Outdent"})(xs||(xs={}));class HH{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++)switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(e){return(this._standardTokenMask&e)===0}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const n=e.findTokenIndexAtOffset(t-2),r=e.getStandardTokenType(n);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let n=e;n<=t;n++){const r=String.fromCharCode(n);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class bRe{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)mA(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),mA(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),mA(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),mA(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&mA(this.autoClosingPairsCloseSingleChar,t.close,t)}}function mA(i,e,t){i.has(e)?i.get(e).push(t):i.set(e,[t])}function Y6(i,e){let t=i.getCount(),n=i.findTokenIndexAtOffset(e),r=i.getLanguageId(n),s=n;for(;s+1<t&&i.getLanguageId(s+1)===r;)s++;let o=n;for(;o>0&&i.getLanguageId(o-1)===r;)o--;return new CRe(i,r,o,s+1,i.getStartOffset(o),i.getEndOffset(s))}class CRe{constructor(e,t,n,r,s,o){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=r,this.firstCharOffset=s,this._lastCharOffset=o}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function ng(i){return(i&7)!==0}class ZP{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new HH(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new HH({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=gre(e.colorizedBracketPairs.map(t=>[t[0],t[1]])):e.brackets?this._colorizedBracketPairs=gre(e.brackets.map(t=>[t[0],t[1]]).filter(t=>!(t[0]==="<"&&t[1]===">"))):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new HH({open:t.open,close:t.close||""}))}this._autoCloseBefore=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:ZP.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}ZP.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function gre(i){return i.filter(([e,t])=>e!==""&&t!=="")}class qF{constructor(e,t,n,r,s,o){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=n,this.close=r,this.forwardRegex=s,this.reversedRegex=o,this._openSet=qF._toSet(this.open),this._closeSet=qF._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e)t.add(n);return t}}function yRe(i){const e=i.length;i=i.map(o=>[o[0].toLowerCase(),o[1].toLowerCase()]);const t=[];for(let o=0;o<e;o++)t[o]=o;const n=(o,a)=>{const[u,c]=o,[h,f]=a;return u===h||u===f||c===h||c===f},r=(o,a)=>{const u=Math.min(o,a),c=Math.max(o,a);for(let h=0;h<e;h++)t[h]===c&&(t[h]=u)};for(let o=0;o<e;o++){const a=i[o];for(let u=o+1;u<e;u++){const c=i[u];n(a,c)&&r(t[o],t[u])}}const s=[];for(let o=0;o<e;o++){let a=[],u=[];for(let c=0;c<e;c++)if(t[c]===o){const[h,f]=i[c];a.push(h),u.push(f)}a.length>0&&s.push({open:a,close:u})}return s}class wRe{constructor(e,t){this._richEditBracketsBrand=void 0;const n=yRe(t);this.brackets=n.map((r,s)=>new qF(e,s,r.open,r.close,SRe(r.open,r.close,n,s),xRe(r.open,r.close,n,s))),this.forwardRegex=ERe(this.brackets),this.reversedRegex=LRe(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const r of this.brackets){for(const s of r.open)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,s.length);for(const s of r.close)this.textIsBracket[s]=r,this.textIsOpenBracket[s]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,s.length)}}}function Ape(i,e,t,n){for(let r=0,s=e.length;r<s;r++){if(r===t)continue;const o=e[r];for(const a of o.open)a.indexOf(i)>=0&&n.push(a);for(const a of o.close)a.indexOf(i)>=0&&n.push(a)}}function Ope(i,e){return i.length-e.length}function BB(i){if(i.length<=1)return i;const e=[],t=new Set;for(const n of i)t.has(n)||(e.push(n),t.add(n));return e}function SRe(i,e,t,n){let r=[];r=r.concat(i),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)Ape(r[s],t,n,r);return r=BB(r),r.sort(Ope),r.reverse(),WB(r)}function xRe(i,e,t,n){let r=[];r=r.concat(i),r=r.concat(e);for(let s=0,o=r.length;s<o;s++)Ape(r[s],t,n,r);return r=BB(r),r.sort(Ope),r.reverse(),WB(r.map(fQ))}function ERe(i){let e=[];for(const t of i){for(const n of t.open)e.push(n);for(const n of t.close)e.push(n)}return e=BB(e),WB(e)}function LRe(i){let e=[];for(const t of i){for(const n of t.open)e.push(n);for(const n of t.close)e.push(n)}return e=BB(e),WB(e.map(fQ))}function DRe(i){const e=/^[\w ]+$/.test(i);return i=Bc(i),e?`\\b${i}\\b`:i}function WB(i){let e=`(${i.map(DRe).join(")|(")})`;return ige(e,!0)}const fQ=function(){function i(n){if(upe){const r=new Uint16Array(n.length);let s=0;for(let o=n.length-1;o>=0;o--)r[s++]=n.charCodeAt(o);return lpe().decode(r)}else{let r=[],s=0;for(let o=n.length-1;o>=0;o--)r[s++]=n.charAt(o);return r.join("")}}let e=null,t=null;return function(r){return e!==r&&(e=r,t=i(e)),t}}();class id{static _findPrevBracketInText(e,t,n,r){let s=n.match(e);if(!s)return null;let o=n.length-(s.index||0),a=s[0].length,u=r+o;return new Q(t,u-a+1,t,u+1)}static findPrevBracketInRange(e,t,n,r,s){const a=fQ(n).substring(n.length-s,n.length-r);return this._findPrevBracketInText(e,t,a,r)}static findNextBracketInText(e,t,n,r){let s=n.match(e);if(!s)return null;let o=s.index||0,a=s[0].length;if(a===0)return null;let u=r+o;return new Q(t,u+1,t,u+1+a)}static findNextBracketInRange(e,t,n,r,s){const o=n.substring(r,s);return this.findNextBracketInText(e,t,o,r)}}class TRe{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const n of t.close){const r=n.charAt(n.length-1);e.push(r)}return qC(e)}onElectricCharacter(e,t,n){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const r=t.findTokenIndexAtOffset(n-1);if(ng(t.getStandardTokenType(r)))return null;const s=this._richEditBrackets.reversedRegex,o=t.getLineContent().substring(0,n-1)+e,a=id.findPrevBracketInRange(s,1,o,0,o.length);if(!a)return null;const u=o.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[u])return null;const h=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(h)?{matchOpenBracket:u}:null}}function C5(i){return i.global&&(i.lastIndex=0),!0}class IRe{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&C5(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&C5(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&C5(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&C5(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class uS{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const n=uS._createOpenBracketRegExp(t[0]),r=uS._createCloseBracketRegExp(t[1]);n&&r&&this._brackets.push({open:t[0],openRegExp:n,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,r){if(e>=3)for(let s=0,o=this._regExpRules.length;s<o;s++){let a=this._regExpRules[s];if([{reg:a.beforeText,text:n},{reg:a.afterText,text:r},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&n.length>0&&r.length>0)for(let s=0,o=this._brackets.length;s<o;s++){let a=this._brackets[s];if(a.openRegExp.test(n)&&a.closeRegExp.test(r))return{indentAction:xs.IndentOutdent}}if(e>=2&&n.length>0){for(let s=0,o=this._brackets.length;s<o;s++)if(this._brackets[s].openRegExp.test(n))return{indentAction:xs.Indent}}return null}static _createOpenBracketRegExp(e){let t=Bc(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",uS._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=Bc(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,uS._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return vn(t),null}}}const cr=Ci("configurationService");function Mpe(i,e){const t=Object.create(null);for(let n in i)gQ(t,n,i[n],e);return t}function gQ(i,e,t,n){const r=e.split("."),s=r.pop();let o=i;for(let a=0;a<r.length;a++){let u=r[a],c=o[u];switch(typeof c){case"undefined":c=o[u]=Object.create(null);break;case"object":break;default:n(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}o=c}if(typeof o=="object"&&o!==null)try{o[s]=t}catch{n(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}else n(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(o)}`)}function kRe(i,e){const t=e.split(".");Rpe(i,t)}function Rpe(i,e){const t=e.shift();if(e.length===0){delete i[t];return}if(Object.keys(i).indexOf(t)!==-1){const n=i[t];typeof n=="object"&&!Array.isArray(n)&&(Rpe(n,e),Object.keys(n).length===0&&delete i[t])}}function NRe(i,e,t){function n(o,a){let u=o;for(const c of a){if(typeof u!="object"||u===null)return;u=u[c]}return u}const r=e.split("."),s=n(i,r);return typeof s>"u"?t:s}const ta=Ci("modeService");class S0{constructor(e,t=[],n=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}}const Ppe=[];function Q1(i,e,t){e instanceof S0||(e=new S0(e,[],t)),Ppe.push([i,e])}function ARe(){return Ppe}var ORe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},pre=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};class $H{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const XP=Ci("languageConfigurationService");let GF=class extends Me{constructor(e,t){super(),this.configurationService=e,this.modeService=t,this.onDidChangeEmitter=this._register(new ye),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const n=new Set(Object.values(Xj));this._register(this.configurationService.onDidChangeConfiguration(r=>{const s=r.change.keys.some(a=>n.has(a)),o=r.change.overrides.filter(([a,u])=>u.some(c=>n.has(c))).map(([a])=>this.modeService.validateLanguageId(a));if(s)this.configurations.clear(),this.onDidChangeEmitter.fire(new $H(void 0));else for(const a of o)a&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new $H(a)))})),this._register(Si.onDidChange(r=>{this.configurations.delete(r.languageId),this.onDidChangeEmitter.fire(new $H(r.languageId))}))}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=MRe(e,this.configurationService,this.modeService),this.configurations.set(e,t)),t}};GF=ORe([pre(0,cr),pre(1,ta)],GF);function MRe(i,e,t){let n=Si.getLanguageConfiguration(i);if(!n){const a=t.validateLanguageId(i);if(!a)throw new Error("Unexpected languageId");n=new EM(a,{})}const r=RRe(n.languageId,e),s=Fpe([n.underlyingConfig,r]);return new EM(n.languageId,s)}const Xj={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function RRe(i,e){const t=e.getValue(Xj.brackets,{overrideIdentifier:i}),n=e.getValue(Xj.colorizedBracketPairs,{overrideIdentifier:i});return{brackets:mre(t),colorizedBracketPairs:mre(n)}}function mre(i){if(Array.isArray(i))return i.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}class _re{constructor(e){this.languageId=e}}class PRe{constructor(){this._entries=new Map,this._onDidChange=new ye,this.onDidChange=this._onDidChange.event}register(e,t,n=0){let r=this._entries.get(e);r||(r=new FRe(e),this._entries.set(e,r));const s=r.register(t,n);return this._onDidChange.fire(new _re(e)),Yn(()=>{s.dispose(),this._onDidChange.fire(new _re(e))})}getLanguageConfiguration(e){let t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}getIndentationRules(e){const t=this.getLanguageConfiguration(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,n){let r=Y6(t,n-1),s=this._getElectricCharacterSupport(r.languageId);return s?s.onElectricCharacter(e,r,n-r.firstCharOffset):null}getComments(e){let t=this.getLanguageConfiguration(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new bRe(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():ZP.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}getWordDefinition(e){let t=this.getLanguageConfiguration(e);return IF(t&&t.wordDefinition||null)}getFoldingRules(e){let t=this.getLanguageConfiguration(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,n){let r=e.getLanguageIdAtPosition(t,0);if(t>1){let s,o=-1;for(s=t-1;s>=1;s--){if(e.getLanguageIdAtPosition(s,0)!==r)return o;let a=e.getLineContent(s);if(n.shouldIgnore(a)||/^\s+$/.test(a)||a===""){o=s;continue}return s}}return-1}getInheritIndentForLine(e,t,n,r=!0){if(e<4)return null;const s=this.getIndentRulesSupport(t.getLanguageId());if(!s)return null;if(n<=1)return{indentation:"",action:null};const o=this.getPrecedingValidLine(t,n,s);if(o<0)return null;if(o<1)return{indentation:"",action:null};const a=t.getLineContent(o);if(s.shouldIncrease(a)||s.shouldIndentNextLine(a))return{indentation:Xi(a),action:xs.Indent,line:o};if(s.shouldDecrease(a))return{indentation:Xi(a),action:null,line:o};{if(o===1)return{indentation:Xi(t.getLineContent(o)),action:null,line:o};const u=o-1,c=s.getIndentMetadata(t.getLineContent(u));if(!(c&3)&&c&4){let h=0;for(let f=u-1;f>0;f--)if(!s.shouldIndentNextLine(t.getLineContent(f))){h=f;break}return{indentation:Xi(t.getLineContent(h+1)),action:null,line:h+1}}if(r)return{indentation:Xi(t.getLineContent(o)),action:null,line:o};for(let h=o;h>0;h--){const f=t.getLineContent(h);if(s.shouldIncrease(f))return{indentation:Xi(f),action:xs.Indent,line:h};if(s.shouldIndentNextLine(f)){let p=0;for(let m=h-1;m>0;m--)if(!s.shouldIndentNextLine(t.getLineContent(h))){p=m;break}return{indentation:Xi(t.getLineContent(p+1)),action:null,line:p+1}}else if(s.shouldDecrease(f))return{indentation:Xi(f),action:null,line:h}}return{indentation:Xi(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,n,r,s){if(e<4)return null;const o=this.getLanguageConfiguration(n);if(!o)return null;const a=this.getIndentRulesSupport(n);if(!a)return null;const u=this.getInheritIndentForLine(e,t,r),c=t.getLineContent(r);if(u){const h=u.line;if(h!==void 0){const f=o.onEnter(e,"",t.getLineContent(h),"");if(f){let p=Xi(t.getLineContent(h));return f.removeText&&(p=p.substring(0,p.length-f.removeText)),f.indentAction===xs.Indent||f.indentAction===xs.IndentOutdent?p=s.shiftIndent(p):f.indentAction===xs.Outdent&&(p=s.unshiftIndent(p)),a.shouldDecrease(c)&&(p=s.unshiftIndent(p)),f.appendText&&(p+=f.appendText),Xi(p)}}return a.shouldDecrease(c)?u.action===xs.Indent?u.indentation:s.unshiftIndent(u.indentation):u.action===xs.Indent?s.shiftIndent(u.indentation):u.indentation}return null}getIndentForEnter(e,t,n,r){if(e<4)return null;t.forceTokenization(n.startLineNumber);const s=t.getLineTokens(n.startLineNumber),o=Y6(s,n.startColumn-1),a=o.getLineContent();let u=!1,c;o.firstCharOffset>0&&s.getLanguageId(0)!==o.languageId?(u=!0,c=a.substr(0,n.startColumn-1-o.firstCharOffset)):c=s.getLineContent().substring(0,n.startColumn-1);let h;n.isEmpty()?h=a.substr(n.startColumn-1-o.firstCharOffset):h=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-o.firstCharOffset);const f=this.getIndentRulesSupport(o.languageId);if(!f)return null;const p=c,m=Xi(c),v={getLineTokens:w=>t.getLineTokens(w),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(w,E)=>t.getLanguageIdAtPosition(w,E),getLineContent:w=>w===n.startLineNumber?p:t.getLineContent(w)},b=Xi(s.getLineContent()),S=this.getInheritIndentForLine(e,v,n.startLineNumber+1);if(!S){const w=u?b:m;return{beforeEnter:w,afterEnter:w}}let x=u?b:S.indentation;return S.action===xs.Indent&&(x=r.shiftIndent(x)),f.shouldDecrease(h)&&(x=r.unshiftIndent(x)),{beforeEnter:u?b:m,afterEnter:x}}getIndentActionForType(e,t,n,r,s){if(e<4)return null;const o=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn);if(o.firstCharOffset)return null;const a=this.getIndentRulesSupport(o.languageId);if(!a)return null;const u=o.getLineContent(),c=u.substr(0,n.startColumn-1-o.firstCharOffset);let h;if(n.isEmpty()?h=u.substr(n.startColumn-1-o.firstCharOffset):h=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-o.firstCharOffset),!a.shouldDecrease(c+h)&&a.shouldDecrease(c+r+h)){const f=this.getInheritIndentForLine(e,t,n.startLineNumber,!1);if(!f)return null;let p=f.indentation;return f.action!==xs.Indent&&(p=s.unshiftIndent(p)),p}return null}getIndentMetadata(e,t){const n=this.getIndentRulesSupport(e.getLanguageId());return!n||t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t))}getEnterAction(e,t,n){const r=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn),s=this.getLanguageConfiguration(r.languageId);if(!s)return null;const o=r.getLineContent(),a=o.substr(0,n.startColumn-1-r.firstCharOffset);let u;n.isEmpty()?u=o.substr(n.startColumn-1-r.firstCharOffset):u=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-r.firstCharOffset);let c="";if(n.startLineNumber>1&&r.firstCharOffset===0){const b=this.getScopedLineTokens(t,n.startLineNumber-1);b.languageId===r.languageId&&(c=b.getLineContent())}const h=s.onEnter(e,c,a,u);if(!h)return null;const f=h.indentAction;let p=h.appendText;const m=h.removeText||0;p?f===xs.Indent&&(p="	"+p):f===xs.Indent||f===xs.IndentOutdent?p="	":p="";let v=this.getIndentationAtPosition(t,n.startLineNumber,n.startColumn);return m&&(v=v.substring(0,v.length-m)),{indentAction:f,appendText:p,removeText:m,indentation:v}}getIndentationAtPosition(e,t,n){const r=e.getLineContent(t);let s=Xi(r);return s.length>n-1&&(s=s.substring(0,n-1)),s}getScopedLineTokens(e,t,n){e.forceTokenization(t);const r=e.getLineTokens(t),s=typeof n>"u"?e.getLineMaxColumn(t)-1:n-1;return Y6(r,s)}}const Si=new PRe;class FRe{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const n=new vre(e,t,++this._order);return this._entries.push(n),this._resolved=null,Yn(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===n){this._entries.splice(r,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new EM(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(vre.cmp),Fpe(this._entries.map(e=>e.configuration)))}}function Fpe(i){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of i)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class vre{constructor(e,t,n){this.configuration=e,this.priority=t,this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class EM{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new uS(this.underlyingConfig):null,this.comments=EM._handleComments(this.underlyingConfig),this.characterPair=new ZP(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||wge,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new IRe(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return IF(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new wRe(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new TRe(this.brackets)),this._electricCharacter}onEnter(e,t,n,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,r):null}static _handleComments(e){let t=e.comments;if(!t)return null;let n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){let[r,s]=t.blockComment;n.blockCommentStartToken=r,n.blockCommentEndToken=s}return n}}Q1(XP,GF);const QP=Ci("undoRedoService");class Bpe{constructor(e,t){this.resource=e,this.elements=t}}class Lx{constructor(){this.id=Lx._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}Lx._ID=0;Lx.None=new Lx;class wg{constructor(){this.id=wg._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}wg._ID=0;wg.None=new wg;class bre{constructor(e,t,n){this.range=e,this.nestingLevel=t,this.isInvalid=n}}class BRe{constructor(e,t,n,r){this.range=e,this.openingBracketRange=t,this.closingBracketRange=n,this.nestingLevel=r}}class WRe extends BRe{constructor(e,t,n,r,s){super(e,t,n,r),this.minVisibleColumnIndentation=s}}class VRe{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}function HRe(i,e,t,n){return i!==t?as(t-i,n):as(0,n-e)}const Dm=0;function $Re(i){return i===0}const rc=Math.pow(2,26);function as(i,e){return i*rc+e}function o1(i){const e=i,t=Math.floor(e/rc),n=e-t*rc;return new VRe(t,n)}function zRe(i){return Math.floor(i/rc)}function qo(i,e){return e<rc?i+e:i-i%rc+e}function URe(i,e){const t=i,n=e;if(n-t<=0)return Dm;const s=Math.floor(t/rc),o=Math.floor(n/rc),a=n-o*rc;if(s===o){const u=t-s*rc;return as(0,a-u)}else return as(o-s,a)}function Z6(i,e){return i<e}function Gb(i,e){return i<=e}function y5(i,e){return i>=e}function w5(i){return as(i.lineNumber-1,i.column-1)}function LO(i,e){const t=i,n=Math.floor(t/rc),r=t-n*rc,s=e,o=Math.floor(s/rc),a=s-o*rc;return new Q(n+1,r+1,o+1,a+1)}function jRe(i){const e=Kg(i);return as(e.length-1,e[e.length-1].length)}class Cre{constructor(e,t,n){this.startOffset=e,this.endOffset=t,this.newLength=n}}class KRe{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(n=>pQ.from(n))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],n=t?this.translateOldToCur(t.offsetObj):this.documentLength;return URe(e,n)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?as(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):as(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=o1(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?as(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):as(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(Gb(n,e)){this.nextEditIdx++;const r=o1(n),s=o1(this.translateOldToCur(t.endOffsetBeforeObj)),o=r.lineCount-s.lineCount;this.deltaOldToNewLineCount+=o;const a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,u=r.columnCount-s.columnCount;this.deltaOldToNewColumnCount=a+u,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class pQ{constructor(e,t,n){this.endOffsetBeforeObj=o1(t),this.endOffsetAfterObj=o1(qo(e,n)),this.offsetObj=o1(e)}static from(e){return new pQ(e.startOffset,e.endOffset,e.newLength)}}class _r{static visibleColumnFromColumn(e,t,n){const r=e.length,s=t-1<r?t-1:r;let o=0,a=0;for(;a<s;){const u=qb(e,s,a);if(a+=u>=65536?2:1,u===9)o=_r.nextRenderTabStop(o,n);else{let c=d5(u);for(;a<s;){const h=qb(e,s,a),f=d5(h);if(xF(c,f))break;a+=h>=65536?2:1,c=f}qg(u)||SF(u)?o=o+2:o=o+1}}return o}static visibleColumnFromColumn2(e,t,n){return this.visibleColumnFromColumn(t.getLineContent(n.lineNumber),n.column,e.tabSize)}static columnFromVisibleColumn(e,t,n){if(t<=0)return 1;const r=e.length;let s=0,o=1,a=0;for(;a<r;){const u=qb(e,r,a);a+=u>=65536?2:1;let c;if(u===9)c=_r.nextRenderTabStop(s,n);else{let f=d5(u);for(;a<r;){const p=qb(e,r,a),m=d5(p);if(xF(f,m))break;a+=p>=65536?2:1,f=m}qg(u)||SF(u)?c=s+2:c=s+1}const h=a+1;if(c>=t){const f=t-s;return c-t<f?h:o}s=c,o=h}return r+1}static columnFromVisibleColumn2(e,t,n,r){let s=this.columnFromVisibleColumn(t.getLineContent(n),r,e.tabSize),o=t.getLineMinColumn(n);if(s<o)return o;let a=t.getLineMaxColumn(n);return s>a?a:s}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}const X6=new Array;class Rs{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&t.length===0){let n=Rs.cache[e];return n||(n=new Rs(e,t),Rs.cache[e]=n),n}return new Rs(e,t)}static getEmpty(){return this.empty}add(e,t){const n=t.getKey(e);let r=n>>5;if(r===0){const o=1<<n|this.items;return o===this.items?this:Rs.create(o,this.additionalItems)}r--;const s=this.additionalItems.slice(0);for(;s.length<r;)s.push(0);return s[r]|=1<<(n&31),Rs.create(this.items,s)}merge(e){const t=this.items|e.items;if(this.additionalItems===X6&&e.additionalItems===X6)return t===this.items?this:t===e.items?e:Rs.create(t,X6);const n=new Array;for(let r=0;r<Math.max(this.additionalItems.length,e.additionalItems.length);r++){const s=this.additionalItems[r]||0,o=e.additionalItems[r]||0;n.push(s|o)}return Rs.create(t,n)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}}Rs.cache=new Array(129);Rs.empty=Rs.create(0,X6);const yre={getKey(i){return i}};class qRe{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class mQ{constructor(e){this._length=e}get length(){return this._length}}class LM extends mQ{constructor(e,t,n,r,s){super(e),this.openingBracket=t,this.child=n,this.closingBracket=r,this.missingOpeningBracketIds=s}static create(e,t,n){let r=e.length;return t&&(r=qo(r,t.length)),n&&(r=qo(r,n.length)),new LM(r,e,t,n,t?t.missingOpeningBracketIds:Rs.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new LM(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(qo(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class Yg extends mQ{constructor(e,t,n){super(e),this.listHeight=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}static create23(e,t,n,r=!1){let s=e.length,o=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(s=qo(s,t.length),o=o.merge(t.missingOpeningBracketIds),n){if(e.listHeight!==n.listHeight)throw new Error("Invalid list heights");s=qo(s,n.length),o=o.merge(n.missingOpeningBracketIds)}return r?new GRe(s,e.listHeight+1,e,t,n,o):new DM(s,e.listHeight+1,e,t,n,o)}static getEmpty(){return new YRe(Dm,0,[],Rs.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),n=t.kind===4?t.toMutable():t;return t!==n&&this.setChild(e-1,n),n}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),n=t.kind===4?t.toMutable():t;return t!==n&&this.setChild(0,n),n}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t=this,n;for(;t.kind===4&&(n=t.childrenLength)>0;)t=t.getChild(n-1);return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<e;r++){const s=this.getChild(r);t=qo(t,s.length),n=n.merge(s.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let n=Number.MAX_SAFE_INTEGER,r=e;for(let s=0;s<this.childrenLength;s++){const o=this.getChild(s);o&&(n=Math.min(n,o.computeMinIndentation(r,t)),r=qo(r,o.length))}return this.cachedMinIndentation=n,n}}class DM extends Yg{constructor(e,t,n,r,s,o){super(e,t,o),this._item1=n,this._item2=r,this._item3=s}get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new DM(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class GRe extends DM{toMutable(){return new DM(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class YF extends Yg{constructor(e,t,n,r){super(e,t,r),this._children=n}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new YF(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class YRe extends YF{toMutable(){return new YF(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const ZRe=[];class _Q extends mQ{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return ZRe}deepClone(){return this}}class Ww extends _Q{get kind(){return 0}get missingOpeningBracketIds(){return Rs.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const n=o1(e),r=(n.columnCount===0?n.lineCount:n.lineCount+1)+1,s=zRe(qo(e,this.length))+1;let o=Number.MAX_SAFE_INTEGER;for(let a=r;a<=s;a++){const u=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(u===0)continue;const h=_r.visibleColumnFromColumn(c,u,t.getOptions().tabSize);o=Math.min(o,h)}return o}}class fC extends _Q{constructor(e){super(e)}static create(e){const t=e,n=fC.cacheByLength.get(t);if(n)return n;const r=new fC(e);return fC.cacheByLength.set(t,r),r}get kind(){return 1}get missingOpeningBracketIds(){return Rs.getEmpty()}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}fC.cacheByLength=new Map;class XRe extends _Q{constructor(e,t){super(t),this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}let T0=class{constructor(e,t,n,r,s){this.length=e,this.kind=t,this.bracketId=n,this.bracketIds=r,this.astNode=s}};class QRe{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new JRe(this.textModel,this.bracketTokens),this._offset=Dm,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return as(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=qo(this._offset,e);const t=o1(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=qo(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class JRe{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const s=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=s.length,s}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let n=0;for(;;){const s=this.lineTokens,o=s.getCount();let a=null;if(this.lineTokenOffset<o){const u=s.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<o&&u===s.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=wa.getTokenType(u)===0,h=s.getEndOffset(this.lineTokenOffset);if(c&&h!==this.lineCharOffset){const f=s.getLanguageId(this.lineTokenOffset),p=this.line.substring(this.lineCharOffset,h),m=this.bracketTokens.getSingleLanguageBracketTokens(f),v=m.regExpGlobal;if(v){v.lastIndex=0;const b=v.exec(p);b&&(a=m.getToken(b[0]),a&&(this.lineCharOffset+=b.index))}}if(n+=h-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=h}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,n+=33,n>1e3))break;if(n>1500)break}const r=HRe(e,t,this.lineIdx,this.lineCharOffset);return new T0(r,0,-1,Rs.getEmpty(),new Ww(r))}}class e4e{constructor(e,t){this.text=e,this._offset=Dm,this.idx=0;const r=t.getRegExpStr()?new RegExp(t.getRegExpStr()+`|
`,"g"):null,s=[];let o,a=0,u=0,c=0,h=0;const f=new Array;for(let v=0;v<60;v++)f.push(new T0(as(0,v),0,-1,Rs.getEmpty(),new Ww(as(0,v))));const p=new Array;for(let v=0;v<60;v++)p.push(new T0(as(1,v),0,-1,Rs.getEmpty(),new Ww(as(1,v))));if(r)for(r.lastIndex=0;(o=r.exec(e))!==null;){const v=o.index,b=o[0];if(b===`
`)a++,u=v+1;else{if(c!==v){let S;if(h===a){const x=v-c;if(x<f.length)S=f[x];else{const w=as(0,x);S=new T0(w,0,-1,Rs.getEmpty(),new Ww(w))}}else{const x=a-h,w=v-u;if(x===1&&w<p.length)S=p[w];else{const E=as(x,w);S=new T0(E,0,-1,Rs.getEmpty(),new Ww(E))}}s.push(S)}s.push(t.getToken(b)),c=v+b.length,h=a}}const m=e.length;if(c!==m){const v=h===a?as(0,m-c):as(a-h,m-u);s.push(new T0(v,0,-1,Rs.getEmpty(),new Ww(v)))}this.length=as(a,m-u),this.tokens=s}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new L2e}}class ZF{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function n(u,c){return t.getKey(`${u}:::${c}`)}const r=e.characterPair.getColorizedBrackets(),s=new Map,o=new Set;for(const[u,c]of r){o.add(u);let h=s.get(c);const f=n(e.languageId,u);h||(h={openingBrackets:Rs.getEmpty(),first:f},s.set(c,h)),h.openingBrackets=h.openingBrackets.add(f,yre)}const a=new Map;for(const[u,c]of s){const h=as(0,u.length);a.set(u,new T0(h,2,c.first,c.openingBrackets,fC.create(h)))}for(const u of o){const c=as(0,u.length),h=n(e.languageId,u);a.set(u,new T0(c,1,h,Rs.getEmpty().add(h,yre),fC.create(c)))}return new ZF(a)}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>t4e(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e)}get isEmpty(){return this.map.size===0}}function t4e(i){const e=Bc(i);return/^[\w ]+$/.test(i)?`\\b${e}\\b`:e}class n4e{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){const t=this.languageIdToBracketTokens.get(e);if(!t)return!1;const n=ZF.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==n}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=ZF.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function i4e(i){if(i.length===0)return null;if(i.length===1)return i[0];let e=0;function t(){if(e>=i.length)return null;const o=e,a=i[o].listHeight;for(e++;e<i.length&&i[e].listHeight===a;)e++;return e-o>=2?Wpe(o===0&&e===i.length?i:i.slice(o,e),!1):i[o]}let n=t(),r=t();if(!r)return n;for(let o=t();o;o=t())wre(n,r)<=wre(r,o)?(n=zH(n,r),r=o):r=zH(r,o);return zH(n,r)}function Wpe(i,e=!1){if(i.length===0)return null;if(i.length===1)return i[0];let t=i.length;for(;t>3;){const n=t>>1;for(let r=0;r<n;r++){const s=r<<1;i[r]=Yg.create23(i[s],i[s+1],s+3===t?i[s+2]:null,e)}t=n}return Yg.create23(i[0],i[1],t>=3?i[2]:null,e)}function wre(i,e){return Math.abs(i.listHeight-e.listHeight)}function zH(i,e){return i.listHeight===e.listHeight?Yg.create23(i,e,null,!1):i.listHeight>e.listHeight?r4e(i,e):s4e(e,i)}function r4e(i,e){i=i.toMutable();let t=i;const n=new Array;let r;for(;;){if(e.listHeight===t.listHeight){r=e;break}if(t.kind!==4)throw new Error("unexpected");n.push(t),t=t.makeLastElementMutable()}for(let s=n.length-1;s>=0;s--){const o=n[s];r?o.childrenLength>=3?r=Yg.create23(o.unappendChild(),r,null,!1):(o.appendChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?Yg.create23(i,r,null,!1):i}function s4e(i,e){i=i.toMutable();let t=i;const n=new Array;for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");n.push(t),t=t.makeFirstElementMutable()}let r=e;for(let s=n.length-1;s>=0;s--){const o=n[s];r?o.childrenLength>=3?r=Yg.create23(r,o.unprependChild(),null,!1):(o.prependChildOfSameHeight(r),r=void 0):o.handleChildrenChanged()}return r?Yg.create23(r,i,null,!1):i}class o4e{constructor(e){this.lastOffset=Dm,this.nextNodes=[e],this.offsets=[Dm],this.idxs=[]}readLongestNodeAt(e,t){if(Z6(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const n=_A(this.nextNodes);if(!n)return;const r=_A(this.offsets);if(Z6(e,r))return;if(Z6(r,e))if(qo(r,n.length)<=e)this.nextNodeAfterCurrent();else{const s=UH(n);s!==-1?(this.nextNodes.push(n.getChild(s)),this.offsets.push(r),this.idxs.push(s)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;{const s=UH(n);if(s===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(n.getChild(s)),this.offsets.push(r),this.idxs.push(s)}}}}nextNodeAfterCurrent(){for(;;){const e=_A(this.offsets),t=_A(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const n=_A(this.nextNodes),r=UH(n,this.idxs[this.idxs.length-1]);if(r!==-1){this.nextNodes.push(n.getChild(r)),this.offsets.push(qo(e,t.length)),this.idxs[this.idxs.length-1]=r;break}else this.idxs.pop()}}}function UH(i,e=-1){for(;;){if(e++,e>=i.childrenLength)return-1;if(i.getChild(e))return e}}function _A(i){return i.length>0?i[i.length-1]:void 0}function Sre(i,e,t,n){return new a4e(i,e,t,n).parseDocument()}let a4e=class{constructor(e,t,n,r){if(this.tokenizer=e,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,n&&r)throw new Error("Not supported");this.oldNodeReader=n?new o4e(n):void 0,this.positionMapper=new KRe(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Rs.getEmpty());return e||(e=Yg.getEmpty()),e}parseList(e){const t=new Array;for(;;){const r=this.tokenizer.peek();if(!r||r.kind===2&&r.bracketIds.intersects(e))break;const s=this.parseChild(e);s.kind===4&&s.childrenLength===0||t.push(s)}return this.oldNodeReader?i4e(t):Wpe(t,this.createImmutableLists)}parseChild(e){if(this.oldNodeReader){const n=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!$Re(n)){const r=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),s=>Z6(s.length,n)?s.canBeReused(e):!1);if(r)return this._itemsFromCache++,this.tokenizer.skip(r.length),r}}this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new XRe(t.bracketIds,t.length);case 0:return t.astNode;case 1:const n=e.merge(t.bracketIds),r=this.parseList(n),s=this.tokenizer.peek();return s&&s.kind===2&&(s.bracketId===t.bracketId||s.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),LM.create(t.astNode,r,s.astNode)):LM.create(t.astNode,r,null);default:throw new Error("unexpected")}}};class l4e extends Me{constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new ye,this.denseKeyProvider=new qRe,this.brackets=new n4e(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(e.onBackgroundTokenizationStateChanged(()=>{if(e.backgroundTokenizationState===2){const n=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,n||this.didChangeEmitter.fire()}})),this._register(e.onDidChangeTokens(({ranges:n})=>{const r=n.map(s=>new Cre(as(s.fromLineNumber-1,0),as(s.toLineNumber,0),as(s.toLineNumber-s.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(r,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),e.backgroundTokenizationState===0){const n=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),r=new e4e(this.textModel.getValue(),n);this.initialAstWithoutTokens=Sre(r,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else e.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):e.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleContentChanged(e){const t=e.changes.map(n=>{const r=Q.lift(n.range);return new Cre(w5(r.getStartPosition()),w5(r.getEndPosition()),jRe(n.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,n){const r=t,s=new QRe(this.textModel,this.brackets);return Sre(s,e,r,n)}getBracketsInRange(e){const t=as(e.startLineNumber-1,e.startColumn-1),n=as(e.endLineNumber-1,e.endColumn-1),r=new Array,s=this.initialAstWithoutTokens||this.astWithTokens;return qA(s,Dm,s.length,t,n,r),r}getBracketPairsInRange(e,t){const n=new Array,r=w5(e.getStartPosition()),s=w5(e.getEndPosition()),o=this.initialAstWithoutTokens||this.astWithTokens,a=new u4e(n,t,this.textModel);return Vpe(o,Dm,o.length,r,s,a),n}}function qA(i,e,t,n,r,s,o=0){if(i.kind===1){const a=LO(e,t);s.push(new bre(a,o-1,!1))}else if(i.kind===3){const a=LO(e,t);s.push(new bre(a,o-1,!0))}else if(i.kind===4)for(const a of i.children)t=qo(e,a.length),Gb(e,r)&&y5(t,n)&&qA(a,e,t,n,r,s,o),e=t;else if(i.kind===2){o++;{const a=i.openingBracket;t=qo(e,a.length),Gb(e,r)&&y5(t,n)&&qA(a,e,t,n,r,s,o),e=t}if(i.child){const a=i.child;t=qo(e,a.length),Gb(e,r)&&y5(t,n)&&qA(a,e,t,n,r,s,o),e=t}if(i.closingBracket){const a=i.closingBracket;t=qo(e,a.length),Gb(e,r)&&y5(t,n)&&qA(a,e,t,n,r,s,o),e=t}}}class u4e{constructor(e,t,n){this.result=e,this.includeMinIndentation=t,this.textModel=n}}function Vpe(i,e,t,n,r,s,o=0){var a;if(i.kind===2){const c=qo(e,i.openingBracket.length);let h=-1;s.includeMinIndentation&&(h=i.computeMinIndentation(e,s.textModel)),s.result.push(new WRe(LO(e,t),LO(e,c),i.closingBracket?LO(qo(c,((a=i.child)===null||a===void 0?void 0:a.length)||Dm),t):void 0,o,h)),o++}let u=e;for(const c of i.children){const h=u;u=qo(u,c.length),Gb(h,r)&&Gb(n,u)&&Vpe(c,h,u,n,r,s,o)}}class c4e extends Me{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new Ja),this.onDidChangeEmitter=new ye,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(e.onDidChangeOptions(n=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(e.onDidChangeLanguage(n=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()})),this._register(this.languageConfigurationService.onDidChange(n=>{var r;(!n.languageId||!((r=this.bracketPairsTree.value)===null||r===void 0)&&r.object.didLanguageChange(n.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const e=new tt;this.bracketPairsTree.value=d4e(e.add(new l4e(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleContentChanged(e)}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketsInRange(e))||[]}findMatchingBracketUp(e,t){let n=e.toLowerCase(),r=this.textModel.validatePosition(t);const s=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);let o=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!o)return null;let a=o.textIsBracket[n];return a?S5(this._findMatchingBracketUp(a,r,null)):null}matchBracket(e){return this._matchBracket(this.textModel.validatePosition(e))}_establishBracketSearchOffsets(e,t,n,r){const s=t.getCount(),o=t.getLanguageId(r);let a=Math.max(0,e.column-1-n.maxBracketLength);for(let c=r-1;c>=0;c--){const h=t.getEndOffset(c);if(h<=a)break;if(ng(t.getStandardTokenType(c))||t.getLanguageId(c)!==o){a=h;break}}let u=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength);for(let c=r+1;c<s;c++){const h=t.getStartOffset(c);if(h>=u)break;if(ng(t.getStandardTokenType(c))||t.getLanguageId(c)!==o){u=h;break}}return{searchStartOffset:a,searchEndOffset:u}}_matchBracket(e){const t=e.lineNumber,n=this.textModel.getLineTokens(t),r=this.textModel.getLineContent(t),s=n.findTokenIndexAtOffset(e.column-1);if(s<0)return null;const o=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(s)).brackets;if(o&&!ng(n.getStandardTokenType(s))){let{searchStartOffset:a,searchEndOffset:u}=this._establishBracketSearchOffsets(e,n,o,s),c=null;for(;;){const h=id.findNextBracketInRange(o.forwardRegex,t,r,a,u);if(!h)break;if(h.startColumn<=e.column&&e.column<=h.endColumn){const f=r.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),p=this._matchFoundBracket(h,o.textIsBracket[f],o.textIsOpenBracket[f],null);if(p){if(p instanceof Hp)return null;c=p}}a=h.endColumn-1}if(c)return c}if(s>0&&n.getStartOffset(s)===e.column-1){const a=s-1,u=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(a)).brackets;if(u&&!ng(n.getStandardTokenType(a))){let{searchStartOffset:c,searchEndOffset:h}=this._establishBracketSearchOffsets(e,n,u,a);const f=id.findPrevBracketInRange(u.reversedRegex,t,r,c,h);if(f&&f.startColumn<=e.column&&e.column<=f.endColumn){const p=r.substring(f.startColumn-1,f.endColumn-1).toLowerCase(),m=this._matchFoundBracket(f,u.textIsBracket[p],u.textIsOpenBracket[p],null);if(m)return m instanceof Hp?null:m}}}return null}_matchFoundBracket(e,t,n,r){if(!t)return null;const s=n?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);return s?s instanceof Hp?s:[e,s]:null}_findMatchingBracketUp(e,t,n){const r=e.languageId,s=e.reversedRegex;let o=-1,a=0;const u=(c,h,f,p)=>{for(;;){if(n&&++a%100===0&&!n())return Hp.INSTANCE;const m=id.findPrevBracketInRange(s,c,h,f,p);if(!m)break;const v=h.substring(m.startColumn-1,m.endColumn-1).toLowerCase();if(e.isOpen(v)?o++:e.isClose(v)&&o--,o===0)return m;p=m.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){const h=this.textModel.getLineTokens(c),f=h.getCount(),p=this.textModel.getLineContent(c);let m=f-1,v=p.length,b=p.length;c===t.lineNumber&&(m=h.findTokenIndexAtOffset(t.column-1),v=t.column-1,b=t.column-1);let S=!0;for(;m>=0;m--){const x=h.getLanguageId(m)===r&&!ng(h.getStandardTokenType(m));if(x)S?v=h.getStartOffset(m):(v=h.getStartOffset(m),b=h.getEndOffset(m));else if(S&&v!==b){const w=u(c,p,v,b);if(w)return w}S=x}if(S&&v!==b){const x=u(c,p,v,b);if(x)return x}}return null}_findMatchingBracketDown(e,t,n){const r=e.languageId,s=e.forwardRegex;let o=1,a=0;const u=(h,f,p,m)=>{for(;;){if(n&&++a%100===0&&!n())return Hp.INSTANCE;const v=id.findNextBracketInRange(s,h,f,p,m);if(!v)break;const b=f.substring(v.startColumn-1,v.endColumn-1).toLowerCase();if(e.isOpen(b)?o++:e.isClose(b)&&o--,o===0)return v;p=v.endColumn-1}return null},c=this.textModel.getLineCount();for(let h=t.lineNumber;h<=c;h++){const f=this.textModel.getLineTokens(h),p=f.getCount(),m=this.textModel.getLineContent(h);let v=0,b=0,S=0;h===t.lineNumber&&(v=f.findTokenIndexAtOffset(t.column-1),b=t.column-1,S=t.column-1);let x=!0;for(;v<p;v++){const w=f.getLanguageId(v)===r&&!ng(f.getStandardTokenType(v));if(w)x||(b=f.getStartOffset(v)),S=f.getEndOffset(v);else if(x&&b!==S){const E=u(h,m,b,S);if(E)return E}x=w}if(x&&b!==S){const w=u(h,m,b,S);if(w)return w}}return null}findPrevBracket(e){const t=this.textModel.validatePosition(e);let n=null,r=null;for(let s=t.lineNumber;s>=1;s--){const o=this.textModel.getLineTokens(s),a=o.getCount(),u=this.textModel.getLineContent(s);let c=a-1,h=u.length,f=u.length;if(s===t.lineNumber){c=o.findTokenIndexAtOffset(t.column-1),h=t.column-1,f=t.column-1;const m=o.getLanguageId(c);n!==m&&(n=m,r=this.languageConfigurationService.getLanguageConfiguration(n).brackets)}let p=!0;for(;c>=0;c--){const m=o.getLanguageId(c);if(n!==m){if(r&&p&&h!==f){const b=id.findPrevBracketInRange(r.reversedRegex,s,u,h,f);if(b)return this._toFoundBracket(r,b);p=!1}n=m,r=this.languageConfigurationService.getLanguageConfiguration(n).brackets}const v=!!r&&!ng(o.getStandardTokenType(c));if(v)p?h=o.getStartOffset(c):(h=o.getStartOffset(c),f=o.getEndOffset(c));else if(r&&p&&h!==f){const b=id.findPrevBracketInRange(r.reversedRegex,s,u,h,f);if(b)return this._toFoundBracket(r,b)}p=v}if(r&&p&&h!==f){const m=id.findPrevBracketInRange(r.reversedRegex,s,u,h,f);if(m)return this._toFoundBracket(r,m)}}return null}findNextBracket(e){const t=this.textModel.validatePosition(e),n=this.textModel.getLineCount();let r=null,s=null;for(let o=t.lineNumber;o<=n;o++){const a=this.textModel.getLineTokens(o),u=a.getCount(),c=this.textModel.getLineContent(o);let h=0,f=0,p=0;if(o===t.lineNumber){h=a.findTokenIndexAtOffset(t.column-1),f=t.column-1,p=t.column-1;const v=a.getLanguageId(h);r!==v&&(r=v,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets)}let m=!0;for(;h<u;h++){const v=a.getLanguageId(h);if(r!==v){if(s&&m&&f!==p){const S=id.findNextBracketInRange(s.forwardRegex,o,c,f,p);if(S)return this._toFoundBracket(s,S);m=!1}r=v,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets}const b=!!s&&!ng(a.getStandardTokenType(h));if(b)m||(f=a.getStartOffset(h)),p=a.getEndOffset(h);else if(s&&m&&f!==p){const S=id.findNextBracketInRange(s.forwardRegex,o,c,f,p);if(S)return this._toFoundBracket(s,S)}m=b}if(s&&m&&f!==p){const v=id.findNextBracketInRange(s.forwardRegex,o,c,f,p);if(v)return this._toFoundBracket(s,v)}}return null}findEnclosingBrackets(e,t){let n;if(typeof t>"u")n=null;else{const m=Date.now();n=()=>Date.now()-m<=t}const r=this.textModel.validatePosition(e),s=this.textModel.getLineCount(),o=new Map;let a=[];const u=(m,v)=>{if(!o.has(m)){let b=[];for(let S=0,x=v?v.brackets.length:0;S<x;S++)b[S]=0;o.set(m,b)}a=o.get(m)};let c=0;const h=(m,v,b,S,x)=>{for(;;){if(n&&++c%100===0&&!n())return Hp.INSTANCE;const w=id.findNextBracketInRange(m.forwardRegex,v,b,S,x);if(!w)break;const E=b.substring(w.startColumn-1,w.endColumn-1).toLowerCase(),N=m.textIsBracket[E];if(N&&(N.isOpen(E)?a[N.index]++:N.isClose(E)&&a[N.index]--,a[N.index]===-1))return this._matchFoundBracket(w,N,!1,n);S=w.endColumn-1}return null};let f=null,p=null;for(let m=r.lineNumber;m<=s;m++){const v=this.textModel.getLineTokens(m),b=v.getCount(),S=this.textModel.getLineContent(m);let x=0,w=0,E=0;if(m===r.lineNumber){x=v.findTokenIndexAtOffset(r.column-1),w=r.column-1,E=r.column-1;const A=v.getLanguageId(x);f!==A&&(f=A,p=this.languageConfigurationService.getLanguageConfiguration(f).brackets,u(f,p))}let N=!0;for(;x<b;x++){const A=v.getLanguageId(x);if(f!==A){if(p&&N&&w!==E){const R=h(p,m,S,w,E);if(R)return S5(R);N=!1}f=A,p=this.languageConfigurationService.getLanguageConfiguration(f).brackets,u(f,p)}const H=!!p&&!ng(v.getStandardTokenType(x));if(H)N||(w=v.getStartOffset(x)),E=v.getEndOffset(x);else if(p&&N&&w!==E){const R=h(p,m,S,w,E);if(R)return S5(R)}N=H}if(p&&N&&w!==E){const A=h(p,m,S,w,E);if(A)return S5(A)}}return null}_toFoundBracket(e,t){if(!t)return null;let n=this.textModel.getValueInRange(t);n=n.toLowerCase();let r=e.textIsBracket[n];return r?{range:t,open:r.open,close:r.close,isOpen:e.textIsOpenBracket[n]}:null}}function d4e(i,e){return{object:i,dispose:()=>e==null?void 0:e.dispose()}}class Hp{constructor(){this._searchCanceledBrand=void 0}}Hp.INSTANCE=new Hp;function S5(i){return i instanceof Hp?null:i}const h4e=we("editor.lineHighlightBackground",{dark:null,light:null,hc:null},C("lineHighlight","Background color for the highlight of line at the cursor position.")),xre=we("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},C("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),f4e=we("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},C("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),g4e=we("editor.rangeHighlightBorder",{dark:null,light:null,hc:Sl},C("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),p4e=we("editor.symbolHighlightBackground",{dark:Vj,light:Vj,hc:null},C("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),m4e=we("editor.symbolHighlightBorder",{dark:null,light:null,hc:Sl},C("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),Hpe=we("editorCursor.foreground",{dark:"#AEAFAD",light:Se.black,hc:Se.white},C("caret","Color of the editor cursor.")),_4e=we("editorCursor.background",null,C("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),gC=we("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},C("editorWhitespaces","Color of whitespace characters in the editor.")),VB=we("editorIndentGuide.background",{dark:gC,light:gC,hc:gC},C("editorIndentGuides","Color of the editor indentation guides.")),HB=we("editorIndentGuide.activeBackground",{dark:gC,light:gC,hc:gC},C("editorActiveIndentGuide","Color of the active editor indentation guides.")),$pe=we("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:Se.white},C("editorLineNumbers","Color of editor line numbers.")),jH=we("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Sl},C("editorActiveLineNumber","Color of editor active line number"),!1,C("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),v4e=we("editorLineNumber.activeForeground",{dark:jH,light:jH,hc:jH},C("editorActiveLineNumber","Color of editor active line number")),b4e=we("editorRuler.foreground",{dark:"#5A5A5A",light:Se.lightgrey,hc:Se.white},C("editorRuler","Color of the editor rulers.")),C4e=we("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},C("editorBracketMatchBackground","Background color behind matching brackets")),zpe=we("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Ds},C("editorBracketMatchBorder","Color for matching brackets boxes")),y4e=we("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},C("editorOverviewRulerBorder","Color of the overview ruler border.")),w4e=we("editorOverviewRuler.background",null,C("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),S4e=we("editorGutter.background",{dark:Ac,light:Ac,hc:Ac},C("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),x4e=we("editorUnnecessaryCode.border",{dark:null,light:null,hc:Se.fromHex("#fff").transparent(.8)},C("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),E4e=we("editorUnnecessaryCode.opacity",{dark:Se.fromHex("#000a"),light:Se.fromHex("#0007"),hc:null},C("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),L4e=we("editorGhostText.border",{dark:null,light:null,hc:Se.fromHex("#fff").transparent(.8)},C("editorGhostTextBorder","Border color of ghost text in the editor.")),D4e=we("editorGhostText.foreground",{dark:Se.fromHex("#ffffff56"),light:Se.fromHex("#0007"),hc:null},C("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),T4e=we("editorGhostText.background",{dark:null,light:null,hc:null},C("editorGhostTextBackground","Background color of the ghost text in the editor.")),KH=new Se(new bi(0,122,204,.6)),I4e=we("editorOverviewRuler.rangeHighlightForeground",{dark:KH,light:KH,hc:KH},C("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),k4e=we("editorOverviewRuler.errorForeground",{dark:new Se(new bi(255,18,18,.7)),light:new Se(new bi(255,18,18,.7)),hc:new Se(new bi(255,50,50,1))},C("overviewRuleError","Overview ruler marker color for errors.")),N4e=we("editorOverviewRuler.warningForeground",{dark:dm,light:dm,hc:EB},C("overviewRuleWarning","Overview ruler marker color for warnings.")),A4e=we("editorOverviewRuler.infoForeground",{dark:kf,light:kf,hc:KX},C("overviewRuleInfo","Overview ruler marker color for infos.")),Upe=we("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},C("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),jpe=we("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},C("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Kpe=we("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},C("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),qpe=we("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Gpe=we("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ype=we("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),O4e=we("editorBracketHighlight.unexpectedBracket.foreground",{dark:new Se(new bi(255,18,18,.8)),light:new Se(new bi(255,18,18,.8)),hc:new Se(new bi(255,50,50,1))},C("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),M4e=we("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),R4e=we("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),P4e=we("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),F4e=we("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),B4e=we("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),W4e=we("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),V4e=we("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),H4e=we("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),$4e=we("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),z4e=we("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),U4e=we("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),j4e=we("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},C("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));Cr((i,e)=>{const t=i.getColor(Ac);t&&e.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${t}; }`);const n=i.getColor(qP);n&&e.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${n}; }`);const r=i.getColor(S4e);r&&e.addRule(`.monaco-editor .margin { background-color: ${r}; }`);const s=i.getColor(f4e);s&&e.addRule(`.monaco-editor .rangeHighlight { background-color: ${s}; }`);const o=i.getColor(g4e);o&&e.addRule(`.monaco-editor .rangeHighlight { border: 1px ${i.type==="hc"?"dotted":"solid"} ${o}; }`);const a=i.getColor(p4e);a&&e.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const u=i.getColor(m4e);u&&e.addRule(`.monaco-editor .symbolHighlight { border: 1px ${i.type==="hc"?"dotted":"solid"} ${u}; }`);const c=i.getColor(gC);c&&(e.addRule(`.monaco-editor .mtkw { color: ${c} !important; }`),e.addRule(`.monaco-editor .mtkz { color: ${c} !important; }`))});class K4e extends Me{constructor(e){super(),this.textModel=e,this.colorProvider=new Zpe,this.onDidChangeEmitter=new ye,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.onDidChangeOptions(t=>{this.colorizationOptions=e.getOptions().bracketPairColorizationOptions})),this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(e,t,n){if(t===void 0)return[];if(!this.colorizationOptions.enabled)return[];const r=new Array,s=this.textModel.bracketPairs.getBracketsInRange(e);for(const o of s)r.push({id:`bracket${o.range.toString()}-${o.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(o)},ownerId:0,range:o.range});return r}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new Q(1,1,this.textModel.getLineCount(),1),e,t):[]}}class Zpe{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}Cr((i,e)=>{const t=[Upe,jpe,Kpe,qpe,Gpe,Ype],n=new Zpe;e.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${i.getColor(O4e)}; }`);let r=t.map(s=>i.getColor(s)).filter(s=>!!s).filter(s=>!s.isTransparent());for(let s=0;s<30;s++){const o=r[s%r.length];e.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(s)} { color: ${o}; }`)}});var q4e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},qH=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};function G4e(){return new cRe}function Y4e(i){const e=G4e();return e.acceptChunk(i),e.finish()}function Ere(i,e){return(typeof i=="string"?Y4e(i):i).create(e)}let x5=0;const Z4e=999,X4e=1e4;class Q4e{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,n=0;do{let r=this._source.read();if(r===null)return this._eos=!0,t===0?null:e.join("");if(r.length>0&&(e[t++]=r,n+=r.length),n>=64*1024)return e.join("")}while(!0)}}const vA=()=>{throw new Error("Invalid change accessor")};let Gl=class ig extends Me{constructor(e,t,n,r=null,s,o,a){super(),this._undoRedoService=s,this._modeService=o,this._languageConfigurationService=a,this._onWillDispose=this._register(new ye),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new nPe(p=>this.handleBeforeFireDecorationsChangedEvent(p))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new ye),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new ye),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new ye),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new ye),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new ye),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new ye),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new iPe),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new ye),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(p=>{this._onDidChangeContentOrInjectedText.fire(p.rawContentChangedEvent)})),x5++,this.id="$model"+x5,this.isForSimpleWidget=t.isForSimpleWidget,typeof r>"u"||r===null?this._associatedResource=an.parse("inmemory://model/"+x5):this._associatedResource=r,this._attachedEditorCount=0;const{textBuffer:u,disposable:c}=Ere(e,t.defaultEOL);this._buffer=u,this._bufferDisposable=c,this._options=ig.resolveOptions(this._buffer,t);const h=this._buffer.getLineCount(),f=this._buffer.getValueLengthInRange(new Q(1,1,h,this._buffer.getLineLength(h)+1),0);t.largeFileOptimizations?this._isTooLargeForTokenization=f>ig.LARGE_FILE_SIZE_THRESHOLD||h>ig.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=f>ig.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=n||I1,this._languageRegistryListener=this._languageConfigurationService.onDidChange(p=>{p.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=oge(x5),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Lre,this._commandManager=new tQ(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new mc(this._modeService.languageIdCodec),this._tokens2=new cQ(this._modeService.languageIdCodec),this._tokenization=new _Re(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new c4e(this,this._languageConfigurationService)),this._decorationProvider=this._register(new K4e(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(e,t){if(t.detectIndentation){const n=Kie(e,t.tabSize,t.insertSpaces);return new j6({tabSize:n.tabSize,indentSize:n.tabSize,insertSpaces:n.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new j6({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}onDidChangeContentFast(e){return this._eventEmitter.fastEvent(t=>e(t.contentChangedEvent))}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(this._backgroundTokenizationState===2)return;const t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const e=new US([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._bracketPairColorizer.handleContentChanged(t),!this._isDisposing&&this._eventEmitter.fire(new KF(e,t))}setValue(e){if(this._assertNotDisposed(),e===null)return;const{textBuffer:t,disposable:n}=Ere(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,n)}_createContentChanged2(e,t,n,r,s,o,a){return{changes:[{range:e,rangeOffset:t,rangeLength:n,text:r}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:s,isRedoing:o,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const n=this.getFullModelRange(),r=this.getValueLengthInRange(n),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new Lre,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new hC([new dRe],this._versionId,!1,!1),this._createContentChanged2(new Q(1,1,s,o),0,r,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const n=this.getFullModelRange(),r=this.getValueLengthInRange(n),s=this.getLineCount(),o=this.getLineMaxColumn(s);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new hC([new gRe],this._versionId,!1,!1),this._createContentChanged2(new Q(1,1,s,o),0,r,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let n=0,r=t.length;n<r;n++){const s=t[n],o=s.range,a=s.cachedAbsoluteStart-s.start,u=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),c=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);s.cachedAbsoluteStart=u,s.cachedAbsoluteEnd=c,s.cachedVersionId=e,s.start=u-a,s.end=c-a,T1(s)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const n=this._buffer.getLineCount();for(let r=1;r<=n;r++){const s=this._buffer.getLineLength(r);s>=X4e?t+=s:e+=s}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,n=typeof e.indentSize<"u"?e.indentSize:this._options.indentSize,r=typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,s=typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,o=typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new j6({tabSize:t,indentSize:n,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:s,bracketPairColorizationOptions:o});if(this._options.equals(a))return;let u=this._options.createChangeEvent(a);this._options=a,this._onDidChangeOptions.fire(u)}detectIndentation(e,t){this._assertNotDisposed();let n=Kie(this._buffer,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.tabSize})}static _normalizeIndentationFromWhitespace(e,t,n){let r=0;for(let o=0;o<e.length;o++)e.charAt(o)==="	"?r+=t:r++;let s="";if(!n){let o=Math.floor(r/t);r=r%t;for(let a=0;a<o;a++)s+="	"}for(let o=0;o<r;o++)s+=" ";return s}static normalizeIndentation(e,t,n){let r=Ya(e);return r===-1&&(r=e.length),ig._normalizeIndentationFromWhitespace(e.substring(0,r),t,n)+e.substring(r)}normalizeIndentation(e){return this._assertNotDisposed(),ig.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(rge.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(n=>({range:n.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const n=this.getFullModelRange(),r=this.getValueInRange(n,e);return t?this._buffer.getBOM()+r:r}createSnapshot(e=!1){return new Q4e(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const n=this.getFullModelRange(),r=this.getValueLengthInRange(n,e);return t?this._buffer.getBOM().length+r:r}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),n=e.startLineNumber,r=e.startColumn;let s=Math.floor(typeof n=="number"&&!isNaN(n)?n:1),o=Math.floor(typeof r=="number"&&!isNaN(r)?r:1);if(s<1)s=1,o=1;else if(s>t)s=t,o=this.getLineMaxColumn(s);else if(o<=1)o=1;else{const f=this.getLineMaxColumn(s);o>=f&&(o=f)}const a=e.endLineNumber,u=e.endColumn;let c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),h=Math.floor(typeof u=="number"&&!isNaN(u)?u:1);if(c<1)c=1,h=1;else if(c>t)c=t,h=this.getLineMaxColumn(c);else if(h<=1)h=1;else{const f=this.getLineMaxColumn(c);h>=f&&(h=f)}return n===s&&r===o&&a===c&&u===h&&e instanceof Q&&!(e instanceof xt)?e:new Q(s,o,c,h)}_isValidPosition(e,t,n){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const r=this._buffer.getLineCount();if(e>r)return!1;if(t===1)return!0;const s=this.getLineMaxColumn(e);if(t>s)return!1;if(n===1){const o=this._buffer.getLineCharCode(e,t-2);if(no(o))return!1}return!0}_validatePosition(e,t,n){const r=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),s=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),o=this._buffer.getLineCount();if(r<1)return new Ee(1,1);if(r>o)return new Ee(o,this.getLineMaxColumn(o));if(s<=1)return new Ee(r,1);const a=this.getLineMaxColumn(r);if(s>=a)return new Ee(r,a);if(n===1){const u=this._buffer.getLineCharCode(r,s-2);if(no(u))return new Ee(r,s-1)}return new Ee(r,s)}validatePosition(e){return this._assertNotDisposed(),e instanceof Ee&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const n=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn;if(!this._isValidPosition(n,r,0)||!this._isValidPosition(s,o,0))return!1;if(t===1){const a=r>1?this._buffer.getLineCharCode(n,r-2):0,u=o>1&&o<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,o-2):0,c=no(a),h=no(u);return!c&&!h}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof Q&&!(e instanceof xt)&&this._isValidRange(e,1))return e;const n=this._validatePosition(e.startLineNumber,e.startColumn,0),r=this._validatePosition(e.endLineNumber,e.endColumn,0),s=n.lineNumber,o=n.column,a=r.lineNumber,u=r.column;{const c=o>1?this._buffer.getLineCharCode(s,o-2):0,h=u>1&&u<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,u-2):0,f=no(c),p=no(h);return!f&&!p?new Q(s,o,a,u):s===a&&o===u?new Q(s,o-1,a,u-1):f&&p?new Q(s,o-1,a,u+1):f?new Q(s,o-1,a,u):new Q(s,o,a,u+1)}}modifyPosition(e,t){this._assertNotDisposed();let n=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new Q(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,n,r){return this._buffer.findMatchesLineByLine(e,t,n,r)}findMatches(e,t,n,r,s,o,a=Z4e){this._assertNotDisposed();let u=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(f=>Q.isIRange(f))&&(u=t.map(f=>this.validateRange(f)))),u===null&&(u=[this.getFullModelRange()]),u=u.sort((f,p)=>f.startLineNumber-p.startLineNumber||f.startColumn-p.startColumn);const c=[];c.push(u.reduce((f,p)=>Q.areIntersecting(f,p)?f.plusRange(p):(c.push(f),p)));let h;if(!n&&e.indexOf(`
`)<0){const p=new yb(e,n,r,s).parseSearchRequest();if(!p)return[];h=m=>this.findMatchesLineByLine(m,p,o,a)}else h=f=>_5.findMatches(this,new yb(e,n,r,s),f,o,a);return c.map(h).reduce((f,p)=>f.concat(p),[])}findNextMatch(e,t,n,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);if(!n&&e.indexOf(`
`)<0){const c=new yb(e,n,r,s).parseSearchRequest();if(!c)return null;const h=this.getLineCount();let f=new Q(a.lineNumber,a.column,h,this.getLineMaxColumn(h)),p=this.findMatchesLineByLine(f,c,o,1);return _5.findNextMatch(this,new yb(e,n,r,s),a,o),p.length>0||(f=new Q(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),p=this.findMatchesLineByLine(f,c,o,1),p.length>0)?p[0]:null}return _5.findNextMatch(this,new yb(e,n,r,s),a,o)}findPreviousMatch(e,t,n,r,s,o){this._assertNotDisposed();const a=this.validatePosition(t);return _5.findPreviousMatch(this,new yb(e,n,r,s),a,o)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof OH?e:new OH(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=this._validateEditOperation(e[n]);return t}pushEditOperations(e,t,n){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,n){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let r=t.map(o=>({range:this.validateRange(o.range),text:o.text})),s=!0;if(e)for(let o=0,a=e.length;o<a;o++){let u=e[o],c=!1;for(let h=0,f=r.length;h<f;h++){let p=r[h].range,m=p.startLineNumber>u.endLineNumber,v=u.startLineNumber>p.endLineNumber;if(!m&&!v){c=!0;break}}if(!c){s=!1;break}}if(s)for(let o=0,a=this._trimAutoWhitespaceLines.length;o<a;o++){let u=this._trimAutoWhitespaceLines[o],c=this.getLineMaxColumn(u),h=!0;for(let f=0,p=r.length;f<p;f++){let m=r[f].range,v=r[f].text;if(!(u<m.startLineNumber||u>m.endLineNumber)&&!(u===m.startLineNumber&&m.startColumn===c&&m.isEmpty()&&v&&v.length>0&&v.charAt(0)===`
`)&&!(u===m.startLineNumber&&m.startColumn===1&&m.isEmpty()&&v&&v.length>0&&v.charAt(v.length-1)===`
`)){h=!1;break}}if(h){const f=new Q(u,1,u,c);t.push(new OH(null,f,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,n)}_applyUndo(e,t,n,r){const s=e.map(o=>{const a=this.getPositionAt(o.newPosition),u=this.getPositionAt(o.newEnd);return{range:new Q(a.lineNumber,a.column,u.lineNumber,u.column),text:o.oldText}});this._applyUndoRedoEdits(s,t,!0,!1,n,r)}_applyRedo(e,t,n,r){const s=e.map(o=>{const a=this.getPositionAt(o.oldPosition),u=this.getPositionAt(o.oldEnd);return{range:new Q(a.lineNumber,a.column,u.lineNumber,u.column),text:o.newText}});this._applyUndoRedoEdits(s,t,!1,!0,n,r)}_applyUndoRedoEdits(e,t,n,r,s,o){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=n,this._isRedoing=r,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(s)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(o),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const n=this._validateEditOperations(e);return this._doApplyEdits(n,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const n=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),s=this._buffer.getLineCount(),o=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,o.length!==0){for(let c=0,h=o.length;c<h;c++){const f=o[c],[p,m,v]=JC(f.text);this._tokens.acceptEdit(f.range,p,m),this._tokens2.acceptEdit(f.range,p,m,v,f.text.length>0?f.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(f.rangeOffset,f.rangeLength,f.text.length,f.forceMoveMarkers)}let a=[];this._increaseVersionId();let u=n;for(let c=0,h=o.length;c<h;c++){const f=o[c],[p]=JC(f.text);this._onDidChangeDecorations.fire();const m=f.range.startLineNumber,v=f.range.endLineNumber,b=v-m,S=p,x=Math.min(b,S),w=S-b,E=s-u-w+m,N=E,A=E+S,H=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new Ee(N,1)),this.getOffsetAt(new Ee(A,this.getLineMaxColumn(A))),0),R=Bf.fromDecorations(H),M=new PS(R);for(let G=x;G>=0;G--){const X=m+G,$=E+G;M.takeFromEndWhile(O=>O.lineNumber>$);const I=M.takeFromEndWhile(O=>O.lineNumber===$);a.push(new fre(X,this.getLineContent($),I))}if(x<b){const G=m+x;a.push(new hRe(G+1,v))}if(x<S){const G=new PS(R),X=m+x,$=S-x,I=s-u-$+X+1;let O=[],B=[];for(let W=0;W<$;W++){let j=I+W;B[W]=this.getLineContent(j),G.takeWhile(U=>U.lineNumber<j),O[W]=G.takeWhile(U=>U.lineNumber===j)}a.push(new fRe(X+1,m+S,B,O))}u+=w}this._emitContentChangedEvent(new hC(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return r.reverseEdits===null?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const n=[...e].map(r=>new fre(r,this.getLineContent(r),this._getInjectedTextInLine(r)));this._onDidChangeContentOrInjectedText.fire(new kpe(n))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let n={addDecoration:(s,o)=>this._deltaDecorationsImpl(e,[],[{range:s,options:o}])[0],changeDecoration:(s,o)=>{this._changeDecorationImpl(s,o)},changeDecorationOptions:(s,o)=>{this._changeDecorationOptionsImpl(s,Tre(o))},removeDecoration:s=>{this._deltaDecorationsImpl(e,[s],[])},deltaDecorations:(s,o)=>s.length===0&&o.length===0?[]:this._deltaDecorationsImpl(e,s,o)},r=null;try{r=t(n)}catch(s){vn(s)}return n.addDecoration=vA,n.changeDecoration=vA,n.changeDecorationOptions=vA,n.removeDecoration=vA,n.deltaDecorations=vA,r}deltaDecorations(e,t,n=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(n,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,n){const r=e?this._decorations[e]:null;if(!r)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Dre[n]}])[0]:null;if(!t)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;const s=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),a=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),o,a,s),r.setOptions(Dre[n]),this._decorationsTree.insert(r),r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let n=0,r=t.length;n<r;n++){const s=t[n];this._decorationsTree.delete(s),delete this._decorations[s.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,n=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)}getLinesDecorations(e,t,n=0,r=!1){let s=this.getLineCount(),o=Math.min(s,Math.max(1,e)),a=Math.min(s,Math.max(1,t)),u=this.getLineMaxColumn(a);const c=new Q(o,1,a,u),h=this._getDecorationsInRange(c,n,r);return h.push(...this._decorationProvider.getDecorationsInRange(c,n,r)),h}getDecorationsInRange(e,t=0,n=!1){let r=this.validateRange(e);const s=this._getDecorationsInRange(r,t,n);return s.push(...this._decorationProvider.getDecorationsInRange(r,t,n)),s}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),n=t+this._buffer.getLineLength(e),r=this._decorationsTree.getInjectedTextInInterval(this,t,n,0);return Bf.fromDecorations(r).filter(s=>s.lineNumber===e)}getAllDecorations(e=0,t=!1){let n=this._decorationsTree.getAll(this,e,t,!1);return n=n.concat(this._decorationProvider.getAllDecorations(e,t)),n}_getDecorationsInRange(e,t,n){const r=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),s=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,r,s,t,n)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const n=this._decorations[e];if(!n)return;if(n.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(n.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),o=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,o,r),this._decorationsTree.insert(n),this._onDidChangeDecorations.checkAffectedAndFire(n.options),n.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),n.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}_changeDecorationOptionsImpl(e,t){const n=this._decorations[e];if(!n)return;const r=!!(n.options.overviewRuler&&n.options.overviewRuler.color),s=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(n.options),this._onDidChangeDecorations.checkAffectedAndFire(t),n.options.after||t.after){const o=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber)}if(n.options.before||t.before){const o=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber)}r!==s?(this._decorationsTree.delete(n),n.setOptions(t),this._decorationsTree.insert(n)):n.setOptions(t)}_deltaDecorationsImpl(e,t,n){const r=this.getVersionId(),s=t.length;let o=0;const a=n.length;let u=0,c=new Array(a);for(;o<s||u<a;){let h=null;if(o<s){do h=this._decorations[t[o++]];while(!h&&o<s);if(h){if(h.options.after){const f=this._decorationsTree.getNodeRange(this,h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.endLineNumber)}if(h.options.before){const f=this._decorationsTree.getNodeRange(this,h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.startLineNumber)}this._decorationsTree.delete(h),this._onDidChangeDecorations.checkAffectedAndFire(h.options)}}if(u<a){if(!h){const S=++this._lastDecorationId,x=`${this._instanceId};${S}`;h=new bpe(x,0,0),this._decorations[x]=h}const f=n[u],p=this._validateRangeRelaxedNoAllocations(f.range),m=Tre(f.options),v=this._buffer.getOffsetAt(p.startLineNumber,p.startColumn),b=this._buffer.getOffsetAt(p.endLineNumber,p.endColumn);h.ownerId=e,h.reset(r,v,b,p),h.setOptions(m),h.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(p.endLineNumber),h.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(p.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(m),this._decorationsTree.insert(h),c[u]=h.id,u++}else h&&delete this._decorations[h.id]}return c}setTokens(e,t=!1){if(e.length!==0){let n=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];let a=0,u=0,c=!1;for(let h=0,f=o.tokens.length;h<f;h++){const p=o.startLineNumber+h;c?(this._tokens.setTokens(this._languageId,p-1,this._buffer.getLineLength(p),o.tokens[h],!1),u=p):this._tokens.setTokens(this._languageId,p-1,this._buffer.getLineLength(p),o.tokens[h],!0)&&(c=!0,a=p,u=p)}c&&n.push({fromLineNumber:a,toLineNumber:u})}n.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:n})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const n=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:n.startLineNumber,toLineNumber:n.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),n=this._tokens.getTokens(this._languageId,e-1,t);return this._tokens2.addSemanticTokens(e,n)}getLanguageId(){return this._languageId}setMode(e){if(this._languageId===e)return;let t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const n=this.validatePosition(new Ee(e,t)),r=this.getLineTokens(n.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(n.column-1))}getTokenTypeIfInsertingCharacter(e,t,n){const r=this.validatePosition(new Ee(e,t));return this._tokenization.getTokenTypeIfInsertingCharacter(r,n)}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(e){this._assertNotDisposed();const t=this.validatePosition(e),n=this.getLineContent(t.lineNumber),r=this._getLineTokens(t.lineNumber),s=r.findTokenIndexAtOffset(t.column-1),[o,a]=ig._findLanguageBoundaries(r,s),u=kF(t.column,this.getLanguageConfiguration(r.getLanguageId(s)).getWordDefinition(),n.substring(o,a),o);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn)return u;if(s>0&&o===t.column-1){const[c,h]=ig._findLanguageBoundaries(r,s-1),f=kF(t.column,this.getLanguageConfiguration(r.getLanguageId(s-1)).getWordDefinition(),n.substring(c,h),c);if(f&&f.startColumn<=e.column&&e.column<=f.endColumn)return f}return null}static _findLanguageBoundaries(e,t){const n=e.getLanguageId(t);let r=0;for(let o=t;o>=0&&e.getLanguageId(o)===n;o--)r=e.getStartOffset(o);let s=e.getLineContent().length;for(let o=t,a=e.getCount();o<a&&e.getLanguageId(o)===n;o++)s=e.getEndOffset(o);return[r,s]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}static computeIndentLevel(e,t){let n=0,r=0,s=e.length;for(;r<s;){let o=e.charCodeAt(r);if(o===32)n++;else if(o===9)n=n-n%t+t;else break;r++}return r===s?-1:n}_computeIndentLevel(e){return ig.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)}getActiveIndentGuide(e,t,n){this._assertNotDisposed();const r=this.getLineCount();if(e<1||e>r)throw new Error("Illegal value for lineNumber");const s=this.getLanguageConfiguration(this._languageId).foldingRules,o=!!(s&&s.offSide);let a=-2,u=-1,c=-2,h=-1;const f=R=>{if(a!==-1&&(a===-2||a>R-1)){a=-1,u=-1;for(let M=R-2;M>=0;M--){let G=this._computeIndentLevel(M);if(G>=0){a=M,u=G;break}}}if(c===-2){c=-1,h=-1;for(let M=R;M<r;M++){let G=this._computeIndentLevel(M);if(G>=0){c=M,h=G;break}}}};let p=-2,m=-1,v=-2,b=-1;const S=R=>{if(p===-2){p=-1,m=-1;for(let M=R-2;M>=0;M--){let G=this._computeIndentLevel(M);if(G>=0){p=M,m=G;break}}}if(v!==-1&&(v===-2||v<R-1)){v=-1,b=-1;for(let M=R;M<r;M++){let G=this._computeIndentLevel(M);if(G>=0){v=M,b=G;break}}}};let x=0,w=!0,E=0,N=!0,A=0,H=0;for(let R=0;w||N;R++){const M=e-R,G=e+R;R>1&&(M<1||M<t)&&(w=!1),R>1&&(G>r||G>n)&&(N=!1),R>5e4&&(w=!1,N=!1);let X=-1;if(w){const I=this._computeIndentLevel(M-1);I>=0?(c=M-1,h=I,X=Math.ceil(I/this._options.indentSize)):(f(M),X=this._getIndentLevelForWhitespaceLine(o,u,h))}let $=-1;if(N){const I=this._computeIndentLevel(G-1);I>=0?(p=G-1,m=I,$=Math.ceil(I/this._options.indentSize)):(S(G),$=this._getIndentLevelForWhitespaceLine(o,m,b))}if(R===0){H=X;continue}if(R===1){if(G<=r&&$>=0&&H+1===$){w=!1,x=G,E=G,A=$;continue}if(M>=1&&X>=0&&X-1===H){N=!1,x=M,E=M,A=X;continue}if(x=e,E=e,A=H,A===0)return{startLineNumber:x,endLineNumber:E,indent:A}}w&&(X>=A?x=M:w=!1),N&&($>=A?E=G:N=!1)}return{startLineNumber:x,endLineNumber:E,indent:A}}getLinesBracketGuides(e,t,n,r){var s,o,a,u,c;const h=[],f=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new Q(e,1,t,this.getLineMaxColumn(t)));let p;if(n&&f.length>0){const x=e<=n.lineNumber&&n.lineNumber<=t?f.filter(w=>Q.strictContainsPosition(w.range,n)):this._bracketPairColorizer.getBracketPairsInRange(Q.fromPositions(n));p=(s=kke(x,w=>w.range.startLineNumber!==w.range.endLineNumber))===null||s===void 0?void 0:s.range}const m=new PS(f),v=new Array,b=new Array,S=new Xpe;for(let x=e;x<=t;x++){let w=new Array;b.length>0&&(w=w.concat(b),b.length=0),h.push(w);for(const N of m.takeWhile(A=>A.openingBracketRange.startLineNumber<=x)||[]){if(N.range.startLineNumber===N.range.endLineNumber)continue;const A=Math.min(this.getVisibleColumnFromPosition(N.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((a=(o=N.closingBracketRange)===null||o===void 0?void 0:o.getStartPosition())!==null&&a!==void 0?a:N.range.getEndPosition()),N.minVisibleColumnIndentation+1);let H=!1;N.closingBracketRange&&Ya(this.getLineContent(N.closingBracketRange.startLineNumber))<N.closingBracketRange.startColumn-1&&(H=!0);const R=N.openingBracketRange.getStartPosition(),M=(c=(u=N.closingBracketRange)===null||u===void 0?void 0:u.getStartPosition())!==null&&c!==void 0?c:N.range.getEndPosition();N.closingBracketRange===void 0?v[N.nestingLevel]=null:v[N.nestingLevel]={nestingLevel:N.nestingLevel,guideVisibleColumn:A,start:R,visibleStartColumn:this.getVisibleColumnFromPosition(R),end:M,visibleEndColumn:this.getVisibleColumnFromPosition(M),bracketPair:N,renderHorizontalEndLineAtTheBottom:H}}for(const N of v){if(!N)continue;const A=p&&N.bracketPair.range.equalsRange(p),H=S.getInlineClassNameOfLevel(N.nestingLevel)+(r.highlightActive&&A?" "+S.activeClassName:"");(A&&r.horizontalGuides!==cC.Disabled||r.includeInactive&&r.horizontalGuides===cC.Enabled)&&(N.start.lineNumber===x&&N.guideVisibleColumn<N.visibleStartColumn&&w.push(new oS(N.guideVisibleColumn,H,new Kj(!1,N.start.column))),N.end.lineNumber===x+1&&N.guideVisibleColumn<N.visibleEndColumn&&b.push(new oS(N.guideVisibleColumn,H,new Kj(!N.renderHorizontalEndLineAtTheBottom,N.end.column))))}let E=Number.MAX_SAFE_INTEGER;for(let N=v.length-1;N>=0;N--){const A=v[N];if(!A)continue;const H=r.highlightActive&&p&&A.bracketPair.range.equalsRange(p),R=S.getInlineClassNameOfLevel(A.nestingLevel)+(H?" "+S.activeClassName:"");(H||r.includeInactive)&&A.renderHorizontalEndLineAtTheBottom&&A.end.lineNumber===x+1&&b.push(new oS(A.guideVisibleColumn,R,null)),!(A.end.lineNumber<=x||A.start.lineNumber>=x)&&(A.guideVisibleColumn>=E&&!H||(E=A.guideVisibleColumn,(H||r.includeInactive)&&w.push(new oS(A.guideVisibleColumn,R,null))))}w.sort((N,A)=>N.visibleColumn-A.visibleColumn)}return h}getVisibleColumnFromPosition(e){return _r.visibleColumnFromColumn(this.getLineContent(e.lineNumber),e.column,this._options.tabSize)+1}getLinesIndentGuides(e,t){this._assertNotDisposed();const n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");const r=this.getLanguageConfiguration(this._languageId).foldingRules,s=!!(r&&r.offSide);let o=new Array(t-e+1),a=-2,u=-1,c=-2,h=-1;for(let f=e;f<=t;f++){let p=f-e;const m=this._computeIndentLevel(f-1);if(m>=0){a=f-1,u=m,o[p]=Math.ceil(m/this._options.indentSize);continue}if(a===-2){a=-1,u=-1;for(let v=f-2;v>=0;v--){let b=this._computeIndentLevel(v);if(b>=0){a=v,u=b;break}}}if(c!==-1&&(c===-2||c<f-1)){c=-1,h=-1;for(let v=f;v<n;v++){let b=this._computeIndentLevel(v);if(b>=0){c=v,h=b;break}}}o[p]=this._getIndentLevelForWhitespaceLine(s,u,h)}return o}_getIndentLevelForWhitespaceLine(e,t,n){return t===-1||n===-1?0:t<n?1+Math.floor(t/this._options.indentSize):t===n?Math.ceil(n/this._options.indentSize):e?Math.ceil(n/this._options.indentSize):1+Math.floor(n/this._options.indentSize)}normalizePosition(e,t){return e}getLineIndentColumn(e){return J4e(this.getLineContent(e))+1}};Gl.MODEL_SYNC_LIMIT=50*1024*1024;Gl.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;Gl.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;Gl.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:va.tabSize,indentSize:va.indentSize,insertSpaces:va.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:va.trimAutoWhitespace,largeFileOptimizations:va.largeFileOptimizations,bracketPairColorizationOptions:va.bracketPairColorizationOptions};Gl=q4e([qH(4,QP),qH(5,ta),qH(6,XP)],Gl);function J4e(i){let e=0;for(const t of i)if(t===" "||t==="	")e++;else break;return e}class Xpe{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}function GH(i){return!!(i.options.overviewRuler&&i.options.overviewRuler.color)}function YH(i){return!!i.options.after||!!i.options.before}class Lre{constructor(){this._decorationsTree0=new MH,this._decorationsTree1=new MH,this._injectedTextDecorationsTree=new MH}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const n of t)n.range===null&&(n.range=e.getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd));return t}getAllInInterval(e,t,n,r,s){const o=e.getVersionId(),a=this._intervalSearch(t,n,r,s,o);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,n,r,s){const o=this._decorationsTree0.intervalSearch(e,t,n,r,s),a=this._decorationsTree1.intervalSearch(e,t,n,r,s),u=this._injectedTextDecorationsTree.intervalSearch(e,t,n,r,s);return o.concat(a).concat(u)}getInjectedTextInInterval(e,t,n,r){const s=e.getVersionId(),o=this._injectedTextDecorationsTree.intervalSearch(t,n,r,!1,s);return this._ensureNodesHaveRanges(e,o).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){const n=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,n);return this._ensureNodesHaveRanges(e,r).filter(s=>s.options.showIfCollapsed||!s.range.isEmpty())}getAll(e,t,n,r){const s=e.getVersionId(),o=this._search(t,n,r,s);return this._ensureNodesHaveRanges(e,o)}_search(e,t,n,r){if(n)return this._decorationsTree1.search(e,t,r);{const s=this._decorationsTree0.search(e,t,r),o=this._decorationsTree1.search(e,t,r),a=this._injectedTextDecorationsTree.search(e,t,r);return s.concat(o).concat(a)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(n).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),n=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(n)}insert(e){YH(e)?this._injectedTextDecorationsTree.insert(e):GH(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){YH(e)?this._injectedTextDecorationsTree.delete(e):GH(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const n=e.getVersionId();return t.cachedVersionId!==n&&this._resolveNode(t,n),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){YH(e)?this._injectedTextDecorationsTree.resolveNode(e,t):GH(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,n,r){this._decorationsTree0.acceptReplace(e,t,n,r),this._decorationsTree1.acceptReplace(e,t,n,r),this._injectedTextDecorationsTree.acceptReplace(e,t,n,r)}}function c0(i){return i.replace(/[^a-z0-9\-_]/gi," ")}class Qpe{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class ePe extends Qpe{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:ql.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;let n=e?t.getColor(e.id):null;return n?n.toString():""}}class tPe extends Qpe{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?Se.fromHex(e):t.getColor(e.id)}}class TM{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1}static from(e){return e instanceof TM?e:new TM(e)}}class Tn{constructor(e){var t;this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?c0(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new ePe(e.overviewRuler):null,this.minimap=e.minimap?new tPe(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?c0(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?c0(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?c0(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?c0(e.marginClassName):null,this.inlineClassName=e.inlineClassName?c0(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?c0(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?c0(e.afterContentClassName):null,this.after=e.after?TM.from(e.after):null,this.before=e.before?TM.from(e.before):null,this.hideInCommentTokens=(t=e.hideInCommentTokens)!==null&&t!==void 0?t:!1}static register(e){return new Tn(e)}static createDynamic(e){return new Tn(e)}}Tn.EMPTY=Tn.register({description:"empty"});const Dre=[Tn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Tn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Tn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Tn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Tre(i){return i instanceof Tn?i:Tn.createDynamic(i)}class nPe extends Me{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new ye),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(t)}(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!!(e.minimap&&e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(e.overviewRuler&&e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class iPe extends Me{constructor(){super(),this._fastEmitter=this._register(new ye),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new ye),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}const rPe=()=>!0,Ire=()=>!1,sPe=i=>i===" "||i==="	";class dd{constructor(e,t,n){this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const r=n.options,s=r.get(130);this.readOnly=r.get(80),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=r.get(103),this.lineHeight=r.get(58),this.pageSize=Math.max(1,Math.floor(s.height/this.lineHeight)-2),this.useTabStops=r.get(115),this.wordSeparators=r.get(116),this.emptySelectionClipboard=r.get(32),this.copyWithSyntaxHighlighting=r.get(21),this.multiCursorMergeOverlapping=r.get(68),this.multiCursorPaste=r.get(70),this.autoClosingBrackets=r.get(5),this.autoClosingQuotes=r.get(8),this.autoClosingDelete=r.get(6),this.autoClosingOvertype=r.get(7),this.autoSurround=r.get(11),this.autoIndent=r.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:dd._getShouldAutoClose(e,this.autoClosingQuotes),bracket:dd._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=Si.getAutoClosingPairs(e);let o=dd._getSurroundingPairs(e);if(o)for(const a of o)this.surroundingPairs[a.open]=a.close}static shouldRecreate(e){return e.hasChanged(130)||e.hasChanged(116)||e.hasChanged(32)||e.hasChanged(68)||e.hasChanged(70)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(115)||e.hasChanged(58)||e.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=dd._getElectricCharacters(this._languageId);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return Gl.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return Si.getElectricCharacters(e)}catch(t){return vn(t),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return sPe;case"languageDefined":return dd._getLanguageDefinedShouldAutoClose(e);case"always":return rPe;case"never":return Ire}}static _getLanguageDefinedShouldAutoClose(e){try{const t=Si.getAutoCloseBeforeSet(e);return n=>t.indexOf(n)!==-1}catch(t){return vn(t),Ire}}static _getSurroundingPairs(e){try{return Si.getSurroundingPairs(e)}catch(t){return vn(t),null}}}class So{constructor(e,t,n,r){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=n,this.leftoverVisibleColumns=r,this.selection=So._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,n,r){return e?new So(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new Ee(t,n),r):new So(new Q(t,n,t,n),r,new Ee(t,n),r)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?xt.fromPositions(e.getStartPosition(),t):xt.fromPositions(e.getEndPosition(),t)}}class kre{constructor(e,t,n,r){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=n,this.cursorConfig=r}}class oPe{constructor(e){this.modelState=e,this.viewState=null}}class aPe{constructor(e){this.modelState=null,this.viewState=e}}let Vn=class Jpe{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new oPe(e)}static fromViewState(e){return new aPe(e)}static fromModelSelection(e){const t=xt.liftSelection(e),n=new So(Q.fromPositions(t.getSelectionStart()),0,t.getPosition(),0);return Jpe.fromModelState(n)}static fromModelSelections(e){let t=[];for(let n=0,r=e.length;n<r;n++)t[n]=this.fromModelSelection(e[n]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}};class Al{constructor(e,t,n){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=n.shouldPushStackElementBefore,this.shouldPushStackElementAfter=n.shouldPushStackElementAfter}}function Vw(i){return i==="'"||i==='"'||i==="`"}class IM{static whitespaceVisibleColumn(e,t,n){const r=e.length;let s=0,o=-1,a=-1;for(let u=0;u<r;u++){if(u===t)return[o,a,s];switch(s%n===0&&(o=u,a=s),e.charCodeAt(u)){case 32:s+=1;break;case 9:s=_r.nextRenderTabStop(s,n);break;default:return[-1,-1,-1]}}return t===r?[o,a,s]:[-1,-1,-1]}static atomicPosition(e,t,n,r){const s=e.length,[o,a,u]=IM.whitespaceVisibleColumn(e,t,n);if(u===-1)return-1;let c;switch(r){case 0:c=!0;break;case 1:c=!1;break;case 2:if(u%n===0)return t;c=u%n<=n/2;break}if(c){if(o===-1)return-1;let p=a;for(let m=o;m<s;++m){if(p===a+n)return o;switch(e.charCodeAt(m)){case 32:p+=1;break;case 9:p=_r.nextRenderTabStop(p,n);break;default:return-1}}return p===a+n?o:-1}const h=_r.nextRenderTabStop(u,n);let f=u;for(let p=t;p<s;p++){if(f===h)return p;switch(e.charCodeAt(p)){case 32:f+=1;break;case 9:f=_r.nextRenderTabStop(f,n);break;default:return-1}}return f===h?s:-1}}class v0{constructor(e=null){this.hitTarget=e,this.type=0}}class Qj{constructor(e,t,n){this.position=e,this.spanNode=t,this.injectedText=n,this.type=1}}var Nb;(function(i){function e(t,n,r){const s=t.getPositionFromDOMInfo(n,r);return s?new Qj(s,n,null):new v0(n)}i.createFromDOMInfo=e})(Nb||(Nb={}));class lPe{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class sf{constructor(e,t,n=0,r=null,s=null,o=null){this.element=e,this.type=t,this.mouseColumn=n,this.position=r,!s&&r&&(s=new Q(r.lineNumber,r.column,r.lineNumber,r.column)),this.range=s,this.detail=o}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return sf.toString(this)}}class Jc{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class Dx{constructor(e,t,n){this.model=e.model;const r=e.configuration.options;this.layoutInfo=r.get(130),this.viewDomNode=t.viewDomNode,this.lineHeight=r.get(58),this.stickyTabStops=r.get(103),this.typicalHalfwidthCharacterWidth=r.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=n,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return Dx.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const n=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(n){const r=n.verticalOffset+n.height/2,s=e.model.getLineCount();let o=null,a,u=null;return n.afterLineNumber!==s&&(u=new Ee(n.afterLineNumber+1,1)),n.afterLineNumber>0&&(o=new Ee(n.afterLineNumber,e.model.getLineMaxColumn(n.afterLineNumber))),u===null?a=o:o===null?a=u:t<r?a=o:a=u,{viewZoneId:n.id,afterLineNumber:n.afterLineNumber,positionBefore:o,positionAfter:u,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const r=this._context.model.getLineCount(),s=this._context.model.getLineMaxColumn(r);return{range:new Q(r,s,r,s),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),n=this._context.model.getLineMaxColumn(t);return{range:new Q(t,1,t,n),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return Dx._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class uPe{constructor(e,t,n){this.editorPos=t,this.pos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+n.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+n.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=n.x-t.x<e.layoutInfo.contentLeft&&n.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,ia._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class vQ extends uPe{constructor(e,t,n,r){super(e,t,n),this._ctx=e,r?(this.target=r,this.targetPath=Gg.collect(r,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,n=null,r=null){let s=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(s=_r.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new sf(this.target,e,s,t,n,r)}withTarget(e){return new vQ(this._ctx,this.editorPos,this.pos,e)}}const Nre={isAfterLines:!0};function ZH(i){return{isAfterLines:!1,horizontalDistanceToText:i}}class ia{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,n=Gg.collect(t,this._viewHelper.viewDomNode);return!!(Jc.isChildOfContentWidgets(n)||Jc.isChildOfOverflowingContentWidgets(n)||Jc.isChildOfOverlayWidgets(n))}createMouseTarget(e,t,n,r){const s=new Dx(this._context,this._viewHelper,e),o=new vQ(s,t,n,r);try{return ia._createMouseTarget(s,o,!1)}catch{return o.fulfill(0)}}static _createMouseTarget(e,t,n){if(t.target===null){if(n)return t.fulfill(0);const o=ia._doHitTest(e,t);return o.type===1?ia.createMouseTargetFromHitTestPosition(e,t,o.spanNode,o.position,o.injectedText):this._createMouseTarget(e,t.withTarget(o.hitTarget),!0)}const r=t;let s=null;return s=s||ia._hitTestContentWidget(e,r),s=s||ia._hitTestOverlayWidget(e,r),s=s||ia._hitTestMinimap(e,r),s=s||ia._hitTestScrollbarSlider(e,r),s=s||ia._hitTestViewZone(e,r),s=s||ia._hitTestMargin(e,r),s=s||ia._hitTestViewCursor(e,r),s=s||ia._hitTestTextArea(e,r),s=s||ia._hitTestViewLines(e,r,n),s=s||ia._hitTestScrollbar(e,r),s||t.fulfill(0)}static _hitTestContentWidget(e,t){if(Jc.isChildOfContentWidgets(t.targetPath)||Jc.isChildOfOverflowingContentWidgets(t.targetPath)){const n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(9,null,null,n):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(Jc.isChildOfOverlayWidgets(t.targetPath)){const n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(12,null,null,n):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){const n=e.lastRenderData.lastViewCursorsRenderData;for(const r of n)if(t.target===r.domNode)return t.fulfill(6,r.position,null,{mightBeForeignElement:!1})}if(t.isInContentArea){const n=e.lastRenderData.lastViewCursorsRenderData,r=t.mouseContentHorizontalOffset,s=t.mouseVerticalOffset;for(const o of n){if(r<o.contentLeft||r>o.contentLeft+o.width)continue;const a=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(a<=s&&s<=a+o.height)return t.fulfill(6,o.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,t){const n=e.getZoneAtCoord(t.mouseVerticalOffset);if(n){const r=t.isInContentArea?8:5;return t.fulfill(r,n.position,null,n)}return null}static _hitTestTextArea(e,t){return Jc.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const n=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),r=n.range.getStartPosition();let s=Math.abs(t.pos.x-t.editorPos.x);const o={isAfterLines:n.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:s};return s-=e.layoutInfo.glyphMarginLeft,s<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,r,n.range,o):(s-=e.layoutInfo.glyphMarginWidth,s<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,r,n.range,o):(s-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,r,n.range,o)))}return null}static _hitTestViewLines(e,t,n){if(!Jc.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfill(7,new Ee(1,1),null,Nre);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const s=e.model.getLineCount(),o=e.model.getLineMaxColumn(s);return t.fulfill(7,new Ee(s,o),null,Nre)}if(n){if(Jc.isStrictChildOfViewLines(t.targetPath)){const s=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.model.getLineLength(s)===0){const a=e.getLineWidth(s),u=ZH(t.mouseContentHorizontalOffset-a);return t.fulfill(7,new Ee(s,1),null,u)}const o=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>=o){const a=ZH(t.mouseContentHorizontalOffset-o),u=new Ee(s,e.model.getLineMaxColumn(s));return t.fulfill(7,u,null,a)}}return t.fulfill(0)}const r=ia._doHitTest(e,t);return r.type===1?ia.createMouseTargetFromHitTestPosition(e,t,r.spanNode,r.position,r.injectedText):this._createMouseTarget(e,t.withTarget(r.hitTarget),!0)}static _hitTestMinimap(e,t){if(Jc.isChildOfMinimap(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.model.getLineMaxColumn(n);return t.fulfill(11,new Ee(n,r))}return null}static _hitTestScrollbarSlider(e,t){if(Jc.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const n=t.target.className;if(n&&/\b(slider|scrollbar)\b/.test(n)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.model.getLineMaxColumn(r);return t.fulfill(11,new Ee(r,s))}}return null}static _hitTestScrollbar(e,t){if(Jc.isChildOfScrollableElement(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.model.getLineMaxColumn(n);return t.fulfill(11,new Ee(n,r))}return null}getMouseColumn(e,t){const n=this._context.configuration.options,r=n.get(130),s=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-r.contentLeft;return ia._getMouseColumn(s,n.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,n,r,s){const o=r.lineNumber,a=r.column,u=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>u){const S=ZH(t.mouseContentHorizontalOffset-u);return t.fulfill(7,r,null,S)}const c=e.visibleRangeForPosition(o,a);if(!c)return t.fulfill(0,r);const h=c.left;if(t.mouseContentHorizontalOffset===h)return t.fulfill(6,r,null,{mightBeForeignElement:!!s});const f=[];if(f.push({offset:c.left,column:a}),a>1){const S=e.visibleRangeForPosition(o,a-1);S&&f.push({offset:S.left,column:a-1})}const p=e.model.getLineMaxColumn(o);if(a<p){const S=e.visibleRangeForPosition(o,a+1);S&&f.push({offset:S.left,column:a+1})}f.sort((S,x)=>S.offset-x.offset);const m=t.pos.toClientCoordinates(),v=n.getBoundingClientRect(),b=v.left<=m.clientX&&m.clientX<=v.right;for(let S=1;S<f.length;S++){const x=f[S-1],w=f[S];if(x.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=w.offset){const E=new Q(o,x.column,o,w.column);return t.fulfill(6,r,E,{mightBeForeignElement:!b||!!s})}}return t.fulfill(6,r,null,{mightBeForeignElement:!b||!!s})}static _doHitTestWithCaretRangeFromPoint(e,t){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.getVerticalOffsetForLineNumber(n)+Math.floor(e.lineHeight/2);let o=t.pos.y+(s-t.mouseVerticalOffset);o<=t.editorPos.y&&(o=t.editorPos.y+1),o>=t.editorPos.y+e.layoutInfo.height&&(o=t.editorPos.y+e.layoutInfo.height-1);const a=new QX(t.pos.x,o),u=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return u.type===1?u:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const n=w1(e.viewDomNode);let r;if(n?typeof n.caretRangeFromPoint>"u"?r=cPe(n,t.clientX,t.clientY):r=n.caretRangeFromPoint(t.clientX,t.clientY):r=document.caretRangeFromPoint(t.clientX,t.clientY),!r||!r.startContainer)return new v0;const s=r.startContainer;if(s.nodeType===s.TEXT_NODE){const o=s.parentNode,a=o?o.parentNode:null,u=a?a.parentNode:null;return(u&&u.nodeType===u.ELEMENT_NODE?u.className:null)===yg.CLASS_NAME?Nb.createFromDOMInfo(e,o,r.startOffset):new v0(s.parentNode)}else if(s.nodeType===s.ELEMENT_NODE){const o=s.parentNode,a=o?o.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===yg.CLASS_NAME?Nb.createFromDOMInfo(e,s,s.textContent.length):new v0(s)}return new v0}static _doHitTestWithCaretPositionFromPoint(e,t){const n=document.caretPositionFromPoint(t.clientX,t.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){const r=n.offsetNode.parentNode,s=r?r.parentNode:null,o=s?s.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===yg.CLASS_NAME?Nb.createFromDOMInfo(e,n.offsetNode.parentNode,n.offset):new v0(n.offsetNode.parentNode)}if(n.offsetNode.nodeType===n.offsetNode.ELEMENT_NODE){const r=n.offsetNode.parentNode,s=r&&r.nodeType===r.ELEMENT_NODE?r.className:null,o=r?r.parentNode:null,a=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(s===yg.CLASS_NAME){const u=n.offsetNode.childNodes[Math.min(n.offset,n.offsetNode.childNodes.length-1)];if(u)return Nb.createFromDOMInfo(e,u,0)}else if(a===yg.CLASS_NAME)return Nb.createFromDOMInfo(e,n.offsetNode,0)}return new v0(n.offsetNode)}static _snapToSoftTabBoundary(e,t){const n=t.getLineContent(e.lineNumber),{tabSize:r}=t.getTextModelOptions(),s=IM.atomicPosition(n,e.column-1,r,2);return s!==-1?new Ee(e.lineNumber,s+1):e}static _doHitTest(e,t){let n=new v0;if(typeof document.caretRangeFromPoint=="function"?n=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(n=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),n.type===1){const r=e.model.getInjectedTextAt(n.position),s=e.model.normalizePosition(n.position,2);(r||!s.equals(n.position))&&(n=new Qj(s,n.spanNode,r))}return n.type===1&&e.stickyTabStops&&(n=new Qj(this._snapToSoftTabBoundary(n.position,e.model),n.spanNode,n.injectedText)),n}}function cPe(i,e,t){const n=document.createRange();let r=i.elementFromPoint(e,t);if(r!==null){for(;r&&r.firstChild&&r.firstChild.nodeType!==r.firstChild.TEXT_NODE&&r.lastChild&&r.lastChild.firstChild;)r=r.lastChild;const s=r.getBoundingClientRect(),o=window.getComputedStyle(r,null).getPropertyValue("font"),a=r.innerText;let u=s.left,c=0,h;if(e>s.left+s.width)c=a.length;else{const f=Yb.getInstance();for(let p=0;p<a.length+1;p++){if(h=f.getCharWidth(a.charAt(p),o)/2,u+=h,e<u){c=p;break}u+=h}}n.setStart(r.firstChild,c),n.setEnd(r.firstChild,c)}return n}class Yb{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Yb._INSTANCE||(Yb._INSTANCE=new Yb),Yb._INSTANCE}getCharWidth(e,t){const n=e+t;if(this._cache[n])return this._cache[n];const r=this._canvas.getContext("2d");r.font=t;const o=r.measureText(e).width;return this._cache[n]=o,o}}Yb._INSTANCE=null;function XF(i){return function(e,t){let n=!1;return i&&(n=i.mouseTargetIsWidget(t)),n||t.preventDefault(),t}}class ey extends GP{constructor(e,t,n){super(),this._context=e,this.viewController=t,this.viewHelper=n,this.mouseTargetFactory=new ia(this._context,n),this._mouseDownOperation=this._register(new dPe(this._context,this.viewController,this.viewHelper,(o,a)=>this._createMouseTarget(o,a),o=>this._getMouseColumn(o))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(130).height;const r=new gOe(this.viewHelper.viewDomNode);this._register(r.onContextMenu(this.viewHelper.viewDomNode,o=>this._onContextMenu(o,!0))),this._register(r.onMouseMoveThrottled(this.viewHelper.viewDomNode,o=>this._onMouseMove(o),XF(this.mouseTargetFactory),ey.MOUSE_MOVE_MINIMUM_TIME)),this._register(r.onMouseUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(r.onMouseLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(r.onMouseDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o)));const s=o=>{if(this.viewController.emitMouseWheel(o),!this._context.configuration.options.get(67))return;const a=new _x(o);if(Xn?(o.metaKey||o.ctrlKey)&&!o.shiftKey&&!o.altKey:o.ctrlKey&&!o.metaKey&&!o.shiftKey&&!o.altKey){const c=Lm.getZoomLevel(),h=a.deltaY>0?1:-1;Lm.setZoomLevel(c+h),a.preventDefault(),a.stopPropagation()}};this._register(Ze(this.viewHelper.viewDomNode,Ut.MOUSE_WHEEL,s,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(130)){const t=this._context.configuration.options.get(130).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const r=new rpe(e,t).toPageCoordinates(),s=spe(this.viewHelper.viewDomNode);return r.y<s.y||r.y>s.y+s.height||r.x<s.x||r.x>s.x+s.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s,r,null)}_createMouseTarget(e,t){let n=e.target;if(!this.viewHelper.viewDomNode.contains(n)){const r=w1(this.viewHelper.viewDomNode);r&&(n=r.elementsFromPoint(e.posx,e.posy).find(s=>this.viewHelper.viewDomNode.contains(s)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?n:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),n=t.type===6||t.type===7,r=t.type===2||t.type===3||t.type===4,s=t.type===3,o=this._context.configuration.options.get(97),a=t.type===8||t.type===5,u=t.type===9;let c=e.leftButton||e.middleButton;Xn&&e.leftButton&&e.ctrlKey&&(c=!1);const h=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(c&&(n||s&&o))h(),this._mouseDownOperation.start(t.type,e);else if(r)e.preventDefault();else if(a){const f=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(f.viewZoneId)&&(h(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else u&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(h(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}ey.MOUSE_MOVE_MINIMUM_TIME=100;class dPe extends Me{constructor(e,t,n,r,s){super(),this._context=e,this._viewController=t,this._viewHelper=n,this._createMouseTarget=r,this._getMouseColumn=s,this._mouseMoveMonitor=this._register(new mOe(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new el),this._mouseState=new $B,this._currentSelection=new xt(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const n=this._findMousePosition(t,!0);if(!n||!n.position)return;this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count;const r=this._context.configuration.options;if(!r.get(80)&&r.get(31)&&!r.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&n.type===6&&n.position&&this._currentSelection.containsPosition(n.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,XF(null),s=>this._onMouseDownThenMove(s),s=>{const o=this._findMousePosition(this._lastMouseEvent,!0);s&&s instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:o?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,XF(null),s=>this._onMouseDownThenMove(s),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,n=this._context.model,r=this._context.viewLayout,s=this._getMouseColumn(e);if(e.posy<t.y){const a=Math.max(r.getCurrentScrollTop()-(t.y-e.posy),0),u=Dx.getZoneAtCoord(this._context,a);if(u){const h=this._helpPositionJumpOverViewZone(u);if(h)return new sf(null,13,s,h)}const c=r.getLineNumberAtVerticalOffset(a);return new sf(null,13,s,new Ee(c,1))}if(e.posy>t.y+t.height){const a=r.getCurrentScrollTop()+(e.posy-t.y),u=Dx.getZoneAtCoord(this._context,a);if(u){const h=this._helpPositionJumpOverViewZone(u);if(h)return new sf(null,13,s,h)}const c=r.getLineNumberAtVerticalOffset(a);return new sf(null,13,s,new Ee(c,n.getLineMaxColumn(c)))}const o=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new sf(null,13,s,new Ee(o,1)):e.posx>t.x+t.width?new sf(null,13,s,new Ee(o,n.getLineMaxColumn(o))):null}_findMousePosition(e,t){const n=this._getPositionOutsideEditor(e);if(n)return n;const r=this._createMouseTarget(e,t);if(!r.position)return null;if(r.type===8||r.type===5){const o=this._helpPositionJumpOverViewZone(r.detail);if(o)return new sf(r.element,r.type,r.mouseColumn,o,null,r.detail)}return r}_helpPositionJumpOverViewZone(e){const t=new Ee(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),n=e.positionBefore,r=e.positionAfter;return n&&r?n.isBefore(t)?n:r:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class $B{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const n=new Date().getTime();n-this._lastSetMouseDownCountTime>$B.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=n,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}$B.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var fd;(function(i){i.text="text/plain",i.binary="application/octet-stream",i.unknown="application/unknown",i.markdown="text/markdown",i.latex="text/latex"})(fd||(fd={}));let pC=[],bQ=[],QF=[];function E5(i,e=!1){const t=hPe(i);pC.push(t),t.userConfigured?QF.push(t):bQ.push(t),e&&!t.userConfigured&&pC.forEach(n=>{n.mime===t.mime||n.userConfigured||(t.extension&&n.extension===t.extension&&console.warn(`Overwriting extension <<${t.extension}>> to now point to mime <<${t.mime}>>`),t.filename&&n.filename===t.filename&&console.warn(`Overwriting filename <<${t.filename}>> to now point to mime <<${t.mime}>>`),t.filepattern&&n.filepattern===t.filepattern&&console.warn(`Overwriting filepattern <<${t.filepattern}>> to now point to mime <<${t.mime}>>`),t.firstline&&n.firstline===t.firstline&&console.warn(`Overwriting firstline <<${t.firstline}>> to now point to mime <<${t.mime}>>`))})}function hPe(i){return{id:i.id,mime:i.mime,filename:i.filename,extension:i.extension,filepattern:i.filepattern,firstline:i.firstline,userConfigured:i.userConfigured,filenameLowercase:i.filename?i.filename.toLowerCase():void 0,extensionLowercase:i.extension?i.extension.toLowerCase():void 0,filepatternLowercase:i.filepattern?Epe(i.filepattern.toLowerCase()):void 0,filepatternOnPath:i.filepattern?i.filepattern.indexOf(Hs.sep)>=0:!1}}function fPe(i){i?(pC=pC.filter(e=>!e.userConfigured),QF=[]):(pC=[],bQ=[],QF=[])}function gPe(i,e){let t;if(i)switch(i.scheme){case On.file:t=i.fsPath;break;case On.data:t=D1.parseMetaData(i).get(D1.META_DATA_LABEL);break;default:t=i.path}if(!t)return[fd.unknown];t=t.toLowerCase();const n=rC(t),r=Are(t,n,QF);if(r)return[r,fd.text];const s=Are(t,n,bQ);if(s)return[s,fd.text];if(e){const o=pPe(e);if(o)return[o,fd.text]}return[fd.unknown]}function Are(i,e,t){var n;let r=null,s=null,o=null;for(let a=t.length-1;a>=0;a--){const u=t[a];if(e===u.filenameLowercase){r=u;break}if(u.filepattern&&(!s||u.filepattern.length>s.filepattern.length)){const c=u.filepatternOnPath?i:e;!((n=u.filepatternLowercase)===null||n===void 0)&&n.call(u,c)&&(s=u)}u.extension&&(!o||u.extension.length>o.extension.length)&&e.endsWith(u.extensionLowercase)&&(o=u)}return r?r.mime:s?s.mime:o?o.mime:null}function pPe(i){if(OX(i)&&(i=i.substr(1)),i.length>0)for(let e=pC.length-1;e>=0;e--){const t=pC[e];if(!t.firstline)continue;const n=i.match(t.firstline);if(n&&n.length>0)return t.mime}return null}class go{constructor(e,t,n,r,s){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selectionStartPosition=r,this.selectionEndPosition=s}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new go(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new go(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,n){t.setValue(e,this.value),n&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const r=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,r,-1)}if(e>=this.selectionEnd){const r=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,r,1)}const t=this.value.substring(this.selectionStart,e);if(t.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const n=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,-1)}_finishDeduceEditorPosition(e,t,n){let r=0,s=-1;for(;(s=t.indexOf(`
`,s+1))!==-1;)r++;return[e,n*t.length,r]}static selectedText(e){return new go(e,0,e.length,null,null)}static deduceInput(e,t,n){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};let r=e.value,s=e.selectionStart,o=e.selectionEnd,a=t.value,u=t.selectionStart,c=t.selectionEnd;const h=r.substring(o),f=a.substring(c),p=yF(h,f);a=a.substring(0,a.length-p),r=r.substring(0,r.length-p);const m=r.substring(0,s),v=a.substring(0,u),b=Cx(m,v);if(a=a.substring(b),r=r.substring(b),u-=b,s-=b,c-=b,o-=b,n&&u===c&&r.length>0){let x=null;if(u===a.length?a.startsWith(r)&&(x=a.substring(r.length)):a.endsWith(r)&&(x=a.substring(0,a.length-r.length)),x!==null&&x.length>0&&(/\uFE0F/.test(x)||JIe(x)))return{text:x,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(u===c){if(r===a&&s===0&&o===r.length&&u===a.length&&a.indexOf(`
`)===-1&&tke(a))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const x=m.length-b;return{text:a,replacePrevCharCnt:x,replaceNextCharCnt:0,positionDelta:0}}const S=o-s;return{text:a,replacePrevCharCnt:S,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const n=Math.min(Cx(e.value,t.value),e.selectionEnd),r=Math.min(yF(e.value,t.value),e.value.length-e.selectionEnd),s=e.value.substring(n,e.value.length-r),o=t.value.substring(n,t.value.length-r);e.selectionStart-n;const a=e.selectionEnd-n;t.selectionStart-n;const u=t.selectionEnd-n;return{text:o,replacePrevCharCnt:a,replaceNextCharCnt:s.length-a,positionDelta:u-o.length}}}go.EMPTY=new go("",0,0,null,null);class cS{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const n=e*t,r=n+1,s=n+t;return new Q(r,1,s+1,1)}static fromEditorSelection(e,t,n,r,s){const o=cS._getPageOfLine(n.startLineNumber,r),a=cS._getRangeForPage(o,r),u=cS._getPageOfLine(n.endLineNumber,r),c=cS._getRangeForPage(u,r),h=a.intersectRanges(new Q(1,1,n.startLineNumber,n.startColumn));let f=t.getValueInRange(h,1);const p=t.getLineCount(),m=t.getLineMaxColumn(p),v=c.intersectRanges(new Q(n.endLineNumber,n.endColumn,p,m));let b=t.getValueInRange(v,1),S;if(o===u||o+1===u)S=t.getValueInRange(n,1);else{const x=a.intersectRanges(n),w=c.intersectRanges(n);S=t.getValueInRange(x,1)+String.fromCharCode(8230)+t.getValueInRange(w,1)}return s&&(f.length>500&&(f=f.substring(f.length-500,f.length)),b.length>500&&(b=b.substring(0,500)),S.length>2*500&&(S=S.substring(0,500)+String.fromCharCode(8230)+S.substring(S.length-500,S.length))),new go(f+S+b,f.length,f.length+S.length,new Ee(n.startLineNumber,n.startColumn),new Ee(n.endLineNumber,n.endColumn))}}var JF;(function(i){i.Tap="-monaco-textarea-synthetic-tap"})(JF||(JF={}));const Jj={forceCopyWithSyntaxHighlighting:!1};class kM{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}kM.INSTANCE=new kM;class mPe{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}class _Pe extends Me{constructor(e,t,n,r){super(),this._host=e,this._textArea=t,this._OS=n,this._browser=r,this._onFocus=this._register(new ye),this.onFocus=this._onFocus.event,this._onBlur=this._register(new ye),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new ye),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new ye),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new ye),this.onCut=this._onCut.event,this._onPaste=this._register(new ye),this.onPaste=this._onPaste.event,this._onType=this._register(new ye),this.onType=this._onType.event,this._onCompositionStart=this._register(new ye),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new ye),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new ye),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new ye),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new lr(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new lr(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=go.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null,this._nextCommand=0;let s=null;this._register(this._textArea.onKeyDown(o=>{const a=new Ar(o);(a.keyCode===109||this._currentComposition&&a.keyCode===1)&&a.stopPropagation(),a.equals(9)&&a.preventDefault(),s=a,this._onKeyDown.fire(a)})),this._register(this._textArea.onKeyUp(o=>{const a=new Ar(o);this._onKeyUp.fire(a)})),this._register(this._textArea.onCompositionStart(o=>{const a=new mPe;if(this._currentComposition){this._currentComposition=a;return}if(this._currentComposition=a,this._OS===2&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===o.data&&(s&&s.equals(109)&&(s.code==="ArrowRight"||s.code==="ArrowLeft")||this._browser.isFirefox)){a.handleCompositionUpdate("x"),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(this._browser.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._onCompositionStart.fire({revealDeltaColumns:0})})),this._register(this._textArea.onCompositionUpdate(o=>{const a=this._currentComposition;if(!a)return;if(this._browser.isAndroid){const c=go.readFromTextArea(this._textArea),h=go.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(h),this._onCompositionUpdate.fire(o);return}const u=a.handleCompositionUpdate(o.data);this._textAreaState=go.readFromTextArea(this._textArea),this._onType.fire(u),this._onCompositionUpdate.fire(o)})),this._register(this._textArea.onCompositionEnd(o=>{const a=this._currentComposition;if(!a)return;if(this._currentComposition=null,this._browser.isAndroid){const c=go.readFromTextArea(this._textArea),h=go.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(h),this._onCompositionEnd.fire();return}const u=a.handleCompositionUpdate(o.data);this._textAreaState=go.readFromTextArea(this._textArea),this._onType.fire(u),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(o=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const a=go.readFromTextArea(this._textArea),u=go.deduceInput(this._textAreaState,a,this._OS===2);if(u.replacePrevCharCnt===0&&u.text.length===1&&no(u.text.charCodeAt(0)))return;this._textAreaState=a;const c=u.text===""&&u.replacePrevCharCnt===0&&u.replaceNextCharCnt===0&&u.positionDelta===0;this._nextCommand===0?c||this._onType.fire(u):(c||this._firePaste(u.text,null),this._nextCommand=0)})),this._register(this._textArea.onCut(o=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(o),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(o=>{this._ensureClipboardGetsEditorSelection(o)})),this._register(this._textArea.onPaste(o=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),bA.canUseTextData(o)){const[a,u]=bA.getTextData(o);a!==""&&this._firePaste(a,u)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",go.EMPTY),this._nextCommand=1})),this._register(this._textArea.onFocus(()=>{const o=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!o&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return Ze(document,"selectionchange",t=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const n=Date.now(),r=n-e;if(e=n,r<5)return;const s=n-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),s<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const o=this._textArea.getValue();if(this._textAreaState.value!==o)return;const a=this._textArea.getSelectionStart(),u=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===u)return;const c=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(c[0],c[1],c[2]),f=this._textAreaState.deduceEditorPosition(u),p=this._host.deduceModelPosition(f[0],f[1],f[2]),m=new xt(h.lineNumber,h.column,p.lineNumber,p.column);this._onSelectionChangeRequest.fire(m)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(bA.canUseTextData(e)),n={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};if(kM.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,n),!bA.canUseTextData(e)){this._setAndWriteTextAreaState("copy or cut",go.selectedText(t.text));return}bA.setTextData(e,t.text,t.html,n)}_firePaste(e,t){t||(t=kM.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}}class bA{static canUseTextData(e){return!!e.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const t=e.clipboardData.getData(fd.text);let n=null;const r=e.clipboardData.getData("vscode-editor-data");if(typeof r=="string")try{n=JSON.parse(r),n.version!==1&&(n=null)}catch{}return[t,n]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,n,r){if(e.clipboardData){e.clipboardData.setData(fd.text,t),typeof n=="string"&&e.clipboardData.setData("text/html",n),e.clipboardData.setData("vscode-editor-data",JSON.stringify(r)),e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class vPe extends Me{constructor(e){super(),this._actual=e,this.onKeyDown=this._register(Kh(this._actual,"keydown")).event,this.onKeyUp=this._register(Kh(this._actual,"keyup")).event,this.onCompositionStart=this._register(Kh(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(Kh(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(Kh(this._actual,"compositionend")).event,this.onInput=this._register(Kh(this._actual,"input")).event,this.onCut=this._register(Kh(this._actual,"cut")).event,this.onCopy=this._register(Kh(this._actual,"copy")).event,this.onPaste=this._register(Kh(this._actual,"paste")).event,this.onFocus=this._register(Kh(this._actual,"focus")).event,this.onBlur=this._register(Kh(this._actual,"blur")).event,this._onSyntheticTap=this._register(new ye),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(Ze(this._actual,JF.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const e=w1(this._actual);return e?e.activeElement===this._actual:CX(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const n=this._actual;n.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),n.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,n){const r=this._actual;let s=null;const o=w1(r);o?s=o.activeElement:s=document.activeElement;const a=s===r,u=r.selectionStart,c=r.selectionEnd;if(a&&u===t&&c===n){Kl&&window.parent!==window&&r.focus();return}if(a){this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,n),Kl&&window.parent!==window&&r.focus();return}try{const h=DIe(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,n),TIe(r,h)}catch{}}}class bPe extends ey{constructor(e,t,n){super(e,t,n),this._register(qi.addTarget(this.viewHelper.linesContentDomNode)),this._register(Ze(this.viewHelper.linesContentDomNode,mr.Tap,s=>this.onTap(s))),this._register(Ze(this.viewHelper.linesContentDomNode,mr.Change,s=>this.onChange(s))),this._register(Ze(this.viewHelper.linesContentDomNode,mr.Contextmenu,s=>this._onContextMenu(new XC(s,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(Ze(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const o=s.pointerType;if(o==="mouse"){this._lastPointerType="mouse";return}else o==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const r=new pOe(this.viewHelper.viewDomNode);this._register(r.onPointerMoveThrottled(this.viewHelper.viewDomNode,s=>this._onMouseMove(s),XF(this.mouseTargetFactory),ey.MOUSE_MOVE_MINIMUM_TIME)),this._register(r.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(r.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(r.onPointerDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new XC(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e)}}class CPe extends ey{constructor(e,t,n){super(e,t,n),this._register(qi.addTarget(this.viewHelper.linesContentDomNode)),this._register(Ze(this.viewHelper.linesContentDomNode,mr.Tap,r=>this.onTap(r))),this._register(Ze(this.viewHelper.linesContentDomNode,mr.Change,r=>this.onChange(r))),this._register(Ze(this.viewHelper.linesContentDomNode,mr.Contextmenu,r=>this._onContextMenu(new XC(r,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new XC(e,this.viewHelper.viewDomNode),!1);if(t.position){const n=document.createEvent("CustomEvent");n.initEvent(JF.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(n),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class yPe extends Me{constructor(e,t,n){super(),zg&&oB.pointerEvents?this.handler=this._register(new bPe(e,t,n)):window.TouchEvent?this.handler=this._register(new CPe(e,t,n)):this.handler=this._register(new ey(e,t,n))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class AE extends GP{}class Tx extends AE{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Ee(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(58);const t=e.get(59);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(83);const n=e.get(130);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);let n=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,n=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(n=!0),n}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ee(e,1));if(t.column!==1)return"";const n=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(this._renderLineNumbers===2){const r=Math.abs(this._lastCursorModelPosition.lineNumber-n);return r===0?'<span class="relative-current-line-number">'+n+"</span>":String(r)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===n||n%10===0?String(n):"":String(n)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=yl?this._lineHeight%2===0?" lh-even":" lh-odd":"",n=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s='<div class="'+Tx.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',o=this._context.model.getLineCount(),a=[];for(let u=n;u<=r;u++){const c=u-n;if(!this._renderFinalNewline&&u===o&&this._context.model.getLineLength(u)===0){a[c]="";continue}const h=this._getLineRenderLineNumber(u);h?u===this._activeLineNumber?a[c]='<div class="active-line-number '+Tx.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+h+"</div>":a[c]=s+h+"</div>":a[c]=""}this._renderResult=a}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}Tx.CLASS_NAME="line-numbers";Cr((i,e)=>{const t=i.getColor($pe);t&&e.addRule(`.monaco-editor .line-numbers { color: ${t}; }`);const n=i.getColor(v4e);n&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${n}; }`)});class ty extends jc{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(130);this._canUseLayerHinting=!t.get(28),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._domNode=li(document.createElement("div")),this._domNode.setClassName(ty.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=li(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(ty.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(130);return this._canUseLayerHinting=!t.get(28),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const n=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(n),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(n)}}ty.CLASS_NAME="glyph-margin";ty.OUTER_CLASS_NAME="margin";const mC="monaco-mouse-cursor-text";class CQ{constructor(e,t,n){this._visibleTextAreaBrand=void 0,this.top=e,this.left=t,this.width=n}setWidth(e){return new CQ(this.top,this.left,e)}}const CA=Kl;class wPe extends jc{constructor(e,t,n){super(e),this._primaryCursorPosition=new Ee(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=n,this._scrollLeft=0,this._scrollTop=0;const r=this._context.configuration.options,s=r.get(130);this._setAccessibilityOptions(r),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,this._contentHeight=s.height,this._fontInfo=r.get(43),this._lineHeight=r.get(58),this._emptySelectionClipboard=r.get(32),this._copyWithSyntaxHighlighting=r.get(21),this._visibleTextArea=null,this._selections=[new xt(1,1,1,1)],this._modelSelections=[new xt(1,1,1,1)],this._lastRenderPosition=null,this.textArea=li(document.createElement("textarea")),Gg.write(this.textArea,6),this.textArea.setClassName(`inputarea ${mC}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(r)),this.textArea.setAttribute("tabindex",String(r.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",C("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),r.get(30)&&r.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=li(document.createElement("div")),this.textAreaCover.setPosition("absolute");const o={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:c=>this._context.model.getLineMaxColumn(c),getValueInRange:(c,h)=>this._context.model.getValueInRange(c,h)},a={getDataToCopy:c=>{const h=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,Zo),f=this._context.model.getEOL(),p=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),m=Array.isArray(h)?h:null,v=Array.isArray(h)?h.join(f):h;let b,S=null;if(c&&(Jj.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&v.length<65536)){const x=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);x&&(b=x.html,S=x.mode)}return{isFromEmptySelection:p,multicursorText:m,text:v,html:b,mode:S}},getScreenReaderContent:c=>{if(this._accessibilitySupport===1){if(Xn){const h=this._selections[0];if(h.isEmpty()){const f=h.getStartPosition();let p=this._getWordBeforePosition(f);if(p.length===0&&(p=this._getCharacterBeforePosition(f)),p.length>0)return new go(p,p.length,p.length,f,f)}}return go.EMPTY}if(Dfe){const h=this._selections[0];if(h.isEmpty()){const f=h.getStartPosition(),[p,m]=this._getAndroidWordAtPosition(f);if(p.length>0)return new go(p,m,m,f,f)}return go.EMPTY}return cS.fromEditorSelection(c,o,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(c,h,f)=>this._context.model.deduceModelPositionRelativeToViewPosition(c,h,f)},u=this._register(new vPe(this.textArea.domNode));this._textAreaInput=this._register(new _Pe(a,u,yc,B2e)),this._register(this._textAreaInput.onKeyDown(c=>{this._viewController.emitKeyDown(c)})),this._register(this._textAreaInput.onKeyUp(c=>{this._viewController.emitKeyUp(c)})),this._register(this._textAreaInput.onPaste(c=>{let h=!1,f=null,p=null;c.metadata&&(h=this._emptySelectionClipboard&&!!c.metadata.isFromEmptySelection,f=typeof c.metadata.multicursorText<"u"?c.metadata.multicursorText:null,p=c.metadata.mode),this._viewController.paste(c.text,h,f,p)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(c=>{c.replacePrevCharCnt||c.replaceNextCharCnt||c.positionDelta?this._viewController.compositionType(c.text,c.replacePrevCharCnt,c.replaceNextCharCnt,c.positionDelta):this._viewController.type(c.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(c=>{this._viewController.setSelection(c)})),this._register(this._textAreaInput.onCompositionStart(c=>{const h=this._selections[0].startLineNumber,f=this._selections[0].startColumn+c.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new Q(h,f,h,f),0,1);const p=this._viewHelper.visibleRangeForPositionRelativeToEditor(h,f);p&&(this._visibleTextArea=new CQ(this._context.viewLayout.getVerticalOffsetForLineNumber(h),p.left,CA?0:1),this.textArea.domNode.scrollLeft=0,this._render()),this.textArea.setClassName(`inputarea ${mC} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(c=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(SPe(c.data,this._fontInfo)),this.textArea.domNode.scrollLeft=0,this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${mC}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',n=this._context.model.getLineContent(e.lineNumber),r=Hc(t);let s=!0,o=e.column,a=!0,u=e.column,c=0;for(;c<50&&(s||a);){if(s&&o<=1&&(s=!1),s){const h=n.charCodeAt(o-2);r.get(h)!==0?s=!1:o--}if(a&&u>n.length&&(a=!1),a){const h=n.charCodeAt(u-1);r.get(h)!==0?a=!1:u++}c++}return[n.substring(o-1,u-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),n=Hc(this._context.configuration.options.get(116));let r=e.column,s=0;for(;r>1;){const o=t.charCodeAt(r-2);if(n.get(o)!==0||s>50)return t.substring(r-1,e.column-1);s++,r--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const n=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!no(n.charCodeAt(0)))return n}return""}_getAriaLabel(e){return e.get(2)===1?C("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",yl?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===zf.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(130);return this._setAccessibilityOptions(t),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._contentHeight=n.height,this._fontInfo=t.get(43),this._lineHeight=t.get(58),this._emptySelectionClipboard=t.get(32),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(t.get(30)&&t.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Ee(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(Xn){this._renderInsideEditor(this._primaryCursorPosition,t,e,CA?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const n=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=n*this._lineHeight;return}this._renderInsideEditor(this._primaryCursorPosition,t,e,CA?0:1,CA?0:1)}_newlinecount(e){let t=0,n=-1;do{if(n=e.indexOf(`
`,n+1),n===-1)break;t++}while(!0);return t}_renderInsideEditor(e,t,n,r,s){this._lastRenderPosition=e;const o=this.textArea,a=this.textAreaCover;Qa.applyFontInfo(o,this._fontInfo),o.setTop(t),o.setLeft(n),o.setWidth(r),o.setHeight(s),a.setTop(0),a.setLeft(0),a.setWidth(0),a.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(Qa.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),CA){e.setWidth(0),e.setHeight(0),t.setWidth(0),t.setHeight(0);return}e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const n=this._context.configuration.options;n.get(49)?t.setClassName("monaco-editor-background textAreaCover "+ty.OUTER_CLASS_NAME):n.get(59).renderType!==0?t.setClassName("monaco-editor-background textAreaCover "+Tx.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}function SPe(i,e){const n=document.createElement("canvas").getContext("2d");n.font=xPe(e);const r=n.measureText(i);return Kl?r.width+2:r.width}function xPe(i){return EPe("normal",i.fontWeight,i.fontSize,i.lineHeight,i.fontFamily)}function EPe(i,e,t,n,r){return`${i} normal ${e} ${t}px / ${n}px ${r}`}class Ab{static columnSelect(e,t,n,r,s,o){let a=Math.abs(s-n)+1,u=n>s,c=r>o,h=r<o,f=[];for(let p=0;p<a;p++){let m=n+(u?-p:p),v=_r.columnFromVisibleColumn2(e,t,m,r),b=_r.columnFromVisibleColumn2(e,t,m,o),S=_r.visibleColumnFromColumn2(e,t,new Ee(m,v)),x=_r.visibleColumnFromColumn2(e,t,new Ee(m,b));h&&(S>o||x<r)||c&&(x>r||S<o)||f.push(new So(new Q(m,v,m,v),0,new Ee(m,b),0))}if(f.length===0)for(let p=0;p<a;p++){const m=n+(u?-p:p),v=t.getLineMaxColumn(m);f.push(new So(new Q(m,v,m,v),0,new Ee(m,v),0))}return{viewStates:f,reversed:u,fromLineNumber:n,fromVisualColumn:r,toLineNumber:s,toVisualColumn:o}}static columnSelectLeft(e,t,n){let r=n.toViewVisualColumn;return r>0&&r--,Ab.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,r)}static columnSelectRight(e,t,n){let r=0;const s=Math.min(n.fromViewLineNumber,n.toViewLineNumber),o=Math.max(n.fromViewLineNumber,n.toViewLineNumber);for(let u=s;u<=o;u++){const c=t.getLineMaxColumn(u),h=_r.visibleColumnFromColumn2(e,t,new Ee(u,c));r=Math.max(r,h)}let a=n.toViewVisualColumn;return a<r&&a++,this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,a)}static columnSelectUp(e,t,n,r){const s=r?e.pageSize:1,o=Math.max(1,n.toViewLineNumber-s);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)}static columnSelectDown(e,t,n,r){const s=r?e.pageSize:1,o=Math.min(t.getLineCount(),n.toViewLineNumber+s);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)}}class zo{constructor(e,t,n=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=n}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let r=t.getInverseEditOperations()[0].range;return xt.fromPositions(r.getEndPosition())}}class LPe{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return xt.fromRange(r,0)}}class L5{constructor(e,t,n=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=n}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let r=t.getInverseEditOperations()[0].range;return xt.fromPositions(r.getStartPosition())}}class Q6{constructor(e,t,n,r,s=!1){this._range=e,this._text=t,this._columnDeltaOffset=r,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=s}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let r=t.getInverseEditOperations()[0].range;return xt.fromPositions(r.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class yQ{constructor(e,t,n,r=!1){this._range=e,this._text=t,this._initialSelection=n,this._forceMoveMarkers=r,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class XH{constructor(e,t,n){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}}class yi{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-ZIe(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const n=t.lineNumber-1;return new Ee(n,e.getLineMaxColumn(n))}else return t}static leftPositionAtomicSoftTabs(e,t,n){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const r=e.getLineMinColumn(t.lineNumber),s=e.getLineContent(t.lineNumber),o=IM.atomicPosition(s,t.column-1,n,0);if(o!==-1&&o+1>=r)return new Ee(t.lineNumber,o+1)}return this.leftPosition(e,t)}static left(e,t,n){const r=e.stickyTabStops?yi.leftPositionAtomicSoftTabs(t,n,e.tabSize):yi.leftPosition(t,n);return new XH(r.lineNumber,r.column,0)}static moveLeft(e,t,n,r,s){let o,a;if(n.hasSelection()&&!r)o=n.selection.startLineNumber,a=n.selection.startColumn;else{const u=n.position.delta(void 0,-(s-1)),c=t.normalizePosition(yi.clipPositionColumn(u,t),0),h=yi.left(e,t,c);o=h.lineNumber,a=h.column}return n.move(r,o,a,0)}static clipPositionColumn(e,t){return new Ee(e.lineNumber,yi.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,n){return e<t?t:e>n?n:e}static rightPosition(e,t,n){return n<e.getLineMaxColumn(t)?n=n+wF(e.getLineContent(t),n-1):t<e.getLineCount()&&(t=t+1,n=e.getLineMinColumn(t)),new Ee(t,n)}static rightPositionAtomicSoftTabs(e,t,n,r,s){if(n<e.getLineIndentColumn(t)){const o=e.getLineContent(t),a=IM.atomicPosition(o,n-1,r,1);if(a!==-1)return new Ee(t,a+1)}return this.rightPosition(e,t,n)}static right(e,t,n){const r=e.stickyTabStops?yi.rightPositionAtomicSoftTabs(t,n.lineNumber,n.column,e.tabSize,e.indentSize):yi.rightPosition(t,n.lineNumber,n.column);return new XH(r.lineNumber,r.column,0)}static moveRight(e,t,n,r,s){let o,a;if(n.hasSelection()&&!r)o=n.selection.endLineNumber,a=n.selection.endColumn;else{const u=n.position.delta(void 0,s-1),c=t.normalizePosition(yi.clipPositionColumn(u,t),1),h=yi.right(e,t,c);o=h.lineNumber,a=h.column}return n.move(r,o,a,0)}static vertical(e,t,n,r,s,o,a){const u=_r.visibleColumnFromColumn(t.getLineContent(n),r,e.tabSize)+s,c=t.getLineCount(),h=n===1&&r===1,f=n===c&&r===t.getLineMaxColumn(n),p=o<n?h:f;return n=o,n<1?(n=1,a?r=t.getLineMinColumn(n):r=Math.min(t.getLineMaxColumn(n),r)):n>c?(n=c,a?r=t.getLineMaxColumn(n):r=Math.min(t.getLineMaxColumn(n),r)):r=_r.columnFromVisibleColumn2(e,t,n,u),p?s=0:s=u-_r.visibleColumnFromColumn(t.getLineContent(n),r,e.tabSize),new XH(n,r,s)}static down(e,t,n,r,s,o,a){return this.vertical(e,t,n,r,s,n+o,a)}static moveDown(e,t,n,r,s){let o,a;n.hasSelection()&&!r?(o=n.selection.endLineNumber,a=n.selection.endColumn):(o=n.position.lineNumber,a=n.position.column);let u=yi.down(e,t,o,a,n.leftoverVisibleColumns,s,!0);return n.move(r,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateDown(e,t,n){let r=n.selection,s=yi.down(e,t,r.selectionStartLineNumber,r.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),o=yi.down(e,t,r.positionLineNumber,r.positionColumn,n.leftoverVisibleColumns,1,!1);return new So(new Q(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new Ee(o.lineNumber,o.column),o.leftoverVisibleColumns)}static up(e,t,n,r,s,o,a){return this.vertical(e,t,n,r,s,n-o,a)}static moveUp(e,t,n,r,s){let o,a;n.hasSelection()&&!r?(o=n.selection.startLineNumber,a=n.selection.startColumn):(o=n.position.lineNumber,a=n.position.column);let u=yi.up(e,t,o,a,n.leftoverVisibleColumns,s,!0);return n.move(r,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateUp(e,t,n){let r=n.selection,s=yi.up(e,t,r.selectionStartLineNumber,r.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),o=yi.up(e,t,r.positionLineNumber,r.positionColumn,n.leftoverVisibleColumns,1,!1);return new So(new Q(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new Ee(o.lineNumber,o.column),o.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,n,r){let s=n.position.lineNumber;for(;s>1&&this._isBlankLine(t,s);)s--;for(;s>1&&!this._isBlankLine(t,s);)s--;return n.move(r,s,t.getLineMinColumn(s),0)}static moveToNextBlankLine(e,t,n,r){const s=t.getLineCount();let o=n.position.lineNumber;for(;o<s&&this._isBlankLine(t,o);)o++;for(;o<s&&!this._isBlankLine(t,o);)o++;return n.move(r,o,t.getLineMinColumn(o),0)}static moveToBeginningOfLine(e,t,n,r){let s=n.position.lineNumber,o=t.getLineMinColumn(s),a=t.getLineFirstNonWhitespaceColumn(s)||o,u;return n.position.column===a?u=o:u=a,n.move(r,s,u,0)}static moveToEndOfLine(e,t,n,r,s){let o=n.position.lineNumber,a=t.getLineMaxColumn(o);return n.move(r,o,a,s?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,n,r){return n.move(r,1,1,0)}static moveToEndOfBuffer(e,t,n,r){let s=t.getLineCount(),o=t.getLineMaxColumn(s);return n.move(r,s,o,0)}}class ny{static deleteRight(e,t,n,r){let s=[],o=e!==3;for(let a=0,u=r.length;a<u;a++){const c=r[a];let h=c;if(h.isEmpty()){let f=c.getPosition(),p=yi.right(t,n,f);h=new Q(p.lineNumber,p.column,f.lineNumber,f.column)}if(h.isEmpty()){s[a]=null;continue}h.startLineNumber!==h.endLineNumber&&(o=!0),s[a]=new zo(h,"")}return[o,s]}static isAutoClosingPairDelete(e,t,n,r,s,o,a){if(t==="never"&&n==="never"||e==="never")return!1;for(let u=0,c=o.length;u<c;u++){const h=o[u],f=h.getPosition();if(!h.isEmpty())return!1;const p=s.getLineContent(f.lineNumber);if(f.column<2||f.column>=p.length+1)return!1;const m=p.charAt(f.column-2),v=r.get(m);if(!v)return!1;if(Vw(m)){if(n==="never")return!1}else if(t==="never")return!1;const b=p.charAt(f.column-1);let S=!1;for(const x of v)x.open===m&&x.close===b&&(S=!0);if(!S)return!1;if(e==="auto"){let x=!1;for(let w=0,E=a.length;w<E;w++){const N=a[w];if(f.lineNumber===N.startLineNumber&&f.column===N.startColumn){x=!0;break}}if(!x)return!1}}return!0}static _runAutoClosingPairDelete(e,t,n){let r=[];for(let s=0,o=n.length;s<o;s++){const a=n[s].getPosition(),u=new Q(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[s]=new zo(u,"")}return[!0,r]}static deleteLeft(e,t,n,r,s){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,n,r,s))return this._runAutoClosingPairDelete(t,n,r);const o=[];let a=e!==2;for(let u=0,c=r.length;u<c;u++){let h=ny.getDeleteRange(r[u],n,t);if(h.isEmpty()){o[u]=null;continue}h.startLineNumber!==h.endLineNumber&&(a=!0),o[u]=new zo(h,"")}return[a,o]}static getDeleteRange(e,t,n){if(!e.isEmpty())return e;const r=e.getPosition();if(n.useTabStops&&r.column>1){const s=t.getLineContent(r.lineNumber),o=Ya(s),a=o===-1?s.length+1:o+1;if(r.column<=a){const u=_r.visibleColumnFromColumn2(n,t,r),c=_r.prevIndentTabStop(u,n.indentSize),h=_r.columnFromVisibleColumn2(n,t,r.lineNumber,c);return new Q(r.lineNumber,h,r.lineNumber,r.column)}}return Q.fromPositions(ny.getPositionAfterDeleteLeft(r,t),r)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const n=ske(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,n+1)}else if(e.lineNumber>1){const n=e.lineNumber-1;return new Ee(n,t.getLineMaxColumn(n))}else return e}static cut(e,t,n){let r=[],s=null;n.sort((o,a)=>Ee.compare(o.getStartPosition(),a.getEndPosition()));for(let o=0,a=n.length;o<a;o++){const u=n[o];if(u.isEmpty())if(e.emptySelectionClipboard){let c=u.getPosition(),h,f,p,m;c.lineNumber<t.getLineCount()?(h=c.lineNumber,f=1,p=c.lineNumber+1,m=1):c.lineNumber>1&&(s==null?void 0:s.endLineNumber)!==c.lineNumber?(h=c.lineNumber-1,f=t.getLineMaxColumn(c.lineNumber-1),p=c.lineNumber,m=t.getLineMaxColumn(c.lineNumber)):(h=c.lineNumber,f=1,p=c.lineNumber,m=t.getLineMaxColumn(c.lineNumber));let v=new Q(h,f,p,m);s=v,v.isEmpty()?r[o]=null:r[o]=new zo(v,"")}else r[o]=null;else r[o]=new zo(u,"")}return new Al(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class ai{static _createWord(e,t,n,r,s){return{start:r,end:s,wordType:t,nextCharClass:n}}static _findPreviousWordOnLine(e,t,n){let r=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(r,e,n)}static _doFindPreviousWordOnLine(e,t,n){let r=0;for(let s=n.column-2;s>=0;s--){let o=e.charCodeAt(s),a=t.get(o);if(a===0){if(r===2)return this._createWord(e,r,a,s+1,this._findEndOfWord(e,t,r,s+1));r=1}else if(a===2){if(r===1)return this._createWord(e,r,a,s+1,this._findEndOfWord(e,t,r,s+1));r=2}else if(a===1&&r!==0)return this._createWord(e,r,a,s+1,this._findEndOfWord(e,t,r,s+1))}return r!==0?this._createWord(e,r,1,0,this._findEndOfWord(e,t,r,0)):null}static _findEndOfWord(e,t,n,r){let s=e.length;for(let o=r;o<s;o++){let a=e.charCodeAt(o),u=t.get(a);if(u===1||n===1&&u===2||n===2&&u===0)return o}return s}static _findNextWordOnLine(e,t,n){let r=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(r,e,n)}static _doFindNextWordOnLine(e,t,n){let r=0,s=e.length;for(let o=n.column-1;o<s;o++){let a=e.charCodeAt(o),u=t.get(a);if(u===0){if(r===2)return this._createWord(e,r,u,this._findStartOfWord(e,t,r,o-1),o);r=1}else if(u===2){if(r===1)return this._createWord(e,r,u,this._findStartOfWord(e,t,r,o-1),o);r=2}else if(u===1&&r!==0)return this._createWord(e,r,u,this._findStartOfWord(e,t,r,o-1),o)}return r!==0?this._createWord(e,r,1,this._findStartOfWord(e,t,r,s-1),s):null}static _findStartOfWord(e,t,n,r){for(let s=r;s>=0;s--){let o=e.charCodeAt(s),a=t.get(o);if(a===1||n===1&&a===2||n===2&&a===0)return s+1}return 0}static moveWordLeft(e,t,n,r){let s=n.lineNumber,o=n.column;o===1&&s>1&&(s=s-1,o=t.getLineMaxColumn(s));let a=ai._findPreviousWordOnLine(e,t,new Ee(s,o));if(r===0)return new Ee(s,a?a.start+1:1);if(r===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=ai._findPreviousWordOnLine(e,t,new Ee(s,a.start+1))),new Ee(s,a?a.start+1:1);if(r===3){for(;a&&a.wordType===2;)a=ai._findPreviousWordOnLine(e,t,new Ee(s,a.start+1));return new Ee(s,a?a.start+1:1)}return a&&o<=a.end+1&&(a=ai._findPreviousWordOnLine(e,t,new Ee(s,a.start+1))),new Ee(s,a?a.end+1:1)}static _moveWordPartLeft(e,t){const n=t.lineNumber,r=e.getLineMaxColumn(n);if(t.column===1)return n>1?new Ee(n-1,e.getLineMaxColumn(n-1)):t;const s=e.getLineContent(n);for(let o=t.column-1;o>1;o--){const a=s.charCodeAt(o-2),u=s.charCodeAt(o-1);if(a===95&&u!==95)return new Ee(n,o);if(R0(a)&&fg(u))return new Ee(n,o);if(fg(a)&&fg(u)&&o+1<r){const c=s.charCodeAt(o);if(R0(c))return new Ee(n,o)}}return new Ee(n,1)}static moveWordRight(e,t,n,r){let s=n.lineNumber,o=n.column,a=!1;o===t.getLineMaxColumn(s)&&s<t.getLineCount()&&(a=!0,s=s+1,o=1);let u=ai._findNextWordOnLine(e,t,new Ee(s,o));if(r===2)u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=ai._findNextWordOnLine(e,t,new Ee(s,u.end+1))),u?o=u.end+1:o=t.getLineMaxColumn(s);else if(r===3){for(a&&(o=0);u&&(u.wordType===2||u.start+1<=o);)u=ai._findNextWordOnLine(e,t,new Ee(s,u.end+1));u?o=u.start+1:o=t.getLineMaxColumn(s)}else u&&!a&&o>=u.start+1&&(u=ai._findNextWordOnLine(e,t,new Ee(s,u.end+1))),u?o=u.start+1:o=t.getLineMaxColumn(s);return new Ee(s,o)}static _moveWordPartRight(e,t){const n=t.lineNumber,r=e.getLineMaxColumn(n);if(t.column===r)return n<e.getLineCount()?new Ee(n+1,1):t;const s=e.getLineContent(n);for(let o=t.column+1;o<r;o++){const a=s.charCodeAt(o-2),u=s.charCodeAt(o-1);if(a!==95&&u===95)return new Ee(n,o);if(R0(a)&&fg(u))return new Ee(n,o);if(fg(a)&&fg(u)&&o+1<r){const c=s.charCodeAt(o);if(R0(c))return new Ee(n,o)}}return new Ee(n,r)}static _deleteWordLeftWhitespace(e,t){const n=e.getLineContent(t.lineNumber),r=t.column-2,s=Bg(n,r);return s+1<r?new Q(t.lineNumber,s+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const n=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;if(ny.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const f=e.selection.getPosition();return new Q(f.lineNumber,f.column-1,f.lineNumber,f.column+1)}const a=new Ee(s.positionLineNumber,s.positionColumn);let u=a.lineNumber,c=a.column;if(u===1&&c===1)return null;if(o){let f=this._deleteWordLeftWhitespace(r,a);if(f)return f}let h=ai._findPreviousWordOnLine(n,r,a);return t===0?h?c=h.start+1:c>1?c=1:(u--,c=r.getLineMaxColumn(u)):(h&&c<=h.end+1&&(h=ai._findPreviousWordOnLine(n,r,new Ee(u,h.start+1))),h?c=h.end+1:c>1?c=1:(u--,c=r.getLineMaxColumn(u))),new Q(u,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,n){if(!n.isEmpty())return n;const r=new Ee(n.positionLineNumber,n.positionColumn);let s=this._deleteInsideWordWhitespace(t,r);return s||this._deleteInsideWordDetermineDeleteRange(e,t,r)}static _charAtIsWhitespace(e,t){const n=e.charCodeAt(t);return n===32||n===9}static _deleteInsideWordWhitespace(e,t){const n=e.getLineContent(t.lineNumber),r=n.length;if(r===0)return null;let s=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,s))return null;let o=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(n,o))return null;for(;s>0&&this._charAtIsWhitespace(n,s-1);)s--;for(;o+1<r&&this._charAtIsWhitespace(n,o+1);)o++;return new Q(t.lineNumber,s+1,t.lineNumber,o+2)}static _deleteInsideWordDetermineDeleteRange(e,t,n){const r=t.getLineContent(n.lineNumber),s=r.length;if(s===0)return n.lineNumber>1?new Q(n.lineNumber-1,t.getLineMaxColumn(n.lineNumber-1),n.lineNumber,1):n.lineNumber<t.getLineCount()?new Q(n.lineNumber,1,n.lineNumber+1,1):new Q(n.lineNumber,1,n.lineNumber,1);const o=f=>f.start+1<=n.column&&n.column<=f.end+1,a=(f,p)=>(f=Math.min(f,n.column),p=Math.max(p,n.column),new Q(n.lineNumber,f,n.lineNumber,p)),u=f=>{let p=f.start+1,m=f.end+1,v=!1;for(;m-1<s&&this._charAtIsWhitespace(r,m-1);)v=!0,m++;if(!v)for(;p>1&&this._charAtIsWhitespace(r,p-2);)p--;return a(p,m)},c=ai._findPreviousWordOnLine(e,t,n);if(c&&o(c))return u(c);const h=ai._findNextWordOnLine(e,t,n);return h&&o(h)?u(h):c&&h?a(c.end+1,h.start+1):c?a(c.start+1,c.end+1):h?a(h.start+1,h.end+1):a(1,s+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),r=ai._moveWordPartLeft(e,n);return new Q(n.lineNumber,n.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(e,t){let n=e.length;for(let r=t;r<n;r++){let s=e.charAt(r);if(s!==" "&&s!=="	")return r}return n}static _deleteWordRightWhitespace(e,t){const n=e.getLineContent(t.lineNumber),r=t.column-1,s=this._findFirstNonWhitespaceChar(n,r);return r+1<s?new Q(t.lineNumber,t.column,t.lineNumber,s+1):null}static deleteWordRight(e,t){const n=e.wordSeparators,r=e.model,s=e.selection,o=e.whitespaceHeuristics;if(!s.isEmpty())return s;const a=new Ee(s.positionLineNumber,s.positionColumn);let u=a.lineNumber,c=a.column;const h=r.getLineCount(),f=r.getLineMaxColumn(u);if(u===h&&c===f)return null;if(o){let m=this._deleteWordRightWhitespace(r,a);if(m)return m}let p=ai._findNextWordOnLine(n,r,a);return t===2?p?c=p.end+1:c<f||u===h?c=f:(u++,p=ai._findNextWordOnLine(n,r,new Ee(u,1)),p?c=p.start+1:c=r.getLineMaxColumn(u)):(p&&c>=p.start+1&&(p=ai._findNextWordOnLine(n,r,new Ee(u,p.end+1))),p?c=p.start+1:c<f||u===h?c=f:(u++,p=ai._findNextWordOnLine(n,r,new Ee(u,1)),p?c=p.start+1:c=r.getLineMaxColumn(u))),new Q(u,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),r=ai._moveWordPartRight(e,n);return new Q(n.lineNumber,n.column,r.lineNumber,r.column)}static _createWordAtPosition(e,t,n){const r=new Q(t,n.start+1,t,n.end+1);return{word:e.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(e,t,n){const r=Hc(t),s=ai._findPreviousWordOnLine(r,e,n);if(s&&s.wordType===1&&s.start<=n.column-1&&n.column-1<=s.end)return ai._createWordAtPosition(e,n.lineNumber,s);const o=ai._findNextWordOnLine(r,e,n);return o&&o.wordType===1&&o.start<=n.column-1&&n.column-1<=o.end?ai._createWordAtPosition(e,n.lineNumber,o):null}static word(e,t,n,r,s){const o=Hc(e.wordSeparators);let a=ai._findPreviousWordOnLine(o,t,s),u=ai._findNextWordOnLine(o,t,s);if(!r){let m,v;return a&&a.wordType===1&&a.start<=s.column-1&&s.column-1<=a.end?(m=a.start+1,v=a.end+1):u&&u.wordType===1&&u.start<=s.column-1&&s.column-1<=u.end?(m=u.start+1,v=u.end+1):(a?m=a.end+1:m=1,u?v=u.start+1:v=t.getLineMaxColumn(s.lineNumber)),new So(new Q(s.lineNumber,m,s.lineNumber,v),0,new Ee(s.lineNumber,v),0)}let c,h;a&&a.wordType===1&&a.start<s.column-1&&s.column-1<a.end?(c=a.start+1,h=a.end+1):u&&u.wordType===1&&u.start<s.column-1&&s.column-1<u.end?(c=u.start+1,h=u.end+1):(c=s.column,h=s.column);let f=s.lineNumber,p;if(n.selectionStart.containsPosition(s))p=n.selectionStart.endColumn;else if(s.isBeforeOrEqual(n.selectionStart.getStartPosition())){p=c;let m=new Ee(f,p);n.selectionStart.containsPosition(m)&&(p=n.selectionStart.endColumn)}else{p=h;let m=new Ee(f,p);n.selectionStart.containsPosition(m)&&(p=n.selectionStart.startColumn)}return n.move(!0,f,p,0)}}class zB extends ai{static deleteWordPartLeft(e){const t=D5([ai.deleteWordLeft(e,0),ai.deleteWordLeft(e,2),ai._deleteWordPartLeft(e.model,e.selection)]);return t.sort(Q.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=D5([ai.deleteWordRight(e,0),ai.deleteWordRight(e,2),ai._deleteWordPartRight(e.model,e.selection)]);return t.sort(Q.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,n){const r=D5([ai.moveWordLeft(e,t,n,0),ai.moveWordLeft(e,t,n,2),ai._moveWordPartLeft(t,n)]);return r.sort(Ee.compare),r[2]}static moveWordPartRight(e,t,n){const r=D5([ai.moveWordRight(e,t,n,0),ai.moveWordRight(e,t,n,2),ai._moveWordPartRight(t,n)]);return r.sort(Ee.compare),r[0]}}function D5(i){return i.filter(e=>!!e)}class wo{static addCursorDown(e,t,n){let r=[],s=0;for(let o=0,a=t.length;o<a;o++){const u=t[o];r[s++]=new Vn(u.modelState,u.viewState),n?r[s++]=Vn.fromModelState(yi.translateDown(e.cursorConfig,e.model,u.modelState)):r[s++]=Vn.fromViewState(yi.translateDown(e.cursorConfig,e,u.viewState))}return r}static addCursorUp(e,t,n){let r=[],s=0;for(let o=0,a=t.length;o<a;o++){const u=t[o];r[s++]=new Vn(u.modelState,u.viewState),n?r[s++]=Vn.fromModelState(yi.translateUp(e.cursorConfig,e.model,u.modelState)):r[s++]=Vn.fromViewState(yi.translateUp(e.cursorConfig,e,u.viewState))}return r}static moveToBeginningOfLine(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=this._moveToLineStart(e,a,n)}return r}static _moveToLineStart(e,t,n){const r=t.viewState.position.column,s=t.modelState.position.column,o=r===s,a=t.viewState.position.lineNumber,u=e.getLineFirstNonWhitespaceColumn(a);return!o&&!(r===u)?this._moveToLineStartByView(e,t,n):this._moveToLineStartByModel(e,t,n)}static _moveToLineStartByView(e,t,n){return Vn.fromViewState(yi.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,n))}static _moveToLineStartByModel(e,t,n){return Vn.fromModelState(yi.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,n))}static moveToEndOfLine(e,t,n,r){let s=[];for(let o=0,a=t.length;o<a;o++){const u=t[o];s[o]=this._moveToLineEnd(e,u,n,r)}return s}static _moveToLineEnd(e,t,n,r){const s=t.viewState.position,o=e.getLineMaxColumn(s.lineNumber),a=s.column===o,u=t.modelState.position,c=e.model.getLineMaxColumn(u.lineNumber),h=o-s.column===c-u.column;return a||h?this._moveToLineEndByModel(e,t,n,r):this._moveToLineEndByView(e,t,n,r)}static _moveToLineEndByView(e,t,n,r){return Vn.fromViewState(yi.moveToEndOfLine(e.cursorConfig,e,t.viewState,n,r))}static _moveToLineEndByModel(e,t,n,r){return Vn.fromModelState(yi.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,n,r))}static expandLineSelection(e,t){let n=[];for(let r=0,s=t.length;r<s;r++){const o=t[r],a=o.modelState.selection.startLineNumber,u=e.model.getLineCount();let c=o.modelState.selection.endLineNumber,h;c===u?h=e.model.getLineMaxColumn(u):(c++,h=1),n[r]=Vn.fromModelState(new So(new Q(a,1,a,1),0,new Ee(c,h),0))}return n}static moveToBeginningOfBuffer(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=Vn.fromModelState(yi.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,n))}return r}static moveToEndOfBuffer(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s];r[s]=Vn.fromModelState(yi.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,n))}return r}static selectAll(e,t){const n=e.model.getLineCount(),r=e.model.getLineMaxColumn(n);return Vn.fromModelState(new So(new Q(1,1,1,1),0,new Ee(n,r),0))}static line(e,t,n,r,s){const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new Ee(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);if(!n||!t.modelState.hasSelection()){const c=e.model.getLineCount();let h=o.lineNumber+1,f=1;return h>c&&(h=c,f=e.model.getLineMaxColumn(h)),Vn.fromModelState(new So(new Q(o.lineNumber,1,h,f),0,new Ee(h,f),0))}const u=t.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<u)return Vn.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(o.lineNumber>u){const c=e.getLineCount();let h=a.lineNumber+1,f=1;return h>c&&(h=c,f=e.getLineMaxColumn(h)),Vn.fromViewState(t.viewState.move(t.modelState.hasSelection(),h,f,0))}else{const c=t.modelState.selectionStart.getEndPosition();return Vn.fromModelState(t.modelState.move(t.modelState.hasSelection(),c.lineNumber,c.column,0))}}static word(e,t,n,r){const s=e.model.validatePosition(r);return Vn.fromModelState(ai.word(e.cursorConfig,e.model,t.modelState,n,s))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new Vn(t.modelState,t.viewState);const n=t.viewState.position.lineNumber,r=t.viewState.position.column;return Vn.fromViewState(new So(new Q(n,r,n,r),0,new Ee(n,r),0))}static moveTo(e,t,n,r,s){const o=e.model.validatePosition(r),a=s?e.coordinatesConverter.validateViewPosition(new Ee(s.lineNumber,s.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);return Vn.fromViewState(t.viewState.move(n,a.lineNumber,a.column,0))}static simpleMove(e,t,n,r,s,o){switch(n){case 0:return o===4?this._moveHalfLineLeft(e,t,r):this._moveLeft(e,t,r,s);case 1:return o===4?this._moveHalfLineRight(e,t,r):this._moveRight(e,t,r,s);case 2:return o===2?this._moveUpByViewLines(e,t,r,s):this._moveUpByModelLines(e,t,r,s);case 3:return o===2?this._moveDownByViewLines(e,t,r,s):this._moveDownByModelLines(e,t,r,s);case 4:return o===2?t.map(a=>Vn.fromViewState(yi.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>Vn.fromModelState(yi.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 5:return o===2?t.map(a=>Vn.fromViewState(yi.moveToNextBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>Vn.fromModelState(yi.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 6:return this._moveToViewMinColumn(e,t,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,r);case 8:return this._moveToViewCenterColumn(e,t,r);case 9:return this._moveToViewMaxColumn(e,t,r);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,r);default:return null}}static viewportMove(e,t,n,r,s){const o=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(n){case 11:{const u=this._firstLineNumberInRange(e.model,a,s),c=e.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(e,t[0],r,u,c)]}case 13:{const u=this._lastLineNumberInRange(e.model,a,s),c=e.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(e,t[0],r,u,c)]}case 12:{const u=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(e,t[0],r,u,c)]}case 14:{let u=[];for(let c=0,h=t.length;c<h;c++){const f=t[c];u[c]=this.findPositionInViewportIfOutside(e,f,o,r)}return u}default:return null}}static findPositionInViewportIfOutside(e,t,n,r){let s=t.viewState.position.lineNumber;if(n.startLineNumber<=s&&s<=n.endLineNumber-1)return new Vn(t.modelState,t.viewState);{let o;s>n.endLineNumber-1?o=n.endLineNumber-1:s<n.startLineNumber?o=n.startLineNumber:o=s;const a=yi.vertical(e.cursorConfig,e,s,t.viewState.position.column,t.viewState.leftoverVisibleColumns,o,!1);return Vn.fromViewState(t.viewState.move(r,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,n){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.min(t.endLineNumber,r+n-1)}static _lastLineNumberInRange(e,t,n){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.max(r,t.endLineNumber-n+1)}static _moveLeft(e,t,n,r){return t.map(s=>Vn.fromViewState(yi.moveLeft(e.cursorConfig,e,s.viewState,n,r)))}static _moveHalfLineLeft(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(u).length/2);r[s]=Vn.fromViewState(yi.moveLeft(e.cursorConfig,e,a.viewState,n,c))}return r}static _moveRight(e,t,n,r){return t.map(s=>Vn.fromViewState(yi.moveRight(e.cursorConfig,e,s.viewState,n,r)))}static _moveHalfLineRight(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(u).length/2);r[s]=Vn.fromViewState(yi.moveRight(e.cursorConfig,e,a.viewState,n,c))}return r}static _moveDownByViewLines(e,t,n,r){let s=[];for(let o=0,a=t.length;o<a;o++){const u=t[o];s[o]=Vn.fromViewState(yi.moveDown(e.cursorConfig,e,u.viewState,n,r))}return s}static _moveDownByModelLines(e,t,n,r){let s=[];for(let o=0,a=t.length;o<a;o++){const u=t[o];s[o]=Vn.fromModelState(yi.moveDown(e.cursorConfig,e.model,u.modelState,n,r))}return s}static _moveUpByViewLines(e,t,n,r){let s=[];for(let o=0,a=t.length;o<a;o++){const u=t[o];s[o]=Vn.fromViewState(yi.moveUp(e.cursorConfig,e,u.viewState,n,r))}return s}static _moveUpByModelLines(e,t,n,r){let s=[];for(let o=0,a=t.length;o<a;o++){const u=t[o];s[o]=Vn.fromModelState(yi.moveUp(e.cursorConfig,e.model,u.modelState,n,r))}return s}static _moveToViewPosition(e,t,n,r,s){return Vn.fromViewState(t.viewState.move(n,r,s,0))}static _moveToModelPosition(e,t,n,r,s){return Vn.fromModelState(t.modelState.move(n,r,s,0))}static _moveToViewMinColumn(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.viewState.position.lineNumber,c=e.getLineMinColumn(u);r[s]=this._moveToViewPosition(e,a,n,u,c)}return r}static _moveToViewFirstNonWhitespaceColumn(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(u);r[s]=this._moveToViewPosition(e,a,n,u,c)}return r}static _moveToViewCenterColumn(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(u)+e.getLineMinColumn(u))/2);r[s]=this._moveToViewPosition(e,a,n,u,c)}return r}static _moveToViewMaxColumn(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.viewState.position.lineNumber,c=e.getLineMaxColumn(u);r[s]=this._moveToViewPosition(e,a,n,u,c)}return r}static _moveToViewLastNonWhitespaceColumn(e,t,n){let r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(u);r[s]=this._moveToViewPosition(e,a,n,u,c)}return r}}var e7;(function(i){const e=function(n){if(!vl(n))return!1;let r=n;return!(!Fc(r.to)||!Vl(r.select)&&!Jfe(r.select)||!Vl(r.by)&&!Fc(r.by)||!Vl(r.value)&&!jC(r.value))};i.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},i.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},i.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(n){if(!n.to)return null;let r;switch(n.to){case i.RawDirection.Left:r=0;break;case i.RawDirection.Right:r=1;break;case i.RawDirection.Up:r=2;break;case i.RawDirection.Down:r=3;break;case i.RawDirection.PrevBlankLine:r=4;break;case i.RawDirection.NextBlankLine:r=5;break;case i.RawDirection.WrappedLineStart:r=6;break;case i.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case i.RawDirection.WrappedLineColumnCenter:r=8;break;case i.RawDirection.WrappedLineEnd:r=9;break;case i.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case i.RawDirection.ViewPortTop:r=11;break;case i.RawDirection.ViewPortBottom:r=13;break;case i.RawDirection.ViewPortCenter:r=12;break;case i.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let s=0;switch(n.by){case i.RawUnit.Line:s=1;break;case i.RawUnit.WrappedLine:s=2;break;case i.RawUnit.Character:s=3;break;case i.RawUnit.HalfLine:s=4;break}return{direction:r,unit:s,select:!!n.select,value:n.value||1}}i.parse=t})(e7||(e7={}));const QH=Object.create(null);function ub(i,e){if(e<=0)return"";QH[i]||(QH[i]=["",i]);const t=QH[i];for(let n=t.length;n<=e;n++)t[n]=t[n-1]+i;return t[e]}class ec{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,n,r,s){const o=_r.visibleColumnFromColumn(e,t,n);if(s){const a=ub(" ",r),c=_r.prevIndentTabStop(o,r)/r;return ub(a,c)}else{const a="	",c=_r.prevRenderTabStop(o,n)/n;return ub(a,c)}}static shiftIndent(e,t,n,r,s){const o=_r.visibleColumnFromColumn(e,t,n);if(s){const a=ub(" ",r),c=_r.nextIndentTabStop(o,r)/r;return ub(a,c)}else{const a="	",c=_r.nextRenderTabStop(o,n)/n;return ub(a,c)}}_addEditOperation(e,t,n){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,n):e.addEditOperation(t,n)}getEditOperations(e,t){const n=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&n!==r&&(r=r-1);const{tabSize:s,indentSize:o,insertSpaces:a}=this._opts,u=n===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,h=0;for(let f=n;f<=r;f++,c=h){h=0;let p=e.getLineContent(f),m=Ya(p);if(this._opts.isUnshift&&(p.length===0||m===0)||!u&&!this._opts.isUnshift&&p.length===0)continue;if(m===-1&&(m=p.length),f>1&&_r.visibleColumnFromColumn(p,m+1,s)%o!==0&&e.isCheapToTokenize(f-1)){let S=Si.getEnterAction(this._opts.autoIndent,e,new Q(f-1,e.getLineMaxColumn(f-1),f-1,e.getLineMaxColumn(f-1)));if(S){if(h=c,S.appendText)for(let x=0,w=S.appendText.length;x<w&&h<o&&S.appendText.charCodeAt(x)===32;x++)h++;S.removeText&&(h=Math.max(0,h-S.removeText));for(let x=0;x<h&&!(m===0||p.charCodeAt(m-1)!==32);x++)m--}}if(this._opts.isUnshift&&m===0)continue;let v;this._opts.isUnshift?v=ec.unshiftIndent(p,m+1,s,o,a):v=ec.shiftIndent(p,m+1,s,o,a),this._addEditOperation(t,new Q(f,1,f,m+1),v),f===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(n)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=a?ub(" ",o):"	";for(let h=n;h<=r;h++){const f=e.getLineContent(h);let p=Ya(f);if(!(this._opts.isUnshift&&(f.length===0||p===0))&&!(!u&&!this._opts.isUnshift&&f.length===0)&&(p===-1&&(p=f.length),!(this._opts.isUnshift&&p===0)))if(this._opts.isUnshift){p=Math.min(p,o);for(let m=0;m<p;m++)if(f.charCodeAt(m)===9){p=m+1;break}this._addEditOperation(t,new Q(h,1,h,p+1),"")}else this._addEditOperation(t,new Q(h,1,h,1),c),h===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let r=t.getInverseEditOperations()[0];return new xt(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const n=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let r=this._selection.startColumn;return n.startColumn<=r?n:n.getDirection()===0?new xt(n.startLineNumber,r,n.endLineNumber,n.endColumn):new xt(n.endLineNumber,n.endColumn,n.startLineNumber,r)}return n}}class DPe{constructor(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}getEditOperations(e,t){t.addTrackedEditOperation(new Q(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new Q(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let n=t.getInverseEditOperations(),r=n[0].range,s=n[1].range;return new xt(r.endLineNumber,r.endColumn,s.endLineNumber,s.endColumn-this._charAfterSelection.length)}}class Fr{static indent(e,t,n){if(t===null||n===null)return[];let r=[];for(let s=0,o=n.length;s<o;s++)r[s]=new ec(n[s],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return r}static outdent(e,t,n){let r=[];for(let s=0,o=n.length;s<o;s++)r[s]=new ec(n[s],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return r}static shiftIndent(e,t,n){return n=n||1,ec.shiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,n){return n=n||1,ec.unshiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,n,r){let s=[];for(let o=0,a=n.length;o<a;o++)s[o]=new zo(n[o],r[o]);return new Al(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,n,r,s){let o=[];for(let a=0,u=n.length;a<u;a++){const c=n[a];let h=c.getPosition();if(s&&!c.isEmpty()&&(s=!1),s&&r.indexOf(`
`)!==r.length-1&&(s=!1),s){let f=new Q(h.lineNumber,1,h.lineNumber,1);o[a]=new yQ(f,r,c,!0)}else o[a]=new zo(c,r)}return new Al(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,n,r,s){if(r||t.length===1)return null;if(s&&s.length===t.length)return s;if(e.multiCursorPaste==="spread"){n.charCodeAt(n.length-1)===10&&(n=n.substr(0,n.length-1)),n.charCodeAt(n.length-1)===13&&(n=n.substr(0,n.length-1));let o=Kg(n);if(o.length===t.length)return o}return null}static paste(e,t,n,r,s,o){const a=this._distributePasteToCursors(e,n,r,s,o);return a?(n=n.sort(Q.compareRangesUsingStarts),this._distributedPaste(e,t,n,a)):this._simplePaste(e,t,n,r,s)}static _goodIndentForLine(e,t,n){let r=null,s="";const o=Si.getInheritIndentForLine(e.autoIndent,t,n,!1);if(o)r=o.action,s=o.indentation;else if(n>1){let a;for(a=n-1;a>=1;a--){const h=t.getLineContent(a);if(Bg(h)>=0)break}if(a<1)return null;const u=t.getLineMaxColumn(a),c=Si.getEnterAction(e.autoIndent,t,new Q(a,u,a,u));c&&(s=c.indentation+c.appendText)}return r&&(r===xs.Indent&&(s=Fr.shiftIndent(e,s)),r===xs.Outdent&&(s=Fr.unshiftIndent(e,s)),s=e.normalizeIndentation(s)),s||null}static _replaceJumpToNextIndent(e,t,n,r){let s="",o=n.getStartPosition();if(e.insertSpaces){let a=_r.visibleColumnFromColumn2(e,t,o),u=e.indentSize,c=u-a%u;for(let h=0;h<c;h++)s+=" "}else s="	";return new zo(n,s,r)}static tab(e,t,n){let r=[];for(let s=0,o=n.length;s<o;s++){const a=n[s];if(a.isEmpty()){let u=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(u)&&t.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";let h=e.normalizeIndentation(c);if(!u.startsWith(h)){r[s]=new zo(new Q(a.startLineNumber,1,a.startLineNumber,u.length+1),h,!0);continue}}r[s]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){let u=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==u){r[s]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}r[s]=new ec(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return r}static compositionType(e,t,n,r,s,o,a,u){const c=r.map(h=>this._compositionType(n,h,s,o,a,u));return new Al(4,c,{shouldPushStackElementBefore:T5(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,n,r,s,o){if(!t.isEmpty())return null;const a=t.getPosition(),u=Math.max(1,a.column-r),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+s),h=new Q(a.lineNumber,u,a.lineNumber,c);return e.getValueInRange(h)===n&&o===0?null:new Q6(h,n,0,o)}static _typeCommand(e,t,n){return n?new L5(e,t,!0):new zo(e,t,!0)}static _enter(e,t,n,r){if(e.autoIndent===0)return Fr._typeCommand(r,`
`,n);if(!t.isCheapToTokenize(r.getStartPosition().lineNumber)||e.autoIndent===1){let u=t.getLineContent(r.startLineNumber),c=Xi(u).substring(0,r.startColumn-1);return Fr._typeCommand(r,`
`+e.normalizeIndentation(c),n)}const s=Si.getEnterAction(e.autoIndent,t,r);if(s){if(s.indentAction===xs.None)return Fr._typeCommand(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===xs.Indent)return Fr._typeCommand(r,`
`+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===xs.IndentOutdent){const u=e.normalizeIndentation(s.indentation),c=e.normalizeIndentation(s.indentation+s.appendText),h=`
`+c+`
`+u;return n?new L5(r,h,!0):new Q6(r,h,-1,c.length-u.length,!0)}else if(s.indentAction===xs.Outdent){const u=Fr.unshiftIndent(e,s.indentation);return Fr._typeCommand(r,`
`+e.normalizeIndentation(u+s.appendText),n)}}const o=t.getLineContent(r.startLineNumber),a=Xi(o).substring(0,r.startColumn-1);if(e.autoIndent>=4){const u=Si.getIndentForEnter(e.autoIndent,t,r,{unshiftIndent:c=>Fr.unshiftIndent(e,c),shiftIndent:c=>Fr.shiftIndent(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)});if(u){let c=_r.visibleColumnFromColumn2(e,t,r.getEndPosition());const h=r.endColumn,f=t.getLineContent(r.endLineNumber),p=Ya(f);if(p>=0?r=r.setEndPosition(r.endLineNumber,Math.max(r.endColumn,p+1)):r=r.setEndPosition(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),n)return new L5(r,`
`+e.normalizeIndentation(u.afterEnter),!0);{let m=0;return h<=p+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),m=Math.min(c+1-e.normalizeIndentation(u.afterEnter).length-1,0)),new Q6(r,`
`+e.normalizeIndentation(u.afterEnter),0,m,!0)}}}return Fr._typeCommand(r,`
`+e.normalizeIndentation(a),n)}static _isAutoIndentType(e,t,n){if(e.autoIndent<4)return!1;for(let r=0,s=n.length;r<s;r++)if(!t.isCheapToTokenize(n[r].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,n,r){const s=Si.getIndentationAtPosition(t,n.startLineNumber,n.startColumn),o=Si.getIndentActionForType(e.autoIndent,t,n,r,{shiftIndent:a=>Fr.shiftIndent(e,a),unshiftIndent:a=>Fr.unshiftIndent(e,a)});if(o===null)return null;if(o!==e.normalizeIndentation(s)){const a=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);return a===0?Fr._typeCommand(new Q(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(o)+r,!1):Fr._typeCommand(new Q(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(o)+t.getLineContent(n.startLineNumber).substring(a-1,n.startColumn-1)+r,!1)}return null}static _isAutoClosingOvertype(e,t,n,r,s){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(s))return!1;for(let o=0,a=n.length;o<a;o++){const u=n[o];if(!u.isEmpty())return!1;const c=u.getPosition(),h=t.getLineContent(c.lineNumber);if(h.charAt(c.column-1)!==s)return!1;const p=Vw(s);if((c.column>2?h.charCodeAt(c.column-2):0)===92&&p)return!1;if(e.autoClosingOvertype==="auto"){let v=!1;for(let b=0,S=r.length;b<S;b++){const x=r[b];if(c.lineNumber===x.startLineNumber&&c.column===x.startColumn){v=!0;break}}if(!v)return!1}}return!0}static _runAutoClosingOvertype(e,t,n,r,s){let o=[];for(let a=0,u=r.length;a<u;a++){const h=r[a].getPosition(),f=new Q(h.lineNumber,h.column,h.lineNumber,h.column+1);o[a]=new zo(f,s)}return new Al(4,o,{shouldPushStackElementBefore:T5(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const n=t.charAt(0),r=e.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],s=e.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],o=r.some(u=>t.startsWith(u.open)),a=s.some(u=>t.startsWith(u.close));return!o&&a}static _findAutoClosingPairOpen(e,t,n,r){const s=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(r);if(!s)return null;let o=null;for(const a of s)if(o===null||a.open.length>o.open.length){let u=!0;for(const c of n)if(t.getValueInRange(new Q(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+r!==a.open){u=!1;break}u&&(o=a)}return o}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const n=t.close.charAt(t.close.length-1),r=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];let s=null;for(const o of r)o.open!==t.open&&t.open.includes(o.open)&&t.close.endsWith(o.close)&&(!s||o.open.length>s.open.length)&&(s=o);return s}static _getAutoClosingPairClose(e,t,n,r,s){const o=Vw(r),a=o?e.autoClosingQuotes:e.autoClosingBrackets,u=o?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if(a==="never")return null;for(const v of n)if(!v.isEmpty())return null;const c=n.map(v=>{const b=v.getPosition();return s?{lineNumber:b.lineNumber,beforeColumn:b.column-r.length,afterColumn:b.column}:{lineNumber:b.lineNumber,beforeColumn:b.column,afterColumn:b.column}}),h=this._findAutoClosingPairOpen(e,t,c.map(v=>new Ee(v.lineNumber,v.beforeColumn)),r);if(!h)return null;const f=this._findContainedAutoClosingPair(e,h),p=f?f.close:"";let m=!0;for(const v of c){const{lineNumber:b,beforeColumn:S,afterColumn:x}=v,w=t.getLineContent(b),E=w.substring(0,S-1),N=w.substring(x-1);if(N.startsWith(p)||(m=!1),N.length>0){const M=N.charAt(0);if(!Fr._isBeforeClosingBrace(e,N)&&!u(M))return null}if(h.open.length===1&&(r==="'"||r==='"')&&a!=="always"){const M=Hc(e.wordSeparators);if(E.length>0){const G=E.charCodeAt(E.length-1);if(M.get(G)===0)return null}}if(!t.isCheapToTokenize(b))return null;t.forceTokenization(b);const A=t.getLineTokens(b),H=Y6(A,S-1);if(!h.shouldAutoClose(H,S-H.firstCharOffset))return null;const R=h.findNeutralCharacter();if(R){const M=t.getTokenTypeIfInsertingCharacter(b,S,R);if(!h.isOK(M))return null}}return m?h.close.substring(0,h.close.length-p.length):h.close}static _runAutoClosingOpenCharType(e,t,n,r,s,o,a){let u=[];for(let c=0,h=r.length;c<h;c++){const f=r[c];u[c]=new eme(f,s,!o,a)}return new Al(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Vw(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,n,r){if(!Fr._shouldSurroundChar(e,r)||!e.surroundingPairs.hasOwnProperty(r))return!1;const s=Vw(r);for(let o=0,a=n.length;o<a;o++){const u=n[o];if(u.isEmpty())return!1;let c=!0;for(let h=u.startLineNumber;h<=u.endLineNumber;h++){const f=t.getLineContent(h),p=h===u.startLineNumber?u.startColumn-1:0,m=h===u.endLineNumber?u.endColumn-1:f.length,v=f.substring(p,m);if(/[^ \t]/.test(v)){c=!1;break}}if(c)return!1;if(s&&u.startLineNumber===u.endLineNumber&&u.startColumn+1===u.endColumn){const h=t.getValueInRange(u);if(Vw(h))return!1}}return!0}static _runSurroundSelectionType(e,t,n,r,s){let o=[];for(let a=0,u=r.length;a<u;a++){const c=r[a],h=t.surroundingPairs[s];o[a]=new DPe(c,s,h)}return new Al(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,n){return!!(n.length===1&&t.isCheapToTokenize(n[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,n,r,s){if(!t.electricChars.hasOwnProperty(s)||!r.isEmpty())return null;let o=r.getPosition();n.forceTokenization(o.lineNumber);let a=n.getLineTokens(o.lineNumber),u;try{u=Si.onElectricCharacter(s,a,o.column)}catch(c){return vn(c),null}if(!u)return null;if(u.matchOpenBracket){let c=(a.getLineContent()+s).lastIndexOf(u.matchOpenBracket)+1,h=n.bracketPairs.findMatchingBracketUp(u.matchOpenBracket,{lineNumber:o.lineNumber,column:c});if(h){if(h.startLineNumber===o.lineNumber)return null;let f=n.getLineContent(h.startLineNumber),p=Xi(f),m=t.normalizeIndentation(p),v=n.getLineContent(o.lineNumber),b=n.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,S=v.substring(b-1,o.column-1),x=m+S+s,w=new Q(o.lineNumber,1,o.lineNumber,o.column);const E=new zo(w,x);return new Al(JH(x,e),[E],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,n,r,s,o){if(!r||xt.selectionsArrEqual(r,s))return null;let a=null;for(const c of s){if(!c.isEmpty())return null;const h=c.getPosition(),f=n.getValueInRange(new Q(h.lineNumber,h.column-1,h.lineNumber,h.column));if(a===null)a=f;else if(a!==f)return null}if(!a)return null;if(this._isAutoClosingOvertype(t,n,s,o,a)){const c=s.map(h=>new zo(new Q(h.positionLineNumber,h.positionColumn,h.positionLineNumber,h.positionColumn+1),"",!1));return new Al(4,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const u=this._getAutoClosingPairClose(t,n,s,a,!0);return u!==null?this._runAutoClosingOpenCharType(e,t,n,s,a,!0,u):null}static typeWithInterceptors(e,t,n,r,s,o,a){if(!e&&a===`
`){let h=[];for(let f=0,p=s.length;f<p;f++)h[f]=Fr._enter(n,r,!1,s[f]);return new Al(4,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(n,r,s)){let h=[],f=!1;for(let p=0,m=s.length;p<m;p++)if(h[p]=this._runAutoIndentType(n,r,s[p],a),!h[p]){f=!0;break}if(!f)return new Al(4,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(n,r,s,o,a))return this._runAutoClosingOvertype(t,n,r,s,a);if(!e){const h=this._getAutoClosingPairClose(n,r,s,a,!1);if(h)return this._runAutoClosingOpenCharType(t,n,r,s,a,!1,h)}if(this._isSurroundSelectionType(n,r,s,a))return this._runSurroundSelectionType(t,n,r,s,a);if(!e&&this._isTypeInterceptorElectricChar(n,r,s)){const h=this._typeInterceptorElectricChar(t,n,r,s[0],a);if(h)return h}let u=[];for(let h=0,f=s.length;h<f;h++)u[h]=new zo(s[h],a);const c=JH(a,t);return new Al(c,u,{shouldPushStackElementBefore:T5(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,n,r,s){let o=[];for(let u=0,c=r.length;u<c;u++)o[u]=new zo(r[u],s);const a=JH(s,e);return new Al(a,o,{shouldPushStackElementBefore:T5(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,n){if(t===null||n===null)return[];let r=[];for(let s=0,o=n.length;s<o;s++){let a=n[s].positionLineNumber;if(a===1)r[s]=new L5(new Q(1,1,1,1),`
`);else{a--;let u=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new Q(a,u,a,u))}}return r}static lineInsertAfter(e,t,n){if(t===null||n===null)return[];let r=[];for(let s=0,o=n.length;s<o;s++){const a=n[s].positionLineNumber;let u=t.getLineMaxColumn(a);r[s]=this._enter(e,t,!1,new Q(a,u,a,u))}return r}static lineBreakInsert(e,t,n){let r=[];for(let s=0,o=n.length;s<o;s++)r[s]=this._enter(e,t,!0,n[s]);return r}}class eme extends Q6{constructor(e,t,n,r){super(e,(n?t:"")+r,0,-r.length),this._openCharacter=t,this._closeCharacter=r,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let r=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new Q(r.startLineNumber,r.endColumn-this._closeCharacter.length,r.endLineNumber,r.endColumn),this.enclosingRange=new Q(r.startLineNumber,r.endColumn-this._openCharacter.length-this._closeCharacter.length,r.endLineNumber,r.endColumn),super.computeCursorState(e,t)}}function JH(i,e){return i===" "?e===5||e===6?6:5:4}function T5(i,e){return Mre(i)&&!Mre(e)?!0:i===5?!1:Ore(i)!==Ore(e)}function Ore(i){return i===6||i===5?"space":i}function Mre(i){return i===4||i===5||i===6}var he;(function(i){i.editorSimpleInput=new It("editorSimpleInput",!1,!0),i.editorTextFocus=new It("editorTextFocus",!1,C("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),i.focus=new It("editorFocus",!1,C("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),i.textInputFocus=new It("textInputFocus",!1,C("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),i.readOnly=new It("editorReadonly",!1,C("editorReadonly","Whether the editor is read only")),i.inDiffEditor=new It("inDiffEditor",!1,C("inDiffEditor","Whether the context is a diff editor")),i.columnSelection=new It("editorColumnSelection",!1,C("editorColumnSelection","Whether `editor.columnSelection` is enabled")),i.writable=i.readOnly.toNegated(),i.hasNonEmptySelection=new It("editorHasSelection",!1,C("editorHasSelection","Whether the editor has text selected")),i.hasOnlyEmptySelection=i.hasNonEmptySelection.toNegated(),i.hasMultipleSelections=new It("editorHasMultipleSelections",!1,C("editorHasMultipleSelections","Whether the editor has multiple selections")),i.hasSingleSelection=i.hasMultipleSelections.toNegated(),i.tabMovesFocus=new It("editorTabMovesFocus",!1,C("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),i.tabDoesNotMoveFocus=i.tabMovesFocus.toNegated(),i.isInWalkThroughSnippet=new It("isInEmbeddedEditor",!1,!0),i.canUndo=new It("canUndo",!1,!0),i.canRedo=new It("canRedo",!1,!0),i.hoverVisible=new It("editorHoverVisible",!1,C("editorHoverVisible","Whether the editor hover is visible")),i.inCompositeEditor=new It("inCompositeEditor",void 0,C("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),i.notInCompositeEditor=i.inCompositeEditor.toNegated(),i.languageId=new It("editorLangId","",C("editorLangId","The language identifier of the editor")),i.hasCompletionItemProvider=new It("editorHasCompletionItemProvider",!1,C("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),i.hasCodeActionsProvider=new It("editorHasCodeActionsProvider",!1,C("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),i.hasCodeLensProvider=new It("editorHasCodeLensProvider",!1,C("editorHasCodeLensProvider","Whether the editor has a code lens provider")),i.hasDefinitionProvider=new It("editorHasDefinitionProvider",!1,C("editorHasDefinitionProvider","Whether the editor has a definition provider")),i.hasDeclarationProvider=new It("editorHasDeclarationProvider",!1,C("editorHasDeclarationProvider","Whether the editor has a declaration provider")),i.hasImplementationProvider=new It("editorHasImplementationProvider",!1,C("editorHasImplementationProvider","Whether the editor has an implementation provider")),i.hasTypeDefinitionProvider=new It("editorHasTypeDefinitionProvider",!1,C("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),i.hasHoverProvider=new It("editorHasHoverProvider",!1,C("editorHasHoverProvider","Whether the editor has a hover provider")),i.hasDocumentHighlightProvider=new It("editorHasDocumentHighlightProvider",!1,C("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),i.hasDocumentSymbolProvider=new It("editorHasDocumentSymbolProvider",!1,C("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),i.hasReferenceProvider=new It("editorHasReferenceProvider",!1,C("editorHasReferenceProvider","Whether the editor has a reference provider")),i.hasRenameProvider=new It("editorHasRenameProvider",!1,C("editorHasRenameProvider","Whether the editor has a rename provider")),i.hasSignatureHelpProvider=new It("editorHasSignatureHelpProvider",!1,C("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),i.hasInlayHintsProvider=new It("editorHasInlayHintsProvider",!1,C("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),i.hasDocumentFormattingProvider=new It("editorHasDocumentFormattingProvider",!1,C("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),i.hasDocumentSelectionFormattingProvider=new It("editorHasDocumentSelectionFormattingProvider",!1,C("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),i.hasMultipleDocumentFormattingProvider=new It("editorHasMultipleDocumentFormattingProvider",!1,C("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),i.hasMultipleDocumentSelectionFormattingProvider=new It("editorHasMultipleDocumentSelectionFormattingProvider",!1,C("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(he||(he={}));const wi=0;class Is extends ea{runEditorCommand(e,t,n){const r=t._getViewModel();r&&this.runCoreEditorCommand(r,n||{})}}var t7;(function(i){const e=function(n){if(!vl(n))return!1;const r=n;return!(!Fc(r.to)||!Vl(r.by)&&!Fc(r.by)||!Vl(r.value)&&!jC(r.value)||!Vl(r.revealCursor)&&!Jfe(r.revealCursor))};i.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},i.RawDirection={Up:"up",Down:"down"},i.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function t(n){let r;switch(n.to){case i.RawDirection.Up:r=1;break;case i.RawDirection.Down:r=2;break;default:return null}let s;switch(n.by){case i.RawUnit.Line:s=1;break;case i.RawUnit.WrappedLine:s=2;break;case i.RawUnit.Page:s=3;break;case i.RawUnit.HalfPage:s=4;break;default:s=2}const o=Math.floor(n.value||1),a=!!n.revealCursor;return{direction:r,unit:s,value:o,revealCursor:a,select:!!n.select}}i.parse=t})(t7||(t7={}));var dS;(function(i){const e=function(t){if(!vl(t))return!1;const n=t;return!(!jC(n.lineNumber)&&!Fc(n.lineNumber)||!Vl(n.at)&&!Fc(n.at))};i.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},i.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(dS||(dS={}));class eK{constructor(e){e.addImplementation(1e4,"code-editor",(t,n)=>{const r=t.get(Mi).getFocusedCodeEditor();return r&&r.hasTextFocus()?this._runEditorCommand(t,r,n):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,n)=>{const r=document.activeElement;return r&&["input","textarea"].indexOf(r.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),e.addImplementation(0,"generic-dom",(t,n)=>{const r=t.get(Mi).getActiveCodeEditor();return r?(r.focus(),this._runEditorCommand(t,r,n)):!1})}_runEditorCommand(e,t,n){const r=this.runEditorCommand(e,t,n);return r||!0}}var uo;(function(i){class e extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){w.model.pushStackElement(),w.setCursorStates(E.source,3,[wo.moveTo(w,w.getPrimaryCursorState(),this._inSelectionMode,E.position,E.viewPosition)]),w.revealPrimaryCursor(E.source,!0)}}i.MoveTo=rt(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),i.MoveToSelect=rt(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class t extends Is{runCoreEditorCommand(w,E){w.model.pushStackElement();const N=this._getColumnSelectResult(w,w.getPrimaryCursorState(),w.getCursorColumnSelectData(),E);w.setCursorStates(E.source,3,N.viewStates.map(A=>Vn.fromViewState(A))),w.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:N.fromLineNumber,fromViewVisualColumn:N.fromVisualColumn,toViewLineNumber:N.toLineNumber,toViewVisualColumn:N.toVisualColumn}),N.reversed?w.revealTopMostCursor(E.source):w.revealBottomMostCursor(E.source)}}i.ColumnSelect=rt(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(x,w,E,N){const A=x.model.validatePosition(N.position),H=x.coordinatesConverter.validateViewPosition(new Ee(N.viewPosition.lineNumber,N.viewPosition.column),A);let R=N.doColumnSelect?E.fromViewLineNumber:H.lineNumber,M=N.doColumnSelect?E.fromViewVisualColumn:N.mouseColumn-1;return Ab.columnSelect(x.cursorConfig,x,R,M,H.lineNumber,N.mouseColumn-1)}}),i.CursorColumnSelectLeft=rt(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(x,w,E,N){return Ab.columnSelectLeft(x.cursorConfig,x,E)}}),i.CursorColumnSelectRight=rt(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(x,w,E,N){return Ab.columnSelectRight(x.cursorConfig,x,E)}});class n extends t{constructor(w){super(w),this._isPaged=w.isPaged}_getColumnSelectResult(w,E,N,A){return Ab.columnSelectUp(w.cursorConfig,w,N,this._isPaged)}}i.CursorColumnSelectUp=rt(new n({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:3600,linux:{primary:0}}})),i.CursorColumnSelectPageUp=rt(new n({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:3595,linux:{primary:0}}}));class r extends t{constructor(w){super(w),this._isPaged=w.isPaged}_getColumnSelectResult(w,E,N,A){return Ab.columnSelectDown(w.cursorConfig,w,N,this._isPaged)}}i.CursorColumnSelectDown=rt(new r({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:3602,linux:{primary:0}}})),i.CursorColumnSelectPageDown=rt(new r({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:3596,linux:{primary:0}}}));class s extends Is{constructor(){super({id:"cursorMove",precondition:void 0,description:e7.description})}runCoreEditorCommand(w,E){const N=e7.parse(E);N&&this._runCursorMove(w,E.source,N)}_runCursorMove(w,E,N){w.model.pushStackElement(),w.setCursorStates(E,3,s._move(w,w.getCursorStates(),N)),w.revealPrimaryCursor(E,!0)}static _move(w,E,N){const A=N.select,H=N.value;switch(N.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return wo.simpleMove(w,E,N.direction,A,H,N.unit);case 11:case 13:case 12:case 14:return wo.viewportMove(w,E,N.direction,A,H);default:return null}}}i.CursorMoveImpl=s,i.CursorMove=rt(new s);class o extends Is{constructor(w){super(w),this._staticArgs=w.args}runCoreEditorCommand(w,E){let N=this._staticArgs;this._staticArgs.value===-1&&(N={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:w.cursorConfig.pageSize}),w.model.pushStackElement(),w.setCursorStates(E.source,3,wo.simpleMove(w,w.getCursorStates(),N.direction,N.select,N.value,N.unit)),w.revealPrimaryCursor(E.source,!0)}}i.CursorLeft=rt(new o({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),i.CursorLeftSelect=rt(new o({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:1039}})),i.CursorRight=rt(new o({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),i.CursorRightSelect=rt(new o({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:1041}})),i.CursorUp=rt(new o({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),i.CursorUpSelect=rt(new o({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),i.CursorPageUp=rt(new o({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:11}})),i.CursorPageUpSelect=rt(new o({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:1035}})),i.CursorDown=rt(new o({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),i.CursorDownSelect=rt(new o({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),i.CursorPageDown=rt(new o({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:12}})),i.CursorPageDownSelect=rt(new o({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:1036}})),i.CreateCursor=rt(new class extends Is{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(x,w){let E;w.wholeLine?E=wo.line(x,x.getPrimaryCursorState(),!1,w.position,w.viewPosition):E=wo.moveTo(x,x.getPrimaryCursorState(),!1,w.position,w.viewPosition);const N=x.getCursorStates();if(N.length>1){const A=E.modelState?E.modelState.position:null,H=E.viewState?E.viewState.position:null;for(let R=0,M=N.length;R<M;R++){const G=N[R];if(!(A&&!G.modelState.selection.containsPosition(A))&&!(H&&!G.viewState.selection.containsPosition(H))){N.splice(R,1),x.model.pushStackElement(),x.setCursorStates(w.source,3,N);return}}}N.push(E),x.model.pushStackElement(),x.setCursorStates(w.source,3,N)}}),i.LastCursorMoveToSelect=rt(new class extends Is{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(x,w){const E=x.getLastAddedCursorIndex(),N=x.getCursorStates(),A=N.slice(0);A[E]=wo.moveTo(x,N[E],!0,w.position,w.viewPosition),x.model.pushStackElement(),x.setCursorStates(w.source,3,A)}});class a extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){w.model.pushStackElement(),w.setCursorStates(E.source,3,wo.moveToBeginningOfLine(w,w.getCursorStates(),this._inSelectionMode)),w.revealPrimaryCursor(E.source,!0)}}i.CursorHome=rt(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),i.CursorHomeSelect=rt(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class u extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){w.model.pushStackElement(),w.setCursorStates(E.source,3,this._exec(w.getCursorStates())),w.revealPrimaryCursor(E.source,!0)}_exec(w){const E=[];for(let N=0,A=w.length;N<A;N++){const H=w[N],R=H.modelState.position.lineNumber;E[N]=Vn.fromModelState(H.modelState.move(this._inSelectionMode,R,1,0))}return E}}i.CursorLineStart=rt(new u({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:0,mac:{primary:287}}})),i.CursorLineStartSelect=rt(new u({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){w.model.pushStackElement(),w.setCursorStates(E.source,3,wo.moveToEndOfLine(w,w.getCursorStates(),this._inSelectionMode,E.sticky||!1)),w.revealPrimaryCursor(E.source,!0)}}i.CursorEnd=rt(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:wi,kbExpr:he.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),i.CursorEndSelect=rt(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:wi,kbExpr:he.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class h extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){w.model.pushStackElement(),w.setCursorStates(E.source,3,this._exec(w,w.getCursorStates())),w.revealPrimaryCursor(E.source,!0)}_exec(w,E){const N=[];for(let A=0,H=E.length;A<H;A++){const R=E[A],M=R.modelState.position.lineNumber,G=w.model.getLineMaxColumn(M);N[A]=Vn.fromModelState(R.modelState.move(this._inSelectionMode,M,G,0))}return N}}i.CursorLineEnd=rt(new h({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:0,mac:{primary:291}}})),i.CursorLineEndSelect=rt(new h({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:0,mac:{primary:1315}}}));class f extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){w.model.pushStackElement(),w.setCursorStates(E.source,3,wo.moveToBeginningOfBuffer(w,w.getCursorStates(),this._inSelectionMode)),w.revealPrimaryCursor(E.source,!0)}}i.CursorTop=rt(new f({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:2062,mac:{primary:2064}}})),i.CursorTopSelect=rt(new f({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:3086,mac:{primary:3088}}}));class p extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){w.model.pushStackElement(),w.setCursorStates(E.source,3,wo.moveToEndOfBuffer(w,w.getCursorStates(),this._inSelectionMode)),w.revealPrimaryCursor(E.source,!0)}}i.CursorBottom=rt(new p({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:2061,mac:{primary:2066}}})),i.CursorBottomSelect=rt(new p({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:3085,mac:{primary:3090}}}));class m extends Is{constructor(){super({id:"editorScroll",precondition:void 0,description:t7.description})}runCoreEditorCommand(w,E){const N=t7.parse(E);N&&this._runEditorScroll(w,E.source,N)}_runEditorScroll(w,E,N){const A=this._computeDesiredScrollTop(w,N);if(N.revealCursor){const H=w.getCompletelyVisibleViewRangeAtScrollTop(A);w.setCursorStates(E,3,[wo.findPositionInViewportIfOutside(w,w.getPrimaryCursorState(),H,N.select)])}w.setScrollTop(A,0)}_computeDesiredScrollTop(w,E){if(E.unit===1){const H=w.getCompletelyVisibleViewRange(),R=w.coordinatesConverter.convertViewRangeToModelRange(H);let M;E.direction===1?M=Math.max(1,R.startLineNumber-E.value):M=Math.min(w.model.getLineCount(),R.startLineNumber+E.value);const G=w.coordinatesConverter.convertModelPositionToViewPosition(new Ee(M,1));return w.getVerticalOffsetForLineNumber(G.lineNumber)}let N;E.unit===3?N=w.cursorConfig.pageSize*E.value:E.unit===4?N=Math.round(w.cursorConfig.pageSize/2)*E.value:N=E.value;const A=(E.direction===1?-1:1)*N;return w.getScrollTop()+A*w.cursorConfig.lineHeight}}i.EditorScrollImpl=m,i.EditorScroll=rt(new m),i.ScrollLineUp=rt(new class extends Is{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(x,w){i.EditorScroll._runEditorScroll(x,w.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),i.ScrollPageUp=rt(new class extends Is{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(x,w){i.EditorScroll._runEditorScroll(x,w.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),i.ScrollLineDown=rt(new class extends Is{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(x,w){i.EditorScroll._runEditorScroll(x,w.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),i.ScrollPageDown=rt(new class extends Is{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(x,w){i.EditorScroll._runEditorScroll(x,w.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class v extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){w.model.pushStackElement(),w.setCursorStates(E.source,3,[wo.word(w,w.getPrimaryCursorState(),this._inSelectionMode,E.position)]),w.revealPrimaryCursor(E.source,!0)}}i.WordSelect=rt(new v({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),i.WordSelectDrag=rt(new v({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),i.LastCursorWordSelect=rt(new class extends Is{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(x,w){const E=x.getLastAddedCursorIndex(),N=x.getCursorStates(),A=N.slice(0),H=N[E];A[E]=wo.word(x,H,H.modelState.hasSelection(),w.position),x.model.pushStackElement(),x.setCursorStates(w.source,3,A)}});class b extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){w.model.pushStackElement(),w.setCursorStates(E.source,3,[wo.line(w,w.getPrimaryCursorState(),this._inSelectionMode,E.position,E.viewPosition)]),w.revealPrimaryCursor(E.source,!1)}}i.LineSelect=rt(new b({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),i.LineSelectDrag=rt(new b({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class S extends Is{constructor(w){super(w),this._inSelectionMode=w.inSelectionMode}runCoreEditorCommand(w,E){const N=w.getLastAddedCursorIndex(),A=w.getCursorStates(),H=A.slice(0);H[N]=wo.line(w,A[N],this._inSelectionMode,E.position,E.viewPosition),w.model.pushStackElement(),w.setCursorStates(E.source,3,H)}}i.LastCursorLineSelect=rt(new S({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),i.LastCursorLineSelectDrag=rt(new S({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),i.CancelSelection=rt(new class extends Is{constructor(){super({id:"cancelSelection",precondition:he.hasNonEmptySelection,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(x,w){x.model.pushStackElement(),x.setCursorStates(w.source,3,[wo.cancelSelection(x,x.getPrimaryCursorState())]),x.revealPrimaryCursor(w.source,!0)}}),i.RemoveSecondaryCursors=rt(new class extends Is{constructor(){super({id:"removeSecondaryCursors",precondition:he.hasMultipleSelections,kbOpts:{weight:wi+1,kbExpr:he.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(x,w){x.model.pushStackElement(),x.setCursorStates(w.source,3,[x.getPrimaryCursorState()]),x.revealPrimaryCursor(w.source,!0),mF(C("removedCursor","Removed secondary cursors"))}}),i.RevealLine=rt(new class extends Is{constructor(){super({id:"revealLine",precondition:void 0,description:dS.description})}runCoreEditorCommand(x,w){const E=w,N=E.lineNumber||0;let A=typeof N=="number"?N+1:parseInt(N)+1;A<1&&(A=1);const H=x.model.getLineCount();A>H&&(A=H);const R=new Q(A,1,A,x.model.getLineMaxColumn(A));let M=0;if(E.at)switch(E.at){case dS.RawAtArgument.Top:M=3;break;case dS.RawAtArgument.Center:M=1;break;case dS.RawAtArgument.Bottom:M=4;break}const G=x.coordinatesConverter.convertModelRangeToViewRange(R);x.revealRange(w.source,!1,G,M,0)}}),i.SelectAll=new class extends eK{constructor(){super(Ske)}runDOMCommand(){Kl&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(x,w,E){const N=w._getViewModel();N&&this.runCoreEditorCommand(N,E)}runCoreEditorCommand(x,w){x.model.pushStackElement(),x.setCursorStates("keyboard",3,[wo.selectAll(x,x.getPrimaryCursorState())])}},i.SetSelection=rt(new class extends Is{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(x,w){x.model.pushStackElement(),x.setCursorStates(w.source,3,[Vn.fromModelSelection(w.selection)])}})})(uo||(uo={}));const TPe=bt.and(he.textInputFocus,he.columnSelection);function OE(i,e){Xo.registerKeybindingRule({id:i,primary:e,when:TPe,weight:wi+1})}OE(uo.CursorColumnSelectLeft.id,1039);OE(uo.CursorColumnSelectRight.id,1041);OE(uo.CursorColumnSelectUp.id,1040);OE(uo.CursorColumnSelectPageUp.id,1035);OE(uo.CursorColumnSelectDown.id,1042);OE(uo.CursorColumnSelectPageDown.id,1036);function Rre(i){return i.register(),i}var jS;(function(i){class e extends ea{runEditorCommand(n,r,s){const o=r._getViewModel();o&&this.runCoreEditingCommand(r,o,s||{})}}i.CoreEditingCommand=e,i.LineBreakInsert=rt(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:he.writable,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,n,r){t.pushUndoStop(),t.executeCommands(this.id,Fr.lineBreakInsert(n.cursorConfig,n.model,n.getCursorStates().map(s=>s.modelState.selection)))}}),i.Outdent=rt(new class extends e{constructor(){super({id:"outdent",precondition:he.writable,kbOpts:{weight:wi,kbExpr:bt.and(he.editorTextFocus,he.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,n,r){t.pushUndoStop(),t.executeCommands(this.id,Fr.outdent(n.cursorConfig,n.model,n.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),i.Tab=rt(new class extends e{constructor(){super({id:"tab",precondition:he.writable,kbOpts:{weight:wi,kbExpr:bt.and(he.editorTextFocus,he.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,n,r){t.pushUndoStop(),t.executeCommands(this.id,Fr.tab(n.cursorConfig,n.model,n.getCursorStates().map(s=>s.modelState.selection))),t.pushUndoStop()}}),i.DeleteLeft=rt(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,n,r){const[s,o]=ny.deleteLeft(n.getPrevEditOperationType(),n.cursorConfig,n.model,n.getCursorStates().map(a=>a.modelState.selection),n.getCursorAutoClosedCharacters());s&&t.pushUndoStop(),t.executeCommands(this.id,o),n.setPrevEditOperationType(2)}}),i.DeleteRight=rt(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:wi,kbExpr:he.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,n,r){const[s,o]=ny.deleteRight(n.getPrevEditOperationType(),n.cursorConfig,n.model,n.getCursorStates().map(a=>a.modelState.selection));s&&t.pushUndoStop(),t.executeCommands(this.id,o),n.setPrevEditOperationType(3)}}),i.Undo=new class extends eK{constructor(){super(bge)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(t,n,r){if(!(!n.hasModel()||n.getOption(80)===!0))return n.getModel().undo()}},i.Redo=new class extends eK{constructor(){super(Cge)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(t,n,r){if(!(!n.hasModel()||n.getOption(80)===!0))return n.getModel().redo()}}})(jS||(jS={}));class Pre extends bB{constructor(e,t,n){super({id:e,precondition:void 0,description:n}),this._handlerId=t}runCommand(e,t){const n=e.get(Mi).getFocusedCodeEditor();n&&n.trigger("keyboard",this._handlerId,t)}}function Yy(i,e){Rre(new Pre("default:"+i,i)),Rre(new Pre(i,i,e))}Yy("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});Yy("replacePreviousChar");Yy("compositionType");Yy("compositionStart");Yy("compositionEnd");Yy("paste");Yy("cut");class IPe{constructor(e,t,n,r){this.configuration=e,this.viewModel=t,this.userInputEvents=n,this.commandDelegate=r}paste(e,t,n,r){this.commandDelegate.paste(e,t,n,r)}type(e){this.commandDelegate.type(e)}compositionType(e,t,n,r){this.commandDelegate.compositionType(e,t,n,r)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){uo.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new Ee(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,n=yl&&t.get(95),r=t.get(18);e.middleButton&&!n?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):r?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){uo.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){uo.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,n){e=this._validateViewColumn(e),uo.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:n})}_createCursor(e,t){e=this._validateViewColumn(e),uo.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){uo.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){uo.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){uo.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){uo.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){uo.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){uo.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){uo.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){uo.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){uo.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class UB{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return UB.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new kPe(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class kPe{constructor(e,t,n,r,s,o){this.element=e,this.type=t,this.mouseColumn=n,this.position=r,this.range=s,this.detail=o}toString(){return sf.toString(this)}}var e$;class tme{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const n=this.getStartLineNumber(),r=this.getEndLineNumber();if(t<n){const u=t-e+1;return this._rendLineNumberStart-=u,null}if(e>r)return null;let s=0,o=0;for(let u=n;u<=r;u++){const c=u-this._rendLineNumberStart;e<=u&&u<=t&&(o===0?(s=c,o=1):o++)}if(e<n){let u=0;t<n?u=t-e+1:u=n-e,this._rendLineNumberStart-=u}return this._lines.splice(s,o)}onLinesChanged(e,t){if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),r=this.getEndLineNumber();let s=!1;for(let o=e;o<=t;o++)o>=n&&o<=r&&(this._lines[o-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(e,t){if(this.getCount()===0)return null;const n=t-e+1,r=this.getStartLineNumber(),s=this.getEndLineNumber();if(e<=r)return this._rendLineNumberStart+=n,null;if(e>s)return null;if(n+e>s)return this._lines.splice(e-this._rendLineNumberStart,s-e+1);const o=[];for(let f=0;f<n;f++)o[f]=this._createLine();const a=e-this._rendLineNumberStart,u=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-n),h=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=u.concat(o).concat(c),h}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),n=this.getEndLineNumber();let r=!1;for(let s=0,o=e.length;s<o;s++){const a=e[s];if(a.toLineNumber<t||a.fromLineNumber>n)continue;const u=Math.max(t,a.fromLineNumber),c=Math.min(n,a.toLineNumber);for(let h=u;h<=c;h++){const f=h-this._rendLineNumberStart;this._lines[f].onTokensChanged(),r=!0}}return r}}class nme{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new tme(()=>this._host.createVisibleLine())}_createDomNode(){const e=li(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(130)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let n=0,r=t.length;n<r;n++){const s=t[n].getDomNode();s&&this.domNode.domNode.removeChild(s)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let n=0,r=t.length;n<r;n++){const s=t[n].getDomNode();s&&this.domNode.domNode.removeChild(s)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),n=new Gp(this.domNode.domNode,this._host,e),r={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},s=n.render(r,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(s.rendLineNumberStart,s.lines)}}class Gp{constructor(e,t,n){this.domNode=e,this.host=t,this.viewportData=n}render(e,t,n,r){const s={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(s.rendLineNumberStart+s.linesLength-1<t||n<s.rendLineNumberStart){s.rendLineNumberStart=t,s.linesLength=n-t+1,s.lines=[];for(let o=t;o<=n;o++)s.lines[o-t]=this.host.createVisibleLine();return this._finishRendering(s,!0,r),s}if(this._renderUntouchedLines(s,Math.max(t-s.rendLineNumberStart,0),Math.min(n-s.rendLineNumberStart,s.linesLength-1),r,t),s.rendLineNumberStart>t){const o=t,a=Math.min(n,s.rendLineNumberStart-1);o<=a&&(this._insertLinesBefore(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart<t){const o=Math.min(s.linesLength,t-s.rendLineNumberStart);o>0&&(this._removeLinesBefore(s,o),s.linesLength-=o)}if(s.rendLineNumberStart=t,s.rendLineNumberStart+s.linesLength-1<n){const o=s.rendLineNumberStart+s.linesLength,a=n;o<=a&&(this._insertLinesAfter(s,o,a,r,t),s.linesLength+=a-o+1)}else if(s.rendLineNumberStart+s.linesLength-1>n){const o=Math.max(0,n-s.rendLineNumberStart+1),u=s.linesLength-1-o+1;u>0&&(this._removeLinesAfter(s,u),s.linesLength-=u)}return this._finishRendering(s,!1,r),s}_renderUntouchedLines(e,t,n,r,s){const o=e.rendLineNumberStart,a=e.lines;for(let u=t;u<=n;u++){const c=o+u;a[u].layoutLine(c,r[c-s])}}_insertLinesBefore(e,t,n,r,s){const o=[];let a=0;for(let u=t;u<=n;u++)o[a++]=this.host.createVisibleLine();e.lines=o.concat(e.lines)}_removeLinesBefore(e,t){for(let n=0;n<t;n++){const r=e.lines[n].getDomNode();r&&this.domNode.removeChild(r)}e.lines.splice(0,t)}_insertLinesAfter(e,t,n,r,s){const o=[];let a=0;for(let u=t;u<=n;u++)o[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(o)}_removeLinesAfter(e,t){const n=e.linesLength-t;for(let r=0;r<t;r++){const s=e.lines[n+r].getDomNode();s&&this.domNode.removeChild(s)}e.lines.splice(n,t)}_finishRenderingNewLines(e,t,n,r){Gp._ttPolicy&&(n=Gp._ttPolicy.createHTML(n));const s=this.domNode.lastChild;t||!s?this.domNode.innerHTML=n:s.insertAdjacentHTML("afterend",n);let o=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const u=e.lines[a];r[a]&&(u.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(e,t,n){const r=document.createElement("div");Gp._ttPolicy&&(t=Gp._ttPolicy.createHTML(t)),r.innerHTML=t;for(let s=0;s<e.linesLength;s++){const o=e.lines[s];if(n[s]){const a=r.firstChild,u=o.getDomNode();u.parentNode.replaceChild(a,u),o.setDomNode(a)}}}_finishRendering(e,t,n){const r=Gp._sb,s=e.linesLength,o=e.lines,a=e.rendLineNumberStart,u=[];{r.reset();let c=!1;for(let h=0;h<s;h++){const f=o[h];u[h]=!1,!(f.getDomNode()||!f.renderLine(h+a,n[h],this.viewportData,r))&&(u[h]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,r.build(),u)}{r.reset();let c=!1;const h=[];for(let f=0;f<s;f++){const p=o[f];h[f]=!1,!(u[f]||!p.renderLine(f+a,n[f],this.viewportData,r))&&(h[f]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,r.build(),h)}}}Gp._ttPolicy=(e$=window.trustedTypes)===null||e$===void 0?void 0:e$.createPolicy("editorViewLayer",{createHTML:i=>i});Gp._sb=QC(1e5);class ime extends jc{constructor(e){super(e),this._visibleLines=new nme(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new NPe(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let r=t;r<=n;r++)this._visibleLines.getVisibleLine(r).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(n=>n.shouldRender());for(let n=0,r=t.length;n<r;n++){const s=t[n];s.prepareRender(e),s.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class NPe{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=li(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,t,n,r){let s="";for(let o=0,a=this._dynamicOverlays.length;o<a;o++){const u=this._dynamicOverlays[o];s+=u.render(n.startLineNumber,e)}return this._renderedContent===s?!1:(this._renderedContent=s,r.appendASCIIString('<div style="position:absolute;top:'),r.appendASCIIString(String(t)),r.appendASCIIString("px;width:100%;height:"),r.appendASCIIString(String(this._lineHeight)),r.appendASCIIString('px;">'),r.appendASCIIString(s),r.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class APe extends ime{constructor(e){super(e);const n=this._context.configuration.options.get(130);this._contentWidth=n.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const n=this._context.configuration.options.get(130);return this._contentWidth=n.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class OPe extends ime{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(130);this._contentLeft=n.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),Qa.applyFontInfo(this.domNode,t.get(43))}onConfigurationChanged(e){const t=this._context.configuration.options;Qa.applyFontInfo(this.domNode,t.get(43));const n=t.get(130);return this._contentLeft=n.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class yA{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class MPe extends jc{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=li(document.createElement("div")),Gg.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=li(document.createElement("div")),Gg.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new RPe(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,n){this._widgets[e.getId()].setPosition(t,n),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const n=this._widgets[t];delete this._widgets[t];const r=n.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].render(e)}}let RPe=class{constructor(e,t,n){this._context=e,this._viewDomNode=t,this._actual=n,this.domNode=li(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,s=r.get(130);this._fixedOverflowWidgets=r.get(36),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this._lineHeight=r.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(58),e.hasChanged(130)){const n=t.get(130);this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,n,r,s){const o=e.top,a=o,u=t.top+this._lineHeight,c=s.viewportHeight-u,h=o-r,f=a>=r,p=u,m=c>=r;let v=e.left,b=t.left;return v+n>s.scrollLeft+s.viewportWidth&&(v=s.scrollLeft+s.viewportWidth-n),b+n>s.scrollLeft+s.viewportWidth&&(b=s.scrollLeft+s.viewportWidth-n),v<s.scrollLeft&&(v=s.scrollLeft),b<s.scrollLeft&&(b=s.scrollLeft),{fitsAbove:f,aboveTop:h,aboveLeft:v,fitsBelow:m,belowTop:p,belowLeft:b}}_layoutHorizontalSegmentInPage(e,t,n,r){const s=Math.max(0,t.left-r),o=Math.min(t.left+t.width+r,e.width);let a=t.left+n-lm.scrollX;if(a+r>o){const u=a-(o-r);a-=u,n-=u}if(a<s){const u=a-s;a-=u,n-=u}return[n,a]}_layoutBoxInPage(e,t,n,r,s){const o=e.top-r,a=t.top+this._lineHeight,u=ca(this._viewDomNode.domNode),c=u.top+o-lm.scrollY,h=u.top+a-lm.scrollY,f=aB(document.body),[p,m]=this._layoutHorizontalSegmentInPage(f,u,e.left-s.scrollLeft+this._contentLeft,n),[v,b]=this._layoutHorizontalSegmentInPage(f,u,t.left-s.scrollLeft+this._contentLeft,n),S=22,x=22,w=c>=S,E=h+r<=f.height-x;return this._fixedOverflowWidgets?{fitsAbove:w,aboveTop:Math.max(c,S),aboveLeft:m,fitsBelow:E,belowTop:h,belowLeft:b}:{fitsAbove:w,aboveTop:o,aboveLeft:p,fitsBelow:E,belowTop:a,belowLeft:v}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new yA(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let n=t[0],r=t[0];for(const f of t)f.lineNumber<n.lineNumber&&(n=f),f.lineNumber>r.lineNumber&&(r=f);let s=1073741824;for(const f of n.ranges)f.left<s&&(s=f.left);let o=1073741824;for(const f of r.ranges)f.left<o&&(o=f.left);const a=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop,u=new yA(a,s),c=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.scrollTop,h=new yA(c,o);return[u,h]}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const[t,n]=this._getTopAndBottomLeft(e);if(!t||!n)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let s=null;if(typeof this._actual.beforeRender=="function"&&(s=t$(this._actual.beforeRender,this._actual)),s)this._cachedDomNodeClientWidth=s.width,this._cachedDomNodeClientHeight=s.height;else{const o=this.domNode.domNode;this._cachedDomNodeClientWidth=o.clientWidth,this._cachedDomNodeClientHeight=o.clientHeight}}let r;this.allowEditorOverflow?r=this._layoutBoxInPage(t,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):r=this._layoutBoxInViewport(t,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e);for(let s=1;s<=2;s++)for(const o of this._preference)if(o===1){if(!r)return null;if(s===2||r.fitsAbove)return{coordinate:new yA(r.aboveTop,r.aboveLeft),position:1}}else if(o===2){if(!r)return null;if(s===2||r.fitsBelow)return{coordinate:new yA(r.belowTop,r.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&t$(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&t$(this._actual.afterRender,this._actual,this._renderData.position)}};function t$(i,e,...t){try{return i.call(e,...t)}catch{return null}}let tK=!0;class rme extends AE{constructor(e){super(),this._context=e;const t=this._context.configuration.options,n=t.get(130);this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new xt(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=tK?this._selections.slice(0,1):this._selections,n=t.map(s=>s.positionLineNumber);n.sort((s,o)=>s-o),Nc(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,e=!0);const r=t.every(s=>s.isEmpty());return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(130);return this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(e),n=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=this._cursorLineNumbers.length;let o=0;const a=[];for(let u=n;u<=r;u++){const c=u-n;for(;o<s&&this._cursorLineNumbers[o]<u;)o++;o<s&&this._cursorLineNumbers[o]===u?a[c]=t:a[c]=""}this._renderData=a}render(e,t){if(!this._renderData)return"";const n=t-e;return n>=this._renderData.length?"":this._renderData[n]}}class PPe extends rme{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class FPe extends rme{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}Cr((i,e)=>{tK=!1;const t=i.getColor(h4e);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||i.defines(xre)){const n=i.getColor(xre);n&&(tK=!0,e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${n}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${n}; }`),i.type==="hc"&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class BPe extends AE{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let n=[],r=0;for(let u=0,c=t.length;u<c;u++){const h=t[u];h.options.className&&(n[r++]=h)}n=n.sort((u,c)=>{if(u.options.zIndex<c.options.zIndex)return-1;if(u.options.zIndex>c.options.zIndex)return 1;const h=u.options.className,f=c.options.className;return h<f?-1:h>f?1:Q.compareRangesUsingStarts(u.range,c.range)});const s=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,a=[];for(let u=s;u<=o;u++){const c=u-s;a[c]=""}this._renderWholeLineDecorations(e,n,a),this._renderNormalDecorations(e,n,a),this._renderResult=a}_renderWholeLineDecorations(e,t,n){const r=String(this._lineHeight),s=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber;for(let a=0,u=t.length;a<u;a++){const c=t[a];if(!c.options.isWholeLine)continue;const h='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+r+'px;"></div>',f=Math.max(c.range.startLineNumber,s),p=Math.min(c.range.endLineNumber,o);for(let m=f;m<=p;m++){const v=m-s;n[v]+=h}}}_renderNormalDecorations(e,t,n){const r=String(this._lineHeight),s=e.visibleRange.startLineNumber;let o=null,a=!1,u=null;for(let c=0,h=t.length;c<h;c++){const f=t[c];if(f.options.isWholeLine)continue;const p=f.options.className,m=!!f.options.showIfCollapsed;let v=f.range;if(m&&v.endColumn===1&&v.endLineNumber!==v.startLineNumber&&(v=new Q(v.startLineNumber,v.startColumn,v.endLineNumber-1,this._context.model.getLineMaxColumn(v.endLineNumber-1))),o===p&&a===m&&Q.areIntersectingOrTouching(u,v)){u=Q.plusRange(u,v);continue}o!==null&&this._renderNormalDecoration(e,u,o,a,r,s,n),o=p,a=m,u=v}o!==null&&this._renderNormalDecoration(e,u,o,a,r,s,n)}_renderNormalDecoration(e,t,n,r,s,o,a){const u=e.linesVisibleRangesForRange(t,n==="findMatch");if(u)for(let c=0,h=u.length;c<h;c++){const f=u[c];if(f.outsideRenderedLine)continue;const p=f.lineNumber-o;if(r&&f.ranges.length===1){const m=f.ranges[0];if(m.width<this._typicalHalfwidthCharacterWidth){const v=Math.round(m.left+m.width/2),b=Math.max(0,Math.round(v-this._typicalHalfwidthCharacterWidth/2));f.ranges[0]=new TB(b,this._typicalHalfwidthCharacterWidth)}}for(let m=0,v=f.ranges.length;m<v;m++){const b=f.ranges[m],S='<div class="cdr '+n+'" style="left:'+String(b.left)+"px;width:"+String(b.width)+"px;height:"+s+'px;"></div>';a[p]+=S}}}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}class hc extends Me{onclick(e,t){this._register(Ze(e,Ut.CLICK,n=>t(new Lc(n))))}onmousedown(e,t){this._register(Ze(e,Ut.MOUSE_DOWN,n=>t(new Lc(n))))}onmouseover(e,t){this._register(Ze(e,Ut.MOUSE_OVER,n=>t(new Lc(n))))}onnonbubblingmouseout(e,t){this._register(wX(e,n=>t(new Lc(n))))}onkeydown(e,t){this._register(Ze(e,Ut.KEY_DOWN,n=>t(new Ar(n))))}onkeyup(e,t){this._register(Ze(e,Ut.KEY_UP,n=>t(new Ar(n))))}oninput(e,t){this._register(Ze(e,Ut.INPUT,t))}onblur(e,t){this._register(Ze(e,Ut.BLUR,t))}onfocus(e,t){this._register(Ze(e,Ut.FOCUS,t))}ignoreGesture(e){qi.ignoreTarget(e)}}const Ix=11;class WPe extends hc{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=Ix+"px",this.domNode.style.height=Ix+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new qy),this.onmousedown(this.bgDomNode,t=>this._arrowMouseDown(t)),this.onmousedown(this.domNode,t=>this._arrowMouseDown(t)),this._mousedownRepeatTimer=this._register(new UP),this._mousedownScheduleRepeatTimer=this._register(new el)}_arrowMouseDown(e){const t=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(t,200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,IE,n=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class VPe extends Me{constructor(e,t,n){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=n,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new el)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}const HPe=140;class sme extends hc{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new VPe(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new qy),this._shouldRender=!0,this.domNode=li(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,t=>this._domNodeMouseDown(t))}_createArrow(e){const t=this._register(new WPe(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,n,r){this.slider=li(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof n=="number"&&this.slider.setWidth(n),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,s=>{s.leftButton&&(s.preventDefault(),this._sliderMouseDown(s,()=>{}))}),this.onclick(this.slider.domNode,s=>{s.leftButton&&s.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){const t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(e);n<=s&&s<=r?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{})):this._onMouseDown(e)}_onMouseDown(e){let t,n;if(e.target===this.domNode.domNode&&typeof e.browserEvent.offsetX=="number"&&typeof e.browserEvent.offsetY=="number")t=e.browserEvent.offsetX,n=e.browserEvent.offsetY;else{const s=ca(this.domNode.domNode);t=e.posx-s.left,n=e.posy-s.top}const r=this._mouseDownRelativePosition(t,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}_sliderMouseDown(e,t){const n=this._sliderMousePosition(e),r=this._sliderOrthogonalMousePosition(e),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,IE,o=>{const a=this._sliderOrthogonalMousePosition(o),u=Math.abs(a-r);if(Zo&&u>HPe){this._setDesiredScrollPositionNow(s.getScrollPosition());return}const h=this._sliderMousePosition(o)-n;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const $Pe=20;class NM{constructor(e,t,n,r,s,o){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=s,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new NM(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,n,r,s){const o=Math.max(0,n-e),a=Math.max(0,o-2*t),u=r>0&&r>n;if(!u)return{computedAvailableSize:Math.round(o),computedIsNeeded:u,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const c=Math.round(Math.max($Pe,Math.floor(n*a/r))),h=(a-c)/(r-n),f=s*h;return{computedAvailableSize:Math.round(o),computedIsNeeded:u,computedSliderSize:Math.round(c),computedSliderRatio:h,computedSliderPosition:Math.round(f)}}_refreshComputedValues(){const e=NM._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let n=this._scrollPosition;return t<this._computedSliderPosition?n-=this._visibleSize:n+=this._visibleSize,n}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class zPe extends sme{constructor(e,t,n){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new NM(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,r.width,r.scrollWidth,s.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const o=(t.arrowSize-Ix)/2,a=(t.horizontalScrollbarSize-Ix)/2;this._createArrow({className:"scra",icon:ve.scrollbarButtonLeft,top:a,left:o,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _x(null,1,0))}),this._createArrow({className:"scra",icon:ve.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:o,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new _x(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class UPe extends sme{constructor(e,t,n){const r=e.getScrollDimensions(),s=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new NM(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,r.height,r.scrollHeight,s.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const o=(t.arrowSize-Ix)/2,a=(t.verticalScrollbarSize-Ix)/2;this._createArrow({className:"scra",icon:ve.scrollbarButtonUp,top:o,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new _x(null,0,1))}),this._createArrow({className:"scra",icon:ve.scrollbarButtonDown,top:void 0,left:a,bottom:o,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new _x(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class n7{constructor(e,t,n,r,s,o){this._scrollStateBrand=void 0,e=e|0,t=t|0,n=n|0,r=r|0,s=s|0,o=o|0,this.rawScrollLeft=n,this.rawScrollTop=o,e<0&&(e=0),n+e>t&&(n=t-e),n<0&&(n=0),r<0&&(r=0),o+r>s&&(o=s-r),o<0&&(o=0),this.width=e,this.scrollWidth=t,this.scrollLeft=n,this.height=r,this.scrollHeight=s,this.scrollTop=o}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new n7(typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new n7(this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const n=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,s=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,u=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:r,scrollLeftChanged:s,heightChanged:o,scrollHeightChanged:a,scrollTopChanged:u}}}class jB extends Me{constructor(e,t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new ye),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new n7(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const n=this._state.withScrollDimensions(e,t);this._setState(n,!!this._smoothScrolling),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};const n=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let r;t?r=new AM(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const n=this._state.withScrollPosition(e);this._smoothScrolling=AM.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const n=this._state;n.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(n,t)))}}class Fre{constructor(e,t,n){this.scrollLeft=e,this.scrollTop=t,this.isDone=n}}function n$(i,e){const t=e-i;return function(n){return i+t*qPe(n)}}function jPe(i,e,t){return function(n){return n<t?i(n/t):e((n-t)/(1-t))}}class AM{constructor(e,t,n,r){this.from=e,this.to=t,this.duration=r,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,n){if(Math.abs(e-t)>2.5*n){let s,o;return e<t?(s=e+.75*n,o=t-.75*n):(s=e-.75*n,o=t+.75*n),jPe(n$(e,s),n$(o,t),.33)}return n$(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const n=this.scrollLeft(t),r=this.scrollTop(t);return new Fre(n,r,!1)}return new Fre(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,n){return AM.start(e,t,n)}static start(e,t,n){n=n+10;const r=Date.now()-10;return new AM(e,t,r,n)}}function KPe(i){return Math.pow(i,3)}function qPe(i){return 1-KPe(1-i)}const GPe=500,Bre=50;class YPe{constructor(e,t,n){this.timestamp=e,this.deltaX=t,this.deltaY=n,this.score=0}}class nK{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,n=1,r=this._rear;do{const s=r===this._front?e:Math.pow(2,-n);if(e-=s,t+=this._memory[r].score*s,r===this._front)break;r=(this._capacity+r-1)%this._capacity,n++}while(!0);return t<=.5}accept(e,t,n){const r=new YPe(e,t,n);r.score=this._computeScore(r),this._front===-1&&this._rear===-1?(this._memory[0]=r,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=r)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}nK.INSTANCE=new nK;class ome extends hc{constructor(e,t,n){super(),this._onScroll=this._register(new ye),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new ye),e.style.overflow="hidden",this._options=ZPe(t),this._scrollable=n,this._register(this._scrollable.onScroll(s=>{this._onWillScroll.fire(s),this._onDidScroll(s),this._onScroll.fire(s)}));const r={onMouseWheel:s=>this._onMouseWheel(s),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new UPe(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new zPe(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=li(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=li(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=li(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,s=>this._onMouseOver(s)),this.onnonbubblingmouseout(this._listenOnDomNode,s=>this._onMouseOut(s)),this._hideTimeout=this._register(new el),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=ui(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Xn&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=ui(this._mouseWheelToDispose),e)){const n=r=>{this._onMouseWheel(new _x(r))};this._mouseWheelToDispose.push(Ze(this._listenOnDomNode,Ut.MOUSE_WHEEL,n,{passive:!1}))}}_onMouseWheel(e){const t=nK.INSTANCE;{const s=window.devicePixelRatio/Efe();Zo||yl?t.accept(Date.now(),e.deltaX/s,e.deltaY/s):t.accept(Date.now(),e.deltaX,e.deltaY)}let n=!1;if(e.deltaY||e.deltaX){let s=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(s)>=Math.abs(o)?o=0:s=0),this._options.flipAxes&&([s,o]=[o,s]);const a=!Xn&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!o&&(o=s,s=0),e.browserEvent&&e.browserEvent.altKey&&(o=o*this._options.fastScrollSensitivity,s=s*this._options.fastScrollSensitivity);const u=this._scrollable.getFutureScrollPosition();let c={};if(s){const h=Bre*s,f=u.scrollTop-(h<0?Math.floor(h):Math.ceil(h));this._verticalScrollbar.writeScrollPosition(c,f)}if(o){const h=Bre*o,f=u.scrollLeft-(h<0?Math.floor(h):Math.ceil(h));this._horizontalScrollbar.writeScrollPosition(c,f)}c=this._scrollable.validateScrollPosition(c),(u.scrollLeft!==c.scrollLeft||u.scrollTop!==c.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),n=!0)}let r=n;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,n=e.scrollLeft>0,r=n?" left":"",s=t?" top":"",o=n||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${r}`),this._topShadowDomNode.setClassName(`shadow${s}`),this._topLeftShadowDomNode.setClassName(`shadow${o}${s}${r}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),GPe)}}class wQ extends ome{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const n=new jB(0,r=>jg(r));super(e,t,n),this._register(n)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class SQ extends ome{constructor(e,t,n){super(e,t,n)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class JP extends wQ{constructor(e,t){super(e,t),this._element=e,this.onScroll(n=>{n.scrollTopChanged&&(this._element.scrollTop=n.scrollTop),n.scrollLeftChanged&&(this._element.scrollLeft=n.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function ZPe(i){const e={lazyRender:typeof i.lazyRender<"u"?i.lazyRender:!1,className:typeof i.className<"u"?i.className:"",useShadows:typeof i.useShadows<"u"?i.useShadows:!0,handleMouseWheel:typeof i.handleMouseWheel<"u"?i.handleMouseWheel:!0,flipAxes:typeof i.flipAxes<"u"?i.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof i.consumeMouseWheelIfScrollbarIsNeeded<"u"?i.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof i.alwaysConsumeMouseWheel<"u"?i.alwaysConsumeMouseWheel:!1,scrollYToX:typeof i.scrollYToX<"u"?i.scrollYToX:!1,mouseWheelScrollSensitivity:typeof i.mouseWheelScrollSensitivity<"u"?i.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof i.fastScrollSensitivity<"u"?i.fastScrollSensitivity:5,scrollPredominantAxis:typeof i.scrollPredominantAxis<"u"?i.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof i.mouseWheelSmoothScroll<"u"?i.mouseWheelSmoothScroll:!0,arrowSize:typeof i.arrowSize<"u"?i.arrowSize:11,listenOnDomNode:typeof i.listenOnDomNode<"u"?i.listenOnDomNode:null,horizontal:typeof i.horizontal<"u"?i.horizontal:1,horizontalScrollbarSize:typeof i.horizontalScrollbarSize<"u"?i.horizontalScrollbarSize:10,horizontalSliderSize:typeof i.horizontalSliderSize<"u"?i.horizontalSliderSize:0,horizontalHasArrows:typeof i.horizontalHasArrows<"u"?i.horizontalHasArrows:!1,vertical:typeof i.vertical<"u"?i.vertical:1,verticalScrollbarSize:typeof i.verticalScrollbarSize<"u"?i.verticalScrollbarSize:10,verticalHasArrows:typeof i.verticalHasArrows<"u"?i.verticalHasArrows:!1,verticalSliderSize:typeof i.verticalSliderSize<"u"?i.verticalSliderSize:0,scrollByPage:typeof i.scrollByPage<"u"?i.scrollByPage:!1};return e.horizontalSliderSize=typeof i.horizontalSliderSize<"u"?i.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof i.verticalSliderSize<"u"?i.verticalSliderSize:e.verticalScrollbarSize,Xn&&(e.className+=" mac"),e}class XPe extends jc{constructor(e,t,n,r){super(e);const s=this._context.configuration.options,o=s.get(91),a=s.get(66),u=s.get(34),c=s.get(94),h={listenOnDomNode:n.domNode,className:"editor-scrollable "+DF(e.theme.type),useShadows:!1,lazyRender:!0,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:u,scrollPredominantAxis:c,scrollByPage:o.scrollByPage};this.scrollbar=this._register(new SQ(t.domNode,h,this._context.viewLayout.getScrollable())),Gg.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=li(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const f=(p,m,v)=>{const b={};if(m){const S=p.scrollTop;S&&(b.scrollTop=this._context.viewLayout.getCurrentScrollTop()+S,p.scrollTop=0)}if(v){const S=p.scrollLeft;S&&(b.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+S,p.scrollLeft=0)}this._context.model.setScrollPosition(b,1)};this._register(Ze(n.domNode,"scroll",p=>f(n.domNode,!0,!0))),this._register(Ze(t.domNode,"scroll",p=>f(t.domNode,!0,!1))),this._register(Ze(r.domNode,"scroll",p=>f(r.domNode,!0,!1))),this._register(Ze(this.scrollbarDomNode.domNode,"scroll",p=>f(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(130);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(64).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){const t=this._context.configuration.options,n=t.get(91),r=t.get(66),s=t.get(34),o=t.get(94),a={vertical:n.vertical,horizontal:n.horizontal,verticalScrollbarSize:n.verticalScrollbarSize,horizontalScrollbarSize:n.horizontalScrollbarSize,scrollByPage:n.scrollByPage,handleMouseWheel:n.handleMouseWheel,mouseWheelScrollSensitivity:r,fastScrollSensitivity:s,scrollPredominantAxis:o};this.scrollbar.updateOptions(a)}return e.hasChanged(130)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+DF(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}Cr((i,e)=>{const t=i.getColor(kE);t&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);const n=i.getColor(BS);n&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${n};
			}
		`);const r=i.getColor(WS);r&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${r};
			}
		`);const s=i.getColor(VS);s&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${s};
			}
		`)});class i7{constructor(e,t,n){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(n)}}class xQ extends AE{_render(e,t,n){const r=[];for(let a=e;a<=t;a++){const u=a-e;r[u]=[]}if(n.length===0)return r;n.sort((a,u)=>a.className===u.className?a.startLineNumber===u.startLineNumber?a.endLineNumber-u.endLineNumber:a.startLineNumber-u.startLineNumber:a.className<u.className?-1:1);let s=null,o=0;for(let a=0,u=n.length;a<u;a++){const c=n[a],h=c.className;let f=Math.max(c.startLineNumber,e)-e;const p=Math.min(c.endLineNumber,t)-e;s===h?(f=Math.max(o+1,f),o=Math.max(o,p)):(s=h,o=p);for(let m=f;m<=o;m++)r[m].push(s)}return r}}class QPe extends xQ{constructor(e){super(),this._context=e;const t=this._context.configuration.options,n=t.get(130);this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(130);return this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let n=[],r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.options.glyphMarginClassName;u&&(n[r++]=new i7(a.range.startLineNumber,a.range.endLineNumber,u))}return n}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,r=this._render(t,n,this._getDecorations(e)),s=this._lineHeight.toString(),o=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),u='" style="left:'+o+"px;width:"+a+"px;height:"+s+'px;"></div>',c=[];for(let h=t;h<=n;h++){const f=h-t,p=r[f];p.length===0?c[f]="":c[f]='<div class="cgmr codicon '+p.join(" ")+u}this._renderResult=c}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}class JPe extends AE{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,n=t.get(131),r=t.get(43);this._lineHeight=t.get(58),this._spaceWidth=r.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(131),r=t.get(43);return this._lineHeight=t.get(58),this._spaceWidth=r.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;const r=e.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(r)?!1:(this._primaryPosition=r,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,n,r,s;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,u=e.scrollWidth,c=this._lineHeight,h=this._primaryPosition,f=this.getGuidesByLine(o,a,h),p=[];for(let m=o;m<=a;m++){const v=m-o,b=f[v];let S="";const x=(n=(t=e.visibleRangeForPosition(new Ee(m,1)))===null||t===void 0?void 0:t.left)!==null&&n!==void 0?n:0;for(const w of b){const E=x+(w.visibleColumn-1)*this._spaceWidth;if(E>u||this._maxIndentLeft>0&&E>this._maxIndentLeft)break;const N=w.horizontalLine?w.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",A=w.horizontalLine?((s=(r=e.visibleRangeForPosition(new Ee(m,w.horizontalLine.endColumn)))===null||r===void 0?void 0:r.left)!==null&&s!==void 0?s:E+this._spaceWidth)-E:this._spaceWidth;S+=`<div class="core-guide ${w.className} ${N}" style="left:${E}px;height:${c}px;width:${A}px"></div>`}p[v]=S}this._renderResult=p}getGuidesByLine(e,t,n){const r=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(e,t,n,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?cC.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?cC.EnabledForActive:cC.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,s=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,t):null;let o=0,a=0,u=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&n){const f=this._context.model.getActiveIndentGuide(n.lineNumber,e,t);o=f.startLineNumber,a=f.endLineNumber,u=f.indent}const{indentSize:c}=this._context.model.getTextModelOptions(),h=[];for(let f=e;f<=t;f++){const p=new Array;h.push(p);const m=r?r[f-e]:[],v=new PS(m),b=s?s[f-e]:[];for(let S=1;S<=b;S++){const x=(S-1)*c+1,w=m.length===0&&o<=f&&f<=a&&S===u;p.push(...v.takeWhile(N=>N.visibleColumn<x)||[]);const E=v.peek();(!E||E.visibleColumn!==x||E.horizontalLine)&&p.push(new oS(x,w?"core-guide-indent-active":"core-guide-indent",null))}p.push(...v.takeWhile(S=>!0)||[])}return h}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}function I5(i){if(!(i&&i.isTransparent()))return i}Cr((i,e)=>{const t=i.getColor(VB);t&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${t} inset; }`);const n=i.getColor(HB)||t;n&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${n} inset; }`);const r=[{bracketColor:Upe,guideColor:M4e,guideColorActive:V4e},{bracketColor:jpe,guideColor:R4e,guideColorActive:H4e},{bracketColor:Kpe,guideColor:P4e,guideColorActive:$4e},{bracketColor:qpe,guideColor:F4e,guideColorActive:z4e},{bracketColor:Gpe,guideColor:B4e,guideColorActive:U4e},{bracketColor:Ype,guideColor:W4e,guideColorActive:j4e}],s=new Xpe;let o=r.map(a=>{var u,c;const h=i.getColor(a.bracketColor),f=i.getColor(a.guideColor),p=i.getColor(a.guideColorActive),m=I5((u=I5(f))!==null&&u!==void 0?u:h==null?void 0:h.transparent(.3)),v=I5((c=I5(p))!==null&&c!==void 0?c:h);if(!(!m||!v))return{guideColor:m,guideColorActive:v}}).filter(VIe);if(o.length>0){for(let a=0;a<30;a++){const u=o[a%o.length];e.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${u.guideColor}; --guide-color-active: ${u.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${s.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${s.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${s.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class e3e{constructor(){this._currentVisibleRange=new Q(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class t3e{constructor(e,t,n,r,s,o){this.lineNumber=e,this.startColumn=t,this.endColumn=n,this.startScrollTop=r,this.stopScrollTop=s,this.scrollType=o,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class n3e{constructor(e,t,n,r){this.selections=e,this.startScrollTop=t,this.stopScrollTop=n,this.scrollType=r,this.type="selections";let s=e[0].startLineNumber,o=e[0].endLineNumber;for(let a=1,u=e.length;a<u;a++){const c=e[a];s=Math.min(s,c.startLineNumber),o=Math.max(o,c.endLineNumber)}this.minLineNumber=s,this.maxLineNumber=o}}class KB extends jc{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new nme(this),this.domNode=this._visibleLines.domNode;const n=this._context.configuration,r=this._context.configuration.options,s=r.get(43),o=r.get(131);this._lineHeight=r.get(58),this._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=r.get(88),this._cursorSurroundingLines=r.get(25),this._cursorSurroundingLinesStyle=r.get(26),this._canUseLayerHinting=!r.get(28),this._viewLineOptions=new Uie(n,this._context.theme.type),Gg.write(this.domNode,7),this.domNode.setClassName(`view-lines ${mC}`),Qa.applyFontInfo(this.domNode,s),this._maxLineWidth=0,this._asyncUpdateLineWidths=new lr(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new lr(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new e3e,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new yg(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(131)&&(this._maxLineWidth=0);const t=this._context.configuration.options,n=t.get(43),r=t.get(131);return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=t.get(88),this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),Qa.applyFontInfo(this.domNode,n),this._onOptionsMaybeChanged(),e.hasChanged(130)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new Uie(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=n;s<=r;s++)this._visibleLines.getVisibleLine(s).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let r=!1;for(let s=t;s<=n;s++)r=this._visibleLines.getVisibleLine(s).onSelectionChanged()||r;return r}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let r=t;r<=n;r++)this._visibleLines.getVisibleLine(r).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(t===-1)return!1;let n=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?n={scrollTop:n.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new t3e(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new n3e(e.selections,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const s=Math.abs(this._context.viewLayout.getCurrentScrollTop()-n.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(n,s),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),n=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>n)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const n=this._getViewLineDomNode(e);if(n===null)return null;const r=this._getLineNumberFor(n);if(r===-1||r<1||r>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(r)===1)return new Ee(r,1);const s=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(r<s||r>o)return null;let a=this._visibleLines.getVisibleLine(r).getColumnOfNodeOffset(r,e,t);const u=this._context.model.getLineMinColumn(r);return a<u&&(a=u),new Ee(r,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===yg.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let r=t;r<=n;r++){const s=this._visibleLines.getVisibleLine(r);if(e===s.getDomNode())return r}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();return e<t||e>n?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const n=e.endLineNumber,r=Q.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;let s=[],o=0;const a=new zie(this.domNode.domNode,this._textRangeRestingSpot);let u=0;t&&(u=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ee(r.startLineNumber,1)).lineNumber);const c=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber();for(let f=r.startLineNumber;f<=r.endLineNumber;f++){if(f<c||f>h)continue;const p=f===r.startLineNumber?r.startColumn:1,m=f===r.endLineNumber?r.endColumn:this._context.model.getLineMaxColumn(f),v=this._visibleLines.getVisibleLine(f).getVisibleRangesForRange(f,p,m,a);if(v){if(t&&f<n){const b=u;u=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ee(f+1,1)).lineNumber,b!==u&&(v.ranges[v.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}s[o++]=new yOe(v.outsideRenderedLine,f,TB.from(v.ranges))}}return o===0?null:s}_visibleRangesForLineRange(e,t,n){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,n,new zie(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new wOe(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let r=1,s=!0;for(let o=t;o<=n;o++){const a=this._visibleLines.getVisibleLine(o);if(e&&!a.getWidthIsFast()){s=!1;continue}r=Math.max(r,a.getWidth())}return s&&t===1&&n===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(r),s}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=n;s<=r;s++){const o=this._visibleLines.getVisibleLine(s);if(o.needsMonospaceFontCheck()){const a=o.getWidth();a>t&&(t=a,e=s)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let s=n;s<=r;s++)this._visibleLines.getVisibleLine(s).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const n=this._horizontalRevealRequest;if(e.startLineNumber<=n.minLineNumber&&n.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const r=this._computeScrollLeftToReveal(n);r&&(this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:r.scrollLeft},n.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),yl&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const n=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let s=n;s<=r;s++)if(this._visibleLines.getVisibleLine(s).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,n,r,s){const o=e.top,a=e.height,u=o+a;let c,h,f;if(r&&r.length>0){let v=r[0].startLineNumber,b=r[0].endLineNumber;for(let S=1,x=r.length;S<x;S++){const w=r[S];v=Math.min(v,w.startLineNumber),b=Math.max(b,w.endLineNumber)}c=!1,h=this._context.viewLayout.getVerticalOffsetForLineNumber(v),f=this._context.viewLayout.getVerticalOffsetForLineNumber(b)+this._lineHeight}else if(n)c=!0,h=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),f=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight;else return-1;if(!(t==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const v=Math.min(a/this._lineHeight/2,this._cursorSurroundingLines);h-=v*this._lineHeight,f+=Math.max(0,v-1)*this._lineHeight}(s===0||s===4)&&(f+=this._lineHeight);let m;if(f-h>a){if(!c)return-1;m=h}else if(s===5||s===6)if(s===6&&o<=h&&f<=u)m=o;else{const v=Math.max(5*this._lineHeight,a*.2),b=h-v,S=f-a;m=Math.max(S,b)}else if(s===1||s===2)if(s===2&&o<=h&&f<=u)m=o;else{const v=(h+f)/2;m=Math.max(0,v-a/2)}else m=this._computeMinimumScrolling(o,u,h,f,s===3,s===4);return m}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),n=t.left,r=n+t.width;let s=1073741824,o=0;if(e.type==="range"){const u=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!u)return null;for(const c of u.ranges)s=Math.min(s,Math.round(c.left)),o=Math.max(o,Math.round(c.left+c.width))}else for(const u of e.selections){if(u.startLineNumber!==u.endLineNumber)return null;const c=this._visibleRangesForLineRange(u.startLineNumber,u.startColumn,u.endColumn);if(!c)return null;for(const h of c.ranges)s=Math.min(s,Math.round(h.left)),o=Math.max(o,Math.round(h.left+h.width))}return s=Math.max(0,s-KB.HORIZONTAL_EXTRA_PX),o+=this._revealHorizontalRightPadding,e.type==="selections"&&o-s>t.width?null:{scrollLeft:this._computeMinimumScrolling(n,r,s,o),maxHorizontalOffset:o}}_computeMinimumScrolling(e,t,n,r,s,o){e=e|0,t=t|0,n=n|0,r=r|0,s=!!s,o=!!o;const a=t-e;if(r-n<a){if(s)return n;if(o)return Math.max(0,r-a);if(n<e)return n;if(r>t)return Math.max(0,r-a)}else return n;return e}}KB.HORIZONTAL_EXTRA_PX=30;class i3e extends xQ{constructor(e){super(),this._context=e;const n=this._context.configuration.options.get(130);this._decorationsLeft=n.decorationsLeft,this._decorationsWidth=n.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const n=this._context.configuration.options.get(130);return this._decorationsLeft=n.decorationsLeft,this._decorationsWidth=n.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let n=[],r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.options.linesDecorationsClassName;u&&(n[r++]=new i7(a.range.startLineNumber,a.range.endLineNumber,u));const c=a.options.firstLineDecorationClassName;c&&(n[r++]=new i7(a.range.startLineNumber,a.range.startLineNumber,c))}return n}prepareRender(e){const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,r=this._render(t,n,this._getDecorations(e)),s=this._decorationsLeft.toString(),o=this._decorationsWidth.toString(),a='" style="left:'+s+"px;width:"+o+'px;"></div>',u=[];for(let c=t;c<=n;c++){const h=c-t,f=r[h];let p="";for(let m=0,v=f.length;m<v;m++)p+='<div class="cldr '+f[m]+a;u[h]=p}this._renderResult=u}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class r3e extends xQ{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let n=[],r=0;for(let s=0,o=t.length;s<o;s++){const a=t[s],u=a.options.marginClassName;u&&(n[r++]=new i7(a.range.startLineNumber,a.range.endLineNumber,u))}return n}prepareRender(e){const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,r=this._render(t,n,this._getDecorations(e)),s=[];for(let o=t;o<=n;o++){const a=o-t,u=r[a];let c="";for(let h=0,f=u.length;h<f;h++)c+='<div class="cmdr '+u[h]+'" style=""></div>';s[a]=c}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Tc{constructor(e,t,n,r){this._rgba8Brand=void 0,this.r=Tc._clamp(e),this.g=Tc._clamp(t),this.b=Tc._clamp(n),this.a=Tc._clamp(r)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}Tc.Empty=new Tc(0,0,0,0);class e3 extends Me{constructor(){super(),this._onDidChange=new ye,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Xr.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new e3),this._INSTANCE}_updateColorMap(){const e=Xr.getColorMap();if(!e){this._colors=[Tc.Empty],this._backgroundIsLight=!0;return}this._colors=[Tc.Empty];for(let n=1;n<e.length;n++){const r=e[n].rgba;this._colors[n]=new Tc(r.r,r.g,r.b,Math.round(r.a*255))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}e3._INSTANCE=null;class Wre{constructor(e,t,n,r){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=n|0,this.height=r|0}}class s3e{constructor(e,t){this.tabSize=e,this.data=t}}class EQ{constructor(e,t,n,r,s,o,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=n,this.maxColumn=r,this.startVisibleColumn=s,this.tokens=o,this.inlineDecorations=a}}class uc{constructor(e,t,n,r,s,o,a,u,c,h){this.minColumn=e,this.maxColumn=t,this.content=n,this.continuesWithWrappedLine=r,this.isBasicASCII=uc.isBasicASCII(n,o),this.containsRTL=uc.containsRTL(n,this.isBasicASCII,s),this.tokens=a,this.inlineDecorations=u,this.tabSize=c,this.startVisibleColumn=h}static isBasicASCII(e,t){return t?AX(e):!0}static containsRTL(e,t,n){return!t&&n?dB(e):!1}}class DO{constructor(e,t,n){this.range=e,this.inlineClassName=t,this.type=n}}class o3e{constructor(e,t,n,r){this.startOffset=e,this.endOffset=t,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=r}toInlineDecoration(e){return new DO(new Q(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class ame{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class lme{constructor(e,t,n){this.color=e,this.zIndex=t,this.data=n}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}const a3e=(()=>{const i=[];for(let e=32;e<=126;e++)i.push(e);return i.push(65533),i})(),l3e=(i,e)=>(i-=32,i<0||i>96?e<=2?(i+96)%96:96-1:i);class OM{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=OM.soften(e,12/15),this.charDataLight=OM.soften(e,50/60)}static soften(e,t){let n=new Uint8ClampedArray(e.length);for(let r=0,s=e.length;r<s;r++)n[r]=MF(e[r]*t);return n}renderChar(e,t,n,r,s,o,a,u,c,h,f){const p=1*this.scale,m=2*this.scale,v=f?1:m;if(t+p>e.width||n+v>e.height){console.warn("bad render request outside image data");return}const b=h?this.charDataLight:this.charDataNormal,S=l3e(r,c),x=e.width*4,w=a.r,E=a.g,N=a.b,A=s.r-w,H=s.g-E,R=s.b-N,M=Math.max(o,u),G=e.data;let X=S*p*m,$=n*x+t*4;for(let I=0;I<v;I++){let O=$;for(let B=0;B<p;B++){const W=b[X++]/255*(o/255);G[O++]=w+A*W,G[O++]=E+H*W,G[O++]=N+R*W,G[O++]=M}$+=x}}blockRenderChar(e,t,n,r,s,o,a,u){const c=1*this.scale,h=2*this.scale,f=u?1:h;if(t+c>e.width||n+f>e.height){console.warn("bad render request outside image data");return}const p=e.width*4,m=.5*(s/255),v=o.r,b=o.g,S=o.b,x=r.r-v,w=r.g-b,E=r.b-S,N=v+x*m,A=b+w*m,H=S+E*m,R=Math.max(s,a),M=e.data;let G=n*p+t*4;for(let X=0;X<f;X++){let $=G;for(let I=0;I<c;I++)M[$++]=N,M[$++]=A,M[$++]=H,M[$++]=R;G+=p}}}const Vre={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Hre=i=>{const e=new Uint8ClampedArray(i.length/2);for(let t=0;t<i.length;t+=2)e[t>>1]=Vre[i[t]]<<4|Vre[i[t+1]]&15;return e},$re={1:xm(()=>Hre("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:xm(()=>Hre("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class TO{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let n;return $re[e]?n=new OM($re[e](),e):n=TO.createFromSampleData(TO.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=n,n}static createSampleData(e){const t=document.createElement("canvas"),n=t.getContext("2d");t.style.height="16px",t.height=16,t.width=96*10,t.style.width=96*10+"px",n.fillStyle="#ffffff",n.font=`bold 16px ${e}`,n.textBaseline="middle";let r=0;for(const s of a3e)n.fillText(String.fromCharCode(s),r,16/2),r+=10;return n.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");let r=TO._downsample(e,t);return new OM(r,t)}static _downsampleChar(e,t,n,r,s){const o=1*s,a=2*s;let u=r,c=0;for(let h=0;h<a;h++){const f=h/a*16,p=(h+1)/a*16;for(let m=0;m<o;m++){const v=m/o*10,b=(m+1)/o*10;let S=0,x=0;for(let E=f;E<p;E++){const N=t+Math.floor(E)*3840,A=1-(E-Math.floor(E));for(let H=v;H<b;H++){const R=1-(H-Math.floor(H)),M=N+Math.floor(H)*4,G=R*A;x+=G,S+=e[M]*e[M+3]/255*G}}const w=S/x;c=Math.max(c,w),n[u++]=MF(w)}}return c}static _downsample(e,t){const n=2*t*1*t,r=n*96,s=new Uint8ClampedArray(r);let o=0,a=0,u=0;for(let c=0;c<96;c++)u=Math.max(u,this._downsampleChar(e,a,s,o,t)),o+=n,a+=10*4;if(u>0){const c=255/u;for(let h=0;h<r;h++)s[h]*=c}return s}}const u3e=140,c3e=2;class MM{constructor(e,t,n){const r=e.options,s=r.get(128),o=r.get(130),a=o.minimap,u=r.get(43),c=r.get(64);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=r.get(93),this.showSlider=c.showSlider,this.pixelRatio=s,this.typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this.lineHeight=r.get(58),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=o.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=o.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=xm(()=>TO.create(this.fontScale,u.fontFamily)),this.defaultBackgroundColor=n.getColor(2),this.backgroundColor=MM._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=MM._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const n=e.getColor(iOe);return n?new Tc(n.rgba.r,n.rgba.g,n.rgba.b,Math.round(255*n.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(rOe);return t?Tc._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class IO{constructor(e,t,n,r,s,o,a,u){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=n,this._computedSliderRatio=r,this.sliderTop=s,this.sliderHeight=o,this.startLineNumber=a,this.endLineNumber=u}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,n,r,s,o,a,u,c,h,f){const p=e.pixelRatio,m=e.minimapLineHeight,v=Math.floor(e.canvasInnerHeight/m),b=e.lineHeight;if(e.minimapHeightIsEditorHeight){const A=u*e.lineHeight+(e.scrollBeyondLastLine?s-e.lineHeight:0),H=Math.max(1,Math.floor(s*s/A)),R=Math.max(0,e.minimapHeight-H),M=R/(h-s),G=c*M,X=R>0,$=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new IO(c,h,X,M,G,H,1,Math.min(a,$))}let S;if(o&&n!==a){const A=n-t+1;S=Math.floor(A*m/p)}else{const A=s/b;S=Math.floor(A*m/p)}let x;e.scrollBeyondLastLine?x=(a-1)*m/p:x=Math.max(0,a*m/p-S),x=Math.min(e.minimapHeight-S,x);const w=x/(h-s),E=c*w;let N=0;if(e.scrollBeyondLastLine&&(N=s/b-1),v>=a+N){const H=a,R=x>0;return new IO(c,h,R,w,E,S,1,H)}else{let A=Math.max(1,Math.floor(t-E*p/m));f&&f.scrollHeight===h&&(f.scrollTop>c&&(A=Math.min(A,f.startLineNumber)),f.scrollTop<c&&(A=Math.max(A,f.startLineNumber)));const H=Math.min(a,A+v-1),R=(c-r)/b,M=(t-A+R)*m/p;return new IO(c,h,!0,w,M,S,A,H)}}}class r7{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}r7.INVALID=new r7(-1);class zre{constructor(e,t,n){this.renderedLayout=e,this._imageData=t,this._renderedLines=new tme(()=>r7.INVALID),this._renderedLines._set(e.startLineNumber,n)}linesEquals(e){if(!this.scrollEquals(e))return!1;const n=this._renderedLines._get().lines;for(let r=0,s=n.length;r<s;r++)if(n[r].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class LQ{constructor(e,t,n,r){this._backgroundFillData=LQ._createBackgroundFillData(t,n,r),this._buffers=[e.createImageData(t,n),e.createImageData(t,n)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,n){const r=n.r,s=n.g,o=n.b,a=n.a,u=new Uint8ClampedArray(e*t*4);let c=0;for(let h=0;h<t;h++)for(let f=0;f<e;f++)u[c]=r,u[c+1]=s,u[c+2]=o,u[c+3]=a,c+=4;return u}}class RM{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,n){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const r=e.pixelRatio,s=e.lineHeight,o=e.scrollBeyondLastLine,{minimapLineCount:a}=FS.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:o,height:e.editorHeight,lineHeight:s,pixelRatio:r}),u=t/a,c=u/2;if(!n||n.minimapLines.length===0){let E=[];if(E[0]=1,a>1){for(let N=0,A=a-1;N<A;N++)E[N]=Math.round(N*u+c);E[a-1]=t}return[new RM(u,E),[]]}const h=n.minimapLines,f=h.length;let p=[],m=0,v=0,b=1;const S=10;let x=[],w=null;for(let E=0;E<a;E++){const N=Math.max(b,Math.round(E*u)),A=Math.max(N,Math.round((E+1)*u));for(;m<f&&h[m]<N;){if(x.length<S){const R=m+1+v;w&&w.type==="deleted"&&w._oldIndex===m-1?w.deleteToLineNumber++:(w={type:"deleted",_oldIndex:m,deleteFromLineNumber:R,deleteToLineNumber:R},x.push(w)),v--}m++}let H;if(m<f&&h[m]<=A)H=h[m],m++;else if(E===0?H=1:E+1===a?H=t:H=Math.round(E*u+c),x.length<S){const R=m+1+v;w&&w.type==="inserted"&&w._i===E-1?w.insertToLineNumber++:(w={type:"inserted",_i:E,insertFromLineNumber:R,insertToLineNumber:R},x.push(w)),v++}p[E]=H,b=H}if(x.length<S)for(;m<f;){const E=m+1+v;w&&w.type==="deleted"&&w._oldIndex===m-1?w.deleteToLineNumber++:(w={type:"deleted",_oldIndex:m,deleteFromLineNumber:E,deleteToLineNumber:E},x.push(w)),v--,m++}else x=[{type:"flush"}];return[new RM(u,p),x]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let n=this.modelLineToMinimapLine(e)-1;for(;n>0&&this.minimapLines[n-1]>=e;)n--;let r=this.modelLineToMinimapLine(t)-1;for(;r+1<this.minimapLines.length&&this.minimapLines[r+1]<=t;)r++;if(n===r){const s=this.minimapLines[n];if(s<e||s>t)return null}return[n+1,r+1]}decorationLineRangeToMinimapLineRange(e,t){let n=this.modelLineToMinimapLine(e),r=this.modelLineToMinimapLine(t);return e!==t&&r===n&&(r===this.minimapLines.length?n>1&&n--:r++),[n,r]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let n=this.minimapLines.length,r=0;for(let s=this.minimapLines.length-1;s>=0&&!(this.minimapLines[s]<e.fromLineNumber);s--)this.minimapLines[s]<=e.toLineNumber?(this.minimapLines[s]=Math.max(1,e.fromLineNumber-1),n=Math.min(n,s),r=Math.max(r,s)):this.minimapLines[s]-=t;return[n,r]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let n=this.minimapLines.length-1;n>=0&&!(this.minimapLines[n]<e.fromLineNumber);n--)this.minimapLines[n]+=t}}class d3e extends jc{constructor(e){super(e),this.tokensColorTracker=e3.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new MM(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=RM.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new s7(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new MM(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return t?this._actual.onLinesChanged(t[0],t[1]):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,n]=this._samplingState.onLinesDeleted(e);return t<=n&&this._actual.onLinesChanged(t+1,n+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(const n of e.ranges){const r=this._samplingState.modelLineRangeToMinimapLineRange(n.fromLineNumber,n.toLineNumber);r&&t.push({fromLineNumber:r[0],toLineNumber:r[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),n=this._samplingState.modelLineToMinimapLine(n));const r={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:n,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(r)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[t,n]=RM.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const r of n)switch(r.type){case"deleted":this._actual.onLinesDeleted(r.deleteFromLineNumber,r.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(r.insertFromLineNumber,r.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,n){if(this._samplingState){let r=[];for(let s=0,o=t-e+1;s<o;s++)n[s]?r[s]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+s-1]):r[s]=null;return r}return this._context.model.getMinimapLinesRenderingData(e,t,n).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,n]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new xt(t,e.startColumn,n,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let n;if(this._samplingState){const s=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];n=new Q(s,1,o,this._context.model.getLineMaxColumn(o))}else n=new Q(e,1,t,this._context.model.getLineMaxColumn(t));const r=this._context.model.getDecorationsInViewport(n);if(this._samplingState){let s=[];for(const o of r){if(!o.options.minimap)continue;const a=o.range,u=this._samplingState.modelLineToMinimapLine(a.startLineNumber),c=this._samplingState.modelLineToMinimapLine(a.endLineNumber);s.push(new ame(new Q(u,a.startColumn,c,a.endColumn),o.options))}return s}return r}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new Q(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class s7 extends Me{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Pie),this._domNode=li(document.createElement("div")),Gg.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=li(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=li(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=li(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=li(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=li(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=vo(this._domNode.domNode,"mousedown",n=>{if(n.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(n.leftButton&&this._lastRenderData){const c=ca(this._slider.domNode),h=c.top+c.height/2;this._startSliderDragging(n.buttons,n.posx,h,n.posy,this._lastRenderData.renderedLayout)}return}const s=this._model.options.minimapLineHeight,o=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*n.browserEvent.offsetY;let u=Math.floor(o/s)+this._lastRenderData.renderedLayout.startLineNumber;u=Math.min(u,this._model.getLineCount()),this._model.revealLineNumber(u)}),this._sliderMouseMoveMonitor=new qy,this._sliderMouseDownListener=vo(this._slider.domNode,"mousedown",n=>{n.preventDefault(),n.stopPropagation(),n.leftButton&&this._lastRenderData&&this._startSliderDragging(n.buttons,n.posx,n.posy,n.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=qi.addTarget(this._domNode.domNode),this._sliderTouchStartListener=Ze(this._domNode.domNode,mr.Start,n=>{n.preventDefault(),n.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(n))},{passive:!1}),this._sliderTouchMoveListener=Ze(this._domNode.domNode,mr.Change,n=>{n.preventDefault(),n.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(n)},{passive:!1}),this._sliderTouchEndListener=vo(this._domNode.domNode,mr.End,n=>{n.preventDefault(),n.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,n,r,s){this._slider.toggleClassName("active",!0);const o=(a,u)=>{const c=Math.abs(u-t);if(Zo&&c>u3e){this._model.setScrollTop(s.scrollTop);return}const h=a-n;this._model.setScrollTop(s.getDesiredScrollTopFromDelta(h))};r!==n&&o(r,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,IE,a=>o(a.posy,a.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,n=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(n)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new LQ(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Pie),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const n=IO.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(n.sliderNeeded?"block":"none"),this._slider.setTop(n.sliderTop),this._slider.setHeight(n.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(n.sliderHeight),this.renderDecorations(n),this._lastRenderData=this.renderLines(n)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(Q.compareRangesUsingStarts);const n=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);n.sort((p,m)=>(p.options.zIndex||0)-(m.options.zIndex||0));const{canvasInnerWidth:r,canvasInnerHeight:s}=this._model.options,o=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,u=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,r,s);const h=new Ure(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,h,e,o),this._renderDecorationsLineHighlights(c,n,h,e,o);const f=new Ure(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,f,e,o,u,a,r),this._renderDecorationsHighlights(c,n,f,e,o,u,a,r)}}_renderSelectionLineHighlights(e,t,n,r,s){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let o=0,a=0;for(const u of t){const c=Math.max(r.startLineNumber,u.startLineNumber),h=Math.min(r.endLineNumber,u.endLineNumber);if(c>h)continue;for(let m=c;m<=h;m++)n.set(m,!0);const f=(c-r.startLineNumber)*s,p=(h-r.startLineNumber)*s+s;a>=f||(a>o&&e.fillRect(m0,o,e.canvas.width,a-o),o=f),a=p}a>o&&e.fillRect(m0,o,e.canvas.width,a-o)}_renderDecorationsLineHighlights(e,t,n,r,s){const o=new Map;for(let a=t.length-1;a>=0;a--){const u=t[a],c=u.options.minimap;if(!c||c.position!==Ul.Inline)continue;const h=Math.max(r.startLineNumber,u.range.startLineNumber),f=Math.min(r.endLineNumber,u.range.endLineNumber);if(h>f)continue;const p=c.getColor(this._theme);if(!p||p.isTransparent())continue;let m=o.get(p.toString());m||(m=p.transparent(.5).toString(),o.set(p.toString(),m)),e.fillStyle=m;for(let v=h;v<=f;v++){if(n.has(v))continue;n.set(v,!0);const b=(h-r.startLineNumber)*s;e.fillRect(m0,b,e.canvas.width,s)}}}_renderSelectionsHighlights(e,t,n,r,s,o,a,u){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const c of t){const h=Math.max(r.startLineNumber,c.startLineNumber),f=Math.min(r.endLineNumber,c.endLineNumber);if(!(h>f))for(let p=h;p<=f;p++)this.renderDecorationOnLine(e,n,c,this._selectionColor,r,p,s,s,o,a,u)}}_renderDecorationsHighlights(e,t,n,r,s,o,a,u){for(const c of t){const h=c.options.minimap;if(!h)continue;const f=Math.max(r.startLineNumber,c.range.startLineNumber),p=Math.min(r.endLineNumber,c.range.endLineNumber);if(f>p)continue;const m=h.getColor(this._theme);if(!(!m||m.isTransparent()))for(let v=f;v<=p;v++)switch(h.position){case Ul.Inline:this.renderDecorationOnLine(e,n,c.range,m,r,v,s,s,o,a,u);continue;case Ul.Gutter:const b=(v-r.startLineNumber)*s,S=2;this.renderDecoration(e,m,S,b,c3e,s);continue}}}renderDecorationOnLine(e,t,n,r,s,o,a,u,c,h,f){const p=(o-s.startLineNumber)*u;if(p+a<0||p>this._model.options.canvasInnerHeight)return;const{startLineNumber:m,endLineNumber:v}=n,b=m===o?n.startColumn:1,S=v===o?n.endColumn:this._model.getLineMaxColumn(o),x=this.getXOffsetForPosition(t,o,b,c,h,f),w=this.getXOffsetForPosition(t,o,S,c,h,f);this.renderDecoration(e,r,x,p,w-x,a)}getXOffsetForPosition(e,t,n,r,s,o){if(n===1)return m0;if((n-1)*s>=o)return o;let u=e.get(t);if(!u){const c=this._model.getLineContent(t);u=[m0];let h=m0;for(let f=1;f<c.length+1;f++){const p=c.charCodeAt(f-1),m=p===9?r*s:qg(p)?2*s:s,v=h+m;if(v>=o){u[f]=o;break}u[f]=v,h=v}e.set(t,u)}return n-1<u.length?u[n-1]:o}renderDecoration(e,t,n,r,s,o){e.fillStyle=t&&t.toString()||"",e.fillRect(n,r,s,o)}renderLines(e){const t=e.startLineNumber,n=e.endLineNumber,r=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const W=this._lastRenderData._get();return new zre(e,W.imageData,W.lines)}const s=this._getBuffer();if(!s)return null;let[o,a,u]=s7._renderUntouchedLines(s,t,n,r,this._lastRenderData);const c=this._model.getMinimapLinesRenderingData(t,n,u),h=this._model.getOptions().tabSize,f=this._model.options.defaultBackgroundColor,p=this._model.options.backgroundColor,m=this._model.options.foregroundAlpha,v=this._model.tokensColorTracker,b=v.backgroundIsLight(),S=this._model.options.renderMinimap,x=this._model.options.charRenderer(),w=this._model.options.fontScale,E=this._model.options.minimapCharWidth,A=(S===1?2:2+1)*w,H=r>A?Math.floor((r-A)/2):0,R=p.a/255,M=new Tc(Math.round((p.r-f.r)*R+f.r),Math.round((p.g-f.g)*R+f.g),Math.round((p.b-f.b)*R+f.b),255);let G=0;const X=[];for(let W=0,j=n-t+1;W<j;W++)u[W]&&s7._renderLine(s,M,p.a,b,S,E,v,m,x,G,H,h,c[W],w,r),X[W]=new r7(G),G+=r;const $=o===-1?0:o,O=(a===-1?s.height:a)-$;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,$,s.width,O),new zre(e,s,X)}static _renderUntouchedLines(e,t,n,r,s){const o=[];if(!s){for(let M=0,G=n-t+1;M<G;M++)o[M]=!0;return[-1,-1,o]}const a=s._get(),u=a.imageData.data,c=a.rendLineNumberStart,h=a.lines,f=h.length,p=e.width,m=e.data,v=(n-t+1)*r*p*4;let b=-1,S=-1,x=-1,w=-1,E=-1,N=-1,A=0;for(let M=t;M<=n;M++){const G=M-t,X=M-c,$=X>=0&&X<f?h[X].dy:-1;if($===-1){o[G]=!0,A+=r;continue}const I=$*p*4,O=($+r)*p*4,B=A*p*4,W=(A+r)*p*4;w===I&&N===B?(w=O,N=W):(x!==-1&&(m.set(u.subarray(x,w),E),b===-1&&x===0&&x===E&&(b=w),S===-1&&w===v&&x===E&&(S=x)),x=I,w=O,E=B,N=W),o[G]=!1,A+=r}x!==-1&&(m.set(u.subarray(x,w),E),b===-1&&x===0&&x===E&&(b=w),S===-1&&w===v&&x===E&&(S=x));const H=b===-1?-1:b/(p*4),R=S===-1?-1:S/(p*4);return[H,R,o]}static _renderLine(e,t,n,r,s,o,a,u,c,h,f,p,m,v,b){const S=m.content,x=m.tokens,w=e.width-o,E=b===1;let N=m0,A=0,H=0;for(let R=0,M=x.getCount();R<M;R++){const G=x.getEndOffset(R),X=x.getForeground(R),$=a.getColor(X);for(;A<G;A++){if(N>w)return;const I=S.charCodeAt(A);if(I===9){const O=p-(A+H)%p;H+=O-1,N+=O*o}else if(I===32)N+=o;else{const O=qg(I)?2:1;for(let B=0;B<O;B++)if(s===2?c.blockRenderChar(e,N,h+f,$,u,t,n,E):c.renderChar(e,N,h+f,I,$,u,t,n,v,r,E),N+=o,N>w)return}}}}}class Ure{constructor(e,t,n){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=n,this._values=[];for(let r=0,s=this._endLineNumber-this._startLineNumber+1;r<s;r++)this._values[r]=n}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}Cr((i,e)=>{const t=i.getColor(oOe);t&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${t}; }`);const n=i.getColor(aOe);n&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${n}; }`);const r=i.getColor(lOe);r&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${r}; }`);const s=i.getColor(kE);s&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${s} -6px 0 6px -6px inset; }`)});class h3e extends jc{constructor(e){super(e);const n=this._context.configuration.options.get(130);this._widgets={},this._verticalScrollbarWidth=n.verticalScrollbarWidth,this._minimapWidth=n.minimap.minimapWidth,this._horizontalScrollbarHeight=n.horizontalScrollbarHeight,this._editorHeight=n.height,this._editorWidth=n.width,this._domNode=li(document.createElement("div")),Gg.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const n=this._context.configuration.options.get(130);return this._verticalScrollbarWidth=n.verticalScrollbarWidth,this._minimapWidth=n.minimap.minimapWidth,this._horizontalScrollbarHeight=n.horizontalScrollbarHeight,this._editorHeight=n.height,this._editorWidth=n.width,!0}addWidget(e){const t=li(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const n=this._widgets[e.getId()];return n.preference===t?!1:(n.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.parentNode.removeChild(r),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(e.preference===null){t.unsetTop();return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const n=t.domNode.clientHeight;t.setTop(this._editorHeight-n-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(t.setTop(0),t.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let n=0,r=t.length;n<r;n++){const s=t[n];this._renderWidget(this._widgets[s])}}}class f3e{constructor(e,t){const n=e.options;this.lineHeight=n.get(58),this.pixelRatio=n.get(128),this.overviewRulerLanes=n.get(73),this.renderBorder=n.get(72);const r=t.getColor(y4e);this.borderColor=r?r.toString():null,this.hideCursor=n.get(51);const s=t.getColor(Hpe);this.cursorColor=s?s.transparent(.7).toString():null,this.themeType=t.type;const o=n.get(64),a=o.enabled,u=o.side,c=a?t.getColor(w4e)||Xr.getDefaultBackground():null;c===null||u==="left"?this.backgroundColor=null:this.backgroundColor=Se.Format.CSS.formatHex(c);const f=n.get(130).overviewRuler;this.top=f.top,this.right=f.right,this.domWidth=f.width,this.domHeight=f.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[p,m]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=p,this.w=m}_initLanes(e,t,n){const r=t-e;if(n>=3){const s=Math.floor(r/3),o=Math.floor(r/3),a=r-s-o,u=e,c=u+s,h=u+s+a;return[[0,u,c,u,h,u,c,u],[0,s,a,s+a,o,s+a+o,a+o,s+a+o]]}else if(n===2){const s=Math.floor(r/2),o=r-s,a=e,u=a+s;return[[0,a,a,a,u,a,a,a],[0,s,s,s,o,s+o,s+o,s+o]]}else{const s=e,o=r;return[[0,s,s,s,s,s,s,s],[0,o,o,o,o,o,o,o]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class g3e extends jc{constructor(e){super(e),this._domNode=li(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Xr.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new f3e(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,n=e.selections.length;t<n;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(Ee.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const e=this._settings.canvasWidth,t=this._settings.canvasHeight,n=this._settings.lineHeight,r=this._context.viewLayout,s=this._context.viewLayout.getScrollHeight(),o=t/s,a=this._context.model.getAllOverviewRulerDecorations(this._context.theme),u=6*this._settings.pixelRatio|0,c=u/2|0,h=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?h.clearRect(0,0,e,t):(h.fillStyle=this._settings.backgroundColor,h.fillRect(0,0,e,t));const f=this._settings.x,p=this._settings.w;a.sort(lme.cmp);for(const m of a){const v=m.color,b=m.data;h.fillStyle=v;let S=0,x=0,w=0;for(let E=0,N=b.length/3;E<N;E++){const A=b[3*E],H=b[3*E+1],R=b[3*E+2];let M=r.getVerticalOffsetForLineNumber(H)*o|0,G=(r.getVerticalOffsetForLineNumber(R)+n)*o|0;if(G-M<u){let $=(M+G)/2|0;$<c?$=c:$+c>t&&($=t-c),M=$-c,G=$+c}M>w+1||A!==S?(E!==0&&h.fillRect(f[S],x,p[S],w-x),S=A,x=M,w=G):G>w&&(w=G)}h.fillRect(f[S],x,p[S],w-x)}if(!this._settings.hideCursor&&this._settings.cursorColor){const m=2*this._settings.pixelRatio|0,v=m/2|0,b=this._settings.x[7],S=this._settings.w[7];h.fillStyle=this._settings.cursorColor;let x=-100,w=-100;for(let E=0,N=this._cursorPositions.length;E<N;E++){const A=this._cursorPositions[E];let H=r.getVerticalOffsetForLineNumber(A.lineNumber)*o|0;H<v?H=v:H+v>t&&(H=t-v);const R=H-v,M=R+m;R>w+1?(E!==0&&h.fillRect(b,x,S,w-x),x=R,w=M):M>w&&(w=M)}h.fillRect(b,x,S,w-x)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(h.beginPath(),h.lineWidth=1,h.strokeStyle=this._settings.borderColor,h.moveTo(0,0),h.lineTo(0,t),h.stroke(),h.moveTo(0,0),h.lineTo(e,0),h.stroke())}}class jre{constructor(e,t,n){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=n|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class PM{constructor(e,t,n){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class p3e{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(PM.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),r=Math.floor(this._outerHeight),s=n/r,o=Math.floor(4*this._pixelRatio/2);let a=[];for(let u=0,c=this._zones.length;u<c;u++){const h=this._zones[u];if(!e){const w=h.getColorZones();if(w){a.push(w);continue}}const f=Math.floor(s*this._getVerticalOffsetForLine(h.startLineNumber)),p=Math.floor(s*(this._getVerticalOffsetForLine(h.endLineNumber)+t));let m=Math.floor((f+p)/2),v=p-m;v<o&&(v=o),m-v<0&&(m=v),m+v>n&&(m=n-v);const b=h.color;let S=this._color2Id[b];S||(S=++this._lastAssignedId,this._color2Id[b]=S,this._id2Color[S]=b);const x=new jre(m-v,m+v,S);h.setColorZone(x),a.push(x)}return this._colorZonesInvalid=!1,a.sort(jre.compare),a}}class m3e extends GP{constructor(e,t){super(),this._context=e;const n=this._context.configuration.options;this._domNode=li(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new p3e(r=>this._context.viewLayout.getVerticalOffsetForLineNumber(r)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(n.get(58)),this._zoneManager.setPixelRatio(n.get(128)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(t.get(58)),this._render()),e.hasChanged(128)&&(this._zoneManager.setPixelRatio(t.get(128)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),n=this._zoneManager.resolveColorZones(),r=this._zoneManager.getId2Color(),s=this._domNode.domNode.getContext("2d");return s.clearRect(0,0,e,t),n.length>0&&this._renderOneLane(s,n,r,e),!0}_renderOneLane(e,t,n,r){let s=0,o=0,a=0;for(const u of t){const c=u.colorId,h=u.from,f=u.to;c!==s?(e.fillRect(0,o,r,a-o),s=c,e.fillStyle=n[s],o=h,a=f):a>=h?a=Math.max(a,f):(e.fillRect(0,o,r,a-o),o=h,a=f)}e.fillRect(0,o,r,a-o)}}class _3e extends jc{constructor(e){super(e),this.domNode=li(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:r}=this._context.model.getTextModelOptions(),s=r;let o=t-e;for(;o>0;){const a=li(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(s),this.domNode.appendChild(a),this._renderedRulers.push(a),o--}return}let n=e-t;for(;n>0;){const r=this._renderedRulers.pop();this.domNode.removeChild(r),n--}}render(e){this._ensureRulersCount();for(let t=0,n=this._rulers.length;t<n;t++){const r=this._renderedRulers[t],s=this._rulers[t];r.setBoxShadow(s.color?`1px 0 0 0 ${s.color} inset`:""),r.setHeight(Math.min(e.scrollHeight,1e6)),r.setLeft(s.column*this._typicalHalfwidthCharacterWidth)}}}Cr((i,e)=>{const t=i.getColor(b4e);t&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${t} inset; }`)});class v3e extends jc{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const n=this._context.configuration.options.get(91);this._useShadows=n.useShadows,this._domNode=li(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(130);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}onConfigurationChanged(e){const n=this._context.configuration.options.get(91);return this._useShadows=n.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}Cr((i,e)=>{const t=i.getColor(kE);t&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${t} 0 6px 6px -6px inset; }`)});class b3e{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class C3e{constructor(e,t){this.lineNumber=e,this.ranges=t}}function y3e(i){return new b3e(i)}function w3e(i){return new C3e(i.lineNumber,i.ranges.map(y3e))}class ts extends AE{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,n=e.length;t<n;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,n){const r=this._typicalHalfwidthCharacterWidth/4;let s=null,o=null;if(n&&n.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!s&&c<n.length;c++)n[c].lineNumber===a&&(s=n[c].ranges[0]);const u=t[t.length-1].lineNumber;if(u===e.endLineNumber)for(let c=n.length-1;!o&&c>=0;c--)n[c].lineNumber===u&&(o=n[c].ranges[0]);s&&!s.startStyle&&(s=null),o&&!o.startStyle&&(o=null)}for(let a=0,u=t.length;a<u;a++){const c=t[a].ranges[0],h=c.left,f=c.left+c.width,p={top:0,bottom:0},m={top:0,bottom:0};if(a>0){const v=t[a-1].ranges[0].left,b=t[a-1].ranges[0].left+t[a-1].ranges[0].width;k5(h-v)<r?p.top=2:h>v&&(p.top=1),k5(f-b)<r?m.top=2:v<f&&f<b&&(m.top=1)}else s&&(p.top=s.startStyle.top,m.top=s.endStyle.top);if(a+1<u){const v=t[a+1].ranges[0].left,b=t[a+1].ranges[0].left+t[a+1].ranges[0].width;k5(h-v)<r?p.bottom=2:v<h&&h<b&&(p.bottom=1),k5(f-b)<r?m.bottom=2:f<b&&(m.bottom=1)}else o&&(p.bottom=o.startStyle.bottom,m.bottom=o.endStyle.bottom);c.startStyle=p,c.endStyle=m}}_getVisibleRangesWithStyle(e,t,n){const s=(t.linesVisibleRangesForRange(e,!0)||[]).map(w3e);return!this._visibleRangesHaveGaps(s)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,s,n),s}_createSelectionPiece(e,t,n,r,s){return'<div class="cslr '+n+'" style="top:'+e.toString()+"px;left:"+r.toString()+"px;width:"+s.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,n,r){if(r.length===0)return;const s=!!r[0].ranges[0].startStyle,o=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),u=r[0].lineNumber,c=r[r.length-1].lineNumber;for(let h=0,f=r.length;h<f;h++){const p=r[h],m=p.lineNumber,v=m-t,b=n&&(m===c||m===u)?a:o,S=n&&m===u?1:0;let x="",w="";for(let E=0,N=p.ranges.length;E<N;E++){const A=p.ranges[E];if(s){const R=A.startStyle,M=A.endStyle;if(R.top===1||R.bottom===1){x+=this._createSelectionPiece(S,b,ts.SELECTION_CLASS_NAME,A.left-ts.ROUNDED_PIECE_WIDTH,ts.ROUNDED_PIECE_WIDTH);let G=ts.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(G+=" "+ts.SELECTION_TOP_RIGHT),R.bottom===1&&(G+=" "+ts.SELECTION_BOTTOM_RIGHT),x+=this._createSelectionPiece(S,b,G,A.left-ts.ROUNDED_PIECE_WIDTH,ts.ROUNDED_PIECE_WIDTH)}if(M.top===1||M.bottom===1){x+=this._createSelectionPiece(S,b,ts.SELECTION_CLASS_NAME,A.left+A.width,ts.ROUNDED_PIECE_WIDTH);let G=ts.EDITOR_BACKGROUND_CLASS_NAME;M.top===1&&(G+=" "+ts.SELECTION_TOP_LEFT),M.bottom===1&&(G+=" "+ts.SELECTION_BOTTOM_LEFT),x+=this._createSelectionPiece(S,b,G,A.left+A.width,ts.ROUNDED_PIECE_WIDTH)}}let H=ts.SELECTION_CLASS_NAME;if(s){const R=A.startStyle,M=A.endStyle;R.top===0&&(H+=" "+ts.SELECTION_TOP_LEFT),R.bottom===0&&(H+=" "+ts.SELECTION_BOTTOM_LEFT),M.top===0&&(H+=" "+ts.SELECTION_TOP_RIGHT),M.bottom===0&&(H+=" "+ts.SELECTION_BOTTOM_RIGHT)}w+=this._createSelectionPiece(S,b,H,A.left,A.width)}e[v][0]+=x,e[v][1]+=w}}prepareRender(e){const t=[],n=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let o=n;o<=r;o++){const a=o-n;t[a]=["",""]}const s=[];for(let o=0,a=this._selections.length;o<a;o++){const u=this._selections[o];if(u.isEmpty()){s[o]=null;continue}const c=this._getVisibleRangesWithStyle(u,e,this._previousFrameVisibleRangesWithStyle[o]);s[o]=c,this._actualRenderOneSelection(t,n,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=t.map(([o,a])=>o+a)}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}ts.SELECTION_CLASS_NAME="selected-text";ts.SELECTION_TOP_LEFT="top-left-radius";ts.SELECTION_BOTTOM_LEFT="bottom-left-radius";ts.SELECTION_TOP_RIGHT="top-right-radius";ts.SELECTION_BOTTOM_RIGHT="bottom-right-radius";ts.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";ts.ROUNDED_PIECE_WIDTH=10;Cr((i,e)=>{const t=i.getColor(r1);t&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const n=i.getColor(qX);n&&e.addRule(`.monaco-editor .selected-text { background-color: ${n}; }`);const r=i.getColor(lAe);r&&!r.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${r}; }`)});function k5(i){return i<0?-i:i}class Kre{constructor(e,t,n,r,s,o){this.top=e,this.left=t,this.width=n,this.height=r,this.textContent=s,this.textContentClassName=o}}class qre{constructor(e){this._context=e;const t=this._context.configuration.options,n=t.get(43);this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=li(document.createElement("div")),this._domNode.setClassName(`cursor ${mC}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Qa.applyFontInfo(this._domNode,n),this._domNode.setDisplay("none"),this._position=new Ee(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(43);return this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),Qa.applyFontInfo(this._domNode,n),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===Eo.Line||this._cursorStyle===Eo.LineThin){const p=e.visibleRangeForPosition(this._position);if(!p||p.outsideRenderedLine)return null;let m;if(this._cursorStyle===Eo.Line){if(m=wie(this._lineCursorWidth>0?this._lineCursorWidth:2),m>2){const S=this._context.model.getLineContent(this._position.lineNumber),x=wF(S,this._position.column-1);t=S.substr(this._position.column-1,x)}}else m=wie(1);let v=p.left;m>=2&&v>=1&&(v-=1);const b=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new Kre(b,v,m,this._lineHeight,t,"")}const n=this._context.model.getLineContent(this._position.lineNumber),r=wF(n,this._position.column-1),s=e.linesVisibleRangesForRange(new Q(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+r),!1);if(!s||s.length===0)return null;const o=s[0];if(o.outsideRenderedLine||o.ranges.length===0)return null;const a=o.ranges[0],u=a.width<1?this._typicalHalfwidthCharacterWidth:a.width;let c="";if(this._cursorStyle===Eo.Block){const p=this._context.model.getViewLineData(this._position.lineNumber);t=n.substr(this._position.column-1,r);const m=p.tokens.findTokenIndexAtOffset(this._position.column-1);c=p.tokens.getClassName(m)}let h=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,f=this._lineHeight;return(this._cursorStyle===Eo.Underline||this._cursorStyle===Eo.UnderlineThin)&&(h+=this._lineHeight-2,f=2),new Kre(h,a.left,u,f,t,c)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${mC} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class FM extends jc{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new qre(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=li(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new el,this._cursorFlatBlinkInterval=new UP,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let n=0,r=this._secondaryCursors.length;n<r;n++)this._secondaryCursors[n].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const n=t.length-this._secondaryCursors.length;for(let r=0;r<n;r++){const s=new qre(this._context);this._domNode.domNode.insertBefore(s.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(s)}}else if(this._secondaryCursors.length>t.length){const n=this._secondaryCursors.length-t.length;for(let r=0;r<n;r++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let n=0;n<t.length;n++)this._secondaryCursors[n].onCursorPositionChanged(t[n])}onCursorStateChanged(e){const t=[];for(let r=0,s=e.selections.length;r<s;r++)t[r]=e.selections[r].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const n=e.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=n=>{for(let r=0,s=e.ranges.length;r<s;r++)if(e.ranges[r].fromLineNumber<=n.lineNumber&&n.lineNumber<=e.ranges[r].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(t(n.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,n=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!n&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},FM.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},FM.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Eo.Line:e+=" cursor-line-style";break;case Eo.Block:e+=" cursor-block-style";break;case Eo.Underline:e+=" cursor-underline-style";break;case Eo.LineThin:e+=" cursor-line-thin-style";break;case Eo.BlockOutline:e+=" cursor-block-outline-style";break;case Eo.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],n=0;const r=this._primaryCursor.render(e);r&&(t[n++]=r);for(let s=0,o=this._secondaryCursors.length;s<o;s++){const a=this._secondaryCursors[s].render(e);a&&(t[n++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}}FM.BLINK_INTERVAL=500;Cr((i,e)=>{const t=i.getColor(Hpe);if(t){let n=i.getColor(_4e);n||(n=t.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${n}; }`),i.type==="hc"&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}});const i$=()=>{throw new Error("Invalid change accessor")};class S3e extends jc{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(130);this._lineHeight=t.get(58),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=li(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=li(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const r of e)t.set(r.id,r);let n=!1;return this._context.model.changeWhitespace(r=>{const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const u=s[o],c=this._zones[u],h=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=h.isInHiddenArea;const f=t.get(u);f&&(f.afterLineNumber!==h.afterViewLineNumber||f.height!==h.heightInPx)&&(r.changeOneWhitespace(u,h.afterViewLineNumber,h.heightInPx),this._safeCallOnComputedHeight(c.delegate,h.heightInPx),n=!0)}}),n}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(130);return this._lineHeight=t.get(58),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn<"u"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn<"u")t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const o=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new Ee(o,this._context.model.getModelLineMaxColumn(o))}let n;t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?n=this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):n=this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),s=this._context.model.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!s,afterViewLineNumber:r.lineNumber,heightInPx:s?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace(n=>{const r={addZone:s=>(t=!0,this._addZone(n,s)),removeZone:s=>{s&&(t=this._removeZone(n,s)||t)},layoutZone:s=>{s&&(t=this._layoutZone(n,s)||t)}};x3e(e,r),r.addZone=i$,r.removeZone=i$,r.layoutZone=i$}),t}_addZone(e,t){const n=this._computeWhitespaceProps(t),s={whitespaceId:e.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(t),n.heightInPx,n.minWidthInPx),delegate:t,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:li(t.domNode),marginDomNode:t.marginDomNode?li(t.marginDomNode):null};return this._safeCallOnComputedHeight(s.delegate,n.heightInPx),s.domNode.setPosition("absolute"),s.domNode.domNode.style.width="100%",s.domNode.setDisplay("none"),s.domNode.setAttribute("monaco-view-zone",s.whitespaceId),this.domNode.appendChild(s.domNode),s.marginDomNode&&(s.marginDomNode.setPosition("absolute"),s.marginDomNode.domNode.style.width="100%",s.marginDomNode.setDisplay("none"),s.marginDomNode.setAttribute("monaco-view-zone",s.whitespaceId),this.marginDomNode.appendChild(s.marginDomNode)),this._zones[s.whitespaceId]=s,this.setShouldRender(),s.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const n=this._zones[t];return delete this._zones[t],e.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const n=this._zones[t],r=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=r.isInHiddenArea,e.changeOneWhitespace(n.whitespaceId,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(n.delegate,r.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(n){vn(n)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(n){vn(n)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,n={};let r=!1;for(const o of t)this._zones[o.id].isInHiddenArea||(n[o.id]=o,r=!0);const s=Object.keys(this._zones);for(let o=0,a=s.length;o<a;o++){const u=s[o],c=this._zones[u];let h=0,f=0,p="none";n.hasOwnProperty(u)?(h=n[u].verticalOffset-e.bigNumbersDelta,f=n[u].height,p="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(n[u].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(h),c.domNode.setHeight(f),c.domNode.setDisplay(p),c.marginDomNode&&(c.marginDomNode.setTop(h),c.marginDomNode.setHeight(f),c.marginDomNode.setDisplay(p))}r&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function x3e(i,e){try{return i(e)}catch(t){vn(t)}}class E3e{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class L3e{constructor(e,t,n){this.configuration=e,this.theme=new E3e(t),this.model=n,this.viewLayout=n.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class D3e{constructor(e,t,n,r){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=n,this._model=r,this.visibleRange=new Q(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class T3e extends GP{constructor(e,t,n,r,s,o){super(),this._selections=[new xt(1,1,1,1)],this._renderAnimationFrame=null;const a=new IPe(t,r,s,e);this._context=new L3e(t,n.getColorTheme(),r),this._configPixelRatio=this._context.configuration.options.get(128),this._context.addEventHandler(this),this._register(n.onDidColorThemeChange(b=>{this._context.theme.update(b),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new wPe(this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=li(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=li(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=li(document.createElement("div")),Gg.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new XPe(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new KB(this._context,this._linesContent),this._viewZones=new S3e(this._context),this._viewParts.push(this._viewZones);const u=new g3e(this._context);this._viewParts.push(u);const c=new v3e(this._context);this._viewParts.push(c);const h=new APe(this._context);this._viewParts.push(h),h.addDynamicOverlay(new PPe(this._context)),h.addDynamicOverlay(new ts(this._context)),h.addDynamicOverlay(new JPe(this._context)),h.addDynamicOverlay(new BPe(this._context));const f=new OPe(this._context);this._viewParts.push(f),f.addDynamicOverlay(new FPe(this._context)),f.addDynamicOverlay(new QPe(this._context)),f.addDynamicOverlay(new r3e(this._context)),f.addDynamicOverlay(new i3e(this._context)),f.addDynamicOverlay(new Tx(this._context));const p=new ty(this._context);p.getDomNode().appendChild(this._viewZones.marginDomNode),p.getDomNode().appendChild(f.getDomNode()),this._viewParts.push(p),this._contentWidgets=new MPe(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new FM(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new h3e(this._context),this._viewParts.push(this._overlayWidgets);const m=new _3e(this._context);this._viewParts.push(m);const v=new d3e(this._context);if(this._viewParts.push(v),u){const b=this._scrollbar.getOverviewRulerLayoutInfo();b.parent.insertBefore(u.getDomNode(),b.insertBefore)}this._linesContent.appendChild(h.getDomNode()),this._linesContent.appendChild(m.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(p.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(c.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(v.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),o?o.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new yPe(this._context,a,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new lPe(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ee(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ee(e,t)))}}_applyLayout(){const t=this._context.configuration.options.get(130);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(127)+" "+DF(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(128),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=zfe(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){I3e(()=>this._actualRender())}_getViewPartsToRender(){let e=[],t=0;for(const n of this._viewParts)n.shouldRender()&&(e[t++]=n);return e}_actualRender(){if(!CX(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const n=new D3e(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(n),this._viewLines.shouldRender()&&(this._viewLines.renderText(n),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const r=new COe(this._context.viewLayout,n,this._viewLines);for(const s of e)s.prepareRender(r);for(const s of e)s.render(r),s.onDidRender();Math.abs(dM()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const n=this._context.model.validateModelPosition({lineNumber:e,column:t}),r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n);this._flushAccumulatedAndRenderNow();const s=this._viewLines.visibleRangeForPosition(new Ee(r.lineNumber,r.column));return s?s.left:-1}getTargetAtClientPoint(e,t){const n=this._pointerHandler.getTargetAtClientPoint(e,t);return n?UB.convertViewToModelMouseTarget(n,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new m3e(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const n of this._viewParts)n.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(t===null){const r=e.position?e.position.position:null;r!==null&&(t=new Q(r.lineNumber,r.column,r.lineNumber,r.column))}const n=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,n),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function I3e(i){try{return i()}catch(e){vn(e)}}class o7{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new So(new Q(1,1,1,1),0,new Ee(1,1),0),new So(new Q(1,1,1,1),0,new Ee(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Vn(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return xt.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,n){this._setState(e,t,n)}static _validatePositionWithCache(e,t,n,r){return t.equals(n)?r:e.normalizePosition(t,2)}static _validateViewState(e,t){const n=t.position,r=t.selectionStart.getStartPosition(),s=t.selectionStart.getEndPosition(),o=e.normalizePosition(n,2),a=this._validatePositionWithCache(e,r,n,o),u=this._validatePositionWithCache(e,s,r,a);return n.equals(o)&&r.equals(a)&&s.equals(u)?t:new So(Q.fromPositions(a,u),t.selectionStartLeftoverVisibleColumns+r.column-a.column,o,t.leftoverVisibleColumns+n.column-o.column)}_setState(e,t,n){if(n&&(n=o7._validateViewState(e.viewModel,n)),t){const r=e.model.validateRange(t.selectionStart),s=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),a=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new So(r,s,o,a)}else{if(!n)return;const r=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(n.selectionStart)),s=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(n.position));t=new So(r,n.selectionStartLeftoverVisibleColumns,s,n.leftoverVisibleColumns)}if(n){const r=e.coordinatesConverter.validateViewRange(n.selectionStart,t.selectionStart),s=e.coordinatesConverter.validateViewPosition(n.position,t.position);n=new So(r,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}else{const r=e.coordinatesConverter.convertModelPositionToViewPosition(new Ee(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),s=e.coordinatesConverter.convertModelPositionToViewPosition(new Ee(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),o=new Q(r.lineNumber,r.column,s.lineNumber,s.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);n=new So(o,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=n,this._updateTrackedRange(e)}}class Gre{constructor(e){this.context=e,this.primaryCursor=new o7(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,n=this.secondaryCursors.length;t<n;t++){const r=this.secondaryCursors[t].viewState.position;r.isBefore(e)&&(e=r)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,n=this.secondaryCursors.length;t<n;t++){const r=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(r)&&(e=r)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(Vn.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){e!==null&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.secondaryCursors.length,n=e.length;if(t<n){let r=n-t;for(let s=0;s<r;s++)this._addSecondaryCursor()}else if(t>n){let r=t-n;for(let s=0;s<r;s++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let r=0;r<n;r++)this.secondaryCursors[r].setState(this.context,e[r].modelState,e[r].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new o7(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(this.secondaryCursors.length===0)return;let e=this._getAll(),t=[];for(let n=0,r=e.length;n<r;n++)t.push({index:n,selection:e[n].modelState.selection});t.sort((n,r)=>n.selection.startLineNumber===r.selection.startLineNumber?n.selection.startColumn-r.selection.startColumn:n.selection.startLineNumber-r.selection.startLineNumber);for(let n=0;n<t.length-1;n++){const r=t[n],s=t[n+1],o=r.selection,a=s.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let u;if(a.isEmpty()||o.isEmpty()?u=a.getStartPosition().isBeforeOrEqual(o.getEndPosition()):u=a.getStartPosition().isBefore(o.getEndPosition()),u){const c=r.index<s.index?n:n+1,h=r.index<s.index?n+1:n,f=t[h].index,p=t[c].index,m=t[h].selection,v=t[c].selection;if(!m.equalsSelection(v)){const b=m.plusRange(v),S=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn,x=v.selectionStartLineNumber===v.startLineNumber&&v.selectionStartColumn===v.startColumn;let w;f===this.lastAddedCursorIndex?(w=S,this.lastAddedCursorIndex=p):w=x;let E;w?E=new xt(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn):E=new xt(b.endLineNumber,b.endColumn,b.startLineNumber,b.startColumn),t[c].selection=E;const N=Vn.fromModelSelection(E);e[p].setState(this.context,N.modelState,N.viewState)}for(const b of t)b.index>f&&b.index--;e.splice(f,1),t.splice(h,1),this._removeSecondaryCursor(f-1),n--}}}}class k3e{constructor(){this.type=0}}class N3e{constructor(){this.type=1}}class A3e{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class O3e{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class yw{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class N5{constructor(){this.type=5}}class M3e{constructor(e){this.type=6,this.isFocused=e}}class R3e{constructor(){this.type=7}}class A5{constructor(){this.type=8}}class ume{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class iK{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class rK{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class J6{constructor(e,t,n,r,s,o){this.type=12,this.source=e,this.range=t,this.selections=n,this.verticalType=r,this.revealHorizontal=s,this.scrollType=o}}class P3e{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class F3e{constructor(){this.type=14}}class B3e{constructor(e){this.type=15,this.ranges=e}}class W3e{constructor(){this.type=16}}let V3e=class{constructor(){this.type=17}};class H3e extends Me{constructor(){super(),this._onEvent=this._register(new ye),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,n=this._outgoingEvents.length;t<n;t++)if(this._outgoingEvents[t].kind===e.kind){this._outgoingEvents[t]=this._outgoingEvents[t].merge(e);return}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new $3e),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const n of e)this._addOutgoingEvent(n);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const n of t)n.handleEvents(e)}}}class $3e{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class DQ{constructor(e,t,n,r){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=n,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return e.kind!==0?this:new DQ(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class TQ{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return e.kind!==1?this:new TQ(this.oldHasFocus,e.hasFocus)}}class IQ{constructor(e,t,n,r,s,o,a,u){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=n,this._oldScrollTop=r,this.scrollWidth=s,this.scrollLeft=o,this.scrollHeight=a,this.scrollTop=u,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return e.kind!==2?this:new IQ(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Yre{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class a7{constructor(e,t,n,r,s,o,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=n,this.modelVersionId=r,this.source=s,this.reason=o,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const n=e.length,r=t.length;if(n!==r)return!1;for(let s=0;s<n;s++)if(!e[s].equalsSelection(t[s]))return!1;return!0}isNoOp(){return a7._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return e.kind!==6?this:new a7(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class z3e{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class r${constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class Zre{constructor(e,t,n){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=n}static getAllAutoClosedCharacters(e){let t=[];for(const n of e)t=t.concat(n.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const n=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);n&&e.push(n)}return e}isValid(e){let t=[];for(let n=0;n<this._autoClosedEnclosingDecorations.length;n++){const r=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[n]);if(r&&(t.push(r),r.startLineNumber!==r.endLineNumber))return!1}t.sort(Q.compareRangesUsingStarts),e.sort(Q.compareRangesUsingStarts);for(let n=0;n<e.length;n++)if(n>=t.length||!t[n].strictContainsRange(e[n]))return!1;return!0}}class kx extends Me{constructor(e,t,n,r){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=n,this.context=new kre(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors=new Gre(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=ui(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new kre(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const n=this._autoClosedActions[t];n.isValid(e)||(n.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,n,r){let s=!1;r!==null&&r.length>kx.MAX_CURSOR_COUNT&&(r=r.slice(0,kx.MAX_CURSOR_COUNT),s=!0);const o=new r$(this._model,this);return this._cursors.setStates(r),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,n,o,s)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,n,r){const s=this._cursors.getViewPositions();if(s.length>1){this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,n,r);return}else{const o=s[0],a=new Q(o.lineNumber,o.column,o.lineNumber,o.column);this._emitCursorRevealRange(e,t,a,null,0,n,r)}}_revealPrimaryCursor(e,t,n,r,s){const o=this._cursors.getViewPositions();if(o.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),n,r,s);else{const a=o[0],u=new Q(a.lineNumber,a.column,a.lineNumber,a.column);this._emitCursorRevealRange(e,t,u,null,n,r,s)}}_emitCursorRevealRange(e,t,n,r,s,o,a){e.emitViewEvent(new J6(t,n,r,s,o,a))}saveState(){let e=[];const t=this._cursors.getSelections();for(let n=0,r=t.length;n<r;n++){const s=t[n];e.push({inSelectionMode:!s.isEmpty(),selectionStart:{lineNumber:s.selectionStartLineNumber,column:s.selectionStartColumn},position:{lineNumber:s.positionLineNumber,column:s.positionColumn}})}return e}restoreState(e,t){let n=[];for(let r=0,s=t.length;r<s;r++){const o=t[r];let a=1,u=1;o.position&&o.position.lineNumber&&(a=o.position.lineNumber),o.position&&o.position.column&&(u=o.position.column);let c=a,h=u;o.selectionStart&&o.selectionStart.lineNumber&&(c=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(h=o.selectionStart.column),n.push({selectionStartLineNumber:c,selectionStartColumn:h,positionLineNumber:a,positionColumn:u})}this.setStates(e,"restoreState",0,Vn.fromModelSelections(n)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(t instanceof kpe){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;const n=t.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new Gre(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const r=Vn.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,r)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const r=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Vn.fromModelSelections(r))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),n=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:_r.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:n.lineNumber,toViewVisualColumn:_r.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,n)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,n,r){this.setStates(e,t,r,Vn.fromModelSelections(n))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let n=[],r=[];for(let a=0,u=e.length;a<u;a++)n.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),r.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const s=this._model.deltaDecorations([],n),o=this._model.deltaDecorations([],r);this._autoClosedActions.push(new Zre(this._model,s,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=U3e.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let n=[],r=[];for(let s=0;s<e.commands.length;s++){const o=e.commands[s];o instanceof eme&&o.enclosingRange&&o.closeCharacterRange&&(n.push(o.closeCharacterRange),r.push(o.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,r),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,n,r,s){const o=new r$(this._model,this);if(o.equals(r))return!1;const a=this._cursors.getSelections(),u=this._cursors.getViewSelections();if(e.emitViewEvent(new O3e(u,a)),!r||r.cursorState.length!==o.cursorState.length||o.cursorState.some((c,h)=>!c.modelState.equals(r.cursorState[h].modelState))){const c=r?r.cursorState.map(f=>f.modelState.selection):null,h=r?r.modelVersionId:0;e.emitOutgoingEvent(new a7(c,a,h,o.modelVersionId,t||"keyboard",n,s))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];if(!s.text||s.text.indexOf(`
`)>=0)return null;const o=s.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const a=o[1],u=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!u||u.length!==1)return null;const c=u[0].open,h=s.text.length-o[2].length-1,f=s.text.lastIndexOf(c,h-1);if(f===-1)return null;t.push([f,h])}return t}executeEdits(e,t,n,r){let s=null;t==="snippet"&&(s=this._findAutoClosingPairs(n)),s&&(n[0]._isTracked=!0);let o=[],a=[];const u=this._model.pushEditOperations(this.getSelections(),n,c=>{if(s)for(let f=0,p=s.length;f<p;f++){const[m,v]=s[f],b=c[f],S=b.range.startLineNumber,x=b.range.startColumn-1+m,w=b.range.startColumn-1+v;o.push(new Q(S,w+1,S,w+2)),a.push(new Q(S,x+1,S,w+2))}const h=r(c);return h&&(this._isHandling=!0),h});u&&(this._isHandling=!1,this.setSelections(e,t,u,0)),o.length>0&&this._pushAutoClosedAction(o,a)}_executeEdit(e,t,n,r=0){if(this.context.cursorConfig.readOnly)return;const s=new r$(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(o){vn(o)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,n,r,s,!1)&&this._revealPrimaryCursor(t,n,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return Zre.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit(()=>{t==="keyboard"&&(this._executeEditOperation(Fr.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,t)}type(e,t,n){this._executeEdit(()=>{if(n==="keyboard"){const r=t.length;let s=0;for(;s<r;){const o=wF(t,s),a=t.substr(s,o);this._executeEditOperation(Fr.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),s+=o}}else this._executeEditOperation(Fr.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,n)}compositionType(e,t,n,r,s,o){if(t.length===0&&n===0&&r===0){if(s!==0){const a=this.getSelections().map(u=>{const c=u.getPosition();return new xt(c.lineNumber,c.column+s,c.lineNumber,c.column+s)});this.setSelections(e,o,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(Fr.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,n,r,s))},e,o)}paste(e,t,n,r,s){this._executeEdit(()=>{this._executeEditOperation(Fr.paste(this.context.cursorConfig,this._model,this.getSelections(),t,n,r||[]))},e,s,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(ny.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,n){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Al(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,n)}executeCommands(e,t,n){this._executeEdit(()=>{this._executeEditOperation(new Al(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,n)}}kx.MAX_CURSOR_COUNT=1e4;class U3e{static executeCommands(e,t,n){const r={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},s=this._innerExecuteCommands(r,n);for(let o=0,a=r.trackedRanges.length;o<a;o++)r.model._setTrackedRange(r.trackedRanges[o],null,0);return s}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const n=this._getEditOperations(e,t);if(n.operations.length===0)return null;const r=n.operations,s=this._getLoserCursorMap(r);if(s.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let o=[];for(let c=0,h=r.length;c<h;c++)s.hasOwnProperty(r[c].identifier.major.toString())||o.push(r[c]);n.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,o,c=>{let h=[];for(let m=0;m<e.selectionsBefore.length;m++)h[m]=[];for(const m of c)m.identifier&&h[m.identifier.major].push(m);const f=(m,v)=>m.identifier.minor-v.identifier.minor;let p=[];for(let m=0;m<e.selectionsBefore.length;m++)h[m].length>0?(h[m].sort(f),p[m]=t[m].computeCursorState(e.model,{getInverseEditOperations:()=>h[m],getTrackedSelection:v=>{const b=parseInt(v,10),S=e.model._getTrackedRange(e.trackedRanges[b]);return e.trackedRangesDirection[b]===0?new xt(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new xt(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}})):p[m]=e.selectionsBefore[m];return p});a||(a=e.selectionsBefore);let u=[];for(let c in s)s.hasOwnProperty(c)&&u.push(parseInt(c,10));u.sort((c,h)=>h-c);for(const c of u)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let n=[],r=!1;for(let s=0,o=t.length;s<o;s++){const a=t[s];if(a){const u=this._getEditOperationsFromCommand(e,s,a);n=n.concat(u.operations),r=r||u.hadTrackedEditOperation}}return{operations:n,hadTrackedEditOperation:r}}static _getEditOperationsFromCommand(e,t,n){let r=[],s=0;const o=(f,p,m=!1)=>{Q.isEmpty(f)&&p===""||r.push({identifier:{major:t,minor:s++},range:f,text:p,forceMoveMarkers:m,isAutoWhitespaceEdit:n.insertsAutoWhitespace})};let a=!1;const h={addEditOperation:o,addTrackedEditOperation:(f,p,m)=>{a=!0,o(f,p,m)},trackSelection:(f,p)=>{const m=xt.liftSelection(f);let v;if(m.isEmpty())if(typeof p=="boolean")p?v=2:v=3;else{const x=e.model.getLineMaxColumn(m.startLineNumber);m.startColumn===x?v=2:v=3}else v=1;const b=e.trackedRanges.length,S=e.model._setTrackedRange(null,m,v);return e.trackedRanges[b]=S,e.trackedRangesDirection[b]=m.getDirection(),b.toString()}};try{n.getEditOperations(e.model,h)}catch(f){return vn(f),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((n,r)=>-Q.compareRangesUsingEnds(n.range,r.range));let t={};for(let n=1;n<e.length;n++){const r=e[n-1],s=e[n];if(Q.getStartPosition(r.range).isBefore(Q.getEndPosition(s.range))){let o;r.identifier.major>s.identifier.major?o=r.identifier.major:o=s.identifier.major,t[o.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===o&&(e.splice(a,1),a<n&&n--,a--);n>0&&n--}}return t}}class cme{constructor(e,t,n,r,s,o){this.id=e,this.label=t,this.alias=n,this._precondition=r,this._run=s,this._contextKeyService=o}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}const t3={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},Xre={getInitialState:()=>YP,tokenize2:(i,e,t,n)=>hQ(0,i,t,n)};function dme(i,e,t=Xre){return K3e(i,e,t||Xre)}function j3e(i,e,t,n,r,s,o){let a="<div>",u=n,c=0,h=!0;for(let f=0,p=e.getCount();f<p;f++){const m=e.getEndOffset(f);if(m<=n)continue;let v="";for(;u<m&&u<r;u++){const b=i.charCodeAt(u);switch(b){case 9:let S=s-(u+c)%s;for(c+=S-1;S>0;)o&&h?(v+="&#160;",h=!1):(v+=" ",h=!0),S--;break;case 60:v+="&lt;",h=!1;break;case 62:v+="&gt;",h=!1;break;case 38:v+="&amp;",h=!1;break;case 0:v+="&#00;",h=!1;break;case 65279:case 8232:case 8233:case 133:v+="",h=!1;break;case 13:v+="&#8203",h=!1;break;case 32:o&&h?(v+="&#160;",h=!1):(v+=" ",h=!0);break;default:v+=String.fromCharCode(b),h=!1}}if(a+=`<span style="${e.getInlineStyle(f,t)}">${v}</span>`,m>r||u>=r)break}return a+="</div>",a}function K3e(i,e,t){let n='<div class="monaco-tokenized-source">';const r=Kg(i);let s=t.getInitialState();for(let o=0,a=r.length;o<a;o++){const u=r[o];o>0&&(n+="<br/>");const c=t.tokenize2(u,!0,s,0);_o.convertToEndOffset(c.tokens,u.length);const f=new _o(c.tokens,u,e).inflate();let p=0;for(let m=0,v=f.getCount();m<v;m++){const b=f.getClassName(m),S=f.getEndOffset(m);n+=`<span class="${b}">${DX(u.substring(p,S))}</span>`,p=S}s=c.endState}return n+="</div>",n}class q3e{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,n=this._changes,r=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,n,r)}}class G3e{constructor(e,t,n,r,s){this.id=e,this.afterLineNumber=t,this.ordinal=n,this.height=r,this.minWidth=s,this.prefixSum=0}}class BM{constructor(e,t,n,r){this._instanceId=oge(++BM.INSTANCE_COUNT),this._pendingChanges=new q3e,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=n,this._paddingBottom=r}static findInsertionIndex(e,t,n){let r=0,s=e.length;for(;r<s;){const o=r+s>>>1;t===e[o].afterLineNumber?n<e[o].ordinal?s=o:r=o+1:t<e[o].afterLineNumber?s=o:r=o+1}return r}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(r,s,o,a)=>{t=!0,r=r|0,s=s|0,o=o|0,a=a|0;const u=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new G3e(u,r,s,o,a)),u},changeOneWhitespace:(r,s,o)=>{t=!0,s=s|0,o=o|0,this._pendingChanges.change({id:r,newAfterLineNumber:s,newHeight:o})},removeWhitespace:r=>{t=!0,this._pendingChanges.remove({id:r})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,n){if((e.length>0||n.length>0)&&(this._minWidth=-1),e.length+t.length+n.length<=1){for(const u of e)this._insertWhitespace(u);for(const u of t)this._changeOneWhitespace(u.id,u.newAfterLineNumber,u.newHeight);for(const u of n){const c=this._findWhitespaceIndex(u.id);c!==-1&&this._removeWhitespace(c)}return}const r=new Set;for(const u of n)r.add(u.id);const s=new Map;for(const u of t)s.set(u.id,u);const o=u=>{let c=[];for(const h of u)if(!r.has(h.id)){if(s.has(h.id)){const f=s.get(h.id);h.afterLineNumber=f.newAfterLineNumber,h.height=f.newHeight}c.push(h)}return c},a=o(this._arr).concat(o(e));a.sort((u,c)=>u.afterLineNumber===c.afterLineNumber?u.ordinal-c.ordinal:u.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=BM.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let n=0,r=t.length;n<r;n++)if(t[n].id===e)return n;return-1}_changeOneWhitespace(e,t,n){const r=this._findWhitespaceIndex(e);if(r!==-1&&(this._arr[r].height!==n&&(this._arr[r].height=n,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)),this._arr[r].afterLineNumber!==t)){const s=this._arr[r];this._removeWhitespace(r),s.afterLineNumber=t,this._insertWhitespace(s)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let n=0,r=this._arr.length;n<r;n++){const s=this._arr[n].afterLineNumber;e<=s&&s<=t?this._arr[n].afterLineNumber=e-1:s>t&&(this._arr[n].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let n=0,r=this._arr.length;n<r;n++){const s=this._arr[n].afterLineNumber;e<=s&&(this._arr[n].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let n=t;n<=e;n++)this._arr[n].prefixSum=this._arr[n-1].prefixSum+this._arr[n].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let n=0,r=t.length-1;for(;n<=r;){const o=(r-n|0)/2|0,a=n+o|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;n=a+1|0}else r=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const n=this._findLastWhitespaceBeforeLineNumber(e)+1;return n<this._arr.length?n:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){this._checkPendingChanges(),e=e|0;let t;e>1?t=this._lineHeight*(e-1):t=0;const n=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return t+n+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,n=this._arr.length;t<n;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,n=this._lineHeight;let r=1,s=t;for(;r<s;){const o=(r+s)/2|0,a=this.getVerticalOffsetForLineNumber(o)|0;if(e>=a+n)r=o+1;else{if(e>=a)return o;s=o}}return r>t?t:r}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const n=this._lineHeight,r=this.getLineNumberAtOrAfterVerticalOffset(e)|0,s=this.getVerticalOffsetForLineNumber(r)|0;let o=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(r)|0;const u=this.getWhitespacesCount()|0;let c,h;a===-1?(a=u,h=o+1,c=0):(h=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let f=s,p=f;const m=5e5;let v=0;s>=m&&(v=Math.floor(s/m)*m,v=Math.floor(v/n)*n,p-=v);const b=[],S=e+(t-e)/2;let x=-1;for(let A=r;A<=o;A++){if(x===-1){const H=f,R=f+n;(H<=S&&S<R||H>S)&&(x=A)}for(f+=n,b[A-r]=p,p+=n;h===A;)p+=c,f+=c,a++,a>=u?h=o+1:(h=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(f>=t){o=A;break}}x===-1&&(x=o);const w=this.getVerticalOffsetForLineNumber(o)|0;let E=r,N=o;return E<N&&s<e&&E++,E<N&&w+n>t&&N--,{bigNumbersDelta:v,startLineNumber:r,endLineNumber:o,relativeVerticalOffset:b,centeredLineNumber:x,completelyVisibleStartLineNumber:E,completelyVisibleEndLineNumber:N}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let n;t>=1?n=this._lineHeight*t:n=0;let r;return e>0?r=this.getWhitespacesAccumulatedHeight(e-1):r=0,n+r+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,n=this.getWhitespacesCount()-1;if(n<0)return-1;const r=this.getVerticalOffsetForWhitespaceIndex(n),s=this.getHeightForWhitespaceIndex(n);if(e>=r+s)return-1;for(;t<n;){const o=Math.floor((t+n)/2),a=this.getVerticalOffsetForWhitespaceIndex(o),u=this.getHeightForWhitespaceIndex(o);if(e>=a+u)t=o+1;else{if(e>=a)return o;n=o}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const n=this.getVerticalOffsetForWhitespaceIndex(t);if(n>e)return null;const r=this.getHeightForWhitespaceIndex(t),s=this.getIdForWhitespaceIndex(t),o=this.getAfterLineNumberForWhitespaceIndex(t);return{id:s,afterLineNumber:o,verticalOffset:n,height:r}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),r=this.getWhitespacesCount()-1;if(n<0)return[];let s=[];for(let o=n;o<=r;o++){const a=this.getVerticalOffsetForWhitespaceIndex(o),u=this.getHeightForWhitespaceIndex(o);if(a>=t)break;s.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:a,height:u})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}BM.INSTANCE_COUNT=0;const Y3e=125;class GA{constructor(e,t,n,r){e=e|0,t=t|0,n=n|0,r=r|0,e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),r<0&&(r=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=n,this.contentHeight=r,this.scrollHeight=Math.max(n,r)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class Z3e extends Me{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new ye),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new GA(0,0,0,0),this._scrollable=this._register(new jB(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const n=t.contentWidth!==e.contentWidth,r=t.contentHeight!==e.contentHeight;(n||r)&&this._onDidContentSizeChange.fire(new DQ(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class X3e extends Me{constructor(e,t,n){super(),this._configuration=e;const r=this._configuration.options,s=r.get(130),o=r.get(74);this._linesLayout=new BM(t,r.get(58),o.top,o.bottom),this._scrollable=this._register(new Z3e(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new GA(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?Y3e:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(t.get(58)),e.hasChanged(74)){const n=t.get(74);this._linesLayout.setPadding(n.top,n.bottom)}if(e.hasChanged(130)){const n=t.get(130),r=n.contentWidth,s=n.height,o=this._scrollable.getScrollDimensions(),a=o.contentWidth;this._scrollable.setScrollDimensions(new GA(r,o.contentWidth,s,this._getContentHeight(r,s,a)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const r=this._configuration.options.get(91);return r.horizontal===2||e>=t?0:r.horizontalScrollbarSize}_getContentHeight(e,t,n){const r=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return r.get(93)?s+=Math.max(0,t-r.get(58)-r.get(74).bottom):s+=this._getHorizontalScrollbarHeight(e,n),s}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,n=e.height,r=e.contentWidth;this._scrollable.setScrollDimensions(new GA(t,e.contentWidth,n,this._getContentHeight(t,n,r)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new Wre(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new Wre(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,n=t.get(131),r=t.get(43);if(n.isViewportWrapping){const s=t.get(130),o=t.get(64);return e>s.contentWidth+r.typicalHalfwidthCharacterWidth&&o.enabled&&o.side==="right"?e+s.verticalScrollbarWidth:e}else{const s=t.get(92)*r.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+s,o)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new GA(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n);return{scrollTop:t,scrollTopWithoutViewZones:t-r,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+e,scrollTop:n.scrollTop+t})}}function s$(i,e){return i===null?e?l7.INSTANCE:u7.INSTANCE:new Q3e(i,e)}class Q3e{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.getOutputLineCount():0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.translateToInputOffset(e,0)}getInputEndOffsetOfOutputLineIndex(e){return this._lineBreakData.translateToInputOffset(e,this._lineBreakData.getMaxOutputOffset(e))}getViewLineContent(e,t,n){this.assertVisible();const r=n>0?this._lineBreakData.breakOffsets[n-1]:0,s=n<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[n]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let o;if(this._lineBreakData.injectionOffsets!==null){const a=this._lineBreakData.injectionOffsets.map((u,c)=>new Bf(0,0,u+1,this._lineBreakData.injectionOptions[c],0));o=Bf.applyInjectedText(e.getLineContent(t),a).substring(r,s)}else o=e.getValueInRange({startLineNumber:t,startColumn:r+1,endLineNumber:t,endColumn:s+1});return n>0&&(o=Qre(this._lineBreakData.wrappedTextIndentLength)+o),o}getViewLineLength(e,t,n){return this.assertVisible(),this._lineBreakData.getLineLength(n)}getViewLineMinColumn(e,t,n){return this.assertVisible(),this._lineBreakData.getMinOutputOffset(n)+1}getViewLineMaxColumn(e,t,n){return this.assertVisible(),this._lineBreakData.getMaxOutputOffset(n)+1}getViewLineData(e,t,n){this.assertVisible();const r=this._lineBreakData,s=n>0?r.wrappedTextIndentLength:0,o=r.injectionOffsets,a=r.injectionOptions;let u,c;if(o){const b=e.getLineTokens(t).withInserted(o.map((E,N)=>({offset:E,text:a[N].content,tokenMetadata:_o.defaultTokenMetadata}))),S=n>0?r.breakOffsets[n-1]:0,x=r.breakOffsets[n];u=b.sliceAndInflate(S,x,s),c=new Array;let w=0;for(let E=0;E<o.length;E++){const N=a[E].content.length,A=o[E]+w,H=o[E]+w+N;if(A>x)break;if(S<H){const R=a[E];if(R.inlineClassName){const M=n>0?r.wrappedTextIndentLength:0,G=M+Math.max(A-S,0),X=M+Math.min(H-S,x);G!==X&&c.push(new o3e(G,X,R.inlineClassName,R.inlineClassNameAffectsLetterSpacing))}}w+=N}}else{const b=this.getInputStartOffsetOfOutputLineIndex(n),S=this.getInputEndOffsetOfOutputLineIndex(n);u=e.getLineTokens(t).sliceAndInflate(b,S,s),c=null}let h=u.getLineContent();n>0&&(h=Qre(r.wrappedTextIndentLength)+h);const f=this._lineBreakData.getMinOutputOffset(n)+1,p=h.length+1,m=n+1<this.getViewLineCount(),v=n===0?0:r.breakOffsetsVisibleColumn[n-1];return new EQ(h,m,f,p,v,u,c)}getViewLinesData(e,t,n,r,s,o,a){this.assertVisible();for(let u=n;u<r;u++){let c=s+u-n;if(!o[c]){a[c]=null;continue}a[c]=this.getViewLineData(e,t,u)}}getModelColumnOfViewPosition(e,t){return this.assertVisible(),this._lineBreakData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,n=2){return this.assertVisible(),this._lineBreakData.translateToOutputPosition(t-1,n).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this.assertVisible();const n=this._lineBreakData.translateToOutputPosition(t-1);return e+n.outputLineIndex}normalizePosition(e,t,n){const r=t.lineNumber-e;return this._lineBreakData.normalizeOutputPosition(e,t.column-1,n).toPosition(r)}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class l7{constructor(){}isVisible(){return!0}setVisible(e){return e?this:u7.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,n){return e.getLineContent(t)}getViewLineLength(e,t,n){return e.getLineLength(t)}getViewLineMinColumn(e,t,n){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,n){return e.getLineMaxColumn(t)}getViewLineData(e,t,n){let r=e.getLineTokens(t),s=r.getLineContent();return new EQ(s,!1,1,s.length+1,0,r.inflate(),null)}getViewLinesData(e,t,n,r,s,o,a){if(!o[s]){a[s]=null;return}a[s]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new Ee(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,n){return t}getInjectedTextAt(e,t){return null}}l7.INSTANCE=new l7;class u7{constructor(){}isVisible(){return!1}setVisible(e){return e?l7.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,n){throw new Error("Not supported")}getViewLineLength(e,t,n){throw new Error("Not supported")}getViewLineMinColumn(e,t,n){throw new Error("Not supported")}getViewLineMaxColumn(e,t,n){throw new Error("Not supported")}getViewLineData(e,t,n){throw new Error("Not supported")}getViewLinesData(e,t,n,r,s,o,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,n){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}u7.INSTANCE=new u7;let o$=[""];function Qre(i){if(i>=o$.length)for(let e=1;e<=i;e++)o$[e]=J3e(e);return o$[i]}function J3e(i){return new Array(i+1).join(" ")}class e5e{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Cw(e);const n=this.values,r=this.prefixSum,s=t.length;return s===0?!1:(this.values=new Uint32Array(n.length+s),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+s),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=Cw(e),t=Cw(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Cw(e),t=Cw(t);const n=this.values,r=this.prefixSum;if(e>=n.length)return!1;let s=n.length-e;return t>=s&&(t=s),t===0?!1:(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Cw(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,n=this.values.length-1,r=0,s=0,o=0;for(;t<=n;)if(r=t+(n-t)/2|0,s=this.prefixSum[r],o=s-this.values[r],e<o)n=r-1;else if(e>=s)t=r+1;else break;return new hme(r,e-o)}}class t5e{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],n=t>0?this._prefixSum[t-1]:0;return new hme(t,e-n)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=_M(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const n=this._values[e],r=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=r+n;for(let s=0;s<n;s++)this._indexBySum[r+s]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class hme{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class n5e{constructor(e,t,n,r,s,o,a,u,c){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=n,this._monospaceLineBreaksComputerFactory=r,this.fontInfo=s,this.tabSize=o,this.wrappingStrategy=a,this.wrappingColumn=u,this.wrappingIndent=c,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new r5e(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const n=this.model.getLinesContent(),r=this.model.getInjectedTextDecorations(this._editorId),s=n.length,o=this.createLineBreaksComputer(),a=new PS(Bf.fromDecorations(r));for(let b=0;b<s;b++){const S=a.takeWhile(x=>x.lineNumber===b+1);o.addRequest(n[b],S,t?t[b]:null)}const u=o.finalize();let c=[],h=this.hiddenAreasDecorationIds.map(b=>this.model.getDecorationRange(b)).sort(Q.compareRangesUsingStarts),f=1,p=0,m=-1,v=m+1<h.length?p+1:s+2;for(let b=0;b<s;b++){let S=b+1;S===v&&(m++,f=h[m].startLineNumber,p=h[m].endLineNumber,v=m+1<h.length?p+1:s+2);let x=S>=f&&S<=p,w=s$(u[b],!x);c[b]=w.getViewLineCount(),this.modelLineProjections[b]=w}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new t5e(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const t=e.map(p=>this.model.validateRange(p));let n=i5e(t),r=this.hiddenAreasDecorationIds.map(p=>this.model.getDecorationRange(p)).sort(Q.compareRangesUsingStarts);if(n.length===r.length){let p=!1;for(let m=0;m<n.length;m++)if(!n[m].equalsRange(r[m])){p=!0;break}if(!p)return!1}const s=n.map(p=>({range:p,options:Tn.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,s);let o=n,a=1,u=0,c=-1,h=c+1<o.length?u+1:this.modelLineProjections.length+2,f=!1;for(let p=0;p<this.modelLineProjections.length;p++){let m=p+1;m===h&&(c++,a=o[c].startLineNumber,u=o[c].endLineNumber,h=c+1<o.length?u+1:this.modelLineProjections.length+2);let v=!1;if(m>=a&&m<=u?this.modelLineProjections[p].isVisible()&&(this.modelLineProjections[p]=this.modelLineProjections[p].setVisible(!1),v=!0):(f=!0,this.modelLineProjections[p].isVisible()||(this.modelLineProjections[p]=this.modelLineProjections[p].setVisible(!0),v=!0)),v){let b=this.modelLineProjections[p].getViewLineCount();this.projectedModelLineLineCounts.setValue(p,b)}}return f||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,n,r){const s=this.fontInfo.equals(e),o=this.wrappingStrategy===t,a=this.wrappingColumn===n,u=this.wrappingIndent===r;if(s&&o&&a&&u)return!1;const c=s&&o&&!a&&u;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=n,this.wrappingIndent=r;let h=null;if(c){h=[];for(let f=0,p=this.modelLineProjections.length;f<p;f++)h[f]=this.modelLineProjections[f].getLineBreakData()}return this._constructLines(!1,h),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,n){if(!e||e<=this._validModelVersionId)return null;let r=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,s=this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections.splice(t-1,n-t+1),this.projectedModelLineLineCounts.removeValues(t-1,n-t+1),new iK(r,s)}onModelLinesInserted(e,t,n,r){if(!e||e<=this._validModelVersionId)return null;const s=t>2&&!this.modelLineProjections[t-2].isVisible();let o=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,a=0,u=[],c=[];for(let h=0,f=r.length;h<f;h++){let p=s$(r[h],!s);u.push(p);let m=p.getViewLineCount();a+=m,c[h]=m}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(u).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new rK(o,o+a-1)}onModelLineChanged(e,t,n){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];let r=t-1,s=this.modelLineProjections[r].getViewLineCount(),o=this.modelLineProjections[r].isVisible(),a=s$(n,o);this.modelLineProjections[r]=a;let u=this.modelLineProjections[r].getViewLineCount(),c=!1,h=0,f=-1,p=0,m=-1,v=0,b=-1;s>u?(h=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,f=h+u-1,v=f+1,b=v+(s-u)-1,c=!0):s<u?(h=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,f=h+s-1,p=f+1,m=p+(u-s)-1,c=!0):(h=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,f=h+u-1),this.projectedModelLineLineCounts.setValue(r,u);const S=h<=f?new ume(h,f):null,x=p<=m?new rK(p,m):null,w=v<=b?new iK(v,b):null;return[c,S,x,w]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),n=this._toValidViewLineNumber(n);const r=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),s=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),a=this.model.getActiveIndentGuide(r.lineNumber,s.lineNumber,o.lineNumber),u=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:u.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let t=this.projectedModelLineLineCounts.getIndexOf(e-1),n=t.index,r=t.remainder;return new Jre(n+1,r)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],n=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new Ee(e.modelLineNumber,r)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],n=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new Ee(e.modelLineNumber,r)}getViewLineInfosGroupedByModelRanges(e,t){const n=this.getViewLineInfo(e),r=this.getViewLineInfo(t),s=new Array;let o=this.getModelStartPositionOfViewLine(n),a=new Array;for(let u=n.modelLineNumber;u<=r.modelLineNumber;u++){const c=this.modelLineProjections[u-1];if(c.isVisible()){let h=u===n.modelLineNumber?n.modelLineWrappedLineIdx:0,f=u===r.modelLineNumber?r.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let p=h;p<f;p++)a.push(new Jre(u,p))}if(!c.isVisible()&&o){const h=new Ee(u-1,this.model.getLineMaxColumn(u-1)+1),f=Q.fromPositions(o,h);s.push(new ese(f,a)),a=[],o=null}else c.isVisible()&&!o&&(o=new Ee(u,1))}if(o){const u=Q.fromPositions(o,this.getModelEndPositionOfViewLine(r));s.push(new ese(u,a))}return s}getViewLinesBracketGuides(e,t,n,r){const s=n?this.convertViewPositionToModelPosition(n.lineNumber,n.column):null,o=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const u=a.modelRange.startLineNumber,c=this.model.getLinesBracketGuides(u,a.modelRange.endLineNumber,s,r);for(const h of a.viewLines)if(h.isWrappedLineContinuation&&this.getMinColumnOfViewLine(h)===1)o.push([]);else{let f=c[h.modelLineNumber-u];f=f.map(p=>p.horizontalLine?new oS(p.visibleColumn,p.className,new Kj(p.horizontalLine.top,this.convertModelPositionToViewPosition(h.modelLineNumber,p.horizontalLine.endColumn).column)):p),o.push(f)}}return o}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let s=[],o=[],a=[];const u=n.lineNumber-1,c=r.lineNumber-1;let h=null;for(let v=u;v<=c;v++){const b=this.modelLineProjections[v];if(b.isVisible()){let S=b.getViewLineNumberOfModelPosition(0,v===u?n.column:1),x=b.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(v+1)),w=x-S+1,E=0;w>1&&b.getViewLineMinColumn(this.model,v+1,x)===1&&(E=S===0?1:2),o.push(w),a.push(E),h===null&&(h=new Ee(v+1,0))}else h!==null&&(s=s.concat(this.model.getLinesIndentGuides(h.lineNumber,v)),h=null)}h!==null&&(s=s.concat(this.model.getLinesIndentGuides(h.lineNumber,r.lineNumber)),h=null);const f=t-e+1;let p=new Array(f),m=0;for(let v=0,b=s.length;v<b;v++){let S=s[v],x=Math.min(f-m,o[v]),w=a[v],E;w===2?E=0:w===1?E=1:E=x;for(let N=0;N<x;N++)N===E&&(S=0),p[m++]=S}return p}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let r=this.projectedModelLineLineCounts.getIndexOf(e-1),s=e,o=r.index,a=r.remainder,u=[];for(let c=o,h=this.model.getLineCount();c<h;c++){let f=this.modelLineProjections[c];if(!f.isVisible())continue;let p=c===o?a:0,m=f.getViewLineCount()-p,v=!1;s+m>t&&(v=!0,m=t-s+1);let b=p+m;if(f.getViewLinesData(this.model,c+1,p,b,s-e,n,u),s+=m,v)break}return u}validateViewPosition(e,t,n){e=this._toValidViewLineNumber(e);let r=this.projectedModelLineLineCounts.getIndexOf(e-1),s=r.index,o=r.remainder,a=this.modelLineProjections[s],u=a.getViewLineMinColumn(this.model,s+1,o),c=a.getViewLineMaxColumn(this.model,s+1,o);t<u&&(t=u),t>c&&(t=c);let h=a.getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new Ee(s+1,h)).equals(n)?new Ee(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)}validateViewRange(e,t){const n=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),r=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new Q(n.lineNumber,n.column,r.lineNumber,r.column)}convertViewPositionToModelPosition(e,t){const n=this.getViewLineInfo(e);let r=this.modelLineProjections[n.modelLineNumber-1].getModelColumnOfViewPosition(n.modelLineWrappedLineIdx,t);return this.model.validatePosition(new Ee(n.modelLineNumber,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Q(t.lineNumber,t.column,n.lineNumber,n.column)}convertModelPositionToViewPosition(e,t,n=2){const r=this.model.validatePosition(new Ee(e,t)),s=r.lineNumber,o=r.column;let a=s-1,u=!1;for(;a>0&&!this.modelLineProjections[a].isVisible();)a--,u=!0;if(a===0&&!this.modelLineProjections[a].isVisible())return new Ee(1,1);const c=1+this.projectedModelLineLineCounts.getPrefixSum(a);let h;return u?h=this.modelLineProjections[a].getViewPositionOfModelPosition(c,this.model.getLineMaxColumn(a+1),n):h=this.modelLineProjections[s-1].getViewPositionOfModelPosition(c,o,n),h}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const n=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return Q.fromPositions(n)}else{const n=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),r=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Q(n.lineNumber,n.column,r.lineNumber,r.column)}}getViewLineNumberOfModelPosition(e,t){let n=e-1;if(this.modelLineProjections[n].isVisible()){const s=1+this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections[n].getViewLineNumberOfModelPosition(s,t)}for(;n>0&&!this.modelLineProjections[n].isVisible();)n--;if(n===0&&!this.modelLineProjections[n].isVisible())return 1;const r=1+this.projectedModelLineLineCounts.getPrefixSum(n);return this.modelLineProjections[n].getViewLineNumberOfModelPosition(r,this.model.getLineMaxColumn(n+1))}getDecorationsInRange(e,t,n){const r=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),s=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(s.lineNumber-r.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Q(r.lineNumber,1,s.lineNumber,s.column),t,n);let o=[];const a=r.lineNumber-1,u=s.lineNumber-1;let c=null;for(let m=a;m<=u;m++)if(this.modelLineProjections[m].isVisible())c===null&&(c=new Ee(m+1,m===a?r.column:1));else if(c!==null){const b=this.model.getLineMaxColumn(m);o=o.concat(this.model.getDecorationsInRange(new Q(c.lineNumber,c.column,m,b),t,n)),c=null}c!==null&&(o=o.concat(this.model.getDecorationsInRange(new Q(c.lineNumber,c.column,s.lineNumber,s.column),t,n)),c=null),o.sort((m,v)=>{const b=Q.compareRangesUsingStarts(m.range,v.range);return b===0?m.id<v.id?-1:m.id>v.id?1:0:b});let h=[],f=0,p=null;for(const m of o){const v=m.id;p!==v&&(p=v,h[f++]=m)}return h}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const n=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[n.modelLineNumber-1].normalizePosition(n.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}}function i5e(i){if(i.length===0)return[];const e=i.slice();e.sort(Q.compareRangesUsingStarts);const t=[];let n=e[0].startLineNumber,r=e[0].endLineNumber;for(let s=1,o=e.length;s<o;s++){let a=e[s];a.startLineNumber>r+1?(t.push(new Q(n,1,r,1)),n=a.startLineNumber,r=a.endLineNumber):a.endLineNumber>r&&(r=a.endLineNumber)}return t.push(new Q(n,1,r,1)),t}class Jre{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class ese{constructor(e,t){this.modelRange=e,this.viewLines=t}}class r5e{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class s5e{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new o5e(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,n,r){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,n,r)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,n){return new iK(t,n)}onModelLinesInserted(e,t,n,r){return new rK(t,n)}onModelLineChanged(e,t,n){return[!1,new ume(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,n){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,n){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const n=t-e+1;let r=new Array(n);for(let s=0;s<n;s++)r[s]=0;return r}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),n=t.getLineContent();return new EQ(n,!1,1,n.length+1,0,t.inflate(),null)}getViewLinesData(e,t,n){const r=this.model.getLineCount();e=Math.min(Math.max(1,e),r),t=Math.min(Math.max(1,t),r);let s=[];for(let o=e;o<=t;o++){let a=o-e;n[a]||(s[a]=null),s[a]=this.getViewLineData(o)}return s}getDecorationsInRange(e,t,n){return this.model.getDecorationsInRange(e,t,n)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class o5e{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class a5e{constructor(e,t,n,r,s){this.editorId=e,this.model=t,this.configuration=n,this._linesCollection=r,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let n=this._decorationsCache[t];if(!n){const r=e.range,s=e.options;let o;if(s.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new Ee(r.startLineNumber,1),0),u=this._coordinatesConverter.convertModelPositionToViewPosition(new Ee(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);o=new Q(a.lineNumber,a.column,u.lineNumber,u.column)}else o=this._coordinatesConverter.convertModelRangeToViewRange(r,1);n=new ame(o,s),this._decorationsCache[t]=n}return n}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,VX(this.configuration.options)),n=e.startLineNumber,r=e.endLineNumber;let s=[],o=0,a=[];for(let u=n;u<=r;u++)a[u-n]=[];for(let u=0,c=t.length;u<c;u++){let h=t[u],f=h.options;if(!kQ(this.model,h))continue;let p=this._getOrCreateViewModelDecoration(h),m=p.range;if(s[o++]=p,f.inlineClassName){let v=new DO(m,f.inlineClassName,f.inlineClassNameAffectsLetterSpacing?3:0),b=Math.max(n,m.startLineNumber),S=Math.min(r,m.endLineNumber);for(let x=b;x<=S;x++)a[x-n].push(v)}if(f.beforeContentClassName&&n<=m.startLineNumber&&m.startLineNumber<=r){let v=new DO(new Q(m.startLineNumber,m.startColumn,m.startLineNumber,m.startColumn),f.beforeContentClassName,1);a[m.startLineNumber-n].push(v)}if(f.afterContentClassName&&n<=m.endLineNumber&&m.endLineNumber<=r){let v=new DO(new Q(m.endLineNumber,m.endColumn,m.endLineNumber,m.endColumn),f.afterContentClassName,2);a[m.endLineNumber-n].push(v)}}return{decorations:s,inlineDecorations:a}}}function kQ(i,e){return!(e.options.hideInCommentTokens&&l5e(i,e.range,n=>n===1))}function l5e(i,e,t){for(let n=e.startLineNumber;n<=e.endLineNumber;n++){const r=i.getLineTokens(n),s=n===e.startLineNumber,o=n===e.endLineNumber;let a=s?r.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<r.getCount()&&!(o&&r.getStartOffset(a)>e.endColumn-1);){if(!t(r.getStandardTokenType(a)))return!1;a++}}return!0}const u5e={ModesRegistry:"editor.modesRegistry"};class c5e{constructor(){this._onDidChangeLanguages=new ye,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}const _C=new c5e;ds.add(u5e.ModesRegistry,_C);const ME="plaintext",d5e=".txt";_C.registerLanguage({id:ME,extensions:[d5e],aliases:[C("plainText.alias","Plain Text"),"text"],mimetypes:[fd.text]});Si.register(ME,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0);ds.as(Ky.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1}}}]);class h5e extends Me{constructor(e,t,n,r,s,o){if(super(),this._editorId=e,this._configuration=t,this.model=n,this._eventDispatcher=new H3e,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new dd(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new lr(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new lr(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new s5e(this.model);else{const a=this._configuration.options,u=a.get(43),c=a.get(124),h=a.get(131),f=a.get(123);this._lines=new n5e(this._editorId,this.model,r,s,u,this.model.getOptions().tabSize,c,h.wrappingColumn,f)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new kx(n,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new X3e(this._configuration,this.getLineCount(),o)),this._register(this.viewLayout.onDidScroll(a=>{a.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new P3e(a)),this._eventDispatcher.emitOutgoingEvent(new IQ(a.oldScrollWidth,a.oldScrollLeft,a.oldScrollHeight,a.oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(a=>{this._eventDispatcher.emitOutgoingEvent(a)})),this._decorations=new a5e(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(a=>{try{const u=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(u,a)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(e3.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new W3e)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=new Q(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),n=this._toModelVisibleRanges(t);for(const r of n)this.model.tokenizeViewport(r.startLineNumber,r.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new M3e(e)),this._eventDispatcher.emitOutgoingEvent(new TQ(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new k3e)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new N3e)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new F3e)}_onConfigurationChanged(e,t){let n=null;if(this._viewportStartLine!==-1){let h=new Ee(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));n=this.coordinatesConverter.convertViewPositionToModelPosition(h)}let r=!1;const s=this._configuration.options,o=s.get(43),a=s.get(124),u=s.get(131),c=s.get(123);if(this._lines.setWrappingSettings(o,a,u.wrappingColumn,c)&&(e.emitViewEvent(new N5),e.emitViewEvent(new A5),e.emitViewEvent(new yw(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(r=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new yw(null))),e.emitViewEvent(new A3e(t)),this.viewLayout.onConfigurationChanged(t),r&&n){const h=this.coordinatesConverter.convertModelPositionToViewPosition(n),f=this.viewLayout.getVerticalOffsetForLineNumber(h.lineNumber);this.viewLayout.setScrollPosition({scrollTop:f+this._viewportStartLineDelta},1)}dd.shouldRecreate(t)&&(this.cursorConfig=new dd(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let n=!1,r=!1;const s=e.changes,o=e instanceof hC?e.versionId:null,a=this._lines.createLineBreaksComputer();for(const h of s)switch(h.changeType){case 4:{for(let f=0;f<h.detail.length;f++){const p=h.detail[f];let m=h.injectedTexts[f];m&&(m=m.filter(v=>!v.ownerId||v.ownerId===this._editorId)),a.addRequest(p,m,null)}break}case 2:{let f=null;h.injectedText&&(f=h.injectedText.filter(p=>!p.ownerId||p.ownerId===this._editorId)),a.addRequest(h.detail,f,null);break}}const u=a.finalize(),c=new PS(u);for(const h of s)switch(h.changeType){case 1:{this._lines.onModelFlushed(),t.emitViewEvent(new N5),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),n=!0;break}case 3:{const f=this._lines.onModelLinesDeleted(o,h.fromLineNumber,h.toLineNumber);f!==null&&(t.emitViewEvent(f),this.viewLayout.onLinesDeleted(f.fromLineNumber,f.toLineNumber)),n=!0;break}case 4:{const f=c.takeCount(h.detail.length),p=this._lines.onModelLinesInserted(o,h.fromLineNumber,h.toLineNumber,f);p!==null&&(t.emitViewEvent(p),this.viewLayout.onLinesInserted(p.fromLineNumber,p.toLineNumber)),n=!0;break}case 2:{const f=c.dequeue(),[p,m,v,b]=this._lines.onModelLineChanged(o,h.lineNumber,f);r=p,m&&t.emitViewEvent(m),v&&(t.emitViewEvent(v),this.viewLayout.onLinesInserted(v.fromLineNumber,v.toLineNumber)),b&&(t.emitViewEvent(b),this.viewLayout.onLinesDeleted(b.fromLineNumber,b.toLineNumber));break}case 5:break}o!==null&&this._lines.acceptVersionId(o),this.viewLayout.onHeightMaybeChanged(),!n&&r&&(t.emitViewEvent(new A5),t.emitViewEvent(new yw(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const t=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(t){const n=this.coordinatesConverter.convertModelPositionToViewPosition(t.getStartPosition()),r=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber);this.viewLayout.setScrollPosition({scrollTop:r+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let n=0,r=e.ranges.length;n<r;n++){const s=e.ranges[n],o=this.coordinatesConverter.convertModelPositionToViewPosition(new Ee(s.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new Ee(s.toLineNumber,this.model.getLineMaxColumn(s.toLineNumber))).lineNumber;t[n]={fromLineNumber:o,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new B3e(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new R3e),this.cursorConfig=new dd(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new dd(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new N5),t.emitViewEvent(new A5),t.emitViewEvent(new yw(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new dd(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new yw(e))}))}setHiddenAreas(e){let t=!1;try{const n=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(n.emitViewEvent(new N5),n.emitViewEvent(new A5),n.emitViewEvent(new yw(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new Yre)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(130),t=this._configuration.options.get(58),n=Math.max(20,Math.round(e.height/t)),r=this.viewLayout.getLinesViewportData(),s=Math.max(1,r.completelyVisibleStartLineNumber-n),o=Math.min(this.getLineCount(),r.completelyVisibleEndLineNumber+n);return this._toModelVisibleRanges(new Q(s,this.getLineMinColumn(s),o,this.getLineMaxColumn(o)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),n=this._lines.getHiddenAreas();if(n.length===0)return[t];let r=[],s=0,o=t.startLineNumber,a=t.startColumn,u=t.endLineNumber,c=t.endColumn;for(let h=0,f=n.length;h<f;h++){const p=n[h].startLineNumber,m=n[h].endLineNumber;m<o||p>u||(o<p&&(r[s++]=new Q(o,a,p-1,this.model.getLineMaxColumn(p-1))),o=m+1,a=1)}return(o<u||o===u&&a<c)&&(r[s++]=new Q(o,a,u,c)),r}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new Q(t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,r=t.completelyVisibleEndLineNumber;return new Q(n,this.getLineMinColumn(n),r,this.getLineMaxColumn(r))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(t),r=this.coordinatesConverter.convertViewPositionToModelPosition(new Ee(n,this.getLineMinColumn(n))),s=this.viewLayout.getVerticalOffsetForLineNumber(n)-t;return{scrollLeft:e.scrollLeft,firstPosition:r,firstPositionDeltaTop:s}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(t),r=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:r}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,n){this._viewportStartLine=e;let r=this.coordinatesConverter.convertViewPositionToModelPosition(new Ee(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Q(r.lineNumber,r.column,r.lineNumber,r.column),1);const s=this.viewLayout.getVerticalOffsetForLineNumber(e),o=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=o-s}getActiveIndentGuide(e,t,n){return this._lines.getActiveIndentGuide(e,t,n)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,n,r){return this._lines.getViewLinesBracketGuides(e,t,n,r)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Ya(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Bg(this.getLineContent(e));return t===-1?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let n=this.model.mightContainRTL(),r=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),o=this._lines.getViewLineData(t),u=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return o.inlineDecorations&&(u=[...u,...o.inlineDecorations.map(c=>c.toInlineDecoration(t))]),new uc(o.minColumn,o.maxColumn,o.content,o.continuesWithWrappedLine,n,r,o.tokens,u,s,o.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,n){let r=this._lines.getViewLinesData(e,t,n);return new s3e(this.getTabSize(),r)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,VX(this._configuration.options)),n=new f5e;for(const r of t){const s=r.options,o=s.overviewRuler;if(!o)continue;const a=o.position;if(a===0)continue;const u=o.getColor(e),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.startLineNumber,r.range.startColumn),h=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.endLineNumber,r.range.endColumn);n.accept(u,s.zIndex,c,h,a)}return n.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const n=t.options.overviewRuler;n&&n.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const n=t.options.minimap;n&&n.invalidateCachedColor()}}getValueInRange(e,t){const n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,n){const r=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=n:t+=n);const o=this.model.getOffsetAt(r)+t;return this.model.getPositionAt(o)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,n){const r=n?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Q.compareRangesUsingStarts);let s=!1,o=!1;for(const u of e)u.isEmpty()?s=!0:o=!0;if(!o){if(!t)return"";const u=e.map(h=>h.startLineNumber);let c="";for(let h=0;h<u.length;h++)h>0&&u[h-1]===u[h]||(c+=this.model.getLineContent(u[h])+r);return c}if(s&&t){let u=[],c=0;for(const h of e){const f=h.startLineNumber;h.isEmpty()?f!==c&&u.push(this.model.getLineContent(f)):u.push(this.model.getValueInRange(h,n?2:0)),c=f}return u.length===1?u[0]:u}let a=[];for(const u of e)u.isEmpty()||a.push(this.model.getValueInRange(u,n?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const n=this.model.getLanguageId();if(n===ME||e.length!==1)return null;let r=e[0];if(r.isEmpty()){if(!t)return null;const h=r.startLineNumber;r=new Q(h,this.model.getLineMinColumn(h),h,this.model.getLineMaxColumn(h))}const s=this._configuration.options.get(43),o=this._getColorMap(),u=/[:;\\\/<>]/.test(s.fontFamily)||s.fontFamily===da.fontFamily;let c;return u?c=da.fontFamily:(c=s.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${da.fontFamily}`),{mode:n,html:`<div style="color: ${o[1]};background-color: ${o[2]};font-family: ${c};font-weight: ${s.fontWeight};font-size: ${s.fontSize}px;line-height: ${s.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(r,o)+"</div>"}}_getHTMLToCopy(e,t){const n=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn,a=this.getTabSize();let u="";for(let c=n;c<=s;c++){const h=this.model.getLineTokens(c),f=h.getLineContent(),p=c===n?r-1:0,m=c===s?o-1:f.length;f===""?u+="<br>":u+=j3e(f,h.inflate(),t,p,m,a,Zo)}return u}_getColorMap(){let e=Xr.getColorMap(),t=["#000000"];if(e)for(let n=1,r=e.length;n<r;n++)t[n]=Se.Format.CSS.formatHex(e[n]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,n){this._withViewEventsCollector(r=>this._cursor.setStates(r,e,t,n))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,n=0){this._withViewEventsCollector(r=>this._cursor.setSelections(r,e,t,n))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new z3e);return}this._withViewEventsCollector(e)}executeEdits(e,t,n){this._executeCursorEdit(r=>this._cursor.executeEdits(r,e,t,n))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(n=>this._cursor.type(n,e,t))}compositionType(e,t,n,r,s){this._executeCursorEdit(o=>this._cursor.compositionType(o,e,t,n,r,s))}paste(e,t,n,r){this._executeCursorEdit(s=>this._cursor.paste(s,e,t,n,r))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(n=>this._cursor.executeCommand(n,e,t))}executeCommands(e,t){this._executeCursorEdit(n=>this._cursor.executeCommands(n,e,t))}revealPrimaryCursor(e,t){this._withViewEventsCollector(n=>this._cursor.revealPrimary(n,e,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),n=new Q(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new J6(e,n,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),n=new Q(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new J6(e,n,null,0,!0,0)))}revealRange(e,t,n,r,s){this._withViewEventsCollector(o=>o.emitViewEvent(new J6(e,n,null,r,t,s)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new V3e),this._eventDispatcher.emitOutgoingEvent(new Yre))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class f5e{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,n,r,s){const o=this._asMap[e];if(o){const a=o.data,u=a[a.length-3],c=a[a.length-1];if(u===s&&c+1>=n){r>c&&(a[a.length-1]=r);return}a.push(s,n,r)}else{const a=new lme(e,t,[s,n,r]);this._asMap[e]=a,this.asArray.push(a)}}}class WM{constructor(...e){this._entries=new Map;for(let[t,n]of e)this.set(t,n)}set(e,t){const n=this._entries.get(e);return this._entries.set(e,t),n}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}var VM;(function(i){i[i.Ignore=0]="Ignore",i[i.Info=1]="Info",i[i.Warning=2]="Warning",i[i.Error=3]="Error"})(VM||(VM={}));(function(i){const e="error",t="warning",n="warn",r="info",s="ignore";function o(u){return u?UA(e,u)?i.Error:UA(t,u)||UA(n,u)?i.Warning:UA(r,u)?i.Info:i.Ignore:i.Ignore}i.fromValue=o;function a(u){switch(u){case i.Error:return e;case i.Warning:return t;case i.Info:return r;default:return s}}i.toString=a})(VM||(VM={}));const is=VM,Ts=Ci("notificationService");class g5e{}const Dl=Ci("accessibilityService"),n3=new It("accessibilityModeEnabled",!1);class kO{constructor(e,t,n,r,s){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=n,this.breakOffsetsVisibleColumn=r,this.wrappedTextIndentLength=s}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let r=this.breakOffsets[e]-t;return e>0&&(r+=this.wrappedTextIndentLength),r}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let r=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let s=0;s<this.injectionOffsets.length&&r>this.injectionOffsets[s];s++)r<this.injectionOffsets[s]+this.injectionOptions[s].content.length?r=this.injectionOffsets[s]:r-=this.injectionOptions[s].content.length;return r}translateToOutputPosition(e,t=2){let n=e;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&!(e<this.injectionOffsets[r]||t!==1&&e===this.injectionOffsets[r]);r++)n+=this.injectionOptions[r].content.length;return this.offsetInInputWithInjectionsToOutputPosition(n,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let n=0,r=this.breakOffsets.length-1,s=0,o=0;for(;n<=r;){s=n+(r-n)/2|0;const u=this.breakOffsets[s];if(o=s>0?this.breakOffsets[s-1]:0,t===0)if(e<=o)r=s-1;else if(e>u)n=s+1;else break;else if(e<o)r=s-1;else if(e>=u)n=s+1;else break}let a=e-o;return s>0&&(a+=this.wrappedTextIndentLength),new O5(s,a)}normalizeOutputPosition(e,t,n){if(this.injectionOffsets!==null){const r=this.outputPositionToOffsetInInputWithInjections(e,t),s=this.normalizeOffsetInInputWithInjectionsAroundInjections(r,n);if(s!==r)return this.offsetInInputWithInjectionsToOutputPosition(s,n)}if(n===0){if(e>0&&t===this.getMinOutputOffset(e))return new O5(e-1,this.getMaxOutputOffset(e-1))}else if(n===1){const r=this.getOutputLineCount()-1;if(e<r&&t===this.getMaxOutputOffset(e))return new O5(e+1,this.getMinOutputOffset(e+1))}return new O5(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const n=this.getInjectedTextAtOffset(e);if(!n)return e;if(t===2)return e===n.offsetInInputWithInjections+n.length?n.offsetInInputWithInjections+n.length:n.offsetInInputWithInjections;if(t===1){let o=n.offsetInInputWithInjections+n.length,a=n.injectedTextIndex;for(;a+1<this.injectionOffsets.length&&this.injectionOffsets[a+1]===this.injectionOffsets[a];)o+=this.injectionOptions[a+1].content.length,a++;return o}let r=n.offsetInInputWithInjections,s=n.injectedTextIndex;for(;s-1>=0&&this.injectionOffsets[s-1]===this.injectionOffsets[s];)r-=this.injectionOptions[s-1].content.length,s++;return r}getInjectedText(e,t){const n=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.getInjectedTextAtOffset(n);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,n=this.injectionOptions;if(t!==null){let r=0;for(let s=0;s<t.length;s++){const o=n[s].content.length,a=t[s]+r,u=t[s]+r+o;if(a>e)break;if(e<=u)return{injectedTextIndex:s,offsetInInputWithInjections:a,length:o};r+=o}}}}class O5{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new Ee(e+this.outputLineIndex,this.outputOffset+1)}}class NQ{constructor(e,t){this.classifier=new p5e(e,t)}static create(e){return new NQ(e.get(119),e.get(118))}createLineBreaksComputer(e,t,n,r){const s=[],o=[],a=[];return{addRequest:(u,c,h)=>{s.push(u),o.push(c),a.push(h)},finalize:()=>{const u=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let c=[];for(let h=0,f=s.length;h<f;h++){const p=o[h],m=a[h];m&&!m.injectionOptions&&!p?c[h]=m5e(this.classifier,m,s[h],t,n,u,r):c[h]=_5e(this.classifier,s[h],p,t,n,u,r)}return sK.length=0,oK.length=0,c}}}}class p5e extends NE{constructor(e,t){super(0);for(let n=0;n<e.length;n++)this.set(e.charCodeAt(n),1);for(let n=0;n<t.length;n++)this.set(t.charCodeAt(n),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let sK=[],oK=[];function m5e(i,e,t,n,r,s,o){if(r===-1)return null;const a=t.length;if(a<=1)return null;const u=e.breakOffsets,c=e.breakOffsetsVisibleColumn,h=fme(t,n,r,s,o),f=r-h;let p=sK,m=oK,v=0,b=0,S=0,x=r;const w=u.length;let E=0;if(E>=0){let N=Math.abs(c[E]-x);for(;E+1<w;){const A=Math.abs(c[E+1]-x);if(A>=N)break;N=A,E++}}for(;E<w;){let N=E<0?0:u[E],A=E<0?0:c[E];b>N&&(N=b,A=S);let H=0,R=0,M=0,G=0;if(A<=x){let $=A,I=N===0?0:t.charCodeAt(N-1),O=N===0?0:i.get(I),B=!0;for(let W=N;W<a;W++){const j=W,U=t.charCodeAt(W);let K,z;if(no(U)?(W++,K=0,z=2):(K=i.get(U),z=NO(U,$,n,s)),j>b&&aK(I,O,U,K)&&(H=j,R=$),$+=z,$>x){j>b?(M=j,G=$-z):(M=W+1,G=$),$-R>f&&(H=0),B=!1;break}I=U,O=K}if(B){v>0&&(p[v]=u[u.length-1],m[v]=c[u.length-1],v++);break}}if(H===0){let $=A,I=t.charCodeAt(N),O=i.get(I),B=!1;for(let W=N-1;W>=b;W--){const j=W+1,U=t.charCodeAt(W);if(U===9){B=!0;break}let K,z;if(yx(U)?(W--,K=0,z=2):(K=i.get(U),z=qg(U)?s:1),$<=x){if(M===0&&(M=j,G=$),$<=x-f)break;if(aK(U,K,I,O)){H=j,R=$;break}}$-=z,I=U,O=K}if(H!==0){const W=f-(G-R);if(W<=n){const j=t.charCodeAt(M);let U;no(j)?U=2:U=NO(j,G,n,s),W-U<0&&(H=0)}}if(B){E--;continue}}if(H===0&&(H=M,R=G),H<=b){const $=t.charCodeAt(b);no($)?(H=b+2,R=S+2):(H=b+1,R=S+NO($,S,n,s))}for(b=H,p[v]=H,S=R,m[v]=R,v++,x=R+f;E<0||E<w&&c[E]<R;)E++;let X=Math.abs(c[E]-x);for(;E+1<w;){const $=Math.abs(c[E+1]-x);if($>=X)break;X=$,E++}}return v===0?null:(p.length=v,m.length=v,sK=e.breakOffsets,oK=e.breakOffsetsVisibleColumn,e.breakOffsets=p,e.breakOffsetsVisibleColumn=m,e.wrappedTextIndentLength=h,e)}function _5e(i,e,t,n,r,s,o){const a=Bf.applyInjectedText(e,t);let u,c;if(t&&t.length>0?(u=t.map(R=>R.options),c=t.map(R=>R.column-1)):(u=null,c=null),r===-1)return u?new kO(c,u,[a.length],[],0):null;const h=a.length;if(h<=1)return u?new kO(c,u,[a.length],[],0):null;const f=fme(a,n,r,s,o),p=r-f;let m=[],v=[],b=0,S=0,x=0,w=r,E=a.charCodeAt(0),N=i.get(E),A=NO(E,0,n,s),H=1;no(E)&&(A+=1,E=a.charCodeAt(1),N=i.get(E),H++);for(let R=H;R<h;R++){const M=R,G=a.charCodeAt(R);let X,$;no(G)?(R++,X=0,$=2):(X=i.get(G),$=NO(G,A,n,s)),aK(E,N,G,X)&&(S=M,x=A),A+=$,A>w&&((S===0||A-x>p)&&(S=M,x=A-$),m[b]=S,v[b]=x,b++,w=x+p,S=0),E=G,N=X}return b===0&&(!t||t.length===0)?null:(m[b]=h,v[b]=A,new kO(c,u,m,v,f))}function NO(i,e,t,n){return i===9?t-e%t:qg(i)||i<32?n:1}function tse(i,e){return e-i%e}function aK(i,e,t,n){return t!==32&&(e===2||e===3&&n!==2||n===1||n===3&&e!==1)}function fme(i,e,t,n,r){let s=0;if(r!==0){const o=Ya(i);if(o!==-1){for(let u=0;u<o;u++){const c=i.charCodeAt(u)===9?tse(s,e):1;s+=c}const a=r===3?2:r===2?1:0;for(let u=0;u<a;u++){const c=tse(s,e);s+=c}s+n>t&&(s=0)}}return s}var a$;const l$=(a$=window.trustedTypes)===null||a$===void 0?void 0:a$.createPolicy("domLineBreaksComputer",{createHTML:i=>i});class AQ{static create(){return new AQ}constructor(){}createLineBreaksComputer(e,t,n,r){let s=[],o=[];return{addRequest:(a,u,c)=>{s.push(a),o.push(u)},finalize:()=>v5e(s,e,t,n,r,o)}}}function v5e(i,e,t,n,r,s){var o;function a(M){const G=s[M];if(G){const X=Bf.applyInjectedText(i[M],G),$=G.map(O=>O.options),I=G.map(O=>O.column-1);return new kO(I,$,[X.length],[],0)}else return null}if(n===-1){const M=[];for(let G=0,X=i.length;G<X;G++)M[G]=a(G);return M}const u=Math.round(n*e.typicalHalfwidthCharacterWidth),h=Math.round(t*(r===3?2:r===2?1:0)),f=Math.ceil(e.spaceWidth*h),p=document.createElement("div");Qa.applyFontInfoSlow(p,e);const m=QC(1e4),v=[],b=[],S=[],x=[],w=[];for(let M=0;M<i.length;M++){const G=Bf.applyInjectedText(i[M],s[M]);let X=0,$=0,I=u;if(r!==0)if(X=Ya(G),X===-1)X=0;else{for(let j=0;j<X;j++){const U=G.charCodeAt(j)===9?t-$%t:1;$+=U}const W=Math.ceil(e.spaceWidth*$);W+e.typicalFullwidthCharacterWidth>u?(X=0,$=0):I=u-W}const O=G.substr(X),B=b5e(O,$,t,I,m,f);v[M]=X,b[M]=$,S[M]=O,x[M]=B[0],w[M]=B[1]}const E=m.build(),N=(o=l$==null?void 0:l$.createHTML(E))!==null&&o!==void 0?o:E;p.innerHTML=N,p.style.position="absolute",p.style.top="10000",p.style.wordWrap="break-word",document.body.appendChild(p);let A=document.createRange();const H=Array.prototype.slice.call(p.children,0);let R=[];for(let M=0;M<i.length;M++){const G=H[M],X=C5e(A,G,S[M],x[M]);if(X===null){R[M]=a(M);continue}const $=v[M],I=b[M]+h,O=w[M],B=[];for(let K=0,z=X.length;K<z;K++)B[K]=O[X[K]];if($!==0)for(let K=0,z=X.length;K<z;K++)X[K]+=$;let W,j;const U=s[M];U?(W=U.map(K=>K.options),j=U.map(K=>K.column-1)):(W=null,j=null),R[M]=new kO(j,W,X,B,I)}return document.body.removeChild(p),R}function b5e(i,e,t,n,r,s){if(s!==0){let p=String(s);r.appendASCIIString('<div style="text-indent: -'),r.appendASCIIString(p),r.appendASCIIString("px; padding-left: "),r.appendASCIIString(p),r.appendASCIIString("px; box-sizing: border-box; width:")}else r.appendASCIIString('<div style="width:');r.appendASCIIString(String(n)),r.appendASCIIString('px;">');const o=i.length;let a=e,u=0,c=[],h=[],f=0<o?i.charCodeAt(0):0;r.appendASCIIString("<span>");for(let p=0;p<o;p++){p!==0&&p%16384===0&&r.appendASCIIString("</span><span>"),c[p]=u,h[p]=a;const m=f;f=p+1<o?i.charCodeAt(p+1):0;let v=1,b=1;switch(m){case 9:v=t-a%t,b=v;for(let S=1;S<=v;S++)S<v?r.write1(160):r.appendASCII(32);break;case 32:f===32?r.write1(160):r.appendASCII(32);break;case 60:r.appendASCIIString("&lt;");break;case 62:r.appendASCIIString("&gt;");break;case 38:r.appendASCIIString("&amp;");break;case 0:r.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.write1(65533);break;default:qg(m)&&b++,m<32?r.write1(9216+m):r.write1(m)}u+=v,a+=b}return r.appendASCIIString("</span>"),c[i.length]=u,h[i.length]=a,r.appendASCIIString("</div>"),[c,h]}function C5e(i,e,t,n){if(t.length<=1)return null;const r=Array.prototype.slice.call(e.children,0),s=[];try{lK(i,r,n,0,null,t.length-1,null,s)}catch(o){return console.log(o),null}return s.length===0?null:(s.push(t.length),s)}function lK(i,e,t,n,r,s,o,a){if(n===s||(r=r||u$(i,e,t[n],t[n+1]),o=o||u$(i,e,t[s],t[s+1]),Math.abs(r[0].top-o[0].top)<=.1))return;if(n+1===s){a.push(s);return}const u=n+(s-n)/2|0,c=u$(i,e,t[u],t[u+1]);lK(i,e,t,n,r,u,c,a),lK(i,e,t,u,c,s,o,a)}function u$(i,e,t,n){return i.setStart(e[t/16384|0].firstChild,t%16384),i.setEnd(e[n/16384|0].firstChild,n%16384),i.getClientRects()}var y5e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},cb=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let w5e=0,S5e=class{constructor(e,t,n,r,s){this.model=e,this.viewModel=t,this.view=n,this.hasRealView=r,this.listenersToRemove=s}dispose(){ui(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}},HM=class e8 extends Me{constructor(e,t,n,r,s,o,a,u,c,h){super(),this._onDidDispose=this._register(new ye),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new ye),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new ye),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new ye),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new ye),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new ye),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new ye),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new ye),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new ye),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new ye),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new ye),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new ye),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new nse),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new nse),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new ye),this.onWillType=this._onWillType.event,this._onDidType=this._register(new ye),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new ye),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new ye),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new ye),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new ye),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new ye),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new ye),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new ye),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new ye),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new ye),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new ye),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new ye),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new ye),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new ye),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new ye),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new ye),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new ye),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new ye),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new ye),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const f=Object.assign({},t);this._domElement=e,this._overflowWidgetsDomNode=f.overflowWidgetsDomNode,delete f.overflowWidgetsDomNode,this._id=++w5e,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=n.isSimpleWidget||!1,this._telemetryData=n.telemetryData,this._configuration=this._register(this._createConfiguration(f,h)),this._register(this._configuration.onDidChange(m=>{this._onDidChangeConfiguration.fire(m);const v=this._configuration.options;if(m.hasChanged(130)){const b=v.get(130);this._onDidLayoutChange.fire(b)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=s,this._commandService=o,this._themeService=u,this._register(new x5e(this,this._contextKeyService)),this._register(new E5e(this,this._contextKeyService)),this._instantiationService=r.createChild(new WM([gn,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new L5e(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let p;Array.isArray(n.contributions)?p=n.contributions:p=RS.getEditorContributions();for(const m of p){if(this._contributions[m.id]){vn(new Error(`Cannot have two contributions with the same id ${m.id}`));continue}try{const v=this._instantiationService.createInstance(m.ctor,this);this._contributions[m.id]=v}catch(v){vn(v)}}RS.getEditorActions().forEach(m=>{if(this._actions[m.id]){vn(new Error(`Cannot have two actions with the same id ${m.id}`));return}const v=new cme(m.id,m.label,m.alias,Hl(m.precondition),()=>this._instantiationService.invokeFunction(b=>Promise.resolve(m.runEditorCommand(b,this,null))),this._contextKeyService);this._actions[v.id]=v}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new Qa(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return t3.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,n=e.length;t<n;t++){const r=e[t];this._contributions[r].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?ai.getWordAtPosition(this._modelData.model,this._configuration.options.get(116),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let n=0;return e&&e.lineEnding&&e.lineEnding===`
`?n=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(n=2),this._modelData.model.getValue(n,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(this._modelData===null&&t===null||this._modelData&&this._modelData.model===t)return;const n=this.hasTextFocus(),r=this._detachModel();this._attachModel(t),n&&this.hasModel()&&this.focus();const s={oldModelUrl:r?r.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(s),this._postDetachModelCleanup(r)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let n in t)this._removeDecorationType(e+"-"+n)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,n){const r=e.model.validatePosition({lineNumber:t,column:n}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(r);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber)}getTopForLineNumber(e){return this._modelData?e8._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,t){return this._modelData?e8._getVerticalOffsetForPosition(this._modelData,e,t):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(t=>Q.lift(t)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),n=this._modelData.model.getOptions().tabSize;return _r.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,n)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!Ee.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,n,r){if(!this._modelData)return;if(!Q.isIRange(e))throw new Error("Invalid arguments");const s=this._modelData.model.validateRange(e),o=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(s);this._modelData.viewModel.revealRange("api",n,o,t,r)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,n){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Q(e,1,e,1),t,!1,n)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,n,r){if(!Ee.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Q(e.lineNumber,e.column,e.lineNumber,e.column),t,n,r)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=xt.isISelection(e),n=Q.isIRange(e);if(!t&&!n)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(n){const r={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(r)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new xt(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,n=0){this._revealLines(e,t,0,n)}revealLinesInCenter(e,t,n=0){this._revealLines(e,t,1,n)}revealLinesInCenterIfOutsideViewport(e,t,n=0){this._revealLines(e,t,2,n)}revealLinesNearTop(e,t,n=0){this._revealLines(e,t,5,n)}_revealLines(e,t,n,r){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Q(e,1,t,1),n,!1,r)}revealRange(e,t=0,n=!1,r=!0){this._revealRange(e,n?1:0,r,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,n,r){if(!Q.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Q.lift(e),t,n,r)}setSelections(e,t="api",n=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let r=0,s=e.length;r<s;r++)if(!xt.isISelection(e[r]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,n)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const s of t){const o=this._contributions[s];typeof o.saveViewState=="function"&&(e[s]=o.saveViewState())}const n=this._modelData.viewModel.saveCursorState(),r=this._modelData.viewModel.saveState();return{cursorState:n,viewState:r,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const n=t.cursorState;Array.isArray(n)?this._modelData.viewModel.restoreCursorState(n):this._modelData.viewModel.restoreCursorState([n]);const r=t.contributionsState||{},s=Object.keys(this._contributions);for(let a=0,u=s.length;a<u;a++){const c=s[a],h=this._contributions[c];typeof h.restoreViewState=="function"&&h.restoreViewState(r[c])}const o=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(o)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let n=0,r=t.length;n<r;n++){const s=t[n];e.push(this._actions[s])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,n){switch(n=n||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const s=n;this._type(e,s.text||"");return}case"replacePreviousChar":{const s=n;this._compositionType(e,s.text||"",s.replaceCharCnt||0,0,0);return}case"compositionType":{const s=n;this._compositionType(e,s.text||"",s.replacePrevCharCnt||0,s.replaceNextCharCnt||0,s.positionDelta||0);return}case"paste":{const s=n;this._paste(e,s.text||"",s.pasteOnNewLine||!1,s.multicursorText||null,s.mode||null);return}case"cut":this._cut(e);return}const r=this.getAction(t);if(r){Promise.resolve(r.run()).then(void 0,vn);return}this._modelData&&(this._triggerEditorCommand(e,t,n)||this._triggerCommand(t,n))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,n,r,s){this._modelData&&this._modelData.viewModel.compositionType(t,n,r,s,e)}_paste(e,t,n,r,s){if(!this._modelData||t.length===0)return;const o=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,n,r,e);const a=this._modelData.viewModel.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Q(o.lineNumber,o.column,a.lineNumber,a.column),languageId:s})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,n){const r=RS.getEditorCommand(t);return r?(n=n||{},n.source=e,this._instantiationService.invokeFunction(s=>{Promise.resolve(r.runEditorCommand(s,this,n)).then(void 0,vn)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,n){if(!this._modelData||this._configuration.options.get(80))return!1;let r;return n?Array.isArray(n)?r=()=>n:r=n:r=()=>null,this._modelData.viewModel.executeEdits(e,t,r),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,VX(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(130)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const n=this._contentWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(n)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const n=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(n)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const n=this._overlayWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(n)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const n=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(n)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),n=this._configuration.options,r=n.get(130),s=e8._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),o=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft();return{top:s,left:o,height:n.get(58)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){Qa.applyFontInfoSlow(e,this._configuration.options.get(43))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.reserveHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const n=new h5e(this._id,this._configuration,e,AQ.create(),NQ.create(this._configuration.options),o=>jg(o));t.push(e.onDidChangeDecorations(o=>this._onDidChangeModelDecorations.fire(o))),t.push(e.onDidChangeLanguage(o=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(o)})),t.push(e.onDidChangeLanguageConfiguration(o=>this._onDidChangeModelLanguageConfiguration.fire(o))),t.push(e.onDidChangeContent(o=>this._onDidChangeModelContent.fire(o))),t.push(e.onDidChangeOptions(o=>this._onDidChangeModelOptions.fire(o))),t.push(e.onWillDispose(()=>this.setModel(null))),t.push(n.onEvent(o=>{switch(o.kind){case 0:this._onDidContentSizeChange.fire(o);break;case 1:this._editorTextFocus.setValue(o.hasFocus);break;case 2:this._onDidScrollChange.fire(o);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{o.reachedMaxCursorCount&&this._notificationService.warn(C("cursors.maximum","The number of cursors has been limited to {0}.",kx.MAX_CURSOR_COUNT));const a=[];for(let h=0,f=o.selections.length;h<f;h++)a[h]=o.selections[h].getPosition();const u={position:a[0],secondaryPositions:a.slice(1),reason:o.reason,source:o.source};this._onDidChangeCursorPosition.fire(u);const c={selection:o.selections[0],secondarySelections:o.selections.slice(1),modelVersionId:o.modelVersionId,oldSelections:o.oldSelections,oldModelVersionId:o.oldModelVersionId,source:o.source,reason:o.reason};this._onDidChangeCursorSelection.fire(c);break}}}));const[r,s]=this._createView(n);if(s){this._domElement.appendChild(r.domNode.domNode);let o=Object.keys(this._contentWidgets);for(let a=0,u=o.length;a<u;a++){const c=o[a];r.addContentWidget(this._contentWidgets[c])}o=Object.keys(this._overlayWidgets);for(let a=0,u=o.length;a<u;a++){const c=o[a];r.addOverlayWidget(this._overlayWidgets[c])}r.render(!1,!0),r.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new S5e(e,n,r,s,t)}_createView(e){let t;this.isSimpleWidget?t={paste:(s,o,a,u)=>{this._paste("keyboard",s,o,a,u)},type:s=>{this._type("keyboard",s)},compositionType:(s,o,a,u)=>{this._compositionType("keyboard",s,o,a,u)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(s,o,a,u)=>{const c={text:s,pasteOnNewLine:o,multicursorText:a,mode:u};this._commandService.executeCommand("paste",c)},type:s=>{const o={text:s};this._commandService.executeCommand("type",o)},compositionType:(s,o,a,u)=>{if(a||u){const c={text:s,replacePrevCharCnt:o,replaceNextCharCnt:a,positionDelta:u};this._commandService.executeCommand("compositionType",c)}else{const c={text:s,replaceCharCnt:o};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const n=new UB(e.coordinatesConverter);return n.onKeyDown=s=>this._onKeyDown.fire(s),n.onKeyUp=s=>this._onKeyUp.fire(s),n.onContextMenu=s=>this._onContextMenu.fire(s),n.onMouseMove=s=>this._onMouseMove.fire(s),n.onMouseLeave=s=>this._onMouseLeave.fire(s),n.onMouseDown=s=>this._onMouseDown.fire(s),n.onMouseUp=s=>this._onMouseUp.fire(s),n.onMouseDrag=s=>this._onMouseDrag.fire(s),n.onMouseDrop=s=>this._onMouseDrop.fire(s),n.onMouseDropCanceled=s=>this._onMouseDropCanceled.fire(s),n.onMouseWheel=s=>this._onMouseWheel.fire(s),[new T3e(t,this._configuration,this._themeService,e,n,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}};HM=y5e([cb(3,Rn),cb(4,Mi),cb(5,Vr),cb(6,gn),cb(7,Rr),cb(8,Ts),cb(9,Dl)],HM);class nse extends Me{constructor(){super(),this._onDidChangeToTrue=this._register(new ye),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new ye),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class x5e extends Me{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=he.editorSimpleInput.bindTo(t),this._editorFocus=he.focus.bindTo(t),this._textInputFocus=he.textInputFocus.bindTo(t),this._editorTextFocus=he.editorTextFocus.bindTo(t),this._editorTabMovesFocus=he.tabMovesFocus.bindTo(t),this._editorReadonly=he.readOnly.bindTo(t),this._inDiffEditor=he.inDiffEditor.bindTo(t),this._editorColumnSelection=he.columnSelection.bindTo(t),this._hasMultipleSelections=he.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=he.hasNonEmptySelection.bindTo(t),this._canUndo=he.canUndo.bindTo(t),this._canRedo=he.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(129)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class E5e extends Me{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=he.languageId.bindTo(t),this._hasCompletionItemProvider=he.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=he.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=he.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=he.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=he.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=he.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=he.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=he.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=he.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=he.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=he.hasReferenceProvider.bindTo(t),this._hasRenameProvider=he.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=he.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=he.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=he.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=he.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=he.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=he.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=he.isInWalkThroughSnippet.bindTo(t);const n=()=>this._update();this._register(e.onDidChangeModel(n)),this._register(e.onDidChangeModelLanguage(n)),this._register(ff.onDidChange(n)),this._register(Hg.onDidChange(n)),this._register(qp.onDidChange(n)),this._register(SM.onDidChange(n)),this._register(VF.onDidChange(n)),this._register(HF.onDidChange(n)),this._register($F.onDidChange(n)),this._register(wM.onDidChange(n)),this._register(Sx.onDidChange(n)),this._register(yd.onDidChange(n)),this._register(FF.onDidChange(n)),this._register(BF.onDidChange(n)),this._register(EO.onDidChange(n)),this._register(gf.onDidChange(n)),this._register(dC.onDidChange(n)),this._register(F0.onDidChange(n)),n()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(ff.has(e)),this._hasCodeActionsProvider.set(Hg.has(e)),this._hasCodeLensProvider.set(qp.has(e)),this._hasDefinitionProvider.set(SM.has(e)),this._hasDeclarationProvider.set(VF.has(e)),this._hasImplementationProvider.set(HF.has(e)),this._hasTypeDefinitionProvider.set($F.has(e)),this._hasHoverProvider.set(wM.has(e)),this._hasDocumentHighlightProvider.set(Sx.has(e)),this._hasDocumentSymbolProvider.set(yd.has(e)),this._hasReferenceProvider.set(FF.has(e)),this._hasRenameProvider.set(BF.has(e)),this._hasSignatureHelpProvider.set(dC.has(e)),this._hasInlayHintsProvider.set(F0.has(e)),this._hasDocumentFormattingProvider.set(EO.has(e)||gf.has(e)),this._hasDocumentSelectionFormattingProvider.set(gf.has(e)),this._hasMultipleDocumentFormattingProvider.set(EO.all(e).length+gf.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(gf.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===On.walkThroughSnippet)})}}class L5e extends Me{constructor(e){super(),this._onChange=this._register(new ye),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(vx(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const D5e=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),T5e=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function c$(i){return D5e+encodeURIComponent(i.toString())+T5e}const I5e=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),k5e=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function N5e(i){return I5e+encodeURIComponent(i.toString())+k5e}Cr((i,e)=>{const t=i.getColor(Yge);t&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${t}; }`);const n=i.getColor(CO);n&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${c$(n)}") repeat-x bottom left; }`);const r=i.getColor(GNe);r&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${r}; }`);const s=i.getColor(EB);s&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${s}; }`);const o=i.getColor(dm);o&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${c$(o)}") repeat-x bottom left; }`);const a=i.getColor(YNe);a&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const u=i.getColor(KX);u&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${u}; }`);const c=i.getColor(kf);c&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${c$(c)}") repeat-x bottom left; }`);const h=i.getColor(ZNe);h&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${h}; }`);const f=i.getColor(QNe);f&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${f}; }`);const p=i.getColor(XNe);p&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${N5e(p)}") no-repeat bottom left; }`);const m=i.getColor(E4e);m&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${m.rgba.a}; }`);const v=i.getColor(x4e);v&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${v}; }`);const b=i.getColor(qP)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${b}}`)});class Qi{constructor(e,t,n){const r=s=>this.emitter.fire(s);this.emitter=new ye({onFirstListenerAdd:()=>e.addEventListener(t,r,n),onLastListenerRemove:()=>e.removeEventListener(t,r,n)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function ise(i){return i.preventDefault(),i.stopPropagation(),i}var RE=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};let A5e=!1;var c7;(function(i){i.North="north",i.South="south",i.East="east",i.West="west"})(c7||(c7={}));let O5e=4;const M5e=new ye;let R5e=300;const P5e=new ye;class OQ{constructor(){this.disposables=new tt}get onPointerMove(){return this.disposables.add(new Qi(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new Qi(window,"mouseup")).event}dispose(){this.disposables.dispose()}}RE([zs],OQ.prototype,"onPointerMove",null);RE([zs],OQ.prototype,"onPointerUp",null);class MQ{constructor(e){this.el=e,this.disposables=new tt}get onPointerMove(){return this.disposables.add(new Qi(this.el,mr.Change)).event}get onPointerUp(){return this.disposables.add(new Qi(this.el,mr.End)).event}dispose(){this.disposables.dispose()}}RE([zs],MQ.prototype,"onPointerMove",null);RE([zs],MQ.prototype,"onPointerUp",null);class d7{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}RE([zs],d7.prototype,"onPointerMove",null);RE([zs],d7.prototype,"onPointerUp",null);class oa extends Me{constructor(e,t,n){super(),this.hoverDelay=R5e,this.hoverDelayer=this._register(new Em(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new ye),this._onDidStart=this._register(new ye),this._onDidChange=this._register(new ye),this._onDidReset=this._register(new ye),this._onDidEnd=this._register(new ye),this.orthogonalStartSashDisposables=this._register(new tt),this.orthogonalStartDragHandleDisposables=this._register(new tt),this.orthogonalEndSashDisposables=this._register(new tt),this.orthogonalEndDragHandleDisposables=this._register(new tt),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=We(e,Ye(".monaco-sash")),n.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${n.orthogonalEdge}`),Xn&&this.el.classList.add("mac");const r=this._register(new Qi(this.el,"mousedown")).event;this._register(r(f=>this.onPointerStart(f,new OQ),this));const s=this._register(new Qi(this.el,"dblclick")).event;this._register(s(this.onPointerDoublePress,this));const o=this._register(new Qi(this.el,"mouseenter")).event;this._register(o(()=>oa.onMouseEnter(this)));const a=this._register(new Qi(this.el,"mouseleave")).event;this._register(a(()=>oa.onMouseLeave(this))),this._register(qi.addTarget(this.el));const u=Bt.map(this._register(new Qi(this.el,mr.Start)).event,f=>{var p;return Object.assign(Object.assign({},f),{target:(p=f.initialTarget)!==null&&p!==void 0?p:null})});this._register(u(f=>this.onPointerStart(f,new MQ(this.el)),this));const c=this._register(new Qi(this.el,mr.Tap)).event,h=Bt.map(Bt.filter(Bt.debounce(c,(f,p)=>{var m;return{event:p,count:((m=f==null?void 0:f.count)!==null&&m!==void 0?m:0)+1}},250),({count:f})=>f===2),({event:f})=>{var p;return Object.assign(Object.assign({},f),{target:(p=f.initialTarget)!==null&&p!==void 0?p:null})});this._register(h(this.onPointerDoublePress,this)),typeof n.size=="number"?(this.size=n.size,n.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=O5e,this._register(M5e.event(f=>{this.size=f,this.layout()}))),this._register(P5e.event(f=>this.hoverDelay=f)),this.layoutProvider=t,this.orthogonalStartSash=n.orthogonalStartSash,this.orthogonalEndSash=n.orthogonalEndSash,this.orientation=n.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",A5e),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=n=>{this.orthogonalStartDragHandleDisposables.clear(),n!==0&&(this._orthogonalStartDragHandle=We(this.el,Ye(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Yn(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new Qi(this._orthogonalStartDragHandle,"mouseenter")).event(()=>oa.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Qi(this._orthogonalStartDragHandle,"mouseleave")).event(()=>oa.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=n=>{this.orthogonalEndDragHandleDisposables.clear(),n!==0&&(this._orthogonalEndDragHandle=We(this.el,Ye(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Yn(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new Qi(this._orthogonalEndDragHandle,"mouseenter")).event(()=>oa.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Qi(this._orthogonalEndDragHandle,"mouseleave")).event(()=>oa.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){Fi.stop(e);let n=!1;if(!e.__orthogonalSashEvent){const v=this.getOrthogonalSash(e);v&&(n=!0,e.__orthogonalSashEvent=!0,v.onPointerStart(e,new d7(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new d7(t))),!this.state)return;const r=NIe("iframe");for(const v of r)v.style.pointerEvents="none";const s=e.pageX,o=e.pageY,a=e.altKey,u={startX:s,currentX:s,startY:o,currentY:o,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(u);const c=Pc(this.el),h=()=>{let v="";n?v="all-scroll":this.orientation===1?this.state===1?v="s-resize":this.state===2?v="n-resize":v=Xn?"row-resize":"ns-resize":this.state===1?v="e-resize":this.state===2?v="w-resize":v=Xn?"col-resize":"ew-resize",c.textContent=`* { cursor: ${v} !important; }`},f=new tt;h(),n||this.onDidEnablementChange.event(h,null,f);const p=v=>{Fi.stop(v,!1);const b={startX:s,currentX:v.pageX,startY:o,currentY:v.pageY,altKey:a};this._onDidChange.fire(b)},m=v=>{Fi.stop(v,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),f.dispose();for(const b of r)b.style.pointerEvents="auto"};t.onPointerMove(p,null,f),t.onPointerUp(m,null,f),f.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&oa.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&oa.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){oa.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){if(!(!e.target||!(e.target instanceof HTMLElement))&&e.target.classList.contains("orthogonal-drag-handle"))return e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}const RQ=Ci("IEditorCancelService"),gme=new It("cancellableOperation",!1,C("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Q1(RQ,class{constructor(){this._tokens=new WeakMap}add(i,e){let t=this._tokens.get(i);t||(t=i.invokeWithinContext(r=>{const s=gme.bindTo(r.get(gn)),o=new nc;return{key:s,tokens:o}}),this._tokens.set(i,t));let n;return t.key.set(!0),n=t.tokens.push(e),()=>{n&&(n(),t.key.set(!t.tokens.isEmpty()),n=void 0)}}cancel(i){const e=this._tokens.get(i);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},!0);class F5e extends Ea{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext(n=>n.get(RQ).add(e,this))}dispose(){this._unregister(),super.dispose()}}rt(new class extends ea{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:gme})}runEditorCommand(i,e){i.get(RQ).cancel(e)}});let pme=class uK{constructor(e,t){if(this.flags=t,this.flags&1){const n=e.getModel();this.modelVersionId=n?Dc("{0}#{1}",n.uri.toString(),n.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=e.getPosition():this.position=null,this.flags&2?this.selection=e.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof uK))return!1;const t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new uK(e,this.flags))}};class $M extends F5e{constructor(e,t,n,r){super(e,r),this._listener=new tt,t&4&&this._listener.add(e.onDidChangeCursorPosition(s=>{(!n||!Q.containsPosition(n,s.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(s=>{(!n||!Q.containsRange(n,s.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(s=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(s=>this.cancel())),this._listener.add(e.onDidChangeModelContent(s=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class PQ extends Ea{constructor(e,t){super(t),this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class k1{constructor(e,t,n){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=n}static capture(e){let t=null,n=0;if(e.getScrollTop()!==0){const r=e.getVisibleRanges();if(r.length>0){t=r[0].getStartPosition();const s=e.getTopForPosition(t.lineNumber,t.column);n=e.getScrollTop()-s}}return new k1(t,n,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const n=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+n)}}const mme={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:fd.text,TERMINALS:"Terminals"};class B5e{constructor(e){this.data=e}update(){}getData(){return this.data}}const Rp={CurrentDragAndDropData:void 0};class pg extends Me{constructor(e,t,n={}){super(),this.options=n,this._context=e||this,this._action=t,t instanceof kc&&this._register(t.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new bx)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(qi.addTarget(e));const n=this.options&&this.options.draggable;n&&(e.draggable=!0,Kl&&this._register(Ze(e,Ut.DRAG_START,r=>{var s;return(s=r.dataTransfer)===null||s===void 0?void 0:s.setData(mme.TEXT,this._action.label)}))),this._register(Ze(t,mr.Tap,r=>this.onClick(r,!0))),this._register(Ze(t,Ut.MOUSE_DOWN,r=>{n||Fi.stop(r,!0),this._action.enabled&&r.button===0&&t.classList.add("active")})),Xn&&this._register(Ze(t,Ut.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(Ze(t,Ut.CLICK,r=>{Fi.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register(Ze(t,Ut.DBLCLICK,r=>{Fi.stop(r,!0)})),[Ut.MOUSE_UP,Ut.MOUSE_OUT].forEach(r=>{this._register(Ze(t,r,s=>{Fi.stop(s),t.classList.remove("active")}))})}onClick(e,t=!1){var n;Fi.stop(e,!0);const r=Qu(this._context)?!((n=this.options)===null||n===void 0)&&n.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,r)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class zM extends pg{constructor(e,t,n={}){super(e,t,n),this.options=n,this.options.icon=n.icon!==void 0?n.icon:!1,this.options.label=n.label!==void 0?n.label:!0,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=We(this.element,Ye("a.action-label"))),this.label&&(this._action.id===Ld.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(We(this.element,Ye("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=C({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}var W5e=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class Zg extends Me{constructor(e,t={}){var n,r,s,o,a,u;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new ye),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new ye({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new ye),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new ye),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=(n=t.context)!==null&&n!==void 0?n:null,this._orientation=(r=this.options.orientation)!==null&&r!==void 0?r:0,this._triggerKeys={keyDown:(o=(s=this.options.triggerKeys)===null||s===void 0?void 0:s.keyDown)!==null&&o!==void 0?o:!1,keys:(u=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&u!==void 0?u:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new bx,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(f=>this._onDidRun.fire(f))),this._register(this._actionRunner.onBeforeRun(f=>this._onBeforeRun.fire(f))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let c,h;switch(this._orientation){case 0:c=[15],h=[17];break;case 1:c=[16],h=[18],this.domNode.className+=" vertical";break}this._register(Ze(this.domNode,Ut.KEY_DOWN,f=>{const p=new Ar(f);let m=!0;const v=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(p.equals(c[0])||p.equals(c[1]))?m=this.focusPrevious():h&&(p.equals(h[0])||p.equals(h[1]))?m=this.focusNext():p.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():p.equals(14)?m=this.focusFirst():p.equals(13)?m=this.focusLast():p.equals(2)&&v instanceof pg&&v.trapsArrowNavigation?m=this.focusNext():this.isTriggerKeyEvent(p)?this._triggerKeys.keyDown?this.doTrigger(p):this.triggerKeyDown=!0:m=!1,m&&(p.preventDefault(),p.stopPropagation())})),this._register(Ze(this.domNode,Ut.KEY_UP,f=>{const p=new Ar(f);this.isTriggerKeyEvent(p)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(p)),p.preventDefault(),p.stopPropagation()):(p.equals(2)||p.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(vx(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(AS()===this.domNode||!um(AS(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(n=>n instanceof pg&&n.isEnabled());t instanceof pg&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof pg&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(n=>{t=t||e.equals(n)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(um(AS(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){const n=Array.isArray(e)?e:[e];let r=jC(t.index)?t.index:null;n.forEach(s=>{const o=document.createElement("li");o.className="action-item",o.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(Ze(o,Ut.CONTEXT_MENU,u=>{Fi.stop(u,!0)}));let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(s)),a||(a=new zM(this.context,s,t)),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(o),this.focusable&&a instanceof pg&&this.viewItems.length===0&&a.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(o),this.viewItems.push(a),this._actionIds.push(s.id)):(this.actionsList.insertBefore(o,this.actionsList.children[r]),this.viewItems.splice(r,0,a),this._actionIds.splice(r,0,s.id),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){ui(this.viewItems),this.viewItems=[],this._actionIds=[],ro(this.actionsList)}length(){return this.viewItems.length}focus(e){let t=!1,n;if(e===void 0?t=!0:typeof e=="number"?n=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){const r=this.viewItems.findIndex(s=>s.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else n!==void 0&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let n;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!n.isEnabled());return this.updateFocus(),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&this.options.focusOnlyEnabledItems&&!n.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t,n=!1){var r;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((r=this.viewItems[this.previouslyFocusedItem])===null||r===void 0||r.blur());const s=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(s){let o=!0;CF(s.focus)||(o=!1),this.options.focusOnlyEnabledItems&&CF(s.isEnabled)&&!s.isEnabled()&&(o=!1),o?(n||this.previouslyFocusedItem!==this.focusedItem)&&(s.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof pg){const n=t._context===null||t._context===void 0?e:t._context;this.run(t._action,n)}}run(e,t){return W5e(this,void 0,void 0,function*(){yield this._actionRunner.run(e,t)})}dispose(){ui(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}const V5e={IconContribution:"base.contributions.icons"};class H5e{constructor(){this._onDidChange=new ye,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:C("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:C("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${ml.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,n,r){const s=this.iconsById[e];if(s){if(n&&!s.description){s.description=n,this.iconSchema.properties[e].markdownDescription=`${n} $(${e})`;const u=this.iconReferenceSchema.enum.indexOf(e);u!==-1&&(this.iconReferenceSchema.enumDescriptions[u]=n),this._onDidChange.fire()}return s}let o={id:e,description:n,defaults:t,deprecationMessage:r};this.iconsById[e]=o;let a={$ref:"#/definitions/icons"};return r&&(a.deprecationMessage=r),n&&(a.markdownDescription=`${n}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(n||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconFont(e){return this.iconFontsById[e]}toString(){const e=(s,o)=>s.id.localeCompare(o.id),t=s=>{for(;Sr.isThemeIcon(s.defaults);)s=this.iconsById[s.defaults.id];return`codicon codicon-${s?s.id:""}`};let n=[];n.push("| preview     | identifier                        | default codicon ID                | description"),n.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const r=Object.keys(this.iconsById).map(s=>this.iconsById[s]);for(const s of r.filter(o=>!!o.description).sort(e))n.push(`|<i class="${t(s)}"></i>|${s.id}|${Sr.isThemeIcon(s.defaults)?s.defaults.id:s.id}|${s.description||""}|`);n.push("| preview     | identifier                        "),n.push("| ----------- | --------------------------------- |");for(const s of r.filter(o=>!Sr.isThemeIcon(o.defaults)).sort(e))n.push(`|<i class="${t(s)}"></i>|${s.id}|`);return n.join(`
`)}}const iy=new H5e;ds.add(V5e.IconContribution,iy);function To(i,e,t,n){return iy.registerIcon(i,e,t,n)}function $5e(){return iy}function z5e(){for(const i of bF.all)iy.registerIcon(i.id,i.definition,i.description);bF.onDidRegister(i=>iy.registerIcon(i.id,i.definition,i.description))}z5e();const _me="vscode://schemas/icons";let vme=ds.as(yB.JSONContribution);vme.registerSchema(_me,iy.getIconSchema());const rse=new lr(()=>vme.notifySchemaChanged(_me),200);iy.onDidChange(()=>{rse.isScheduled()||rse.schedule()});const bme=To("widget-close",ve.close,C("widgetClose","Icon for the close action in widgets."));var U5e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},j5e=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},K5e=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})},d$;const M5=3;class wA{constructor(e,t,n,r){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=n,this.modifiedLineEnd=r}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class h${constructor(e){this.entries=e}}const q5e=To("diff-review-insert",ve.add,C("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),G5e=To("diff-review-remove",ve.remove,C("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Y5e=To("diff-review-close",ve.close,C("diffReviewCloseIcon","Icon for 'Close' in diff review."));let h7=class wb extends Me{constructor(e,t){super(),this._modeService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=li(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=li(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Zg(this.actionBarContainer.domNode)),this._actionBar.push(new kc("diffreview.close",C("label.close","Close"),"close-diff-review "+Sr.asClassName(Y5e),!0,()=>K5e(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=li(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=li(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new JP(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(vo(this.domNode.domNode,"click",n=>{n.preventDefault();let r=jfe(n.target,"diff-review-row");r&&this._goToRow(r)})),this._register(vo(this.domNode.domNode,"keydown",n=>{(n.equals(18)||n.equals(2066)||n.equals(530))&&(n.preventDefault(),this._goToRow(this._getNextRow())),(n.equals(16)||n.equals(2064)||n.equals(528))&&(n.preventDefault(),this._goToRow(this._getPrevRow())),(n.equals(9)||n.equals(2057)||n.equals(521)||n.equals(1033))&&(n.preventDefault(),this.hide()),(n.equals(10)||n.equals(3))&&(n.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let n=-1;for(let r=0,s=this._diffs.length;r<s;r++)if(this._diffs[r]===this._currentDiff){n=r;break}e=this._diffs.length+n-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Ee(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let n=-1;for(let r=0,s=this._diffs.length;r<s;r++)if(this._diffs[r]===this._currentDiff){n=r;break}e=n+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Ee(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let n=parseInt(t.getAttribute("data-line"),10);isNaN(n)||(e=n)}this.hide(),e!==-1&&(this._diffEditor.setPosition(new Ee(e,1)),this._diffEditor.revealPosition(new Ee(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,n){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(n),this._content.setHeight(n),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const e=this._diffEditor.getLineChanges();if(!e||e.length===0)return[];const t=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel();return!t||!n?[]:wb._mergeAdjacent(e,t.getLineCount(),n.getLineCount())}static _mergeAdjacent(e,t,n){if(!e||e.length===0)return[];let r=[],s=0;for(let c=0,h=e.length;c<h;c++){const f=e[c],p=f.originalStartLineNumber,m=f.originalEndLineNumber,v=f.modifiedStartLineNumber,b=f.modifiedEndLineNumber;let S=[],x=0;{const w=m===0?p:p-1,E=b===0?v:v-1;let N=1,A=1;if(c>0){const M=e[c-1];M.originalEndLineNumber===0?N=M.originalStartLineNumber+1:N=M.originalEndLineNumber+1,M.modifiedEndLineNumber===0?A=M.modifiedStartLineNumber+1:A=M.modifiedEndLineNumber+1}let H=w-M5+1,R=E-M5+1;if(H<N){const M=N-H;H=H+M,R=R+M}if(R<A){const M=A-R;H=H+M,R=R+M}S[x++]=new wA(H,w,R,E)}m!==0&&(S[x++]=new wA(p,m,0,0)),b!==0&&(S[x++]=new wA(0,0,v,b));{const w=m===0?p+1:m+1,E=b===0?v+1:b+1;let N=t,A=n;if(c+1<h){const M=e[c+1];M.originalEndLineNumber===0?N=M.originalStartLineNumber:N=M.originalStartLineNumber-1,M.modifiedEndLineNumber===0?A=M.modifiedStartLineNumber:A=M.modifiedStartLineNumber-1}let H=w+M5-1,R=E+M5-1;if(H>N){const M=N-H;H=H+M,R=R+M}if(R>A){const M=A-R;H=H+M,R=R+M}S[x++]=new wA(w,H,E,R)}r[s++]=new h$(S)}let o=r[0].entries,a=[],u=0;for(let c=1,h=r.length;c<h;c++){const f=r[c].entries,p=o[o.length-1],m=f[0];if(p.getType()===0&&m.getType()===0&&m.originalLineStart<=p.originalLineEnd){o[o.length-1]=new wA(p.originalLineStart,m.originalLineEnd,p.modifiedLineStart,m.modifiedLineEnd),o=o.concat(f.slice(1));continue}a[u++]=new h$(o),o=f}return a[u++]=new h$(o),a}_findDiffIndex(e){const t=e.lineNumber;for(let n=0,r=this._diffs.length;n<r;n++){const s=this._diffs[n].entries,o=s[s.length-1].modifiedLineEnd;if(t<=o)return n}return 0}_render(){const e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),n=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),s=n.getOptions(),o=r.getOptions();if(!this._isVisible||!n||!r){ro(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];const u=this._diffs[a].entries;let c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),c.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Qa.applyFontInfoSlow(c,t.get(43));let h=0,f=0,p=0,m=0;for(let R=0,M=u.length;R<M;R++){const G=u[R],X=G.originalLineStart,$=G.originalLineEnd,I=G.modifiedLineStart,O=G.modifiedLineEnd;X!==0&&(h===0||X<h)&&(h=X),$!==0&&(f===0||$>f)&&(f=$),I!==0&&(p===0||I<p)&&(p=I),O!==0&&(m===0||O>m)&&(m=O)}let v=document.createElement("div");v.className="diff-review-row";let b=document.createElement("div");b.className="diff-review-cell diff-review-summary";const S=f-h+1,x=m-p+1;b.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${h},${S} +${p},${x} @@`)),v.setAttribute("data-line",String(p));const w=R=>R===0?C("no_lines_changed","no lines changed"):R===1?C("one_line_changed","1 line changed"):C("more_lines_changed","{0} lines changed",R),E=w(S),N=w(x);v.setAttribute("aria-label",C({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,h,E,p,N)),v.appendChild(b),v.setAttribute("role","listitem"),c.appendChild(v);const A=t.get(58);let H=p;for(let R=0,M=u.length;R<M;R++){const G=u[R];wb._renderSection(c,G,H,A,this._width,e,n,s,t,r,o,this._modeService.languageIdCodec),G.modifiedLineStart!==0&&(H=G.modifiedLineEnd)}ro(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}static _renderSection(e,t,n,r,s,o,a,u,c,h,f,p){const m=t.getType();let v="diff-review-row",b="";const S="diff-review-spacer";let x=null;switch(m){case 1:v="diff-review-row line-insert",b=" char-insert",x=q5e;break;case 2:v="diff-review-row line-delete",b=" char-delete",x=G5e;break}const w=t.originalLineStart,E=t.originalLineEnd,N=t.modifiedLineStart,A=t.modifiedLineEnd,H=Math.max(A-N,E-w),R=o.get(130),M=R.glyphMarginWidth+R.lineNumbersWidth,G=c.get(130),X=10+G.glyphMarginWidth+G.lineNumbersWidth;for(let $=0;$<=H;$++){const I=w===0?0:w+$,O=N===0?0:N+$,B=document.createElement("div");B.style.minWidth=s+"px",B.className=v,B.setAttribute("role","listitem"),O!==0&&(n=O),B.setAttribute("data-line",String(n));let W=document.createElement("div");W.className="diff-review-cell",W.style.height=`${r}px`,B.appendChild(W);const j=document.createElement("span");j.style.width=M+"px",j.style.minWidth=M+"px",j.className="diff-review-line-number"+b,I!==0?j.appendChild(document.createTextNode(String(I))):j.innerText="",W.appendChild(j);const U=document.createElement("span");U.style.width=X+"px",U.style.minWidth=X+"px",U.style.paddingRight="10px",U.className="diff-review-line-number"+b,O!==0?U.appendChild(document.createTextNode(String(O))):U.innerText="",W.appendChild(U);const K=document.createElement("span");if(K.className=S,x){const q=document.createElement("span");q.className=Sr.asClassName(x),q.innerText="",K.appendChild(q)}else K.innerText="";W.appendChild(K);let z;if(O!==0){let q=this._renderLine(h,c,f.tabSize,O,p);wb._ttPolicy&&(q=wb._ttPolicy.createHTML(q)),W.insertAdjacentHTML("beforeend",q),z=h.getLineContent(O)}else{let q=this._renderLine(a,o,u.tabSize,I,p);wb._ttPolicy&&(q=wb._ttPolicy.createHTML(q)),W.insertAdjacentHTML("beforeend",q),z=a.getLineContent(I)}z.length===0&&(z=C("blankLine","blank"));let k="";switch(m){case 0:I===O?k=C({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",z,I):k=C("equalLine","{0} original line {1} modified line {2}",z,I,O);break;case 1:k=C("insertLine","+ {0} modified line {1}",z,O);break;case 2:k=C("deleteLine","- {0} original line {1}",z,I);break}B.setAttribute("aria-label",k),e.appendChild(B)}}static _renderLine(e,t,n,r,s){const o=e.getLineContent(r),a=t.get(43),u=_o.createEmpty(o,s),c=uc.isBasicASCII(o,e.mightContainNonBasicASCII()),h=uc.containsRTL(o,c,e.mightContainRTL());return NB(new Gy(a.isMonospace&&!t.get(29),a.canUseHalfwidthRightwardsArrow,o,!1,c,h,0,u,[],n,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(104),t.get(87),t.get(82),t.get(44)!==Ju.OFF,null)).html}};h7._ttPolicy=(d$=window.trustedTypes)===null||d$===void 0?void 0:d$.createPolicy("diffReview",{createHTML:i=>i});h7=U5e([j5e(1,ta)],h7);Cr((i,e)=>{const t=i.getColor($pe);t&&e.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${t}; }`);const n=i.getColor(kE);n&&e.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${n} 0 -6px 6px -6px inset; }`)});class Z5e extends Dt{constructor(){super({id:"editor.action.diffReview.next",label:C("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:bt.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const n=Cme(e);n&&n.diffReviewNext()}}class X5e extends Dt{constructor(){super({id:"editor.action.diffReview.prev",label:C("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:bt.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const n=Cme(e);n&&n.diffReviewPrev()}}function Cme(i){const e=i.get(Mi),t=e.listDiffEditors(),n=e.getActiveCodeEditor();if(!n)return null;for(let r=0,s=t.length;r<s;r++){const o=t[r];if(o.getModifiedEditor().getId()===n.getId()||o.getOriginalEditor().getId()===n.getId())return o}return null}st(Z5e);st(X5e);const Q5e="editorWorkerService",fc=Ci(Q5e),Rm=Ci("contextViewService"),J1=Ci("contextMenuService");var f$=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class J5e extends Me{constructor(e,t,n,r,s,o){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=n,this.diff=r,this._contextMenuService=s,this._clipboardService=o,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=ve.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=n.getOption(58),u=n.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);const c=[],h=r.modifiedEndLineNumber===0;c.push(new kc("diff.clipboard.copyDeletedContent",h?r.originalEndLineNumber>r.modifiedStartLineNumber?C("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):C("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):r.originalEndLineNumber>r.modifiedStartLineNumber?C("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):C("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>f$(this,void 0,void 0,function*(){const b=new Q(r.originalStartLineNumber,1,r.originalEndLineNumber+1,1),S=r.originalModel.getValueInRange(b);yield this._clipboardService.writeText(S)})));let f=0,p;r.originalEndLineNumber>r.modifiedStartLineNumber&&(p=new kc("diff.clipboard.copyDeletedLineContent",h?C("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.originalStartLineNumber):C("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.originalStartLineNumber),void 0,!0,()=>f$(this,void 0,void 0,function*(){const b=r.originalModel.getLineContent(r.originalStartLineNumber+f);if(b===""){const S=r.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(S===0?`
`:`\r
`)}else yield this._clipboardService.writeText(b)})),c.push(p)),n.getOption(80)||c.push(new kc("diff.inline.revertChange",C("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>f$(this,void 0,void 0,function*(){const b=new Q(r.originalStartLineNumber,1,r.originalEndLineNumber,r.originalModel.getLineMaxColumn(r.originalEndLineNumber)),S=r.originalModel.getValueInRange(b);if(r.modifiedEndLineNumber===0){const x=n.getModel().getLineMaxColumn(r.modifiedStartLineNumber);n.executeEdits("diffEditor",[{range:new Q(r.modifiedStartLineNumber,x,r.modifiedStartLineNumber,x),text:u+S}])}else{const x=n.getModel().getLineMaxColumn(r.modifiedEndLineNumber);n.executeEdits("diffEditor",[{range:new Q(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,x),text:S}])}})));const v=(b,S)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:b,y:S}),getActions:()=>(p&&(p.label=h?C("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.originalStartLineNumber+f):C("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.originalStartLineNumber+f)),c),autoSelectFirstItem:!0})};this._register(vo(this._diffActions,"mousedown",b=>{const{top:S,height:x}=ca(this._diffActions);let w=Math.floor(a/3);b.preventDefault(),v(b.posx,S+x+w)})),this._register(n.onMouseMove(b=>{b.target.type===8||b.target.type===5?b.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,f=this._updateLightBulbPosition(this._marginDomNode,b.event.browserEvent.y,a)):this.visibility=!1:this.visibility=!1})),this._register(n.onMouseDown(b=>{b.event.rightButton&&(b.target.type===8||b.target.type===5)&&b.target.detail.viewZoneId===this._viewZoneId&&(b.event.preventDefault(),f=this._updateLightBulbPosition(this._marginDomNode,b.event.browserEvent.y,a),v(b.event.posx,b.event.posy+a))}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,e?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(e,t,n){const{top:r}=ca(e),s=t-r,o=Math.floor(s/n),a=o*n;if(this._diffActions.style.top=`${a}px`,this.diff.viewLineCounts){let u=0;for(let c=0;c<this.diff.viewLineCounts.length;c++)if(u+=this.diff.viewLineCounts[c],o<u)return c}return o}}const eb=Ci("clipboardService");class Zy{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}Zy.None=Object.freeze({report(){}});const Pm=Ci("editorProgressService");var e6e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Lp=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},g$;class sse{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(t=>!this._zonesMap[String(t.id)])}clean(e){this._zones.length>0&&e.changeViewZones(t=>{for(const n of this._zones)t.removeZone(n)}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,n,r){const s=r?k1.capture(e):null;e.changeViewZones(o=>{var a;for(const u of this._zones)o.removeZone(u);for(const u of this._inlineDiffMargins)u.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let u=0,c=n.zones.length;u<c;u++){const h=n.zones[u];h.suppressMouseDown=!0;const f=o.addZone(h);this._zones.push(f),this._zonesMap[String(f)]=!0,n.zones[u].diff&&h.marginDomNode&&(h.suppressMouseDown=!1,((a=n.zones[u].diff)===null||a===void 0?void 0:a.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new J5e(f,h.marginDomNode,e,n.zones[u].diff,this._contextMenuService,this._clipboardService)))}}),s&&s.restore(e),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t&&t.setZones(n.overviewZones)}}let t6e=0;const n6e=To("diff-insert",ve.add,C("diffInsertIcon","Line decoration for inserts in the diff editor.")),yme=To("diff-remove",ve.remove,C("diffRemoveIcon","Line decoration for removals in the diff editor.")),ose=(g$=window.trustedTypes)===null||g$===void 0?void 0:g$.createPolicy("diffEditorWidget",{createHTML:i=>i});let N1=class na extends Me{constructor(e,t,n,r,s,o,a,u,c,h,f,p){super(),this._editorProgressService=p,this._onDidDispose=this._register(new ye),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new ye),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new ye),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=s,this._codeEditorService=u,this._contextKeyService=this._register(o.createScoped(e)),this._instantiationService=a.createChild(new WM([gn,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=c,this._notificationService=h,this._id=++t6e,this._state=0,this._updatingDiffProgress=null,this._domElement=e,t=t||{},this._options=use(t,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof t.isInEmbeddedEditor<"u"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",t.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new lr(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=na._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=li(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(vo(this._overviewDomElement,"mousedown",v=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(v)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new sse(f,r),this._modifiedEditorState=new sse(f,r),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new kge(this._containerDomElement,t.dimension,()=>this._onDidContainerSizeChanged())),t.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(t,n.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(t,n.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(h7,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Yp(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new lse(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(c.onDidColorThemeChange(v=>{this._strategy&&this._strategy.applyColors(v)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=na._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const m=RS.getDiffEditorContributions();for(const v of m)try{this._register(a.createInstance(v.ctor,this))}catch(b){vn(b)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=DF(e.type),n}_recreateOverviewRulers(){this._options.renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(e,t){const n=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(e),t);this._register(n.onDidScrollChange(s=>{this._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(n.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(n.onDidChangeConfiguration(s=>{n.getModel()&&(s.hasChanged(43)&&this._updateDecorationsRunner.schedule(),s.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(n.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(n.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const r=this._contextKeyService.createKey("isInDiffLeftEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget(()=>r.set(!0))),this._register(n.onDidBlurEditorWidget(()=>r.set(!1))),this._register(n.onDidContentSizeChange(s=>{const o=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+na.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:o,contentHeightChanged:s.contentHeightChanged,contentWidthChanged:s.contentWidthChanged})})),n}_createRightHandSideEditor(e,t){const n=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e),t);this._register(n.onDidScrollChange(s=>{this._isHandlingScrollEvent||!s.scrollTopChanged&&!s.scrollLeftChanged&&!s.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(n.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(n.onDidChangeConfiguration(s=>{n.getModel()&&(s.hasChanged(43)&&this._updateDecorationsRunner.schedule(),s.hasChanged(131)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(n.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(n.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(n.onDidChangeModelOptions(s=>{s.tabSize&&this._updateDecorationsRunner.schedule()}));const r=this._contextKeyService.createKey("isInDiffRightEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget(()=>r.set(!0))),this._register(n.onDidBlurEditorWidget(()=>r.set(!1))),this._register(n.onDidContentSizeChange(s=>{const o=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+na.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:o,contentHeightChanged:s.contentHeightChanged,contentWidthChanged:s.contentWidthChanged})})),n}_createInnerEditor(e,t,n,r){return e.createInstance(HM,t,n,r)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return t3.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(e){const t=use(e,this._options),n=o6e(this._options,t);this._options=t;const r=n.ignoreTrimWhitespace||n.renderIndicators,s=this._isVisible&&(n.maxComputationTime||n.maxFileSize);r?this._beginUpdateDecorations():s&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),n.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Yp(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new lse(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=na._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),n.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,n=0){this._modifiedEditor.revealLines(e,t,n)}revealLinesInCenter(e,t,n=0){this._modifiedEditor.revealLinesInCenter(e,t,n)}revealLinesInCenterIfOutsideViewport(e,t,n=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,n)}revealLinesNearTop(e,t,n=0){this._modifiedEditor.revealLinesNearTop(e,t,n)}revealRange(e,t=0,n=!1,r=!0){this._modifiedEditor.revealRange(e,t,n,r)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const e=this._originalEditor.saveViewState(),t=this._modifiedEditor.saveViewState();return{original:e,modified:t}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,n){this._modifiedEditor.trigger(e,t,n)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),n=na.ENTIRE_DIFF_OVERVIEW_WIDTH-2*na.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:na.ONE_OVERVIEW_WIDTH,right:n+na.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:na.ONE_OVERVIEW_WIDTH,height:e-t}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),na.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t?!0:!e||!t?!1:e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const e=this._originalEditor.getModel(),t=this._modifiedEditor.getModel();if(!e||!t)return;this._diffComputationToken++;const n=this._diffComputationToken,r=this._options.maxFileSize*1024*1024,s=o=>{const a=o.getValueLength();return r===0||a<=r};if(!s(e)||!s(t)){(!na._equals(e.uri,this._lastOriginalWarning)||!na._equals(t.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=e.uri,this._lastModifiedWarning=t.uri,this._notificationService.warn(C("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(e.uri,t.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(o=>{n===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=o,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},o=>{n===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),n=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),r=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,t,n);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,r.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,r.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(e){const t=this._adjustOptionsForSubEditor(e);return e.modifiedAriaLabel&&(t.ariaLabel=e.modifiedAriaLabel),t.wordWrapOverride1=this._options.diffWordWrap,t.revealHorizontalRightPadding=zf.revealHorizontalRightPadding.defaultValue+na.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),r=this._strategy.layout();this._originalDomNode.style.width=r+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-r+"px",this._modifiedDomNode.style.left=r+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-n+"px",this._overviewDomElement.style.width=na.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-na.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(na.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:r,height:t-n}),this._modifiedEditor.layout({width:e-r-(this._options.renderOverviewRuler?na.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:t-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-n,e,n),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),n=this._modifiedEditor.getScrollHeight(),r=Math.max(0,e.height),s=Math.max(0,r-2*0),o=n>0?s/n:0,a=Math.max(0,Math.floor(e.height*o)),u=Math.floor(t*o);return{height:a,top:u}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const n=this._diffComputationResult?this._diffComputationResult.changes:[];if(n.length===0||e<t(n[0]))return null;let r=0,s=n.length-1;for(;r<s;){const o=Math.floor((r+s)/2),a=t(n[o]),u=o+1<=s?t(n[o+1]):1073741824;e<a?s=o-1:e>=u?r=o+1:(r=o,s=o)}return n[r]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,u=>u.originalStartLineNumber);if(!t)return e;const n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),r=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),s=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-n;return a<=s?r+Math.min(a,o):r+o-s+a}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,u=>u.modifiedStartLineNumber);if(!t)return e;const n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),r=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),s=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-r;return a<=o?n+Math.min(a,s):n+s-o+a}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};N1.ONE_OVERVIEW_WIDTH=15;N1.ENTIRE_DIFF_OVERVIEW_WIDTH=30;N1.UPDATE_DIFF_DECORATIONS_DELAY=200;N1=e6e([Lp(3,eb),Lp(4,fc),Lp(5,gn),Lp(6,Rn),Lp(7,Mi),Lp(8,Rr),Lp(9,Ts),Lp(10,J1),Lp(11,Pm)],N1);class wme extends Me{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(Xge)||Hj).transparent(2),n=(e.getColor(Qge)||$j).transparent(2),r=!t.equals(this._insertColor)||!n.equals(this._removeColor);return this._insertColor=t,this._removeColor=n,r}getEditorsDiffDecorations(e,t,n,r,s){s=s.sort((c,h)=>c.afterLineNumber-h.afterLineNumber),r=r.sort((c,h)=>c.afterLineNumber-h.afterLineNumber);const o=this._getViewZones(e,r,s,n),a=this._getOriginalEditorDecorations(e,t,n),u=this._getModifiedEditorDecorations(e,t,n);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:o.original},modified:{decorations:u.decorations,overviewZones:u.overviewZones,zones:o.modified}}}}class ase{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class Zb{constructor(e,t,n,r,s){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=n,this._originalEditor=r,this._modifiedEditor=s}static _getViewLineCount(e,t,n){const r=e.getModel(),s=e._getViewModel();if(r&&s){const o=UM(r,s,t,n);return o.endLineNumber-o.startLineNumber+1}return n-t+1}getViewZones(){const e=this._originalEditor.getOption(58),t=this._modifiedEditor.getOption(58),n=this._originalEditor.getOption(131).wrappingColumn!==-1,r=this._modifiedEditor.getOption(131).wrappingColumn!==-1,s=n||r,o=this._originalEditor.getModel(),a=this._originalEditor._getViewModel().coordinatesConverter,u=this._modifiedEditor._getViewModel().coordinatesConverter,c={original:[],modified:[]};let h=0,f=0,p=0,m=0,v=0,b=0;const S=(H,R)=>H.afterLineNumber-R.afterLineNumber,x=(H,R)=>{if(R.domNode===null&&H.length>0){const M=H[H.length-1];if(M.afterLineNumber===R.afterLineNumber&&M.domNode===null){M.heightInLines+=R.heightInLines;return}}H.push(R)},w=new ase(this._modifiedForeignVZ),E=new ase(this._originalForeignVZ);let N=1,A=1;for(let H=0,R=this._lineChanges.length;H<=R;H++){const M=H<R?this._lineChanges[H]:null;M!==null?(p=M.originalStartLineNumber+(M.originalEndLineNumber>0?-1:0),m=M.modifiedStartLineNumber+(M.modifiedEndLineNumber>0?-1:0),f=M.originalEndLineNumber>0?Zb._getViewLineCount(this._originalEditor,M.originalStartLineNumber,M.originalEndLineNumber):0,h=M.modifiedEndLineNumber>0?Zb._getViewLineCount(this._modifiedEditor,M.modifiedStartLineNumber,M.modifiedEndLineNumber):0,v=Math.max(M.originalStartLineNumber,M.originalEndLineNumber),b=Math.max(M.modifiedStartLineNumber,M.modifiedEndLineNumber)):(p+=1e7+f,m+=1e7+h,v=p,b=m);let G=[],X=[];if(s){let O;M?M.originalEndLineNumber>0?O=M.originalStartLineNumber-N:O=M.modifiedStartLineNumber-A:O=o.getLineCount()-N;for(let B=0;B<O;B++){const W=N+B,j=A+B,U=a.getModelLineViewLineCount(W),K=u.getModelLineViewLineCount(j);U<K?G.push({afterLineNumber:W,heightInLines:K-U,domNode:null,marginDomNode:null}):U>K&&X.push({afterLineNumber:j,heightInLines:U-K,domNode:null,marginDomNode:null})}M&&(N=(M.originalEndLineNumber>0?M.originalEndLineNumber:M.originalStartLineNumber)+1,A=(M.modifiedEndLineNumber>0?M.modifiedEndLineNumber:M.modifiedStartLineNumber)+1)}for(;w.current&&w.current.afterLineNumber<=b;){let O;w.current.afterLineNumber<=m?O=p-m+w.current.afterLineNumber:O=v;let B=null;M&&M.modifiedStartLineNumber<=w.current.afterLineNumber&&w.current.afterLineNumber<=M.modifiedEndLineNumber&&(B=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),G.push({afterLineNumber:O,heightInLines:w.current.height/t,domNode:null,marginDomNode:B}),w.advance()}for(;E.current&&E.current.afterLineNumber<=v;){let O;E.current.afterLineNumber<=p?O=m-p+E.current.afterLineNumber:O=b,X.push({afterLineNumber:O,heightInLines:E.current.height/e,domNode:null}),E.advance()}if(M!==null&&KS(M)){const O=this._produceOriginalFromDiff(M,f,h);O&&G.push(O)}if(M!==null&&qS(M)){const O=this._produceModifiedFromDiff(M,f,h);O&&X.push(O)}let $=0,I=0;for(G=G.sort(S),X=X.sort(S);$<G.length&&I<X.length;){const O=G[$],B=X[I],W=O.afterLineNumber-p,j=B.afterLineNumber-m;W<j?(x(c.original,O),$++):j<W?(x(c.modified,B),I++):O.shouldNotShrink?(x(c.original,O),$++):B.shouldNotShrink?(x(c.modified,B),I++):O.heightInLines>=B.heightInLines?(O.heightInLines-=B.heightInLines,I++):(B.heightInLines-=O.heightInLines,$++)}for(;$<G.length;)x(c.original,G[$]),$++;for(;I<X.length;)x(c.modified,X[I]),I++}return{original:Zb._ensureDomNodes(c.original),modified:Zb._ensureDomNodes(c.modified)}}static _ensureDomNodes(e){return e.map(t=>(t.domNode||(t.domNode=Sme()),t))}}function $p(i,e,t,n,r){return{range:new Q(i,e,t,n),options:r}}const ul={charDelete:Tn.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Tn.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Tn.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Tn.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Tn.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:Tn.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Sr.asClassName(n6e),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:Tn.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:Tn.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Sr.asClassName(yme),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:Tn.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class Yp extends wme{constructor(e,t){super(e),this._disableSash=t===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new oa(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(n=>this._onSashDrag(n)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){const t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const n=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?N1.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let r=Math.floor((e||.5)*n);const s=Math.floor(.5*n);return r=this._disableSash?s:r||s,n>Yp.MINIMUM_EDITOR_WIDTH*2?(r<Yp.MINIMUM_EDITOR_WIDTH&&(r=Yp.MINIMUM_EDITOR_WIDTH),r>n-Yp.MINIMUM_EDITOR_WIDTH&&(r=n-Yp.MINIMUM_EDITOR_WIDTH)):r=s,this._sashPosition!==r&&(this._sashPosition=r,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const n=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?N1.ENTIRE_DIFF_OVERVIEW_WIDTH:0),r=this.layout((this._startSashPosition+(e.currentX-e.startX))/n);this._sashRatio=r/n,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,n){const r=this._dataSource.getOriginalEditor(),s=this._dataSource.getModifiedEditor();return new i6e(e,t,n,r,s).getViewZones()}_getOriginalEditorDecorations(e,t,n){const r=this._dataSource.getOriginalEditor(),s=String(this._removeColor),o={decorations:[],overviewZones:[]},a=r.getModel(),u=r._getViewModel();for(const c of e)if(qS(c)){o.decorations.push({range:new Q(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824),options:n?ul.lineDeleteWithSign:ul.lineDelete}),(!KS(c)||!c.charChanges)&&o.decorations.push($p(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824,ul.charDeleteWholeLine));const h=UM(a,u,c.originalStartLineNumber,c.originalEndLineNumber);if(o.overviewZones.push(new PM(h.startLineNumber,h.endLineNumber,s)),c.charChanges){for(const f of c.charChanges)if(qS(f))if(t)for(let p=f.originalStartLineNumber;p<=f.originalEndLineNumber;p++){let m,v;p===f.originalStartLineNumber?m=f.originalStartColumn:m=a.getLineFirstNonWhitespaceColumn(p),p===f.originalEndLineNumber?v=f.originalEndColumn:v=a.getLineLastNonWhitespaceColumn(p),o.decorations.push($p(p,m,p,v,ul.charDelete))}else o.decorations.push($p(f.originalStartLineNumber,f.originalStartColumn,f.originalEndLineNumber,f.originalEndColumn,ul.charDelete))}}return o}_getModifiedEditorDecorations(e,t,n){const r=this._dataSource.getModifiedEditor(),s=String(this._insertColor),o={decorations:[],overviewZones:[]},a=r.getModel(),u=r._getViewModel();for(const c of e)if(KS(c)){o.decorations.push({range:new Q(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824),options:n?ul.lineInsertWithSign:ul.lineInsert}),(!qS(c)||!c.charChanges)&&o.decorations.push($p(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824,ul.charInsertWholeLine));const h=UM(a,u,c.modifiedStartLineNumber,c.modifiedEndLineNumber);if(o.overviewZones.push(new PM(h.startLineNumber,h.endLineNumber,s)),c.charChanges){for(const f of c.charChanges)if(KS(f))if(t)for(let p=f.modifiedStartLineNumber;p<=f.modifiedEndLineNumber;p++){let m,v;p===f.modifiedStartLineNumber?m=f.modifiedStartColumn:m=a.getLineFirstNonWhitespaceColumn(p),p===f.modifiedEndLineNumber?v=f.modifiedEndColumn:v=a.getLineLastNonWhitespaceColumn(p),o.decorations.push($p(p,m,p,v,ul.charInsert))}else o.decorations.push($p(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,ul.charInsert))}}return o}}Yp.MINIMUM_EDITOR_WIDTH=100;class i6e extends Zb{constructor(e,t,n,r,s){super(e,t,n,r,s)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,n){return n>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n-t,domNode:null}:null}_produceModifiedFromDiff(e,t,n){return t>n?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-n,domNode:null}:null}}class lse extends wme{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(n=>{this._decorationsLeft!==n.decorationsLeft&&(this._decorationsLeft=n.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,n,r){const s=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new r6e(e,t,n,s,o,r).getViewZones()}_getOriginalEditorDecorations(e,t,n){const r=String(this._removeColor),s={decorations:[],overviewZones:[]},o=this._dataSource.getOriginalEditor(),a=o.getModel(),u=o._getViewModel();for(const c of e)if(qS(c)){s.decorations.push({range:new Q(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824),options:ul.lineDeleteMargin});const h=UM(a,u,c.originalStartLineNumber,c.originalEndLineNumber);s.overviewZones.push(new PM(h.startLineNumber,h.endLineNumber,r))}return s}_getModifiedEditorDecorations(e,t,n){const r=this._dataSource.getModifiedEditor(),s=String(this._insertColor),o={decorations:[],overviewZones:[]},a=r.getModel(),u=r._getViewModel();for(const c of e)if(KS(c)){o.decorations.push({range:new Q(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824),options:n?ul.lineInsertWithSign:ul.lineInsert});const h=UM(a,u,c.modifiedStartLineNumber,c.modifiedEndLineNumber);if(o.overviewZones.push(new PM(h.startLineNumber,h.endLineNumber,s)),c.charChanges){for(const f of c.charChanges)if(KS(f))if(t)for(let p=f.modifiedStartLineNumber;p<=f.modifiedEndLineNumber;p++){let m,v;p===f.modifiedStartLineNumber?m=f.modifiedStartColumn:m=a.getLineFirstNonWhitespaceColumn(p),p===f.modifiedEndLineNumber?v=f.modifiedEndColumn:v=a.getLineLastNonWhitespaceColumn(p),o.decorations.push($p(p,m,p,v,ul.charInsert))}else o.decorations.push($p(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,ul.charInsert))}else o.decorations.push($p(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824,ul.charInsertWholeLine))}return o}layout(){return Math.max(5,this._decorationsLeft)}}class r6e extends Zb{constructor(e,t,n,r,s,o){super(e,t,n,r,s),this._originalModel=r.getModel(),this._renderIndicators=o,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,n){const r=document.createElement("div");return r.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n,domNode:document.createElement("div"),marginDomNode:r}}_produceModifiedFromDiff(e,t,n){const r=document.createElement("div");r.className=`view-lines line-delete ${mC}`;const s=document.createElement("div");s.className="inline-deleted-margin-view-zone";const o={shouldNotShrink:!0,afterLineNumber:e.modifiedEndLineNumber===0?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:r,marginDomNode:s,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(a),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(o),o}_finalize(e){const t=this._modifiedEditor.getOptions(),n=this._modifiedEditor.getModel().getOptions().tabSize,r=t.get(43),s=t.get(29),o=r.typicalHalfwidthCharacterWidth,a=t.get(92),u=this._originalModel.mightContainNonBasicASCII(),c=this._originalModel.mightContainRTL(),h=t.get(58),p=t.get(130).decorationsWidth,m=t.get(104),v=t.get(87),b=t.get(82),S=t.get(44),x=this._lineBreaksComputer.finalize();let w=0;for(let E=0;E<this._pendingLineChange.length;E++){const N=this._pendingLineChange[E],A=this._pendingViewZones[E],H=A.domNode;Qa.applyFontInfoSlow(H,r);const R=A.marginDomNode;Qa.applyFontInfoSlow(R,r);const M=[];if(N.charChanges)for(const j of N.charChanges)qS(j)&&M.push(new DO(new Q(j.originalStartLineNumber,j.originalStartColumn,j.originalEndLineNumber,j.originalEndColumn),"char-delete",0));const G=M.length>0,X=QC(1e4);let $=0,I=0,O=null;for(let j=N.originalStartLineNumber;j<=N.originalEndLineNumber;j++){const U=j-N.originalStartLineNumber,K=this._originalModel.getLineTokens(j),z=K.getLineContent(),k=x[w++],q=ic.filter(M,j,1,z.length+1);if(k){let fe=0;for(const Ce of k.breakOffsets){const Te=K.sliceAndInflate(fe,Ce,0),He=z.substring(fe,Ce);$=Math.max($,this._renderOriginalLine(I++,He,Te,ic.extractWrapped(q,fe,Ce),G,u,c,r,s,h,p,m,v,b,S,n,X,R)),fe=Ce}for(O||(O=[]);O.length<U;)O[O.length]=1;O[U]=k.breakOffsets.length,A.heightInLines+=k.breakOffsets.length-1;const ne=document.createElement("div");ne.className="line-delete",e.original.push({afterLineNumber:j,afterColumn:0,heightInLines:k.breakOffsets.length-1,domNode:Sme(),marginDomNode:ne})}else $=Math.max($,this._renderOriginalLine(I++,z,K,q,G,u,c,r,s,h,p,m,v,b,S,n,X,R))}$+=a;const B=X.build(),W=ose?ose.createHTML(B):B;if(H.innerHTML=W,A.minWidthInPx=$*o,O){const j=N.originalEndLineNumber-N.originalStartLineNumber;for(;O.length<=j;)O[O.length]=1}A.diff.viewLineCounts=O}e.original.sort((E,N)=>E.afterLineNumber-N.afterLineNumber)}_renderOriginalLine(e,t,n,r,s,o,a,u,c,h,f,p,m,v,b,S,x,w){x.appendASCIIString('<div class="view-line'),s||x.appendASCIIString(" char-delete"),x.appendASCIIString('" style="top:'),x.appendASCIIString(String(e*h)),x.appendASCIIString('px;width:1000000px;">');const E=uc.isBasicASCII(t,o),N=uc.containsRTL(t,E,a),A=kB(new Gy(u.isMonospace&&!c,u.canUseHalfwidthRightwardsArrow,t,!1,E,N,0,n,r,S,0,u.spaceWidth,u.middotWidth,u.wsmiddotWidth,p,m,v,b!==Ju.OFF,null),x);if(x.appendASCIIString("</div>"),this._renderIndicators){const H=document.createElement("div");H.className=`delete-sign ${Sr.asClassName(yme)}`,H.setAttribute("style",`position:absolute;top:${e*h}px;width:${f}px;height:${h}px;right:0;`),w.appendChild(H)}return A.characterMapping.getAbsoluteOffset(A.characterMapping.length)}}function s6e(i,e){return pl(i,e,["off","on","inherit"])}function KS(i){return i.modifiedEndLineNumber>0}function qS(i){return i.originalEndLineNumber>0}function Sme(){const i=document.createElement("div");return i.className="diagonal-fill",i}function UM(i,e,t,n){const r=i.getLineCount();return t=Math.min(r,Math.max(1,t)),n=Math.min(r,Math.max(1,n)),e.coordinatesConverter.convertModelRangeToViewRange(new Q(t,i.getLineMinColumn(t),n,i.getLineMaxColumn(n)))}function use(i,e){return{enableSplitViewResizing:Jt(i.enableSplitViewResizing,e.enableSplitViewResizing),renderSideBySide:Jt(i.renderSideBySide,e.renderSideBySide),maxComputationTime:Mj(i.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:Mj(i.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:Jt(i.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:Jt(i.renderIndicators,e.renderIndicators),originalEditable:Jt(i.originalEditable,e.originalEditable),diffCodeLens:Jt(i.diffCodeLens,e.diffCodeLens),renderOverviewRuler:Jt(i.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:s6e(i.diffWordWrap,e.diffWordWrap)}}function o6e(i,e){return{enableSplitViewResizing:i.enableSplitViewResizing!==e.enableSplitViewResizing,renderSideBySide:i.renderSideBySide!==e.renderSideBySide,maxComputationTime:i.maxComputationTime!==e.maxComputationTime,maxFileSize:i.maxFileSize!==e.maxFileSize,ignoreTrimWhitespace:i.ignoreTrimWhitespace!==e.ignoreTrimWhitespace,renderIndicators:i.renderIndicators!==e.renderIndicators,originalEditable:i.originalEditable!==e.originalEditable,diffCodeLens:i.diffCodeLens!==e.diffCodeLens,renderOverviewRuler:i.renderOverviewRuler!==e.renderOverviewRuler,diffWordWrap:i.diffWordWrap!==e.diffWordWrap}}Cr((i,e)=>{const t=i.getColor(Xge);t&&(e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${t}; }`));const n=i.getColor(Qge);n&&(e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${n}; }`),e.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${n}; }`),e.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${n}; }`));const r=i.getColor(SAe);r&&e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${i.type==="hc"?"dashed":"solid"} ${r}; }`);const s=i.getColor(xAe);s&&e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${i.type==="hc"?"dashed":"solid"} ${s}; }`);const o=i.getColor(kE);o&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${o}; }`);const a=i.getColor(EAe);a&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const u=i.getColor(BS);u&&e.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${u};
			}
		`);const c=i.getColor(WS);c&&e.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${c};
			}
		`);const h=i.getColor(VS);h&&e.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${h};
			}
		`);const f=i.getColor(LAe);e.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${f} 12.5%,
			#0000 12.5%, #0000 50%,
			${f} 50%, ${f} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});function Xg(i){return i&&typeof i.getEditorType=="function"?i.getEditorType()===t3.ICodeEditor:!1}function xme(i){return i&&typeof i.getEditorType=="function"?i.getEditorType()===t3.IDiffEditor:!1}function Eme(i){return Xg(i)?i:xme(i)?i.getModifiedEditor():null}const FQ=Ci("IWorkspaceEditService");function a6e(i){return vl(i)&&(!!i.newUri||!!i.oldUri)}function l6e(i){return vl(i)&&an.isUri(i.resource)&&vl(i.edit)}class qB{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(l6e(t))return new Lme(t.resource,t.edit,t.modelVersionId,t.metadata);if(a6e(t))return new u6e(t.oldUri,t.newUri,t.options,t.metadata);throw new Error("Unsupported edit")})}}class Lme extends qB{constructor(e,t,n,r){super(r),this.resource=e,this.textEdit=t,this.versionId=n}}class u6e extends qB{constructor(e,t,n,r){super(r),this.oldResource=e,this.newResource=t,this.options=n}}class rs{static insert(e,t){return{range:new Q(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}class Cc{constructor(e={},t=[],n=[]){this._contents=e,this._keys=t,this._overrides=n,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?NRe(this.contents,e):this.contents}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=Wp(this.contents),n=Wp(this.overrides),r=[...this.keys];for(const s of e){this.mergeContents(t,s.contents);for(const o of s.overrides){const[a]=n.filter(u=>Nc(u.identifiers,o.identifiers));a?(this.mergeContents(a.contents,o.contents),a.keys.push(...o.keys),a.keys=qC(a.keys)):n.push(Wp(o))}for(const o of s.keys)r.indexOf(o)===-1&&r.push(o)}return new Cc(t,r,n)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;let n={};for(const r of qC([...Object.keys(this.contents),...Object.keys(t)])){let s=this.contents[r],o=t[r];o&&(typeof s=="object"&&typeof o=="object"?(s=Wp(s),this.mergeContents(s,o)):s=o),n[r]=s}return new Cc(n,this.keys,this.overrides)}mergeContents(e,t){for(const n of Object.keys(t)){if(n in e&&vl(e[n])&&vl(t[n])){this.mergeContents(e[n],t[n]);continue}e[n]=Wp(t[n])}}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?Oke(e):e}getContentsForOverrideIdentifer(e){let t=null,n=null;const r=s=>{s&&(n?this.mergeContents(n,s):n=Wp(s))};for(const s of this.overrides)Nc(s.identifiers,[e])?t=s.contents:s.identifiers.includes(e)&&r(s.contents);return r(t),n}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),gQ(this.contents,e,t,n=>{throw new Error(n)})}removeValue(e){this.removeKey(e)&&kRe(this.contents,e)}addKey(e){let t=this.keys.length;for(let n=0;n<t;n++)e.indexOf(this.keys[n])===0&&(t=n);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return t!==-1?(this.keys.splice(t,1),!0):!1}}class c6e extends Cc{constructor(e={}){const t=ds.as(Ky.Configuration).getConfigurationProperties(),n=Object.keys(t),r=Object.create(null),s=[];for(const o in t){const a=e[o],u=a!==void 0?a:t[o].default;gQ(r,o,u,c=>console.error(`Conflict in default settings: ${c}`))}for(const o of Object.keys(r))vM.test(o)&&s.push({identifiers:Age(o),keys:Object.keys(r[o]),contents:Mpe(r[o],a=>console.error(`Conflict in default settings file: ${a}`))});super(r,n,s)}}class GB{constructor(e,t,n=new Cc,r=new Cc,s=new ya,o=new Cc,a=new ya,u=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=n,this._workspaceConfiguration=r,this._folderConfigurations=s,this._memoryConfiguration=o,this._memoryConfigurationByResource=a,this._freeze=u,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new ya,this._userConfiguration=null}getValue(e,t,n){return this.getConsolidateConfigurationModel(t,n).getValue(e)}updateValue(e,t,n={}){let r;n.resource?(r=this._memoryConfigurationByResource.get(n.resource),r||(r=new Cc,this._memoryConfigurationByResource.set(n.resource,r))):r=this._memoryConfiguration,t===void 0?r.removeValue(e):r.setValue(e,t),n.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let n=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?n.override(e.overrideIdentifier):n}getConsolidatedConfigurationModelForResource({resource:e},t){let n=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const r=t.getFolder(e);r&&(n=this.getFolderConsolidatedConfiguration(r.uri)||n);const s=this._memoryConfigurationByResource.get(e);s&&(n=n.merge(s))}return n}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const n=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(e);r?(t=n.merge(r),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=n}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:n,overrides:r,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:n,overrides:r,keys:s}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),n=this.parseConfigurationModel(e.user),r=this.parseConfigurationModel(e.workspace),s=e.folders.reduce((o,a)=>(o.set(an.revive(a[0]),this.parseConfigurationModel(a[1])),o),new ya);return new GB(t,n,new Cc,r,s,new Cc,new ya,!1)}static parseConfigurationModel(e){return new Cc(e.contents,e.keys,e.overrides).freeze()}}class d6e{constructor(e,t,n,r){this.change=e,this.previous=t,this.currentConfiguraiton=n,this.currentWorkspace=r,this._previousConfiguration=void 0;const s=new Set;e.keys.forEach(a=>s.add(a)),e.overrides.forEach(([,a])=>a.forEach(u=>s.add(u))),this.affectedKeys=[...s.values()];const o=new Cc;this.affectedKeys.forEach(a=>o.setValue(a,{})),this.affectedKeysTree=o.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=GB.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var n;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){const r=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(n=this.previous)===null||n===void 0?void 0:n.workspace):void 0,s=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!Td(r,s)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let n=Mpe({[t]:!0},()=>{}),r;for(;typeof n=="object"&&(r=Object.keys(n)[0]);){if(e=e[r],!e)return!1;n=n[r]}return!0}}const h6e=/^(cursor|delete)/;class f6e extends Me{constructor(e,t,n,r,s){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=n,this._notificationService=r,this._logService=s,this._onDidUpdateKeybindings=this._register(new ye),this._currentChord=null,this._currentChordChecker=new UP,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=hS.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new el,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Bt.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const n=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(n)return n.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const n=this.resolveKeyboardEvent(e);if(n.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[r]=n.getDispatchParts();if(r===null)return null;const s=this._contextKeyService.getContext(t),o=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(s,o,r)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(C("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const n=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-n>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const n=this.resolveKeyboardEvent(e),[r]=n.getSingleModifierDispatchParts();if(r)return this._ignoreSingleModifiers.has(r)?(this._log(`+ Ignoring single modifier ${r} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=hS.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=hS.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[s]=n.getParts();return this._ignoreSingleModifiers=new hS(s),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,n=!1){let r=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let s=null,o=null;if(n){const[h]=e.getSingleModifierDispatchParts();s=h,o=h}else[s]=e.getDispatchParts(),o=this._currentChord?this._currentChord.keypress:null;if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const a=this._contextKeyService.getContext(t),u=e.getLabel(),c=this._getResolver().resolve(a,o,s);return this._logService.trace("KeybindingService#dispatch",u,c==null?void 0:c.commandId),c&&c.enterChord?(r=!0,this._enterChordMode(s,u),r):(this._currentChord&&(!c||!c.commandId)&&(this._notificationService.status(C("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,u),{hideAfter:10*1e3}),r=!0),this._leaveChordMode(),c&&c.commandId&&(c.bubble||(r=!0),typeof c.commandArgs>"u"?this._commandService.executeCommand(c.commandId).then(void 0,h=>this._notificationService.warn(h)):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,h=>this._notificationService.warn(h)),h6e.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding"})),r)}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}class hS{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}hS.EMPTY=new hS(null);class GS{constructor(e,t,n){this._log=n,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let r=0,s=e.length;r<s;r++){const o=e[r].command;o&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=GS.combine(e,t);for(let r=0,s=this._keybindings.length;r<s;r++){let o=this._keybindings[r];o.keypressParts.length!==0&&(o.when&&o.when.type===0||this._addKeyPress(o.keypressParts[0],o))}}static _isTargetedForRemoval(e,t,n,r,s){return!(e.command!==r||t&&e.keypressParts[0]!==t||n&&e.keypressParts[1]!==n||s&&(!e.when||!cke(s,e.when)))}static combine(e,t){e=e.slice(0);let n=[];for(const r of t){if(!r.command||r.command.length===0||r.command.charAt(0)!=="-"){n.push(r);continue}const s=r.command.substr(1),o=r.keypressParts[0],a=r.keypressParts[1],u=r.when;for(let c=e.length-1;c>=0;c--)this._isTargetedForRemoval(e[c],o,a,s,u)&&e.splice(c,1)}return e.concat(n)}_addKeyPress(e,t){const n=this._map.get(e);if(typeof n>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let r=n.length-1;r>=0;r--){let s=n[r];if(s.command===t.command)continue;const o=s.keypressParts.length>1,a=t.keypressParts.length>1;o&&a&&s.keypressParts[1]!==t.keypressParts[1]||GS.whenIsEntirelyIncluded(s.when,t.when)&&this._removeFromLookupMap(s)}n.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let n=0,r=t.length;n<r;n++)if(t[n]===e){t.splice(n,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:uge(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const n=this._lookupMap.get(e);if(typeof n>"u"||n.length===0)return null;if(n.length===1)return n[0];for(let r=n.length-1;r>=0;r--){const s=n[r];if(t.contextMatchesRules(s.when))return s}return n[n.length-1]}resolve(e,t,n){this._log(`| Resolving ${n}${t?` chorded from ${t}`:""}`);let r=null;if(t!==null){const o=this._map.get(t);if(typeof o>"u")return this._log("\\ No keybinding entries."),null;r=[];for(let a=0,u=o.length;a<u;a++){let c=o[a];c.keypressParts[1]===n&&r.push(c)}}else{const o=this._map.get(n);if(typeof o>"u")return this._log("\\ No keybinding entries."),null;r=o}let s=this._findCommand(e,r);return s?t===null&&s.keypressParts.length>1&&s.keypressParts[1]!==null?(this._log(`\\ From ${r.length} keybinding entries, matched chord, when: ${cse(s.when)}, source: ${dse(s)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${r.length} keybinding entries, matched ${s.command}, when: ${cse(s.when)}, source: ${dse(s)}.`),{enterChord:!1,leaveChord:s.keypressParts.length>1,commandId:s.command,commandArgs:s.commandArgs,bubble:s.bubble}):(this._log(`\\ From ${r.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let n=t.length-1;n>=0;n--){let r=t[n];if(GS.contextMatchesRules(e,r.when))return r}return null}static contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function cse(i){return i?`${i.serialize()}`:"no when condition"}function dse(i){return i.extensionId?i.isBuiltinExtension?`built-in extension ${i.extensionId}`:`user extension ${i.extensionId}`:i.isDefault?"built-in":"user"}class hse{constructor(e,t,n,r,s,o,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?cK(e.getDispatchParts()):[],e&&this.keypressParts.length===0&&(this.keypressParts=cK(e.getSingleModifierDispatchParts())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=n,this.when=r,this.isDefault=s,this.extensionId=o,this.isBuiltinExtension=a}}function cK(i){let e=[];for(let t=0,n=i.length;t<n;t++){const r=i[t];if(!r)return e;e.push(r)}return e}class BQ{constructor(e,t,n=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=n}toLabel(e,t,n){if(t.length===0)return null;const r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],u=n(a);if(u===null)return null;r[s]=m6e(a,u,this.modifierLabels[e])}return r.join(" ")}}const WQ=new BQ({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:C({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:C({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:C({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:C({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:C({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:C({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:C({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:C({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),g6e=new BQ({ctrlKey:C({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:C({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:C({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:C({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:C({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:C({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:C({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:C({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:C({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:C({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:C({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:C({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),p6e=new BQ({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function m6e(i,e,t){if(e===null)return"";const n=[];return i.ctrlKey&&n.push(t.ctrlKey),i.shiftKey&&n.push(t.shiftKey),i.altKey&&n.push(t.altKey),i.metaKey&&n.push(t.metaKey),e!==""&&n.push(e),n.join(t.separator)}class _6e extends $2e{constructor(e,t){if(super(),t.length===0)throw Tf("parts");this._os=e,this._parts=t}getLabel(){return WQ.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return g6e.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:p6e.toLabel(this._os,this._parts,e=>this._getElectronAccelerator(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new H2e(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}}class jM extends _6e{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return jb.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":jb.toString(e.keyCode)}_getElectronAccelerator(e){return jb.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return jM.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=jb.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=_X[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof $C)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new $C(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const n=cK(e.map(r=>this._resolveSimpleUserBinding(r)));return n.length>0?[new jM(new hF(n),t)]:[]}}const Dme=Ci("contextService");class v6e{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var As;(function(i){i.noSelection=C("noSelection","No selection"),i.singleSelectionRange=C("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),i.singleSelection=C("singleSelection","Line {0}, Column {1}"),i.multiSelectionRange=C("multiSelectionRange","{0} selections ({1} characters selected)"),i.multiSelection=C("multiSelection","{0} selections"),i.emergencyConfOn=C("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),i.openingDocs=C("openingDocs","Now opening the Editor Accessibility documentation page."),i.readonlyDiffEditor=C("readonlyDiffEditor"," in a read-only pane of a diff editor."),i.editableDiffEditor=C("editableDiffEditor"," in a pane of a diff editor."),i.readonlyEditor=C("readonlyEditor"," in a read-only code editor"),i.editableEditor=C("editableEditor"," in a code editor"),i.changeConfigToOnMac=C("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),i.changeConfigToOnWinLinux=C("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),i.auto_on=C("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),i.auto_off=C("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),i.tabFocusModeOnMsg=C("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),i.tabFocusModeOnMsgNoKb=C("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),i.tabFocusModeOffMsg=C("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),i.tabFocusModeOffMsgNoKb=C("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),i.openDocMac=C("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),i.openDocWinLinux=C("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),i.outroMsg=C("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),i.showAccessibilityHelpAction=C("showAccessibilityHelpAction","Show Accessibility Help")})(As||(As={}));var dK;(function(i){i.inspectTokensAction=C("inspectTokens","Developer: Inspect Tokens")})(dK||(dK={}));var f7;(function(i){i.gotoLineActionLabel=C("gotoLineActionLabel","Go to Line/Column...")})(f7||(f7={}));var hK;(function(i){i.helpQuickAccessActionLabel=C("helpQuickAccess","Show all Quick Access Providers")})(hK||(hK={}));var KM;(function(i){i.quickCommandActionLabel=C("quickCommandActionLabel","Command Palette"),i.quickCommandHelp=C("quickCommandActionHelp","Show And Run Commands")})(KM||(KM={}));var qM;(function(i){i.quickOutlineActionLabel=C("quickOutlineActionLabel","Go to Symbol..."),i.quickOutlineByCategoryActionLabel=C("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(qM||(qM={}));var g7;(function(i){i.editorViewAccessibleLabel=C("editorViewAccessibleLabel","Editor content"),i.accessibilityHelpMessage=C("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(g7||(g7={}));var fK;(function(i){i.toggleHighContrast=C("toggleHighContrast","Toggle High Contrast Theme")})(fK||(fK={}));var gK;(function(i){i.bulkEditServiceSummary=C("bulkEditServiceSummary","Made {0} edits in {1} files")})(gK||(gK={}));var Tme=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ime=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},kme=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class b6e{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new ye}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}function C6e(i,e,t){return Xg(i)?e(i):t(i)}let p7=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;return this.editor&&(t=C6e(this.editor,n=>this.findModel(n,e),n=>this.findModel(n.getOriginalEditor(),e)||this.findModel(n.getModifiedEditor(),e))),t?Promise.resolve(new T2e(new b6e(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let n=this.modelService.getModel(t);return n&&n.uri.toString()!==t.toString()?null:n}};p7=Tme([Ime(0,$s)],p7);class YB{show(){return YB.NULL_PROGRESS_RUNNER}showWhile(e,t){return kme(this,void 0,void 0,function*(){yield e})}}YB.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class y6e{confirm(e){return this.doConfirm(e).then(t=>({confirmed:t,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+`

`+e.detail),Promise.resolve(window.confirm(t))}show(e,t,n,r){return Promise.resolve({choice:0})}}class ZB{info(e){return this.notify({severity:is.Info,message:e})}warn(e){return this.notify({severity:is.Warning,message:e})}error(e){return this.notify({severity:is.Error,message:e})}notify(e){switch(e.severity){case is.Error:console.error(e.message);break;case is.Warning:console.warn(e.message);break;default:console.log(e.message);break}return ZB.NO_OP}status(e,t){return Me.None}}ZB.NO_OP=new g5e;class w6e{constructor(e){this._onWillExecuteCommand=new ye,this._onDidExecuteCommand=new ye,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const n=ni.getCommand(e);if(!n)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const r=this._instantiationService.invokeFunction.apply(this._instantiationService,[n.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(r)}catch(r){return Promise.reject(r)}}}class Nme extends f6e{constructor(e,t,n,r,s,o){super(e,t,n,r,s),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(Ze(o,Ut.KEY_DOWN,a=>{const u=new Ar(a);this._dispatch(u,u.target)&&(u.preventDefault(),u.stopPropagation())})),this._register(Ze(window,Ut.KEY_UP,a=>{const u=new Ar(a);this._singleModifierDispatch(u,u.target)&&u.preventDefault()}))}addDynamicKeybinding(e,t,n,r){const s=vj(t,yc),o=new tt;return s&&(this._dynamicKeybindings.push({keybinding:s.parts,command:e,when:r,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),o.add(Yn(()=>{for(let a=0;a<this._dynamicKeybindings.length;a++)if(this._dynamicKeybindings[a].command===e){this._dynamicKeybindings.splice(a,1),this.updateResolver({source:1});return}}))),o.add(ni.registerCommand(e,n)),this.updateResolver({source:1}),o}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(Xo.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new GS(e,t,n=>this._log(n))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let n=[],r=0;for(const s of e){const o=s.when||void 0,a=s.keybinding;if(!a)n[r++]=new hse(void 0,s.command,s.commandArgs,o,t,null,!1);else{const u=jM.resolveUserBinding(a,yc);for(const c of u)n[r++]=new hse(c,s.command,s.commandArgs,o,t,null,!1)}}return n}resolveKeyboardEvent(e){let t=new $C(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new jM(t,yc)}}function fse(i){return i&&typeof i=="object"&&(!i.overrideIdentifier||typeof i.overrideIdentifier=="string")&&(!i.resource||i.resource instanceof an)}class Ame{constructor(){this._onDidChangeConfiguration=new ye,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new GB(new c6e,new Cc)}getValue(e,t){const n=typeof e=="string"?e:void 0,r=fse(e)?e:fse(t)?t:{};return this._configuration.getValue(n,r,void 0)}updateValues(e){const t={data:this._configuration.toData()};let n=[];for(const r of e){const[s,o]=r;this.getValue(s)!==o&&(this._configuration.updateValue(s,o),n.push(s))}if(n.length>0){const r=new d6e({keys:n,overrides:[]},t,this._configuration);r.source=7,r.sourceConfig=null,this._onDidChangeConfiguration.fire(r)}return Promise.resolve()}updateValue(e,t,n,r){return this.updateValues([[e,t]])}}class S6e{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new ye,this.configurationService.onDidChangeConfiguration(t=>{this._onDidChangeConfiguration.fire({affectedKeys:t.affectedKeys,affectsConfiguration:(n,r)=>t.affectsConfiguration(r)})})}getValue(e,t,n){const s=(Ee.isIPosition(t)?t:null)?typeof n=="string"?n:void 0:typeof t=="string"?t:void 0;return typeof s>"u"?this.configurationService.getValue():this.configurationService.getValue(s)}}let pK=class{constructor(e){this.configurationService=e}getEOL(e,t){const n=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return n&&typeof n=="string"&&n!=="auto"?n:yl||Xn?`
`:`\r
`}};pK=Tme([Ime(0,cr)],pK);class x6e{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class XB{constructor(){const e=an.from({scheme:XB.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new v6e({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}XB.SCHEME="inmemory";function m7(i,e,t){if(!e||!(i instanceof Ame))return;let n=[];Object.keys(e).forEach(r=>{WNe(r)&&n.push([`editor.${r}`,e[r]]),t&&VNe(r)&&n.push([`diffEditor.${r}`,e[r]])}),n.length>0&&i.updateValues(n)}class E6e{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return kme(this,void 0,void 0,function*(){const n=new Map;for(let o of e){if(!(o instanceof Lme))throw new Error("bad edit - only text edits are supported");const a=this._modelService.getModel(o.resource);if(!a)throw new Error("bad edit - model not found");if(typeof o.versionId=="number"&&a.getVersionId()!==o.versionId)throw new Error("bad state - model changed in the meantime");let u=n.get(a);u||(u=[],n.set(a,u)),u.push(rs.replaceMove(Q.lift(o.textEdit.range),o.textEdit.text))}let r=0,s=0;for(const[o,a]of n)o.pushStackElement(),o.pushEditOperations([],a,()=>[]),o.pushStackElement(),s+=1,r+=a.length;return{ariaSummary:Dc(gK.bulkEditServiceSummary,r,s)}})}}class L6e{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}}class Ome{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=Bt.None}get dimension(){return this._dimension||(this._dimension=aB(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}}class D6e{constructor(){this._neverEmitter=new ye,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}const tb=Ci("themeService"),Or=Ci("keybindingService");class T6e extends Me{constructor(){super(),this._onCodeEditorAdd=this._register(new ye),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new ye),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new ye),this._onDiffEditorRemove=this._register(new ye),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const n of t){if(n.hasTextFocus())return n;n.hasWidgetFocus()&&(e=n)}return e}setModelProperty(e,t,n){const r=e.toString();let s;this._modelProperties.has(r)?s=this._modelProperties.get(r):(s=new Map,this._modelProperties.set(r,s)),s.set(t,n)}getModelProperty(e,t){const n=e.toString();if(this._modelProperties.has(n))return this._modelProperties.get(n).get(t)}}var I6e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},k6e=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let mK=class extends T6e{constructor(e,t){super(),this._decorationOptionProviders=new Map,this._globalStyleSheet=e||null,this._themeService=t}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(n=>n.removeDecorations(e))))}};mK=I6e([k6e(1,Rr)],mK);var N6e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},gse=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let _7=class extends mK{constructor(e,t,n){super(e,n),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,n){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const s=t.resource.scheme;if(s===On.http||s===On.https)return Zfe(t.resource.toString()),e}return null}const r=t.options?t.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")e.setSelection(r),e.revealRangeInCenter(r,1);else{const s={lineNumber:r.startLineNumber,column:r.startColumn};e.setPosition(s),e.revealPositionInCenter(s,1)}return e}findModel(e,t){const n=e.getModel();return n&&n.uri.toString()!==t.toString()?null:n}};_7=N6e([gse(1,gn),gse(2,Rr)],_7);var VQ=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ir=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let A6e=0,pse=!1;function O6e(i){if(!i){if(pse)return;pse=!0}MIe(i||document.body)}let v7=class extends HM{constructor(e,t,n,r,s,o,a,u,c,h){const f=Object.assign({},t);f.ariaLabel=f.ariaLabel||g7.editorViewAccessibleLabel,f.ariaLabel=f.ariaLabel+";"+g7.accessibilityHelpMessage,super(e,f,{},n,r,s,o,u,c,h),a instanceof Nme?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,O6e(f.ariaContainerElement)}addCommand(e,t,n){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let r="DYNAMIC_"+ ++A6e,s=bt.deserialize(n);return this._standaloneKeybindingService.addDynamicKeybinding(r,e,t,s),r}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Me.None;const t=e.id,n=e.label,r=bt.and(bt.equals("editorId",this.getId()),bt.deserialize(e.precondition)),s=e.keybindings,o=bt.and(r,bt.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,u=e.contextMenuOrder||0,c=(m,...v)=>Promise.resolve(e.run(this,...v)),h=new tt,f=this.getId()+":"+t;if(h.add(ni.registerCommand(f,c)),a){let m={command:{id:f,title:n},when:r,group:a,order:u};h.add(Sa.appendMenuItem(Ft.EditorContext,m))}if(Array.isArray(s))for(const m of s)h.add(this._standaloneKeybindingService.addDynamicKeybinding(f,m,c,o));let p=new cme(f,n,n,r,c,this._contextKeyService);return this._actions[t]=p,h.add(Yn(()=>{delete this._actions[t]})),h}_triggerCommand(e,t){if(this._codeEditorService instanceof _7)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};v7=VQ([Ir(2,Rn),Ir(3,Mi),Ir(4,Vr),Ir(5,gn),Ir(6,Or),Ir(7,Rr),Ir(8,Ts),Ir(9,Dl)],v7);let GM=class extends v7{constructor(e,t,n,r,s,o,a,u,c,h,f,p,m,v,b){const S=Object.assign({},t);m7(p,S,!1);const x=h.registerEditorContainer(e);typeof S.theme=="string"&&h.setTheme(S.theme),typeof S.autoDetectHighContrast<"u"&&h.setAutoDetectHighContrast(!!S.autoDetectHighContrast);let w=S.model;delete S.model,super(e,S,r,s,o,a,u,h,f,m),this._contextViewService=c,this._configurationService=p,this._standaloneThemeService=h,this._register(n),this._register(x);let E;if(typeof w>"u"?(E=Mme(v,b,S.value||"",S.language||fd.text,void 0),this._ownsModel=!0):(E=w,this._ownsModel=!1),this._attachModel(E),E){let N={oldModelUrl:null,newModelUrl:E.uri};this._onDidChangeModel.fire(N)}}dispose(){super.dispose()}updateOptions(e){m7(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};GM=VQ([Ir(3,Rn),Ir(4,Mi),Ir(5,Vr),Ir(6,gn),Ir(7,Or),Ir(8,Rm),Ir(9,tb),Ir(10,Ts),Ir(11,cr),Ir(12,Dl),Ir(13,$s),Ir(14,ta)],GM);let _K=class extends N1{constructor(e,t,n,r,s,o,a,u,c,h,f,p,m,v,b){const S=Object.assign({},t);m7(p,S,!0);const x=h.registerEditorContainer(e);typeof S.theme=="string"&&h.setTheme(S.theme),typeof S.autoDetectHighContrast<"u"&&h.setAutoDetectHighContrast(!!S.autoDetectHighContrast),super(e,S,{},b,u,s,r,c,h,f,m,v),this._contextViewService=a,this._configurationService=p,this._standaloneThemeService=h,this._register(n),this._register(x),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){m7(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,n){return e.createInstance(v7,t,n)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,n){return this.getModifiedEditor().addCommand(e,t,n)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};_K=VQ([Ir(3,Rn),Ir(4,gn),Ir(5,Or),Ir(6,Rm),Ir(7,fc),Ir(8,Mi),Ir(9,tb),Ir(10,Ts),Ir(11,cr),Ir(12,J1),Ir(13,Pm),Ir(14,eb)],_K);function Mme(i,e,t,n,r){if(t=t||"",!n){const s=t.indexOf(`
`);let o=t;return s!==-1&&(o=t.substring(0,s)),mse(i,t,e.createByFilepathOrFirstLine(r||null,o),r)}return mse(i,t,e.create(n),r)}function mse(i,e,t,n){return i.createModel(e,t,n)}const M6e="$initialize";let _se=!1;function vK(i){EE&&(_se||(_se=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(i.message))}class R6e{constructor(e,t,n,r){this.vsWorker=e,this.req=t,this.method=n,this.args=r,this.type=0}}class vse{constructor(e,t,n,r){this.vsWorker=e,this.seq=t,this.res=n,this.err=r,this.type=1}}class P6e{constructor(e,t,n,r){this.vsWorker=e,this.req=t,this.eventName=n,this.arg=r,this.type=2}}class F6e{constructor(e,t,n){this.vsWorker=e,this.req=t,this.event=n,this.type=3}}class B6e{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class W6e{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const n=String(++this._lastSentReq);return new Promise((r,s)=>{this._pendingReplies[n]={resolve:r,reject:s},this._send(new R6e(this._workerId,n,e,t))})}listen(e,t){let n=null;const r=new ye({onFirstListenerAdd:()=>{n=String(++this._lastSentReq),this._pendingEmitters.set(n,r),this._send(new P6e(this._workerId,n,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(n),this._send(new B6e(this._workerId,n)),n=null}});return r.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let n=e.err;e.err.$isError&&(n=new Error,n.name=e.err.name,n.message=e.err.message,n.stack=e.err.stack),t.reject(n);return}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then(r=>{this._send(new vse(this._workerId,t,r,void 0))},r=>{r.detail instanceof Error&&(r.detail=fie(r.detail)),this._send(new vse(this._workerId,t,void 0,fie(r)))})}_handleSubscribeEventMessage(e){const t=e.req,n=this._handler.handleEvent(e.eventName,e.arg)(r=>{this._send(new F6e(this._workerId,t,r))});this._pendingEvents.set(t,n)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){let t=[];if(e.type===0)for(let n=0;n<e.args.length;n++)e.args[n]instanceof ArrayBuffer&&t.push(e.args[n]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class V6e extends Me{constructor(e,t,n){super();let r=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",c=>{this._protocol.handleMessage(c)},c=>{r&&r(c)})),this._protocol=new W6e({sendMessage:(c,h)=>{this._worker.postMessage(c,h)},handleMessage:(c,h)=>{if(typeof n[c]!="function")return Promise.reject(new Error("Missing method "+c+" on main thread host."));try{return Promise.resolve(n[c].apply(n,h))}catch(f){return Promise.reject(f)}},handleEvent:(c,h)=>{if(Pme(c)){const f=n[c].call(n,h);if(typeof f!="function")throw new Error(`Missing dynamic event ${c} on main thread host.`);return f}if(Rme(c)){const f=n[c];if(typeof f!="function")throw new Error(`Missing event ${c} on main thread host.`);return f}throw new Error(`Malformed event name ${c}`)}}),this._protocol.setWorkerId(this._worker.getId());let s=null;typeof us.require<"u"&&typeof us.require.getConfig=="function"?s=us.require.getConfig():typeof us.requirejs<"u"&&(s=us.requirejs.s.contexts._.config);const o=LX(n);this._onModuleLoaded=this._protocol.sendMessage(M6e,[this._worker.getId(),JSON.parse(JSON.stringify(s)),t,o]);const a=(c,h)=>this._request(c,h),u=(c,h)=>this._protocol.listen(c,h);this._lazyProxy=new Promise((c,h)=>{r=h,this._onModuleLoaded.then(f=>{c(H6e(f,a,u))},f=>{h(f),this._onError("Worker failed to load "+t,f)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((n,r)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(n,r)},r)})}_onError(e,t){console.error(e),console.info(t)}}function Rme(i){return i[0]==="o"&&i[1]==="n"&&fg(i.charCodeAt(2))}function Pme(i){return/^onDynamic/.test(i)&&fg(i.charCodeAt(9))}function H6e(i,e,t){const n=o=>function(){const a=Array.prototype.slice.call(arguments,0);return e(o,a)},r=o=>function(a){return t(o,a)};let s={};for(const o of i){if(Pme(o)){s[o]=r(o);continue}if(Rme(o)){s[o]=t(o,void 0);continue}s[o]=n(o)}return s}var p$;const bse=(p$=window.trustedTypes)===null||p$===void 0?void 0:p$.createPolicy("defaultWorkerFactory",{createScriptURL:i=>i});function $6e(i,e){if(us.MonacoEnvironment){if(typeof us.MonacoEnvironment.getWorker=="function")return us.MonacoEnvironment.getWorker(i,e);if(typeof us.MonacoEnvironment.getWorkerUrl=="function"){const t=us.MonacoEnvironment.getWorkerUrl(i,e);return new Worker(bse?bse.createScriptURL(t):t,{name:e})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function z6e(i){return typeof i.then=="function"}class U6e{constructor(e,t,n,r,s){this.id=t;const o=$6e("workerMain.js",n);z6e(o)?this.worker=o:this.worker=Promise.resolve(o),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(u){r(u.data)},a.onmessageerror=s,typeof a.addEventListener=="function"&&a.addEventListener("error",s)})}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then(n=>n.postMessage(e,t))}dispose(){this.worker&&this.worker.then(e=>e.terminate()),this.worker=null}}class QB{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,n){let r=++QB.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new U6e(e,r,this._label||"anonymous"+r,t,s=>{vK(s),this._webWorkerFailedBeforeError=s,n(s)})}}QB.LAST_WORKER_ID=0;class b0{constructor(e,t,n,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class Cse{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t}}function j6e(i,e,t){return new Sg(new Cse(i),new Cse(e)).ComputeDiff(t).changes}class ww{static Assert(e,t){if(!e)throw new Error(t)}}class Sw{static Copy(e,t,n,r,s){for(let o=0;o<s;o++)n[r+o]=e[t+o]}static Copy2(e,t,n,r,s){for(let o=0;o<s;o++)n[r+o]=e[t+o]}}class yse{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new b0(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Sg{constructor(e,t,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=e,this._modifiedSequence=t;const[r,s,o]=Sg._getElements(e),[a,u,c]=Sg._getElements(t);this._hasStrings=o&&c,this._originalStringElements=r,this._originalElementsOrHash=s,this._modifiedStringElements=a,this._modifiedElementsOrHash=u,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(Sg._isStringArray(t)){const n=new Int32Array(t.length);for(let r=0,s=t.length;r<s;r++)n[r]=oQ(t[r],0);return[t,n,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const n=Sg._getStrictElement(this._originalSequence,e),r=Sg._getStrictElement(this._modifiedSequence,t);return n===r}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,n,r,s){const o=[!1];let a=this.ComputeDiffRecursive(e,t,n,r,o);return s&&(a=this.PrettifyChanges(a)),{quitEarly:o[0],changes:a}}ComputeDiffRecursive(e,t,n,r,s){for(s[0]=!1;e<=t&&n<=r&&this.ElementsAreEqual(e,n);)e++,n++;for(;t>=e&&r>=n&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||n>r){let f;return n<=r?(ww.Assert(e===t+1,"originalStart should only be one more than originalEnd"),f=[new b0(e,0,n,r-n+1)]):e<=t?(ww.Assert(n===r+1,"modifiedStart should only be one more than modifiedEnd"),f=[new b0(e,t-e+1,n,0)]):(ww.Assert(e===t+1,"originalStart should only be one more than originalEnd"),ww.Assert(n===r+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}const o=[0],a=[0],u=this.ComputeRecursionPoint(e,t,n,r,o,a,s),c=o[0],h=a[0];if(u!==null)return u;if(!s[0]){const f=this.ComputeDiffRecursive(e,c,n,h,s);let p=[];return s[0]?p=[new b0(c+1,t-(c+1)+1,h+1,r-(h+1)+1)]:p=this.ComputeDiffRecursive(c+1,t,h+1,r,s),this.ConcatenateChanges(f,p)}return[new b0(e,t-e+1,n,r-n+1)]}WALKTRACE(e,t,n,r,s,o,a,u,c,h,f,p,m,v,b,S,x,w){let E=null,N=null,A=new yse,H=t,R=n,M=m[0]-S[0]-r,G=-1073741824,X=this.m_forwardHistory.length-1;do{const $=M+e;$===H||$<R&&c[$-1]<c[$+1]?(f=c[$+1],v=f-M-r,f<G&&A.MarkNextChange(),G=f,A.AddModifiedElement(f+1,v),M=$+1-e):(f=c[$-1]+1,v=f-M-r,f<G&&A.MarkNextChange(),G=f-1,A.AddOriginalElement(f,v+1),M=$-1-e),X>=0&&(c=this.m_forwardHistory[X],e=c[0],H=1,R=c.length-1)}while(--X>=-1);if(E=A.getReverseChanges(),w[0]){let $=m[0]+1,I=S[0]+1;if(E!==null&&E.length>0){const O=E[E.length-1];$=Math.max($,O.getOriginalEnd()),I=Math.max(I,O.getModifiedEnd())}N=[new b0($,p-$+1,I,b-I+1)]}else{A=new yse,H=o,R=a,M=m[0]-S[0]-u,G=1073741824,X=x?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const $=M+s;$===H||$<R&&h[$-1]>=h[$+1]?(f=h[$+1]-1,v=f-M-u,f>G&&A.MarkNextChange(),G=f+1,A.AddOriginalElement(f+1,v+1),M=$+1-s):(f=h[$-1],v=f-M-u,f>G&&A.MarkNextChange(),G=f,A.AddModifiedElement(f+1,v+1),M=$-1-s),X>=0&&(h=this.m_reverseHistory[X],s=h[0],H=1,R=h.length-1)}while(--X>=-1);N=A.getChanges()}return this.ConcatenateChanges(E,N)}ComputeRecursionPoint(e,t,n,r,s,o,a){let u=0,c=0,h=0,f=0,p=0,m=0;e--,n--,s[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const v=t-e+(r-n),b=v+1,S=new Int32Array(b),x=new Int32Array(b),w=r-n,E=t-e,N=e-n,A=t-r,R=(E-w)%2===0;S[w]=e,x[E]=t,a[0]=!1;for(let M=1;M<=v/2+1;M++){let G=0,X=0;h=this.ClipDiagonalBound(w-M,M,w,b),f=this.ClipDiagonalBound(w+M,M,w,b);for(let I=h;I<=f;I+=2){I===h||I<f&&S[I-1]<S[I+1]?u=S[I+1]:u=S[I-1]+1,c=u-(I-w)-N;const O=u;for(;u<t&&c<r&&this.ElementsAreEqual(u+1,c+1);)u++,c++;if(S[I]=u,u+c>G+X&&(G=u,X=c),!R&&Math.abs(I-E)<=M-1&&u>=x[I])return s[0]=u,o[0]=c,O<=x[I]&&1447>0&&M<=1447+1?this.WALKTRACE(w,h,f,N,E,p,m,A,S,x,u,t,s,c,r,o,R,a):null}const $=(G-e+(X-n)-M)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(G,$))return a[0]=!0,s[0]=G,o[0]=X,$>0&&1447>0&&M<=1447+1?this.WALKTRACE(w,h,f,N,E,p,m,A,S,x,u,t,s,c,r,o,R,a):(e++,n++,[new b0(e,t-e+1,n,r-n+1)]);p=this.ClipDiagonalBound(E-M,M,E,b),m=this.ClipDiagonalBound(E+M,M,E,b);for(let I=p;I<=m;I+=2){I===p||I<m&&x[I-1]>=x[I+1]?u=x[I+1]-1:u=x[I-1],c=u-(I-E)-A;const O=u;for(;u>e&&c>n&&this.ElementsAreEqual(u,c);)u--,c--;if(x[I]=u,R&&Math.abs(I-w)<=M&&u<=S[I])return s[0]=u,o[0]=c,O>=S[I]&&1447>0&&M<=1447+1?this.WALKTRACE(w,h,f,N,E,p,m,A,S,x,u,t,s,c,r,o,R,a):null}if(M<=1447){let I=new Int32Array(f-h+2);I[0]=w-h+1,Sw.Copy2(S,h,I,1,f-h+1),this.m_forwardHistory.push(I),I=new Int32Array(m-p+2),I[0]=E-p+1,Sw.Copy2(x,p,I,1,m-p+1),this.m_reverseHistory.push(I)}}return this.WALKTRACE(w,h,f,N,E,p,m,A,S,x,u,t,s,c,r,o,R,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const n=e[t],r=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,s=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,o=n.originalLength>0,a=n.modifiedLength>0;for(;n.originalStart+n.originalLength<r&&n.modifiedStart+n.modifiedLength<s&&(!o||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!a||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){const c=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!c)break;n.originalStart++,n.modifiedStart++}let u=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],u)){e[t]=u[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const n=e[t];let r=0,s=0;if(t>0){const f=e[t-1];r=f.originalStart+f.originalLength,s=f.modifiedStart+f.modifiedLength}const o=n.originalLength>0,a=n.modifiedLength>0;let u=0,c=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let f=1;;f++){const p=n.originalStart-f,m=n.modifiedStart-f;if(p<r||m<s||o&&!this.OriginalElementsAreEqual(p,p+n.originalLength)||a&&!this.ModifiedElementsAreEqual(m,m+n.modifiedLength))break;const b=(p===r&&m===s?5:0)+this._boundaryScore(p,n.originalLength,m,n.modifiedLength);b>c&&(c=b,u=f)}n.originalStart-=u,n.modifiedStart-=u;const h=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],h)){e[t-1]=h[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,n=e.length;t<n;t++){const r=e[t-1],s=e[t],o=s.originalStart-r.originalStart-r.originalLength,a=r.originalStart,u=s.originalStart+s.originalLength,c=u-a,h=r.modifiedStart,f=s.modifiedStart+s.modifiedLength,p=f-h;if(o<5&&c<20&&p<20){const m=this._findBetterContiguousSequence(a,c,h,p,o);if(m){const[v,b]=m;(v!==r.originalStart+r.originalLength||b!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=v-r.originalStart,r.modifiedLength=b-r.modifiedStart,s.originalStart=v+o,s.modifiedStart=b+o,s.originalLength=u-s.originalStart,s.modifiedLength=f-s.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,n,r,s){if(t<s||r<s)return null;const o=e+t-s+1,a=n+r-s+1;let u=0,c=0,h=0;for(let f=e;f<o;f++)for(let p=n;p<a;p++){const m=this._contiguousSequenceScore(f,p,s);m>0&&m>u&&(u=m,c=f,h=p)}return u>0?[c,h]:null}_contiguousSequenceScore(e,t,n){let r=0;for(let s=0;s<n;s++){if(!this.ElementsAreEqual(e+s,t+s))return 0;r+=this._originalStringElements[e+s].length}return r}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(e,t,n,r){const s=this._OriginalRegionIsBoundary(e,t)?1:0,o=this._ModifiedRegionIsBoundary(n,r)?1:0;return s+o}ConcatenateChanges(e,t){let n=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],n)){const r=new Array(e.length+t.length-1);return Sw.Copy(e,0,r,0,e.length-1),r[e.length-1]=n[0],Sw.Copy(t,1,r,e.length,t.length-1),r}else{const r=new Array(e.length+t.length);return Sw.Copy(e,0,r,0,e.length),Sw.Copy(t,0,r,e.length,t.length),r}}ChangesOverlap(e,t,n){if(ww.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),ww.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const r=e.originalStart;let s=e.originalLength;const o=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),n[0]=new b0(r,s,o,a),!0}else return n[0]=null,!1}ClipDiagonalBound(e,t,n,r){if(e>=0&&e<r)return e;const s=n,o=r-n-1,a=t%2===0;if(e<0){const u=s%2===0;return a===u?0:1}else{const u=o%2===0;return a===u?r-1:r-2}}}const K6e=3;function Fme(i,e,t,n){return new Sg(i,e,t).ComputeDiff(n)}class wse{constructor(e){const t=[],n=[];for(let r=0,s=e.length;r<s;r++)t[r]=bK(e[r],1),n[r]=CK(e[r],1);this.lines=e,this._startColumns=t,this._endColumns=n}getElements(){const e=[];for(let t=0,n=this.lines.length;t<n;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,n){const r=[],s=[],o=[];let a=0;for(let u=t;u<=n;u++){const c=this.lines[u],h=e?this._startColumns[u]:1,f=e?this._endColumns[u]:c.length+1;for(let p=h;p<f;p++)r[a]=c.charCodeAt(p-1),s[a]=u+1,o[a]=p,a++}return new q6e(r,s,o)}}class q6e{constructor(e,t,n){this._charCodes=e,this._lineNumbers=t,this._columns=n}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class YM{constructor(e,t,n,r,s,o,a,u){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=r,this.modifiedStartLineNumber=s,this.modifiedStartColumn=o,this.modifiedEndLineNumber=a,this.modifiedEndColumn=u}static createFromDiffChange(e,t,n){let r,s,o,a,u,c,h,f;return e.originalLength===0?(r=0,s=0,o=0,a=0):(r=t.getStartLineNumber(e.originalStart),s=t.getStartColumn(e.originalStart),o=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1)),e.modifiedLength===0?(u=0,c=0,h=0,f=0):(u=n.getStartLineNumber(e.modifiedStart),c=n.getStartColumn(e.modifiedStart),h=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),f=n.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new YM(r,s,o,a,u,c,h,f)}}function G6e(i){if(i.length<=1)return i;const e=[i[0]];let t=e[0];for(let n=1,r=i.length;n<r;n++){const s=i[n],o=s.originalStart-(t.originalStart+t.originalLength),a=s.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(o,a)<K6e?(t.originalLength=s.originalStart+s.originalLength-t.originalStart,t.modifiedLength=s.modifiedStart+s.modifiedLength-t.modifiedStart):(e.push(s),t=s)}return e}class AO{constructor(e,t,n,r,s){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=r,this.charChanges=s}static createFromDiffResult(e,t,n,r,s,o,a){let u,c,h,f,p;if(t.originalLength===0?(u=n.getStartLineNumber(t.originalStart)-1,c=0):(u=n.getStartLineNumber(t.originalStart),c=n.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(h=r.getStartLineNumber(t.modifiedStart)-1,f=0):(h=r.getStartLineNumber(t.modifiedStart),f=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),o&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&s()){const m=n.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),v=r.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let b=Fme(m,v,s,!0).changes;a&&(b=G6e(b)),p=[];for(let S=0,x=b.length;S<x;S++)p.push(YM.createFromDiffChange(b[S],m,v))}return new AO(u,c,h,f,p)}}class Y6e{constructor(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new wse(e),this.modified=new wse(t),this.continueLineDiff=Sse(n.maxComputationTime),this.continueCharDiff=Sse(n.maxComputationTime===0?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=Fme(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,n=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let u=0,c=t.length;u<c;u++)a.push(AO.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[u],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:a}}const r=[];let s=0,o=0;for(let a=-1,u=t.length;a<u;a++){const c=a+1<u?t[a+1]:null,h=c?c.originalStart:this.originalLines.length,f=c?c.modifiedStart:this.modifiedLines.length;for(;s<h&&o<f;){const p=this.originalLines[s],m=this.modifiedLines[o];if(p!==m){{let v=bK(p,1),b=bK(m,1);for(;v>1&&b>1;){const S=p.charCodeAt(v-2),x=m.charCodeAt(b-2);if(S!==x)break;v--,b--}(v>1||b>1)&&this._pushTrimWhitespaceCharChange(r,s+1,1,v,o+1,1,b)}{let v=CK(p,1),b=CK(m,1);const S=p.length+1,x=m.length+1;for(;v<S&&b<x;){const w=p.charCodeAt(v-1),E=p.charCodeAt(b-1);if(w!==E)break;v++,b++}(v<S||b<x)&&this._pushTrimWhitespaceCharChange(r,s+1,v,S,o+1,b,x)}}s++,o++}c&&(r.push(AO.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=c.originalLength,o+=c.modifiedLength)}return{quitEarly:n,changes:r}}_pushTrimWhitespaceCharChange(e,t,n,r,s,o,a){if(this._mergeTrimWhitespaceCharChange(e,t,n,r,s,o,a))return;let u;this.shouldComputeCharChanges&&(u=[new YM(t,n,t,r,s,o,s,a)]),e.push(new AO(t,t,s,s,u))}_mergeTrimWhitespaceCharChange(e,t,n,r,s,o,a){const u=e.length;if(u===0)return!1;const c=e[u-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===s?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=s,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new YM(t,n,t,r,s,o,s,a)),!0):!1}}function bK(i,e){const t=Ya(i);return t===-1?e:t+1}function CK(i,e){const t=Bg(i);return t===-1?e:t+2}function Sse(i){if(i===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<i}class Z6e{constructor(e,t,n,r){this._uri=e,this._lines=t,this._eol=n,this._versionId=r,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const n of t)this._acceptDeleteRange(n.range),this._acceptInsertText(new Ee(n.range.startLineNumber,n.range.startColumn),n.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,n=new Uint32Array(t);for(let r=0;r<t;r++)n[r]=this._lines[r].length+e;this._lineStarts=new e5e(n)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;let n=Kg(t);if(n.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);let r=new Uint32Array(n.length-1);for(let s=1;s<n.length;s++)this._lines.splice(e.lineNumber+s-1,0,n[s]),r[s-1]=n[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}}class X6e{constructor(e,t,n){const r=new Uint8Array(e*t);for(let s=0,o=e*t;s<o;s++)r[s]=n;this._data=r,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,n){this._data[e*this.cols+t]=n}}class Q6e{constructor(e){let t=0,n=0;for(let s=0,o=e.length;s<o;s++){let[a,u,c]=e[s];u>t&&(t=u),a>n&&(n=a),c>n&&(n=c)}t++,n++;let r=new X6e(n,t,0);for(let s=0,o=e.length;s<o;s++){let[a,u,c]=e[s];r.set(a,u,c)}this._states=r,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let m$=null;function J6e(){return m$===null&&(m$=new Q6e([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),m$}let SA=null;function e8e(){if(SA===null){SA=new NE(0);const i=` 	<>'"`;for(let t=0;t<i.length;t++)SA.set(i.charCodeAt(t),1);const e=".,;";for(let t=0;t<e.length;t++)SA.set(e.charCodeAt(t),2)}return SA}class b7{static _createLink(e,t,n,r,s){let o=s-1;do{const a=t.charCodeAt(o);if(e.get(a)!==2)break;o--}while(o>r);if(r>0){const a=t.charCodeAt(r-1),u=t.charCodeAt(o);(a===40&&u===41||a===91&&u===93||a===123&&u===125)&&o--}return{range:{startLineNumber:n,startColumn:r+1,endLineNumber:n,endColumn:o+2},url:t.substring(r,o+1)}}static computeLinks(e,t=J6e()){const n=e8e();let r=[];for(let s=1,o=e.getLineCount();s<=o;s++){const a=e.getLineContent(s),u=a.length;let c=0,h=0,f=0,p=1,m=!1,v=!1,b=!1,S=!1;for(;c<u;){let x=!1;const w=a.charCodeAt(c);if(p===13){let E;switch(w){case 40:m=!0,E=0;break;case 41:E=m?0:1;break;case 91:b=!0,v=!0,E=0;break;case 93:b=!1,E=v?0:1;break;case 123:S=!0,E=0;break;case 125:E=S?0:1;break;case 39:E=f===34||f===96?0:1;break;case 34:E=f===39||f===96?0:1;break;case 96:E=f===39||f===34?0:1;break;case 42:E=f===42?1:0;break;case 124:E=f===124?1:0;break;case 32:E=b?0:1;break;default:E=n.get(w)}E===1&&(r.push(b7._createLink(n,a,s,h,c)),x=!0)}else if(p===12){let E;w===91?(v=!0,E=0):E=n.get(w),E===1?x=!0:p=13}else p=t.nextState(p,w),p===0&&(x=!0);x&&(p=1,m=!1,v=!1,S=!1,h=c+1,f=w),c++}p===13&&r.push(b7._createLink(n,a,s,h,u))}return r}}function t8e(i){return!i||typeof i.getLineCount!="function"||typeof i.getLineContent!="function"?[]:b7.computeLinks(i)}class yK{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,n,r,s){if(e&&t){let o=this.doNavigateValueSet(t,s);if(o)return{range:e,value:o}}if(n&&r){let o=this.doNavigateValueSet(r,s);if(o)return{range:n,value:o}}return null}doNavigateValueSet(e,t){let n=this.numberReplace(e,t);return n!==null?n:this.textReplace(e,t)}numberReplace(e,t){let n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),r=Number(e),s=parseFloat(e);return!isNaN(r)&&!isNaN(s)&&r===s?r===0&&!t?null:(r=Math.floor(r*n),r+=t?n:-n,String(r/n)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,n){let r=null;for(let s=0,o=e.length;r===null&&s<o;s++)r=this.valueSetReplace(e[s],t,n);return r}valueSetReplace(e,t,n){let r=e.indexOf(t);return r>=0?(r+=n?1:-1,r<0?r=e.length-1:r%=e.length,e[r]):null}}yK.INSTANCE=new yK;var wK;(function(i){i[i.Unknown=0]="Unknown",i[i.Disabled=1]="Disabled",i[i.Enabled=2]="Enabled"})(wK||(wK={}));var SK;(function(i){i[i.KeepWhitespace=1]="KeepWhitespace",i[i.InsertAsSnippet=4]="InsertAsSnippet"})(SK||(SK={}));var xK;(function(i){i[i.Method=0]="Method",i[i.Function=1]="Function",i[i.Constructor=2]="Constructor",i[i.Field=3]="Field",i[i.Variable=4]="Variable",i[i.Class=5]="Class",i[i.Struct=6]="Struct",i[i.Interface=7]="Interface",i[i.Module=8]="Module",i[i.Property=9]="Property",i[i.Event=10]="Event",i[i.Operator=11]="Operator",i[i.Unit=12]="Unit",i[i.Value=13]="Value",i[i.Constant=14]="Constant",i[i.Enum=15]="Enum",i[i.EnumMember=16]="EnumMember",i[i.Keyword=17]="Keyword",i[i.Text=18]="Text",i[i.Color=19]="Color",i[i.File=20]="File",i[i.Reference=21]="Reference",i[i.Customcolor=22]="Customcolor",i[i.Folder=23]="Folder",i[i.TypeParameter=24]="TypeParameter",i[i.User=25]="User",i[i.Issue=26]="Issue",i[i.Snippet=27]="Snippet"})(xK||(xK={}));var EK;(function(i){i[i.Deprecated=1]="Deprecated"})(EK||(EK={}));var LK;(function(i){i[i.Invoke=0]="Invoke",i[i.TriggerCharacter=1]="TriggerCharacter",i[i.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(LK||(LK={}));var DK;(function(i){i[i.EXACT=0]="EXACT",i[i.ABOVE=1]="ABOVE",i[i.BELOW=2]="BELOW"})(DK||(DK={}));var TK;(function(i){i[i.NotSet=0]="NotSet",i[i.ContentFlush=1]="ContentFlush",i[i.RecoverFromMarkers=2]="RecoverFromMarkers",i[i.Explicit=3]="Explicit",i[i.Paste=4]="Paste",i[i.Undo=5]="Undo",i[i.Redo=6]="Redo"})(TK||(TK={}));var IK;(function(i){i[i.LF=1]="LF",i[i.CRLF=2]="CRLF"})(IK||(IK={}));var kK;(function(i){i[i.Text=0]="Text",i[i.Read=1]="Read",i[i.Write=2]="Write"})(kK||(kK={}));var NK;(function(i){i[i.None=0]="None",i[i.Keep=1]="Keep",i[i.Brackets=2]="Brackets",i[i.Advanced=3]="Advanced",i[i.Full=4]="Full"})(NK||(NK={}));var AK;(function(i){i[i.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",i[i.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",i[i.accessibilitySupport=2]="accessibilitySupport",i[i.accessibilityPageSize=3]="accessibilityPageSize",i[i.ariaLabel=4]="ariaLabel",i[i.autoClosingBrackets=5]="autoClosingBrackets",i[i.autoClosingDelete=6]="autoClosingDelete",i[i.autoClosingOvertype=7]="autoClosingOvertype",i[i.autoClosingQuotes=8]="autoClosingQuotes",i[i.autoIndent=9]="autoIndent",i[i.automaticLayout=10]="automaticLayout",i[i.autoSurround=11]="autoSurround",i[i.bracketPairColorization=12]="bracketPairColorization",i[i.guides=13]="guides",i[i.codeLens=14]="codeLens",i[i.codeLensFontFamily=15]="codeLensFontFamily",i[i.codeLensFontSize=16]="codeLensFontSize",i[i.colorDecorators=17]="colorDecorators",i[i.columnSelection=18]="columnSelection",i[i.comments=19]="comments",i[i.contextmenu=20]="contextmenu",i[i.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",i[i.cursorBlinking=22]="cursorBlinking",i[i.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",i[i.cursorStyle=24]="cursorStyle",i[i.cursorSurroundingLines=25]="cursorSurroundingLines",i[i.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",i[i.cursorWidth=27]="cursorWidth",i[i.disableLayerHinting=28]="disableLayerHinting",i[i.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",i[i.domReadOnly=30]="domReadOnly",i[i.dragAndDrop=31]="dragAndDrop",i[i.emptySelectionClipboard=32]="emptySelectionClipboard",i[i.extraEditorClassName=33]="extraEditorClassName",i[i.fastScrollSensitivity=34]="fastScrollSensitivity",i[i.find=35]="find",i[i.fixedOverflowWidgets=36]="fixedOverflowWidgets",i[i.folding=37]="folding",i[i.foldingStrategy=38]="foldingStrategy",i[i.foldingHighlight=39]="foldingHighlight",i[i.foldingImportsByDefault=40]="foldingImportsByDefault",i[i.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",i[i.fontFamily=42]="fontFamily",i[i.fontInfo=43]="fontInfo",i[i.fontLigatures=44]="fontLigatures",i[i.fontSize=45]="fontSize",i[i.fontWeight=46]="fontWeight",i[i.formatOnPaste=47]="formatOnPaste",i[i.formatOnType=48]="formatOnType",i[i.glyphMargin=49]="glyphMargin",i[i.gotoLocation=50]="gotoLocation",i[i.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",i[i.hover=52]="hover",i[i.inDiffEditor=53]="inDiffEditor",i[i.inlineSuggest=54]="inlineSuggest",i[i.letterSpacing=55]="letterSpacing",i[i.lightbulb=56]="lightbulb",i[i.lineDecorationsWidth=57]="lineDecorationsWidth",i[i.lineHeight=58]="lineHeight",i[i.lineNumbers=59]="lineNumbers",i[i.lineNumbersMinChars=60]="lineNumbersMinChars",i[i.linkedEditing=61]="linkedEditing",i[i.links=62]="links",i[i.matchBrackets=63]="matchBrackets",i[i.minimap=64]="minimap",i[i.mouseStyle=65]="mouseStyle",i[i.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",i[i.mouseWheelZoom=67]="mouseWheelZoom",i[i.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",i[i.multiCursorModifier=69]="multiCursorModifier",i[i.multiCursorPaste=70]="multiCursorPaste",i[i.occurrencesHighlight=71]="occurrencesHighlight",i[i.overviewRulerBorder=72]="overviewRulerBorder",i[i.overviewRulerLanes=73]="overviewRulerLanes",i[i.padding=74]="padding",i[i.parameterHints=75]="parameterHints",i[i.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",i[i.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",i[i.quickSuggestions=78]="quickSuggestions",i[i.quickSuggestionsDelay=79]="quickSuggestionsDelay",i[i.readOnly=80]="readOnly",i[i.renameOnType=81]="renameOnType",i[i.renderControlCharacters=82]="renderControlCharacters",i[i.renderFinalNewline=83]="renderFinalNewline",i[i.renderLineHighlight=84]="renderLineHighlight",i[i.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",i[i.renderValidationDecorations=86]="renderValidationDecorations",i[i.renderWhitespace=87]="renderWhitespace",i[i.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",i[i.roundedSelection=89]="roundedSelection",i[i.rulers=90]="rulers",i[i.scrollbar=91]="scrollbar",i[i.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",i[i.scrollBeyondLastLine=93]="scrollBeyondLastLine",i[i.scrollPredominantAxis=94]="scrollPredominantAxis",i[i.selectionClipboard=95]="selectionClipboard",i[i.selectionHighlight=96]="selectionHighlight",i[i.selectOnLineNumbers=97]="selectOnLineNumbers",i[i.showFoldingControls=98]="showFoldingControls",i[i.showUnused=99]="showUnused",i[i.snippetSuggestions=100]="snippetSuggestions",i[i.smartSelect=101]="smartSelect",i[i.smoothScrolling=102]="smoothScrolling",i[i.stickyTabStops=103]="stickyTabStops",i[i.stopRenderingLineAfter=104]="stopRenderingLineAfter",i[i.suggest=105]="suggest",i[i.suggestFontSize=106]="suggestFontSize",i[i.suggestLineHeight=107]="suggestLineHeight",i[i.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",i[i.suggestSelection=109]="suggestSelection",i[i.tabCompletion=110]="tabCompletion",i[i.tabIndex=111]="tabIndex",i[i.unicodeHighlighting=112]="unicodeHighlighting",i[i.unusualLineTerminators=113]="unusualLineTerminators",i[i.useShadowDOM=114]="useShadowDOM",i[i.useTabStops=115]="useTabStops",i[i.wordSeparators=116]="wordSeparators",i[i.wordWrap=117]="wordWrap",i[i.wordWrapBreakAfterCharacters=118]="wordWrapBreakAfterCharacters",i[i.wordWrapBreakBeforeCharacters=119]="wordWrapBreakBeforeCharacters",i[i.wordWrapColumn=120]="wordWrapColumn",i[i.wordWrapOverride1=121]="wordWrapOverride1",i[i.wordWrapOverride2=122]="wordWrapOverride2",i[i.wrappingIndent=123]="wrappingIndent",i[i.wrappingStrategy=124]="wrappingStrategy",i[i.showDeprecated=125]="showDeprecated",i[i.inlayHints=126]="inlayHints",i[i.editorClassName=127]="editorClassName",i[i.pixelRatio=128]="pixelRatio",i[i.tabFocusMode=129]="tabFocusMode",i[i.layoutInfo=130]="layoutInfo",i[i.wrappingInfo=131]="wrappingInfo"})(AK||(AK={}));var OK;(function(i){i[i.TextDefined=0]="TextDefined",i[i.LF=1]="LF",i[i.CRLF=2]="CRLF"})(OK||(OK={}));var MK;(function(i){i[i.LF=0]="LF",i[i.CRLF=1]="CRLF"})(MK||(MK={}));var RK;(function(i){i[i.None=0]="None",i[i.Indent=1]="Indent",i[i.IndentOutdent=2]="IndentOutdent",i[i.Outdent=3]="Outdent"})(RK||(RK={}));var PK;(function(i){i[i.Other=0]="Other",i[i.Type=1]="Type",i[i.Parameter=2]="Parameter"})(PK||(PK={}));var FK;(function(i){i[i.Automatic=0]="Automatic",i[i.Explicit=1]="Explicit"})(FK||(FK={}));var BK;(function(i){i[i.DependsOnKbLayout=-1]="DependsOnKbLayout",i[i.Unknown=0]="Unknown",i[i.Backspace=1]="Backspace",i[i.Tab=2]="Tab",i[i.Enter=3]="Enter",i[i.Shift=4]="Shift",i[i.Ctrl=5]="Ctrl",i[i.Alt=6]="Alt",i[i.PauseBreak=7]="PauseBreak",i[i.CapsLock=8]="CapsLock",i[i.Escape=9]="Escape",i[i.Space=10]="Space",i[i.PageUp=11]="PageUp",i[i.PageDown=12]="PageDown",i[i.End=13]="End",i[i.Home=14]="Home",i[i.LeftArrow=15]="LeftArrow",i[i.UpArrow=16]="UpArrow",i[i.RightArrow=17]="RightArrow",i[i.DownArrow=18]="DownArrow",i[i.Insert=19]="Insert",i[i.Delete=20]="Delete",i[i.Digit0=21]="Digit0",i[i.Digit1=22]="Digit1",i[i.Digit2=23]="Digit2",i[i.Digit3=24]="Digit3",i[i.Digit4=25]="Digit4",i[i.Digit5=26]="Digit5",i[i.Digit6=27]="Digit6",i[i.Digit7=28]="Digit7",i[i.Digit8=29]="Digit8",i[i.Digit9=30]="Digit9",i[i.KeyA=31]="KeyA",i[i.KeyB=32]="KeyB",i[i.KeyC=33]="KeyC",i[i.KeyD=34]="KeyD",i[i.KeyE=35]="KeyE",i[i.KeyF=36]="KeyF",i[i.KeyG=37]="KeyG",i[i.KeyH=38]="KeyH",i[i.KeyI=39]="KeyI",i[i.KeyJ=40]="KeyJ",i[i.KeyK=41]="KeyK",i[i.KeyL=42]="KeyL",i[i.KeyM=43]="KeyM",i[i.KeyN=44]="KeyN",i[i.KeyO=45]="KeyO",i[i.KeyP=46]="KeyP",i[i.KeyQ=47]="KeyQ",i[i.KeyR=48]="KeyR",i[i.KeyS=49]="KeyS",i[i.KeyT=50]="KeyT",i[i.KeyU=51]="KeyU",i[i.KeyV=52]="KeyV",i[i.KeyW=53]="KeyW",i[i.KeyX=54]="KeyX",i[i.KeyY=55]="KeyY",i[i.KeyZ=56]="KeyZ",i[i.Meta=57]="Meta",i[i.ContextMenu=58]="ContextMenu",i[i.F1=59]="F1",i[i.F2=60]="F2",i[i.F3=61]="F3",i[i.F4=62]="F4",i[i.F5=63]="F5",i[i.F6=64]="F6",i[i.F7=65]="F7",i[i.F8=66]="F8",i[i.F9=67]="F9",i[i.F10=68]="F10",i[i.F11=69]="F11",i[i.F12=70]="F12",i[i.F13=71]="F13",i[i.F14=72]="F14",i[i.F15=73]="F15",i[i.F16=74]="F16",i[i.F17=75]="F17",i[i.F18=76]="F18",i[i.F19=77]="F19",i[i.NumLock=78]="NumLock",i[i.ScrollLock=79]="ScrollLock",i[i.Semicolon=80]="Semicolon",i[i.Equal=81]="Equal",i[i.Comma=82]="Comma",i[i.Minus=83]="Minus",i[i.Period=84]="Period",i[i.Slash=85]="Slash",i[i.Backquote=86]="Backquote",i[i.BracketLeft=87]="BracketLeft",i[i.Backslash=88]="Backslash",i[i.BracketRight=89]="BracketRight",i[i.Quote=90]="Quote",i[i.OEM_8=91]="OEM_8",i[i.IntlBackslash=92]="IntlBackslash",i[i.Numpad0=93]="Numpad0",i[i.Numpad1=94]="Numpad1",i[i.Numpad2=95]="Numpad2",i[i.Numpad3=96]="Numpad3",i[i.Numpad4=97]="Numpad4",i[i.Numpad5=98]="Numpad5",i[i.Numpad6=99]="Numpad6",i[i.Numpad7=100]="Numpad7",i[i.Numpad8=101]="Numpad8",i[i.Numpad9=102]="Numpad9",i[i.NumpadMultiply=103]="NumpadMultiply",i[i.NumpadAdd=104]="NumpadAdd",i[i.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",i[i.NumpadSubtract=106]="NumpadSubtract",i[i.NumpadDecimal=107]="NumpadDecimal",i[i.NumpadDivide=108]="NumpadDivide",i[i.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",i[i.ABNT_C1=110]="ABNT_C1",i[i.ABNT_C2=111]="ABNT_C2",i[i.AudioVolumeMute=112]="AudioVolumeMute",i[i.AudioVolumeUp=113]="AudioVolumeUp",i[i.AudioVolumeDown=114]="AudioVolumeDown",i[i.BrowserSearch=115]="BrowserSearch",i[i.BrowserHome=116]="BrowserHome",i[i.BrowserBack=117]="BrowserBack",i[i.BrowserForward=118]="BrowserForward",i[i.MediaTrackNext=119]="MediaTrackNext",i[i.MediaTrackPrevious=120]="MediaTrackPrevious",i[i.MediaStop=121]="MediaStop",i[i.MediaPlayPause=122]="MediaPlayPause",i[i.LaunchMediaPlayer=123]="LaunchMediaPlayer",i[i.LaunchMail=124]="LaunchMail",i[i.LaunchApp2=125]="LaunchApp2",i[i.MAX_VALUE=126]="MAX_VALUE"})(BK||(BK={}));var WK;(function(i){i[i.Hint=1]="Hint",i[i.Info=2]="Info",i[i.Warning=4]="Warning",i[i.Error=8]="Error"})(WK||(WK={}));var VK;(function(i){i[i.Unnecessary=1]="Unnecessary",i[i.Deprecated=2]="Deprecated"})(VK||(VK={}));var HK;(function(i){i[i.Inline=1]="Inline",i[i.Gutter=2]="Gutter"})(HK||(HK={}));var $K;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.TEXTAREA=1]="TEXTAREA",i[i.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",i[i.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",i[i.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",i[i.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",i[i.CONTENT_TEXT=6]="CONTENT_TEXT",i[i.CONTENT_EMPTY=7]="CONTENT_EMPTY",i[i.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",i[i.CONTENT_WIDGET=9]="CONTENT_WIDGET",i[i.OVERVIEW_RULER=10]="OVERVIEW_RULER",i[i.SCROLLBAR=11]="SCROLLBAR",i[i.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",i[i.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})($K||($K={}));var zK;(function(i){i[i.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",i[i.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",i[i.TOP_CENTER=2]="TOP_CENTER"})(zK||(zK={}));var UK;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=4]="Right",i[i.Full=7]="Full"})(UK||(UK={}));var jK;(function(i){i[i.Off=0]="Off",i[i.On=1]="On",i[i.Relative=2]="Relative",i[i.Interval=3]="Interval",i[i.Custom=4]="Custom"})(jK||(jK={}));var KK;(function(i){i[i.None=0]="None",i[i.Text=1]="Text",i[i.Blocks=2]="Blocks"})(KK||(KK={}));var qK;(function(i){i[i.Smooth=0]="Smooth",i[i.Immediate=1]="Immediate"})(qK||(qK={}));var GK;(function(i){i[i.Auto=1]="Auto",i[i.Hidden=2]="Hidden",i[i.Visible=3]="Visible"})(GK||(GK={}));var YK;(function(i){i[i.LTR=0]="LTR",i[i.RTL=1]="RTL"})(YK||(YK={}));var ZK;(function(i){i[i.Invoke=1]="Invoke",i[i.TriggerCharacter=2]="TriggerCharacter",i[i.ContentChange=3]="ContentChange"})(ZK||(ZK={}));var XK;(function(i){i[i.File=0]="File",i[i.Module=1]="Module",i[i.Namespace=2]="Namespace",i[i.Package=3]="Package",i[i.Class=4]="Class",i[i.Method=5]="Method",i[i.Property=6]="Property",i[i.Field=7]="Field",i[i.Constructor=8]="Constructor",i[i.Enum=9]="Enum",i[i.Interface=10]="Interface",i[i.Function=11]="Function",i[i.Variable=12]="Variable",i[i.Constant=13]="Constant",i[i.String=14]="String",i[i.Number=15]="Number",i[i.Boolean=16]="Boolean",i[i.Array=17]="Array",i[i.Object=18]="Object",i[i.Key=19]="Key",i[i.Null=20]="Null",i[i.EnumMember=21]="EnumMember",i[i.Struct=22]="Struct",i[i.Event=23]="Event",i[i.Operator=24]="Operator",i[i.TypeParameter=25]="TypeParameter"})(XK||(XK={}));var QK;(function(i){i[i.Deprecated=1]="Deprecated"})(QK||(QK={}));var JK;(function(i){i[i.Hidden=0]="Hidden",i[i.Blink=1]="Blink",i[i.Smooth=2]="Smooth",i[i.Phase=3]="Phase",i[i.Expand=4]="Expand",i[i.Solid=5]="Solid"})(JK||(JK={}));var eq;(function(i){i[i.Line=1]="Line",i[i.Block=2]="Block",i[i.Underline=3]="Underline",i[i.LineThin=4]="LineThin",i[i.BlockOutline=5]="BlockOutline",i[i.UnderlineThin=6]="UnderlineThin"})(eq||(eq={}));var tq;(function(i){i[i.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",i[i.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",i[i.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",i[i.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(tq||(tq={}));var nq;(function(i){i[i.None=0]="None",i[i.Same=1]="Same",i[i.Indent=2]="Indent",i[i.DeepIndent=3]="DeepIndent"})(nq||(nq={}));let i3=class{static chord(e,t){return cs(e,t)}};i3.CtrlCmd=2048;i3.Shift=1024;i3.Alt=512;i3.WinCtrl=256;function Bme(){return{editor:void 0,languages:void 0,CancellationTokenSource:Ea,Emitter:ye,KeyCode:BK,KeyMod:i3,Position:Ee,Range:Q,Selection:xt,SelectionDirection:YK,MarkerSeverity:WK,MarkerTag:VK,Uri:an,Token:PB}}class HQ{static computeUnicodeHighlights(e,t,n){const r=n?n.startLineNumber:1,s=n?n.endLineNumber:e.getLineCount(),o=new xse(t),a=o.getCandidateCodePoints();let u;a==="allNonBasicAscii"?u=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):u=new RegExp(`${n8e(Array.from(a))}`,"g");const c=new lS(null,u),h=[];let f=!1,p,m=0,v=0,b=0;e:for(let S=r,x=s;S<=x;S++){const w=e.getLineContent(S),E=w.length;c.reset(0);do if(p=c.next(w),p){let N=p.index,A=p.index+p[0].length;if(N>0){const M=w.charCodeAt(N-1);no(M)&&N--}if(A+1<E){const M=w.charCodeAt(A-1);no(M)&&A++}const H=w.substring(N,A),R=o.shouldHighlightNonBasicASCII(H);if(R!==0){R===3?m++:R===2?v++:R===1?b++:ege();const M=1e3;if(h.length>=M){f=!0;break e}h.push(new Q(S,N+1,S,A+1))}}while(p)}return{ranges:h,hasMore:f,ambiguousCharacterCount:m,invisibleCharacterCount:v,nonBasicAsciiCharacterCount:b}}static computeUnicodeHighlightReason(e,t){switch(new xse(t).shouldHighlightNonBasicASCII(e)){case 0:return null;case 2:return{kind:1};case 3:const s=rf.getPrimaryConfusable(e.codePointAt(0));return{kind:0,confusableWith:String.fromCodePoint(s)};case 1:return{kind:2}}}}function n8e(i,e){return`[${Bc(i.map(n=>String.fromCodePoint(n)).join(""))}]`}class xse{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints)}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of cm.codePoints)e.add(t);if(this.options.ambiguousCharacters)for(const t of rf.getPrimaryConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e){const t=e.codePointAt(0);return this.allowedCodePoints.has(t)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&!(e===" "||e===`
`||e==="	")&&cm.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&rf.isAmbiguous(t)?3:0}}var db=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class i8e extends Z6e{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let n=kF(e.column,IF(t),this._lines[e.lineNumber-1],0);return n?new Q(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null}words(e){const t=this._lines,n=this._wordenize.bind(this);let r=0,s="",o=0,a=[];return{*[Symbol.iterator](){for(;;)if(o<a.length){const u=s.substring(a[o].start,a[o].end);o+=1,yield u}else if(r<t.length)s=t[r],a=n(s,e),o=0,r+=1;else break}}}getLineWords(e,t){let n=this._lines[e-1],r=this._wordenize(n,t),s=[];for(const o of r)s.push({word:n.substring(o.start,o.end),startColumn:o.start+1,endColumn:o.end+1});return s}_wordenize(e,t){const n=[];let r;for(t.lastIndex=0;(r=t.exec(e))&&r[0].length!==0;)n.push({start:r.index,end:r.index+r[0].length});return n}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,n=e.startLineNumber-1,r=e.endLineNumber-1,s=[];s.push(this._lines[n].substring(e.startColumn-1));for(let o=n+1;o<r;o++)s.push(this._lines[o]);return s.push(this._lines[r].substring(0,e.endColumn-1)),s.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e}_validatePosition(e){if(!Ee.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:n}=e,r=!1;if(t<1)t=1,n=1,r=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,r=!0;else{let s=this._lines[t-1].length+1;n<1?(n=1,r=!0):n>s&&(n=s,r=!0)}return r?{lineNumber:t,column:n}:e}}class ry{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new i8e(an.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeUnicodeHighlights(e,t,n){return db(this,void 0,void 0,function*(){const r=this._getModel(e);return r?HQ.computeUnicodeHighlights(r,t,n):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(e,t,n,r){return db(this,void 0,void 0,function*(){const s=this._getModel(e),o=this._getModel(t);if(!s||!o)return null;const a=s.getLinesContent(),u=o.getLinesContent(),h=new Y6e(a,u,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0,maxComputationTime:r}).computeDiff(),f=h.changes.length>0?!1:this._modelsAreIdentical(s,o);return{quitEarly:h.quitEarly,identical:f,changes:h.changes}})}_modelsAreIdentical(e,t){const n=e.getLineCount(),r=t.getLineCount();if(n!==r)return!1;for(let s=1;s<=n;s++){const o=e.getLineContent(s),a=t.getLineContent(s);if(o!==a)return!1}return!0}computeMoreMinimalEdits(e,t){return db(this,void 0,void 0,function*(){const n=this._getModel(e);if(!n)return t;const r=[];let s;t=t.slice(0).sort((o,a)=>{if(o.range&&a.range)return Q.compareRangesUsingStarts(o.range,a.range);let u=o.range?0:1,c=a.range?0:1;return u-c});for(let{range:o,text:a,eol:u}of t){if(typeof u=="number"&&(s=u),Q.isEmpty(o)&&!a)continue;const c=n.getValueInRange(o);if(a=a.replace(/\r\n|\n|\r/g,n.eol),c===a)continue;if(Math.max(a.length,c.length)>ry._diffLimit){r.push({range:o,text:a});continue}const h=j6e(c,a,!1),f=n.offsetAt(Q.lift(o).getStartPosition());for(const p of h){const m=n.positionAt(f+p.originalStart),v=n.positionAt(f+p.originalStart+p.originalLength),b={text:a.substr(p.modifiedStart,p.modifiedLength),range:{startLineNumber:m.lineNumber,startColumn:m.column,endLineNumber:v.lineNumber,endColumn:v.column}};n.getValueInRange(b.range)!==b.text&&r.push(b)}}return typeof s=="number"&&r.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),r})}computeLinks(e){return db(this,void 0,void 0,function*(){let t=this._getModel(e);return t?t8e(t):null})}textualSuggest(e,t,n,r){return db(this,void 0,void 0,function*(){const s=new Ug(!0),o=new RegExp(n,r),a=new Set;e:for(let u of e){const c=this._getModel(u);if(c){for(let h of c.words(o))if(!(h===t||!isNaN(Number(h)))&&(a.add(h),a.size>ry._suggestionsLimit))break e}}return{words:Array.from(a),duration:s.elapsed()}})}computeWordRanges(e,t,n,r){return db(this,void 0,void 0,function*(){let s=this._getModel(e);if(!s)return Object.create(null);const o=new RegExp(n,r),a=Object.create(null);for(let u=t.startLineNumber;u<t.endLineNumber;u++){let c=s.getLineWords(u,o);for(const h of c){if(!isNaN(Number(h.word)))continue;let f=a[h.word];f||(f=[],a[h.word]=f),f.push({startLineNumber:u,startColumn:h.startColumn,endLineNumber:u,endColumn:h.endColumn})}}return a})}navigateValueSet(e,t,n,r,s){return db(this,void 0,void 0,function*(){let o=this._getModel(e);if(!o)return null;let a=new RegExp(r,s);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let u=o.getValueInRange(t),c=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;let h=o.getValueInRange(c);return yK.INSTANCE.navigateValueSet(t,u,c,h,n)})}loadForeignModule(e,t,n){let o={host:UIe(n,(a,u)=>this._host.fhr(a,u)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,t),Promise.resolve(LX(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(n){return Promise.reject(n)}}}ry._diffLimit=1e5;ry._suggestionsLimit=1e4;typeof importScripts=="function"&&(us.monaco=Bme());const $Q=Ci("textResourceConfigurationService"),Wme=Ci("textResourcePropertiesService");var r8e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},_$=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},iq=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const Ese=60*1e3,Lse=5*60*1e3;function Ob(i,e){let t=i.getModel(e);return!(!t||t.isTooLargeForSyncing())}let rq=class extends Me{constructor(e,t,n){super(),this._modelService=e,this._workerManager=this._register(new o8e(this._modelService)),this._logService=n,this._register(xM.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(r,s)=>Ob(this._modelService,r.uri)?this._workerManager.withWorker().then(o=>o.computeLinks(r.uri)).then(o=>o&&{links:o}):Promise.resolve({links:[]})})),this._register(ff.register("*",new s8e(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return Ob(this._modelService,e)}computedUnicodeHighlights(e,t,n){return this._workerManager.withWorker().then(r=>r.computedUnicodeHighlights(e,t,n))}computeDiff(e,t,n,r){return this._workerManager.withWorker().then(s=>s.computeDiff(e,t,n,r))}computeMoreMinimalEdits(e,t){if(zl(t)){if(!Ob(this._modelService,e))return Promise.resolve(t);const n=Ug.create(!0),r=this._workerManager.withWorker().then(s=>s.computeMoreMinimalEdits(e,t));return r.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed())),Promise.race([r,y1(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return Ob(this._modelService,e)}navigateValueSet(e,t,n){return this._workerManager.withWorker().then(r=>r.navigateValueSet(e,t,n))}canComputeWordRanges(e){return Ob(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(n=>n.computeWordRanges(e,t))}};rq=r8e([_$(0,$s),_$(1,$Q),_$(2,cp)],rq);class s8e{constructor(e,t,n){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=n}provideCompletionItems(e,t){return iq(this,void 0,void 0,function*(){const n=this._configurationService.getValue(e.uri,t,"editor");if(!n.wordBasedSuggestions)return;const r=[];if(n.wordBasedSuggestionsMode==="currentDocument")Ob(this._modelService,e.uri)&&r.push(e.uri);else for(const f of this._modelService.getModels())Ob(this._modelService,f.uri)&&(f===e?r.unshift(f.uri):(n.wordBasedSuggestionsMode==="allDocuments"||f.getLanguageId()===e.getLanguageId())&&r.push(f.uri));if(r.length===0)return;const s=Si.getWordDefinition(e.getLanguageId()),o=e.getWordAtPosition(t),a=o?new Q(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):Q.fromPositions(t),u=a.setEndPosition(t.lineNumber,t.column),h=yield(yield this._workerManager.withWorker()).textualSuggest(r,o==null?void 0:o.word,s);if(h)return{duration:h.duration,suggestions:h.words.map(f=>({kind:18,label:f,insertText:f,range:{insert:u,replace:a}}))}})}}let o8e=class extends Me{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new UP).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Lse/2)),this._register(this._modelService.onModelRemoved(n=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>Lse&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Vme(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}};class a8e extends Me{constructor(e,t,n){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!n){let r=new UP;r.cancelAndSet(()=>this._checkStopModelSync(),Math.round(Ese/2)),this._register(r)}}dispose(){for(let e in this._syncedModels)ui(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const n of e){let r=n.toString();this._syncedModels[r]||this._beginModelSync(n,t),this._syncedModels[r]&&(this._syncedModelsLastUsedTime[r]=new Date().getTime())}}_checkStopModelSync(){let e=new Date().getTime(),t=[];for(let n in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[n]>Ese&&t.push(n);for(const n of t)this._stopModelSync(n)}_beginModelSync(e,t){let n=this._modelService.getModel(e);if(!n||!t&&n.isTooLargeForSyncing())return;let r=e.toString();this._proxy.acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});const s=new tt;s.add(n.onDidChangeContent(o=>{this._proxy.acceptModelChanged(r.toString(),o)})),s.add(n.onWillDispose(()=>{this._stopModelSync(r)})),s.add(Yn(()=>{this._proxy.acceptRemovedModel(r)})),this._syncedModels[r]=s}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],ui(t)}}class Dse{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class v${constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class Vme extends Me{constructor(e,t,n){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new QB(n),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new V6e(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new v$(this)))}catch(e){vK(e),this._worker=new Dse(new ry(new v$(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(vK(e),this._worker=new Dse(new ry(new v$(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new a8e(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return iq(this,void 0,void 0,function*(){return this._disposed?Promise.reject(Hy()):this._getProxy().then(n=>(this._getOrCreateModelManager(n).ensureSyncedResources(e,t),n))})}computedUnicodeHighlights(e,t,n){return this._withSyncedResources([e]).then(r=>r.computeUnicodeHighlights(e.toString(),t,n))}computeDiff(e,t,n,r){return this._withSyncedResources([e,t],!0).then(s=>s.computeDiff(e.toString(),t.toString(),n,r))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(n=>n.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,n){return iq(this,void 0,void 0,function*(){const r=yield this._withSyncedResources(e),s=n.source,o=wH(n);return r.textualSuggest(e.map(a=>a.toString()),t,s,o)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(n=>{let r=this._modelService.getModel(e);if(!r)return Promise.resolve(null);let s=Si.getWordDefinition(r.getLanguageId()),o=s.source,a=wH(s);return n.computeWordRanges(e.toString(),t,o,a)})}navigateValueSet(e,t,n){return this._withSyncedResources([e]).then(r=>{let s=this._modelService.getModel(e);if(!s)return null;let o=Si.getWordDefinition(s.getLanguageId()),a=o.source,u=wH(o);return r.navigateValueSet(e.toString(),t,n,a,u)})}dispose(){super.dispose(),this._disposed=!0}}const hb=Object.prototype.hasOwnProperty;class l8e{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(I1,0),this._register(ME,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||I1}}class ZM extends Me{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new ye),this.onDidChange=this._onDidChange.event,ZM.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new l8e,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(_C.onDidChangeLanguages(n=>{this._initializeFromRegistry()})))}dispose(){ZM.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},fPe();const e=_C.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{let n=this._languages[t];n.name&&(this._nameMap[n.name]=n.identifier),n.aliases.forEach(r=>{this._lowercaseNameMap[r.toLowerCase()]=n.identifier}),n.mimetypes.forEach(r=>{this._mimeTypesMap[r]=n.identifier})}),ds.as(Ky.Configuration).registerOverrideIdentifiers(_C.getLanguages().map(t=>t.id)),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let n;hb.call(this._languages,t)?n=this._languages[t]:(this.languageIdCodec.register(t),n={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=n),this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let r=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),r=t.mimetypes[0]),r||(r=`text/x-${n}`,e.mimetypes.push(r)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let a of t.extensions)E5({id:n,mime:r,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)E5({id:n,mime:r,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)E5({id:n,mime:r,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{let u=new RegExp(a);YIe(u)||E5({id:n,mime:r,firstline:u},this._warnOnOverwrite)}catch(u){vn(u)}}e.aliases.push(n);let s=null;if(typeof t.aliases<"u"&&Array.isArray(t.aliases)&&(t.aliases.length===0?s=[null]:s=t.aliases),s!==null)for(const a of s)!a||a.length===0||e.aliases.push(a);let o=s!==null&&s.length>0;if(!(o&&s[0]===null)){let a=(o?s[0]:null)||n;(o||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return hb.call(this._mimeTypesMap,e)?!0:hb.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return hb.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e]:null}extractModeIds(e){return e?e.split(",").map(t=>t.trim()).map(t=>hb.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:t).filter(t=>hb.call(this._languages,t)):[]}validateLanguageId(e){return!e||e===I1?I1:hb.call(this._languages,e)?e:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let n=gPe(e,t);return this.extractModeIds(n.join(","))}}ZM.instanceCount=0;class Tse{constructor(e,t){this._selector=t,this.languageId=this._selector();let n;this._onDidChange=new ye({onFirstListenerAdd:()=>{n=e(()=>this._evaluate())},onLastListenerRemove:()=>{n.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const e=this._selector();e!==this.languageId&&(this.languageId=e,this._onDidChange.fire(this.languageId))}}class XM extends Me{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new ye),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new ye({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,XM.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new ZM(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){XM.instanceCount--,super.dispose()}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){const n=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return Aj(n,null)}getModeId(e){const t=this._registry.extractModeIds(e);return Aj(t,null)}validateLanguageId(e){return this._registry.validateLanguageId(e)}create(e){return new Tse(this.onLanguagesMaybeChanged,()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new Tse(this.onLanguagesMaybeChanged,()=>{const n=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(n)})}_createModeAndGetLanguageIdentifier(e){const t=this.validateLanguageId(e||"plaintext")||I1;return this._getOrCreateMode(t),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._encounteredLanguages.has(e)){this._encounteredLanguages.add(e);const t=this.validateLanguageId(e)||I1;this._onDidEncounterLanguage.fire(t)}}}XM.instanceCount=0;var u8e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},b$=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let sq=class{constructor(e,t,n,r){this._legend=e,this._themeService=t,this._modeService=n,this._logService=r,this._hashTable=new zp,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,n){const r=this._modeService.languageIdCodec.encodeLanguageId(n),s=this._hashTable.get(e,t,r);let o;if(s)o=s.metadata,this._logService.getLevel()===_f.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${wa.getForeground(o)}, fontStyle ${wa.getFontStyle(o).toString(2)}`);else{let a=this._legend.tokenTypes[e];const u=[];if(a){let c=t;for(let f=0;c>0&&f<this._legend.tokenModifiers.length;f++)c&1&&u.push(this._legend.tokenModifiers[f]),c=c>>1;c>0&&this._logService.getLevel()===_f.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),u.push("not-in-legend"));const h=this._themeService.getColorTheme().getTokenStyleMetadata(a,u,n);if(typeof h>"u")o=2147483647;else{if(o=0,typeof h.italic<"u"){const f=(h.italic?1:0)<<11;o|=f|1}if(typeof h.bold<"u"){const f=(h.bold?2:0)<<11;o|=f|2}if(typeof h.underline<"u"){const f=(h.underline?4:0)<<11;o|=f|4}if(h.foreground){const f=h.foreground<<14;o|=f|8}o===0&&(o=2147483647)}}else this._logService.getLevel()===_f.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),o=2147483647,a="not-in-legend";this._hashTable.add(e,t,r,o),this._logService.getLevel()===_f.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${u.join(" ")}): foreground ${wa.getForeground(o)}, fontStyle ${wa.getFontStyle(o).toString(2)}`)}return o}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}};sq=u8e([b$(1,Rr),b$(2,ta),b$(3,cp)],sq);function Hme(i,e,t){const n=i.data,r=i.data.length/5|0,s=Math.max(Math.ceil(r/1024),400),o=[];let a=0,u=1,c=0;for(;a<r;){const h=a;let f=Math.min(h+s,r);if(f<r){let E=f;for(;E-1>h&&n[5*E]===0;)E--;if(E-1===h){let N=f;for(;N+1<r&&n[5*N]===0;)N++;f=N}else f=E}let p=new Uint32Array((f-h)*4),m=0,v=0,b=0,S=0,x=0;for(;a<f;){const E=5*a,N=n[E],A=n[E+1],H=u+N|0,R=N===0?c+A|0:A,M=n[E+2],G=n[E+3],X=n[E+4],$=e.getMetadata(G,X,t);$!==2147483647&&(v===0&&(v=H),b===H&&x>R&&(e.warnOverlappingSemanticTokens(H,R+1),S<R?p[m-4+2]=R:m-=4),p[m]=H-v,p[m+1]=R,p[m+2]=R+M,p[m+3]=$,m+=4,b=H,S=R,x=R+M),u=H,c=R,a++}m!==p.length&&(p=p.subarray(0,m));const w=new jF(v,new UF(p));o.push(w)}return o}class c8e{constructor(e,t,n,r){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=n,this.metadata=r,this.next=null}}class zp{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=zp._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<zp._SIZES.length?2/3*this._currentLength:0),this._elements=[],zp._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let n=0;n<t;n++)e[n]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,n){return this._hash2(this._hash2(e,t),n)%this._currentLength}get(e,t,n){const r=this._hashFunc(e,t,n);let s=this._elements[r];for(;s;){if(s.tokenTypeIndex===e&&s.tokenModifierSet===t&&s.languageId===n)return s;s=s.next}return null}add(e,t,n,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const s=this._elements;this._currentLengthIndex++,this._currentLength=zp._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<zp._SIZES.length?2/3*this._currentLength:0),this._elements=[],zp._nullOutEntries(this._elements,this._currentLength);for(const o of s){let a=o;for(;a;){const u=a.next;a.next=null,this._add(a),a=u}}}this._add(new c8e(e,t,n,r))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}zp._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];function d8e(i){for(let e=0,t=i.length;e<t;e+=4){const n=i[e+0],r=i[e+1],s=i[e+2],o=i[e+3];i[e+0]=o,i[e+1]=s,i[e+2]=r,i[e+3]=n}}function h8e(i){const e=new Uint8Array(i.buffer,i.byteOffset,i.length*4);return Sfe()||d8e(e),IB.wrap(e)}function $me(i){const e=new Uint32Array(f8e(i));let t=0;if(e[t++]=i.id,i.type==="full")e[t++]=1,e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length;else{e[t++]=2,e[t++]=i.deltas.length;for(const n of i.deltas)e[t++]=n.start,e[t++]=n.deleteCount,n.data?(e[t++]=n.data.length,e.set(n.data,t),t+=n.data.length):e[t++]=0}return h8e(e)}function f8e(i){let e=0;if(e+=1+1,i.type==="full")e+=1+i.data.length;else{e+=1,e+=(1+1+1)*i.deltas.length;for(const t of i.deltas)t.data&&(e+=t.data.length)}return e}var A1=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function JB(i){return i&&!!i.data}function zme(i){return i&&Array.isArray(i.edits)}class g8e{constructor(e,t,n){this.provider=e,this.tokens=t,this.error=n}}function Ume(i){return Ex.has(i)}function p8e(i){const e=Ex.orderedGroups(i);return e.length>0?e[0]:[]}function jme(i,e,t,n){return A1(this,void 0,void 0,function*(){const r=p8e(i),s=yield Promise.all(r.map(o=>A1(this,void 0,void 0,function*(){let a,u=null;try{a=yield o.provideDocumentSemanticTokens(i,o===e?t:null,n)}catch(c){u=c,a=null}return(!a||!JB(a)&&!zme(a))&&(a=null),new g8e(o,a,u)})));for(const o of s){if(o.error)throw o.error;if(o.tokens)return o}return s.length>0?s[0]:null})}function m8e(i){const e=Ex.orderedGroups(i);return e.length>0?e[0]:null}class _8e{constructor(e,t){this.provider=e,this.tokens=t}}function v8e(i){return RB.has(i)}function Kme(i){const e=RB.orderedGroups(i);return e.length>0?e[0]:[]}function zQ(i,e,t){return A1(this,void 0,void 0,function*(){const n=Kme(i),r=yield Promise.all(n.map(s=>A1(this,void 0,void 0,function*(){let o;try{o=yield s.provideDocumentRangeSemanticTokens(i,e,t)}catch(a){Jo(a),o=null}return(!o||!JB(o))&&(o=null),new _8e(s,o)})));for(const s of r)if(s.tokens)return s;return r.length>0?r[0]:null})}ni.registerCommand("_provideDocumentSemanticTokensLegend",(i,...e)=>A1(void 0,void 0,void 0,function*(){const[t]=e;nr(t instanceof an);const n=i.get($s).getModel(t);if(!n)return;const r=m8e(n);return r?r[0].getLegend():i.get(Vr).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)}));ni.registerCommand("_provideDocumentSemanticTokens",(i,...e)=>A1(void 0,void 0,void 0,function*(){const[t]=e;nr(t instanceof an);const n=i.get($s).getModel(t);if(!n)return;if(!Ume(n))return i.get(Vr).executeCommand("_provideDocumentRangeSemanticTokens",t,n.getFullModelRange());const r=yield jme(n,null,null,$n.None);if(!r)return;const{provider:s,tokens:o}=r;if(!o||!JB(o))return;const a=$me({id:0,type:"full",data:o.data});return o.resultId&&s.releaseDocumentSemanticTokens(o.resultId),a}));ni.registerCommand("_provideDocumentRangeSemanticTokensLegend",(i,...e)=>A1(void 0,void 0,void 0,function*(){const[t,n]=e;nr(t instanceof an);const r=i.get($s).getModel(t);if(!r)return;const s=Kme(r);if(s.length===0)return;if(s.length===1)return s[0].getLegend();if(!n||!Q.isIRange(n))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();const o=yield zQ(r,Q.lift(n),$n.None);if(o)return o.provider.getLegend()}));ni.registerCommand("_provideDocumentRangeSemanticTokens",(i,...e)=>A1(void 0,void 0,void 0,function*(){const[t,n]=e;nr(t instanceof an),nr(Q.isIRange(n));const r=i.get($s).getModel(t);if(!r)return;const s=yield zQ(r,Q.lift(n),$n.None);if(!(!s||!s.tokens))return $me({id:0,type:"full",data:s.tokens.data})}));var b8e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},fb=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};function d0(i){return i.toString()}function Ise(i){const e=new OB,t=i.createSnapshot();let n;for(;n=t.read();)e.update(n);return e.digest()}class C8e{constructor(e,t,n){this._modelEventListeners=new tt,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(r=>n(e,r)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageId)),this.model.setMode(e.languageId)}}const y8e=yl||Xn?1:2;class w8e{constructor(e,t,n,r,s,o,a,u){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=n,this.sharesUndoRedoStack=r,this.heapSize=s,this.sha1=o,this.versionId=a,this.alternativeVersionId=u}}let C7=class YA extends Me{constructor(e,t,n,r,s,o,a){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=n,this._logService=r,this._undoRedoService=s,this._modeService=o,this._languageConfigurationService=a,this._onModelAdded=this._register(new ye),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new ye),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new ye),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new x8e(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new S8e(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){var n;let r=va.tabSize;if(e.editor&&typeof e.editor.tabSize<"u"){const m=parseInt(e.editor.tabSize,10);isNaN(m)||(r=m),r<1&&(r=1)}let s=r;if(e.editor&&typeof e.editor.indentSize<"u"&&e.editor.indentSize!=="tabSize"){const m=parseInt(e.editor.indentSize,10);isNaN(m)||(s=m),s<1&&(s=1)}let o=va.insertSpaces;e.editor&&typeof e.editor.insertSpaces<"u"&&(o=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let a=y8e;const u=e.eol;u===`\r
`?a=2:u===`
`&&(a=1);let c=va.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace<"u"&&(c=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let h=va.detectIndentation;e.editor&&typeof e.editor.detectIndentation<"u"&&(h=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let f=va.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations<"u"&&(f=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let p=va.bracketPairColorizationOptions;return!((n=e.editor)===null||n===void 0)&&n.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(p={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:r,indentSize:s,insertSpaces:o,detectIndentation:h,defaultEOL:a,trimAutoWhitespace:c,largeFileOptimizations:f,bracketPairColorizationOptions:p}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const n=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return n&&typeof n=="string"&&n!=="auto"?n:yc===3||yc===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,n){let r=this._modelCreationOptionsByLanguageAndResource[e+t];if(!r){const s=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:t}),o=this._getEOL(t,e);r=YA._readModelOptions({editor:s,eol:o},n),this._modelCreationOptionsByLanguageAndResource[e+t]=r}return r}_updateModelOptions(){const e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const t=Object.keys(this._models);for(let n=0,r=t.length;n<r;n++){const s=t[n],o=this._models[s],a=o.model.getLanguageId(),u=o.model.uri,c=e[a+u],h=this.getCreationOptions(a,u,o.model.isForSimpleWidget);YA._setModelOptionsForModel(o.model,h,c)}}static _setModelOptionsForModel(e,t,n){n&&n.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace&&Td(n.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(d0(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(d0(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(d0(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(n=>{n.sharesUndoRedoStack||t.push(n)}),t.sort((n,r)=>n.time-r.time);t.length>0&&this._disposedModelsHeapSize>e;){const n=t.shift();this._removeDisposedModel(n.uri),n.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(n.initialUndoRedoSnapshot)}}}_createModelData(e,t,n,r){const s=this.getCreationOptions(t,n,r),o=new Gl(e,s,t,n,this._undoRedoService,this._modeService,this._languageConfigurationService);if(n&&this._disposedModels.has(d0(n))){const c=this._removeDisposedModel(n),h=this._undoRedoService.getElements(n),f=Ise(o)===c.sha1;if(f||c.sharesUndoRedoStack){for(const p of h.past)Vp(p)&&p.matchesResource(n)&&p.setModel(o);for(const p of h.future)Vp(p)&&p.matchesResource(n)&&p.setModel(o);this._undoRedoService.setElementsValidFlag(n,!0,p=>Vp(p)&&p.matchesResource(n)),f&&(o._overwriteVersionId(c.versionId),o._overwriteAlternativeVersionId(c.alternativeVersionId),o._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}const a=d0(o.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const u=new C8e(o,c=>this._onWillDispose(c),(c,h)=>this._onDidChangeLanguage(c,h));return this._models[a]=u,u}createModel(e,t,n,r=!1){let s;return t?(s=this._createModelData(e,t.languageId,n,r),this.setMode(s.model,t)):s=this._createModelData(e,ME,n,r),this._onModelAdded.fire(s.model),s.model}setMode(e,t){if(!t)return;const n=this._models[d0(e.uri)];n&&n.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let n=0,r=t.length;n<r;n++){const s=t[n];e.push(this._models[s].model)}return e}getModel(e){const t=d0(e),n=this._models[t];return n?n.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===On.file||e.scheme===On.vscodeRemote||e.scheme===On.userData||e.scheme===On.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=d0(e.uri),n=this._models[t],r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let s=!1,o=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const u=this._undoRedoService.getElements(e.uri);if(u.past.length>0||u.future.length>0){for(const c of u.past)Vp(c)&&c.matchesResource(e.uri)&&(s=!0,o+=c.heapSize(e.uri),c.setModel(e.uri));for(const c of u.future)Vp(c)&&c.matchesResource(e.uri)&&(s=!0,o+=c.heapSize(e.uri),c.setModel(e.uri))}}const a=YA.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(s)if(!r&&o>a){const u=n.model.getInitialUndoRedoSnapshot();u!==null&&this._undoRedoService.restoreSnapshot(u)}else this._ensureDisposedModelsHeapSize(a-o),this._undoRedoService.setElementsValidFlag(e.uri,!1,u=>Vp(u)&&u.matchesResource(e.uri)),this._insertDisposedModel(new w8e(e.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),r,o,Ise(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!r){const u=n.model.getInitialUndoRedoSnapshot();u!==null&&this._undoRedoService.restoreSnapshot(u)}delete this._models[t],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const n=t.oldLanguage,r=e.getLanguageId(),s=this.getCreationOptions(n,e.uri,e.isForSimpleWidget),o=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);YA._setModelOptionsForModel(e,o,s),this._onModelModeChanged.fire({model:e,oldModeId:n})}};C7.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;C7=b8e([fb(0,cr),fb(1,Wme),fb(2,Rr),fb(3,cp),fb(4,QP),fb(5,ta),fb(6,XP)],C7);const UQ="editor.semanticHighlighting";function oq(i,e,t){var n;const r=(n=t.getValue(UQ,{overrideIdentifier:i.getLanguageId(),resource:i.uri}))===null||n===void 0?void 0:n.enabled;return typeof r=="boolean"?r:e.getColorTheme().semanticHighlighting}class S8e extends Me{constructor(e,t,n,r){super(),this._watchers=Object.create(null),this._semanticStyling=r;const s=u=>{this._watchers[u.uri.toString()]=new Xb(u,t,this._semanticStyling)},o=(u,c)=>{c.dispose(),delete this._watchers[u.uri.toString()]},a=()=>{for(let u of e.getModels()){const c=this._watchers[u.uri.toString()];oq(u,t,n)?c||s(u):c&&o(u,c)}};this._register(e.onModelAdded(u=>{oq(u,t,n)&&s(u)})),this._register(e.onModelRemoved(u=>{const c=this._watchers[u.uri.toString()];c&&o(u,c)})),this._register(n.onDidChangeConfiguration(u=>{u.affectsConfiguration(UQ)&&a()})),this._register(t.onDidColorThemeChange(a))}}class x8e extends Me{constructor(e,t,n){super(),this._themeService=e,this._modeService=t,this._logService=n,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new sq(e.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(e)}}class E8e{constructor(e,t,n){this.provider=e,this.resultId=t,this.data=n}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class Xb extends Me{constructor(e,t,n){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=n,this._fetchDocumentSemanticTokens=this._register(new lr(()=>this._fetchDocumentSemanticTokensNow(),Xb.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const r=()=>{ui(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const s of Ex.all(e))typeof s.onDidChange=="function"&&this._documentProvidersChangeListeners.push(s.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};r(),this._register(Ex.onDidChange(()=>{r(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(s=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!Ume(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const e=new Ea,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,n=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,r=jme(this._model,t,n,e.token);this._currentDocumentRequestCancellationTokenSource=e;const s=[],o=this._model.onDidChangeContent(a=>{s.push(a)});r.then(a=>{if(this._currentDocumentRequestCancellationTokenSource=null,o.dispose(),!a)this._setDocumentSemanticTokens(null,null,null,s);else{const{provider:u,tokens:c}=a,h=this._semanticStyling.get(u);this._setDocumentSemanticTokens(u,c||null,h,s)}},a=>{a&&(lp(a)||typeof a.message=="string"&&a.message.indexOf("busy")!==-1)||vn(a),this._currentDocumentRequestCancellationTokenSource=null,o.dispose(),s.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(e,t,n,r,s){for(let o=0;o<s;o++)n[r+o]=e[t+o]}_setDocumentSemanticTokens(e,t,n,r){const s=this._currentDocumentResponse,o=()=>{r.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!n){this._model.setSemanticTokens(null,!1);return}if(!t){this._model.setSemanticTokens(null,!0),o();return}if(zme(t)){if(!s){this._model.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:s.data};else{let a=0;for(const p of t.edits)a+=(p.data?p.data.length:0)-p.deleteCount;const u=s.data,c=new Uint32Array(u.length+a);let h=u.length,f=c.length;for(let p=t.edits.length-1;p>=0;p--){const m=t.edits[p],v=h-(m.start+m.deleteCount);v>0&&(Xb._copy(u,h-v,c,f-v,v),f-=v),m.data&&(Xb._copy(m.data,0,c,f-m.data.length,m.data.length),f-=m.data.length),h=m.start}h>0&&Xb._copy(u,0,c,0,h),t={resultId:t.resultId,data:c}}}if(JB(t)){this._currentDocumentResponse=new E8e(e,t.resultId,t.data);const a=Hme(t,n,this._model.getLanguageId());if(r.length>0)for(const u of r)for(const c of a)for(const h of u.changes)c.applyEdit(h.range,h.text);this._model.setSemanticTokens(a,!0)}else this._model.setSemanticTokens(null,!0);o()}}Xb.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300;class L8e{constructor(e,t,n,r,s){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=n,this.foreground=r,this.background=s}}function D8e(i){if(!i||!Array.isArray(i))return[];let e=[],t=0;for(let n=0,r=i.length;n<r;n++){let s=i[n],o=-1;if(typeof s.fontStyle=="string"){o=0;let c=s.fontStyle.split(" ");for(let h=0,f=c.length;h<f;h++)switch(c[h]){case"italic":o=o|1;break;case"bold":o=o|2;break;case"underline":o=o|4;break}}let a=null;typeof s.foreground=="string"&&(a=s.foreground);let u=null;typeof s.background=="string"&&(u=s.background),e[t++]=new L8e(s.token||"",n,o,a,u)}return e}function T8e(i,e){i.sort((h,f)=>{let p=O8e(h.token,f.token);return p!==0?p:h.index-f.index});let t=0,n="000000",r="ffffff";for(;i.length>=1&&i[0].token==="";){let h=i.shift();h.fontStyle!==-1&&(t=h.fontStyle),h.foreground!==null&&(n=h.foreground),h.background!==null&&(r=h.background)}let s=new k8e;for(let h of e)s.getId(h);let o=s.getId(n),a=s.getId(r),u=new jQ(t,o,a),c=new KQ(u);for(let h=0,f=i.length;h<f;h++){let p=i[h];c.insert(p.token,p.fontStyle,s.getId(p.foreground),s.getId(p.background))}return new qme(s,c)}const I8e=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class k8e{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match(I8e);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=Se.fromHex("#"+e),n)}getColorMap(){return this._id2color.slice(0)}}class qme{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(D8e(e),t)}static createFromParsedTokenTheme(e,t){return T8e(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let n=this._cache.get(t);if(typeof n>"u"){let r=this._match(t),s=A8e(t);n=(r.metadata|s<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}const N8e=/\b(comment|string|regex|regexp)\b/;function A8e(i){let e=i.match(N8e);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function O8e(i,e){return i<e?-1:i>e?1:0}class jQ{constructor(e,t,n){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new jQ(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,n){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),n!==0&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class KQ{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;let t=e.indexOf("."),n,r;t===-1?(n=e,r=""):(n=e.substring(0,t),r=e.substring(t+1));let s=this._children.get(n);return typeof s<"u"?s.match(r):this._mainRule}insert(e,t,n,r){if(e===""){this._mainRule.acceptOverwrite(t,n,r);return}let s=e.indexOf("."),o,a;s===-1?(o=e,a=""):(o=e.substring(0,s),a=e.substring(s+1));let u=this._children.get(o);typeof u>"u"&&(u=new KQ(this._mainRule.clone()),this._children.set(o,u)),u.insert(a,t,n,r)}}function M8e(i){let e=[];for(let t=1,n=i.length;t<n;t++){let r=i[t];e[t]=`.mtk${t} { color: ${r}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.join(`
`)}const R8e={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Ac]:"#FFFFFE",[qP]:"#000000",[qX]:"#E5EBF1",[VB]:"#D3D3D3",[HB]:"#939393",[GX]:"#ADD6FF4D"}},P8e={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ac]:"#1E1E1E",[qP]:"#D4D4D4",[qX]:"#3A3D41",[VB]:"#404040",[HB]:"#707070",[GX]:"#ADD6FF26"}},F8e={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ac]:"#000000",[qP]:"#FFFFFF",[VB]:"#FFFFFF",[HB]:"#FFFFFF"}};function B8e(){const i=new ye,e=$5e();return e.onDidChange(()=>i.fire()),{onDidChange:i.event,getCSS(){const t={},n=s=>{let o=s.defaults;for(;Sr.isThemeIcon(o);){const u=e.getIcon(o.id);if(!u)return;o=u.defaults}const a=o.fontId;if(a){const u=e.getIconFont(a);if(u)return t[a]=u,`.codicon-${s.id}:before { content: '${o.fontCharacter}'; font-family: ${Sie(a)}; }`}return`.codicon-${s.id}:before { content: '${o.fontCharacter}'; }`},r=[];for(let s of e.getIcons()){const o=n(s);o&&r.push(o)}for(let s in t){const a=t[s].definition.src.map(u=>`${UC(u.location)} format('${u.format}')`).join(", ");r.push(`@font-face { src: ${a}; font-family: ${Sie(s)}; font-display: block; }`)}return r.join(`
`)}}}const Qb="vs",y7="vs-dark",YS="hc-black",Gme=ds.as(Bge.ColorContribution),W8e=ds.as(cge.ThemingContribution);class Yme{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let n=t.base;e.length>0?(t8(e)?this.id=e:this.id=n+" "+e,this.themeName=e):(this.id=n,this.themeName=n),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,Se.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=aq(this.themeData.base);for(let n in t.colors)e.has(n)||e.set(n,Se.fromHex(t.colors[n]))}this.colors=e}return this.colors}getColor(e,t){const n=this.getColors().get(e);if(n)return n;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=Gme.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case Qb:return Dd.LIGHT;case YS:return Dd.HIGH_CONTRAST;default:return Dd.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let s=aq(this.themeData.base);e=s.rules,s.encodedTokensColors&&(t=s.encodedTokensColors)}const n=this.themeData.colors["editor.foreground"],r=this.themeData.colors["editor.background"];if(n||r){const s={token:""};n&&(s.foreground=n),r&&(s.background=r),e.push(s)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=qme.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,n){const s=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=wa.getForeground(s),a=wa.getFontStyle(s);return{foreground:o,italic:!!(a&1),bold:!!(a&2),underline:!!(a&4)}}}function t8(i){return i===Qb||i===y7||i===YS}function aq(i){switch(i){case Qb:return R8e;case y7:return P8e;case YS:return F8e}}function C$(i){let e=aq(i);return new Yme(i,e)}class V8e extends Me{constructor(){super(),this._onColorThemeChange=this._register(new ye),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Qb,C$(Qb)),this._knownThemes.set(y7,C$(y7)),this._knownThemes.set(YS,C$(YS));const e=B8e();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Qb),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),OIe("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(e){return lB(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=Pc(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Me.None}_registerShadowDomContainer(e){const t=Pc(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let n=0;n<this._styleElements.length;n++)if(this._styleElements[n]===t){this._styleElements.splice(n,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!t8(t.base)&&!t8(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Yme(e,t)),t8(e)&&this._knownThemes.forEach(n=>{n.base===e&&n.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(Qb),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(YS):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},n={addRule:o=>{t[o]||(e.push(o),t[o]=!0)}};W8e.getThemingParticipants().forEach(o=>o(this._theme,n,this._environment));const r=[];for(const o of Gme.getColors()){const a=this._theme.getColor(o.id,!0);a&&r.push(`${Fge(o.id)}: ${a.toString()};`)}n.addRule(`.monaco-editor { ${r.join(`
`)} }`);const s=this._colorMapOverride||this._theme.tokenTheme.getColorMap();n.addRule(M8e(s)),this._themeCSS=e.join(`
`),this._updateCSS(),Xr.setColorMap(s),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var H8e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$8e=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const OO="data-keybinding-context";let qQ=class{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}};class Nx extends qQ{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}Nx.INSTANCE=new Nx;class QM extends qQ{constructor(e,t,n){super(e,null),this._configurationService=t,this._values=zS.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(r=>{if(r.source===6){const s=Array.from(ri.map(this._values,([o])=>o));this._values.clear(),n.fire(new Nse(s))}else{const s=[];for(const o of r.affectedKeys){const a=`config.${o}`,u=this._values.findSuperstr(a);u!==void 0&&(s.push(...ri.map(u,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(s.push(a),this._values.delete(a))}n.fire(new Nse(s))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(QM._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(QM._keyPrefix.length),n=this._configurationService.getValue(t);let r;switch(typeof n){case"number":case"boolean":case"string":r=n;break;default:Array.isArray(n)?r=JSON.stringify(n):r=n}return this._values.set(e,r),r}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}QM._keyPrefix="config.";class z8e{constructor(e,t,n){this._service=e,this._key=t,this._defaultValue=n,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class kse{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class Nse{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class U8e{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class Zme{constructor(e){this._onDidChangeContext=new cF({merge:t=>new U8e(t)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new z8e(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new j8e(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return GS.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const n=this.getContextValuesContainer(this._myContextId);n&&n.setValue(e,t)&&this._onDidChangeContext.fire(new kse(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new kse(e))}getContext(e){return this._isDisposed?Nx.INSTANCE:this.getContextValuesContainer(K8e(e))}}let lq=class extends Zme{constructor(e){super(0),this._contexts=new Map,this._toDispose=new tt,this._lastContextId=0;const t=new QM(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?Nx.INSTANCE:this._contexts.get(e)||Nx.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new qQ(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};lq=H8e([$8e(0,cr)],lq);class j8e extends Zme{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new Ja,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(OO)){let n="";this._domNode.classList&&(n=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${n?": "+n:""}`)}this._domNode.setAttribute(OO,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(OO),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?Nx.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function K8e(i){for(;i;){if(i.hasAttribute(OO)){const e=i.getAttribute(OO);return e?parseInt(e,10):NaN}i=i.parentElement}return 0}ni.registerCommand(dke,function(i,e,t){i.get(gn).createKey(String(e),t)});ni.registerCommand({id:"getContextKeyInfo",handler(){return[...It.all()].sort((i,e)=>i.key.localeCompare(e.key))},description:{description:C("getContextKeyInfo","A command that returns information about context keys"),args:[]}});ni.registerCommand("_generateContextKeyInfo",function(){const i=[],e=new Set;for(let t of It.all())e.has(t.key)||(e.add(t.key),i.push(t));i.sort((t,n)=>t.key.localeCompare(n.key)),console.log(JSON.stringify(i,void 0,2))});function Ase(i){let e=i.definition;for(;e instanceof ve;)e=e.definition;return`.codicon-${i.id}:before { content: '${e.fontCharacter}'; }`}var sa;(function(i){function e(s,o){if(s.start>=o.end||o.start>=s.end)return{start:0,end:0};const a=Math.max(s.start,o.start),u=Math.min(s.end,o.end);return u-a<=0?{start:0,end:0}:{start:a,end:u}}i.intersect=e;function t(s){return s.end-s.start<=0}i.isEmpty=t;function n(s,o){return!t(e(s,o))}i.intersects=n;function r(s,o){const a=[],u={start:s.start,end:Math.min(o.start,s.end)},c={start:Math.max(o.end,s.start),end:s.end};return t(u)||a.push(u),t(c)||a.push(c),a}i.relativeComplement=r})(sa||(sa={}));var B0;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(B0||(B0={}));function fS(i,e,t){const n=t.mode===B0.ALIGN?t.offset:t.offset+t.size,r=t.mode===B0.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=i-n?n:e<=r?r-e:Math.max(i-e,0):e<=r?r-e:e<=i-n?n:0}class Ax extends Me{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Me.None,this.toDisposeOnSetContainer=Me.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Ye(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,gl(this.view),this.setContainer(e,t),this._register(Yn(()=>this.setContainer(null,1)))}setContainer(e,t){var n;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(n=this.shadowRootHostElement)===null||n===void 0||n.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=Ye(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const s=document.createElement("style");s.textContent=q8e,this.shadowRoot.appendChild(s),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Ye("slot"))}else this.container.appendChild(this.view);const r=new tt;Ax.BUBBLE_UP_EVENTS.forEach(s=>{r.add(vo(this.container,s,o=>{this.onDOMEvent(o,!1)}))}),Ax.BUBBLE_DOWN_EVENTS.forEach(s=>{r.add(vo(this.container,s,o=>{this.onDOMEvent(o,!0)},!0))}),this.toDisposeOnSetContainer=r}}show(e){this.isVisible()&&this.hide(),ro(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Xu(this.view),this.toDisposeOnClean=e.render(this.view)||Me.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(zg&&oB.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let e=this.delegate.getAnchor(),t;if(Gfe(e)){let f=ca(e);t={top:f.top,left:f.left,width:f.width,height:f.height}}else t={top:e.y,left:e.x,width:e.width||1,height:e.height||2};const n=rd(this.view),r=Ej(this.view),s=this.delegate.anchorPosition||0,o=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let u,c;if(a===0){const f={offset:t.top-window.pageYOffset,size:t.height,position:s===0?0:1},p={offset:t.left,size:t.width,position:o===0?0:1,mode:B0.ALIGN};u=fS(window.innerHeight,r,f)+window.pageYOffset,sa.intersects({start:u,end:u+r},{start:f.offset,end:f.offset+f.size})&&(p.mode=B0.AVOID),c=fS(window.innerWidth,n,p)}else{const f={offset:t.left,size:t.width,position:o===0?0:1},p={offset:t.top,size:t.height,position:s===0?0:1,mode:B0.ALIGN};c=fS(window.innerWidth,n,f),sa.intersects({start:c,end:c+n},{start:f.offset,end:f.offset+f.size})&&(p.mode=B0.AVOID),u=fS(window.innerHeight,r,p)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(s===0?"bottom":"top"),this.view.classList.add(o===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=ca(this.container);this.view.style.top=`${u-(this.useFixedPosition?ca(this.view).top:h.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?ca(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t!=null&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),gl(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!um(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Ax.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];Ax.BUBBLE_DOWN_EVENTS=["click"];let q8e=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;function GQ(...i){return function(e,t){for(let n=0,r=i.length;n<r;n++){const s=i[n](e,t);if(s)return s}return null}}const eW=G8e.bind(void 0,!0);function G8e(i,e,t){if(!t||t.length<e.length)return null;let n;return i?n=kX(t,e):n=t.indexOf(e)===0,n?e.length>0?[{start:0,end:e.length}]:[]:null}function Xme(i,e){const t=e.toLowerCase().indexOf(i.toLowerCase());return t===-1?null:[{start:t,end:t+i.length}]}function Y8e(i,e){return uq(i.toLowerCase(),e.toLowerCase(),0,0)}function uq(i,e,t,n){if(t===i.length)return[];if(n===e.length)return null;if(i[t]===e[n]){let r=null;return(r=uq(i,e,t+1,n+1))?XQ({start:n,end:n+1},r):null}return uq(i,e,t,n+1)}function YQ(i){return 97<=i&&i<=122}function tW(i){return 65<=i&&i<=90}function ZQ(i){return 48<=i&&i<=57}function Qme(i){return i===32||i===9||i===10||i===13}const Jme=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(i=>Jme.add(i.charCodeAt(0)));function w7(i){return Qme(i)||Jme.has(i)}function Z8e(i,e){return i===e||w7(i)&&w7(e)}function e_e(i){return YQ(i)||tW(i)||ZQ(i)}function XQ(i,e){return e.length===0?e=[i]:i.end===e[0].start?e[0].start=i.start:e.unshift(i),e}function t_e(i,e){for(let t=e;t<i.length;t++){const n=i.charCodeAt(t);if(tW(n)||ZQ(n)||t>0&&!e_e(i.charCodeAt(t-1)))return t}return i.length}function cq(i,e,t,n){if(t===i.length)return[];if(n===e.length)return null;if(i[t]!==e[n].toLowerCase())return null;{let r=null,s=n+1;for(r=cq(i,e,t+1,n+1);!r&&(s=t_e(e,s))<e.length;)r=cq(i,e,t+1,s),s++;return r===null?null:XQ({start:n,end:n+1},r)}}function X8e(i){let e=0,t=0,n=0,r=0,s=0;for(let h=0;h<i.length;h++)s=i.charCodeAt(h),tW(s)&&e++,YQ(s)&&t++,e_e(s)&&n++,ZQ(s)&&r++;const o=e/i.length,a=t/i.length,u=n/i.length,c=r/i.length;return{upperPercent:o,lowerPercent:a,alphaPercent:u,numericPercent:c}}function Q8e(i){const{upperPercent:e,lowerPercent:t}=i;return t===0&&e>.6}function J8e(i){const{upperPercent:e,lowerPercent:t,alphaPercent:n,numericPercent:r}=i;return t>.2&&e<.8&&n>.6&&r<.2}function eFe(i){let e=0,t=0,n=0,r=0;for(let s=0;s<i.length;s++)n=i.charCodeAt(s),tW(n)&&e++,YQ(n)&&t++,Qme(n)&&r++;return(e===0||t===0)&&r===0?i.length<=30:e<=5}function n_e(i,e){if(!e||(e=e.trim(),e.length===0)||!eFe(i)||e.length>60)return null;const t=X8e(e);if(!J8e(t)){if(!Q8e(t))return null;e=e.toLowerCase()}let n=null,r=0;for(i=i.toLowerCase();r<e.length&&(n=cq(i,e,0,r))===null;)r=t_e(e,r+1);return n}function tFe(i,e,t=!1){if(!e||e.length===0)return null;let n=null,r=0;for(i=i.toLowerCase(),e=e.toLowerCase();r<e.length&&(n=dq(i,e,0,r,t))===null;)r=i_e(e,r+1);return n}function dq(i,e,t,n,r){if(t===i.length)return[];if(n===e.length)return null;if(Z8e(i.charCodeAt(t),e.charCodeAt(n))){let s=null,o=n+1;if(s=dq(i,e,t+1,n+1,r),!r)for(;!s&&(o=i_e(e,o))<e.length;)s=dq(i,e,t+1,o,r),o++;return s===null?null:XQ({start:n,end:n+1},s)}else return null}function i_e(i,e){for(let t=e;t<i.length;t++)if(w7(i.charCodeAt(t))||t>0&&w7(i.charCodeAt(t-1)))return t;return i.length}const nFe=GQ(eW,n_e,Xme),iFe=GQ(eW,n_e,Y8e),Ose=new X1(1e4);function Mse(i,e,t=!1){if(typeof i!="string"||typeof e!="string")return null;let n=Ose.get(i);n||(n=new RegExp(qIe(i),"i"),Ose.set(i,n));const r=n.exec(e);return r?[{start:r.index,end:r.index+r[0].length}]:t?iFe(i,e):nFe(i,e)}function rFe(i,e,t,n,r,s){const o=Math.min(13,i.length);for(;t<o;t++){const a=Ox(i,e,t,n,r,s,!1);if(a)return a}return[0,s]}function nW(i){if(typeof i>"u")return[];const e=[],t=i[1];for(let n=i.length-1;n>1;n--){const r=i[n]+t,s=e[e.length-1];s&&s.end===r?s.end=r+1:e.push({start:r,end:r+1})}return e}const W0=128;function QQ(){const i=[],e=[];for(let t=0;t<=W0;t++)e[t]=0;for(let t=0;t<=W0;t++)i.push(e.slice(0));return i}function r_e(i){const e=[];for(let t=0;t<=i;t++)e[t]=0;return e}const s_e=r_e(2*W0),hq=r_e(2*W0),Dp=QQ(),gb=QQ(),R5=QQ();function P5(i,e){if(e<0||e>=i.length)return!1;const t=i.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!SF(t)}}function Rse(i,e){if(e<0||e>=i.length)return!1;switch(i.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function n8(i,e,t){return e[i]!==t[i]}function sFe(i,e,t,n,r,s,o=!1){for(;e<t&&r<s;)i[e]===n[r]&&(o&&(s_e[e]=r),e+=1),r+=1;return e===t}var Af;(function(i){i.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}i.isDefault=e})(Af||(Af={}));function Ox(i,e,t,n,r,s,o){const a=i.length>W0?W0:i.length,u=n.length>W0?W0:n.length;if(t>=a||s>=u||a-t>u-s||!sFe(e,t,a,r,s,u,!0))return;oFe(a,u,t,s,e,r);let c=1,h=1,f=t,p=s;const m=[!1];for(c=1,f=t;f<a;c++,f++){const w=s_e[f],E=hq[f],N=f+1<a?hq[f+1]:u;for(h=w-s+1,p=w;p<N;h++,p++){let A=Number.MIN_SAFE_INTEGER,H=!1;p<=E&&(A=aFe(i,e,f,t,n,r,p,u,s,Dp[c-1][h-1]===0,m));let R=0;A!==Number.MAX_SAFE_INTEGER&&(H=!0,R=A+gb[c-1][h-1]);const M=p>w,G=M?gb[c][h-1]+(Dp[c][h-1]>0?-5:0):0,X=p>w+1&&Dp[c][h-1]>0,$=X?gb[c][h-2]+(Dp[c][h-2]>0?-5:0):0;if(X&&(!M||$>=G)&&(!H||$>=R))gb[c][h]=$,R5[c][h]=3,Dp[c][h]=0;else if(M&&(!H||G>=R))gb[c][h]=G,R5[c][h]=2,Dp[c][h]=0;else if(H)gb[c][h]=R,R5[c][h]=1,Dp[c][h]=Dp[c-1][h-1]+1;else throw new Error("not possible")}}if(!m[0]&&!o)return;c--,h--;const v=[gb[c][h],s];let b=0,S=0;for(;c>=1;){let w=h;do{const E=R5[c][w];if(E===3)w=w-2;else if(E===2)w=w-1;else break}while(w>=1);b>1&&e[t+c-1]===r[s+h-1]&&!n8(w+s-1,n,r)&&b+1>Dp[c][w]&&(w=h),w===h?b++:b=1,S||(S=w),c--,h=w-1,v.push(h)}u===a&&(v[0]+=2);const x=S-a;return v[0]-=x,v}function oFe(i,e,t,n,r,s){let o=i-1,a=e-1;for(;o>=t&&a>=n;)r[o]===s[a]&&(hq[o]=a,o--),a--}function aFe(i,e,t,n,r,s,o,a,u,c,h){if(e[t]!==s[o])return Number.MIN_SAFE_INTEGER;let f=1,p=!1;return o===t-n?f=i[t]===r[o]?7:5:n8(o,r,s)&&(o===0||!n8(o-1,r,s))?(f=i[t]===r[o]?7:5,p=!0):P5(s,o)&&(o===0||!P5(s,o-1))?f=5:(P5(s,o-1)||Rse(s,o-1))&&(f=5,p=!0),f>1&&t===n&&(h[0]=!0),p||(p=n8(o,r,s)||P5(s,o-1)||Rse(s,o-1)),t===n?o>u&&(f-=p?3:5):c?f+=p?2:0:f+=p?0:1,o+1===a&&(f-=p?3:5),f}function lFe(i,e,t,n,r,s,o){return uFe(i,e,t,n,r,s,!0,o)}function uFe(i,e,t,n,r,s,o,a){let u=Ox(i,e,t,n,r,s,a);if(u&&!o)return u;if(i.length>=3){const c=Math.min(7,i.length-1);for(let h=t+1;h<c;h++){const f=cFe(i,h);if(f){const p=Ox(f,f.toLowerCase(),t,n,r,s,a);p&&(p[0]-=3,(!u||p[0]>u[0])&&(u=p))}}}return u}function cFe(i,e){if(e+1>=i.length)return;const t=i[e],n=i[e+1];if(t!==n)return i.slice(0,e)+n+t+i.slice(e+2)}const MO="$(",JQ=new RegExp(`\\$\\(${ml.iconNameExpression}(?:${ml.iconModifierExpression})?\\)`,"g"),dFe=new RegExp(ml.iconNameCharacter),hFe=new RegExp(`(\\\\)?${JQ.source}`,"g");function fFe(i){return i.replace(hFe,(e,t)=>t?e:`\\${e}`)}const gFe=new RegExp(`\\\\${JQ.source}`,"g");function pFe(i){return i.replace(gFe,e=>`\\${e}`)}const mFe=new RegExp(`(\\s)?(\\\\)?${JQ.source}(\\s)?`,"g");function eJ(i){return i.indexOf(MO)===-1?i:i.replace(mFe,(e,t,n,r)=>n?e:t||r||"")}function F5(i){const e=i.indexOf(MO);return e===-1?{text:i}:_Fe(i,e)}function _Fe(i,e){const t=[];let n="";function r(p){if(p){n+=p;for(const m of p)t.push(a)}}let s=-1,o="",a=0,u,c,h=e;const f=i.length;for(r(i.substr(0,e));h<f;){if(u=i[h],c=i[h+1],u===MO[0]&&c===MO[1])s=h,r(o),o=MO,h++;else if(u===")"&&s!==-1){const p=h-s+1;a+=p,s=-1,o=""}else s!==-1?dFe.test(u)?o+=u:(r(o),s=-1,o=""):r(u);h++}return r(o),{text:n,iconOffsets:t}}function B5(i,e,t=!1){const{text:n,iconOffsets:r}=e;if(!r||r.length===0)return Mse(i,n,t);const s=TX(n," "),o=n.length-s.length,a=Mse(i,s,t);if(a)for(const u of a){const c=r[u.start+o]+o;u.start+=c,u.end+=c}return a}const fq=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,y$=/(&amp;)?(&amp;)([^\s&])/g;var S7;(function(i){i[i.Right=0]="Right",i[i.Left=1]="Left"})(S7||(S7={}));let o_e=class i8 extends Zg{constructor(e,t,n={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const r=document.createElement("div");r.classList.add("monaco-menu"),r.setAttribute("role","presentation"),super(r,{orientation:1,actionViewItemProvider:a=>this.doGetActionViewItem(a,n,s),context:n.context,actionRunner:n.actionRunner,ariaLabel:n.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Xn||yl?[10]:[]],keyDown:!0}}),this.menuElement=r,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new tt),this._register(qi.addTarget(r)),Ze(r,Ut.KEY_DOWN,a=>{new Ar(a).equals(2)&&a.preventDefault()}),n.enableMnemonics&&this.menuDisposables.add(Ze(r,Ut.KEY_DOWN,a=>{const u=a.key.toLocaleLowerCase();if(this.mnemonics.has(u)){Fi.stop(a,!0);const c=this.mnemonics.get(u);if(c.length===1&&(c[0]instanceof Pse&&c[0].container&&this.focusItemByElement(c[0].container),c[0].onClick(a)),c.length>1){const h=c.shift();h&&h.container&&(this.focusItemByElement(h.container),c.push(h)),this.mnemonics.set(u,c)}}})),yl&&this._register(Ze(r,Ut.KEY_DOWN,a=>{const u=new Ar(a);u.equals(14)||u.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Fi.stop(a,!0)):(u.equals(13)||u.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Fi.stop(a,!0))})),this._register(Ze(this.domNode,Ut.MOUSE_OUT,a=>{let u=a.relatedTarget;um(u,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),a.stopPropagation())})),this._register(Ze(this.actionsList,Ut.MOUSE_OVER,a=>{let u=a.target;if(!(!u||!um(u,this.actionsList)||u===this.actionsList)){for(;u.parentElement!==this.actionsList&&u.parentElement!==null;)u=u.parentElement;if(u.classList.contains("action-item")){const c=this.focusedItem;this.setFocusedItem(u),c!==this.focusedItem&&this.updateFocus()}}})),this._register(qi.addTarget(this.actionsList)),this._register(Ze(this.actionsList,mr.Tap,a=>{let u=a.initialTarget;if(!(!u||!um(u,this.actionsList)||u===this.actionsList)){for(;u.parentElement!==this.actionsList&&u.parentElement!==null;)u=u.parentElement;if(u.classList.contains("action-item")){const c=this.focusedItem;this.setFocusedItem(u),c!==this.focusedItem&&this.updateFocus()}}}));let s={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new JP(r,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const o=this.scrollableElement.getDomNode();o.style.position="",this._register(Ze(r,mr.Change,a=>{Fi.stop(a,!0);const u=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:u-a.translationY})})),this._register(Ze(o,Ut.MOUSE_UP,a=>{a.preventDefault()})),r.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(a=>{var u;return!((u=n.submenuIds)===null||u===void 0)&&u.has(a.id)?(console.warn(`Found submenu cycle: ${a.id}`),!1):!0}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(a=>!(a instanceof w$)).forEach((a,u,c)=>{a.updatePositionInSet(u+1,c.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(lB(e)?this.styleSheet=Pc(e):(i8.globalStyleSheet||(i8.globalStyleSheet=Pc()),this.styleSheet=i8.globalStyleSheet)),this.styleSheet.textContent=bFe(t)}style(e){const t=this.getContainer();this.initializeOrUpdateStyleSheet(t,e);const n=e.foregroundColor?`${e.foregroundColor}`:"",r=e.backgroundColor?`${e.backgroundColor}`:"",s=e.borderColor?`1px solid ${e.borderColor}`:"",o=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=s,this.domNode.style.color=n,this.domNode.style.backgroundColor=r,t.style.boxShadow=o,this.viewItems&&this.viewItems.forEach(a=>{(a instanceof gq||a instanceof w$)&&a.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){let n=this.actionsList.children[t];if(e===n){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,n){if(e instanceof Ld)return new w$(t.context,e,{icon:!0});if(e instanceof uB){const r=new Pse(e,e.actions,n,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const s=r.getMnemonic();if(s&&r.isEnabled()){let o=[];this.mnemonics.has(s)&&(o=this.mnemonics.get(s)),o.push(r),this.mnemonics.set(s,o)}}return r}else{const r={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const o=t.getKeyBinding(e);if(o){const a=o.getLabel();a&&(r.keybinding=a)}}const s=new gq(t.context,e,r);if(t.enableMnemonics){const o=s.getMnemonic();if(o&&s.isEnabled()){let a=[];this.mnemonics.has(o)&&(a=this.mnemonics.get(o)),a.push(s),this.mnemonics.set(o,a)}}return s}}};class gq extends pg{constructor(e,t,n={}){if(n.isMenu=!0,super(t,t,n),this.options=n,this.options.icon=n.icon!==void 0?n.icon:!1,this.options.label=n.label!==void 0?n.label:!0,this.cssClass="",this.options.label&&n.enableMnemonics){let r=this.getAction().label;if(r){let s=fq.exec(r);s&&(this.mnemonic=(s[1]?s[1]:s[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new lr(()=>{this.element&&(this._register(Ze(this.element,Ut.MOUSE_UP,r=>{if(Fi.stop(r,!0),Kl){if(new Lc(r).rightButton)return;this.onClick(r)}else setTimeout(()=>{this.onClick(r)},0)})),this._register(Ze(this.element,Ut.CONTEXT_MENU,r=>{Fi.stop(r,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=We(this.element,Ye("a.action-menu-item")),this._action.id===Ld.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=We(this.item,Ye("span.menu-item-check"+ve.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=We(this.item,Ye("span.action-label")),this.options.label&&this.options.keybinding&&(We(this.item,Ye("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(this.label&&this.options.label){ro(this.label);let e=eJ(this.getAction().label);if(e){const t=vFe(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const n=fq.exec(e);if(n){e=DX(e),y$.lastIndex=0;let r=y$.exec(e);for(;r&&r[1];)r=y$.exec(e);const s=o=>o.replace(/&amp;&amp;/g,"&amp;");r?this.label.append(TX(s(e.substr(0,r.index))," "),Ye("u",{"aria-hidden":"true"},r[3]),nge(s(e.substr(r.index+r[0].length))," ")):this.label.innerText=s(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=C({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.getAction().checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,n=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,r=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=n?n.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=r)}style(e){this.menuStyle=e,this.applyStyle()}}class Pse extends gq{constructor(e,t,n,r){super(e,e,r),this.submenuActions=t,this.parentData=n,this.submenuOptions=r,this.mysubmenu=null,this.submenuDisposables=this._register(new tt),this.mouseOver=!1,this.expandDirection=r&&r.expandDirection!==void 0?r.expandDirection:S7.Right,this.showScheduler=new lr(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new lr(()=>{this.element&&!um(AS(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=We(this.item,Ye("span.submenu-indicator"+ve.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Ze(this.element,Ut.KEY_UP,t=>{let n=new Ar(t);(n.equals(17)||n.equals(3))&&(Fi.stop(t,!0),this.createSubmenu(!0))})),this._register(Ze(this.element,Ut.KEY_DOWN,t=>{let n=new Ar(t);AS()===this.item&&(n.equals(17)||n.equals(3))&&Fi.stop(t,!0)})),this._register(Ze(this.element,Ut.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(Ze(this.element,Ut.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(Ze(this.element,Ut.FOCUS_OUT,t=>{this.element&&!um(AS(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(e){Fi.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,n,r){const s={top:0,left:0};return s.left=fS(e.width,t.width,{position:r===S7.Right?0:1,offset:n.left,size:n.width}),s.left>=n.left&&s.left<n.left+n.width&&(n.left+10+t.width<=e.width&&(s.left=n.left+10),n.top+=10,n.height=0),s.top=fS(e.height,t.height,{position:0,offset:n.top,size:0}),s.top+t.height===n.top&&s.top+n.height+t.height<=e.height&&(s.top+=n.height),s}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=We(this.element,Ye("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),n=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new o_e(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new cB],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const r=this.element.getBoundingClientRect(),s={top:r.top-n,left:r.left,height:r.height+2*n,width:r.width},o=this.submenuContainer.getBoundingClientRect(),{top:a,left:u}=this.calculateSubmenuMenuLayout(new vr(window.innerWidth,window.innerHeight),vr.lift(o),s,this.expandDirection);this.submenuContainer.style.left=`${u-o.left}px`,this.submenuContainer.style.top=`${a-o.top}px`,this.submenuDisposables.add(Ze(this.submenuContainer,Ut.KEY_UP,c=>{new Ar(c).equals(15)&&(Fi.stop(c,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(Ze(this.submenuContainer,Ut.KEY_DOWN,c=>{new Ar(c).equals(15)&&Fi.stop(c,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t?`${t}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class w$ extends zM{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}function vFe(i){const e=fq,t=e.exec(i);if(!t)return i;const n=!t[1];return i.replace(e,n?"$2$3":"").trim()}function bFe(i){let e=`
.monaco-menu {
	font-size: 13px;

}

${Ase(ve.menuSelection)}
${Ase(ve.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
`;const t=i.scrollbarShadow;t&&(e+=`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);const n=i.scrollbarSliderBackground;n&&(e+=`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${n};
			}
		`);const r=i.scrollbarSliderHoverBackground;r&&(e+=`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${r};
			}
		`);const s=i.scrollbarSliderActiveBackground;return s&&(e+=`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${s};
			}
		`),e}function of(i,e){const t=Object.create(null);for(let n in e){const r=e[n];r&&(t[n]=Op(r,i))}return t}function tJ(i,e,t){function n(){const r=of(i.getColorTheme(),e);typeof t=="function"?t(r):t.style(r)}return n(),i.onDidColorThemeChange(n)}function CFe(i,e,t){return tJ(e,{badgeBackground:(t==null?void 0:t.badgeBackground)||vO,badgeForeground:(t==null?void 0:t.badgeForeground)||bO,badgeBorder:Ds},i)}function sy(i,e,t){return tJ(e,Object.assign(Object.assign({},iW),t||{}),i)}const iW={listFocusBackground:DAe,listFocusForeground:TAe,listFocusOutline:IAe,listActiveSelectionBackground:uC,listActiveSelectionForeground:s1,listActiveSelectionIconForeground:z6,listFocusAndSelectionBackground:uC,listFocusAndSelectionForeground:s1,listInactiveSelectionBackground:kAe,listInactiveSelectionIconForeground:AAe,listInactiveSelectionForeground:NAe,listInactiveFocusBackground:OAe,listInactiveFocusOutline:MAe,listHoverBackground:RAe,listHoverForeground:PAe,listDropBackground:FAe,listSelectionOutline:Sl,listHoverOutline:Sl,listFilterWidgetBackground:BAe,listFilterWidgetOutline:WAe,listFilterWidgetNoMatchesOutline:VAe,listMatchesShadow:L1,treeIndentGuidesStroke:HAe,tableColumnsBorder:$Ae,tableOddRowsBackgroundColor:zAe},yFe={shadowColor:L1,borderColor:KAe,foregroundColor:qAe,backgroundColor:GAe,selectionForegroundColor:YAe,selectionBackgroundColor:ZAe,selectionBorderColor:XAe,separatorColor:QAe,scrollbarShadow:kE,scrollbarSliderBackground:BS,scrollbarSliderHoverBackground:WS,scrollbarSliderActiveBackground:VS};function wFe(i,e,t){return tJ(e,Object.assign(Object.assign({},yFe),t),i)}class SFe{constructor(e,t,n,r,s){this.contextViewService=e,this.telemetryService=t,this.notificationService=n,this.keybindingService=r,this.themeService=s,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let n,r=Gfe(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:s=>{let o=e.getMenuClassName?e.getMenuClassName():"";o&&(s.className+=" "+o),this.options.blockMouse&&(this.block=s.appendChild(Ye(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",Ze(this.block,Ut.MOUSE_DOWN,c=>c.stopPropagation()));const a=new tt,u=e.actionRunner||new bx;return u.onBeforeRun(this.onActionRun,this,a),u.onDidRun(this.onDidActionRun,this,a),n=new o_e(s,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:u,getKeyBinding:e.getKeyBinding?e.getKeyBinding:c=>this.keybindingService.lookupKeybinding(c.id)}),a.add(wFe(n,this.themeService)),n.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),n.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add(Ze(window,Ut.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(Ze(window,Ut.MOUSE_DOWN,c=>{if(c.defaultPrevented)return;let h=new Lc(c),f=h.target;if(!h.rightButton){for(;f;){if(f===s)return;f=f.parentElement}this.contextViewService.hideContextView(!0)}})),e1(a,n)},focus:()=>{n&&n.focus(!!e.autoSelectFirstItem)},onHide:s=>{e.onHide&&e.onHide(!!s),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},r,!!r)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!lp(e.error)&&this.notificationService.error(e.error)}}var xFe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},xA=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let pq=class extends Me{constructor(e,t,n,r,s){super(),this._onDidShowContextMenu=new ye,this._onDidHideContextMenu=new ye,this.contextMenuHandler=new SFe(n,e,t,r,s)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{e.onHide&&e.onHide(t),this._onDidHideContextMenu.fire()}})),Kb.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};pq=xFe([xA(0,up),xA(1,Ts),xA(2,Rm),xA(3,Or),xA(4,Rr)],pq);const r3=Ci("layoutService");var EFe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},LFe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let mq=class extends Me{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=Me.None,this.container=e.container,this.contextView=this._register(new Ax(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,n){t?t!==this.container&&(this.container=t,this.setContainer(t,n?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const r=Yn(()=>{this.currentViewDisposable===r&&this.hideContextView()});return this.currentViewDisposable=r,r}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};mq=EFe([LFe(0,r3)],mq);const s3=Ci("dialogService");let DFe=class{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}};class TFe{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const n=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);n.outgoing.set(this._hashFn(t),r),r.incoming.set(this._hashFn(e),n)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let n of this._nodes.values())n.outgoing.delete(t),n.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let n=this._nodes.get(t);return n||(n=new DFe(e),this._nodes.set(t,n)),n}isEmpty(){return this._nodes.size===0}toString(){let e=[];for(let[t,n]of this._nodes)e.push(`${t}, (incoming)[${[...n.incoming.keys()].join(", ")}], (outgoing)[${[...n.outgoing.keys()].join(",")}]`);return e.join(`
`)}findCycleSlow(){for(let[e,t]of this._nodes){const n=new Set([e]),r=this._findCycle(t,n);if(r)return r}}_findCycle(e,t){for(let[n,r]of e.outgoing){if(t.has(n))return[...t,n].join(" -> ");t.add(n);const s=this._findCycle(r,t);if(s)return s;t.delete(n)}}}class Fse extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class x7{constructor(e=new WM,t=!1,n){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=n,this._services.set(Rn,this)}createChild(e){return new x7(e,this._strict,this)}invokeFunction(e,...t){let n=gd.traceInvocation(e),r=!1;try{return e({get:o=>{if(r)throw E2e("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(o,n);if(!a)throw new Error(`[invokeFunction] unknown service '${o}'`);return a}},...t)}finally{r=!0,n.stop()}}createInstance(e,...t){let n,r;return e instanceof S0?(n=gd.traceCreation(e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(t),n)):(n=gd.traceCreation(e),r=this._createInstance(e,t,n)),n.stop(),r}_createInstance(e,t=[],n){let r=mf.getServiceDependencies(e).sort((a,u)=>a.index-u.index),s=[];for(const a of r){let u=this._getOrCreateServiceInstance(a.id,n);if(!u&&this._strict&&!a.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`);s.push(u)}let o=r.length>0?r[0].index:t.length;if(t.length!==o){console.warn(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);let a=o-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,o)}return new e(...t,...s)}_setServiceInstance(e,t){if(this._services.get(e)instanceof S0)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let n=this._getServiceInstanceOrDescriptor(e);return n instanceof S0?this._safeCreateAndCacheServiceInstance(e,n,t.branch(e,!0)):(t.branch(e,!1),n)}_safeCreateAndCacheServiceInstance(e,t,n){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,n)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,n){const r=new TFe(a=>a.id.toString());let s=0;const o=[{id:e,desc:t,_trace:n}];for(;o.length;){const a=o.pop();if(r.lookupOrInsertNode(a),s++>1e3)throw new Fse(r);for(let u of mf.getServiceDependencies(a.desc.ctor)){let c=this._getServiceInstanceOrDescriptor(u.id);if(!c&&!u.optional&&console.warn(`[createInstance] ${e} depends on ${u.id} which is NOT registered.`),c instanceof S0){const h={id:u.id,desc:c,_trace:a._trace.branch(u.id,!0)};r.insertEdge(a,h),o.push(h)}}}for(;;){const a=r.roots();if(a.length===0){if(!r.isEmpty())throw new Fse(r);break}for(const{data:u}of a){if(this._getServiceInstanceOrDescriptor(u.id)instanceof S0){const h=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setServiceInstance(u.id,h)}r.removeNode(u)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,n=[],r,s){if(this._services.get(e)instanceof S0)return this._createServiceInstance(t,n,r,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,n,r,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],n,r){if(n){const s=new kS(()=>this._createInstance(e,t,r));return new Proxy(Object.create(null),{get(o,a){if(a in o)return o[a];let u=s.value,c=u[a];return typeof c!="function"||(c=c.bind(u),o[a]=c),c},set(o,a,u){return s.value[a]=u,!0}})}else return this._createInstance(e,t,r)}}class gd{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return gd._None}static traceCreation(e){return gd._None}branch(e,t){let n=new gd(2,e.toString());return this._dep.push([e,t,n]),n}stop(){let e=Date.now()-this._start;gd._totals+=e;let t=!1;function n(s,o){let a=[],u=new Array(s+1).join("	");for(const[c,h,f]of o._dep)if(h&&f){t=!0,a.push(`${u}CREATES -> ${c}`);let p=n(s+1,f);p&&a.push(p)}else a.push(`${u}uses -> ${c}`);return a.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${gd._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(r.join(`
`))}}gd._None=new class extends gd{constructor(){super(-1,null)}stop(){}branch(){return this}};gd._totals=0;const o3=Ci("labelService");class IFe{constructor(e){this.spliceables=e}splice(e,t,n){this.spliceables.forEach(r=>r.splice(e,t,n))}}class pb extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function Bse(i,e){const t=[];for(let n of e){if(i.start>=n.range.end)continue;if(i.end<n.range.start)break;const r=sa.intersect(i,n.range);sa.isEmpty(r)||t.push({range:r,size:n.size})}return t}function _q({start:i,end:e},t){return{start:i+t,end:e+t}}function kFe(i){const e=[];let t=null;for(let n of i){const r=n.range.start,s=n.range.end,o=n.size;if(t&&o===t.size){t.range.end=s;continue}t={range:{start:r,end:s},size:o},e.push(t)}return e}function NFe(...i){return kFe(i.reduce((e,t)=>e.concat(t),[]))}class Wse{constructor(){this.groups=[],this._size=0}splice(e,t,n=[]){const r=n.length-t,s=Bse({start:0,end:e},this.groups),o=Bse({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(u=>({range:_q(u.range,r),size:u.size})),a=n.map((u,c)=>({range:{start:e+c,end:e+c+1},size:u.size}));this.groups=NFe(s,a,o),this._size=this.groups.reduce((u,c)=>u+c.size*(c.range.end-c.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,n=0;for(let r of this.groups){const s=r.range.end-r.range.start,o=n+s*r.size;if(e<o)return t+Math.floor((e-n)/r.size);t+=s,n=o}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,n=0;for(let r of this.groups){const s=r.range.end-r.range.start,o=n+s;if(e<o)return t+(e-n)*r.size;t+=s*r.size,n=o}return-1}}function AFe(i){try{i.parentElement&&i.parentElement.removeChild(i)}catch{}}class OFe{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const n=Ye(".monaco-list-row"),s=this.getRenderer(e).renderTemplate(n);t={domNode:n,templateId:e,templateData:s}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:n}=e;t&&(t.classList.remove("scrolling"),AFe(t)),this.getTemplateCache(n).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const n of e)this.getRenderer(t).disposeTemplate(n.templateData),n.templateData=null}),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var Xy=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};const Zf={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(i){return[i]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class a3{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class MFe{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class RFe{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const n=e.files.item(t);n&&(n.size||n.type)&&this.files.push(n)}}}getData(){return{types:this.types,files:this.files}}}function PFe(i,e){return Array.isArray(i)&&Array.isArray(e)?Nc(i,e):i===e}class FFe{constructor(e){e!=null&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,n,r)=>r,e!=null&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,n)=>n+1,e!=null&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e!=null&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}class Uf{constructor(e,t,n,r=Zf){if(this.virtualDelegate=t,this.domId=`list_id_${++Uf.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Em(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Me.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Me.None,this.onDragLeaveTimeout=Me.None,this.disposables=new tt,this._onDidChangeContentHeight=new ye,this._horizontalScrolling=!1,r.horizontalScrolling&&r.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new Wse;for(const o of n)this.renderers.set(o.templateId,o);this.cache=this.disposables.add(new OFe(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof r.mouseSupport=="boolean"?r.mouseSupport:!0),this._horizontalScrolling=Yf(r,o=>o.horizontalScrolling,Zf.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof r.additionalScrollHeight>"u"?0:r.additionalScrollHeight,this.accessibilityProvider=new FFe(r.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",Yf(r,o=>o.transformOptimization,Zf.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(qi.addTarget(this.rowsContainer)),this.scrollable=new jB(Yf(r,o=>o.smoothScrolling,!1)?125:0,o=>jg(o)),this.scrollableElement=this.disposables.add(new SQ(this.rowsContainer,{alwaysConsumeMouseWheel:Yf(r,o=>o.alwaysConsumeMouseWheel,Zf.alwaysConsumeMouseWheel),horizontal:1,vertical:Yf(r,o=>o.verticalScrollMode,Zf.verticalScrollMode),useShadows:Yf(r,o=>o.useShadows,Zf.useShadows),mouseWheelScrollSensitivity:r.mouseWheelScrollSensitivity,fastScrollSensitivity:r.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(Ze(this.rowsContainer,mr.Change,o=>this.onTouchChange(o))),this.disposables.add(Ze(this.scrollableElement.getDomNode(),"scroll",o=>o.target.scrollTop=0)),this.disposables.add(Ze(this.domNode,"dragover",o=>this.onDragOver(this.toDragEvent(o)))),this.disposables.add(Ze(this.domNode,"drop",o=>this.onDrop(this.toDragEvent(o)))),this.disposables.add(Ze(this.domNode,"dragleave",o=>this.onDragLeave(this.toDragEvent(o)))),this.disposables.add(Ze(this.domNode,"dragend",o=>this.onDragEnd(o))),this.setRowLineHeight=Yf(r,o=>o.setRowLineHeight,Zf.setRowLineHeight),this.setRowHeight=Yf(r,o=>o.setRowHeight,Zf.setRowHeight),this.supportDynamicHeights=Yf(r,o=>o.supportDynamicHeights,Zf.supportDynamicHeights),this.dnd=Yf(r,o=>o.dnd,Zf.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:CH(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling),e.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,n=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,n)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,n=[]){const r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:e,end:e+t},o=sa.intersect(r,s),a=new Map;for(let H=o.start;H<o.end;H++){const R=this.items[H];if(R.dragStartDisposable.dispose(),R.row){let M=a.get(R.templateId);M||(M=[],a.set(R.templateId,M));const G=this.renderers.get(R.templateId);G&&G.disposeElement&&G.disposeElement(R.element,H,R.row.templateData,R.size),M.push(R.row)}R.row=null}const u={start:e+t,end:this.items.length},c=sa.intersect(u,r),h=sa.relativeComplement(u,r),f=n.map(H=>({id:String(this.itemId++),element:H,templateId:this.virtualDelegate.getTemplateId(H),size:this.virtualDelegate.getHeight(H),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(H),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Me.None}));let p;e===0&&t>=this.items.length?(this.rangeMap=new Wse,this.rangeMap.splice(0,0,f),p=this.items,this.items=f):(this.rangeMap.splice(e,t,f),p=this.items.splice(e,t,...f));const m=n.length-t,v=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),b=_q(c,m),S=sa.intersect(v,b);for(let H=S.start;H<S.end;H++)this.updateItemInDOM(this.items[H],H);const x=sa.relativeComplement(b,v);for(const H of x)for(let R=H.start;R<H.end;R++)this.removeItemFromDOM(R);const w=h.map(H=>_q(H,m)),N=[{start:e,end:e+n.length},...w].map(H=>sa.intersect(v,H)),A=this.getNextToLastElement(N);for(const H of N)for(let R=H.start;R<H.end;R++){const M=this.items[R],G=a.get(M.templateId),X=G==null?void 0:G.pop();this.insertItemInDOM(R,A,X)}for(const H of a.values())for(const R of H)this.cache.release(R);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),p.map(H=>H.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=jg(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let n={height:typeof e=="number"?e:EIe(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,n.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(n),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:CH(this.domNode)})}render(e,t,n,r,s,o=!1){const a=this.getRenderRange(t,n),u=sa.relativeComplement(a,e),c=sa.relativeComplement(e,a),h=this.getNextToLastElement(u);if(o){const f=sa.intersect(e,a);for(let p=f.start;p<f.end;p++)this.updateItemInDOM(this.items[p],p)}for(const f of u)for(let p=f.start;p<f.end;p++)this.insertItemInDOM(p,h);for(const f of c)for(let p=f.start;p<f.end;p++)this.removeItemFromDOM(p);r!==void 0&&(this.rowsContainer.style.left=`-${r}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&s!==void 0&&(this.rowsContainer.style.width=`${Math.max(s,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=n}insertItemInDOM(e,t,n){const r=this.items[e];r.row||(r.row=n??this.cache.alloc(r.templateId));const s=this.accessibilityProvider.getRole(r.element)||"listitem";r.row.domNode.setAttribute("role",s);const o=this.accessibilityProvider.isChecked(r.element);typeof o<"u"&&r.row.domNode.setAttribute("aria-checked",String(!!o)),r.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(r.row.domNode,t):this.rowsContainer.appendChild(r.row.domNode)),this.updateItemInDOM(r,e);const a=this.renderers.get(r.templateId);if(!a)throw new Error(`No renderer found for template id ${r.templateId}`);a&&a.renderElement(r.element,e,r.row.templateData,r.size);const u=this.dnd.getDragURI(r.element);r.dragStartDisposable.dispose(),r.row.domNode.draggable=!!u,u&&(r.dragStartDisposable=Ze(r.row.domNode,"dragstart",c=>this.onDragStart(r.element,u,c))),this.horizontalScrolling&&(this.measureItemWidth(r),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=Kl?"-moz-fit-content":"fit-content",e.width=CH(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const n=this.renderers.get(t.templateId);n&&n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return Bt.map(this.disposables.add(new Qi(this.domNode,"click")).event,e=>this.toMouseEvent(e))}get onMouseDblClick(){return Bt.map(this.disposables.add(new Qi(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return Bt.filter(Bt.map(this.disposables.add(new Qi(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e)),e=>e.browserEvent.button===1)}get onMouseDown(){return Bt.map(this.disposables.add(new Qi(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e))}get onContextMenu(){return Bt.any(Bt.map(this.disposables.add(new Qi(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e)),Bt.map(this.disposables.add(new Qi(this.domNode,mr.Contextmenu)).event,e=>this.toGestureEvent(e)))}get onTouchStart(){return Bt.map(this.disposables.add(new Qi(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e))}get onTap(){return Bt.map(this.disposables.add(new Qi(this.rowsContainer,mr.Tap)).event,e=>this.toGestureEvent(e))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=typeof t>"u"?void 0:this.items[t],r=n&&n.element;return{browserEvent:e,index:t,element:r}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=typeof t>"u"?void 0:this.items[t],r=n&&n.element;return{browserEvent:e,index:t,element:r}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),n=typeof t>"u"?void 0:this.items[t],r=n&&n.element;return{browserEvent:e,index:t,element:r}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=typeof t>"u"?void 0:this.items[t],r=n&&n.element;return{browserEvent:e,index:t,element:r}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,n){if(!n.dataTransfer)return;const r=this.dnd.getDragElements(e);if(n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData(mme.TEXT,t),n.dataTransfer.setDragImage){let s;this.dnd.getDragLabel&&(s=this.dnd.getDragLabel(r,n)),typeof s>"u"&&(s=String(r.length));const o=Ye(".monaco-drag-image");o.textContent=s,document.body.appendChild(o),n.dataTransfer.setDragImage(o,-10,-10),setTimeout(()=>document.body.removeChild(o),0)}this.currentDragData=new a3(r),Rp.CurrentDragAndDropData=new MFe(r),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,n)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Rp.CurrentDragAndDropData&&Rp.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Rp.CurrentDragAndDropData)this.currentDragData=Rp.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new RFe}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect===0?"copy":"move";let n;if(typeof t!="boolean"&&t.feedback?n=t.feedback:typeof e.index>"u"?n=[-1]:n=[e.index],n=qC(n).filter(r=>r>=-1&&r<this.length).sort((r,s)=>r-s),n=n[0]===-1?[-1]:n,PFe(this.currentDragFeedback,n))return!0;if(this.currentDragFeedback=n,this.currentDragFeedbackDisposable.dispose(),n[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=Yn(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const r of n){const s=this.items[r];s.dropTarget=!0,s.row&&s.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=Yn(()=>{for(const r of n){const s=this.items[r];s.dropTarget=!1,s.row&&s.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,n;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=zC(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((n=(t=this.dnd).onDragLeave)===null||n===void 0||n.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Rp.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Rp.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Me.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=Ufe(this.domNode).top;this.dragOverAnimationDisposable=AIe(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=zC(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,n=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>n&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-n))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let n=e;for(;n instanceof HTMLElement&&n!==this.rowsContainer&&t.contains(n);){const r=n.getAttribute("data-index");if(r){const s=Number(r);if(!isNaN(s))return s}n=n.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,n){const r=this.getRenderRange(e,t);let s,o;e===this.elementTop(r.start)?(s=r.start,o=0):r.end-r.start>1&&(s=r.start+1,o=this.elementTop(s)-e);let a=0;for(;;){const u=this.getRenderRange(e,t);let c=!1;for(let h=u.start;h<u.end;h++){const f=this.probeDynamicHeight(h);f!==0&&this.rangeMap.splice(h,1,[this.items[h]]),a+=f,c=c||f!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();const h=sa.relativeComplement(r,u);for(const p of h)for(let m=p.start;m<p.end;m++)this.items[m].row&&this.removeItemFromDOM(m);const f=sa.relativeComplement(u,r);for(const p of f)for(let m=p.start;m<p.end;m++){const v=m+1,b=v<this.items.length?this.items[v].row:null,S=b?b.domNode:null;this.insertItemInDOM(m,S)}for(let p=u.start;p<u.end;p++)this.items[p].row&&this.updateItemInDOM(this.items[p],p);if(typeof s=="number"){const p=this.scrollable.getFutureScrollPosition().scrollTop-e,m=this.elementTop(s)-o+p;this.setScrollTop(m,n)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const o=this.virtualDelegate.getDynamicHeight(t.element);if(o!==null){const a=t.size;return t.size=o,t.lastDynamicHeightWidth=this.renderWidth,o-a}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const n=t.size;if(!this.setRowHeight&&t.row){let o=t.row.domNode.offsetHeight;return t.size=o,t.lastDynamicHeightWidth=this.renderWidth,o-n}const r=this.cache.alloc(t.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);const s=this.renderers.get(t.templateId);return s&&(s.renderElement(t.element,e,r.templateData,void 0),s.disposeElement&&s.disposeElement(t.element,e,r.templateData,void 0)),t.size=r.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(r.domNode),this.cache.release(r),t.size-n}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const n=this.items[t.end];return!n||!n.row?null:n.row.domNode}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),ui(this.disposables)}}Uf.InstanceCount=0;Xy([zs],Uf.prototype,"onMouseClick",null);Xy([zs],Uf.prototype,"onMouseDblClick",null);Xy([zs],Uf.prototype,"onMouseMiddleClick",null);Xy([zs],Uf.prototype,"onMouseDown",null);Xy([zs],Uf.prototype,"onContextMenu",null);Xy([zs],Uf.prototype,"onTouchStart",null);Xy([zs],Uf.prototype,"onTap",null);var Qy=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Vse=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class BFe{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,n){const r=this.renderedElements.findIndex(s=>s.templateData===n);if(r>=0){const s=this.renderedElements[r];this.trait.unrender(n),s.index=t}else{const s={index:t,templateData:n};this.renderedElements.push(s)}this.trait.renderIndex(t,n)}splice(e,t,n){const r=[];for(const s of this.renderedElements)s.index<e?r.push(s):s.index>=e+t&&r.push({index:s.index+n-t,templateData:s.templateData});this.renderedElements=r}renderIndexes(e){for(const{index:t,templateData:n}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,n)}disposeTemplate(e){const t=this.renderedElements.findIndex(n=>n.templateData===e);t<0||this.renderedElements.splice(t,1)}}let E7=class{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new ye,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new BFe(this)}splice(e,t,n){var r;t=Math.max(0,Math.min(t,this.length-e));const s=n.length-t,o=e+t,a=[...this.sortedIndexes.filter(c=>c<e),...n.map((c,h)=>c?h+e:-1).filter(c=>c!==-1),...this.sortedIndexes.filter(c=>c>=o).map(c=>c+s)],u=this.length+s;if(this.sortedIndexes.length>0&&a.length===0&&u>0){const c=(r=this.sortedIndexes.find(h=>h>=e))!==null&&r!==void 0?r:u-1;a.push(Math.min(c,u-1))}this.renderer.splice(e,t,n.length),this._set(a,a),this.length=u}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort($se),t)}_set(e,t,n){const r=this.indexes,s=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const o=vq(s,e);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:n}),r}get(){return this.indexes}contains(e){return BX(this.sortedIndexes,e,$se)>=0}dispose(){ui(this._onChange)}};Qy([zs],E7.prototype,"renderer",null);class WFe extends E7{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class S${constructor(e,t,n){this.trait=e,this.view=t,this.identityProvider=n}splice(e,t,n){if(!this.identityProvider)return this.trait.splice(e,t,n.map(()=>!1));const r=this.trait.get().map(o=>this.identityProvider.getId(this.view.element(o)).toString()),s=n.map(o=>r.indexOf(this.identityProvider.getId(o).toString())>-1);this.trait.splice(e,t,s)}}function O1(i){return i.tagName==="INPUT"||i.tagName==="TEXTAREA"}function gS(i){return i.classList.contains("monaco-editor")?!0:i.classList.contains("monaco-list")||!i.parentElement?!1:gS(i.parentElement)}class a_e{constructor(e,t,n){this.list=e,this.view=t,this.disposables=new tt,this.multipleSelectionDisposables=new tt,this.onKeyDown.filter(r=>r.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===9).on(this.onEscape,this,this.disposables),n.multipleSelectionSupport!==!1&&this.onKeyDown.filter(r=>(Xn?r.metaKey:r.ctrlKey)&&r.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return Bt.chain(this.disposables.add(new Qi(this.view.domNode,"keydown")).event).filter(e=>!O1(e.target)).map(e=>new Ar(e))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(t=>(Xn?t.metaKey:t.ctrlKey)&&t.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(ja(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Qy([zs],a_e.prototype,"onKeyDown",null);var pS;(function(i){i[i.Idle=0]="Idle",i[i.Typing=1]="Typing"})(pS||(pS={}));const l_e=new class{mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey||i.altKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30||i.keyCode>=93&&i.keyCode<=102||i.keyCode>=80&&i.keyCode<=90}};class VFe{constructor(e,t,n,r){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=n,this.delegate=r,this.enabled=!1,this.state=pS.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new tt,this.disposables=new tt,this.updateOptions(e.options)}updateOptions(e){(typeof e.enableKeyboardNavigation>"u"?!0:!!e.enableKeyboardNavigation)?this.enable():this.disable(),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=Bt.chain(this.enabledDisposables.add(new Qi(this.view.domNode,"keydown")).event).filter(r=>!O1(r.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(r=>new Ar(r)).filter(r=>this.delegate.mightProducePrintableCharacter(r)).forEach(r=>r.preventDefault()).map(r=>r.browserEvent.key).event,t=Bt.debounce(e,()=>null,800);Bt.reduce(Bt.any(e,t),(r,s)=>s===null?null:(r||"")+s)(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const n=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));n&&Ko(n)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=pS.Idle,this.triggered=!1;return}const t=this.list.getFocus(),n=t.length>0?t[0]:0,r=this.state===pS.Idle?1:0;this.state=pS.Typing;for(let s=0;s<this.list.length;s++){const o=(n+s+r)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(o)),u=a&&a.toString();if(typeof u>"u"||eW(e,u)){this.previouslyFocused=n,this.list.setFocus([o]),this.list.reveal(o);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class HFe{constructor(e,t){this.list=e,this.view=t,this.disposables=new tt,Bt.chain(this.disposables.add(new Qi(t.domNode,"keydown")).event).filter(r=>!O1(r.target)).map(r=>new Ar(r)).filter(r=>r.keyCode===2&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const n=this.view.domElement(t[0]);if(!n)return;const r=n.querySelector("[tabIndex]");if(!r||!(r instanceof HTMLElement)||r.tabIndex===-1)return;const s=window.getComputedStyle(r);s.visibility==="hidden"||s.display==="none"||(e.preventDefault(),e.stopPropagation(),r.focus())}dispose(){this.disposables.dispose()}}function u_e(i){return Xn?i.browserEvent.metaKey:i.browserEvent.ctrlKey}function c_e(i){return i.browserEvent.shiftKey}function $Fe(i){return i instanceof MouseEvent&&i.button===2}const Hse={isSelectionSingleChangeEvent:u_e,isSelectionRangeChangeEvent:c_e};class d_e{constructor(e){this.list=e,this.disposables=new tt,this._onPointer=new ye,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Hse),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(qi.addTarget(e.getHTMLElement()))),Bt.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Hse))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){gS(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(gS(e.browserEvent.target))return;const t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||O1(e.browserEvent.target)||gS(e.browserEvent.target))return;const t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(e))return this.changeSelection(e);if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),$Fe(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(O1(e.browserEvent.target)||gS(e.browserEvent.target)||this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let n=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof n>"u"){const h=this.list.getFocus()[0];n=h??t,this.list.setAnchor(n)}const r=Math.min(n,t),s=Math.max(n,t),o=ja(r,s+1),a=this.list.getSelection(),u=jFe(vq(a,[n]),n);if(u.length===0)return;const c=vq(o,KFe(a,u));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const r=this.list.getSelection(),s=r.filter(o=>o!==t);this.list.setFocus([t]),this.list.setAnchor(t),r.length===s.length?this.list.setSelection([...s,t],e.browserEvent):this.list.setSelection(s,e.browserEvent)}}dispose(){this.disposables.dispose()}}class h_e{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,n=[];e.listBackground&&(e.listBackground.isOpaque()?n.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):Xn||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&n.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&n.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&n.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(n.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&n.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&n.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&n.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&n.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&n.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&n.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&n.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&n.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }
			`),e.listFilterWidgetBackground&&n.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&n.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&n.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&n.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&n.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
			}`),e.tableOddRowsBackgroundColor&&n.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=n.join(`
`)}}const zFe={listFocusBackground:Se.fromHex("#7FB0D0"),listActiveSelectionBackground:Se.fromHex("#0E639C"),listActiveSelectionForeground:Se.fromHex("#FFFFFF"),listActiveSelectionIconForeground:Se.fromHex("#FFFFFF"),listFocusAndSelectionBackground:Se.fromHex("#094771"),listFocusAndSelectionForeground:Se.fromHex("#FFFFFF"),listInactiveSelectionBackground:Se.fromHex("#3F3F46"),listInactiveSelectionIconForeground:Se.fromHex("#FFFFFF"),listHoverBackground:Se.fromHex("#2A2D2E"),listDropBackground:Se.fromHex("#383B3D"),treeIndentGuidesStroke:Se.fromHex("#a9a9a9"),tableColumnsBorder:Se.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:Se.fromHex("#cccccc").transparent(.04)},UFe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function jFe(i,e){const t=i.indexOf(e);if(t===-1)return[];const n=[];let r=t-1;for(;r>=0&&i[r]===e-(t-r);)n.push(i[r--]);for(n.reverse(),r=t;r<i.length&&i[r]===e+(r-t);)n.push(i[r++]);return n}function vq(i,e){const t=[];let n=0,r=0;for(;n<i.length||r<e.length;)if(n>=i.length)t.push(e[r++]);else if(r>=e.length)t.push(i[n++]);else if(i[n]===e[r]){t.push(i[n]),n++,r++;continue}else i[n]<e[r]?t.push(i[n++]):t.push(e[r++]);return t}function KFe(i,e){const t=[];let n=0,r=0;for(;n<i.length||r<e.length;)if(n>=i.length)t.push(e[r++]);else if(r>=e.length)t.push(i[n++]);else if(i[n]===e[r]){n++,r++;continue}else i[n]<e[r]?t.push(i[n++]):r++;return t}const $se=(i,e)=>i-e;class qFe{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,n,r){let s=0;for(const o of this.renderers)o.renderElement(e,t,n[s++],r)}disposeElement(e,t,n,r){let s=0;for(const o of this.renderers)o.disposeElement&&o.disposeElement(e,t,n[s],r),s+=1}disposeTemplate(e){let t=0;for(const n of this.renderers)n.disposeTemplate(e[t++])}}class GFe{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,n){const r=this.accessibilityProvider.getAriaLabel(e);r?n.setAttribute("aria-label",r):n.removeAttribute("aria-label");const s=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof s=="number"?n.setAttribute("aria-level",`${s}`):n.removeAttribute("aria-level")}disposeTemplate(e){}}class YFe{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,n,r){return this.dnd.onDragOver(e,t,n,r)}onDragLeave(e,t,n,r){var s,o;(o=(s=this.dnd).onDragLeave)===null||o===void 0||o.call(s,e,t,n,r)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,n,r){this.dnd.drop(e,t,n,r)}}class fp{constructor(e,t,n,r,s=UFe){var o;this.user=e,this._options=s,this.focus=new E7("focused"),this.anchor=new E7("anchor"),this.eventBufferer=new hX,this._ariaLabel="",this.disposables=new tt,this._onDidDispose=new ye,this.onDidDispose=this._onDidDispose.event;const a=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(o=this._options.accessibilityProvider)===null||o===void 0?void 0:o.getWidgetRole():"list";this.selection=new WFe(a!=="listbox"),hp(s,zFe,!1);const u=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=s.accessibilityProvider,this.accessibilityProvider&&(u.push(new GFe(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),r=r.map(h=>new qFe(h.templateId,[...u,h]));const c=Object.assign(Object.assign({},s),{dnd:s.dnd&&new YFe(this,s.dnd)});if(this.view=new Uf(t,n,r,c),this.view.domNode.setAttribute("role",a),s.styleController)this.styleController=s.styleController(this.view.domId);else{const h=Pc(this.view.domNode);this.styleController=new h_e(h,this.view.domId)}if(this.spliceable=new IFe([new S$(this.focus,this.view,s.identityProvider),new S$(this.selection,this.view,s.identityProvider),new S$(this.anchor,this.view,s.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new HFe(this,this.view)),(typeof s.keyboardSupport!="boolean"||s.keyboardSupport)&&(this.keyboardController=new a_e(this,this.view,s),this.disposables.add(this.keyboardController)),s.keyboardNavigationLabelProvider){const h=s.keyboardNavigationDelegate||l_e;this.typeLabelController=new VFe(this,this.view,s.keyboardNavigationLabelProvider,h),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(s),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return Bt.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return Bt.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=Bt.chain(this.disposables.add(new Qi(this.view.domNode,"keydown")).event).map(s=>new Ar(s)).filter(s=>e=s.keyCode===58||s.shiftKey&&s.keyCode===68).map(ise).filter(()=>!1).event,n=Bt.chain(this.disposables.add(new Qi(this.view.domNode,"keyup")).event).forEach(()=>e=!1).map(s=>new Ar(s)).filter(s=>s.keyCode===58||s.shiftKey&&s.keyCode===68).map(ise).map(({browserEvent:s})=>{const o=this.getFocus(),a=o.length?o[0]:void 0,u=typeof a<"u"?this.view.element(a):void 0,c=typeof a<"u"?this.view.domElement(a):this.view.domNode;return{index:a,element:u,anchor:c,browserEvent:s}}).event,r=Bt.chain(this.view.onContextMenu).filter(s=>!e).map(({element:s,index:o,browserEvent:a})=>({element:s,index:o,anchor:{x:a.pageX+1,y:a.pageY},browserEvent:a})).event;return Bt.any(t,n,r)}get onKeyDown(){return this.disposables.add(new Qi(this.view.domNode,"keydown")).event}get onDidFocus(){return Bt.signal(this.disposables.add(new Qi(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new d_e(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(t=this.keyboardController)===null||t===void 0||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,n=[]){if(e<0||e>this.view.length)throw new pb(this.user,`Invalid start index: ${e}`);if(t<0)throw new pb(this.user,`Invalid delete count: ${t}`);t===0&&n.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,n))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const n of e)if(n<0||n>=this.length)throw new pb(this.user,`Invalid index ${n}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new pb(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return Aj(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(const n of e)if(n<0||n>=this.length)throw new pb(this.user,`Invalid index ${n}`);this.focus.set(e,t)}focusNext(e=1,t=!1,n,r){if(this.length===0)return;const s=this.focus.get(),o=this.findNextIndex(s.length>0?s[0]+e:0,t,r);o>-1&&this.setFocus([o],n)}focusPrevious(e=1,t=!1,n,r){if(this.length===0)return;const s=this.focus.get(),o=this.findPreviousIndex(s.length>0?s[0]-e:0,t,r);o>-1&&this.setFocus([o],n)}focusNextPage(e,t){return Vse(this,void 0,void 0,function*(){let n=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);n=n===0?0:n-1;const r=this.view.element(n),s=this.getFocusedElements()[0];if(s!==r){const o=this.findPreviousIndex(n,!1,t);o>-1&&s!==this.view.element(o)?this.setFocus([o],e):this.setFocus([n],e)}else{const o=this.view.getScrollTop();this.view.setScrollTop(o+this.view.renderHeight-this.view.elementHeight(n)),this.view.getScrollTop()!==o&&(this.setFocus([]),yield y1(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return Vse(this,void 0,void 0,function*(){let n;const r=this.view.getScrollTop();r===0?n=this.view.indexAt(r):n=this.view.indexAfter(r-1);const s=this.view.element(n),o=this.getFocusedElements()[0];if(o!==s){const a=this.findNextIndex(n,!1,t);a>-1&&o!==this.view.element(a)?this.setFocus([a],e):this.setFocus([n],e)}else{const a=r;this.view.setScrollTop(r-this.view.renderHeight),this.view.getScrollTop()!==a&&(this.setFocus([]),yield y1(0),yield this.focusPreviousPage(e,t))}})}focusLast(e,t){if(this.length===0)return;const n=this.findPreviousIndex(this.length-1,!1,t);n>-1&&this.setFocus([n],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,n){if(this.length===0)return;const r=this.findNextIndex(e,!1,n);r>-1&&this.setFocus([r],t)}findNextIndex(e,t=!1,n){for(let r=0;r<this.length;r++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!n||n(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,n){for(let r=0;r<this.length;r++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!n||n(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new pb(this.user,`Invalid index ${e}`);const n=this.view.getScrollTop(),r=this.view.elementTop(e),s=this.view.elementHeight(e);if(jC(t)){const o=s-this.view.renderHeight;this.view.setScrollTop(o*ad(t,0,1)+r)}else{const o=r+s,a=n+this.view.renderHeight;r<n&&o>=a||(r<n||o>=a&&s>=this.view.renderHeight?this.view.setScrollTop(r):o>=a&&this.view.setScrollTop(o-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new pb(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),n=this.view.elementTop(e),r=this.view.elementHeight(e);if(n<t||n+r>t+this.view.renderHeight)return null;const s=r-this.view.renderHeight;return Math.abs((t-n)/s)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(n=>this.view.element(n)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let n;!((e=this.accessibilityProvider)===null||e===void 0)&&e.getActiveDescendantId&&(n=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",n||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Qy([zs],fp.prototype,"onDidChangeFocus",null);Qy([zs],fp.prototype,"onDidChangeSelection",null);Qy([zs],fp.prototype,"onContextMenu",null);Qy([zs],fp.prototype,"onKeyDown",null);Qy([zs],fp.prototype,"onDidFocus",null);class ZFe{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:Me.None}}renderElement(e,t,n,r){if(n.disposable&&n.disposable.dispose(),!n.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,n.data,r);const o=new Ea,a=s.resolve(e,o.token);n.disposable={dispose:()=>o.cancel()},this.renderer.renderPlaceholder(e,n.data),a.then(u=>this.renderer.renderElement(u,e,n.data,r))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class XFe{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function QFe(i,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new XFe(i,e.accessibilityProvider)})}class JFe{constructor(e,t,n,r,s={}){const o=()=>this.model,a=r.map(u=>new ZFe(u,o));this.list=new fp(e,t,n,a,QFe(o,s))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Bt.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:n})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:n}))}get onPointer(){return Bt.map(this.list.onPointer,({element:e,index:t,browserEvent:n})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:n}))}get onDidChangeSelection(){return Bt.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:n})=>({elements:e.map(r=>this._model.get(r)),indexes:t,browserEvent:n}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,ja(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}const e7e={separatorBorder:Se.transparent};class f_e{constructor(e,t,n,r){this.container=e,this.view=t,this.disposable=r,this._cachedVisibleSize=void 0,typeof n=="number"?(this._size=n,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){e!==this.visible&&(e?(this.size=ad(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class t7e extends f_e{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class n7e extends f_e{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Pp;(function(i){i[i.Idle=0]="Idle",i[i.Busy=1]="Busy"})(Pp||(Pp={}));var L7;(function(i){i.Distribute={type:"distribute"};function e(n){return{type:"split",index:n}}i.Split=e;function t(n){return{type:"invisible",cachedVisibleSize:n}}i.Invisible=t})(L7||(L7={}));class g_e extends Me{constructor(e,t={}){var n,r,s,o,a;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Pp.Idle,this._onDidSashChange=this._register(new ye),this._onDidSashReset=this._register(new ye),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(n=t.orientation)!==null&&n!==void 0?n:0,this.inverseAltBehavior=(r=t.inverseAltBehavior)!==null&&r!==void 0?r:!1,this.proportionalLayout=(s=t.proportionalLayout)!==null&&s!==void 0?s:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=We(this.el,Ye(".sash-container")),this.viewContainer=Ye(".split-view-container"),this.scrollable=new jB(125,jg),this.scrollableElement=this._register(new SQ(this.viewContainer,{vertical:this.orientation===0?(o=t.scrollbarVisibility)!==null&&o!==void 0?o:1:2,horizontal:this.orientation===1?(a=t.scrollbarVisibility)!==null&&a!==void 0?a:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(u=>{this.viewContainer.scrollTop=u.scrollTop,this.viewContainer.scrollLeft=u.scrollLeft})),We(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||e7e),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((u,c)=>{const h=Vl(u.visible)||u.visible?u.size:{type:"invisible",cachedVisibleSize:u.size},f=u.view;this.doAddView(f,h,c,!0)}),this.contentSize=this.viewItems.reduce((u,c)=>u+c.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,n=this.viewItems.length,r){this.doAddView(e,t,n,r)}layout(e,t){const n=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let r=0;r<this.viewItems.length;r++){const s=this.viewItems[r];s.size=ad(Math.round(this.proportions[r]*e),s.minimumSize,s.maximumSize)}else{const r=ja(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-n,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:n}){for(const a of this.viewItems)a.enabled=!1;const r=this.sashItems.findIndex(a=>a.sash===e),s=e1(Ze(document.body,"keydown",a=>o(this.sashDragState.current,a.altKey)),Ze(document.body,"keyup",()=>o(this.sashDragState.current,!1))),o=(a,u)=>{const c=this.viewItems.map(v=>v.size);let h=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(u=!u),u)if(r===this.sashItems.length-1){const b=this.viewItems[r];h=(b.minimumSize-b.size)/2,f=(b.maximumSize-b.size)/2}else{const b=this.viewItems[r+1];h=(b.size-b.maximumSize)/2,f=(b.size-b.minimumSize)/2}let p,m;if(!u){const v=ja(r,-1),b=ja(r+1,this.viewItems.length),S=v.reduce((M,G)=>M+(this.viewItems[G].minimumSize-c[G]),0),x=v.reduce((M,G)=>M+(this.viewItems[G].viewMaximumSize-c[G]),0),w=b.length===0?Number.POSITIVE_INFINITY:b.reduce((M,G)=>M+(c[G]-this.viewItems[G].minimumSize),0),E=b.length===0?Number.NEGATIVE_INFINITY:b.reduce((M,G)=>M+(c[G]-this.viewItems[G].viewMaximumSize),0),N=Math.max(S,E),A=Math.min(w,x),H=this.findFirstSnapIndex(v),R=this.findFirstSnapIndex(b);if(typeof H=="number"){const M=this.viewItems[H],G=Math.floor(M.viewMinimumSize/2);p={index:H,limitDelta:M.visible?N-G:N+G,size:M.size}}if(typeof R=="number"){const M=this.viewItems[R],G=Math.floor(M.viewMinimumSize/2);m={index:R,limitDelta:M.visible?A+G:A-G,size:M.size}}}this.sashDragState={start:a,current:a,index:r,sizes:c,minDelta:h,maxDelta:f,alt:u,snapBefore:p,snapAfter:m,disposable:s}};o(t,n)}onSashChange({current:e}){const{index:t,start:n,sizes:r,alt:s,minDelta:o,maxDelta:a,snapBefore:u,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;const h=e-n,f=this.resize(t,h,r,void 0,void 0,o,a,u,c);if(s){const p=t===this.sashItems.length-1,m=this.viewItems.map(E=>E.size),v=p?t:t+1,b=this.viewItems[v],S=b.size-b.maximumSize,x=b.size-b.minimumSize,w=p?t-1:t+1;this.resize(w,-f,m,void 0,void 0,S,x)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const n=this.viewItems.indexOf(e);n<0||n>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=ad(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&n>0?(this.resize(n-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([n],void 0)))}resizeView(e,t){if(this.state!==Pp.Idle)throw new Error("Cant modify splitview");if(this.state=Pp.Busy,e<0||e>=this.viewItems.length)return;const n=ja(this.viewItems.length).filter(a=>a!==e),r=[...n.filter(a=>this.viewItems[a].priority===1),e],s=n.filter(a=>this.viewItems[a].priority===2),o=this.viewItems[e];t=Math.round(t),t=ad(t,o.minimumSize,Math.min(o.maximumSize,this.size)),o.size=t,this.relayout(r,s),this.state=Pp.Idle}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const n=Math.floor(t/e.length);for(const a of e)a.size=ad(n,a.minimumSize,a.maximumSize);const r=ja(this.viewItems.length),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);this.relayout(s,o)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,n=this.viewItems.length,r){if(this.state!==Pp.Idle)throw new Error("Cant modify splitview");this.state=Pp.Busy;const s=Ye(".split-view-view");n===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(n));const o=e.onDidChange(p=>this.onViewChange(h,p)),a=Yn(()=>this.viewContainer.removeChild(s)),u=e1(o,a);let c;typeof t=="number"?c=t:t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize;const h=this.orientation===0?new t7e(s,e,c,u):new n7e(s,e,c,u);if(this.viewItems.splice(n,0,h),this.viewItems.length>1){let p={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const m=this.orientation===0?new oa(this.sashContainer,{getHorizontalSashTop:M=>this.getSashPosition(M),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},p),{orientation:1})):new oa(this.sashContainer,{getVerticalSashLeft:M=>this.getSashPosition(M),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},p),{orientation:0})),v=this.orientation===0?M=>({sash:m,start:M.startY,current:M.currentY,alt:M.altKey}):M=>({sash:m,start:M.startX,current:M.currentX,alt:M.altKey}),S=Bt.map(m.onDidStart,v)(this.onSashStart,this),w=Bt.map(m.onDidChange,v)(this.onSashChange,this),N=Bt.map(m.onDidEnd,()=>this.sashItems.findIndex(M=>M.sash===m))(this.onSashEnd,this),A=m.onDidReset(()=>{const M=this.sashItems.findIndex(O=>O.sash===m),G=ja(M,-1),X=ja(M+1,this.viewItems.length),$=this.findFirstSnapIndex(G),I=this.findFirstSnapIndex(X);typeof $=="number"&&!this.viewItems[$].visible||typeof I=="number"&&!this.viewItems[I].visible||this._onDidSashReset.fire(M)}),H=e1(S,w,N,A,m),R={sash:m,disposable:H};this.sashItems.splice(n-1,0,R)}s.appendChild(e.element);let f;typeof t!="number"&&t.type==="split"&&(f=[t.index]),r||this.relayout([n],f),this.state=Pp.Idle,!r&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}relayout(e,t){const n=this.viewItems.reduce((r,s)=>r+s.size,0);this.resize(this.viewItems.length-1,this.size-n,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,n=this.viewItems.map(h=>h.size),r,s,o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,u,c){if(e<0||e>=this.viewItems.length)return 0;const h=ja(e,-1),f=ja(e+1,this.viewItems.length);if(s)for(const R of s)SH(h,R),SH(f,R);if(r)for(const R of r)h5(h,R),h5(f,R);const p=h.map(R=>this.viewItems[R]),m=h.map(R=>n[R]),v=f.map(R=>this.viewItems[R]),b=f.map(R=>n[R]),S=h.reduce((R,M)=>R+(this.viewItems[M].minimumSize-n[M]),0),x=h.reduce((R,M)=>R+(this.viewItems[M].maximumSize-n[M]),0),w=f.length===0?Number.POSITIVE_INFINITY:f.reduce((R,M)=>R+(n[M]-this.viewItems[M].minimumSize),0),E=f.length===0?Number.NEGATIVE_INFINITY:f.reduce((R,M)=>R+(n[M]-this.viewItems[M].maximumSize),0),N=Math.max(S,E,o),A=Math.min(w,x,a);let H=!1;if(u){const R=this.viewItems[u.index],M=t>=u.limitDelta;H=M!==R.visible,R.setVisible(M,u.size)}if(!H&&c){const R=this.viewItems[c.index],M=t<c.limitDelta;H=M!==R.visible,R.setVisible(M,c.size)}if(H)return this.resize(e,t,n,r,s,o,a);t=ad(t,N,A);for(let R=0,M=t;R<p.length;R++){const G=p[R],X=ad(m[R]+M,G.minimumSize,G.maximumSize),$=X-m[R];M-=$,G.size=X}for(let R=0,M=t;R<v.length;R++){const G=v[R],X=ad(b[R]-M,G.minimumSize,G.maximumSize),$=X-b[R];M+=$,G.size=X}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,u)=>a+u.size,0);let n=this.size-t;const r=ja(this.viewItems.length-1,-1),s=r.filter(a=>this.viewItems[a].priority===1),o=r.filter(a=>this.viewItems[a].priority===2);for(const a of o)SH(r,a);for(const a of s)h5(r,a);typeof e=="number"&&h5(r,e);for(let a=0;n!==0&&a<r.length;a++){const u=this.viewItems[r[a]],c=ad(u.size+n,u.minimumSize,u.maximumSize),h=c-u.size;n-=h,u.size=c}}layoutViews(){this.contentSize=this.viewItems.reduce((t,n)=>t+n.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(u=>e=u.size-u.minimumSize>0||e);e=!1;const n=this.viewItems.map(u=>e=u.maximumSize-u.size>0||e),r=[...this.viewItems].reverse();e=!1;const s=r.map(u=>e=u.size-u.minimumSize>0||e).reverse();e=!1;const o=r.map(u=>e=u.maximumSize-u.size>0||e).reverse();let a=0;for(let u=0;u<this.sashItems.length;u++){const{sash:c}=this.sashItems[u],h=this.viewItems[u];a+=h.size;const f=!(t[u]&&o[u+1]),p=!(n[u]&&s[u+1]);if(f&&p){const m=ja(u,-1),v=ja(u+1,this.viewItems.length),b=this.findFirstSnapIndex(m),S=this.findFirstSnapIndex(v),x=typeof b=="number"&&!this.viewItems[b].visible,w=typeof S=="number"&&!this.viewItems[S].visible;x&&s[u]&&(a>0||this.startSnappingEnabled)?c.state=1:w&&t[u]&&(a<this.contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else f&&!p?c.state=1:!f&&p?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let n=0;n<this.sashItems.length;n++)if(t+=this.viewItems[n].size,this.sashItems[n].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const n=this.viewItems[t];if(n.visible&&n.snap)return t}for(const t of e){const n=this.viewItems[t];if(n.visible&&n.maximumSize-n.minimumSize>0)return;if(!n.visible&&n.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach(e=>e.dispose()),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}}class l3{constructor(e,t,n){this.columns=e,this.getColumnSize=n,this.templateId=l3.TemplateId,this.renderedTemplates=new Set;const r=new Map(t.map(s=>[s.templateId,s]));this.renderers=[];for(const s of e){const o=r.get(s.templateId);if(!o)throw new Error(`Table cell renderer for template id ${s.templateId} not found.`);this.renderers.push(o)}}renderTemplate(e){const t=We(e,Ye(".monaco-table-tr")),n=[],r=[];for(let o=0;o<this.columns.length;o++){const a=this.renderers[o],u=We(t,Ye(".monaco-table-td",{"data-col-index":o}));u.style.width=`${this.getColumnSize(o)}px`,n.push(u),r.push(a.renderTemplate(u))}const s={container:e,cellContainers:n,cellTemplateData:r};return this.renderedTemplates.add(s),s}renderElement(e,t,n,r){for(let s=0;s<this.columns.length;s++){const a=this.columns[s].project(e);this.renderers[s].renderElement(a,t,n.cellTemplateData[s],r)}}disposeElement(e,t,n,r){for(let s=0;s<this.columns.length;s++){const o=this.renderers[s];if(o.disposeElement){const u=this.columns[s].project(e);o.disposeElement(u,t,n.cellTemplateData[s],r)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);ro(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:n}of this.renderedTemplates)n[e].style.width=`${t}px`}}l3.TemplateId="row";function i7e(i){return{getHeight(e){return i.getHeight(e)},getTemplateId(){return l3.TemplateId}}}class r7e{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new ye,this.onDidLayout=this._onDidLayout.event,this.element=Ye(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:Bt.None}layout(e){this._onDidLayout.fire([this.index,e])}}class rW{constructor(e,t,n,r,s,o){this.virtualDelegate=n,this.domId=`table_id_${++rW.InstanceCount}`,this.disposables=new tt,this.cachedWidth=0,this.cachedHeight=0,this.domNode=We(t,Ye(`.monaco-table.${this.domId}`));const a=r.map((h,f)=>new r7e(h,f)),u={size:a.reduce((h,f)=>h+f.column.weight,0),views:a.map(h=>({size:h.column.weight,view:h}))};this.splitview=this.disposables.add(new g_e(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:u})),this.splitview.el.style.height=`${n.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${n.headerRowHeight}px`;const c=new l3(r,s,h=>this.splitview.getViewSize(h));this.list=this.disposables.add(new fp(e,this.domNode,i7e(n),[c],o)),Bt.any(...a.map(h=>h.onDidLayout))(([h,f])=>c.layoutColumn(h,f),null,this.disposables),this.splitview.onDidSashReset(h=>{const f=r.reduce((m,v)=>m+v.weight,0),p=r[h].weight/f*this.cachedWidth;this.splitview.resizeView(h,p)},null,this.disposables),this.styleElement=Pc(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,n=[]){this.list.splice(e,t,n)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}rW.InstanceCount=0;var RO;(function(i){i[i.Unknown=0]="Unknown",i[i.Twistie=1]="Twistie",i[i.Element=2]="Element"})(RO||(RO={}));class xc extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class nJ{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function iJ(i){return typeof i=="object"&&"visibility"in i&&"data"in i}function JM(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}function x$(i){return typeof i.collapsible=="boolean"}class s7e{constructor(e,t,n,r={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new hX,this._onDidChangeCollapseState=new ye,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new ye,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new ye,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof r.collapseByDefault>"u"?!1:r.collapseByDefault,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,n=ri.empty(),r={}){if(e.length===0)throw new xc(this.user,"Invalid tree location");r.diffIdentityProvider?this.spliceSmart(r.diffIdentityProvider,e,t,n,r):this.spliceSimple(e,t,n,r)}spliceSmart(e,t,n,r,s,o){var a;r===void 0&&(r=ri.empty()),o===void 0&&(o=(a=s.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:u}=this.getParentNodeWithListIndex(t);if(!u.lastDiffIds)return this.spliceSimple(t,n,r,s);const c=[...r],h=t[t.length-1],f=new Sg({getElements:()=>u.lastDiffIds},{getElements:()=>[...u.children.slice(0,h),...c,...u.children.slice(h+n)].map(S=>e.getId(S.element).toString())}).ComputeDiff(!1);if(f.quitEarly)return u.lastDiffIds=void 0,this.spliceSimple(t,n,c,s);const p=t.slice(0,-1),m=(S,x,w)=>{if(o>0)for(let E=0;E<w;E++)S--,x--,this.spliceSmart(e,[...p,S,0],Number.MAX_SAFE_INTEGER,c[x].children,s,o-1)};let v=Math.min(u.children.length,h+n),b=c.length;for(const S of f.changes.sort((x,w)=>w.originalStart-x.originalStart))m(v,b,v-(S.originalStart+S.originalLength)),v=S.originalStart,b=S.modifiedStart-h,this.spliceSimple([...p,v],S.originalLength,ri.slice(c,b,b+S.modifiedLength),s);m(v,b,v)}spliceSimple(e,t,n=ri.empty(),{onDidCreateNode:r,onDidDeleteNode:s,diffIdentityProvider:o}){const{parentNode:a,listIndex:u,revealed:c,visible:h}=this.getParentNodeWithListIndex(e),f=[],p=ri.map(n,R=>this.createTreeNode(R,a,a.visible?1:0,c,f,r)),m=e[e.length-1],v=a.children.length>0;let b=0;for(let R=m;R>=0&&R<a.children.length;R--){const M=a.children[R];if(M.visible){b=M.visibleChildIndex;break}}const S=[];let x=0,w=0;for(const R of p)S.push(R),w+=R.renderNodeCount,R.visible&&(R.visibleChildIndex=b+x++);const E=Die(a.children,m,t,S);o?a.lastDiffIds?Die(a.lastDiffIds,m,t,S.map(R=>o.getId(R.element).toString())):a.lastDiffIds=a.children.map(R=>o.getId(R.element).toString()):a.lastDiffIds=void 0;let N=0;for(const R of E)R.visible&&N++;if(N!==0)for(let R=m+S.length;R<a.children.length;R++){const M=a.children[R];M.visible&&(M.visibleChildIndex-=N)}if(a.visibleChildrenCount+=x-N,c&&h){const R=E.reduce((M,G)=>M+(G.visible?G.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,w-R),this.list.splice(u,R,f)}if(E.length>0&&s){const R=M=>{s(M),M.children.forEach(R)};E.forEach(R)}const A=a.children.length>0;v!==A&&this.setCollapsible(e.slice(0,-1),A),this._onDidSplice.fire({insertedNodes:S,deletedNodes:E});let H=a;for(;H;){if(H.visibility===2){this.refilter();break}H=H.parent}}rerender(e){if(e.length===0)throw new xc(this.user,"Invalid tree location");const{node:t,listIndex:n,revealed:r}=this.getTreeNodeWithListIndex(e);t.visible&&r&&this.list.splice(n,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:n,revealed:r}=this.getTreeNodeWithListIndex(e);return n&&r?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const n=this.getTreeNode(e);typeof t>"u"&&(t=!n.collapsible);const r={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,n){const r=this.getTreeNode(e);typeof t>"u"&&(t=!r.collapsed);const s={collapsed:t,recursive:n||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,s))}_setCollapseState(e,t){const{node:n,listIndex:r,revealed:s}=this.getTreeNodeWithListIndex(e),o=this._setListNodeCollapseState(n,r,s,t);if(n!==this.root&&this.autoExpandSingleChildren&&o&&!x$(t)&&n.collapsible&&!n.collapsed&&!t.recursive){let a=-1;for(let u=0;u<n.children.length;u++)if(n.children[u].visible)if(a>-1){a=-1;break}else a=u;a>-1&&this._setCollapseState([...e,a],t)}return o}_setListNodeCollapseState(e,t,n,r){const s=this._setNodeCollapseState(e,r,!1);if(!n||!e.visible||!s)return s;const o=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),u=o-(t===-1?0:1);return this.list.splice(t+1,u,a.slice(1)),s}_setNodeCollapseState(e,t,n){let r;if(e===this.root?r=!1:(x$(t)?(r=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(r=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):r=!1,r&&this._onDidChangeCollapseState.fire({node:e,deep:n})),!x$(t)&&t.recursive)for(const s of e.children)r=this._setNodeCollapseState(s,t,!0)||r;return r}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,n,r,s,o){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},u=this._filterNode(a,n);a.visibility=u,r&&s.push(a);const c=e.children||ri.empty(),h=r&&u!==0&&!a.collapsed,f=ri.map(c,v=>this.createTreeNode(v,a,u,h,s,o));let p=0,m=1;for(const v of f)a.children.push(v),m+=v.renderNodeCount,v.visible&&(v.visibleChildIndex=p++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=p,a.visible=u===2?p>0:u===1,a.visible?a.collapsed||(a.renderNodeCount=m):(a.renderNodeCount=0,r&&s.pop()),o&&o(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,n=[];return this._updateNodeAfterCollapseChange(e,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const n of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(n,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,n=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterFilterChange(e,t,n,r=!0){let s;if(e!==this.root){if(s=this._filterNode(e,t),s===0)return e.visible=!1,e.renderNodeCount=0,!1;r&&n.push(e)}const o=n.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||s!==0){let u=0;for(const c of e.children)a=this._updateNodeAfterFilterChange(c,s,n,r&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=u++);e.visibleChildrenCount=u}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=s===2?a:s===1,e.visibility=s),e.visible?e.collapsed||(e.renderNodeCount+=n.length-o):(e.renderNodeCount=0,r&&n.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const n=this.filter?this.filter.filter(e.element,t):1;return typeof n=="boolean"?(e.filterData=void 0,n?1:0):iJ(n)?(e.filterData=n.data,JM(n.visibility)):(e.filterData=void 0,JM(n))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[n,...r]=e;return n<0||n>t.children.length?!1:this.hasTreeNode(r,t.children[n])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[n,...r]=e;if(n<0||n>t.children.length)throw new xc(this.user,"Invalid tree location");return this.getTreeNode(r,t.children[n])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:n,revealed:r,visible:s}=this.getParentNodeWithListIndex(e),o=e[e.length-1];if(o<0||o>t.children.length)throw new xc(this.user,"Invalid tree location");const a=t.children[o];return{node:a,listIndex:n,revealed:r,visible:s&&a.visible}}getParentNodeWithListIndex(e,t=this.root,n=0,r=!0,s=!0){const[o,...a]=e;if(o<0||o>t.children.length)throw new xc(this.user,"Invalid tree location");for(let u=0;u<o;u++)n+=t.children[u].renderNodeCount;return r=r&&!t.collapsed,s=s&&t.visible,a.length===0?{parentNode:t,listIndex:n,revealed:r,visible:s}:this.getParentNodeWithListIndex(a,t.children[o],n+1,r,s)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let n=e;for(;n.parent;)t.push(n.parent.children.indexOf(n)),n=n.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Ike(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}class o7e extends a3{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function E$(i){return i instanceof a3?new o7e(i):i}class a7e{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=Me.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(n=>n.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(E$(e),t)}onDragOver(e,t,n,r,s=!0){const o=this.dnd.onDragOver(E$(e),t&&t.element,n,r),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return o;if(a&&typeof o!="boolean"&&o.autoExpand&&(this.autoExpandDisposable=zC(()=>{const p=this.modelProvider(),m=p.getNodeLocation(t);p.isCollapsed(m)&&p.setCollapsed(m,!1),this.autoExpandNode=void 0},500)),typeof o=="boolean"||!o.accept||typeof o.bubble>"u"||o.feedback){if(!s){const p=typeof o=="boolean"?o:o.accept,m=typeof o=="boolean"?void 0:o.effect;return{accept:p,effect:m,feedback:[n]}}return o}if(o.bubble===1){const p=this.modelProvider(),m=p.getNodeLocation(t),v=p.getParentNodeLocation(m),b=p.getNode(v),S=v&&p.getListIndex(v);return this.onDragOver(e,b,S,r,!1)}const u=this.modelProvider(),c=u.getNodeLocation(t),h=u.getListIndex(c),f=u.getListRenderCount(c);return Object.assign(Object.assign({},o),{feedback:ja(h,h+f)})}drop(e,t,n,r){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(E$(e),t&&t.element,n,r)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function l7e(i,e){return e&&Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new a7e(i,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getSetSize(t){const n=i(),r=n.getNodeLocation(t),s=n.getParentNodeLocation(r);return n.getNode(s).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),enableKeyboardNavigation:e.simpleKeyboardNavigation})}class rJ{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}var eR;(function(i){i.None="none",i.OnHover="onHover",i.Always="always"})(eR||(eR={}));class u7e{constructor(e,t=[]){this._elements=t,this.onDidChange=Bt.forEach(e,n=>this._elements=n)}get elements(){return this._elements}}class tR{constructor(e,t,n,r,s={}){this.renderer=e,this.modelProvider=t,this.activeNodes=r,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=tR.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new NNe,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Me.None,this.disposables=new tt,this.templateId=e.templateId,this.updateOptions(s),Bt.map(n,o=>o.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"&&(this.indent=ad(e.indent,0,40)),typeof e.renderIndentGuides<"u"){const t=e.renderIndentGuides!==eR.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const n=new tt;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,n),this.indentGuidesDisposable=n,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=We(e,Ye(".monaco-tl-row")),n=We(t,Ye(".monaco-tl-indent")),r=We(t,Ye(".monaco-tl-twistie")),s=We(t,Ye(".monaco-tl-contents")),o=this.renderer.renderTemplate(s);return{container:e,indent:n,twistie:r,indentGuidesDisposable:Me.None,templateData:o}}renderElement(e,t,n,r){typeof r=="number"&&(this.renderedNodes.set(e,{templateData:n,height:r}),this.renderedElements.set(e.element,e));const s=tR.DefaultIndent+(e.depth-1)*this.indent;n.twistie.style.paddingLeft=`${s}px`,n.indent.style.width=`${s+this.indent-16}px`,this.renderTwistie(e,n),typeof r=="number"&&this.renderIndentGuides(e,n),this.renderer.renderElement(e,t,n.templateData,r)}disposeElement(e,t,n,r){n.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,n.templateData,r),typeof r=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...ve.treeItemExpanded.classNamesArray);let n=!1;this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(n||t.twistie.classList.add(...ve.treeItemExpanded.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(ro(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const n=new tt,r=this.modelProvider();let s=e;for(;;){const o=r.getNodeLocation(s),a=r.getParentNodeLocation(o);if(!a)break;const u=r.getNode(a),c=Ye(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(u)&&c.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(c):t.indent.insertBefore(c,t.indent.firstElementChild),this.renderedIndentGuides.add(u,c),n.add(Yn(()=>this.renderedIndentGuides.delete(u,c))),s=u}t.indentGuidesDisposable=n}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,n=this.modelProvider();e.forEach(r=>{const s=n.getNodeLocation(r);try{const o=n.getParentNodeLocation(s);r.collapsible&&r.children.length>0&&!r.collapsed?t.add(r):o&&t.add(n.getNode(o))}catch{}}),this.activeIndentNodes.forEach(r=>{t.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.remove("active"))}),t.forEach(r=>{this.activeIndentNodes.has(r)||this.renderedIndentGuides.forEach(r,s=>s.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),ui(this.disposables)}}tR.DefaultIndent=8;class c7e{constructor(e,t,n){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new tt,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const s=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return s;let o;if(typeof s=="boolean"?o=s?1:0:iJ(s)?o=JM(s.visibility):o=s,o===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:Af.Default,visibility:!0};const n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(n)?n:[n];for(const s of r){const o=s&&s.toString();if(typeof o>"u")return{data:Af.Default,visibility:!0};const a=Ox(this._pattern,this._lowercasePattern,0,o,o.toLowerCase(),0,!0);if(a)return this._matchCount++,r.length===1?{data:a,visibility:!0}:{data:{label:o,score:a},visibility:!0}}return this.tree.options.filterOnType?2:{data:Af.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){ui(this.disposables)}}class d7e{constructor(e,t,n,r,s){this.tree=e,this.view=n,this.filter=r,this.keyboardNavigationDelegate=s,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new ye,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new ye,this.enabledDisposables=new tt,this.disposables=new tt,this.domNode=Ye(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(Ze(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=We(n.getHTMLElement(),Ye(".monaco-list-type-filter-message")),this.labelDomNode=We(this.domNode,Ye("span.label"));const o=We(this.domNode,Ye(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=We(o,Ye("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(Ze(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=We(o,Ye("button.clear"+ve.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=C("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),typeof e.filterOnType<"u"&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=this.enabledDisposables.add(new Qi(this.view.getHTMLElement(),"keydown")),t=Bt.chain(e.event).filter(r=>!O1(r.target)||r.target===this.filterOnTypeDomNode).filter(r=>r.key!=="Dead"&&!/^Media/.test(r.key)).map(r=>new Ar(r)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(r=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(r)&&!(r.keyCode===18||r.keyCode===16||r.keyCode===15||r.keyCode===17)||(this.pattern.length>0||this.triggered)&&(r.keyCode===9||r.keyCode===1)&&!r.altKey&&!r.ctrlKey&&!r.metaKey||r.keyCode===1&&(Xn?r.altKey&&!r.metaKey:r.ctrlKey)&&!r.shiftKey).forEach(r=>{r.stopPropagation(),r.preventDefault()}).event,n=this.enabledDisposables.add(new Qi(this.clearDomNode,"click"));Bt.chain(Bt.any(t,n.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){typeof e=="string"?this.onInput(e):e instanceof MouseEvent||e.keyCode===9||e.keyCode===1&&(Xn?e.altKey:e.ctrlKey)?this.onInput(""):e.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,r=>!Af.isDefault(r.filterData));const n=this.tree.getFocus();if(n.length>0){const r=n[0];this.tree.getRelativeTop(r)===null&&this.tree.reveal(r,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=ca(e),n=e.clientWidth,r=n/2,s=this.domNode.clientWidth,o=new tt;let a=this.positionClassName;const u=()=>{switch(a){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${n-s-6}px`;break}},c=f=>{f.preventDefault();const p=f.clientX-t;f.dataTransfer&&(f.dataTransfer.dropEffect="none"),p<r?a="nw":a="ne",u()},h=()=>{this.positionClassName=a,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",ui(o)};u(),this.domNode.classList.remove(a),this.domNode.classList.add("dragging"),o.add(Yn(()=>this.domNode.classList.remove("dragging"))),o.add(Ze(document,"dragover",f=>c(f))),o.add(Ze(this.domNode,"dragend",()=>h())),Rp.CurrentDragAndDropData=new B5e("vscode-ui"),o.add(Yn(()=>Rp.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...ve.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...ve.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=C("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...ve.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...ve.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=C("enable filter on type","Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=C("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=C("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?""+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Af.isDefault(e.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),ui(this.disposables)}}function zse(i){let e=RO.Unknown;return Cie(i.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=RO.Twistie:Cie(i.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(e=RO.Element),{browserEvent:i.browserEvent,element:i.element?i.element.element:null,target:e}}function r8(i,e){e(i),i.children.forEach(t=>r8(t,e))}class L${constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new ye,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){var n;!(!((n=t)===null||n===void 0)&&n.__forceEvent)&&Nc(this.nodes,e)||this._set(e,!1,t)}_set(e,t,n){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const r=this;this._onDidChange.fire({get elements(){return r.get()},browserEvent:n})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const u=this.createNodeSet(),c=h=>u.delete(h);t.forEach(h=>r8(h,c)),this.set([...u.values()]);return}const n=new Set,r=u=>n.add(this.identityProvider.getId(u.element).toString());t.forEach(u=>r8(u,r));const s=new Map,o=u=>s.set(this.identityProvider.getId(u.element).toString(),u);e.forEach(u=>r8(u,o));const a=[];for(const u of this.nodes){const c=this.identityProvider.getId(u.element).toString();if(!n.has(c))a.push(u);else{const f=s.get(c);f&&a.push(f)}}if(this.nodes.length>0&&a.length===0){const u=this.getFirstViewElementWithTrait();u&&a.push(u)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class h7e extends d_e{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(O1(e.browserEvent.target)||gS(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const n=e.browserEvent.target,r=n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let s=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?s=this.tree.expandOnlyOnTwistieClick(t.element):s=!!this.tree.expandOnlyOnTwistieClick,s&&!r&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e);if(t.collapsible){const o=this.tree.model,a=o.getNodeLocation(t),u=e.browserEvent.altKey;if(this.tree.setFocus([a]),o.setCollapsed(a,void 0,u),s&&r)return}super.onViewPointer(e)}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(e)}}class f7e extends fp{constructor(e,t,n,r,s,o,a,u){super(e,t,n,r,u),this.focusTrait=s,this.selectionTrait=o,this.anchorTrait=a}createMouseController(e){return new h7e(this,e.tree)}splice(e,t,n=[]){if(super.splice(e,t,n),n.length===0)return;const r=[],s=[];let o;n.forEach((a,u)=>{this.focusTrait.has(a)&&r.push(e+u),this.selectionTrait.has(a)&&s.push(e+u),this.anchorTrait.has(a)&&(o=e+u)}),r.length>0&&super.setFocus(qC([...super.getFocus(),...r])),s.length>0&&super.setSelection(qC([...super.getSelection(),...s])),typeof o=="number"&&super.setAnchor(o)}setFocus(e,t,n=!1){super.setFocus(e,t),n||this.focusTrait.set(e.map(r=>this.element(r)),t)}setSelection(e,t,n=!1){super.setSelection(e,t),n||this.selectionTrait.set(e.map(r=>this.element(r)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class p_e{constructor(e,t,n,r,s={}){this._options=s,this.eventBufferer=new hX,this.disposables=new tt,this._onWillRefilter=new ye,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new ye;const o=new rJ(n),a=new mie,u=new mie,c=new u7e(u.event);this.renderers=r.map(p=>new tR(p,()=>this.model,a.event,c,s));for(let p of this.renderers)this.disposables.add(p);let h;s.keyboardNavigationLabelProvider&&(h=new c7e(this,s.keyboardNavigationLabelProvider,s.filter),s=Object.assign(Object.assign({},s),{filter:h}),this.disposables.add(h)),this.focus=new L$(()=>this.view.getFocusedElements()[0],s.identityProvider),this.selection=new L$(()=>this.view.getSelectedElements()[0],s.identityProvider),this.anchor=new L$(()=>this.view.getAnchorElement(),s.identityProvider),this.view=new f7e(e,t,o,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},l7e(()=>this.model,s)),{tree:this})),this.model=this.createModel(e,this.view,s),a.input=this.model.onDidChangeCollapseState;const f=Bt.forEach(this.model.onDidSplice,p=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(p),this.selection.onDidModelSplice(p)})});if(f(()=>null,null,this.disposables),u.input=Bt.chain(Bt.any(f,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const p=new Set;for(const m of this.focus.getNodes())p.add(m);for(const m of this.selection.getNodes())p.add(m);return[...p.values()]}).event,s.keyboardSupport!==!1){const p=Bt.chain(this.view.onKeyDown).filter(m=>!O1(m.target)).map(m=>new Ar(m));p.filter(m=>m.keyCode===15).on(this.onLeftArrow,this,this.disposables),p.filter(m=>m.keyCode===17).on(this.onRightArrow,this,this.disposables),p.filter(m=>m.keyCode===10).on(this.onSpace,this,this.disposables)}if(s.keyboardNavigationLabelProvider){const p=s.keyboardNavigationDelegate||l_e;this.typeFilterController=new d7e(this,this.model,this.view,h,p),this.focusNavigationFilter=m=>this.typeFilterController.shouldAllowFocus(m),this.disposables.add(this.typeFilterController)}this.styleElement=Pc(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===eR.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Bt.map(this.view.onMouseDblClick,zse)}get onPointer(){return Bt.map(this.view.onPointer,zse)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return Bt.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===eR.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,n=[];e.treeIndentGuidesStroke&&(n.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),n.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=n.join(`
`),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const n=e.map(s=>this.model.getNode(s));this.selection.set(n,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setSelection(r,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const n=e.map(s=>this.model.getNode(s));this.focus.set(n,t);const r=e.map(s=>this.model.getListIndex(s)).filter(s=>s>-1);this.view.setFocus(r,t,!0)}focusNext(e=1,t=!1,n,r=this.focusNavigationFilter){this.view.focusNext(e,t,n,r)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const n=this.model.getListIndex(e);n!==-1&&this.view.reveal(n,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return t===-1?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const n=t[0],r=this.model.getNodeLocation(n);if(!this.model.setCollapsed(r,!0)){const o=this.model.getParentNodeLocation(r);if(!o)return;const a=this.model.getListIndex(o);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const n=t[0],r=this.model.getNodeLocation(n);if(!this.model.setCollapsed(r,!1)){if(!n.children.some(u=>u.visible))return;const[o]=this.view.getFocus(),a=o+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const n=t[0],r=this.model.getNodeLocation(n),s=e.browserEvent.altKey;this.model.setCollapsed(r,void 0,s)}dispose(){ui(this.disposables),this.view.dispose()}}class sJ{constructor(e,t,n={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new s7e(e,t,null,n),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,n.sorter&&(this.sorter={compare(r,s){return n.sorter.compare(r.element,s.element)}}),this.identityProvider=n.identityProvider}setChildren(e,t=ri.empty(),n={}){const r=this.getElementLocation(e);this._setChildren(r,this.preserveCollapseState(t),n)}_setChildren(e,t=ri.empty(),n){const r=new Set,s=new Set,o=u=>{var c;if(u.element===null)return;const h=u;if(r.add(h.element),this.nodes.set(h.element,h),this.identityProvider){const f=this.identityProvider.getId(h.element).toString();s.add(f),this.nodesByIdentity.set(f,h)}(c=n.onDidCreateNode)===null||c===void 0||c.call(n,h)},a=u=>{var c;if(u.element===null)return;const h=u;if(r.has(h.element)||this.nodes.delete(h.element),this.identityProvider){const f=this.identityProvider.getId(h.element).toString();s.has(f)||this.nodesByIdentity.delete(f)}(c=n.onDidDeleteNode)===null||c===void 0||c.call(n,h)};this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},n),{onDidCreateNode:o,onDidDeleteNode:a}))}preserveCollapseState(e=ri.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),ri.map(e,t=>{let n=this.nodes.get(t.element);if(!n&&this.identityProvider){const o=this.identityProvider.getId(t.element).toString();n=this.nodesByIdentity.get(o)}if(!n)return Object.assign(Object.assign({},t),{children:this.preserveCollapseState(t.children)});const r=typeof t.collapsible=="boolean"?t.collapsible:n.collapsible,s=typeof t.collapsed<"u"?t.collapsed:n.collapsed;return Object.assign(Object.assign({},t),{collapsible:r,collapsed:s,children:this.preserveCollapseState(t.children)})})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const n=this.getElementLocation(e);return this.model.setCollapsible(n,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){const r=this.getElementLocation(e);return this.model.setCollapsed(r,t,n)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new xc(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new xc(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new xc(this.user,`Tree element not found: ${e}`);const n=this.model.getNodeLocation(t),r=this.model.getParentNodeLocation(n);return this.model.getNode(r).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new xc(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function s8(i){const e=[i.element],t=i.incompressible||!1;return{element:{elements:e,incompressible:t},children:ri.map(ri.from(i.children),s8),collapsible:i.collapsible,collapsed:i.collapsed}}function o8(i){const e=[i.element],t=i.incompressible||!1;let n,r;for(;[r,n]=ri.consume(ri.from(i.children),2),!(r.length!==1||r[0].incompressible);)i=r[0],e.push(i.element);return{element:{elements:e,incompressible:t},children:ri.map(ri.concat(r,n),o8),collapsible:i.collapsible,collapsed:i.collapsed}}function bq(i,e=0){let t;return e<i.element.elements.length-1?t=[bq(i,e+1)]:t=ri.map(ri.from(i.children),n=>bq(n,0)),e===0&&i.element.incompressible?{element:i.element.elements[e],children:t,incompressible:!0,collapsible:i.collapsible,collapsed:i.collapsed}:{element:i.element.elements[e],children:t,collapsible:i.collapsible,collapsed:i.collapsed}}function Use(i){return bq(i,0)}function m_e(i,e,t){return i.element===e?Object.assign(Object.assign({},i),{children:t}):Object.assign(Object.assign({},i),{children:ri.map(ri.from(i.children),n=>m_e(n,e,t))})}const g7e=i=>({getId(e){return e.elements.map(t=>i.getId(t).toString()).join("\0")}});class p7e{constructor(e,t,n={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new sJ(e,t,n),this.enabled=typeof n.compressionEnabled>"u"?!0:n.compressionEnabled,this.identityProvider=n.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=ri.empty(),n){const r=n.diffIdentityProvider&&g7e(n.diffIdentityProvider);if(e===null){const m=ri.map(t,this.enabled?o8:s8);this._setChildren(null,m,{diffIdentityProvider:r,diffDepth:1/0});return}const s=this.nodes.get(e);if(!s)throw new Error("Unknown compressed tree node");const o=this.model.getNode(s),a=this.model.getParentNodeLocation(s),u=this.model.getNode(a),c=Use(o),h=m_e(c,e,t),f=(this.enabled?o8:s8)(h),p=u.children.map(m=>m===o?f:m);this._setChildren(u.element,p,{diffIdentityProvider:r,diffDepth:o.depth-u.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const n=this.model.getNode().children,r=ri.map(n,Use),s=ri.map(r,e?o8:s8);this._setChildren(null,s,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,n){const r=new Set,s=a=>{for(const u of a.element.elements)r.add(u),this.nodes.set(u,a.element)},o=a=>{for(const u of a.element.elements)r.has(u)||this.nodes.delete(u)};this.model.setChildren(e,t,Object.assign(Object.assign({},n),{onDidCreateNode:s,onDidDeleteNode:o}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),n=this.model.getParentNodeLocation(t);return n===null?null:n.elements[n.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const n=this.getCompressedNode(e);return this.model.setCollapsible(n,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){const r=this.getCompressedNode(e);return this.model.setCollapsed(r,t,n)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new xc(this.user,`Tree element not found: ${e}`);return t}}const m7e=i=>i[i.length-1];class oJ{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new oJ(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function _7e(i,e){return{splice(t,n,r){e.splice(t,n,r.map(s=>i.map(s)))},updateElementHeight(t,n){e.updateElementHeight(t,n)}}}function v7e(i,e){return Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(i(t))}},sorter:e.sorter&&{compare(t,n){return e.sorter.compare(t.elements[0],n.elements[0])}},filter:e.filter&&{filter(t,n){return e.filter.filter(i(t),n)}}})}class b7e{constructor(e,t,n={}){this.rootRef=null,this.elementMapper=n.elementMapper||m7e;const r=s=>this.elementMapper(s.elements);this.nodeMapper=new nJ(s=>new oJ(r,s)),this.model=new p7e(e,_7e(this.nodeMapper,t),v7e(r,n))}get onDidSplice(){return Bt.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(n=>this.nodeMapper.map(n)),deletedNodes:t.map(n=>this.nodeMapper.map(n))}))}get onDidChangeCollapseState(){return Bt.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return Bt.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=ri.empty(),n={}){this.model.setChildren(e,t,n)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,n){return this.model.setCollapsed(e,t,n)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var C7e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};class aJ extends p_e{constructor(e,t,n,r,s={}){super(e,t,n,r,s)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=ri.empty(),n){this.model.setChildren(e,t,n)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,n){return new sJ(e,t,n)}}class __e{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,n,r){const s=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);s.element.elements.length===1?(n.compressedTreeNode=void 0,this.renderer.renderElement(e,t,n.data,r)):(n.compressedTreeNode=s,this.renderer.renderCompressedElements(s,t,n.data,r))}disposeElement(e,t,n,r){n.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(n.compressedTreeNode,t,n.data,r):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,n.data,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}C7e([zs],__e.prototype,"compressedTreeNodeProvider",null);function y7e(i,e){return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let n;try{n=i().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return n.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}class v_e extends aJ{constructor(e,t,n,r,s={}){const o=()=>this,a=r.map(u=>new __e(o,u));super(e,t,n,a,y7e(o,s))}setChildren(e,t=ri.empty(),n){this.model.setChildren(e,t,n)}createModel(e,t,n){return new b7e(e,t,n)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var h0=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function D$(i){return Object.assign(Object.assign({},i),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function Cq(i,e){return e.parent?e.parent===i?!0:Cq(i,e.parent):!1}function w7e(i,e){return i===e||Cq(i,e)||Cq(e,i)}class lJ{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new lJ(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class S7e{constructor(e,t,n){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,r){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...ve.treeItemLoading.classNamesArray),!0):(t.classList.remove(...ve.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,n,r){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,n.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function jse(i){return{browserEvent:i.browserEvent,elements:i.elements.map(e=>e.element)}}function Kse(i){return{browserEvent:i.browserEvent,element:i.element&&i.element.element,target:i.target}}class x7e extends a3{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function T$(i){return i instanceof a3?new x7e(i):i}class E7e{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(n=>n.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(T$(e),t)}onDragOver(e,t,n,r,s=!0){return this.dnd.onDragOver(T$(e),t&&t.element,n,r)}drop(e,t,n,r){this.dnd.drop(T$(e),t&&t.element,n,r)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function b_e(i){return i&&Object.assign(Object.assign({},i),{collapseByDefault:!0,identityProvider:i.identityProvider&&{getId(e){return i.identityProvider.getId(e.element)}},dnd:i.dnd&&new E7e(i.dnd),multipleSelectionController:i.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return i.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent(e){return i.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:i.accessibilityProvider&&Object.assign(Object.assign({},i.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:i.accessibilityProvider.getRole?e=>i.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:i.accessibilityProvider.isChecked?e=>{var t;return!!(!((t=i.accessibilityProvider)===null||t===void 0)&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return i.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return i.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:i.accessibilityProvider.getWidgetRole?()=>i.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:i.accessibilityProvider.getAriaLevel&&(e=>i.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:i.accessibilityProvider.getActiveDescendantId&&(e=>i.accessibilityProvider.getActiveDescendantId(e.element))}),filter:i.filter&&{filter(e,t){return i.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},i.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(e){return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof i.expandOnlyOnTwistieClick>"u"?void 0:typeof i.expandOnlyOnTwistieClick!="function"?i.expandOnlyOnTwistieClick:e=>i.expandOnlyOnTwistieClick(e.element),additionalScrollHeight:i.additionalScrollHeight})}function yq(i,e){e(i),i.children.forEach(t=>yq(t,e))}class C_e{constructor(e,t,n,r,s,o={}){this.user=e,this.dataSource=s,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new ye,this._onDidChangeNodeSlowState=new ye,this.nodeMapper=new nJ(a=>new lJ(a)),this.disposables=new tt,this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=typeof o.autoExpandSingleChildren>"u"?!1:o.autoExpandSingleChildren,this.sorter=o.sorter,this.collapseByDefault=o.collapseByDefault,this.tree=this.createTree(e,t,n,r,o),this.root=D$({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return Bt.map(this.tree.onDidChangeFocus,jse)}get onDidChangeSelection(){return Bt.map(this.tree.onDidChangeSelection,jse)}get onMouseDblClick(){return Bt.map(this.tree.onMouseDblClick,Kse)}get onPointer(){return Bt.map(this.tree.onPointer,Kse)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,n,r,s){const o=new rJ(n),a=r.map(c=>new S7e(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),u=b_e(s)||{};return new aJ(e,t,o,a,u)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return h0(this,void 0,void 0,function*(){this.refreshPromises.forEach(r=>r.cancel()),this.refreshPromises.clear(),this.root.element=e;const n=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,n),n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,n=!1,r,s){return h0(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new xc(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Bt.toPromise(this._onDidRender.event));const o=this.getDataNode(e);if(yield this.refreshAndRenderNode(o,t,r,s),n)try{this.tree.rerender(o)}catch{}})}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),n=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(n)}collapse(e,t=!1){const n=this.getDataNode(e);return this.tree.collapse(n===this.root?null:n,t)}expand(e,t=!1){return h0(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new xc(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Bt.toPromise(this._onDidRender.event));const n=this.getDataNode(e);if(this.tree.hasElement(n)&&!this.tree.isCollapsible(n)||(n.refreshPromise&&(yield this.root.refreshPromise,yield Bt.toPromise(this._onDidRender.event)),n!==this.root&&!n.refreshPromise&&!this.tree.isCollapsed(n)))return!1;const r=this.tree.expand(n===this.root?null:n,t);return n.refreshPromise&&(yield this.root.refreshPromise,yield Bt.toPromise(this._onDidRender.event)),r})}setSelection(e,t){const n=e.map(r=>this.getDataNode(r));this.tree.setSelection(n,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const n=e.map(r=>this.getDataNode(r));this.tree.setFocus(n,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),n=this.tree.getFirstElementChild(t===this.root?null:t);return n&&n.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new xc(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,n,r){return h0(this,void 0,void 0,function*(){yield this.refreshNode(e,t,n),this.render(e,n,r)})}refreshNode(e,t,n){return h0(this,void 0,void 0,function*(){let r;return this.subTreeRefreshPromises.forEach((s,o)=>{!r&&w7e(o,e)&&(r=s.then(()=>this.refreshNode(e,t,n)))}),r||this.doRefreshSubTree(e,t,n)})}doRefreshSubTree(e,t,n){return h0(this,void 0,void 0,function*(){let r;e.refreshPromise=new Promise(s=>r=s),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const s=yield this.doRefreshNode(e,t,n);e.stale=!1,yield yj.settled(s.map(o=>this.doRefreshSubTree(o,t,n)))}finally{r()}})}doRefreshNode(e,t,n){return h0(this,void 0,void 0,function*(){e.hasChildren=!!this.dataSource.hasChildren(e.element);let r;if(!e.hasChildren)r=Promise.resolve(ri.empty());else{const s=y1(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},o=>null),r=this.doGetChildren(e).finally(()=>s.cancel())}try{const s=yield r;return this.setChildren(e,s,t,n)}catch(s){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),lp(s))return[];throw s}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=Do(()=>h0(this,void 0,void 0,function*(){const n=yield this.dataSource.getChildren(e.element);return this.processChildren(n)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(vn))}setChildren(e,t,n,r){const s=[...t];if(e.children.length===0&&s.length===0)return[];const o=new Map,a=new Map;for(const h of e.children)if(o.set(h.element,h),this.identityProvider){const f=this.tree.isCollapsed(h);a.set(h.id,{node:h,collapsed:f})}const u=[],c=s.map(h=>{const f=!!this.dataSource.hasChildren(h);if(!this.identityProvider){const b=D$({element:h,parent:e,hasChildren:f});return f&&this.collapseByDefault&&!this.collapseByDefault(h)&&(b.collapsedByDefault=!1,u.push(b)),b}const p=this.identityProvider.getId(h).toString(),m=a.get(p);if(m){const b=m.node;return o.delete(b.element),this.nodes.delete(b.element),this.nodes.set(h,b),b.element=h,b.hasChildren=f,n?m.collapsed?(b.children.forEach(S=>yq(S,x=>this.nodes.delete(x.element))),b.children.splice(0,b.children.length),b.stale=!0):u.push(b):f&&this.collapseByDefault&&!this.collapseByDefault(h)&&(b.collapsedByDefault=!1,u.push(b)),b}const v=D$({element:h,parent:e,id:p,hasChildren:f});return r&&r.viewState.focus&&r.viewState.focus.indexOf(p)>-1&&r.focus.push(v),r&&r.viewState.selection&&r.viewState.selection.indexOf(p)>-1&&r.selection.push(v),r&&r.viewState.expanded&&r.viewState.expanded.indexOf(p)>-1?u.push(v):f&&this.collapseByDefault&&!this.collapseByDefault(h)&&(v.collapsedByDefault=!1,u.push(v)),v});for(const h of o.values())yq(h,f=>this.nodes.delete(f.element));for(const h of c)this.nodes.set(h.element,h);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&u.length===0&&(c[0].collapsedByDefault=!1,u.push(c[0])),u}render(e,t,n){const r=e.children.map(o=>this.asTreeElement(o,t)),s=n&&Object.assign(Object.assign({},n),{diffIdentityProvider:n.diffIdentityProvider&&{getId(o){return n.diffIdentityProvider.getId(o.element)}}});this.tree.setChildren(e===this.root?null:e,r,s),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let n;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?n=!1:n=e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?ri.map(e.children,r=>this.asTreeElement(r,t)):[],collapsible:e.hasChildren,collapsed:n}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class uJ{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new uJ(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class L7e{constructor(e,t,n,r){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=n,this.onDidChangeTwistieState=r,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,r){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,r)}renderCompressedElements(e,t,n,r){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...ve.treeItemLoading.classNamesArray),!0):(t.classList.remove(...ve.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,n,r){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,n.templateData,r)}disposeCompressedElements(e,t,n,r){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=ui(this.disposables)}}function D7e(i){const e=i&&b_e(i);return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(t){return i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(n=>n.element))}})})}class T7e extends C_e{constructor(e,t,n,r,s,o,a={}){super(e,t,n,s,o,a),this.compressionDelegate=r,this.compressibleNodeMapper=new nJ(u=>new uJ(u)),this.filter=a.filter}createTree(e,t,n,r,s){const o=new rJ(n),a=r.map(c=>new L7e(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),u=D7e(s)||{};return new v_e(e,t,o,a,u)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const n=p=>this.identityProvider.getId(p).toString(),r=p=>{const m=new Set;for(const v of p){const b=this.tree.getCompressedTreeNode(v===this.root?null:v);if(b.element)for(const S of b.element.elements)m.add(n(S.element))}return m},s=r(this.tree.getSelection()),o=r(this.tree.getFocus());super.render(e,t);const a=this.getSelection();let u=!1;const c=this.getFocus();let h=!1;const f=p=>{const m=p.element;if(m)for(let v=0;v<m.elements.length;v++){const b=n(m.elements[v].element),S=m.elements[m.elements.length-1].element;s.has(b)&&a.indexOf(S)===-1&&(a.push(S),u=!0),o.has(b)&&c.indexOf(S)===-1&&(c.push(S),h=!0)}p.children.forEach(f)};f(this.tree.getCompressedTreeNode(e===this.root?null:e)),u&&this.setSelection(a),h&&this.setFocus(c)}processChildren(e){return this.filter&&(e=ri.filter(e,t=>{const n=this.filter.filter(t,1),r=I7e(n);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(e)}}function I7e(i){return typeof i=="boolean"?i?1:0:iJ(i)?JM(i.visibility):JM(i)}class k7e extends p_e{constructor(e,t,n,r,s,o={}){super(e,t,n,r,o),this.user=e,this.dataSource=s,this.identityProvider=o.identityProvider}createModel(e,t,n){return new sJ(e,t,n)}}const sW=new It("isWindows",Zo,C("isWindows","Whether the operating system is Windows")),N7e="inputFocus";var gp=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Mn=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const Kc=Ci("listService");let wq=class{constructor(e){this._themeService=e,this.disposables=new tt,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(e){var t,n;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)===null||t===void 0||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(n=this._lastFocusedWidget)===null||n===void 0||n.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const r=new h_e(Pc(),"");this.disposables.add(sy(r,this._themeService))}if(this.lists.some(r=>r.widget===e))throw new Error("Cannot register the same widget multiple times");const n={widget:e,extraContextKeys:t};return this.lists.push(n),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),e1(e.onDidFocus(()=>this.setLastFocusedList(e)),Yn(()=>this.lists.splice(this.lists.indexOf(n),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(r=>r!==n),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};wq=gp([Mn(0,Rr)],wq);const y_e=new It("listFocus",!0),oW=new It("listSupportsMultiselect",!0),w_e=bt.and(y_e,bt.not(N7e)),cJ=new It("listHasSelectionOrFocus",!1),dJ=new It("listDoubleSelection",!1),hJ=new It("listMultiSelection",!1),aW=new It("listSelectionNavigation",!1),A7e=new It("treeElementCanCollapse",!1),O7e=new It("treeElementHasParent",!1),M7e=new It("treeElementCanExpand",!1),R7e=new It("treeElementHasChild",!1),S_e="listAutomaticKeyboardNavigation";function lW(i,e){const t=i.createScoped(e.getHTMLElement());return y_e.bindTo(t),t}const Jy="workbench.list.multiSelectModifier",Sq="workbench.list.openMode",Oc="workbench.list.horizontalScrolling",D7="workbench.list.keyboardNavigation",fJ="workbench.list.automaticKeyboardNavigation",nR="workbench.tree.indent",T7="workbench.tree.renderIndentGuides",Wf="workbench.list.smoothScrolling",Qg="workbench.list.mouseWheelScrollSensitivity",Jg="workbench.list.fastScrollSensitivity",I7="workbench.tree.expandMode";function ep(i){return i.getValue(Jy)==="alt"}class P7e extends Me{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=ep(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(Jy)&&(this.useAltAsMultipleSelectionModifier=ep(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:u_e(e)}isSelectionRangeChangeEvent(e){return c_e(e)}}function uW(i,e,t){var n;const r=new tt;return[Object.assign(Object.assign({},i),{keyboardNavigationDelegate:{mightProducePrintableCharacter(o){return t.mightProducePrintableCharacter(o)}},smoothScrolling:!!e.getValue(Wf),mouseWheelScrollSensitivity:e.getValue(Qg),fastScrollSensitivity:e.getValue(Jg),multipleSelectionController:(n=i.multipleSelectionController)!==null&&n!==void 0?n:r.add(new P7e(e))}),r]}let xq=class extends fp{constructor(e,t,n,r,s,o,a,u,c,h){const f=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!c.getValue(Oc),[p,m]=uW(s,c,h);super(e,t,n,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},of(u.getColorTheme(),iW)),p),{horizontalScrolling:f})),this.disposables.add(m),this.contextKeyService=lW(o,this),this.themeService=u,this.listSupportsMultiSelect=oW.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),aW.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=cJ.bindTo(this.contextKeyService),this.listDoubleSelection=dJ.bindTo(this.contextKeyService),this.listMultiSelection=hJ.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ep(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const b=this.getSelection(),S=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(b.length>0||S.length>0),this.listMultiSelection.set(b.length>1),this.listDoubleSelection.set(b.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const b=this.getSelection(),S=this.getFocus();this.listHasSelectionOrFocus.set(b.length>0||S.length>0)})),this.disposables.add(c.onDidChangeConfiguration(b=>{b.affectsConfiguration(Jy)&&(this._useAltAsMultipleSelectionModifier=ep(c));let S={};if(b.affectsConfiguration(Oc)&&this.horizontalScrolling===void 0){const x=!!c.getValue(Oc);S=Object.assign(Object.assign({},S),{horizontalScrolling:x})}if(b.affectsConfiguration(Wf)){const x=!!c.getValue(Wf);S=Object.assign(Object.assign({},S),{smoothScrolling:x})}if(b.affectsConfiguration(Qg)){const x=c.getValue(Qg);S=Object.assign(Object.assign({},S),{mouseWheelScrollSensitivity:x})}if(b.affectsConfiguration(Jg)){const x=c.getValue(Jg);S=Object.assign(Object.assign({},S),{fastScrollSensitivity:x})}Object.keys(S).length>0&&this.updateOptions(S)})),this.navigator=new x_e(this,Object.assign({configurationService:c},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=sy(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),super.dispose()}};xq=gp([Mn(5,gn),Mn(6,Kc),Mn(7,Rr),Mn(8,cr),Mn(9,Or)],xq);let qse=class extends JFe{constructor(e,t,n,r,s,o,a,u,c,h){const f=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!c.getValue(Oc),[p,m]=uW(s,c,h);super(e,t,n,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},of(u.getColorTheme(),iW)),p),{horizontalScrolling:f})),this.disposables=new tt,this.disposables.add(m),this.contextKeyService=lW(o,this),this.themeService=u,this.horizontalScrolling=s.horizontalScrolling,this.listSupportsMultiSelect=oW.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),aW.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this._useAltAsMultipleSelectionModifier=ep(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),s.overrideStyles&&this.disposables.add(sy(this,u,s.overrideStyles)),this.disposables.add(c.onDidChangeConfiguration(b=>{b.affectsConfiguration(Jy)&&(this._useAltAsMultipleSelectionModifier=ep(c));let S={};if(b.affectsConfiguration(Oc)&&this.horizontalScrolling===void 0){const x=!!c.getValue(Oc);S=Object.assign(Object.assign({},S),{horizontalScrolling:x})}if(b.affectsConfiguration(Wf)){const x=!!c.getValue(Wf);S=Object.assign(Object.assign({},S),{smoothScrolling:x})}if(b.affectsConfiguration(Qg)){const x=c.getValue(Qg);S=Object.assign(Object.assign({},S),{mouseWheelScrollSensitivity:x})}if(b.affectsConfiguration(Jg)){const x=c.getValue(Jg);S=Object.assign(Object.assign({},S),{fastScrollSensitivity:x})}Object.keys(S).length>0&&this.updateOptions(S)})),this.navigator=new x_e(this,Object.assign({configurationService:c},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=sy(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};qse=gp([Mn(5,gn),Mn(6,Kc),Mn(7,Rr),Mn(8,cr),Mn(9,Or)],qse);let Gse=class extends rW{constructor(e,t,n,r,s,o,a,u,c,h,f){const p=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!h.getValue(Oc),[m,v]=uW(o,h,f);super(e,t,n,r,s,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},of(c.getColorTheme(),iW)),m),{horizontalScrolling:p})),this.disposables.add(v),this.contextKeyService=lW(a,this),this.themeService=c,this.listSupportsMultiSelect=oW.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),aW.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this.listHasSelectionOrFocus=cJ.bindTo(this.contextKeyService),this.listDoubleSelection=dJ.bindTo(this.contextKeyService),this.listMultiSelection=hJ.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ep(h),this.disposables.add(this.contextKeyService),this.disposables.add(u.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const S=this.getSelection(),x=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(S.length>0||x.length>0),this.listMultiSelection.set(S.length>1),this.listDoubleSelection.set(S.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const S=this.getSelection(),x=this.getFocus();this.listHasSelectionOrFocus.set(S.length>0||x.length>0)})),this.disposables.add(h.onDidChangeConfiguration(S=>{S.affectsConfiguration(Jy)&&(this._useAltAsMultipleSelectionModifier=ep(h));let x={};if(S.affectsConfiguration(Oc)&&this.horizontalScrolling===void 0){const w=!!h.getValue(Oc);x=Object.assign(Object.assign({},x),{horizontalScrolling:w})}if(S.affectsConfiguration(Wf)){const w=!!h.getValue(Wf);x=Object.assign(Object.assign({},x),{smoothScrolling:w})}if(S.affectsConfiguration(Qg)){const w=h.getValue(Qg);x=Object.assign(Object.assign({},x),{mouseWheelScrollSensitivity:w})}if(S.affectsConfiguration(Jg)){const w=h.getValue(Jg);x=Object.assign(Object.assign({},x),{fastScrollSensitivity:w})}Object.keys(x).length>0&&this.updateOptions(x)})),this.navigator=new F7e(this,Object.assign({configurationService:h},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=sy(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};Gse=gp([Mn(6,gn),Mn(7,Kc),Mn(8,Rr),Mn(9,cr),Mn(10,Or)],Gse);class gJ extends Me{constructor(e,t){var n;super(),this.widget=e,this._onDidOpen=this._register(new ye),this.onDidOpen=this._onDidOpen.event,this._register(Bt.filter(this.widget.onDidChangeSelection,r=>r.browserEvent instanceof KeyboardEvent)(r=>this.onSelectionFromKeyboard(r))),this._register(this.widget.onPointer(r=>this.onPointer(r.element,r.browserEvent))),this._register(this.widget.onMouseDblClick(r=>this.onMouseDblClick(r.element,r.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t!=null&&t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(Sq))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(Sq))!=="doubleClick"}))):this.openOnSingleClick=(n=t==null?void 0:t.openOnSingleClick)!==null&&n!==void 0?n:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,n=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,r=typeof t.pinned=="boolean"?t.pinned:!n,s=!1;this._open(this.getSelectedElement(),n,r,s,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const r=t.button===1,s=!0,o=r,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}onMouseDblClick(e,t){if(!t)return;const n=t.target;if(n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&t.offsetX<16)return;const s=!1,o=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}_open(e,t,n,r,s){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:n,revealIfVisible:!0},sideBySide:r,element:e,browserEvent:s})}}class x_e extends gJ{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class F7e extends gJ{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class B7e extends gJ{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}}function W7e(i,e){let t=!1;return n=>{if(t)return t=!1,!1;const r=e.softDispatch(n,i);return r&&r.enterChord?(t=!0,!1):(t=!1,!0)}}let Yse=class extends aJ{constructor(e,t,n,r,s,o,a,u,c,h,f){const{options:p,getAutomaticKeyboardNavigation:m,disposable:v}=u3(t,s,o,c,h,f);super(e,t,n,r,p),this.disposables.add(v),this.internals=new oy(this,s,m,s.overrideStyles,o,a,u,c,f),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Yse=gp([Mn(5,gn),Mn(6,Kc),Mn(7,Rr),Mn(8,cr),Mn(9,Or),Mn(10,Dl)],Yse);let Zse=class extends v_e{constructor(e,t,n,r,s,o,a,u,c,h,f){const{options:p,getAutomaticKeyboardNavigation:m,disposable:v}=u3(t,s,o,c,h,f);super(e,t,n,r,p),this.disposables.add(v),this.internals=new oy(this,s,m,s.overrideStyles,o,a,u,c,f),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Zse=gp([Mn(5,gn),Mn(6,Kc),Mn(7,Rr),Mn(8,cr),Mn(9,Or),Mn(10,Dl)],Zse);let Xse=class extends k7e{constructor(e,t,n,r,s,o,a,u,c,h,f,p){const{options:m,getAutomaticKeyboardNavigation:v,disposable:b}=u3(t,o,a,h,f,p);super(e,t,n,r,s,m),this.disposables.add(b),this.internals=new oy(this,o,v,o.overrideStyles,a,u,c,h,p),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Xse=gp([Mn(6,gn),Mn(7,Kc),Mn(8,Rr),Mn(9,cr),Mn(10,Or),Mn(11,Dl)],Xse);let Eq=class extends C_e{constructor(e,t,n,r,s,o,a,u,c,h,f,p){const{options:m,getAutomaticKeyboardNavigation:v,disposable:b}=u3(t,o,a,h,f,p);super(e,t,n,r,s,m),this.disposables.add(b),this.internals=new oy(this,o,v,o.overrideStyles,a,u,c,h,p),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Eq=gp([Mn(6,gn),Mn(7,Kc),Mn(8,Rr),Mn(9,cr),Mn(10,Or),Mn(11,Dl)],Eq);let Qse=class extends T7e{constructor(e,t,n,r,s,o,a,u,c,h,f,p,m){const{options:v,getAutomaticKeyboardNavigation:b,disposable:S}=u3(t,a,u,f,p,m);super(e,t,n,r,s,o,v),this.disposables.add(S),this.internals=new oy(this,a,b,a.overrideStyles,u,c,h,f,m),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Qse=gp([Mn(7,gn),Mn(8,Kc),Mn(9,Rr),Mn(10,cr),Mn(11,Or),Mn(12,Dl)],Qse);function u3(i,e,t,n,r,s){var o;const a=()=>{let v=!!t.getContextKeyValue(S_e);return v&&(v=!!n.getValue(fJ)),v},u=s.isScreenReaderOptimized(),c=e.simpleKeyboardNavigation||u?"simple":n.getValue(D7),h=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!n.getValue(Oc),[f,p]=uW(e,n,r),m=e.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:p,options:Object.assign(Object.assign({keyboardSupport:!1},f),{indent:typeof n.getValue(nR)=="number"?n.getValue(nR):void 0,renderIndentGuides:n.getValue(T7),smoothScrolling:!!n.getValue(Wf),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:c==="simple",filterOnType:c==="filter",horizontalScrolling:h,keyboardNavigationEventFilter:W7e(i,r),additionalScrollHeight:m,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(o=e.expandOnlyOnTwistieClick)!==null&&o!==void 0?o:n.getValue(I7)==="doubleClick"})}}let oy=class{constructor(e,t,n,r,s,o,a,u,c){this.tree=e,this.themeService=a,this.disposables=[],this.contextKeyService=lW(s,e),this.listSupportsMultiSelect=oW.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),aW.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.hasSelectionOrFocus=cJ.bindTo(this.contextKeyService),this.hasDoubleSelection=dJ.bindTo(this.contextKeyService),this.hasMultiSelection=hJ.bindTo(this.contextKeyService),this.treeElementCanCollapse=A7e.bindTo(this.contextKeyService),this.treeElementHasParent=O7e.bindTo(this.contextKeyService),this.treeElementCanExpand=M7e.bindTo(this.contextKeyService),this.treeElementHasChild=R7e.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ep(u);const f=new Set;f.add(S_e);const p=()=>{const b=c.isScreenReaderOptimized()?"simple":u.getValue(D7);e.updateOptions({simpleKeyboardNavigation:b==="simple",filterOnType:b==="filter"})};this.updateStyleOverrides(r);const m=()=>{const v=e.getFocus()[0];if(!v)return;const b=e.getNode(v);this.treeElementCanCollapse.set(b.collapsible&&!b.collapsed),this.treeElementHasParent.set(!!e.getParentElement(v)),this.treeElementCanExpand.set(b.collapsible&&b.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(v))};this.disposables.push(this.contextKeyService,o.register(e),e.onDidChangeSelection(()=>{const v=e.getSelection(),b=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(v.length>0||b.length>0),this.hasMultiSelection.set(v.length>1),this.hasDoubleSelection.set(v.length===2)})}),e.onDidChangeFocus(()=>{const v=e.getSelection(),b=e.getFocus();this.hasSelectionOrFocus.set(v.length>0||b.length>0),m()}),e.onDidChangeCollapseState(m),e.onDidChangeModel(m),u.onDidChangeConfiguration(v=>{let b={};if(v.affectsConfiguration(Jy)&&(this._useAltAsMultipleSelectionModifier=ep(u)),v.affectsConfiguration(nR)){const S=u.getValue(nR);b=Object.assign(Object.assign({},b),{indent:S})}if(v.affectsConfiguration(T7)){const S=u.getValue(T7);b=Object.assign(Object.assign({},b),{renderIndentGuides:S})}if(v.affectsConfiguration(Wf)){const S=!!u.getValue(Wf);b=Object.assign(Object.assign({},b),{smoothScrolling:S})}if(v.affectsConfiguration(D7)&&p(),v.affectsConfiguration(fJ)&&(b=Object.assign(Object.assign({},b),{automaticKeyboardNavigation:n()})),v.affectsConfiguration(Oc)&&t.horizontalScrolling===void 0){const S=!!u.getValue(Oc);b=Object.assign(Object.assign({},b),{horizontalScrolling:S})}if(v.affectsConfiguration(I7)&&t.expandOnlyOnTwistieClick===void 0&&(b=Object.assign(Object.assign({},b),{expandOnlyOnTwistieClick:u.getValue(I7)==="doubleClick"})),v.affectsConfiguration(Qg)){const S=u.getValue(Qg);b=Object.assign(Object.assign({},b),{mouseWheelScrollSensitivity:S})}if(v.affectsConfiguration(Jg)){const S=u.getValue(Jg);b=Object.assign(Object.assign({},b),{fastScrollSensitivity:S})}Object.keys(b).length>0&&e.updateOptions(b)}),this.contextKeyService.onDidChangeContext(v=>{v.affectsSome(f)&&e.updateOptions({automaticKeyboardNavigation:n()})}),c.onDidChangeScreenReaderOptimized(()=>p())),this.navigator=new B7e(e,Object.assign({configurationService:u},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){ui(this.styler),this.styler=e?sy(this.tree,this.themeService,e):Me.None}dispose(){this.disposables=ui(this.disposables),ui(this.styler),this.styler=void 0}};oy=gp([Mn(4,gn),Mn(5,Kc),Mn(6,Rr),Mn(7,cr),Mn(8,Dl)],oy);const V7e=ds.as(Ky.Configuration);V7e.registerConfiguration({id:"workbench",order:7,title:C("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Jy]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[C("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),C("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:C({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Sq]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:C({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Oc]:{type:"boolean",default:!1,description:C("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[nR]:{type:"number",default:8,minimum:0,maximum:40,description:C("tree indent setting","Controls tree indentation in pixels.")},[T7]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:C("render tree indent guides","Controls whether the tree should render indent guides.")},[Wf]:{type:"boolean",default:!1,description:C("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Qg]:{type:"number",default:1,description:C("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Jg]:{type:"number",default:5,description:C("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[D7]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[C("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),C("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),C("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:C("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[fJ]:{type:"boolean",default:!0,markdownDescription:C("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[I7]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:C("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});var Wr;(function(i){i[i.Hint=1]="Hint",i[i.Info=2]="Info",i[i.Warning=4]="Warning",i[i.Error=8]="Error"})(Wr||(Wr={}));(function(i){function e(o,a){return a-o}i.compare=e;const t=Object.create(null);t[i.Error]=C("sev.error","Error"),t[i.Warning]=C("sev.warning","Warning"),t[i.Info]=C("sev.info","Info");function n(o){return t[o]||""}i.toString=n;function r(o){switch(o){case is.Error:return i.Error;case is.Warning:return i.Warning;case is.Info:return i.Info;case is.Ignore:return i.Hint}}i.fromSeverity=r;function s(o){switch(o){case i.Error:return is.Error;case i.Warning:return is.Warning;case i.Info:return is.Info;case i.Hint:return is.Ignore}}i.toSeverity=s})(Wr||(Wr={}));var k7;(function(i){const e="";function t(r){return n(r,!0)}i.makeKey=t;function n(r,s){let o=[e];return r.source?o.push(r.source.replace("","\\")):o.push(e),r.code?typeof r.code=="string"?o.push(r.code.replace("","\\")):o.push(r.code.value.replace("","\\")):o.push(e),r.severity!==void 0&&r.severity!==null?o.push(Wr.toString(r.severity)):o.push(e),r.message&&s?o.push(r.message.replace("","\\")):o.push(e),r.startLineNumber!==void 0&&r.startLineNumber!==null?o.push(r.startLineNumber.toString()):o.push(e),r.startColumn!==void 0&&r.startColumn!==null?o.push(r.startColumn.toString()):o.push(e),r.endLineNumber!==void 0&&r.endLineNumber!==null?o.push(r.endLineNumber.toString()):o.push(e),r.endColumn!==void 0&&r.endColumn!==null?o.push(r.endColumn.toString()):o.push(e),o.push(e),o.join("")}i.makeKeyOptionalMessage=n})(k7||(k7={}));const c3=Ci("markerService");class H7e{constructor(){this._byResource=new ya,this._byOwner=new Map}set(e,t,n){let r=this._byResource.get(e);r||(r=new Map,this._byResource.set(e,r)),r.set(t,n);let s=this._byOwner.get(t);s||(s=new ya,this._byOwner.set(t,s)),s.set(e,n)}get(e,t){let n=this._byResource.get(e);return n==null?void 0:n.get(t)}delete(e,t){let n=!1,r=!1,s=this._byResource.get(e);s&&(n=s.delete(t));let o=this._byOwner.get(t);if(o&&(r=o.delete(e)),n!==r)throw new Error("illegal state");return n&&r}values(e){var t,n,r,s;return typeof e=="string"?(n=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&n!==void 0?n:ri.empty():an.isUri(e)?(s=(r=this._byResource.get(e))===null||r===void 0?void 0:r.values())!==null&&s!==void 0?s:ri.empty():ri.map(ri.concat(...this._byOwner.values()),o=>o[1])}}class $7e{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new ya,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const n=this._data.get(t);n&&this._substract(n);const r=this._resourceStats(t);this._add(r),this._data.set(t,r)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===On.inMemory||e.scheme===On.walkThrough||e.scheme===On.walkThroughSnippet)return t;for(const{severity:n}of this._service.read({resource:e}))n===Wr.Error?t.errors+=1:n===Wr.Warning?t.warnings+=1:n===Wr.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Mb{constructor(){this._onMarkerChanged=new F2e({delay:0,merge:Mb._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new H7e,this._stats=new $7e(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const n of t||[])this.changeOne(e,n,[])}changeOne(e,t,n){if(xge(n))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const r=[];for(const s of n){const o=Mb._toMarker(e,t,s);o&&r.push(o)}this._data.set(t,e,r),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,n){let{code:r,severity:s,message:o,source:a,startLineNumber:u,startColumn:c,endLineNumber:h,endColumn:f,relatedInformation:p,tags:m}=n;if(o)return u=u>0?u:1,c=c>0?c:1,h=h>=u?h:u,f=f>0?f:c,{resource:t,owner:e,code:r,severity:s,message:o,source:a,startLineNumber:u,startColumn:c,endLineNumber:h,endColumn:f,relatedInformation:p,tags:m}}read(e=Object.create(null)){let{owner:t,resource:n,severities:r,take:s}=e;if((!s||s<0)&&(s=-1),t&&n){const o=this._data.get(n,t);if(o){const a=[];for(const u of o)if(Mb._accept(u,r)){const c=a.push(u);if(s>0&&c===s)break}return a}else return[]}else if(!t&&!n){const o=[];for(let a of this._data.values())for(let u of a)if(Mb._accept(u,r)){const c=o.push(u);if(s>0&&c===s)return o}return o}else{const o=this._data.values(n??t),a=[];for(const u of o)for(const c of u)if(Mb._accept(c,r)){const h=a.push(c);if(s>0&&h===s)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new ya;for(let n of e)for(let r of n)t.set(r,!0);return Array.from(t.keys())}}var ZA=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})},mS;(function(i){i[i.None=0]="None",i[i.Initialized=1]="Initialized",i[i.Closed=2]="Closed"})(mS||(mS={}));class iR extends Me{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new ye),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=mS.None,this.cache=new Map,this.flushDelayer=new X2e(iR.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,n;(t=e.changed)===null||t===void 0||t.forEach((r,s)=>this.accept(s,r)),(n=e.deleted)===null||n===void 0||n.forEach(r=>this.accept(r,void 0))}accept(e,t){if(this.state===mS.Closed)return;let n=!1;Qu(t)?n=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),n=!0),n&&this._onDidChangeStorage.fire(e)}get(e,t){const n=this.cache.get(e);return Qu(n)?t:n}getBoolean(e,t){const n=this.get(e);return Qu(n)?t:n==="true"}getNumber(e,t){const n=this.get(e);return Qu(n)?t:parseInt(n,10)}set(e,t){return ZA(this,void 0,void 0,function*(){if(this.state===mS.Closed)return;if(Qu(t))return this.delete(e);const n=String(t);if(this.cache.get(e)!==n)return this.cache.set(e,n),this.pendingInserts.set(e,n),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}delete(e){return ZA(this,void 0,void 0,function*(){if(!(this.state===mS.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return ZA(this,void 0,void 0,function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(e){return ZA(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),e)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}iR.DEFAULT_FLUSH_DELAY=100;class Jse{constructor(){this.onDidChangeItemsExternal=Bt.None,this.items=new Map}updateItems(e){return ZA(this,void 0,void 0,function*(){e.insert&&e.insert.forEach((t,n)=>this.items.set(n,t)),e.delete&&e.delete.forEach(t=>this.items.delete(t))})}}const W5="__$__targetStorageMarker",pp=Ci("storageService");var N7;(function(i){i[i.NONE=0]="NONE",i[i.SHUTDOWN=1]="SHUTDOWN"})(N7||(N7={}));class cW extends Me{constructor(e={flushInterval:cW.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new cF),this._onDidChangeTarget=this._register(new cF),this._onWillSaveState=this._register(new ye),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===W5?(e===0?this._globalKeyTargets=void 0:e===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,n){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.get(e,n)}getBoolean(e,t,n){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getBoolean(e,n)}getNumber(e,t,n){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getNumber(e,n)}store(e,t,n,r){if(Qu(t)){this.remove(e,n);return}this.withPausedEmitters(()=>{var s;this.updateKeyTarget(e,n,r),(s=this.getStorage(n))===null||s===void 0||s.set(e,t)})}remove(e,t){this.withPausedEmitters(()=>{var n;this.updateKeyTarget(e,t,void 0),(n=this.getStorage(t))===null||n===void 0||n.delete(e)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,n){var r,s;const o=this.getKeyTargets(t);typeof n=="number"?o[e]!==n&&(o[e]=n,(r=this.getStorage(t))===null||r===void 0||r.set(W5,JSON.stringify(o))):typeof o[e]=="number"&&(delete o[e],(s=this.getStorage(t))===null||s===void 0||s.set(W5,JSON.stringify(o)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return e===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){const t=this.get(W5,e);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}}cW.DEFAULT_FLUSH_INTERVAL=60*1e3;class z7e extends cW{constructor(){super(),this.globalStorage=this._register(new iR(new Jse)),this.workspaceStorage=this._register(new iR(new Jse)),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.globalStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e)))}getStorage(e){return e===0?this.globalStorage:this.workspaceStorage}}var E_e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},a8=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let Lq=class{constructor(e){this._commandService=e}createMenu(e,t,n){return new Dq(e,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},n),this._commandService,t,this)}};Lq=E_e([a8(0,Vr)],Lq);let Dq=class Hw{constructor(e,t,n,r,s){this._id=e,this._options=t,this._commandService=n,this._contextKeyService=r,this._menuService=s,this._disposables=new tt,this._menuGroups=[],this._contextKeys=new Set,this._build();const o=new lr(()=>{this._build(),this._onDidChange.fire(this)},t.eventDebounceDelay);this._disposables.add(o),this._disposables.add(Sa.onDidChangeMenu(c=>{c.has(e)&&o.schedule()}));const a=this._disposables.add(new tt),u=()=>{const c=new lr(()=>this._onDidChange.fire(this),t.eventDebounceDelay);a.add(c),a.add(r.onDidChangeContext(h=>{h.affectsSome(this._contextKeys)&&c.schedule()}))};this._onDidChange=new ye({onFirstListenerAdd:u,onLastListenerRemove:a.clear.bind(a)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const e=Sa.getMenuItems(this._id);let t;e.sort(Hw._compareMenuItems);for(const n of e){const r=n.group||"";(!t||t[0]!==r)&&(t=[r,[]],this._menuGroups.push(t)),t[1].push(n),this._collectContextKeys(n)}}_collectContextKeys(e){if(Hw._fillInKbExprKeys(e.when,this._contextKeys),jA(e)){if(e.command.precondition&&Hw._fillInKbExprKeys(e.command.precondition,this._contextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;Hw._fillInKbExprKeys(t,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&Sa.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let n of this._menuGroups){const[r,s]=n,o=[];for(const a of s)if(this._contextKeyService.contextMatchesRules(a.when)){const u=jA(a)?new E1(a.command,a.alt,e,this._contextKeyService,this._commandService):new FX(a,this._menuService,this._contextKeyService,e);o.push(u)}o.length>0&&t.push([r,o])}return t}static _fillInKbExprKeys(e,t){if(e)for(let n of e.keys())t.add(n)}static _compareMenuItems(e,t){let n=e.group,r=t.group;if(n!==r){if(n){if(!r)return-1}else return 1;if(n==="navigation")return-1;if(r==="navigation")return 1;let a=n.localeCompare(r);if(a!==0)return a}let s=e.order||0,o=t.order||0;return s<o?-1:s>o?1:Hw._compareTitles(jA(e)?e.command.title:e.title,jA(t)?t.command.title:t.title)}static _compareTitles(e,t){const n=typeof e=="string"?e:e.original,r=typeof t=="string"?t:t.original;return n.localeCompare(r)}};Dq=E_e([a8(2,Vr),a8(3,gn),a8(4,Uy)],Dq);var U7e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},eoe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};class j7e extends Me{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(Yn(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const n=[...this._markersData.keys()];this._markersData.clear();const r=this.model.deltaDecorations(n,t);for(let s=0;s<r.length;s++)this._markersData.set(r[s],e[s]);return n.length!==0||r.length!==0}getMarker(e){return this._markersData.get(e.id)}}let Tq=class extends Me{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new ye),this._markerDecorations=new ya,e.getModels().forEach(n=>this._onModelAdded(n)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const n=this._markerDecorations.get(e);return n&&n.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const n=this._markerDecorations.get(t);n&&this._updateDecorations(n)})}_onModelAdded(e){const t=new j7e(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===On.inMemory||e.uri.scheme===On.internal||e.uri.scheme===On.vscode)&&this._markerService&&this._markerService.read({resource:e.uri}).map(n=>n.owner).forEach(n=>this._markerService.remove(n,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let n=t.map(r=>({range:this._createDecorationRange(e.model,r),options:this._createDecorationOption(r)}));e.update(t,n)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let n=Q.lift(t);return t.severity===Wr.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),e.validateRange(n)}_createDecorationOption(e){let t,n,r,s,o;switch(e.severity){case Wr.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",r=0;break;case Wr.Warning:t="squiggly-warning",n=Mr(N4e),r=20,o={color:Mr(nOe),position:Ul.Inline};break;case Wr.Info:t="squiggly-info",n=Mr(A4e),r=10;break;case Wr.Error:default:t="squiggly-error",n=Mr(k4e),r=30,o={color:Mr(tOe),position:Ul.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(s="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(s="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:n,position:ql.Right},minimap:o,zIndex:r,inlineClassName:s}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}};Tq=U7e([eoe(0,$s),eoe(1,c3)],Tq);var K7e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},toe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let Iq=class extends Me{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new ye,this._accessibilityModeEnabledContext=n3.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(r=>{r.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire())})),n(),this.onDidChangeScreenReaderOptimized(()=>n())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};Iq=K7e([toe(0,gn),toe(1,cr)],Iq);var V5=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class q7e{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return V5(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,e);return}try{return yield navigator.clipboard.writeText(e)}catch(s){console.error(s)}const n=document.activeElement,r=document.body.appendChild(Ye("textarea",{"aria-hidden":!0}));r.style.height="1px",r.style.width="1px",r.style.position="absolute",r.value=e,r.focus(),r.select(),document.execCommand("copy"),n instanceof HTMLElement&&n.focus(),document.body.removeChild(r)})}readText(e){return V5(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return V5(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return V5(this,void 0,void 0,function*(){this.findText=e})}}var G7e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},noe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},H5=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function $5(i){return i.scheme===On.file?i.fsPath:i.path}let L_e=0;class z5{constructor(e,t,n,r,s,o,a){this.id=++L_e,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=n,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class ioe{constructor(e,t){this.resourceLabel=e,this.reason=t}}class roe{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,r]of this.elements)(r.reason===0?e:t).push(r.resourceLabel);let n=[];return e.length>0&&n.push(C({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&n.push(C({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),n.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class Y7e{constructor(e,t,n,r,s,o,a){this.id=++L_e,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=n,this.groupId=r,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,n){this.removedResources||(this.removedResources=new roe),this.removedResources.has(t)||this.removedResources.set(t,new ioe(e,n))}setValid(e,t,n){n?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new roe),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new ioe(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class D_e{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const n of this._past)t(n.actual)&&this._setElementValidFlag(n,e);for(const n of this._future)t(n.actual)&&this._setElementValidFlag(n,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let n=0,r=this._past.length;n<r;n++)t.push(this._past[n].id);for(let n=this._future.length-1;n>=0;n--)t.push(this._future[n].id);return new Bpe(e,t)}restoreSnapshot(e){const t=e.elements.length;let n=!0,r=0,s=-1;for(let a=0,u=this._past.length;a<u;a++,r++){const c=this._past[a];n&&(r>=t||c.id!==e.elements[r])&&(n=!1,s=0),!n&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let o=-1;for(let a=this._future.length-1;a>=0;a--,r++){const u=this._future[a];n&&(r>=t||u.id!==e.elements[r])&&(n=!1,o=a),!n&&u.type===1&&u.removeResource(this.resourceLabel,this.strResource,0)}s!==-1&&(this._past=this._past.slice(0,s)),o!==-1&&(this._future=this._future.slice(o+1)),this.versionId++}getElements(){const e=[],t=[];for(const n of this._past)e.push(n.actual);for(const n of this._future)t.push(n.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let n=this._past.length-1;n>=0;n--)if(this._past[n]===e){t.has(this.strResource)?this._past[n]=t.get(this.strResource):this._past.splice(n,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let n=this._future.length-1;n>=0;n--)if(this._future[n]===e){t.has(this.strResource)?this._future[n]=t.get(this.strResource):this._future.splice(n,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class I${constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,n=this.editStacks.length;t<n;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const T_e=new D_e("","");T_e.locked=!0;let A7=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const n of this._editStacks)t.push(n[1].toString());console.log(t.join(`
`))}pushElement(e,t=Lx.None,n=wg.None){if(e.type===0){const r=$5(e.resource),s=this.getUriComparisonKey(e.resource);this._pushElement(new z5(e,r,s,t.id,t.nextOrder(),n.id,n.nextOrder()))}else{const r=new Set,s=[],o=[];for(const a of e.resources){const u=$5(a),c=this.getUriComparisonKey(a);r.has(c)||(r.add(c),s.push(u),o.push(c))}s.length===1?this._pushElement(new z5(e,s[0],o[0],t.id,t.nextOrder(),n.id,n.nextOrder())):this._pushElement(new Y7e(e,s,o,t.id,t.nextOrder(),n.id,n.nextOrder()))}}_pushElement(e){for(let t=0,n=e.strResources.length;t<n;t++){const r=e.resourceLabels[t],s=e.strResources[t];let o;this._editStacks.has(s)?o=this._editStacks.get(s):(o=new D_e(r,s),this._editStacks.set(s,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const n=this._editStacks.get(t);if(n.hasFutureElements())return null;const r=n.getClosestPastElement();return r?r.actual:null}return null}_splitPastWorkspaceElement(e,t){const n=e.actual.split(),r=new Map;for(const s of n){const o=$5(s.resource),a=this.getUriComparisonKey(s.resource),u=new z5(s,o,a,0,0,0,0);r.set(u.strResource,u)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitPastWorkspaceElement(e,r)}}_splitFutureWorkspaceElement(e,t){const n=e.actual.split(),r=new Map;for(const s of n){const o=$5(s.resource),a=this.getUriComparisonKey(s.resource),u=new z5(s,o,a,0,0,0,0);r.set(u.strResource,u)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitFutureWorkspaceElement(e,r)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,n){const r=this.getUriComparisonKey(e);this._editStacks.has(r)&&this._editStacks.get(r).setElementsValidFlag(t,n)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new Bpe(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const n=this._editStacks.get(t);n.restoreSnapshot(e),!n.hasPastElements()&&!n.hasFutureElements()&&(n.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,n=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.sourceId===e&&(!t||o.sourceOrder>t.sourceOrder)&&(t=o,n=r)}return[t,n]}canUndo(e){if(e instanceof wg){const[,n]=this._findClosestUndoElementWithSource(e.id);return!!n}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){vn(e);for(const n of t.strResources)this.removeElements(n);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,n,r,s){const o=this._acquireLocks(n);let a;try{a=t()}catch(u){return o(),r.dispose(),this._onError(u,e)}return a?a.then(()=>(o(),r.dispose(),s()),u=>(o(),r.dispose(),this._onError(u,e))):(o(),r.dispose(),s())}_invokeWorkspacePrepare(e){return H5(this,void 0,void 0,function*(){if(typeof e.actual.prepareUndoRedo>"u")return Me.None;const t=e.actual.prepareUndoRedo();return typeof t>"u"?Me.None:t})}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t(Me.None);const n=e.actual.prepareUndoRedo();return n?cX(n)?t(n):n.then(r=>t(r)):t(Me.None)}_getAffectedEditStacks(e){const t=[];for(const n of e.strResources)t.push(this._editStacks.get(n)||T_e);return new I$(t)}_tryToSplitAndUndo(e,t,n,r){if(t.canSplit())return this._splitPastWorkspaceElement(t,n),this._notificationService.warn(r),new U5(this._undo(e,0,!0));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new U5}_checkWorkspaceUndo(e,t,n,r){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,C({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,C({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of n.editStacks)a.getClosestPastElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndUndo(e,t,null,C({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of n.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndUndo(e,t,null,C({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):n.isValid()?null:this._tryToSplitAndUndo(e,t,null,C({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,n){const r=this._getAffectedEditStacks(t),s=this._checkWorkspaceUndo(e,t,r,!1);return s?s.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,r,n)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const n=t.getClosestPastElement();if(n){if(n===e){const r=t.getSecondClosestPastElement();if(r&&r.groupId===e.groupId)return!0}if(n.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,n,r){return H5(this,void 0,void 0,function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const a=yield this._dialogService.show(is.Info,C("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[C({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",n.editStacks.length),C("nok","Undo this File"),C("cancel","Cancel")],{cancelId:2});if(a.choice===2)return;if(a.choice===1)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const u=this._checkWorkspaceUndo(e,t,n,!1);if(u)return u.returnValue;r=!0}let s;try{s=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const o=this._checkWorkspaceUndo(e,t,n,!0);if(o)return s.dispose(),o.returnValue;for(const a of n.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),n,s,()=>this._continueUndoInGroup(t.groupId,r))})}_resourceUndo(e,t,n){if(!t.isValid){e.flushAllElements();return}if(e.locked){const r=C({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(r);return}return this._invokeResourcePrepare(t,r=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new I$([e]),r,()=>this._continueUndoInGroup(t.groupId,n))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,n=null;for(const[r,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.groupId===e&&(!t||o.groupOrder>t.groupOrder)&&(t=o,n=r)}return[t,n]}_continueUndoInGroup(e,t){if(!e)return;const[,n]=this._findClosestUndoElementInGroup(e);if(n)return this._undo(n,0,t)}undo(e){if(e instanceof wg){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,n){if(!this._editStacks.has(e))return;const r=this._editStacks.get(e),s=r.getClosestPastElement();if(!s)return;if(s.groupId){const[a,u]=this._findClosestUndoElementInGroup(s.groupId);if(s!==a&&u)return this._undo(u,t,n)}if((s.sourceId!==t||s.confirmBeforeUndo)&&!n)return this._confirmAndContinueUndo(e,t,s);try{return s.type===1?this._workspaceUndo(e,s,n):this._resourceUndo(r,s,n)}finally{}}_confirmAndContinueUndo(e,t,n){return H5(this,void 0,void 0,function*(){if((yield this._dialogService.show(is.Info,C("confirmDifferentSource","Would you like to undo '{0}'?",n.label),[C("confirmDifferentSource.yes","Yes"),C("cancel","Cancel")],{cancelId:1})).choice!==1)return this._undo(e,t,!0)})}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,n=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.sourceId===e&&(!t||o.sourceOrder<t.sourceOrder)&&(t=o,n=r)}return[t,n]}canRedo(e){if(e instanceof wg){const[,n]=this._findClosestRedoElementWithSource(e.id);return!!n}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,n,r){if(t.canSplit())return this._splitFutureWorkspaceElement(t,n),this._notificationService.warn(r),new U5(this._redo(e));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(r),new U5}_checkWorkspaceRedo(e,t,n,r){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,C({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,C({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of n.editStacks)a.getClosestFutureElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndRedo(e,t,null,C({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of n.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndRedo(e,t,null,C({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):n.isValid()?null:this._tryToSplitAndRedo(e,t,null,C({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const n=this._getAffectedEditStacks(t),r=this._checkWorkspaceRedo(e,t,n,!1);return r?r.returnValue:this._executeWorkspaceRedo(e,t,n)}_executeWorkspaceRedo(e,t,n){return H5(this,void 0,void 0,function*(){let r;try{r=yield this._invokeWorkspacePrepare(t)}catch(o){return this._onError(o,t)}const s=this._checkWorkspaceRedo(e,t,n,!0);if(s)return r.dispose(),s.returnValue;for(const o of n.editStacks)o.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),n,r,()=>this._continueRedoInGroup(t.groupId))})}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const n=C({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(n);return}return this._invokeResourcePrepare(t,n=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new I$([e]),n,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,n=null;for(const[r,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.groupId===e&&(!t||o.groupOrder<t.groupOrder)&&(t=o,n=r)}return[t,n]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof wg){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),n=t.getClosestFutureElement();if(n){if(n.groupId){const[r,s]=this._findClosestRedoElementInGroup(n.groupId);if(n!==r&&s)return this._redo(s)}try{return n.type===1?this._workspaceRedo(e,n):this._resourceRedo(t,n)}finally{}}}};A7=G7e([noe(0,s3),noe(1,Ts)],A7);class U5{constructor(e){this.returnValue=e}}Q1(QP,A7);const Z7e=new RegExp(`(\\\\)?\\$\\((${ml.iconNameExpression}(?:${ml.iconModifierExpression})?)\\)`,"g");function vC(i){const e=new Array;let t,n=0,r=0;for(;(t=Z7e.exec(i))!==null;){r=t.index||0,e.push(i.substring(n,r)),n=(t.index||0)+t[0].length;const[,s,o]=t;e.push(s?`$(${o})`:X7e({id:o}))}return n<i.length&&e.push(i.substring(n)),e}function X7e(i){const e=Ye("span");return e.classList.add(...ml.asClassNameArray(i)),e}const Q7e={buttonBackground:Se.fromHex("#0E639C"),buttonHoverBackground:Se.fromHex("#006BB3"),buttonForeground:Se.white};class soe extends Me{constructor(e,t){super(),this._onDidClick=this._register(new ye),this.options=t||Object.create(null),hp(this.options,Q7e,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(qi.addTarget(this._element)),[Ut.CLICK,mr.Tap].forEach(n=>{this._register(Ze(this._element,n,r=>{if(!this.enabled){Fi.stop(r);return}this._onDidClick.fire(r)}))}),this._register(Ze(this._element,Ut.KEY_DOWN,n=>{const r=new Ar(n);let s=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(n),s=!0):r.equals(9)&&(this._element.blur(),s=!0),s&&Fi.stop(r,!0)})),this._register(Ze(this._element,Ut.MOUSE_OVER,n=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(Ze(this._element,Ut.MOUSE_OUT,n=>{this.applyStyles()})),this.focusTracker=this._register(vx(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;this.options.secondary?e=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:e=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const n=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=n?"1px":"",this._element.style.borderStyle=n?"solid":"",this._element.style.borderColor=n}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?S1(this._element,...vC(e)):this._element.textContent=e,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}const J7e={badgeBackground:Se.fromHex("#4D4D4D"),badgeForeground:Se.fromHex("#FFFFFF")};class kq{constructor(e,t){this.count=0,this.options=t||Object.create(null),hp(this.options,J7e,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=We(e,Ye(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Dc(this.countFormat,this.count),this.element.title=Dc(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",n=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n}}}const ooe="done",aoe="active",k$="infinite",loe="discrete",e9e={progressBarBackground:Se.fromHex("#0E70C0")};class t9e extends Me{constructor(e,t){super(),this.options=t||Object.create(null),hp(this.options,e9e,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new lr(()=>Xu(this.element),0)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(aoe,k$,loe),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(ooe),this.element.classList.contains(k$)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(loe,ooe),this.element.classList.add(aoe,k$),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}class pJ{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const I_e=new pJ("id#");const N$={},n9e=new pJ("quick-input-button-icon-");function Nq(i){if(!i)return;let e;const t=i.dark.toString();return N$[t]?e=N$[t]:(e=n9e.nextId(),Lj(`.${e}`,`background-image: ${UC(i.light||i.dark)}`),Lj(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${UC(i.dark)}`),N$[t]=e),e}const i9e={ctrlCmd:!1,alt:!1};var rR;(function(i){i[i.Blur=1]="Blur",i[i.Gesture=2]="Gesture",i[i.Other=3]="Other"})(rR||(rR={}));var Jh;(function(i){i[i.NONE=0]="NONE",i[i.FIRST=1]="FIRST",i[i.SECOND=2]="SECOND",i[i.LAST=3]="LAST"})(Jh||(Jh={}));function r9e(i,e={}){const t=mJ(e);return t.textContent=i,t}function k_e(i,e={}){const t=mJ(e);return N_e(t,o9e(i,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function mJ(i){const e=i.inline?"span":"div",t=document.createElement(e);return i.className&&(t.className=i.className),t}class s9e{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function N_e(i,e,t,n){let r;if(e.type===2)r=document.createTextNode(e.content||"");else if(e.type===3)r=document.createElement("b");else if(e.type===4)r=document.createElement("i");else if(e.type===7&&n)r=document.createElement("code");else if(e.type===5&&t){const s=document.createElement("a");s.href="#",t.disposables.add(vo(s,"click",o=>{t.callback(String(e.index),o)})),r=s}else e.type===8?r=document.createElement("br"):e.type===1&&(r=i);r&&i!==r&&i.appendChild(r),r&&Array.isArray(e.children)&&e.children.forEach(s=>{N_e(r,s,t,n)})}function o9e(i,e){const t={type:1,children:[]};let n=0,r=t;const s=[],o=new s9e(i);for(;!o.eos();){let a=o.next();const u=a==="\\"&&Aq(o.peek(),e)!==0;if(u&&(a=o.next()),!u&&a9e(a,e)&&a===o.peek()){o.advance(),r.type===2&&(r=s.pop());const c=Aq(a,e);if(r.type===c||r.type===5&&c===6)r=s.pop();else{const h={type:c,children:[]};c===5&&(h.index=n,n++),r.children.push(h),s.push(r),r=h}}else if(a===`
`)r.type===2&&(r=s.pop()),r.children.push({type:8});else if(r.type!==2){const c={type:2,content:a};r.children.push(c),s.push(r),r=c}else r.content+=a}return r.type===2&&(r=s.pop()),t}function a9e(i,e){return Aq(i,e)!==0}function Aq(i,e){switch(i){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}class l9e{constructor(e,t=0,n=e.length,r=t-1){this.items=e,this.start=t,this.end=n,this.index=r}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class u9e{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new l9e(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const EA=Ye,c9e={inputBackground:Se.fromHex("#3C3C3C"),inputForeground:Se.fromHex("#CCCCCC"),inputValidationInfoBorder:Se.fromHex("#55AAFF"),inputValidationInfoBackground:Se.fromHex("#063B49"),inputValidationWarningBorder:Se.fromHex("#B89500"),inputValidationWarningBackground:Se.fromHex("#352A05"),inputValidationErrorBorder:Se.fromHex("#BE1100"),inputValidationErrorBackground:Se.fromHex("#5A1D1D")};class A_e extends hc{constructor(e,t,n){var r;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new ye),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new ye),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=n||Object.create(null),hp(this.options,c9e,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(r=this.options.tooltip)!==null&&r!==void 0?r:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=We(e,EA(".monaco-inputbox.idle"));let s=this.options.flexibleHeight?"textarea":"input",o=We(this.element,EA(".ibwrapper"));if(this.input=We(o,EA(s+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=We(o,EA("div.mirror")),this.mirror.innerText="",this.scrollableElement=new wQ(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),We(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(c=>this.input.scrollTop=c.scrollTop));const a=this._register(new Qi(document,"selectionchange")),u=Bt.filter(a.event,()=>{const c=document.getSelection();return(c==null?void 0:c.anchorNode)===o});this._register(u(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new Zg(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:Ej(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return rd(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){const n=parseFloat(this.mirror.style.paddingLeft||"")||0,r=parseFloat(this.mirror.style.paddingRight||"")||0;t=n+r}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,n=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:n})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const n=this.stylesForType(this.message.type);this.element.style.border=n.border?`1px solid ${n.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=rd(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:r=>{if(!this.message)return null;e=We(r,EA(".monaco-inputbox-container")),t();const s={inline:!0,className:"monaco-inputbox-message"},o=this.message.formatContent?k_e(this.message.content,s):r9e(this.message.content,s);o.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return o.style.backgroundColor=a.background?a.background.toString():"",o.style.color=a.foreground?a.foreground.toString():"",o.style.border=a.border?`1px solid ${a.border}`:"",We(e,o),null},onHide:()=>{this.state="closed"},layout:t});let n;this.message.type===3?n=C("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?n=C("alertWarningMessage","Warning: {0}",this.message.content):n=C("alertInfoMessage","Info: {0}",this.message.content),Ko(n),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,n=e.charCodeAt(e.length-1)===10?" ":"";(e+n).replace(/\u000c/g,"")?this.mirror.textContent=e+n:this.mirror.innerText="",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",n=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=Ej(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,n=t.selectionStart,r=t.selectionEnd,s=t.value;n!==null&&r!==null&&(this.value=s.substr(0,n)+e+s.substr(r),t.setSelectionRange(n+1,n+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class O_e extends A_e{constructor(e,t,n){const r=C({key:"history.inputbox.hint",comment:["Text will be prefixed with  plus a single space, then used as a hint where input field keeps history"]},"for history"),s=` or  ${r}`,o=` ( ${r})`;super(e,t,n),this.history=new u9e(n.history,100);const a=()=>{if(n.showHistoryHint&&n.showHistoryHint()&&!this.placeholder.endsWith(s)&&!this.placeholder.endsWith(o)&&this.history.getHistory().length){const u=this.placeholder.endsWith(")")?s:o,c=this.placeholder+u;n.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=c:this.setPlaceHolder(c)}};this.observer=new MutationObserver((u,c)=>{u.forEach(h=>{h.target.textContent||a()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>a()),this.onblur(this.input,()=>{const u=c=>{if(this.placeholder.endsWith(c)){const h=this.placeholder.slice(0,this.placeholder.length-c.length);return n.showPlaceholderOnFocus?this.placeholder=h:this.setPlaceHolder(h),!0}else return!1};u(o)||u(s)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,mF(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,mF(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}const d9e=Ye;class h9e extends Me{constructor(e){super(),this.parent=e,this.onKeyDown=t=>Ze(this.inputBox.inputElement,Ut.KEY_DOWN,n=>{t(new Ar(n))}),this.onMouseDown=t=>Ze(this.inputBox.inputElement,Ut.MOUSE_DOWN,n=>{t(new Lc(n))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=We(this.parent,d9e(".quick-input-box")),this.inputBox=this._register(new A_e(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return this.inputBox.inputElement.type==="password"}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===is.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===is.Info?1:e===is.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===is.Info?1:e===is.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}class ay{constructor(e,t){var n;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(n=t==null?void 0:t.supportIcons)!==null&&n!==void 0?n:!1,this.domNode=We(e,Ye("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],n="",r){e||(e=""),r&&(e=ay.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===n&&Td(this.highlights,t))&&(this.text=e,this.title=n,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const n of this.highlights){if(n.end===n.start)continue;if(t<n.start){const o=this.text.substring(t,n.start);e.push(Ye("span",void 0,...this.supportIcons?vC(o):[o])),t=n.end}const r=this.text.substring(n.start,n.end),s=Ye("span.highlight",void 0,...this.supportIcons?vC(r):[r]);n.extraClasses&&s.classList.add(...n.extraClasses),e.push(s),t=n.end}if(t<this.text.length){const n=this.text.substring(t);e.push(Ye("span",void 0,...this.supportIcons?vC(n):[n]))}S1(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let n=0,r=0;return e.replace(/\r\n|\r|\n/g,(s,o)=>{r=s===`\r
`?-1:0,o+=n;for(const a of t)a.end<=o||(a.start>=o&&(a.start+=r),a.end>=o&&(a.end+=r));return n+=r,""})}}class Tm{constructor(e="",t=!1){var n,r,s;if(this.value=e,typeof this.value!="string")throw Tf("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(n=t.isTrusted)!==null&&n!==void 0?n:void 0,this.supportThemeIcons=(r=t.supportThemeIcons)!==null&&r!==void 0?r:!1,this.supportHtml=(s=t.supportHtml)!==null&&s!==void 0?s:!1)}appendText(e,t=0){return this.value+=f9e(this.supportThemeIcons?fFe(e):e).replace(/([ \t]+)/g,(n,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}}function sR(i){return M_e(i)?!i.value:Array.isArray(i)?i.every(sR):!0}function M_e(i){return i instanceof Tm?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}function f9e(i){return i.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function A$(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function g9e(i){const e=[],t=i.split("|").map(r=>r.trim());i=t[0];const n=t[1];if(n){const r=/height=(\d+)/.exec(n),s=/width=(\d+)/.exec(n),o=r?r[1]:"",a=s?s[1]:"",u=isFinite(parseInt(a)),c=isFinite(parseInt(o));u&&e.push(`width="${a}"`),c&&e.push(`height="${o}"`)}return{href:i,dimensions:e}}var Oq=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function p9e(i,e){Fc(e)?i.title=e:e!=null&&e.markdownNotSupportedFallback?i.title=e.markdownNotSupportedFallback:i.removeAttribute("title")}class m9e{constructor(e,t,n){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=n}update(e,t){var n;return Oq(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let r;if(e===void 0||Fc(e)||e instanceof HTMLElement)r=e;else if(!CF(e.markdown))r=(n=e.markdown)!==null&&n!==void 0?n:e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(C("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new Ea;const s=this._cancellationTokenSource.token;if(r=yield e.markdown(s),this.isDisposed||s.isCancellationRequested)return}this.show(r,t)})}show(e,t){const n=this._hoverWidget;if(this.hasContent(e)){const r={content:e,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!n};this._hoverWidget=this.hoverDelegate.showHover(r,t)}n==null||n.dispose()}hasContent(e){return e?M_e(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)===null||e===void 0?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)===null||e===void 0||e.dispose(),(t=this._cancellationTokenSource)===null||t===void 0||t.dispose(!0),this._cancellationTokenSource=void 0}}function _9e(i,e,t){let n,r;const s=(h,f)=>{var p;h&&(r==null||r.dispose(),r=void 0),f&&(n==null||n.dispose(),n=void 0),(p=i.onDidHideHover)===null||p===void 0||p.call(i)},o=(h,f,p)=>new el(()=>Oq(this,void 0,void 0,function*(){(!r||r.isDisposed)&&(r=new m9e(i,p||e,h>0),yield r.update(t,f))}),h),a=()=>{if(n)return;const h=new tt,f=v=>s(!1,v.fromElement===e);h.add(Ze(e,Ut.MOUSE_LEAVE,f,!0));const p=()=>s(!0,!0);h.add(Ze(e,Ut.MOUSE_DOWN,p,!0));const m={targetElements:[e],dispose:()=>{}};if(i.placement===void 0||i.placement==="mouse"){const v=b=>m.x=b.x+10;h.add(Ze(e,Ut.MOUSE_MOVE,v,!0))}h.add(o(i.delay,!1,m)),n=h},u=Ze(e,Ut.MOUSE_OVER,a,!0);return{show:h=>{s(!1,!0),o(0,h)},hide:()=>{s(!0,!0)},update:h=>Oq(this,void 0,void 0,function*(){t=h,yield r==null?void 0:r.update(t)}),dispose:()=>{u.dispose(),s(!0,!0)}}}class O${constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class O7 extends Me{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new O$(We(e,Ye(".monaco-icon-label")))),this.labelContainer=We(this.domNode.element,Ye(".monaco-icon-label-container"));const n=We(this.labelContainer,Ye("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new O$(We(this.labelContainer,Ye("span.monaco-icon-description-container")))),t!=null&&t.supportHighlights||t!=null&&t.supportIcons?this.nameNode=new C9e(n,!!t.supportIcons):this.nameNode=new v9e(n),t!=null&&t.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new ay(We(this.descriptionContainer.element,Ye("span.label-description")),{supportIcons:!!t.supportIcons}):this.descriptionNodeFactory=()=>this._register(new O$(We(this.descriptionContainer.element,Ye("span.label-description")))),this.hoverDelegate=t==null?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,n){const r=["monaco-icon-label"];n&&(n.extraClasses&&r.push(...n.extraClasses),n.italic&&r.push("italic"),n.strikethrough&&r.push("strikethrough")),this.domNode.className=r.join(" "),this.setupHover(n!=null&&n.descriptionTitle?this.labelContainer:this.element,n==null?void 0:n.title),this.nameNode.setLabel(e,n),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof ay?(this.descriptionNode.set(t||"",n?n.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,n==null?void 0:n.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(n==null?void 0:n.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const n=this.customHovers.get(e);if(n&&(n.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(!this.hoverDelegate)p9e(e,t);else{const r=_9e(this.hoverDelegate,e,t);r&&this.customHovers.set(e,r)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class v9e{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Td(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=We(this.container,Ye("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let n=0;n<e.length;n++){const r=e[n],s=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${n}`;We(this.container,Ye("a.label-name",{id:s,"data-icon-label-count":e.length,"data-icon-label-index":n,role:"treeitem"},r)),n<e.length-1&&We(this.container,Ye("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function b9e(i,e,t){if(!t)return;let n=0;return i.map(r=>{const s={start:n,end:n+r.length},o=t.map(a=>sa.intersect(s,a)).filter(a=>!sa.isEmpty(a)).map(({start:a,end:u})=>({start:a-n,end:u-n}));return n=s.end+e.length,o})}class C9e{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&Td(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new ay(We(this.container,Ye("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const n=(t==null?void 0:t.separator)||"/",r=b9e(e,n,t==null?void 0:t.matches);for(let s=0;s<e.length;s++){const o=e[s],a=r?r[s]:void 0,u=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${s}`,c=Ye("a.label-name",{id:u,"data-icon-label-count":e.length,"data-icon-label-index":s,role:"treeitem"});new ay(We(this.container,c),{supportIcons:this.supportIcons}).set(o,a,void 0,t==null?void 0:t.labelEscapeNewLines),s<e.length-1&&We(c,Ye("span.label-separator",void 0,n))}}}}const j5=Ye;class _J{constructor(e,t,n){this.os=t,this.keyElements=new Set,this.options=n||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=We(e,j5(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&_J.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(We(this.domNode,j5("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){ro(this.domNode),this.keyElements.clear()}renderPart(e,t,n){const r=WQ.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,r.ctrlKey,!!(n!=null&&n.ctrlKey),r.separator),t.shiftKey&&this.renderKey(e,r.shiftKey,!!(n!=null&&n.shiftKey),r.separator),t.altKey&&this.renderKey(e,r.altKey,!!(n!=null&&n.altKey),r.separator),t.metaKey&&this.renderKey(e,r.metaKey,!!(n!=null&&n.metaKey),r.separator);const s=t.keyLabel;s&&this.renderKey(e,s,!!(n!=null&&n.keyCode),"")}renderKey(e,t,n,r){We(e,this.createKeyElement(t,n?".highlight":"")),r&&We(e,j5("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(e){We(e,this.createKeyElement(C("unbound","Unbound")))}createKeyElement(e,t=""){const n=j5("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(n),n}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=(e=this.labelBackground)===null||e===void 0?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&Td(e.firstPart,t.firstPart)&&Td(e.chordPart,t.chordPart)}}const uoe=new kS(()=>{const i=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:i,collatorIsNumeric:i.resolvedOptions().numeric}});function y9e(i,e,t=!1){const n=i||"",r=e||"",s=uoe.value.collator.compare(n,r);return uoe.value.collatorIsNumeric&&s===0&&n!==r?n<r?-1:1:s}function w9e(i,e,t){const n=i.toLowerCase(),r=e.toLowerCase(),s=S9e(i,e,t);if(s)return s;const o=n.endsWith(t),a=r.endsWith(t);if(o!==a)return o?-1:1;const u=y9e(n,r);return u!==0?u:n.localeCompare(r)}function S9e(i,e,t){const n=i.toLowerCase(),r=e.toLowerCase(),s=n.startsWith(t),o=r.startsWith(t);if(s!==o)return s?-1:1;if(s&&o){if(n.length<r.length)return-1;if(n.length>r.length)return 1}return 0}var R_e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},x9e=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const rg=Ye;class E9e{constructor(e){this.hidden=!1,this._onChecked=new ye,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class d3{get templateId(){return d3.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=We(e,rg(".quick-input-list-entry"));const n=We(t.entry,rg("label.quick-input-list-label"));t.toDisposeTemplate.push(vo(n,Ut.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=We(n,rg("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(vo(t.checkbox,Ut.CHANGE,c=>{t.element.checked=t.checkbox.checked}));const r=We(n,rg(".quick-input-list-rows")),s=We(r,rg(".quick-input-list-row")),o=We(r,rg(".quick-input-list-row"));t.label=new O7(s,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const a=We(s,rg(".quick-input-list-entry-keybinding"));t.keybinding=new _J(a,yc);const u=We(o,rg(".quick-input-list-label-meta"));return t.detail=new O7(u,{supportHighlights:!0,supportIcons:!0}),t.separator=We(t.entry,rg(".quick-input-list-separator")),t.actionBar=new Zg(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,n){n.toDisposeElement=ui(n.toDisposeElement),n.element=e,n.checkbox.checked=e.checked,n.toDisposeElement.push(e.onChecked(c=>n.checkbox.checked=c));const{labelHighlights:r,descriptionHighlights:s,detailHighlights:o}=e,a=Object.create(null);a.matches=r||[],a.descriptionTitle=e.saneDescription,a.descriptionMatches=s||[],a.extraClasses=e.item.iconClasses,a.italic=e.item.italic,a.strikethrough=e.item.strikethrough,n.label.setLabel(e.saneLabel,e.saneDescription,a),n.keybinding.set(e.item.keybinding),e.saneDetail&&n.detail.setLabel(e.saneDetail,void 0,{matches:o,title:e.saneDetail}),e.separator&&e.separator.label?(n.separator.textContent=e.separator.label,n.separator.style.display=""):n.separator.style.display="none",n.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),n.actionBar.clear();const u=e.item.buttons;u&&u.length?(n.actionBar.push(u.map((c,h)=>{let f=c.iconClass||(c.iconPath?Nq(c.iconPath):void 0);c.alwaysVisible&&(f=f?`${f} always-visible`:"always-visible");const p=new kc(`id-${h}`,"",f,!0,()=>x9e(this,void 0,void 0,function*(){e.fireButtonTriggered({button:c,item:e.item})}));return p.tooltip=c.tooltip||"",p}),{icon:!0,label:!1}),n.entry.classList.add("has-actions")):n.entry.classList.remove("has-actions")}disposeElement(e,t,n){n.toDisposeElement=ui(n.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=ui(e.toDisposeElement),e.toDisposeTemplate=ui(e.toDisposeTemplate)}}d3.ID="listelement";class L9e{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return d3.ID}}var Ss;(function(i){i[i.First=1]="First",i[i.Second=2]="Second",i[i.Last=3]="Last",i[i.Next=4]="Next",i[i.Previous=5]="Previous",i[i.NextPage=6]="NextPage",i[i.PreviousPage=7]="PreviousPage"})(Ss||(Ss={}));class vJ{constructor(e,t,n){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new ye,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new ye,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new ye,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new ye,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new ye,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new ye,this.onKeyDown=this._onKeyDown.event,this._onLeave=new ye,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=We(this.parent,rg(".quick-input-list"));const r=new L9e,s=new T9e;this.list=n.createList("QuickInput",this.container,r,[new d3],{identityProvider:{getId:o=>o.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:s}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(o=>{const a=new Ar(o);switch(a.keyCode){case 10:this.toggleCheckbox();break;case 31:(Xn?o.metaKey:o.ctrlKey)&&this.list.setFocus(ja(this.list.length));break;case 16:const u=this.list.getFocus();u.length===1&&u[0]===0&&this._onLeave.fire();break;case 18:const c=this.list.getFocus();c.length===1&&c[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(a)})),this.disposables.push(this.list.onMouseDown(o=>{o.browserEvent.button!==2&&o.browserEvent.preventDefault()})),this.disposables.push(Ze(this.container,Ut.CLICK,o=>{(o.x||o.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(o=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(o=>{typeof o.index=="number"&&(o.browserEvent.preventDefault(),this.list.setSelection([o.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Bt.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return Bt.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let n=0,r=e.length;n<r;n++){const s=e[n];if(!s.hidden)if(s.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0;const t=this.elements;for(let n=0,r=t.length;n<r;n++)t[n].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let n=0,r=t.length;n<r;n++)t[n].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=ui(this.elementDisposables);const t=n=>this.fireButtonTriggered(n);this.inputElements=e,this.elements=e.reduce((n,r,s)=>{var o,a,u;if(r.type!=="separator"){const c=s&&e[s-1],h=r.label&&r.label.replace(/\r?\n/g," "),f=r.meta&&r.meta.replace(/\r?\n/g," "),p=r.description&&r.description.replace(/\r?\n/g," "),m=r.detail&&r.detail.replace(/\r?\n/g," "),v=r.ariaLabel||[h,p,m].map(b=>WIe(b)).filter(b=>!!b).join(", ");n.push(new E9e({index:s,item:r,saneLabel:h,saneMeta:f,saneAriaLabel:v,saneDescription:p,saneDetail:m,labelHighlights:(o=r.highlights)===null||o===void 0?void 0:o.label,descriptionHighlights:(a=r.highlights)===null||a===void 0?void 0:a.description,detailHighlights:(u=r.highlights)===null||u===void 0?void 0:u.detail,checked:!1,separator:c&&c.type==="separator"?c:void 0,fireButtonTriggered:t}))}return n},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(n=>n.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((n,r,s)=>(n.set(r.item,s),n),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const n of e)t.add(n);for(const n of this.elements)n.checked=t.has(n.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===Ss.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=Ss.First),e===Ss.Previous&&this.list.getFocus()[0]===0&&(e=Ss.Last),e===Ss.Second&&this.list.length<2&&(e=Ss.First),e){case Ss.First:this.list.focusFirst();break;case Ss.Second:this.list.focusNth(1);break;case Ss.Last:this.list.focusLast();break;case Ss.Next:this.list.focusNext();break;case Ss.Previous:this.list.focusPrevious();break;case Ss.NextPage:this.list.focusNextPage();break;case Ss.PreviousPage:this.list.focusPreviousPage();break}const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${Math.floor(e/44)*44}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(n=>{n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!1;const r=n.index&&this.inputElements[n.index-1];n.separator=r&&r.type==="separator"?r:void 0});else{let n;this.elements.forEach(r=>{const s=this.matchOnLabel?Hl(B5(e,F5(r.saneLabel))):void 0,o=this.matchOnDescription?Hl(B5(e,F5(r.saneDescription||""))):void 0,a=this.matchOnDetail?Hl(B5(e,F5(r.saneDetail||""))):void 0,u=this.matchOnMeta?Hl(B5(e,F5(r.saneMeta||""))):void 0;if(s||o||a||u?(r.labelHighlights=s,r.descriptionHighlights=o,r.detailHighlights=a,r.hidden=!1):(r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=!r.item.alwaysShow),r.separator=void 0,!this.sortByLabel){const c=r.index&&this.inputElements[r.index-1];n=c&&c.type==="separator"?c:n,n&&!r.hidden&&(r.separator=n,n=void 0)}})}const t=this.elements.filter(n=>!n.hidden);if(this.sortByLabel&&e){const n=e.toLowerCase();t.sort((r,s)=>D9e(r,s,n))}return this.elementsToIndexes=t.reduce((n,r,s)=>(n.set(r.item,s),n),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const n of e)n.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=ui(this.elementDisposables),this.disposables=ui(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}R_e([zs],vJ.prototype,"onDidChangeFocus",null);R_e([zs],vJ.prototype,"onDidChangeSelection",null);function D9e(i,e,t){const n=i.labelHighlights||[],r=e.labelHighlights||[];return n.length&&!r.length?-1:!n.length&&r.length?1:n.length===0&&r.length===0?0:w9e(i.saneLabel,e.saneLabel,t)}class T9e{getWidgetAriaLabel(){return C("quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var coe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const Uu=Ye,Mq={iconClass:ve.quickInputBack.classNames,tooltip:C("quickInput.back","Back"),handle:-1};class dW extends Me{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=dW.noPromptMessage,this._severity=is.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new ye),this.onDidHideEmitter=this._register(new ye),this.onDisposeEmitter=this._register(new ye),this.visibleDisposables=this._register(new tt),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!zg;this._ignoreFocusOut=e&&!zg,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=rR.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new el,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const r=this.buttons.filter(o=>o===Mq);this.ui.leftActionBar.push(r.map((o,a)=>{const u=new kc(`id-${a}`,"",o.iconClass||Nq(o.iconPath),!0,()=>coe(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(o)}));return u.tooltip=o.tooltip||"",u}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const s=this.buttons.filter(o=>o!==Mq);this.ui.rightActionBar.push(s.map((o,a)=>{const u=new kc(`id-${a}`,"",o.iconClass||Nq(o.iconPath),!0,()=>coe(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(o)}));return u.tooltip=o.tooltip||"",u}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const n=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==n&&(this._lastValidationMessage=n,S1(this.ui.message,...vC(n))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?C("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==is.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}dW.noPromptMessage=C("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class oR extends dW{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new ye),this.onWillAcceptEmitter=this._register(new ye),this.onDidAcceptEmitter=this._register(new ye),this.onDidCustomEmitter=this._register(new ye),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Jh.NONE:Jh.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new ye),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new ye),this.onDidTriggerItemButtonEmitter=this._register(new ye),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?i9e:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Ss.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{if(e===this.value)return;this._value=e,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(Ss.Next),this.canSelectMany&&this.ui.list.domFocus(),Fi.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Ss.Previous):this.ui.list.focus(Ss.Last),this.canSelectMany&&this.ui.list.domFocus(),Fi.stop(e,!0);break;case 12:this.ui.list.focus(Ss.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Fi.stop(e,!0);break;case 11:this.ui.list.focus(Ss.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Fi.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Ss.First),Fi.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Ss.Last),Fi.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Nc(e,this._activeItems,(t,n)=>t===n)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&Nc(e,this._selectedItems,(n,r)=>n===r)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&Nc(e,this._selectedItems,(t,n)=>t===n)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return Ze(this.ui.container,Ut.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Ar(e),n=t.keyCode;this._quickNavigate.keybindings.some(o=>{const[a,u]=o.getParts();return u?!1:a.shiftKey&&n===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a.altKey&&n===6||a.ctrlKey&&n===5||a.metaKey&&n===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);const n={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(n),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const r=this.ariaLabel||this.placeholder||oR.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==r&&(this.ui.inputBox.ariaLabel=r),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Jh.NONE:this._itemActivation=Jh.FIRST;break;case Jh.SECOND:this.ui.list.focus(Ss.Second),this._itemActivation=Jh.FIRST;break;case Jh.LAST:this.ui.list.focus(Ss.Last),this._itemActivation=Jh.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),n.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ss.First)),this.keepScrollPosition&&(this.scrollTop=e)}}oR.DEFAULT_ARIA_LABEL=C("quickInputBox.ariaLabel","Type to narrow down results.");class hW extends Me{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new ye),this.onDidCustomEmitter=this._register(new ye),this.onDidTriggerButtonEmitter=this._register(new ye),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new ye),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new ye),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=t=>{this.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,this.keyMods.alt=t.altKey};this._register(Ze(window,Ut.KEY_DOWN,e,!0)),this._register(Ze(window,Ut.KEY_UP,e,!0)),this._register(Ze(window,Ut.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=We(this.parentElement,Uu(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=Pc(e),n=We(e,Uu(".quick-input-titlebar")),r=this._register(new Zg(n));r.domNode.classList.add("quick-input-left-action-bar");const s=We(n,Uu(".quick-input-title")),o=this._register(new Zg(n));o.domNode.classList.add("quick-input-right-action-bar");const a=We(e,Uu(".quick-input-description")),u=We(e,Uu(".quick-input-header")),c=We(u,Uu("input.quick-input-check-all"));c.type="checkbox",this._register(vo(c,Ut.CHANGE,X=>{const $=c.checked;R.setAllVisibleChecked($)})),this._register(Ze(c,Ut.CLICK,X=>{(X.x||X.y)&&m.setFocus()}));const h=We(u,Uu(".quick-input-description")),f=We(u,Uu(".quick-input-and-message")),p=We(f,Uu(".quick-input-filter")),m=this._register(new h9e(p));m.setAttribute("aria-describedby",`${this.idPrefix}message`);const v=We(p,Uu(".quick-input-visible-count"));v.setAttribute("aria-live","polite"),v.setAttribute("aria-atomic","true");const b=new kq(v,{countFormat:C({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),S=We(p,Uu(".quick-input-count"));S.setAttribute("aria-live","polite");const x=new kq(S,{countFormat:C({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),w=We(u,Uu(".quick-input-action")),E=new soe(w);E.label=C("ok","OK"),this._register(E.onDidClick(X=>{this.onDidAcceptEmitter.fire()}));const N=We(u,Uu(".quick-input-action")),A=new soe(N);A.label=C("custom","Custom"),this._register(A.onDidClick(X=>{this.onDidCustomEmitter.fire()}));const H=We(f,Uu(`#${this.idPrefix}message.quick-input-message`)),R=this._register(new vJ(e,this.idPrefix+"list",this.options));this._register(R.onChangedAllVisibleChecked(X=>{c.checked=X})),this._register(R.onChangedVisibleCount(X=>{b.setCount(X)})),this._register(R.onChangedCheckedCount(X=>{x.setCount(X)})),this._register(R.onLeave(()=>{setTimeout(()=>{m.setFocus(),this.controller instanceof oR&&this.controller.canSelectMany&&R.clearFocus()},0)})),this._register(R.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const M=new t9e(e);M.getContainer().classList.add("quick-input-progress");const G=vx(e);return this._register(G),this._register(Ze(e,Ut.FOCUS,X=>{this.previousFocusElement=X.relatedTarget instanceof HTMLElement?X.relatedTarget:void 0},!0)),this._register(G.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(rR.Blur),this.previousFocusElement=void 0})),this._register(Ze(e,Ut.FOCUS,X=>{m.setFocus()})),this._register(Ze(e,Ut.KEY_DOWN,X=>{const $=new Ar(X);switch($.keyCode){case 3:Fi.stop(X,!0),this.onDidAcceptEmitter.fire();break;case 9:Fi.stop(X,!0),this.hide(rR.Gesture);break;case 2:if(!$.altKey&&!$.ctrlKey&&!$.metaKey){const I=[".action-label.codicon"];e.classList.contains("show-checkboxes")?I.push("input"):I.push("input[type=text]"),this.getUI().list.isDisplayed()&&I.push(".monaco-list");const O=e.querySelectorAll(I.join(", "));$.shiftKey&&$.target===O[0]?(Fi.stop(X,!0),O[O.length-1].focus()):!$.shiftKey&&$.target===O[O.length-1]&&(Fi.stop(X,!0),O[0].focus())}break}})),this.ui={container:e,styleSheet:t,leftActionBar:r,titleBar:n,title:s,description1:a,description2:h,rightActionBar:o,checkAll:c,filterContainer:p,inputBox:m,visibleCountContainer:v,visibleCount:b,countContainer:S,count:x,okContainer:w,ok:E,message:H,customButtonContainer:N,customButton:A,list:R,progressBar:M,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:X=>this.show(X),hide:()=>this.hide(),setVisibilities:X=>this.setVisibilities(X),setComboboxAccessibility:X=>this.setComboboxAccessibility(X),setEnabled:X=>this.setEnabled(X),setContextKey:X=>this.options.setContextKey(X)},this.updateStyles(),this.ui}pick(e,t={},n=$n.None){return new Promise((r,s)=>{let o=h=>{o=r,t.onKeyMods&&t.onKeyMods(a.keyMods),r(h)};if(n.isCancellationRequested){o(void 0);return}const a=this.createQuickPick();let u;const c=[a,a.onDidAccept(()=>{if(a.canSelectMany)o(a.selectedItems.slice()),a.hide();else{const h=a.activeItems[0];h&&(o(h),a.hide())}}),a.onDidChangeActive(h=>{const f=h[0];f&&t.onDidFocus&&t.onDidFocus(f)}),a.onDidChangeSelection(h=>{if(!a.canSelectMany){const f=h[0];f&&(o(f),a.hide())}}),a.onDidTriggerItemButton(h=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},h),{removeItem:()=>{const f=a.items.indexOf(h.item);if(f!==-1){const p=a.items.slice(),m=p.splice(f,1),v=a.activeItems.filter(S=>S!==m[0]),b=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=p,v&&(a.activeItems=v),a.keepScrollPosition=b}}}))),a.onDidChangeValue(h=>{u&&!h&&(a.activeItems.length!==1||a.activeItems[0]!==u)&&(a.activeItems=[u])}),n.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{ui(c),o(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.autoFocusOnList=t.autoFocusOnList===void 0||t.autoFocusOnList,a.quickNavigate=t.quickNavigate,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([h,f])=>{u=f,a.busy=!1,a.items=h,a.canSelectMany&&(a.selectedItems=h.filter(p=>p.type!=="separator"&&p.picked)),u&&(a.activeItems=[u])}),a.show(),Promise.resolve(e).then(void 0,h=>{s(h),a.hide()})})}createQuickPick(){const e=this.getUI();return new oR(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const n=this.controller;this.controller=e,n&&n.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(is.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),S1(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const r=this.options.backKeybindingLabel();Mq.tooltip=r?C("quickInput.backWithKeybinding","Back ({0})",r):C("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const n=this.controller;if(n){const r=!(!((t=this.ui)===null||t===void 0)&&t.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!r){let s=this.previousFocusElement;for(;s&&!s.offsetParent;)s=Hl(s.parentElement);s!=null&&s.offsetParent?(s.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}n.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,hW.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:n,contrastBorder:r,widgetShadow:s}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=n?n.toString():"",this.ui.container.style.border=r?`1px solid ${r}`:"",this.ui.container.style.boxShadow=s?`0 0 8px 2px ${s}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const o=[];this.styles.list.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(o.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&o.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&o.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&o.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&o.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&o.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),o.push("}"));const a=o.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}}hW.MAX_WIDTH=600;var Rq;(function(i){i[i.PRESERVE=0]="PRESERVE",i[i.LAST=1]="LAST"})(Rq||(Rq={}));const nb={Quickaccess:"workbench.contributions.quickaccess"};let I9e=class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,n)=>n.prefix.length-t.prefix.length),Yn(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return DE([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(n=>e.startsWith(n.prefix))||void 0||this.defaultProvider}};ds.add(nb.Quickaccess,new I9e);const qc=Ci("quickInputService");var k9e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},doe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let Pq=class extends Me{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=ds.as(nb.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,n){var r;const[s,o]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,u=a==null?void 0:a.descriptor;if(a&&o&&u===o){e!==o.prefix&&!(n!=null&&n.preserveValue)&&(a.picker.value=e),this.adjustValueSelection(a.picker,o,n);return}if(o&&!(n!=null&&n.preserveValue)){let m;if(a&&u&&u!==o){const v=a.value.substr(u.prefix.length);v&&(m=`${o.prefix}${v}`)}if(!m){const v=s==null?void 0:s.defaultFilterValue;v===Rq.LAST?m=this.lastAcceptedPickerValues.get(o):typeof v=="string"&&(m=`${o.prefix}${v}`)}typeof m=="string"&&(e=m)}const c=new tt,h=c.add(this.quickInputService.createQuickPick());h.value=e,this.adjustValueSelection(h,o,n),h.placeholder=o==null?void 0:o.placeholder,h.quickNavigate=n==null?void 0:n.quickNavigateConfiguration,h.hideInput=!!h.quickNavigate&&!a,(typeof(n==null?void 0:n.itemActivation)=="number"||n!=null&&n.quickNavigateConfiguration)&&(h.itemActivation=(r=n==null?void 0:n.itemActivation)!==null&&r!==void 0?r:Jh.SECOND),h.contextKey=o==null?void 0:o.contextKey,h.filterValue=m=>m.substring(o?o.prefix.length:0),o!=null&&o.placeholder&&(h.ariaLabel=o==null?void 0:o.placeholder);let f;t&&(f=new Nfe,c.add(xm(h.onWillAccept)(m=>{m.veto(),h.hide()}))),c.add(this.registerPickerListeners(h,s,o,e));const p=c.add(new Ea);if(s&&c.add(s.provide(h,p.token)),xm(h.onDidHide)(()=>{h.selectedItems.length===0&&p.cancel(),c.dispose(),f==null||f.complete(h.selectedItems.slice(0))}),h.show(),t)return f==null?void 0:f.p}adjustValueSelection(e,t,n){var r;let s;n!=null&&n.preserveValue?s=[e.value.length,e.value.length]:s=[(r=t==null?void 0:t.prefix.length)!==null&&r!==void 0?r:0,e.value.length],e.valueSelection=s}registerPickerListeners(e,t,n,r){const s=new tt,o=this.visibleQuickAccess={picker:e,descriptor:n,value:r};return s.add(Yn(()=>{o===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),s.add(e.onDidChangeValue(a=>{const[u]=this.getOrInstantiateProvider(a);u!==t?this.show(a,{preserveValue:!0}):o.value=a})),n&&s.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(n,e.value)})),s}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let n=this.mapProviderToDescriptor.get(t);return n||(n=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,n)),[n,t]}};Pq=k9e([doe(0,qc),doe(1,Rn)],Pq);var N9e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},LA=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let M7=class extends gke{constructor(e,t,n,r,s){super(n),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=r,this.layoutService=s,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Pq))),this._quickAccess}createController(e=this.layoutService,t){var n,r;const s={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),returnFocus:()=>e.focus(),createList:(a,u,c,h,f)=>this.instantiationService.createInstance(xq,a,u,c,h,f),styles:this.computeStyles()},o=this._register(new hW(Object.assign(Object.assign({},s),t)));return o.layout(e.dimension,(r=(n=e.offset)===null||n===void 0?void 0:n.top)!==null&&r!==void 0?r:0),this._register(e.onDidLayout(a=>{var u,c;return o.layout(a,(c=(u=e.offset)===null||u===void 0?void 0:u.top)!==null&&c!==void 0?c:0)})),this._register(o.onShow(()=>this.resetContextKeys())),this._register(o.onHide(()=>this.resetContextKeys())),o}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new It(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},n=$n.None){return this.controller.pick(e,t,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},of(this.theme,{quickInputBackground:Mie,quickInputForeground:eAe,quickInputTitleBackground:tAe,contrastBorder:Ds,widgetShadow:L1})),inputBox:of(this.theme,{inputForeground:UX,inputBackground:zX,inputBorder:jX,inputValidationInfoBackground:Vge,inputValidationInfoForeground:Hge,inputValidationInfoBorder:$ge,inputValidationWarningBackground:zge,inputValidationWarningForeground:Uge,inputValidationWarningBorder:jge,inputValidationErrorBackground:Kge,inputValidationErrorForeground:qge,inputValidationErrorBorder:Gge}),countBadge:of(this.theme,{badgeBackground:vO,badgeForeground:bO,badgeBorder:Ds}),button:of(this.theme,{buttonForeground:jNe,buttonBackground:Wj,buttonHoverBackground:KNe,buttonBorder:Ds}),progressBar:of(this.theme,{progressBarBackground:qNe}),keybindingLabel:of(this.theme,{keybindingLabelBackground:rAe,keybindingLabelForeground:sAe,keybindingLabelBorder:oAe,keybindingLabelBottomBorder:aAe,keybindingLabelShadow:L1}),list:of(this.theme,{listBackground:Mie,listInactiveFocusForeground:UAe,listInactiveSelectionIconForeground:jAe,listInactiveFocusBackground:U6,listFocusOutline:Sl,listInactiveFocusOutline:Sl,pickerGroupBorder:iAe,pickerGroupForeground:nAe})}}};M7=N9e([LA(0,Rn),LA(1,gn),LA(2,Rr),LA(3,Dl),LA(4,r3)],M7);var P_e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Rb=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let Fq=class extends M7{constructor(e,t,n,r,s,o){super(t,n,r,s,o),this.host=void 0;const a=Mx.get(e);this.host={_serviceBrand:void 0,get container(){return a.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};Fq=P_e([Rb(1,Rn),Rb(2,gn),Rb(3,Rr),Rb(4,Dl),Rb(5,r3)],Fq);let Bq=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const n=t=this.instantiationService.createInstance(Fq,e);this.mapEditorToService.set(e,t),xm(e.onDidDispose)(()=>{n.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},n=$n.None){return this.activeService.pick(e,t,n)}createQuickPick(){return this.activeService.createQuickPick()}};Bq=P_e([Rb(0,Rn),Rb(1,Mi)],Bq);class Mx{constructor(e){this.editor=e,this.widget=new fW(this.editor)}static get(e){return e.getContribution(Mx.ID)}dispose(){this.widget.dispose()}}Mx.ID="editor.controller.quickInput";class fW{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return fW.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}fW.ID="editor.contrib.quickInputWidget";Ri(Mx.ID,Mx);const F_e=Ci("workspaceTrustManagementService");var Ei;(function(i){const e=new WM;class t{constructor(u,c){this._serviceId=u,this._factory=c,this._value=null}get id(){return this._serviceId}get(u){if(!this._value){if(u&&(this._value=u[this._serviceId.toString()]),this._value||(this._value=this._factory(u)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");e.set(this._serviceId,this._value)}return this._value}}i.LazyStaticService=t;let n=[];function r(a,u){let c=new t(a,u);return n.push(c),c}function s(a){let u=new WM;for(const[h,f]of ARe())u.set(h,f);for(let h in a)a.hasOwnProperty(h)&&u.set(Ci(h),a[h]);n.forEach(h=>u.set(h.id,h.get(a)));let c=new x7(u,!0);return u.set(Rn,c),[u,c]}i.init=s,i.instantiationService=r(Rn,()=>new x7(e,!0));const o=new Ame;i.configurationService=r(cr,()=>o),i.resourceConfigurationService=r($Q,()=>new S6e(o)),i.resourcePropertiesService=r(Wme,()=>new pK(o)),i.contextService=r(Dme,()=>new XB),i.labelService=r(o3,()=>new L6e),i.telemetryService=r(up,()=>new x6e),i.dialogService=r(s3,()=>new y6e),i.notificationService=r(Ts,()=>new ZB),i.markerService=r(c3,()=>new Mb),i.modeService=r(ta,a=>new XM),i.standaloneThemeService=r(tb,()=>new V8e),i.logService=r(cp,()=>new Cke(new bke)),i.undoRedoService=r(QP,a=>new A7(i.dialogService.get(a),i.notificationService.get(a))),i.languageConfigurationService=r(XP,a=>new GF(i.configurationService.get(a),i.modeService.get(a))),i.modelService=r($s,a=>new C7(i.configurationService.get(a),i.resourcePropertiesService.get(a),i.standaloneThemeService.get(a),i.logService.get(a),i.undoRedoService.get(a),i.modeService.get(a),i.languageConfigurationService.get(a))),i.markerDecorationsService=r(EX,a=>new Tq(i.modelService.get(a),i.markerService.get(a))),i.contextKeyService=r(gn,a=>new lq(i.configurationService.get(a))),i.codeEditorService=r(Mi,a=>new _7(null,i.contextKeyService.get(a),i.standaloneThemeService.get(a))),i.editorProgressService=r(Pm,()=>new YB),i.storageService=r(pp,()=>new z7e),i.editorWorkerService=r(fc,a=>new rq(i.modelService.get(a),i.resourceConfigurationService.get(a),i.logService.get(a)))})(Ei||(Ei={}));class B_e extends Me{constructor(e,t){super();const[n,r]=Ei.init(t);this._serviceCollection=n,this._instantiationService=r;const s=this.get(cr),o=this.get(Ts),a=this.get(up),u=this.get(Rr),c=this.get(cp),h=this.get(gn);let f=(S,x)=>{let w=null;return t&&(w=t[S.toString()]),w||(w=x()),this._serviceCollection.set(S,w),w};f(Dl,()=>new Iq(h,s)),f(Kc,()=>new wq(u));let p=f(Vr,()=>new w6e(this._instantiationService)),m=f(Or,()=>this._register(new Nme(h,p,a,o,c,e))),v=f(r3,()=>new Ome(Ei.codeEditorService.get(Mi),e));f(qc,()=>new Bq(r,Ei.codeEditorService.get(Mi)));let b=f(Rm,()=>this._register(new mq(v)));f(eb,()=>new q7e),f(J1,()=>{const S=new pq(a,o,b,m,u);return S.configure({blockMouse:!1}),this._register(S)}),f(Uy,()=>new Lq(p)),f(FQ,()=>new E6e(Ei.modelService.get($s))),f(F_e,()=>new D6e)}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}var hoe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const Yl=Ci("openerService"),A9e=Object.freeze({_serviceBrand:void 0,registerOpener(){return Me.None},registerValidator(){return Me.None},registerExternalUriResolver(){return Me.None},setDefaultExternalOpener(){},registerExternalOpener(){return Me.None},open(){return hoe(this,void 0,void 0,function*(){return!1})},resolveExternalUri(i){return hoe(this,void 0,void 0,function*(){return{resolved:i,dispose(){}}})}});function W_e(i,e){return an.isUri(i)?UA(i.scheme,e):kX(i,e+":")}function foe(i,...e){return e.some(t=>W_e(i,t))}function Wq(i){let e=JSON.parse(i);return e=Vq(e),e}function Vq(i,e=0){if(!i||e>200)return i;if(typeof i=="object"){switch(i.$mid){case 1:return an.revive(i);case 2:return new RegExp(i.source,i.flags)}if(i instanceof IB||i instanceof Uint8Array)return i;if(Array.isArray(i))for(let t=0;t<i.length;++t)i[t]=Vq(i[t],e+1);else for(const t in i)Object.hasOwnProperty.call(i,t)&&(i[t]=Vq(i[t],e+1))}return i}var R7;(function(i){i[i.API=0]="API",i[i.USER=1]="USER"})(R7||(R7={}));var bJ=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},P7=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},Pb=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};let Hq=class{constructor(e){this._commandService=e}open(e,t){return Pb(this,void 0,void 0,function*(){if(!W_e(e,On.command))return!1;if(!(t!=null&&t.allowCommands))return!0;typeof e=="string"&&(e=an.parse(e));let n=[];try{n=Wq(decodeURIComponent(e.query))}catch{try{n=Wq(e.query)}catch{}}return Array.isArray(n)||(n=[n]),yield this._commandService.executeCommand(e.path,...n),!0})}};Hq=bJ([P7(0,Vr)],Hq);let $q=class{constructor(e){this._editorService=e}open(e,t){return Pb(this,void 0,void 0,function*(){typeof e=="string"&&(e=an.parse(e));let n;const r=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return r&&(n={startLineNumber:parseInt(r[1]),startColumn:r[2]?parseInt(r[2]):1},e=e.with({fragment:""})),e.scheme===On.file&&(e=iMe(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:n,context:t!=null&&t.fromUserGesture?R7.USER:R7.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};$q=bJ([P7(0,Mi)],$q);let F7=class{constructor(e,t){this._openers=new nc,this._validators=new nc,this._resolvers=new nc,this._resolvedUriTargets=new ya(n=>n.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new nc,this._defaultExternalOpener={openExternal:n=>Pb(this,void 0,void 0,function*(){return foe(n,On.http,On.https)?Zfe(n):window.location.href=n,!0})},this._openers.push({open:(n,r)=>Pb(this,void 0,void 0,function*(){return r!=null&&r.openExternal||foe(n,On.mailto,On.http,On.https,On.vsls)?(yield this._doOpenExternal(n,r),!0):!1})}),this._openers.push(new Hq(t)),this._openers.push(new $q(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var n;return Pb(this,void 0,void 0,function*(){const r=typeof e=="string"?an.parse(e):e,s=(n=this._resolvedUriTargets.get(r))!==null&&n!==void 0?n:e;for(const o of this._validators)if(!(yield o.shouldOpen(s)))return!1;for(const o of this._openers)if(yield o.open(e,t))return!0;return!1})}resolveExternalUri(e,t){return Pb(this,void 0,void 0,function*(){for(const n of this._resolvers)try{const r=yield n.resolveExternalUri(e,t);if(r)return this._resolvedUriTargets.has(r.resolved)||this._resolvedUriTargets.set(r.resolved,e),r}catch{}throw new Error("Could not resolve external URI: "+e.toString())})}_doOpenExternal(e,t){return Pb(this,void 0,void 0,function*(){const n=typeof e=="string"?an.parse(e):e;let r;try{r=(yield this.resolveExternalUri(n,t)).resolved}catch{r=n}let s;if(typeof e=="string"&&n.toString()===r.toString()?s=e:s=encodeURI(r.toString(!0)),t!=null&&t.allowContributedOpeners){const o=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(yield a.openExternal(s,{sourceUri:n,preferredOpenerId:o},$n.None))return!0}return this._defaultExternalOpener.openExternal(s,{sourceUri:n},$n.None)})}dispose(){this._validators.clear()}};F7=bJ([P7(0,Mi),P7(1,Vr)],F7);var O9e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},M9e=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let tp=class{constructor(){this.simpleEditorModelResolverService=null}initWorkspace(e){this._container=e,this._services=this.createStandaloneServices()}get container(){return this._container}get services(){return this._services}get commandService(){return this.services.get(Vr)}mergeEditorServices(e){if(e){const t=this.services;for(const n in e)n&&t.get(n)&&e[n]&&t.set(n,e[n])}}create(e,t,n){const r=this.services;this.mergeEditorServices(n),r.has(wl)||(this.simpleEditorModelResolverService=new p7(Ei.modelService.get()),r.set(wl,this.simpleEditorModelResolverService));const s=new GM(e,t,r,r.get(Rn),r.get(Mi),r.get(Vr),r.get(gn),r.get(Or),r.get(Rm),r.get(tb),r.get(Ts),r.get(cr),r.get(Dl),r.get($s),r.get(ta));return this.simpleEditorModelResolverService&&this.simpleEditorModelResolverService.setEditor(s),s}createStandaloneServices(){const e=new B_e(this.container),t=e.get(Rn);e.has(Yl)||e.set(Yl,new F7(e.get(Mi),e.get(Vr)));const n=t.createInstance(M7),r=new Ome(Ei.codeEditorService.get(Mi),this.container);return e.set(r3,r),e.set(qc,n),e}};tp=O9e([er(),M9e("design:paramtypes",[])],tp);const R9e=`${H9}-monaco-editor`;class CJ extends ge.PureComponent{constructor(e){super(e),this.monacoService=qe.resolve(tp)}componentDidMount(){var e;const{options:t={},override:n,editorInstanceRef:r}=this.props;this.monacoInstance||(this.monacoInstance=(e=this.monacoService)===null||e===void 0?void 0:e.create(this.monacoDom,t,n),r==null||r(this.monacoInstance))}componentDidUpdate(e){const{onChangeEditorProps:t}=this.props;!Nr.isEqual(e,this.props)&&(t==null||t(e,this.props))}render(){const{style:e}=this.props;let t={position:"relative",minHeight:"400px",height:"100%",width:"100%"};return t=e?Object.assign(t,e):t,re.createElement("div",{style:t,className:R9e,ref:n=>{this.monacoDom=n}})}}const h3=zn("scrollBar"),P9e=mt(h3,"wrapper"),yJ=mt(h3,"container"),V_e=mt(h3,"shadow"),gW=mt(h3,"track"),F9e=mt(h3,"thumb"),B9e=Cn(yJ,"horizontal"),W9e=Cn(yJ,"vertical"),V9e=Cn(gW,"hidden"),H9e=Cn(gW,"vertical"),$9e=Cn(gW,"horizontal"),z9e=Cn(V_e,"hidden");var Rx;(function(i){i.vertical="vertical",i.horizontal="horizontal"})(Rx||(Rx={}));function Yh(i){return i===Rx.vertical}function xw(i,e){const t=Yh(i)?"height":"width";if(!e)return t;const n=`${t.substring(0,1).toUpperCase()}${t.substring(1)}`;return`${e}${n}`}function K5(i,e){const t=Yh(i)?"top":"left";if(!e)return t;const n=`${t.substring(0,1).toUpperCase()}${t.substring(1)}`;return`${e}${n}`}const PE=ge.forwardRef(function({children:i,style:e,trackStyle:t,className:n,isShowShadow:r=!1,inactiveHidden:s=!0,direction:o=Rx.vertical,onScroll:a,onScrollStart:u,onScrollEnd:c},h){const[f,p]=ge.useState(.1),[m,v]=ge.useState(!0),[b,S]=ge.useState(!1),[x,w]=ge.useState(!1),E=ge.useRef(null),N=ge.useRef(null),A=ge.useRef(null),H=ge.useRef(null),R=ge.useRef({y:0,startOffset:0}),M=()=>{var q;return((q=N.current)===null||q===void 0?void 0:q[xw(o,"scroll")])||0},G=()=>{var q;return((q=E.current)===null||q===void 0?void 0:q[xw(o,"client")])||0},X=()=>{var q;return((q=E.current)===null||q===void 0?void 0:q[K5(o,"scroll")])||0},$=()=>{var q;return((q=A.current)===null||q===void 0?void 0:q.getBoundingClientRect()[xw(o)])||0},I=()=>{var q;return((q=H.current)===null||q===void 0?void 0:q.getBoundingClientRect()[xw(o)])||0},O=()=>{var q;return((q=H.current)===null||q===void 0?void 0:q[K5(o,"offset")])||0};ge.useImperativeHandle(h,()=>{var q;return{scrollTo:fe=>{if(B()&&typeof fe=="number"){const ne=fe/M()*$();j(fe),W(ne)}},scrollHeight:((q=E.current)===null||q===void 0?void 0:q.scrollHeight)||0}}),ge.useEffect(()=>{const q=new ResizeObserver(fe=>{for(const ne of fe){const Te=ne.contentRect[xw(o)],He=M();let ot=Te/He;Number.isNaN(ot)&&(ot=1);const Rt=X(),Re=Rt/He*$();j(Rt),W(Re),p(ot>1?1:ot)}});return q.observe(E.current),()=>{q.disconnect()}},[]),ge.useEffect(()=>{const q=new ResizeObserver(fe=>{for(const ne of fe){const Ce=M(),He=G()/Ce;p(He>1?1:He)}});return q.observe(N.current),()=>{q.disconnect()}},[]),ge.useEffect(()=>{var q;let fe=0;function ne(Ce){if(!B())return;Ce.preventDefault();const Te=X();fe?window.clearTimeout(fe):(u==null||u({scrollTop:Te},Ce),S(!0)),fe=window.setTimeout(()=>{c==null||c({scrollTop:Te},Ce),fe=0,S(!1)},150);const ot=5*(Ce[Yh(o)?"deltaY":"deltaX"]/10),Rt=Te/this[Yh(o)?"scrollHeight":"scrollWidth"]*$();W(Rt),j(Te+ot),a==null||a({scrollTop:Te},Ce)}return(q=E.current)===null||q===void 0||q.addEventListener("wheel",ne),()=>{var Ce;(Ce=E.current)===null||Ce===void 0||Ce.removeEventListener("wheel",ne)}},[]);const B=()=>M()>G(),W=q=>{const fe=$(),ne=I();requestAnimationFrame(()=>{const Ce=K5(o);q<=0?H.current.style[Ce]="0px":q>=fe-ne?H.current.style[Ce]=`${fe-ne}px`:H.current.style[Ce]=`${q}px`})},j=q=>{requestAnimationFrame(()=>{var fe,ne,Ce;const Te=K5(o);q<=0?((fe=E.current)===null||fe===void 0||fe.scrollTo({[Te]:0}),v(!0)):q>=M()-$()?((ne=E.current)===null||ne===void 0||ne.scrollTo({[Te]:M()}),v(!1)):((Ce=E.current)===null||Ce===void 0||Ce.scrollTo({[Te]:q}),v(!1))})},U=q=>{if(q.stopPropagation(),!B())return;const{y:fe,height:ne,x:Ce,width:Te}=q.target.getBoundingClientRect(),ot=I()/2,Rt=M(),dt=q[Yh(o)?"clientY":"clientX"]-(Yh(o)?fe:Ce)-ot,wt=dt/(Yh(o)?ne:Te);u==null||u({scrollTop:X()},q),j(Rt*wt),W(dt),a==null||a({scrollTop:X()},q),c==null||c({scrollTop:X()},q)},K=ge.useCallback(q=>{const ne=q[Yh(o)?"clientY":"clientX"]-R.current.y,Ce=R.current.startOffset,Te=$(),He=Ce+ne,ot=He/Te,Rt=M();j(Rt*ot),W(He),a==null||a({scrollTop:X()},q)},[]),z=q=>{B()&&(S(!0),u==null||u({scrollTop:X()},q),R.current={y:q[Yh(o)?"clientY":"clientX"],startOffset:O()},document.body.style.userSelect="none",window.addEventListener("mouseup",fe=>{fe.stopPropagation(),fe.preventDefault(),S(!1),c==null||c({scrollTop:X()},fe),document.body.style.removeProperty("user-select"),window.removeEventListener("mousemove",K)},{once:!0}),window.addEventListener("mousemove",K,{passive:!1}))},k=ge.useMemo(()=>{const q=M(),fe=G();return q<=fe?!0:!b&&!x},[b,x]);return re.createElement("div",{className:bn(P9e,n),ref:E,style:e,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1)},r&&re.createElement("div",{className:bn(V_e,m&&z9e)}),re.createElement("div",{className:bn(yJ,Yh(o)?W9e:B9e),ref:N},i),re.createElement("div",{className:bn(gW,Yh(o)?H9e:$9e,s&&k&&V9e),ref:A,onClick:U,style:t},re.createElement("div",{className:F9e,style:{[xw(o)]:`calc(100% * ${f})`},ref:H,onClick:q=>q.stopPropagation(),onMouseDown:z})))}),mp=zn("search"),goe=mt(mp,"input"),U9e=mt(mp,"group"),j9e=mt(mp,"toolbar"),H_e=mt(mp,"replace"),K9e=mt(mp,"target"),q9e=mt(H_e,"button"),G9e=mt(mp,"base"),Y9e=mt(mp,"info"),Z9e=mt(mp,"warning"),X9e=mt(mp,"error");var ZS;(function(i){i.info="info",i.warning="warning",i.error="error"})(ZS||(ZS={}));function l8(i){const{className:e,placeholder:t,toolbarData:n=[],onChange:r,value:s,info:o}=i,[a,u]=ge.useState(!1),c=ge.useRef(null),h=(S,x)=>{var w,E;(w=c.current)===null||w===void 0||w.focus(),(E=i.onToolbarClick)===null||E===void 0||E.call(i,x)},f=S=>{switch(S){case ZS.info:return Y9e;case ZS.warning:return Z9e;case ZS.error:return X9e;default:return""}},p=()=>{u(!0)},m=()=>{u(!1)},v=S=>{if(c.current){c.current.style.height="24px";const w=c.current.scrollHeight/24,E=5;w>E?c.current.style.height=`${24*E}px`:c.current.style.height=`${c.current.scrollHeight}px`}r==null||r(S.target.value||"")},b=S=>{S.keyCode===13&&(r==null||r(S.target.value||""),S.preventDefault())};return re.createElement("div",{className:e},re.createElement("textarea",{ref:c,spellCheck:!1,autoCorrect:"off",autoCapitalize:"off",className:bn((o==null?void 0:o.text)&&f((o==null?void 0:o.type)||"")),value:s||"",placeholder:t,title:t,onKeyDown:b,onFocus:p,onBlur:m,onChange:v}),(o==null?void 0:o.text)&&a&&re.createElement("div",{className:bn(G9e,f(o.type))},o.text),re.createElement(BP,{className:j9e,data:n,onClick:h}))}function Q9e({children:i}){return re.createElement("div",{className:U9e},i)}l8.Group=Q9e;function $_e(i){const{className:e="",style:t,placeholders:n=[],validationInfo:r,addons:s=[],values:o=[],onAddonClick:a,onButtonClick:u,onChange:c,onSearch:h}=i,[f="Search",p="Replace"]=n,[m,v]=s,[b,S]=o,[x,w]=ge.useState(!1),E=()=>{w(!x),u==null||u(!x),h==null||h([b,S])},N=(M,G)=>{if(c){const X=G==="search"?[M,S]:[b,M];c(X),h==null||h(X)}},A=M=>{a==null||a(M),h==null||h([b,S])},R=(()=>{if(r)return typeof r=="string"?{type:ZS.info,text:r}:r})();return re.createElement("div",{style:t,className:bn(mp,e)},re.createElement(br,{className:q9e,type:x?"chevron-down":"chevron-right",onClick:E}),re.createElement(l8.Group,null,re.createElement(l8,{value:b,className:bn(goe,K9e),info:R,placeholder:f,onChange:M=>N(M,"search"),toolbarData:m,onToolbarClick:A}),x&&re.createElement(l8,{value:S,className:bn(goe,H_e),placeholder:p,onChange:M=>N(M,"replace"),toolbarData:v,onToolbarClick:A})))}var J9e=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const eBe={isOpen:!1,option:{name:"",value:"",description:""}},ib=zn("select"),tBe=mt(ib,"container"),nBe=mt(ib,"options"),poe=mt(ib,"descriptor"),iBe=mt(ib,"input"),moe=Cn(ib,"active"),rBe=mt(ib,"arrow");class aR extends ge.PureComponent{constructor(e){super(e),this.handleOnClickOption=t=>{const n=t.target,r=J3(n,"data-value"),s=J3(n,"data-name"),o=J3(n,"data-desc");if(s){const a={value:r,name:s,description:o};this.setState({option:a},()=>{var u,c;(c=(u=this.props).onSelect)===null||c===void 0||c.call(u,t,a),this.contextView.hide()})}},this.handleOnHoverOption=t=>{const n=t.target,r=J3(n,"data-desc"),s=this.contextView.view.querySelector("."+poe);if(s){const o=r||"None";s.innerHTML=o,s.setAttribute("title",o)}},this.handleOnClickSelect=t=>{const n=this.selectElm.current,{children:r}=this.props;if(n){const s=n==null?void 0:n.getBoundingClientRect();s.y=s.y+s.height,this.setState({isOpen:!0}),this.contextView.show(s,()=>re.createElement("div",{style:{width:s.width},className:bn(tBe,moe),onMouseOver:this.handleOnHoverOption},re.createElement("div",{className:nBe},MP(r,{onClick:this.handleOnClickOption})),re.createElement("div",{className:poe},"None")))}},this.contextView=yE({shadowOutline:!1}),this.state=this.getDefaultState(this.props),this.selectElm=re.createRef(),this.selectInput=re.createRef()}static getDerivedStateFromProps(e,t){return e.value!==t.value?{option:aR.getSelectOption(e)}:null}componentDidMount(){this.contextView.onHide(()=>{this.state.isOpen&&this.setState({isOpen:!1})})}componentWillUnmount(){this.contextView.dispose()}static getSelectOption(e){let t={};const n=e.value||e.defaultValue,r=ge.Children.toArray(e.children);for(const s of r)if(ge.isValidElement(s)){const o=s.props;if(o.value&&o.value===n){t=Object.assign(Object.assign({},o),{name:o.name||o.children});break}}return t}getDefaultState(e){return Object.assign(Object.assign({},eBe),{option:Object.assign({},aR.getSelectOption(e))})}render(){const{option:e,isOpen:t}=this.state,n=this.props,{className:r,placeholder:s,onSelect:o}=n,a=J9e(n,["className","placeholder","onSelect"]),c=bn(ib,r,t?moe:"");return re.createElement("div",Object.assign({ref:this.selectElm,className:c},a),re.createElement("input",{onClick:this.handleOnClickSelect,ref:this.selectInput,autoComplete:"off",placeholder:s,className:iBe,value:e.name,readOnly:!0}),re.createElement("span",{className:rBe},re.createElement(br,{type:"chevron-down"})))}}var sBe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const z_e=mt(ib,"option"),oBe=Cn(z_e,"disabled");function U_e(i){const{className:e,value:t,title:n,name:r,description:s,disabled:o,children:a,onClick:u}=i,c=sBe(i,["className","value","title","name","description","disabled","children","onClick"]),h=bn(z_e,e,o?oBe:""),f=p=>{o||u==null||u(p)};return re.createElement("div",Object.assign({className:h,title:n,"data-name":r||a,"data-value":t,"data-desc":s,onClick:f},c),a)}var zq={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0});function t(R){return typeof R=="object"&&!("toString"in R)?Object.prototype.toString.call(R).slice(8,-1):R}var n=typeof process=="object"&&!0;function r(R,M){if(!R)throw n?new Error("Invariant failed"):new Error(M())}e.invariant=r;var s=Object.prototype.hasOwnProperty,o=Array.prototype.splice,a=Object.prototype.toString;function u(R){return a.call(R).slice(8,-1)}var c=Object.assign||function(R,M){return h(M).forEach(function(G){s.call(M,G)&&(R[G]=M[G])}),R},h=typeof Object.getOwnPropertySymbols=="function"?function(R){return Object.keys(R).concat(Object.getOwnPropertySymbols(R))}:function(R){return Object.keys(R)};function f(R){return Array.isArray(R)?c(R.constructor(R.length),R):u(R)==="Map"?new Map(R):u(R)==="Set"?new Set(R):R&&typeof R=="object"?c(Object.create(Object.getPrototypeOf(R)),R):R}var p=function(){function R(){this.commands=c({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(M,G){return M===G},this.update.newContext=function(){return new R().update}}return Object.defineProperty(R.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(M){this.update.isEquals=M},enumerable:!0,configurable:!0}),R.prototype.extend=function(M,G){this.commands[M]=G},R.prototype.update=function(M,G){var X=this,$=typeof G=="function"?{$apply:G}:G;Array.isArray(M)&&Array.isArray($)||r(!Array.isArray($),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),r(typeof $=="object"&&$!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(X.commands).join(", ")+".")});var I=M;return h($).forEach(function(O){if(s.call(X.commands,O)){var B=M===I;I=X.commands[O]($[O],I,$,M),B&&X.isEquals(I,M)&&(I=M)}else{var W=u(M)==="Map"?X.update(M.get(O),$[O]):X.update(M[O],$[O]),j=u(I)==="Map"?I.get(O):I[O];(!X.isEquals(W,j)||typeof W>"u"&&!s.call(M,O))&&(I===M&&(I=f(M)),u(I)==="Map"?I.set(O,W):I[O]=W)}}),I},R}();e.Context=p;var m={$push:function(R,M,G){return b(M,G,"$push"),R.length?M.concat(R):M},$unshift:function(R,M,G){return b(M,G,"$unshift"),R.length?R.concat(M):M},$splice:function(R,M,G,X){return x(M,G),R.forEach(function($){w($),M===X&&$.length&&(M=f(X)),o.apply(M,$)}),M},$set:function(R,M,G){return N(G),R},$toggle:function(R,M){S(R,"$toggle");var G=R.length?f(M):M;return R.forEach(function(X){G[X]=!M[X]}),G},$unset:function(R,M,G,X){return S(R,"$unset"),R.forEach(function($){Object.hasOwnProperty.call(M,$)&&(M===X&&(M=f(X)),delete M[$])}),M},$add:function(R,M,G,X){return H(M,"$add"),S(R,"$add"),u(M)==="Map"?R.forEach(function($){var I=$[0],O=$[1];M===X&&M.get(I)!==O&&(M=f(X)),M.set(I,O)}):R.forEach(function($){M===X&&!M.has($)&&(M=f(X)),M.add($)}),M},$remove:function(R,M,G,X){return H(M,"$remove"),S(R,"$remove"),R.forEach(function($){M===X&&M.has($)&&(M=f(X)),M.delete($)}),M},$merge:function(R,M,G,X){return A(M,R),h(R).forEach(function($){R[$]!==M[$]&&(M===X&&(M=f(X)),M[$]=R[$])}),M},$apply:function(R,M){return E(R),R(M)}},v=new p;e.isEquals=v.update.isEquals,e.extend=v.extend,e.default=v.update,e.default.default=i.exports=c(e.default,e);function b(R,M,G){r(Array.isArray(R),function(){return"update(): expected target of "+t(G)+" to be an array; got "+t(R)+"."}),S(M[G],G)}function S(R,M){r(Array.isArray(R),function(){return"update(): expected spec of "+t(M)+" to be an array; got "+t(R)+". Did you forget to wrap your parameter in an array?"})}function x(R,M){r(Array.isArray(R),function(){return"Expected $splice target to be an array; got "+t(R)}),w(M.$splice)}function w(R){r(Array.isArray(R),function(){return"update(): expected spec of $splice to be an array of arrays; got "+t(R)+". Did you forget to wrap your parameters in an array?"})}function E(R){r(typeof R=="function",function(){return"update(): expected spec of $apply to be a function; got "+t(R)+"."})}function N(R){r(Object.keys(R).length===1,function(){return"Cannot have more than one key in an object with $set"})}function A(R,M){r(M&&typeof M=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+t(M)}),r(R&&typeof R=="object",function(){return"update(): $merge expects a target of type 'object'; got "+t(R)})}function H(R,M){var G=u(R);r(G==="Map"||G==="Set",function(){return"update(): "+t(M)+" expects a target of type Set or Map; got "+t(G)})}})(zq,zq.exports);var aBe=zq.exports;const lBe=Om(aBe),j_e=ge.createContext({dragDropManager:void 0});function ed(i){return"Minified Redux error #"+i+"; visit https://redux.js.org/Errors?code="+i+" for the full message or use the non-minified dev environment for full errors. "}var _oe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),M$=function(){return Math.random().toString(36).substring(7).split("").join(".")},voe={INIT:"@@redux/INIT"+M$(),REPLACE:"@@redux/REPLACE"+M$(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+M$()}};function uBe(i){if(typeof i!="object"||i===null)return!1;for(var e=i;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e}function K_e(i,e,t){var n;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ed(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ed(1));return t(K_e)(i,e)}if(typeof i!="function")throw new Error(ed(2));var r=i,s=e,o=[],a=o,u=!1;function c(){a===o&&(a=o.slice())}function h(){if(u)throw new Error(ed(3));return s}function f(b){if(typeof b!="function")throw new Error(ed(4));if(u)throw new Error(ed(5));var S=!0;return c(),a.push(b),function(){if(S){if(u)throw new Error(ed(6));S=!1,c();var w=a.indexOf(b);a.splice(w,1),o=null}}}function p(b){if(!uBe(b))throw new Error(ed(7));if(typeof b.type>"u")throw new Error(ed(8));if(u)throw new Error(ed(9));try{u=!0,s=r(s,b)}finally{u=!1}for(var S=o=a,x=0;x<S.length;x++){var w=S[x];w()}return b}function m(b){if(typeof b!="function")throw new Error(ed(10));r=b,p({type:voe.REPLACE})}function v(){var b,S=f;return b={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(ed(11));function E(){w.next&&w.next(h())}E();var N=S(E);return{unsubscribe:N}}},b[_oe]=function(){return this},b}return p({type:voe.INIT}),n={dispatch:p,subscribe:f,getState:h,replaceReducer:m},n[_oe]=v,n}function xi(i,e,...t){if(cBe()&&e===void 0)throw new Error("invariant requires an error message argument");if(!i){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;n=new Error(e.replace(/%s/g,function(){return t[r++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function cBe(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function dBe(i,e,t){return e.split(".").reduce((n,r)=>n&&n[r]?n[r]:t||null,i)}function hBe(i,e){return i.filter(t=>t!==e)}function q_e(i){return typeof i=="object"}function fBe(i,e){const t=new Map,n=s=>{t.set(s,t.has(s)?t.get(s)+1:1)};i.forEach(n),e.forEach(n);const r=[];return t.forEach((s,o)=>{s===1&&r.push(o)}),r}function gBe(i,e){return i.filter(t=>e.indexOf(t)>-1)}const wJ="dnd-core/INIT_COORDS",pW="dnd-core/BEGIN_DRAG",SJ="dnd-core/PUBLISH_DRAG_SOURCE",mW="dnd-core/HOVER",_W="dnd-core/DROP",vW="dnd-core/END_DRAG";function boe(i,e){return{type:wJ,payload:{sourceClientOffset:e||null,clientOffset:i||null}}}const pBe={type:wJ,payload:{clientOffset:null,sourceClientOffset:null}};function mBe(i){return function(t=[],n={publishSource:!0}){const{publishSource:r=!0,clientOffset:s,getSourceClientOffset:o}=n,a=i.getMonitor(),u=i.getRegistry();i.dispatch(boe(s)),_Be(t,a,u);const c=CBe(t,a);if(c==null){i.dispatch(pBe);return}let h=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");vBe(o),h=o(c)}i.dispatch(boe(s,h));const p=u.getSource(c).beginDrag(a,c);if(p==null)return;bBe(p),u.pinSource(c);const m=u.getSourceType(c);return{type:pW,payload:{itemType:m,item:p,sourceId:c,clientOffset:s||null,sourceClientOffset:h||null,isSourcePublic:!!r}}}}function _Be(i,e,t){xi(!e.isDragging(),"Cannot call beginDrag while dragging."),i.forEach(function(n){xi(t.getSource(n),"Expected sourceIds to be registered.")})}function vBe(i){xi(typeof i=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function bBe(i){xi(q_e(i),"Item must be an object.")}function CBe(i,e){let t=null;for(let n=i.length-1;n>=0;n--)if(e.canDragSource(i[n])){t=i[n];break}return t}function yBe(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function wBe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.forEach(function(r){yBe(i,r,t[r])})}return i}function SBe(i){return function(t={}){const n=i.getMonitor(),r=i.getRegistry();xBe(n),DBe(n).forEach((o,a)=>{const u=EBe(o,a,r,n),c={type:_W,payload:{dropResult:wBe({},t,u)}};i.dispatch(c)})}}function xBe(i){xi(i.isDragging(),"Cannot call drop while not dragging."),xi(!i.didDrop(),"Cannot call drop twice during one drag operation.")}function EBe(i,e,t,n){const r=t.getTarget(i);let s=r?r.drop(n,i):void 0;return LBe(s),typeof s>"u"&&(s=e===0?{}:n.getDropResult()),s}function LBe(i){xi(typeof i>"u"||q_e(i),"Drop result must either be an object or undefined.")}function DBe(i){const e=i.getTargetIds().filter(i.canDropOnTarget,i);return e.reverse(),e}function TBe(i){return function(){const t=i.getMonitor(),n=i.getRegistry();IBe(t);const r=t.getSourceId();return r!=null&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource()),{type:vW}}}function IBe(i){xi(i.isDragging(),"Cannot call endDrag while not dragging.")}function Uq(i,e){return e===null?i===null:Array.isArray(i)?i.some(t=>t===e):i===e}function kBe(i){return function(t,{clientOffset:n}={}){NBe(t);const r=t.slice(0),s=i.getMonitor(),o=i.getRegistry(),a=s.getItemType();return OBe(r,o,a),ABe(r,s,o),MBe(r,s,o),{type:mW,payload:{targetIds:r,clientOffset:n||null}}}}function NBe(i){xi(Array.isArray(i),"Expected targetIds to be an array.")}function ABe(i,e,t){xi(e.isDragging(),"Cannot call hover while not dragging."),xi(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<i.length;n++){const r=i[n];xi(i.lastIndexOf(r)===n,"Expected targetIds to be unique in the passed array.");const s=t.getTarget(r);xi(s,"Expected targetIds to be registered.")}}function OBe(i,e,t){for(let n=i.length-1;n>=0;n--){const r=i[n],s=e.getTargetType(r);Uq(s,t)||i.splice(n,1)}}function MBe(i,e,t){i.forEach(function(n){t.getTarget(n).hover(e,n)})}function RBe(i){return function(){if(i.getMonitor().isDragging())return{type:SJ}}}function PBe(i){return{beginDrag:mBe(i),publishDragSource:RBe(i),hover:kBe(i),drop:SBe(i),endDrag:TBe(i)}}class FBe{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function n(s){return(...o)=>{const a=s.apply(e,o);typeof a<"u"&&t(a)}}const r=PBe(this);return Object.keys(r).reduce((s,o)=>{const a=r[o];return s[o]=n(a),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function BBe(i,e){return{x:i.x+e.x,y:i.y+e.y}}function G_e(i,e){return{x:i.x-e.x,y:i.y-e.y}}function WBe(i){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:n}=i;return!e||!t||!n?null:G_e(BBe(e,n),t)}function VBe(i){const{clientOffset:e,initialClientOffset:t}=i;return!e||!t?null:G_e(e,t)}const PO=[],xJ=[];PO.__IS_NONE__=!0;xJ.__IS_ALL__=!0;function HBe(i,e){return i===PO?!1:i===xJ||typeof e>"u"?!0:gBe(e,i).length>0}class $Be{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;xi(typeof e=="function","listener must be a function."),xi(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;const s=()=>{const o=this.store.getState(),a=o.stateId;try{a===r||a===r+1&&!HBe(o.dirtyHandlerIds,n)||e()}finally{r=a}};return this.store.subscribe(s)}subscribeToOffsetChange(e){xi(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const n=()=>{const r=this.store.getState().dragOffset;r!==t&&(t=r,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return xi(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(xi(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),r=this.getItemType();return Uq(n,r)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(xi(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),r=this.getItemType();return n!==r?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),s=this.getItemType();if(s&&!Uq(r,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return WBe(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return VBe(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const Coe=typeof global<"u"?global:self,Y_e=Coe.MutationObserver||Coe.WebKitMutationObserver;function Z_e(i){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),i()}}}function zBe(i){let e=1;const t=new Y_e(i),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const UBe=typeof Y_e=="function"?zBe:Z_e;class jBe{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let n=0,r=e.length-this.index;n<r;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=UBe(this.flush),this.requestErrorThrow=Z_e(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class KBe{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class qBe{create(e){const t=this.freeTasks,n=t.length?t.pop():new KBe(this.onError,r=>t[t.length]=r);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const X_e=new jBe,GBe=new qBe(X_e.registerPendingError);function YBe(i){X_e.enqueueTask(GBe.create(i))}const EJ="dnd-core/ADD_SOURCE",LJ="dnd-core/ADD_TARGET",DJ="dnd-core/REMOVE_SOURCE",bW="dnd-core/REMOVE_TARGET";function ZBe(i){return{type:EJ,payload:{sourceId:i}}}function XBe(i){return{type:LJ,payload:{targetId:i}}}function QBe(i){return{type:DJ,payload:{sourceId:i}}}function JBe(i){return{type:bW,payload:{targetId:i}}}function eWe(i){xi(typeof i.canDrag=="function","Expected canDrag to be a function."),xi(typeof i.beginDrag=="function","Expected beginDrag to be a function."),xi(typeof i.endDrag=="function","Expected endDrag to be a function.")}function tWe(i){xi(typeof i.canDrop=="function","Expected canDrop to be a function."),xi(typeof i.hover=="function","Expected hover to be a function."),xi(typeof i.drop=="function","Expected beginDrag to be a function.")}function jq(i,e){if(e&&Array.isArray(i)){i.forEach(t=>jq(t,!1));return}xi(typeof i=="string"||typeof i=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var hd;(function(i){i.SOURCE="SOURCE",i.TARGET="TARGET"})(hd||(hd={}));let nWe=0;function iWe(){return nWe++}function rWe(i){const e=iWe().toString();switch(i){case hd.SOURCE:return`S${e}`;case hd.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${i}`)}}function yoe(i){switch(i[0]){case"S":return hd.SOURCE;case"T":return hd.TARGET;default:throw new Error(`Cannot parse handler ID: ${i}`)}}function woe(i,e){const t=i.entries();let n=!1;do{const{done:r,value:[,s]}=t.next();if(s===e)return!0;n=!!r}while(!n);return!1}class sWe{addSource(e,t){jq(e),eWe(t);const n=this.addHandler(hd.SOURCE,e,t);return this.store.dispatch(ZBe(n)),n}addTarget(e,t){jq(e,!0),tWe(t);const n=this.addHandler(hd.TARGET,e,t);return this.store.dispatch(XBe(n)),n}containsHandler(e){return woe(this.dragSources,e)||woe(this.dropTargets,e)}getSource(e,t=!1){return xi(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return xi(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return xi(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return xi(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return yoe(e)===hd.SOURCE}isTargetId(e){return yoe(e)===hd.TARGET}removeSource(e){xi(this.getSource(e),"Expected an existing source."),this.store.dispatch(QBe(e)),YBe(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){xi(this.getTarget(e),"Expected an existing target."),this.store.dispatch(JBe(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);xi(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){xi(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=rWe(e);return this.types.set(r,t),e===hd.SOURCE?this.dragSources.set(r,n):e===hd.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const oWe=(i,e)=>i===e;function aWe(i,e){return!i&&!e?!0:!i||!e?!1:i.x===e.x&&i.y===e.y}function lWe(i,e,t=oWe){if(i.length!==e.length)return!1;for(let n=0;n<i.length;++n)if(!t(i[n],e[n]))return!1;return!0}function uWe(i=PO,e){switch(e.type){case mW:break;case EJ:case LJ:case bW:case DJ:return PO;case pW:case SJ:case vW:case _W:default:return xJ}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,r=fBe(t,n);if(!(r.length>0||!lWe(t,n)))return PO;const o=n[n.length-1],a=t[t.length-1];return o!==a&&(o&&r.push(o),a&&r.push(a)),r}function cWe(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function dWe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.forEach(function(r){cWe(i,r,t[r])})}return i}const Soe={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function hWe(i=Soe,e){const{payload:t}=e;switch(e.type){case wJ:case pW:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case mW:return aWe(i.clientOffset,t.clientOffset)?i:dWe({},i,{clientOffset:t.clientOffset});case vW:case _W:return Soe;default:return i}}function fWe(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Ew(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.forEach(function(r){fWe(i,r,t[r])})}return i}const gWe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function pWe(i=gWe,e){const{payload:t}=e;switch(e.type){case pW:return Ew({},i,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case SJ:return Ew({},i,{isSourcePublic:!0});case mW:return Ew({},i,{targetIds:t.targetIds});case bW:return i.targetIds.indexOf(t.targetId)===-1?i:Ew({},i,{targetIds:hBe(i.targetIds,t.targetId)});case _W:return Ew({},i,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case vW:return Ew({},i,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return i}}function mWe(i=0,e){switch(e.type){case EJ:case LJ:return i+1;case DJ:case bW:return i-1;default:return i}}function _We(i=0){return i+1}function vWe(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function bWe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.forEach(function(r){vWe(i,r,t[r])})}return i}function CWe(i={},e){return{dirtyHandlerIds:uWe(i.dirtyHandlerIds,{type:e.type,payload:bWe({},e.payload,{prevTargetIds:dBe(i,"dragOperation.targetIds",[])})}),dragOffset:hWe(i.dragOffset,e),refCount:mWe(i.refCount,e),dragOperation:pWe(i.dragOperation,e),stateId:_We(i.stateId)}}function yWe(i,e=void 0,t={},n=!1){const r=wWe(n),s=new $Be(r,new sWe(r)),o=new FBe(r,s),a=i(o,e,t);return o.receiveBackend(a),o}function wWe(i){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return K_e(CWe,i&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function SWe(i,e){if(i==null)return{};var t=xWe(i,e),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}function xWe(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}let xoe=0;const u8=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var EWe=ge.memo(function(e){var{children:t}=e,n=SWe(e,["children"]);const[r,s]=LWe(n);return ge.useEffect(()=>{if(s){const o=Q_e();return++xoe,()=>{--xoe===0&&(o[u8]=null)}}},[]),ld.jsx(j_e.Provider,{value:r,children:t})});function LWe(i){if("manager"in i)return[{dragDropManager:i.manager},!1];const e=DWe(i.backend,i.context,i.options,i.debugMode),t=!i.context;return[e,t]}function DWe(i,e=Q_e(),t,n){const r=e;return r[u8]||(r[u8]={dragDropManager:yWe(i,e,t,n)}),r[u8]}function Q_e(){return typeof global<"u"?global:window}var TWe=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!i(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){var o=s[r];if(!i(e[o],t[o]))return!1}return!0}return e!==e&&t!==t};const IWe=Om(TWe),ly=typeof window<"u"?ge.useLayoutEffect:ge.useEffect;function kWe(i,e,t){const[n,r]=ge.useState(()=>e(i)),s=ge.useCallback(()=>{const o=e(i);IWe(n,o)||(r(o),t&&t())},[n,i,t]);return ly(s),[n,s]}function NWe(i,e,t){const[n,r]=kWe(i,e,t);return ly(function(){const o=i.getHandlerId();if(o!=null)return i.subscribeToStateChange(r,{handlerIds:[o]})},[i,r]),n}function J_e(i,e,t){return NWe(e,i||(()=>({})),()=>t.reconnect())}function eve(i,e){const t=[...e||[]];return e==null&&typeof i!="function"&&t.push(i),ge.useMemo(()=>typeof i=="function"?i():i,t)}function AWe(i){return ge.useMemo(()=>i.hooks.dragSource(),[i])}function OWe(i){return ge.useMemo(()=>i.hooks.dragPreview(),[i])}let R$=!1,P$=!1;class MWe{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){xi(!R$,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return R$=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{R$=!1}}isDragging(){if(!this.sourceId)return!1;xi(!P$,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return P$=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{P$=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let F$=!1;class RWe{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;xi(!F$,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return F$=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{F$=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function PWe(i,e,t){const n=t.getRegistry(),r=n.addTarget(i,e);return[r,()=>n.removeTarget(r)]}function FWe(i,e,t){const n=t.getRegistry(),r=n.addSource(i,e);return[r,()=>n.removeSource(r)]}function Kq(i,e,t,n){let r=t?t.call(n,i,e):void 0;if(r!==void 0)return!!r;if(i===e)return!0;if(typeof i!="object"||!i||typeof e!="object"||!e)return!1;const s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<s.length;u++){const c=s[u];if(!a(c))return!1;const h=i[c],f=e[c];if(r=t?t.call(n,h,f,c):void 0,r===!1||r===void 0&&h!==f)return!1}return!0}function qq(i){return i!==null&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function BWe(i){if(typeof i.type=="string")return;const e=i.type.displayName||i.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function WWe(i){return(e=null,t=null)=>{if(!ge.isValidElement(e)){const s=e;return i(s,t),s}const n=e;return BWe(n),VWe(n,t?s=>i(s,t):i)}}function tve(i){const e={};return Object.keys(i).forEach(t=>{const n=i[t];if(t.endsWith("Ref"))e[t]=i[t];else{const r=WWe(n);e[t]=()=>r}}),e}function Eoe(i,e){typeof i=="function"?i(e):i.current=e}function VWe(i,e){const t=i.ref;return xi(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?ge.cloneElement(i,{ref:n=>{Eoe(t,n),Eoe(e,n)}}):ge.cloneElement(i,{ref:e})}class HWe{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Kq(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Kq(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=tve({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,qq(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,qq(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class $We{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Kq(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=tve({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,qq(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function FE(){const{dragDropManager:i}=ge.useContext(j_e);return xi(i!=null,"Expected drag drop context"),i}function zWe(i,e){const t=FE(),n=ge.useMemo(()=>new HWe(t.getBackend()),[t]);return ly(()=>(n.dragSourceOptions=i||null,n.reconnect(),()=>n.disconnectDragSource()),[n,i]),ly(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function UWe(){const i=FE();return ge.useMemo(()=>new MWe(i),[i])}class jWe{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(t):n={},n??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:s}=n;return s?s(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function KWe(i,e,t){const n=ge.useMemo(()=>new jWe(i,e,t),[e,t]);return ge.useEffect(()=>{n.spec=i},[i]),n}function qWe(i){return ge.useMemo(()=>{const e=i.type;return xi(e!=null,"spec.type must be defined"),e},[i])}function GWe(i,e,t){const n=FE(),r=KWe(i,e,t),s=qWe(i);ly(function(){if(s!=null){const[a,u]=FWe(s,r,n);return e.receiveHandlerId(a),t.receiveHandlerId(a),u}},[n,e,t,r,s])}function YWe(i,e){const t=eve(i,e);xi(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=UWe(),r=zWe(t.options,t.previewOptions);return GWe(t,n,r),[J_e(t.collect,n,r),AWe(r),OWe(r)]}function ZWe(i){return ge.useMemo(()=>i.hooks.dropTarget(),[i])}function XWe(i){const e=FE(),t=ge.useMemo(()=>new $We(e.getBackend()),[e]);return ly(()=>(t.dropTargetOptions=i||null,t.reconnect(),()=>t.disconnectDropTarget()),[i]),t}function QWe(){const i=FE();return ge.useMemo(()=>new RWe(i),[i])}function JWe(i){const{accept:e}=i;return ge.useMemo(()=>(xi(i.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class eVe{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function tVe(i,e){const t=ge.useMemo(()=>new eVe(i,e),[e]);return ge.useEffect(()=>{t.spec=i},[i]),t}function nVe(i,e,t){const n=FE(),r=tVe(i,e),s=JWe(i);ly(function(){const[a,u]=PWe(s,r,n);return e.receiveHandlerId(a),t.receiveHandlerId(a),u},[n,e,r,t,s.map(o=>o.toString()).join("|")])}function iVe(i,e){const t=eve(i,e),n=QWe(),r=XWe(t.options);return nVe(t,n,r),[J_e(t.collect,n,r),ZWe(r)]}function nve(i){let e=null;return()=>(e==null&&(e=i()),e)}function rVe(i,e){return i.filter(t=>t!==e)}function sVe(i,e){const t=new Set,n=s=>t.add(s);i.forEach(n),e.forEach(n);const r=[];return t.forEach(s=>r.push(s)),r}class oVe{enter(e){const t=this.entered.length,n=r=>this.isNodeInDocument(r)&&(!r.contains||r.contains(e));return this.entered=sVe(this.entered.filter(n),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=rVe(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class aVe{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(n=>{const r=this.config.exposeProperties[n];r!=null&&(t[n]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const ive="__NATIVE_FILE__",rve="__NATIVE_URL__",sve="__NATIVE_TEXT__",ove="__NATIVE_HTML__",Loe=Object.freeze(Object.defineProperty({__proto__:null,FILE:ive,HTML:ove,TEXT:sve,URL:rve},Symbol.toStringTag,{value:"Module"}));function B$(i,e,t){const n=e.reduce((r,s)=>r||i.getData(s),"");return n??t}const Gq={[ive]:{exposeProperties:{files:i=>Array.prototype.slice.call(i.files),items:i=>i.items,dataTransfer:i=>i},matchesTypes:["Files"]},[ove]:{exposeProperties:{html:(i,e)=>B$(i,e,""),dataTransfer:i=>i},matchesTypes:["Html","text/html"]},[rve]:{exposeProperties:{urls:(i,e)=>B$(i,e,"").split(`
`),dataTransfer:i=>i},matchesTypes:["Url","text/uri-list"]},[sve]:{exposeProperties:{text:(i,e)=>B$(i,e,""),dataTransfer:i=>i},matchesTypes:["Text","text/plain"]}};function lVe(i,e){const t=Gq[i];if(!t)throw new Error(`native type ${i} has no configuration`);const n=new aVe(t);return n.loadDataTransfer(e),n}function W$(i){if(!i)return null;const e=Array.prototype.slice.call(i.types||[]);return Object.keys(Gq).filter(t=>{const n=Gq[t];return n!=null&&n.matchesTypes?n.matchesTypes.some(r=>e.indexOf(r)>-1):!1})[0]||null}const uVe=nve(()=>/firefox/i.test(navigator.userAgent)),ave=nve(()=>!!window.safari);class Doe{interpolate(e){const{xs:t,ys:n,c1s:r,c2s:s,c3s:o}=this;let a=t.length-1;if(e===t[a])return n[a];let u=0,c=o.length-1,h;for(;u<=c;){h=Math.floor(.5*(u+c));const m=t[h];if(m<e)u=h+1;else if(m>e)c=h-1;else return n[h]}a=Math.max(0,c);const f=e-t[a],p=f*f;return n[a]+r[a]*f+s[a]*p+o[a]*f*p}constructor(e,t){const{length:n}=e,r=[];for(let m=0;m<n;m++)r.push(m);r.sort((m,v)=>e[m]<e[v]?-1:1);const s=[],o=[];let a,u;for(let m=0;m<n-1;m++)a=e[m+1]-e[m],u=t[m+1]-t[m],s.push(a),o.push(u/a);const c=[o[0]];for(let m=0;m<s.length-1;m++){const v=o[m],b=o[m+1];if(v*b<=0)c.push(0);else{a=s[m];const S=s[m+1],x=a+S;c.push(3*x/((x+S)/v+(x+a)/b))}}c.push(o[o.length-1]);const h=[],f=[];let p;for(let m=0;m<c.length-1;m++){p=o[m];const v=c[m],b=1/s[m],S=v+c[m+1]-p-p;h.push((p-v-S)*b),f.push(S*b*b)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=h,this.c3s=f}}const cVe=1;function lve(i){const e=i.nodeType===cVe?i:i.parentElement;if(!e)return null;const{top:t,left:n}=e.getBoundingClientRect();return{x:n,y:t}}function q5(i){return{x:i.clientX,y:i.clientY}}function dVe(i){var e;return i.nodeName==="IMG"&&(uVe()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(i)))}function hVe(i,e,t,n){let r=i?e.width:t,s=i?e.height:n;return ave()&&i&&(s/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:s}}function fVe(i,e,t,n,r){const s=dVe(e),a=lve(s?i:e),u={x:t.x-a.x,y:t.y-a.y},{offsetWidth:c,offsetHeight:h}=i,{anchorX:f,anchorY:p}=n,{dragPreviewWidth:m,dragPreviewHeight:v}=hVe(s,e,c,h),b=()=>{let H=new Doe([0,.5,1],[u.y,u.y/h*v,u.y+v-h]).interpolate(p);return ave()&&s&&(H+=(window.devicePixelRatio-1)*v),H},S=()=>new Doe([0,.5,1],[u.x,u.x/c*m,u.x+m-c]).interpolate(f),{offsetX:x,offsetY:w}=r,E=x===0||x,N=w===0||w;return{x:E?x:S(),y:N?w:b()}}class gVe{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function pVe(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Toe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.forEach(function(r){pVe(i,r,t[r])})}return i}class mVe{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=o=>this.handleDragStart(o,e),s=o=>this.handleSelectStart(o);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",s),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=o=>this.handleDragEnter(o,e),r=o=>this.handleDragOver(o,e),s=o=>this.handleDrop(o,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",s),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Toe({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return Toe({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Loe).some(t=>Loe[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=lVe(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=r=>{const s=this.sourceNodes.get(r);return s&&lve(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=r=>!!(r&&this.document&&this.document.body&&this.document.body.contains(r)),this.endDragIfSourceWasRemovedFromDOM=()=>{const r=this.currentDragSourceNode;r==null||this.isNodeInDocument(r)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=r=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(r||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=r=>{if(r.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const o=q5(r);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=r,u=W$(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const h=this.monitor.getSourceId(),f=this.sourceNodes.get(h),p=this.sourcePreviewNodes.get(h)||f;if(p){const{anchorX:m,anchorY:v,offsetX:b,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),E=fVe(f,p,o,{anchorX:m,anchorY:v},{offsetX:b,offsetY:S});a.setDragImage(p,E.x,E.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(r.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(a&&!a.types&&(r.target&&!r.target.hasAttribute||!r.target.hasAttribute("draggable")))return;r.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=r=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(r.dataTransfer)}if(!this.enterLeaveCounter.enter(r.target)||this.monitor.isDragging())return;const{dataTransfer:a}=r,u=W$(a);u&&this.beginDragNativeItem(u,a)},this.handleTopDragEnter=r=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=r.altKey,s.length>0&&this.actions.hover(s,{clientOffset:q5(r)}),s.some(a=>this.monitor.canDropOnTarget(a))&&(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=r=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(r.dataTransfer)}},this.handleTopDragOver=r=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none");return}this.altKeyPressed=r.altKey,this.lastClientOffset=q5(r),this.scheduleHover(s),(s||[]).some(a=>this.monitor.canDropOnTarget(a))?(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?r.preventDefault():(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=r=>{this.isDraggingNativeItem()&&r.preventDefault(),this.enterLeaveCounter.leave(r.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=r=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;r.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(r.dataTransfer)}else W$(r.dataTransfer)&&r.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=r=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:q5(r)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=r=>{const s=r.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(r.preventDefault(),s.dragDrop()))},this.options=new gVe(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new oVe(this.isNodeInDocument)}}const _Ve=function(e,t,n){return new mVe(e,t,n)},vVe=({onClick:i,classNames:e="",renderStatus:t})=>{const[n,r]=ge.useState(!1),s=()=>{r(!0)},o=()=>{r(!1)};return re.createElement("div",{role:"button",className:e,onClick:i,onMouseOver:s,onMouseOut:o},t==null?void 0:t(n))};var bVe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const CVe=zn("tab"),CW=mt(CVe,"item"),Yq=Cn(CW,"active"),yVe=mt(CW,"label"),wVe=mt(CW,"extra");function uve(i){var{tab:e,active:t}=i,n=bVe(i,["tab","active"]);const{name:r,closable:s,id:o,icon:a,status:u}=e,{onCloseTab:c,onSelectTab:h,onContextMenu:f,onDrag:p}=n,m=ge.useRef(null),v=E=>{E.preventDefault(),f==null||f(E,e)},[,b]=YWe({collect:E=>({isDragging:E.isDragging()}),type:"DND_NODE",item:e}),[,S]=iVe({accept:"DND_NODE",hover(E,N){if(!m.current)return;const A=m.current,H=A==null?void 0:A.getBoundingClientRect(),R=(H.right-H.left)/2,G=N.getClientOffset().x-H.left,X={hoverMiddleX:R,hoverClientX:G};p==null||p(E,e,X)}});b(S(m));const x=E=>typeof E=="string"?re.createElement(br,{type:E}):E,w=(E,N)=>{if(E&&!N){if(typeof E=="function")return E(e);switch(E){case"edited":return re.createElement(br,{type:"primitive-dot"});default:return re.createElement(br,{type:"close"})}}return re.createElement(br,{type:"close"})};return re.createElement("div",{ref:m,className:bn(CW,{[Yq]:t}),onClick:E=>h==null?void 0:h(o),onContextMenu:v},a&&re.createElement("span",{className:yVe},x(a)),r,(typeof s>"u"||s)&&re.createElement(vVe,{classNames:wVe,onClick:E=>{E.stopPropagation(),c==null||c(o)},renderStatus:E=>w(u,E)}))}const Zq=zn("tabs"),SVe=mt(Zq,"header");function TJ(i){var e;const{role:t,activeTab:n,className:r,data:s=[],type:o="line",style:a,onMoveTab:u,onCloseTab:c,onSelectTab:h,onContextMenu:f}=i,p=ge.useRef(null),m=ge.useRef(null),v=ge.useCallback((S,x)=>{const w=s[S];u==null||u(lBe(s,{$splice:[[S,1],[x,0,w]]}))},[s]),b=(S,x,w)=>{const E=s.indexOf(S),N=s.indexOf(x),{hoverClientX:A,hoverMiddleX:H}=w;E!==N&&(E<N&&A<H||E>N&&A>H||v==null||v(E,N))};return ge.useEffect(()=>{var S,x;const w=(S=p.current)===null||S===void 0?void 0:S.querySelector(`.${Yq}`);if(w){const E=((x=p.current)===null||x===void 0?void 0:x.clientWidth)||0,N=w.offsetLeft;N>E&&setTimeout(()=>{var A;(A=m.current)===null||A===void 0||A.scrollTo(N+w.clientWidth)},0)}},[(e=p.current)===null||e===void 0?void 0:e.querySelector(`.${Yq}`)]),re.createElement(EWe,{backend:_Ve,context:window},re.createElement("div",{style:a,className:bn(Zq,Cn(Zq,o),r),role:t,ref:p},re.createElement(PE,{className:SVe,direction:Rx.horizontal,ref:m,trackStyle:{height:3}},s.map((S,x)=>re.createElement(uve,{key:S.id,active:n===S.id,tab:S,onDrag:b,onCloseTab:c,onContextMenu:f,onSelectTab:h})))))}const IJ=zn("tree"),f3=mt(IJ,"treenode"),xVe=Cn(f3,"active"),EVe=Cn(f3,"open"),LVe=Cn(f3,"close"),cve=mt(IJ,"indent"),DVe=mt(cve,"guide"),TVe=mt(f3,"title"),IVe=8,kVe=({data:i,indent:e,className:t,name:n,renderIcon:r,renderTitle:s,draggable:o,onContextMenu:a,onClick:u,onNodeDragStart:c,onNodeDragEnter:h,onNodeDragOver:f,onNodeDrop:p,onNodeDragEnd:m})=>{const v=i.id,b=ge.useRef(null),S=H=>{H.stopPropagation(),c==null||c(H,i);try{H.dataTransfer.setData("text/plain","")}catch{}},x=H=>{H.preventDefault(),H.stopPropagation(),h==null||h(H,i)},w=H=>{H.preventDefault(),H.stopPropagation(),f==null||f(H,i)},E=H=>{H.preventDefault(),H.stopPropagation(),p==null||p(H,i)},N=H=>{H.stopPropagation(),m==null||m(H,i)},A=`${e?e+"_":""}${i.id}`;return re.createElement("div",{ref:b,key:`${v}-${e}`,tabIndex:0,"data-indent":e,"data-key":v,"data-id":`mo_treeNode_${A}`,className:t,title:n,draggable:o,onContextMenu:a,onClick:u,onDragStart:S,onDragOver:w,onDragEnter:x,onDragEnd:N,onDrop:E},re.createElement("div",{className:cve,style:{width:IVe*e}},new Array(e).fill("").map((H,R)=>re.createElement("div",{key:R,className:DVe}))),r(),re.createElement("span",{className:TVe},s()))};function NVe(){this.__data__=[],this.size=0}var AVe=NVe;function OVe(i,e){return i===e||i!==i&&e!==e}var kJ=OVe,MVe=kJ;function RVe(i,e){for(var t=i.length;t--;)if(MVe(i[t][0],e))return t;return-1}var yW=RVe,PVe=yW,FVe=Array.prototype,BVe=FVe.splice;function WVe(i){var e=this.__data__,t=PVe(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():BVe.call(e,t,1),--this.size,!0}var VVe=WVe,HVe=yW;function $Ve(i){var e=this.__data__,t=HVe(e,i);return t<0?void 0:e[t][1]}var zVe=$Ve,UVe=yW;function jVe(i){return UVe(this.__data__,i)>-1}var KVe=jVe,qVe=yW;function GVe(i,e){var t=this.__data__,n=qVe(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}var YVe=GVe,ZVe=AVe,XVe=VVe,QVe=zVe,JVe=KVe,eHe=YVe;function BE(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}BE.prototype.clear=ZVe;BE.prototype.delete=XVe;BE.prototype.get=QVe;BE.prototype.has=JVe;BE.prototype.set=eHe;var wW=BE,tHe=wW;function nHe(){this.__data__=new tHe,this.size=0}var iHe=nHe;function rHe(i){var e=this.__data__,t=e.delete(i);return this.size=e.size,t}var sHe=rHe;function oHe(i){return this.__data__.get(i)}var aHe=oHe;function lHe(i){return this.__data__.has(i)}var uHe=lHe,cHe=typeof Ca=="object"&&Ca&&Ca.Object===Object&&Ca,dve=cHe,dHe=dve,hHe=typeof self=="object"&&self&&self.Object===Object&&self,fHe=dHe||hHe||Function("return this")(),_p=fHe,gHe=_p,pHe=gHe.Symbol,g3=pHe,Ioe=g3,hve=Object.prototype,mHe=hve.hasOwnProperty,_He=hve.toString,DA=Ioe?Ioe.toStringTag:void 0;function vHe(i){var e=mHe.call(i,DA),t=i[DA];try{i[DA]=void 0;var n=!0}catch{}var r=_He.call(i);return n&&(e?i[DA]=t:delete i[DA]),r}var bHe=vHe,CHe=Object.prototype,yHe=CHe.toString;function wHe(i){return yHe.call(i)}var SHe=wHe,koe=g3,xHe=bHe,EHe=SHe,LHe="[object Null]",DHe="[object Undefined]",Noe=koe?koe.toStringTag:void 0;function THe(i){return i==null?i===void 0?DHe:LHe:Noe&&Noe in Object(i)?xHe(i):EHe(i)}var p3=THe;function IHe(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var ew=IHe,kHe=p3,NHe=ew,AHe="[object AsyncFunction]",OHe="[object Function]",MHe="[object GeneratorFunction]",RHe="[object Proxy]";function PHe(i){if(!NHe(i))return!1;var e=kHe(i);return e==OHe||e==MHe||e==AHe||e==RHe}var fve=PHe,FHe=_p,BHe=FHe["__core-js_shared__"],WHe=BHe,V$=WHe,Aoe=function(){var i=/[^.]+$/.exec(V$&&V$.keys&&V$.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function VHe(i){return!!Aoe&&Aoe in i}var HHe=VHe,$He=Function.prototype,zHe=$He.toString;function UHe(i){if(i!=null){try{return zHe.call(i)}catch{}try{return i+""}catch{}}return""}var gve=UHe,jHe=fve,KHe=HHe,qHe=ew,GHe=gve,YHe=/[\\^$.*+?()[\]{}|]/g,ZHe=/^\[object .+?Constructor\]$/,XHe=Function.prototype,QHe=Object.prototype,JHe=XHe.toString,e$e=QHe.hasOwnProperty,t$e=RegExp("^"+JHe.call(e$e).replace(YHe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n$e(i){if(!qHe(i)||KHe(i))return!1;var e=jHe(i)?t$e:ZHe;return e.test(GHe(i))}var i$e=n$e;function r$e(i,e){return i==null?void 0:i[e]}var s$e=r$e,o$e=i$e,a$e=s$e;function l$e(i,e){var t=a$e(i,e);return o$e(t)?t:void 0}var tw=l$e,u$e=tw,c$e=_p,d$e=u$e(c$e,"Map"),NJ=d$e,h$e=tw,f$e=h$e(Object,"create"),SW=f$e,Ooe=SW;function g$e(){this.__data__=Ooe?Ooe(null):{},this.size=0}var p$e=g$e;function m$e(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var _$e=m$e,v$e=SW,b$e="__lodash_hash_undefined__",C$e=Object.prototype,y$e=C$e.hasOwnProperty;function w$e(i){var e=this.__data__;if(v$e){var t=e[i];return t===b$e?void 0:t}return y$e.call(e,i)?e[i]:void 0}var S$e=w$e,x$e=SW,E$e=Object.prototype,L$e=E$e.hasOwnProperty;function D$e(i){var e=this.__data__;return x$e?e[i]!==void 0:L$e.call(e,i)}var T$e=D$e,I$e=SW,k$e="__lodash_hash_undefined__";function N$e(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=I$e&&e===void 0?k$e:e,this}var A$e=N$e,O$e=p$e,M$e=_$e,R$e=S$e,P$e=T$e,F$e=A$e;function WE(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}WE.prototype.clear=O$e;WE.prototype.delete=M$e;WE.prototype.get=R$e;WE.prototype.has=P$e;WE.prototype.set=F$e;var B$e=WE,Moe=B$e,W$e=wW,V$e=NJ;function H$e(){this.size=0,this.__data__={hash:new Moe,map:new(V$e||W$e),string:new Moe}}var $$e=H$e;function z$e(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}var U$e=z$e,j$e=U$e;function K$e(i,e){var t=i.__data__;return j$e(e)?t[typeof e=="string"?"string":"hash"]:t.map}var xW=K$e,q$e=xW;function G$e(i){var e=q$e(this,i).delete(i);return this.size-=e?1:0,e}var Y$e=G$e,Z$e=xW;function X$e(i){return Z$e(this,i).get(i)}var Q$e=X$e,J$e=xW;function eze(i){return J$e(this,i).has(i)}var tze=eze,nze=xW;function ize(i,e){var t=nze(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}var rze=ize,sze=$$e,oze=Y$e,aze=Q$e,lze=tze,uze=rze;function VE(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}VE.prototype.clear=sze;VE.prototype.delete=oze;VE.prototype.get=aze;VE.prototype.has=lze;VE.prototype.set=uze;var AJ=VE,cze=wW,dze=NJ,hze=AJ,fze=200;function gze(i,e){var t=this.__data__;if(t instanceof cze){var n=t.__data__;if(!dze||n.length<fze-1)return n.push([i,e]),this.size=++t.size,this;t=this.__data__=new hze(n)}return t.set(i,e),this.size=t.size,this}var pze=gze,mze=wW,_ze=iHe,vze=sHe,bze=aHe,Cze=uHe,yze=pze;function HE(i){var e=this.__data__=new mze(i);this.size=e.size}HE.prototype.clear=_ze;HE.prototype.delete=vze;HE.prototype.get=bze;HE.prototype.has=Cze;HE.prototype.set=yze;var OJ=HE;function wze(i,e){for(var t=-1,n=i==null?0:i.length;++t<n&&e(i[t],t,i)!==!1;);return i}var Sze=wze,xze=tw,Eze=function(){try{var i=xze(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Lze=Eze,Roe=Lze;function Dze(i,e,t){e=="__proto__"&&Roe?Roe(i,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):i[e]=t}var pve=Dze,Tze=pve,Ize=kJ,kze=Object.prototype,Nze=kze.hasOwnProperty;function Aze(i,e,t){var n=i[e];(!(Nze.call(i,e)&&Ize(n,t))||t===void 0&&!(e in i))&&Tze(i,e,t)}var MJ=Aze,Oze=MJ,Mze=pve;function Rze(i,e,t,n){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=n?n(t[a],i[a],a,t,i):void 0;u===void 0&&(u=i[a]),r?Mze(t,a,u):Oze(t,a,u)}return t}var EW=Rze;function Pze(i,e){for(var t=-1,n=Array(i);++t<i;)n[t]=e(t);return n}var Fze=Pze;function Bze(i){return i!=null&&typeof i=="object"}var nw=Bze,Wze=p3,Vze=nw,Hze="[object Arguments]";function $ze(i){return Vze(i)&&Wze(i)==Hze}var zze=$ze,Poe=zze,Uze=nw,mve=Object.prototype,jze=mve.hasOwnProperty,Kze=mve.propertyIsEnumerable,qze=Poe(function(){return arguments}())?Poe:function(i){return Uze(i)&&jze.call(i,"callee")&&!Kze.call(i,"callee")},_ve=qze,Gze=Array.isArray,Fm=Gze,B7={exports:{}};function Yze(){return!1}var Zze=Yze;B7.exports;(function(i,e){var t=_p,n=Zze,r=e&&!e.nodeType&&e,s=r&&!0&&i&&!i.nodeType&&i,o=s&&s.exports===r,a=o?t.Buffer:void 0,u=a?a.isBuffer:void 0,c=u||n;i.exports=c})(B7,B7.exports);var RJ=B7.exports,Xze=9007199254740991,Qze=/^(?:0|[1-9]\d*)$/;function Jze(i,e){var t=typeof i;return e=e??Xze,!!e&&(t=="number"||t!="symbol"&&Qze.test(i))&&i>-1&&i%1==0&&i<e}var PJ=Jze,eUe=9007199254740991;function tUe(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=eUe}var FJ=tUe,nUe=p3,iUe=FJ,rUe=nw,sUe="[object Arguments]",oUe="[object Array]",aUe="[object Boolean]",lUe="[object Date]",uUe="[object Error]",cUe="[object Function]",dUe="[object Map]",hUe="[object Number]",fUe="[object Object]",gUe="[object RegExp]",pUe="[object Set]",mUe="[object String]",_Ue="[object WeakMap]",vUe="[object ArrayBuffer]",bUe="[object DataView]",CUe="[object Float32Array]",yUe="[object Float64Array]",wUe="[object Int8Array]",SUe="[object Int16Array]",xUe="[object Int32Array]",EUe="[object Uint8Array]",LUe="[object Uint8ClampedArray]",DUe="[object Uint16Array]",TUe="[object Uint32Array]",Os={};Os[CUe]=Os[yUe]=Os[wUe]=Os[SUe]=Os[xUe]=Os[EUe]=Os[LUe]=Os[DUe]=Os[TUe]=!0;Os[sUe]=Os[oUe]=Os[vUe]=Os[aUe]=Os[bUe]=Os[lUe]=Os[uUe]=Os[cUe]=Os[dUe]=Os[hUe]=Os[fUe]=Os[gUe]=Os[pUe]=Os[mUe]=Os[_Ue]=!1;function IUe(i){return rUe(i)&&iUe(i.length)&&!!Os[nUe(i)]}var kUe=IUe;function NUe(i){return function(e){return i(e)}}var BJ=NUe,W7={exports:{}};W7.exports;(function(i,e){var t=dve,n=e&&!e.nodeType&&e,r=n&&!0&&i&&!i.nodeType&&i,s=r&&r.exports===n,o=s&&t.process,a=function(){try{var u=r&&r.require&&r.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();i.exports=a})(W7,W7.exports);var WJ=W7.exports,AUe=kUe,OUe=BJ,Foe=WJ,Boe=Foe&&Foe.isTypedArray,MUe=Boe?OUe(Boe):AUe,vve=MUe,RUe=Fze,PUe=_ve,FUe=Fm,BUe=RJ,WUe=PJ,VUe=vve,HUe=Object.prototype,$Ue=HUe.hasOwnProperty;function zUe(i,e){var t=FUe(i),n=!t&&PUe(i),r=!t&&!n&&BUe(i),s=!t&&!n&&!r&&VUe(i),o=t||n||r||s,a=o?RUe(i.length,String):[],u=a.length;for(var c in i)(e||$Ue.call(i,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||WUe(c,u)))&&a.push(c);return a}var bve=zUe,UUe=Object.prototype;function jUe(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||UUe;return i===t}var VJ=jUe;function KUe(i,e){return function(t){return i(e(t))}}var Cve=KUe,qUe=Cve,GUe=qUe(Object.keys,Object),YUe=GUe,ZUe=VJ,XUe=YUe,QUe=Object.prototype,JUe=QUe.hasOwnProperty;function eje(i){if(!ZUe(i))return XUe(i);var e=[];for(var t in Object(i))JUe.call(i,t)&&t!="constructor"&&e.push(t);return e}var tje=eje,nje=fve,ije=FJ;function rje(i){return i!=null&&ije(i.length)&&!nje(i)}var yve=rje,sje=bve,oje=tje,aje=yve;function lje(i){return aje(i)?sje(i):oje(i)}var LW=lje,uje=EW,cje=LW;function dje(i,e){return i&&uje(e,cje(e),i)}var hje=dje;function fje(i){var e=[];if(i!=null)for(var t in Object(i))e.push(t);return e}var gje=fje,pje=ew,mje=VJ,_je=gje,vje=Object.prototype,bje=vje.hasOwnProperty;function Cje(i){if(!pje(i))return _je(i);var e=mje(i),t=[];for(var n in i)n=="constructor"&&(e||!bje.call(i,n))||t.push(n);return t}var yje=Cje,wje=bve,Sje=yje,xje=yve;function Eje(i){return xje(i)?wje(i,!0):Sje(i)}var HJ=Eje,Lje=EW,Dje=HJ;function Tje(i,e){return i&&Lje(e,Dje(e),i)}var Ije=Tje,V7={exports:{}};V7.exports;(function(i,e){var t=_p,n=e&&!e.nodeType&&e,r=n&&!0&&i&&!i.nodeType&&i,s=r&&r.exports===n,o=s?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function u(c,h){if(h)return c.slice();var f=c.length,p=a?a(f):new c.constructor(f);return c.copy(p),p}i.exports=u})(V7,V7.exports);var kje=V7.exports;function Nje(i,e){var t=-1,n=i.length;for(e||(e=Array(n));++t<n;)e[t]=i[t];return e}var Aje=Nje;function Oje(i,e){for(var t=-1,n=i==null?0:i.length,r=0,s=[];++t<n;){var o=i[t];e(o,t,i)&&(s[r++]=o)}return s}var Mje=Oje;function Rje(){return[]}var wve=Rje,Pje=Mje,Fje=wve,Bje=Object.prototype,Wje=Bje.propertyIsEnumerable,Woe=Object.getOwnPropertySymbols,Vje=Woe?function(i){return i==null?[]:(i=Object(i),Pje(Woe(i),function(e){return Wje.call(i,e)}))}:Fje,$J=Vje,Hje=EW,$je=$J;function zje(i,e){return Hje(i,$je(i),e)}var Uje=zje;function jje(i,e){for(var t=-1,n=e.length,r=i.length;++t<n;)i[r+t]=e[t];return i}var Sve=jje,Kje=Cve,qje=Kje(Object.getPrototypeOf,Object),xve=qje,Gje=Sve,Yje=xve,Zje=$J,Xje=wve,Qje=Object.getOwnPropertySymbols,Jje=Qje?function(i){for(var e=[];i;)Gje(e,Zje(i)),i=Yje(i);return e}:Xje,Eve=Jje,eKe=EW,tKe=Eve;function nKe(i,e){return eKe(i,tKe(i),e)}var iKe=nKe,rKe=Sve,sKe=Fm;function oKe(i,e,t){var n=e(i);return sKe(i)?n:rKe(n,t(i))}var Lve=oKe,aKe=Lve,lKe=$J,uKe=LW;function cKe(i){return aKe(i,uKe,lKe)}var Dve=cKe,dKe=Lve,hKe=Eve,fKe=HJ;function gKe(i){return dKe(i,fKe,hKe)}var Tve=gKe,pKe=tw,mKe=_p,_Ke=pKe(mKe,"DataView"),vKe=_Ke,bKe=tw,CKe=_p,yKe=bKe(CKe,"Promise"),wKe=yKe,SKe=tw,xKe=_p,EKe=SKe(xKe,"Set"),LKe=EKe,DKe=tw,TKe=_p,IKe=DKe(TKe,"WeakMap"),kKe=IKe,Xq=vKe,Qq=NJ,Jq=wKe,eG=LKe,tG=kKe,Ive=p3,$E=gve,Voe="[object Map]",NKe="[object Object]",Hoe="[object Promise]",$oe="[object Set]",zoe="[object WeakMap]",Uoe="[object DataView]",AKe=$E(Xq),OKe=$E(Qq),MKe=$E(Jq),RKe=$E(eG),PKe=$E(tG),Sb=Ive;(Xq&&Sb(new Xq(new ArrayBuffer(1)))!=Uoe||Qq&&Sb(new Qq)!=Voe||Jq&&Sb(Jq.resolve())!=Hoe||eG&&Sb(new eG)!=$oe||tG&&Sb(new tG)!=zoe)&&(Sb=function(i){var e=Ive(i),t=e==NKe?i.constructor:void 0,n=t?$E(t):"";if(n)switch(n){case AKe:return Uoe;case OKe:return Voe;case MKe:return Hoe;case RKe:return $oe;case PKe:return zoe}return e});var DW=Sb,FKe=Object.prototype,BKe=FKe.hasOwnProperty;function WKe(i){var e=i.length,t=new i.constructor(e);return e&&typeof i[0]=="string"&&BKe.call(i,"index")&&(t.index=i.index,t.input=i.input),t}var VKe=WKe,HKe=_p,$Ke=HKe.Uint8Array,kve=$Ke,joe=kve;function zKe(i){var e=new i.constructor(i.byteLength);return new joe(e).set(new joe(i)),e}var zJ=zKe,UKe=zJ;function jKe(i,e){var t=e?UKe(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.byteLength)}var KKe=jKe,qKe=/\w*$/;function GKe(i){var e=new i.constructor(i.source,qKe.exec(i));return e.lastIndex=i.lastIndex,e}var YKe=GKe,Koe=g3,qoe=Koe?Koe.prototype:void 0,Goe=qoe?qoe.valueOf:void 0;function ZKe(i){return Goe?Object(Goe.call(i)):{}}var XKe=ZKe,QKe=zJ;function JKe(i,e){var t=e?QKe(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.length)}var eqe=JKe,tqe=zJ,nqe=KKe,iqe=YKe,rqe=XKe,sqe=eqe,oqe="[object Boolean]",aqe="[object Date]",lqe="[object Map]",uqe="[object Number]",cqe="[object RegExp]",dqe="[object Set]",hqe="[object String]",fqe="[object Symbol]",gqe="[object ArrayBuffer]",pqe="[object DataView]",mqe="[object Float32Array]",_qe="[object Float64Array]",vqe="[object Int8Array]",bqe="[object Int16Array]",Cqe="[object Int32Array]",yqe="[object Uint8Array]",wqe="[object Uint8ClampedArray]",Sqe="[object Uint16Array]",xqe="[object Uint32Array]";function Eqe(i,e,t){var n=i.constructor;switch(e){case gqe:return tqe(i);case oqe:case aqe:return new n(+i);case pqe:return nqe(i,t);case mqe:case _qe:case vqe:case bqe:case Cqe:case yqe:case wqe:case Sqe:case xqe:return sqe(i,t);case lqe:return new n;case uqe:case hqe:return new n(i);case cqe:return iqe(i);case dqe:return new n;case fqe:return rqe(i)}}var Lqe=Eqe,Dqe=ew,Yoe=Object.create,Tqe=function(){function i(){}return function(e){if(!Dqe(e))return{};if(Yoe)return Yoe(e);i.prototype=e;var t=new i;return i.prototype=void 0,t}}(),Iqe=Tqe,kqe=Iqe,Nqe=xve,Aqe=VJ;function Oqe(i){return typeof i.constructor=="function"&&!Aqe(i)?kqe(Nqe(i)):{}}var Mqe=Oqe,Rqe=DW,Pqe=nw,Fqe="[object Map]";function Bqe(i){return Pqe(i)&&Rqe(i)==Fqe}var Wqe=Bqe,Vqe=Wqe,Hqe=BJ,Zoe=WJ,Xoe=Zoe&&Zoe.isMap,$qe=Xoe?Hqe(Xoe):Vqe,zqe=$qe,Uqe=DW,jqe=nw,Kqe="[object Set]";function qqe(i){return jqe(i)&&Uqe(i)==Kqe}var Gqe=qqe,Yqe=Gqe,Zqe=BJ,Qoe=WJ,Joe=Qoe&&Qoe.isSet,Xqe=Joe?Zqe(Joe):Yqe,Qqe=Xqe,Jqe=OJ,eGe=Sze,tGe=MJ,nGe=hje,iGe=Ije,rGe=kje,sGe=Aje,oGe=Uje,aGe=iKe,lGe=Dve,uGe=Tve,cGe=DW,dGe=VKe,hGe=Lqe,fGe=Mqe,gGe=Fm,pGe=RJ,mGe=zqe,_Ge=ew,vGe=Qqe,bGe=LW,CGe=HJ,yGe=1,wGe=2,SGe=4,Nve="[object Arguments]",xGe="[object Array]",EGe="[object Boolean]",LGe="[object Date]",DGe="[object Error]",Ave="[object Function]",TGe="[object GeneratorFunction]",IGe="[object Map]",kGe="[object Number]",Ove="[object Object]",NGe="[object RegExp]",AGe="[object Set]",OGe="[object String]",MGe="[object Symbol]",RGe="[object WeakMap]",PGe="[object ArrayBuffer]",FGe="[object DataView]",BGe="[object Float32Array]",WGe="[object Float64Array]",VGe="[object Int8Array]",HGe="[object Int16Array]",$Ge="[object Int32Array]",zGe="[object Uint8Array]",UGe="[object Uint8ClampedArray]",jGe="[object Uint16Array]",KGe="[object Uint32Array]",ws={};ws[Nve]=ws[xGe]=ws[PGe]=ws[FGe]=ws[EGe]=ws[LGe]=ws[BGe]=ws[WGe]=ws[VGe]=ws[HGe]=ws[$Ge]=ws[IGe]=ws[kGe]=ws[Ove]=ws[NGe]=ws[AGe]=ws[OGe]=ws[MGe]=ws[zGe]=ws[UGe]=ws[jGe]=ws[KGe]=!0;ws[DGe]=ws[Ave]=ws[RGe]=!1;function c8(i,e,t,n,r,s){var o,a=e&yGe,u=e&wGe,c=e&SGe;if(t&&(o=r?t(i,n,r,s):t(i)),o!==void 0)return o;if(!_Ge(i))return i;var h=gGe(i);if(h){if(o=dGe(i),!a)return sGe(i,o)}else{var f=cGe(i),p=f==Ave||f==TGe;if(pGe(i))return rGe(i,a);if(f==Ove||f==Nve||p&&!r){if(o=u||p?{}:fGe(i),!a)return u?aGe(i,iGe(o,i)):oGe(i,nGe(o,i))}else{if(!ws[f])return r?i:{};o=hGe(i,f,a)}}s||(s=new Jqe);var m=s.get(i);if(m)return m;s.set(i,o),vGe(i)?i.forEach(function(S){o.add(c8(S,e,t,S,i,s))}):mGe(i)&&i.forEach(function(S,x){o.set(x,c8(S,e,t,x,i,s))});var v=c?u?uGe:lGe:u?CGe:bGe,b=h?void 0:v(i);return eGe(b||i,function(S,x){b&&(x=S,S=i[x]),tGe(o,x,c8(S,e,t,x,i,s))}),o}var qGe=c8,GGe=qGe,YGe=1,ZGe=4;function XGe(i){return GGe(i,YGe|ZGe)}var QGe=XGe;const Of=Om(QGe);class d8{constructor(e){this.hashMap=new Map,this.count=0,this.getHashMap=t=>this.hashMap.get(t.toString())||null,this.removeHashMap=t=>{var n;const r=this.hashMap.get(t.toString());r&&(this.hashMap.delete(t.toString()),!((n=r.children)===null||n===void 0)&&n.length&&r.children.forEach(s=>{this.removeHashMap(s)}))},this.getNode=t=>{const n=this.getHashMap(t);return(n==null?void 0:n.node)||null},this.removeNode=t=>{var n,r;const s=this.getHashMap(t);if(s){const{node:o,parent:a}=s;if(!a)return Hn.error("You're going to remove a root node"),null;const u=this.getHashMap(a),c=u==null?void 0:u.node;if(c)return(n=c.children)===null||n===void 0||n.splice(c.children.indexOf(o),1),(r=u.children)===null||r===void 0||r.splice(u.children.indexOf(t.toString()),1),this.removeHashMap(t),this.updateChildren(u.children),o}return null},this.updateNode=(t,n)=>{const r=this.getNode(t);return r?(Object.assign(r,n),r):null},this.insertNode=(t,n,r)=>{const s=this.getHashMap(n);if(s){const o=s.node,a=this.generate(t);if(a.parent=n.toString(),o.children=o.children||[],s.children=s.children||[],o.children.splice(r,0,t),s.children.splice(r,0,a.id),this.updateChildren(s.children),s.parent){const u=this.getHashMap(s.parent);u&&this.updateChildren(u.children)}return a}return null},this.insertBefore=(t,n)=>{const r=this.getHashMap(n);if(r){const s=r.parent;if(!s)return Hn.error("You're going to insert a obj before the root node"),null;const o=this.getHashMap(s);if(o){const a=(o.children||[]).indexOf(n.toString());return this.insertNode(t,s,a)}}return null},this.insertAfter=(t,n)=>{const r=this.getHashMap(n);if(r){const s=r.parent;if(!s)return Hn.error("You're going to insert a obj after the root node"),null;const o=this.getHashMap(s);if(o){const a=(o.children||[]).indexOf(n.toString());return this.insertNode(t,s,a+1)}}return null},this.prepend=(t,n)=>this.insertNode(t,n,0),this.append=(t,n)=>{const r=this.getHashMap(n);return r?(r.children=r.children||[],this.insertNode(t,n,r.children.length)):null},this.obj=Of(e),this.count=1,this.generate(this.obj)}addMap(e,t){if(this.hashMap.has(e)){Hn.error(`There is already a data whose key is ${e} in hashMap`);return}else this.hashMap.set(e,t),this.count+=1}generateChildren(e,t){const n=[];e.forEach(r=>{var s;const o={id:r.id.toString(),node:r};t.id&&(o.parent=t.id),this.addMap(r.id.toString(),o),n.push(r.id.toString()),!((s=r.children)===null||s===void 0)&&s.length&&this.generateChildren(r.children,o)}),t.children=n,n.forEach((r,s)=>{const o=this.hashMap.get(r);s>0&&(o.prev=n[s-1]),s<n.length-1&&(o.next=n[s+1])})}generate(e){var t;const n=e.id.toString(),r={id:n,node:e};return this.addMap(n,r),!((t=e.children)===null||t===void 0)&&t.length&&this.generateChildren(e.children,r),r}updateChildren(e=[]){e.forEach((t,n)=>{const r=this.getHashMap(t);r&&(r.prev=r.next=void 0,n>0&&(r.prev=e[n-1]),n<e.length-1&&(r.next=e[n+1]))})}}const TW=({className:i,data:e=[],draggable:t=!1,loadedKeys:n,expandKeys:r,activeKey:s,onExpand:o,onDropTree:a,onRightClick:u,renderTitle:c,onSelect:h,onLoadData:f,onTreeClick:p})=>{const[m,v]=ge.useState([]),[b,S]=ge.useState(null),[x,w]=ge.useState([]),E=ge.useRef(),N=ge.useRef({x:0,y:0,dragNode:null,flattenTree:null}),A=ge.useRef(null),H=ne=>!(!f||n!=null&&n.includes(ne)),R=ne=>{const Ce=ne.id.toString();H(Ce)&&(w(Te=>{const He=Te.concat();return He.push(Ce),He}),f(ne).finally(()=>{w(Te=>{const He=Te.concat(),ot=He.indexOf(Ce);return He.splice(ot,1),He})}))},M=(ne,Ce)=>{const Te=(r||m).concat(),He=Te.findIndex(ot=>ot===ne);He>-1?Te.splice(He,1):Te.push(ne),o?o(Te.concat(),Ce):v(Te.concat())},G=(ne,Ce)=>{Ce.stopPropagation();const Te=ne.id.toString();S(Te),ne.isLeaf||(R(ne),M(Te,ne)),h==null||h(ne)},X=(ne,Ce,Te,He)=>Ce?ne||null:He?re.createElement(br,{type:"loading~spin"}):re.createElement(br,{type:Te?"chevron-down":"chevron-right"}),$=(ne,Ce)=>{ne.stopPropagation(),u==null||u(ne,Ce)},I=ge.useCallback(ne=>{z(ne,null,!0),window.removeEventListener("dragend",I)},[]),O=(ne,Ce)=>{N.current={x:ne.clientX,y:ne.clientY,dragNode:Ce,flattenTree:new d8({id:Number.MAX_SAFE_INTEGER,children:e})};const Te=Ce.id.toString(),He=(r||m).indexOf(Te);if(He>-1){const ot=m.concat();ot.splice(He,1),o?o(ot,Ce):v(ot)}window.addEventListener("dragend",I)},B=Nr.debounce((ne,Ce)=>{const Te=Ce.id.toString(),He=(r||m).includes(Te),Rt=N.current.dragNode.id.toString(),Re=Te===Rt;!Ce.isLeaf&&!Re&&!He&&!H(Te)&&M(Te,Ce)},300),W=ne=>{const Ce=ne.id.toString(),Te=document.querySelector(`div[data-key="${Ce}"]`);let He=Te;for(;He;){He.classList.contains("drag-over")||He.classList.add("drag-over");const ot=He.nextElementSibling;(ot==null?void 0:ot.dataset.indent)===Te.dataset.indent?He=null:He=ot}},j=()=>{var ne;(ne=A.current)===null||ne===void 0||ne.querySelectorAll(".drag-over").forEach(Ce=>{Ce.classList.remove("drag-over")})},U=ne=>{var Ce,Te;const He=N.current.flattenTree,ot=(Ce=He.getHashMap(ne.id))===null||Ce===void 0?void 0:Ce.parent;return(Te=He.getHashMap(ot))===null||Te===void 0?void 0:Te.node},K=(ne,Ce)=>{const Te=Ce.isLeaf?U(Ce):Ce;Te!==E.current&&(j(),E.current=Te,W(Te))},z=(ne,Ce,Te=!1)=>{j(),E.current=void 0,N.current={x:0,y:0,dragNode:null,flattenTree:null}},k=(ne,Ce)=>{if(Ce.isLeaf){const Te=U(Ce),He=U(N.current.dragNode),ot=(Te.key||Te.id).toString(),Rt=(He.key||He.id).toString();if(ot===Rt){N.current={x:0,y:0,dragNode:null,flattenTree:null};return}a==null||a(N.current.dragNode,Te)}else{const Te=U(N.current.dragNode),He=(Te.key||Te.id).toString(),ot=Ce.id.toString(),Re=N.current.dragNode.id.toString();if(He===ot||Re===ot){N.current={x:0,y:0,dragNode:null,flattenTree:null};return}a==null||a(N.current.dragNode,Ce)}N.current={x:0,y:0,dragNode:null,flattenTree:null}},q=(ne,Ce)=>ne.map((Te,He)=>{const ot=Te.id.toString(),Rt=(r||m).includes(ot),Re=x.includes(ot),dt=b===ot,wt=(c==null?void 0:c(Te,He,!!Te.isLeaf))||Te.name,Je=typeof Te.icon=="string"?re.createElement(br,{type:Te.icon}):Te.icon,ln=re.createElement(kVe,{key:`${ot}-${Ce}`,draggable:t,data:Te,name:typeof wt=="string"?wt:void 0,indent:Ce,className:bn(f3,dt&&xVe,Rt?EVe:LVe),renderIcon:()=>X(Je,!!Te.isLeaf,Rt,Re),renderTitle:()=>wt,onContextMenu:pn=>$(pn,Te),onClick:pn=>G(Te,pn),onNodeDragStart:t?O:void 0,onNodeDragEnter:t?B:void 0,onNodeDragOver:t?K:void 0,onNodeDragEnd:t?z:void 0,onNodeDrop:t?k:void 0}),Yt=Rt&&!Re&&q(Te.children||[],Ce+1);return[ln,Yt]}),fe=()=>{S(null),p==null||p()};return ge.useLayoutEffect(()=>{var ne,Ce;const Te=[];for(e.forEach(He=>{Te.push({paths:[He],data:He})});Te.length;){const{paths:He,data:ot}=Te.pop();if((ne=ot.children)===null||ne===void 0?void 0:ne.find(Re=>Re.isEditable)){const Re=He.map(wt=>(R(wt),wt.id.toString())),dt=Array.from(new Set([...Re,...r||m]));o?o(dt,ot):v(dt);break}else{const Re=((Ce=ot.children)===null||Ce===void 0?void 0:Ce.map(dt=>({paths:[...He,dt],data:dt})))||[];Te.push(...Re)}}},[e]),ge.useEffect(()=>{s&&S(s.toString())},[s]),re.createElement("div",{role:"tree",ref:A,draggable:t,onClick:fe,className:bn(IJ,i)},q(e,0))};var JGe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const XA=i=>{const{visible:e=!0,children:t,className:n,style:r={}}=i,s=JGe(i,["visible","children","className","style"]);return re.createElement("div",Object.assign({className:n,style:Object.assign({display:e?void 0:"none"},r)},s),t)},eYe=Object.freeze(Object.defineProperty({__proto__:null,ActionBar:BP,Breadcrumb:Uhe,Button:VC,Checkbox:vDe,Collapse:qhe,get DirectionKind(){return Rx},Display:XA,DropDown:tX,Icon:br,Input:nX,Item:S2e,List:b2e,Menu:Cl,MenuItem:Xde,get MenuMode(){return C1},Modal:HP,MonacoEditor:CJ,Option:U_e,Pane:am,Scrollbar:PE,Search:$_e,Select:aR,SplitPane:cM,SubMenu:Jde,Tab:uve,Tabs:TJ,Toolbar:WP,Tooltip:qZ,TreeView:TW,useContextMenu:z9,useContextView:yE,useContextViewEle:RP},Symbol.toStringTag,{value:"Module"}));var $c;(function(i){i[i.EditorCore=0]="EditorCore",i[i.EditorContrib=100]="EditorContrib",i[i.WorkbenchContrib=200]="WorkbenchContrib",i[i.BuiltinExtension=300]="BuiltinExtension",i[i.ExternalExtension=400]="ExternalExtension"})($c||($c={}));const Mve={View:{value:C("view","View"),original:"View"},Help:{value:C("help","Help"),original:"Help"},Preferences:{value:C("preferences","Preferences"),original:"Preferences"},Developer:{value:C({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}};var tYe=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class Md{constructor(e){this.desc=e}}function nYe(i){const e=new tt,t=new i,n=t.desc,{f1:r,menu:s,keybinding:o,description:a}=n,u=tYe(n,["f1","menu","keybinding","description"]);if(e.add(ni.registerCommand({id:u.id,handler:(c,...h)=>t.run(c,...h),description:a})),Array.isArray(s)?e.add(Sa.appendMenuItems(s.map(c=>({id:c.id,item:Object.assign({command:u},c)})))):s&&e.add(Sa.appendMenuItem(s.id,Object.assign({command:u},s))),r&&(e.add(Sa.appendMenuItem(Ft.CommandPalette,{command:u,when:u.precondition})),e.add(Sa.addCommand(u))),Array.isArray(o))for(const c of o)Xo.registerKeybindingRule(Object.assign(Object.assign({},c),{id:u.id,when:u.precondition?bt.and(u.precondition,c.when):c.when}));else o&&Xo.registerKeybindingRule(Object.assign(Object.assign({},o),{id:u.id,when:u.precondition?bt.and(u.precondition,o.when):o.when}));return e}const iYe=Object.freeze(Object.defineProperty({__proto__:null,Action2:Md,KeyChord:cs,get KeybindingWeight(){return $c}},Symbol.toStringTag,{value:"Module"})),rYe="ko-KR",sYe="",oYe={"molecule.welcome":"Molecule   ",menubar:" ","menu.file":"","menu.settings":"","menu.account":"","menu.colorTheme":" ","menu.newFile":" ","menu.newFolder":" ","menu.open":"","menu.edit":"","menu.undo":"","menu.redo":" ","menu.selection":"","menu.selectAll":" ","menu.copyLineUp":"  ","menu.view":"","menu.commandPalette":" ","menu.openView":" ","menu.appearance":"","menu.showMenuBar":"  ","menu.showSideBar":"  ","menu.showSideBar.label":"    ","menu.showStatusBar":"  ","menu.showActivityBar":"  ","menu.hideActivityBar":"  ","menu.showPanel":" ","menu.showPanel.title":" ","menu.defaultProjectName":"  ","menu.run":"","menu.runTask":" ","menu.help":"","menu.about":"","menu.menuBarHorizontal":"   ","menu.menuBarVertical":"   ","sidebar.explore.folders":"","sidebar.explore.title":"","sidebar.explore.openEditor":" ","sidebar.explore.openEditor.group":"${i} ","sidebar.explore.outline":"","sidebar.search.title":"","sidebar.replace.placement":"","sidebar.explore.refresh":"  ","sidebar.explore.collapseFolders":"   ","sidebar.explore.toggleVertical":" ","sidebar.explore.saveAll":" ","sidebar.explore.actionDesc":"    ...","sidebar.explore.outlineMore":"  ...","toolbar.refresh":" ","toolbar.clearAll":" ","toolbar.collapseAll":" ","search.matchCase":"/ ","search.matchWholeWord":"  ","search.useRegularExpression":" ","search.preserveCase":"/ ","search.replaceAll":" ","panel.output.title":"","panel.toolbox.closePanel":" ","panel.toolbox.maximize":"  ","panel.toolbox.restoreSize":"  ","panel.problems.title":"","panel.problems.empty":"    .","notification.title":"","notification.title.no":"  .","editor.closeToRight":"   ","editor.closeToLeft":"   ","editor.closeAll":" ","editor.closeSaved":"  ","editor.closeOthers":"  ","editor.close":"","editor.actions.splitRight":" ","editor.showOpenEditors":"   ","contextmenu.rename":" ","contextmenu.delete":"","contextmenu.newFile":" ","contextmenu.newFolder":" ","contextmenu.removeFolder":" ","contextmenu.openToTheSide":" ","contextmenu.addFolderToSpace":"   ...","contextmenu.findInSpace":"  ...","contextmenu.download":"..."},aYe={id:rYe,name:sYe,source:oYe},lYe="zh-CN",uYe="",cYe={"molecule.welcome":"!",menubar:"","menu.file":"","menu.settings":"","menu.account":"","menu.colorTheme":"","menu.newFile":"","menu.newFolder":"","menu.open":"","menu.edit":"","menu.undo":"","menu.redo":"","menu.selection":"","menu.selectAll":"","menu.copyLineUp":"","menu.view":"","menu.commandPalette":"","menu.openView":"","menu.appearance":"","menu.showMenuBar":"","menu.showAuxiliaryBar":"","menu.showSideBar":"","menu.showSideBar.label":"","menu.showStatusBar":"","menu.showActivityBar":"","menu.hideActivityBar":"","menu.showPanel":"","menu.showPanel.title":"","menu.defaultProjectName":"","menu.run":"","menu.runTask":"","menu.help":"","menu.about":"","menu.menuBarHorizontal":"","menu.menuBarVertical":"","sidebar.explore.folders":"","sidebar.explore.title":"","sidebar.explore.openEditor":"","sidebar.explore.openEditor.group":" ${i} ","sidebar.explore.outline":"","sidebar.search.title":"","sidebar.replace.placement":"","sidebar.explore.refresh":"","sidebar.explore.collapseFolders":"","sidebar.explore.toggleVertical":"","sidebar.explore.saveAll":"","sidebar.explore.actionDesc":"...","sidebar.explore.outlineMore":"...","toolbar.refresh":"","toolbar.clearAll":"","toolbar.collapseAll":"","search.matchCase":"","search.matchWholeWord":"","search.useRegularExpression":"","search.preserveCase":"","search.replaceAll":"","panel.output.title":"","panel.problems.title":"","panel.problems.empty":"","panel.toolbox.closePanel":"","panel.toolbox.maximize":"","panel.toolbox.restoreSize":"","notification.title":"","notification.title.no":"","notification.locale.title":", ","notification.locale.description":"","notification.locale.button":"","editor.closeToRight":"","editor.closeToLeft":"","editor.closeAll":"","editor.closeOthers":"","editor.closeSaved":"","editor.close":"","editor.actions.splitRight":"","editor.showOpenEditors":"","contextmenu.rename":"","contextmenu.delete":"","contextmenu.newFile":"","contextmenu.newFolder":"","contextmenu.removeFolder":"","contextmenu.openToTheSide":"","contextmenu.addFolderToSpace":"...","contextmenu.findInSpace":"...","contextmenu.download":"..."},dYe={id:lYe,name:uYe,source:cYe},hYe="en",fYe="English",gYe={"molecule.welcome":"Welcome to Molecule",menubar:"Menu Bar","menu.file":"File","menu.settings":"Settings","menu.account":"Account","menu.colorTheme":"Color Theme","menu.newFile":"New File","menu.newFolder":"New Folder","menu.open":"Open","menu.edit":"Edit","menu.undo":"Undo","menu.redo":"Redo","menu.selection":"Selection","menu.selectAll":"Select All","menu.copyLineUp":"Copy Line Up","menu.view":"View","menu.commandPalette":"Command Palette","menu.openView":"Open View","menu.appearance":"Appearance","menu.showMenuBar":"Show Menu Bar","menu.showAuxiliaryBar":"Show Auxiliary Bar","menu.showSideBar":"Show Side Bar","menu.showSideBar.label":"Toggle Side Bar Visibility","menu.showStatusBar":"Show Status Bar","menu.showActivityBar":"Show Activity Bar","menu.hideActivityBar":"Hide Activity Bar","menu.showPanel":"Show Panel","menu.showPanel.title":"Toggle Panel","menu.defaultProjectName":"Default Project Name","menu.run":"Run","menu.runTask":"Run Task","menu.help":"Help","menu.about":"About","menu.menuBarHorizontal":"Menu Bar Horizontal Mode","menu.menuBarVertical":"Menu Bar Vertical Mode","sidebar.explore.folders":"Folders","sidebar.explore.title":"Explorer","sidebar.explore.openEditor":"Open Editors","sidebar.explore.openEditor.group":"Group ${i}","sidebar.explore.outline":"Outline","sidebar.search.title":"Search","sidebar.replace.placement":"Replace","sidebar.explore.refresh":"Refresh Explorer","sidebar.explore.collapseFolders":"Collapse Folders in Explorer","sidebar.explore.toggleVertical":"Toggle Vertical","sidebar.explore.saveAll":"Save All","sidebar.explore.actionDesc":"View and More Actions...","sidebar.explore.outlineMore":"More Actions...","toolbar.refresh":"Refresh","toolbar.clearAll":"Clear all","toolbar.collapseAll":"Collapse all","search.matchCase":"Match Case","search.matchWholeWord":"Match Whole Word","search.useRegularExpression":"Use Regular Expression","search.preserveCase":"Preserve Case","search.replaceAll":"Replace All","panel.output.title":"output","panel.toolbox.closePanel":"Close Panel","panel.toolbox.maximize":"Maximize Panel Size","panel.toolbox.restoreSize":"Restore Panel Size","panel.problems.title":"Problems","panel.problems.empty":"No problems have been detected in the workspace.","notification.title":"Notifications","notification.title.no":"No new notifications","notification.locale.title":"A reload is required for the change in display language to take effect.","notification.locale.description":"Press the confirm button to reload and change the display language.","notification.locale.button":"Confirm Reload","editor.closeToRight":"Close To Right","editor.closeToLeft":"Close To Left","editor.closeAll":"Close All","editor.closeSaved":"Close Saved","editor.closeOthers":"Close Others","editor.close":"Close","editor.actions.splitRight":"Split Editor Right","editor.showOpenEditors":"Show Opened Editors","contextmenu.rename":"Rename","contextmenu.delete":"Delete","contextmenu.newFile":"New File","contextmenu.newFolder":"New Folder","contextmenu.removeFolder":"Remove Folder","contextmenu.openToTheSide":"Open to the Side","contextmenu.addFolderToSpace":"Add Folder to Workspace...","contextmenu.findInSpace":"Find in Workspace...","contextmenu.download":"Download..."},pYe={id:hYe,name:fYe,source:gYe};var nG;(function(i){i.Theme="Themes",i.Normal="normal",i.Settings="settings",i.Locals="locales",i.Menus="menus",i.Workbench="workbench"})(nG||(nG={}));var Px;(function(i){i.Languages="languages",i.Commands="commands",i.Configuration="configuration",i.Grammar="grammars",i.Themes="themes",i.IconTheme="iconThemes"})(Px||(Px={}));const mYe=aYe,_Ye=dYe,Rve=pYe,Pve=[_Ye,Rve,mYe],vYe={id:"ExtendsLocales",name:"Extends locales",contributes:{[Px.Languages]:Pve},activate(){},dispose(){}},bYe=Rve.id;Pve.find(i=>i.id===bYe);var H7;(function(i){i.OnChange="localization.onchange"})(H7||(H7={}));var CYe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},yYe=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},iG;const rG=`${H9}.localeId`;let Vf=iG=class extends El{constructor(){super(),this.state={},this._locales=new Map}reset(){localStorage.removeItem(rG),this._current=void 0,this._locales.clear()}getLocales(){return Array.from(this._locales.values())}initialize(e,t){this.addLocales(e),this._locales.get(t)?this._current=this._locales.get(t):Hn.error(`Cannot initialize the locale with ${t}`)}getCurrentLocale(){return this._current&&Object.assign({},this._current)}getLocale(e){if(e)return this._locales.get(e)}removeLocale(e){const t=this._locales.get(e);if(t!==void 0){if(this._locales.size===1){Hn.error("You can't remove this Locale because there must have one locale at least");return}return this._current&&this._current.id===t.id&&(this._current=this._locales.values().next().value),this._locales.delete(e),t}}setCurrentLocale(e){if(this._current&&this._current.id===e)return!0;const t=this._locales.get(e);return t?(this.emit(H7.OnChange,this._current,t),this._current=t,localStorage.setItem(rG,t.id),!0):!1}transformLocaleData(e){const t=Object.assign({},e);if(e.source instanceof Map||(t.source=new Map(Object.entries(e.source))),t.inherit){const n=this._locales.get(t.inherit);n&&(t.source=new Map([...n.source,...t.source]))}return t}addLocales(e){if(e.length>0){const t=this._locales;e.forEach(n=>{const r=n.id;t.has(r)||t.set(r,this.transformLocaleData(n))})}}onChange(e){this.subscribe(H7.OnChange,e)}localize(e,t="",...n){let r=t;return this._current&&(r=this._current.source.get(e)||t),n.length&&n.forEach(s=>{r=r.replace(iG.LOCALIZE_REPLACED_WORD,s)}),r}};Vf.LOCALIZE_REPLACED_WORD="${i}";Vf=iG=CYe([er(),yYe("design:paramtypes",[])],Vf);function pt(i,e,...t){return qe.resolve(Vf).localize(i,e,...t)}class j1t extends re.PureComponent{constructor(e){super(e),this.state={localeId:""},this.getValue=()=>{const{sourceKey:t,defaultValue:n=""}=this.props;return this.localeService?this.localeService.localize(t,n):n}}componentDidMount(){var e;this.update((e=this.localeService.getCurrentLocale())===null||e===void 0?void 0:e.id),this.localeService.onChange((t,n)=>{this.update(n.id)})}update(e){this.setState({localeId:e})}get localeService(){return qe.resolve(Vf)}render(){return this.getValue()}}var os;(function(i){i.OnCloseTab="editor.closeTab",i.OnCloseAll="editor.closeAll",i.OnCloseOther="editor.closeOther",i.OnCloseToLeft="editor.closeToLeft",i.OnCloseToRight="editor.closeToRight",i.OnMoveTab="editor.moveTab",i.OpenTab="editor.openTab",i.OnSelectTab="editor.selectTab",i.OnUpdateTab="editor.updateTab",i.onActionsClick="editor.actionsClick",i.OnSplitEditorRight="editor.splitEditorRight",i.onEditorInstanceMount="editor.onEditorInstanceMount"})(os||(os={}));class Fve{constructor(e,t,n,r,s=[],o=[],a){this.id=e,this.data=r,this.menu=o,this.actions=s,this.tab=t,this.activeTab=n,this.editorInstance=a}}class Bve{constructor(e=null,t=[],n,r={}){this.current=e,this.groups=t,this.entry=n,this.editorOptions=r}}const wYe="modulepreload",SYe=function(i){return"/monaco-sql-languages/"+i},eae={},Nt=function(e,t,n){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=SYe(s),s in eae)return;eae[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let h=r.length-1;h>=0;h--){const f=r[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":wYe,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};const xYe={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class EYe extends Me{constructor(e,t={}){super(),this._onDidUpdate=this._register(new ye),this._editor=e,this._options=hp(t,xYe,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(n=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(n=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(n=>{this.ranges.push({rhs:!0,range:new Q(n.modifiedStartLineNumber,n.modifiedStartColumn,n.modifiedEndLineNumber,n.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new Q(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new Q(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,n)=>Q.compareRangesUsingStarts(t.range,n.range)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,n=this._editor.getPosition();if(!n){this.nextIdx=0;return}for(let r=0,s=this.ranges.length;r<s&&!t;r++){let o=this.ranges[r].range;n.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=r+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(e,t){if(H6(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let n=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let r=n.range.getStartPosition();this._editor.setPosition(r),this._editor.revealRangeInCenter(n.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}function LYe(i,e){return new DYe(i,e)}class DYe extends Vme{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(n){return Promise.reject(n)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?LX(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(n=>{this._foreignModuleCreateData=null;const r=(a,u)=>e.fmr(a,u),s=(a,u)=>function(){const c=Array.prototype.slice.call(arguments,0);return u(a,c)};let o={};for(const a of n)o[a]=s(a,r);return o})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}}function TYe(i){return Array.isArray(i)}function IYe(i){return!TYe(i)}function Wve(i){return typeof i=="string"}function tae(i){return!Wve(i)}function $w(i){return!i}function a1(i,e){return i.ignoreCase&&e?e.toLowerCase():e}function nae(i){return i.replace(/[&<>'"_]/g,"-")}function kYe(i,e){console.log(`${i.languageId}: ${e}`)}function gr(i,e){return new Error(`${i.languageId}: ${e}`)}function I0(i,e,t,n,r){const s=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return e.replace(s,function(a,u,c,h,f,p,m,v,b){return $w(c)?$w(h)?!$w(f)&&f<n.length?a1(i,n[f]):!$w(m)&&i&&typeof i[m]=="string"?i[m]:(o===null&&(o=r.split("."),o.unshift(r)),!$w(p)&&p<o.length?a1(i,o[p]):""):a1(i,t):"$"})}function G5(i,e){let t=e;for(;t&&t.length>0;){const n=i.tokenizer[t];if(n)return n;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return null}function NYe(i,e){let t=e;for(;t&&t.length>0;){if(i.stateNames[t])return!0;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return!1}const Vve=5;class lR{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new XS(e,t);let n=XS.getStackElementId(e);n.length>0&&(n+="|"),n+=t;let r=this._entries[n];return r||(r=new XS(e,t),this._entries[n]=r,r)}}lR._INSTANCE=new lR(Vve);class XS{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return XS._equals(this,e)}push(e){return lR.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return lR.create(this.parent,e)}}class FO{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new FO(this.languageId,this.state)}}class k0{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(t!==null)return new BO(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new BO(e,t);let n=XS.getStackElementId(e),r=this._entries[n];return r||(r=new BO(e,null),this._entries[n]=r,r)}}k0._INSTANCE=new k0(Vve);class BO{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:k0.create(this.stack,this.embeddedModeData)}equals(e){return!(e instanceof BO)||!this.stack.equals(e.stack)?!1:this.embeddedModeData===null&&e.embeddedModeData===null?!0:this.embeddedModeData===null||e.embeddedModeData===null?!1:this.embeddedModeData.equals(e.embeddedModeData)}}class AYe{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._languageId=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new PB(e,t,this._languageId)))}nestedModeTokenize(e,t,n,r){const s=n.languageId,o=n.state,a=Xr.get(s);if(!a)return this.enterMode(r,s),this.emit(r,""),o;let u=a.tokenize(e,t,o,r);return this._tokens=this._tokens.concat(u.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,u.endState}finalize(e){return new dQ(this._tokens,e)}}class $7{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(t)}emit(e,t){let n=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==n&&(this._lastTokenMetadata=n,this._tokens.push(e),this._tokens.push(n))}static _merge(e,t,n){let r=e!==null?e.length:0,s=t.length,o=n!==null?n.length:0;if(r===0&&s===0&&o===0)return new Uint32Array(0);if(r===0&&s===0)return n;if(s===0&&o===0)return e;let a=new Uint32Array(r+s+o);e!==null&&a.set(e);for(let u=0;u<s;u++)a[r+u]=t[u];return n!==null&&a.set(n,r+s),a}nestedModeTokenize(e,t,n,r){const s=n.languageId,o=n.state,a=Xr.get(s);if(!a)return this.enterMode(r,s),this.emit(r,""),o;let u=a.tokenize2(e,t,o,r);return this._prependTokens=$7._merge(this._prependTokens,this._tokens,u.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,u.endState}finalize(e){return new FB($7._merge(this._prependTokens,this._tokens,null),e)}}class IW{constructor(e,t,n,r){this._modeService=e,this._standaloneThemeService=t,this._languageId=n,this._lexer=r,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._tokenizationRegistryListener=Xr.onDidChange(o=>{if(s)return;let a=!1;for(let u=0,c=o.changedLanguages.length;u<c;u++){let h=o.changedLanguages[u];if(this._embeddedModes[h]){a=!0;break}}a&&(s=!0,Xr.fire([this._languageId]),s=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const n=Xr.get(t);if(n){if(n instanceof IW){const s=n.getLoadStatus();s.loaded===!1&&e.push(s.promise)}continue}const r=Xr.getPromise(t);r&&e.push(r)}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){let e=lR.create(null,this._lexer.start);return k0.create(e,null)}tokenize(e,t,n,r){let s=new AYe,o=this._tokenize(e,t,n,r,s);return s.finalize(o)}tokenize2(e,t,n,r){let s=new $7(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,n,r,s);return s.finalize(o)}_tokenize(e,t,n,r,s){return n.embeddedModeData?this._nestedTokenize(e,t,n,r,s):this._myTokenize(e,t,n,r,s)}_findLeavingNestedModeOffset(e,t){let n=this._lexer.tokenizer[t.stack.state];if(!n&&(n=G5(this._lexer,t.stack.state),!n))throw gr(this._lexer,"tokenizer state is not defined: "+t.stack.state);let r=-1,s=!1;for(const o of n){if(!tae(o.action)||o.action.nextEmbedded!=="@pop")continue;s=!0;let a=o.regex,u=o.regex.source;if(u.substr(0,4)==="^(?:"&&u.substr(u.length-1,1)===")"){let h=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(u.substr(4,u.length-5),h)}let c=e.search(a);c===-1||c!==0&&o.matchOnlyAtLineStart||(r===-1||c<r)&&(r=c)}if(!s)throw gr(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return r}_nestedTokenize(e,t,n,r,s){let o=this._findLeavingNestedModeOffset(e,n);if(o===-1){let c=s.nestedModeTokenize(e,t,n.embeddedModeData,r);return k0.create(n.stack,new FO(n.embeddedModeData.languageId,c))}let a=e.substring(0,o);a.length>0&&s.nestedModeTokenize(a,!1,n.embeddedModeData,r);let u=e.substring(o);return this._myTokenize(u,t,n,r+o,s)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,n,r,s){s.enterMode(r,this._languageId);const o=e.length,a=t&&this._lexer.includeLF?e+`
`:e,u=a.length;let c=n.embeddedModeData,h=n.stack,f=0,p=null,m=!0;for(;m||f<u;){const v=f,b=h.depth,S=p?p.groups.length:0,x=h.state;let w=null,E=null,N=null,A=null,H=null;if(p){w=p.matches;const G=p.groups.shift();E=G.matched,N=G.action,A=p.rule,p.groups.length===0&&(p=null)}else{if(!m&&f>=u)break;m=!1;let G=this._lexer.tokenizer[x];if(!G&&(G=G5(this._lexer,x),!G))throw gr(this._lexer,"tokenizer state is not defined: "+x);let X=a.substr(f);for(const $ of G)if((f===0||!$.matchOnlyAtLineStart)&&(w=X.match($.regex),w)){E=w[0],N=$.action;break}}if(w||(w=[""],E=""),N||(f<u&&(w=[a.charAt(f)],E=w[0]),N=this._lexer.defaultToken),E===null)break;for(f+=E.length;IYe(N)&&tae(N)&&N.test;)N=N.test(E,w,x,f===u);let R=null;if(typeof N=="string"||Array.isArray(N))R=N;else if(N.group)R=N.group;else if(N.token!==null&&N.token!==void 0){if(N.tokenSubst?R=I0(this._lexer,N.token,E,w,x):R=N.token,N.nextEmbedded)if(N.nextEmbedded==="@pop"){if(!c)throw gr(this._lexer,"cannot pop embedded mode if not inside one");c=null}else{if(c)throw gr(this._lexer,"cannot enter embedded mode from within an embedded mode");H=I0(this._lexer,N.nextEmbedded,E,w,x)}if(N.goBack&&(f=Math.max(0,f-N.goBack)),N.switchTo&&typeof N.switchTo=="string"){let G=I0(this._lexer,N.switchTo,E,w,x);if(G[0]==="@"&&(G=G.substr(1)),G5(this._lexer,G))h=h.switchTo(G);else throw gr(this._lexer,"trying to switch to a state '"+G+"' that is undefined in rule: "+this._safeRuleName(A))}else{if(N.transform&&typeof N.transform=="function")throw gr(this._lexer,"action.transform not supported");if(N.next)if(N.next==="@push"){if(h.depth>=this._lexer.maxStack)throw gr(this._lexer,"maximum tokenizer stack size reached: ["+h.state+","+h.parent.state+",...]");h=h.push(x)}else if(N.next==="@pop"){if(h.depth<=1)throw gr(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(A));h=h.pop()}else if(N.next==="@popall")h=h.popall();else{let G=I0(this._lexer,N.next,E,w,x);if(G[0]==="@"&&(G=G.substr(1)),G5(this._lexer,G))h=h.push(G);else throw gr(this._lexer,"trying to set a next state '"+G+"' that is undefined in rule: "+this._safeRuleName(A))}}N.log&&typeof N.log=="string"&&kYe(this._lexer,this._lexer.languageId+": "+I0(this._lexer,N.log,E,w,x))}if(R===null)throw gr(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(A));const M=G=>{let X=this._modeService.getModeIdForLanguageName(G);X&&(G=X);const $=this._getNestedEmbeddedModeData(G);if(f<u){const I=e.substr(f);return this._nestedTokenize(I,t,k0.create(h,$),r+f,s)}else return k0.create(h,$)};if(Array.isArray(R)){if(p&&p.groups.length>0)throw gr(this._lexer,"groups cannot be nested: "+this._safeRuleName(A));if(w.length!==R.length+1)throw gr(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(A));let G=0;for(let X=1;X<w.length;X++)G+=w[X].length;if(G!==E.length)throw gr(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(A));p={rule:A,matches:w,groups:[]};for(let X=0;X<R.length;X++)p.groups[X]={action:R[X],matched:w[X+1]};f-=E.length;continue}else{if(R==="@rematch"&&(f-=E.length,E="",w=null,R="",H!==null))return M(H);if(E.length===0){if(u===0||b!==h.depth||x!==h.state||(p?p.groups.length:0)!==S)continue;throw gr(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(A))}let G=null;if(Wve(R)&&R.indexOf("@brackets")===0){let X=R.substr(9),$=OYe(this._lexer,E);if(!$)throw gr(this._lexer,"@brackets token returned but no bracket defined as: "+E);G=nae($.token+X)}else{let X=R===""?"":R+this._lexer.tokenPostfix;G=nae(X)}v<o&&s.emit(v+r,G)}if(H!==null)return M(H)}return k0.create(h,c)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let n=Xr.get(t);if(n)return new FO(t,n.getInitialState())}return new FO(t||I1,YP)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._languageId)return e;const t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function OYe(i,e){if(!e)return null;e=a1(i,e);let t=i.brackets;for(const n of t){if(n.open===e)return{token:n.token,bracketType:1};if(n.close===e)return{token:n.token,bracketType:-1}}return null}function MYe(i,e,t,n){return new IW(i,e,t,n)}var H$;const $$=(H$=window.trustedTypes)===null||H$===void 0?void 0:H$.createPolicy("standaloneColorizer",{createHTML:i=>i});class UJ{static colorizeElement(e,t,n,r){r=r||{};let s=r.theme||"vs",o=r.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();e.setTheme(s);let a=n.firstChild?n.firstChild.nodeValue:"";n.className+=" "+s;let u=c=>{var h;const f=(h=$$==null?void 0:$$.createHTML(c))!==null&&h!==void 0?h:c;n.innerHTML=f};return this.colorize(t,a||"",o,r).then(u,c=>console.error(c))}static colorize(e,t,n,r){const s=e.languageIdCodec;let o=4;r&&typeof r.tabSize=="number"&&(o=r.tabSize),OX(t)&&(t=t.substr(1));let a=Kg(t),u=e.getModeId(n);if(!u)return Promise.resolve(iae(a,o,s));e.triggerMode(u);const c=Xr.get(u);if(c)return z$(a,o,c,s);const h=Xr.getPromise(u);return h?new Promise((f,p)=>{h.then(m=>{z$(a,o,m,s).then(f,p)},p)}):new Promise((f,p)=>{let m=null,v=null;const b=()=>{m&&(m.dispose(),m=null),v&&(v.dispose(),v=null);const S=Xr.get(u);if(S){z$(a,o,S,s).then(f,p);return}f(iae(a,o,s))};v=new el,v.cancelAndSet(b,500),m=Xr.onDidChange(S=>{S.changedLanguages.indexOf(u)>=0&&b()})})}static colorizeLine(e,t,n,r,s=4){const o=uc.isBasicASCII(e,t),a=uc.containsRTL(e,o,n);return NB(new Gy(!1,!0,e,!1,o,a,0,r,[],s,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,n=4){let r=e.getLineContent(t);e.forceTokenization(t);let o=e.getLineTokens(t).inflate();return this.colorizeLine(r,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,n)}}function z$(i,e,t,n){return new Promise((r,s)=>{const o=()=>{const a=RYe(i,e,t,n);if(t instanceof IW){const u=t.getLoadStatus();if(u.loaded===!1){u.promise.then(o,s);return}}r(a)};o()})}function iae(i,e,t){let n=[];const s=new Uint32Array(2);s[0]=0,s[1]=16793600;for(let o=0,a=i.length;o<a;o++){let u=i[o];s[0]=u.length;const c=new _o(s,u,t),h=uc.isBasicASCII(u,!0),f=uc.containsRTL(u,h,!0);let p=NB(new Gy(!1,!0,u,!1,h,f,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(p.html),n.push("<br/>")}return n.join("")}function RYe(i,e,t,n){let r=[],s=t.getInitialState();for(let o=0,a=i.length;o<a;o++){let u=i[o],c=t.tokenize2(u,!0,s,0);_o.convertToEndOffset(c.tokens,u.length);let h=new _o(c.tokens,u,n);const f=uc.isBasicASCII(u,!0),p=uc.containsRTL(u,f,!0);let m=NB(new Gy(!1,!0,u,!1,f,p,0,h.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(m.html),r.push("<br/>"),s=c.endState}return r.join("")}function Hve(i,e,t){let n=new B_e(i,e),r=null;n.has(wl)||(r=new p7(Ei.modelService.get()),n.set(wl,r)),n.has(Yl)||n.set(Yl,new F7(n.get(Mi),n.get(Vr)));let s=t(n);return r&&r.setEditor(s),s}function PYe(i,e,t){return Hve(i,t||{},n=>new GM(i,e,n,n.get(Rn),n.get(Mi),n.get(Vr),n.get(gn),n.get(Or),n.get(Rm),n.get(tb),n.get(Ts),n.get(cr),n.get(Dl),n.get($s),n.get(ta)))}function FYe(i){return Ei.codeEditorService.get().onCodeEditorAdd(e=>{i(e)})}function BYe(i,e,t){return Hve(i,t||{},n=>new _K(i,e,n,n.get(Rn),n.get(gn),n.get(Or),n.get(Rm),n.get(fc),n.get(Mi),n.get(tb),n.get(Ts),n.get(cr),n.get(J1),n.get(Pm),n.get(eb)))}function WYe(i,e){return new EYe(i,e)}function VYe(i,e,t){return Mme(Ei.modelService.get(),Ei.modeService.get(),i,e,t)}function HYe(i,e){Ei.modelService.get().setMode(i,Ei.modeService.get().create(e))}function $Ye(i,e,t){i&&Ei.markerService.get().changeOne(e,i.uri,t)}function zYe(i){return Ei.markerService.get().read(i)}function UYe(i){return Ei.markerService.get().onMarkerChanged(i)}function jYe(i){return Ei.modelService.get().getModel(i)}function KYe(){return Ei.modelService.get().getModels()}function qYe(i){return Ei.modelService.get().onModelAdded(i)}function GYe(i){return Ei.modelService.get().onModelRemoved(i)}function YYe(i){return Ei.modelService.get().onModelModeChanged(e=>{i({model:e.model,oldLanguage:e.oldModeId})})}function ZYe(i){return LYe(Ei.modelService.get(),i)}function XYe(i,e){const t=Ei.standaloneThemeService.get();return t.registerEditorContainer(i),UJ.colorizeElement(t,Ei.modeService.get(),i,e)}function QYe(i,e,t){return Ei.standaloneThemeService.get().registerEditorContainer(document.body),UJ.colorize(Ei.modeService.get(),i,e,t)}function JYe(i,e,t=4){return Ei.standaloneThemeService.get().registerEditorContainer(document.body),UJ.colorizeModelLine(i,e,t)}function eZe(i){let e=Xr.get(i);return e||{getInitialState:()=>YP,tokenize:(t,n,r,s)=>Npe(i,t,r,s)}}function tZe(i,e){Ei.modeService.get().triggerMode(e);let n=eZe(e),r=Kg(i),s=[],o=n.getInitialState();for(let a=0,u=r.length;a<u;a++){let c=r[a],h=n.tokenize(c,!0,o,0);s[a]=h.tokens,o=h.endState}return s}function nZe(i,e){Ei.standaloneThemeService.get().defineTheme(i,e)}function iZe(i){Ei.standaloneThemeService.get().setTheme(i)}function rZe(){HNe()}function sZe(i,e){return ni.registerCommand({id:i,handler:e})}function oZe(){return{create:PYe,onDidCreateEditor:FYe,createDiffEditor:BYe,createDiffNavigator:WYe,createModel:VYe,setModelLanguage:HYe,setModelMarkers:$Ye,getModelMarkers:zYe,onDidChangeMarkers:UYe,getModels:KYe,getModel:jYe,onDidCreateModel:qYe,onWillDisposeModel:GYe,onDidChangeModelLanguage:YYe,createWebWorker:ZYe,colorizeElement:XYe,colorize:QYe,colorizeModelLine:JYe,tokenize:tZe,defineTheme:nZe,setTheme:iZe,remeasureFonts:rZe,registerCommand:sZe,AccessibilitySupport:wK,ContentWidgetPositionPreference:DK,CursorChangeReason:TK,DefaultEndOfLine:IK,EditorAutoIndentStrategy:NK,EditorOption:AK,EndOfLinePreference:OK,EndOfLineSequence:MK,MinimapPosition:HK,MouseTargetType:$K,OverlayWidgetPositionPreference:zK,OverviewRulerLane:UK,RenderLineNumbersType:jK,RenderMinimap:KK,ScrollbarVisibility:GK,ScrollType:qK,TextEditorCursorBlinkingStyle:JK,TextEditorCursorStyle:eq,TrackedRangeStickiness:tq,WrappingIndent:nq,ConfigurationChangedEvent:Tge,BareFontInfo:oC,FontInfo:Rj,TextModelResolvedOptions:j6,FindMatch:CM,ApplyUpdateResult:_O,EditorType:t3,EditorOptions:zf}}function aZe(i,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!i(t))return!1;return!0}function Y5(i,e){return typeof i=="boolean"?i:e}function rae(i,e){return typeof i=="string"?i:e}function lZe(i){const e={};for(const t of i)e[t]=!0;return e}function sae(i,e=!1){e&&(i=i.map(function(n){return n.toLowerCase()}));const t=lZe(i);return e?function(n){return t[n.toLowerCase()]!==void 0&&t.hasOwnProperty(n.toLowerCase())}:function(n){return t[n]!==void 0&&t.hasOwnProperty(n)}}function sG(i,e){e=e.replace(/@@/g,"");let t=0,n;do n=!1,e=e.replace(/@(\w+)/g,function(s,o){n=!0;let a="";if(typeof i[o]=="string")a=i[o];else if(i[o]&&i[o]instanceof RegExp)a=i[o].source;else throw i[o]===void 0?gr(i,"language definition does not contain attribute '"+o+"', used at: "+e):gr(i,"attribute reference '"+o+"' must be a string, used at: "+e);return $w(a)?"":"(?:"+a+")"}),t++;while(n&&t<5);e=e.replace(/\x01/g,"@");let r=(i.ignoreCase?"i":"")+(i.unicode?"u":"");return new RegExp(e,r)}function uZe(i,e,t,n){if(n<0)return i;if(n<e.length)return e[n];if(n>=100){n=n-100;let r=t.split(".");if(r.unshift(t),n<r.length)return r[n]}return null}function cZe(i,e,t,n){let r=-1,s=t,o=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(r=parseInt(o[3]),o[2]&&(r=r+100)),s=o[4]);let a="~",u=s;!s||s.length===0?(a="!=",u=""):/^\w*$/.test(u)?a="==":(o=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(a=o[1],u=o[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(u)){let h=sae(u.split("|"),i.ignoreCase);c=function(f){return a==="~"?h(f):!h(f)}}else if(a==="@"||a==="!@"){let h=i[u];if(!h)throw gr(i,"the @ match target '"+u+"' is not defined, in rule: "+e);if(!aZe(function(p){return typeof p=="string"},h))throw gr(i,"the @ match target '"+u+"' must be an array of strings, in rule: "+e);let f=sae(h,i.ignoreCase);c=function(p){return a==="@"?f(p):!f(p)}}else if(a==="~"||a==="!~")if(u.indexOf("$")<0){let h=sG(i,"^"+u+"$");c=function(f){return a==="~"?h.test(f):!h.test(f)}}else c=function(h,f,p,m){return sG(i,"^"+I0(i,u,f,p,m)+"$").test(h)};else if(u.indexOf("$")<0){let h=a1(i,u);c=function(f){return a==="=="?f===h:f!==h}}else{let h=a1(i,u);c=function(f,p,m,v,b){let S=I0(i,h,p,m,v);return a==="=="?f===S:f!==S}}return r===-1?{name:t,value:n,test:function(h,f,p,m){return c(h,h,f,p,m)}}:{name:t,value:n,test:function(h,f,p,m){let v=uZe(h,f,p,r);return c(v||"",h,f,p,m)}}}function oG(i,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw gr(i,"a 'token' attribute must be of type string, in rule: "+e);{let n={token:t.token};if(t.token.indexOf("$")>=0&&(n.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")n.bracket=1;else if(t.bracket==="@close")n.bracket=-1;else throw gr(i,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw gr(i,"the next state must be a string value in rule: "+e);{let r=t.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!NYe(i,I0(i,r,"",[],""))))throw gr(i,"the next state '"+t.next+"' is not defined in rule: "+e);n.next=r}}return typeof t.goBack=="number"&&(n.goBack=t.goBack),typeof t.switchTo=="string"&&(n.switchTo=t.switchTo),typeof t.log=="string"&&(n.log=t.log),typeof t.nextEmbedded=="string"&&(n.nextEmbedded=t.nextEmbedded,i.usesEmbedded=!0),n}}else if(Array.isArray(t)){let n=[];for(let r=0,s=t.length;r<s;r++)n[r]=oG(i,e,t[r]);return{group:n}}else if(t.cases){let n=[];for(let s in t.cases)if(t.cases.hasOwnProperty(s)){const o=oG(i,e,t.cases[s]);s==="@default"||s==="@"||s===""?n.push({test:void 0,value:o,name:s}):s==="@eos"?n.push({test:function(a,u,c,h){return h},value:o,name:s}):n.push(cZe(i,e,s,o))}const r=i.defaultToken;return{test:function(s,o,a,u){for(const c of n)if(!c.test||c.test(s,o,a,u))return c.value;return r}}}else throw gr(i,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class dZe{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let n;if(typeof t=="string")n=t;else if(t instanceof RegExp)n=t.source;else throw gr(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=n.length>0&&n[0]==="^",this.name=this.name+": "+n,this.regex=sG(e,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(e,t){this.action=oG(e,this.name,t)}}function hZe(i,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");let t={};t.languageId=i,t.includeLF=Y5(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=Y5(e.ignoreCase,!1),t.unicode=Y5(e.unicode,!1),t.tokenPostfix=rae(e.tokenPostfix,"."+t.languageId),t.defaultToken=rae(e.defaultToken,"source"),t.usesEmbedded=!1;let n=e;n.languageId=i,n.includeLF=t.includeLF,n.ignoreCase=t.ignoreCase,n.unicode=t.unicode,n.noThrow=t.noThrow,n.usesEmbedded=t.usesEmbedded,n.stateNames=e.tokenizer,n.defaultToken=t.defaultToken;function r(o,a,u){for(const c of u){let h=c.include;if(h){if(typeof h!="string")throw gr(t,"an 'include' attribute must be a string at: "+o);if(h[0]==="@"&&(h=h.substr(1)),!e.tokenizer[h])throw gr(t,"include target '"+h+"' is not defined at: "+o);r(o+"."+h,a,e.tokenizer[h])}else{const f=new dZe(o);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(f.setRegex(n,c[0]),c.length>=3)if(typeof c[1]=="string")f.setAction(n,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){const p=c[1];p.next=c[2],f.setAction(n,p)}else throw gr(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else f.setAction(n,c[1]);else{if(!c.regex)throw gr(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);c.name&&typeof c.name=="string"&&(f.name=c.name),c.matchOnlyAtStart&&(f.matchOnlyAtLineStart=Y5(c.matchOnlyAtLineStart,!1)),f.setRegex(n,c.regex),f.setAction(n,c.action)}a.push(f)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw gr(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(let o in e.tokenizer)if(e.tokenizer.hasOwnProperty(o)){t.start||(t.start=o);const a=e.tokenizer[o];t.tokenizer[o]=new Array,r("tokenizer."+o,t.tokenizer[o],a)}if(t.usesEmbedded=n.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw gr(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let s=[];for(let o of e.brackets){let a=o;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw gr(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")s.push({token:a.token+t.tokenPostfix,open:a1(t,a.open),close:a1(t,a.close)});else throw gr(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=s,t.noThrow=!0,t}function fZe(i){_C.registerLanguage(i)}function gZe(){let i=[];return i=i.concat(_C.getLanguages()),i}function pZe(i){return Ei.modeService.get().languageIdCodec.encodeLanguageId(i)}function mZe(i,e){let t=Ei.modeService.get().onDidEncounterLanguage(n=>{n===i&&(t.dispose(),e())});return t}function _Ze(i,e){const t=Ei.modeService.get().validateLanguageId(i);if(!t)throw new Error(`Cannot set configuration for unknown language ${i}`);return Si.register(t,e,100)}class vZe{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,n,r){if(typeof this._actual.tokenize=="function")return uR.adaptTokenize(this._languageId,this._actual,e,n,r);throw new Error("Not supported!")}tokenize2(e,t,n){let r=this._actual.tokenizeEncoded(e,n);return new FB(r.tokens,r.endState)}}class uR{constructor(e,t,n,r){this._languageId=e,this._actual=t,this._modeService=n,this._standaloneThemeService=r}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,n){let r=[],s=0;for(let o=0,a=e.length;o<a;o++){const u=e[o];let c=u.startIndex;o===0?c=0:c<s&&(c=s),r[o]=new PB(c+n,u.scopes,t),s=c}return r}static adaptTokenize(e,t,n,r,s){let o=t.tokenize(n,r),a=uR._toClassicTokens(o.tokens,e,s),u;return o.endState.equals(r)?u=r:u=o.endState,new dQ(a,u)}tokenize(e,t,n,r){return uR.adaptTokenize(this._languageId,this._actual,e,n,r)}_toBinaryTokens(e,t,n){const r=e.encodeLanguageId(this._languageId),s=this._standaloneThemeService.getColorTheme().tokenTheme;let o=[],a=0,u=0;for(let h=0,f=t.length;h<f;h++){const p=t[h],m=s.match(r,p.scopes);if(a>0&&o[a-1]===m)continue;let v=p.startIndex;h===0?v=0:v<u&&(v=u),o[a++]=v+n,o[a++]=m,u=v}let c=new Uint32Array(a);for(let h=0;h<a;h++)c[h]=o[h];return c}tokenize2(e,t,n,r){let s=this._actual.tokenize(e,n),o=this._toBinaryTokens(this._modeService.languageIdCodec,s.tokens,r),a;return s.endState.equals(n)?a=n:a=s.endState,new FB(o,a)}}function bZe(i){return"tokenizeEncoded"in i}function $ve(i){return i&&typeof i.then=="function"}function CZe(i){if(i){const e=[null];for(let t=1,n=i.length;t<n;t++)e[t]=Se.fromHex(i[t]);Ei.standaloneThemeService.get().setColorMapOverride(e)}else Ei.standaloneThemeService.get().setColorMapOverride(null)}function yZe(i,e){const t=Ei.modeService.get().validateLanguageId(i);if(!t)throw new Error(`Cannot set tokens provider for unknown language ${i}`);const n=r=>bZe(r)?new vZe(t,r):new uR(t,r,Ei.modeService.get(),Ei.standaloneThemeService.get());return $ve(e)?Xr.registerPromise(i,e.then(r=>n(r))):Xr.register(i,n(e))}function wZe(i,e){const t=n=>MYe(Ei.modeService.get(),Ei.standaloneThemeService.get(),i,hZe(i,n));return $ve(e)?Xr.registerPromise(i,e.then(n=>t(n))):Xr.register(i,t(e))}function SZe(i,e){return FF.register(i,e)}function xZe(i,e){return BF.register(i,e)}function EZe(i,e){return dC.register(i,e)}function LZe(i,e){return wM.register(i,{provideHover:(t,n,r)=>{let s=t.getWordAtPosition(n);return Promise.resolve(e.provideHover(t,n,r)).then(o=>{if(o)return!o.range&&s&&(o.range=new Q(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn)),o.range||(o.range=new Q(n.lineNumber,n.column,n.lineNumber,n.column)),o})}})}function DZe(i,e){return yd.register(i,e)}function TZe(i,e){return Sx.register(i,e)}function IZe(i,e){return WF.register(i,e)}function kZe(i,e){return SM.register(i,e)}function NZe(i,e){return HF.register(i,e)}function AZe(i,e){return $F.register(i,e)}function OZe(i,e){return qp.register(i,e)}function MZe(i,e,t){return Hg.register(i,{providedCodeActionKinds:t==null?void 0:t.providedCodeActionKinds,provideCodeActions:(n,r,s,o)=>{let a=Ei.markerService.get().read({resource:n.uri}).filter(u=>Q.areIntersectingOrTouching(u,r));return e.provideCodeActions(n,r,{markers:a,only:s.only},o)},resolveCodeAction:e.resolveCodeAction})}function RZe(i,e){return EO.register(i,e)}function PZe(i,e){return gf.register(i,e)}function FZe(i,e){return zF.register(i,e)}function BZe(i,e){return xM.register(i,e)}function WZe(i,e){return ff.register(i,e)}function VZe(i,e){return xx.register(i,e)}function HZe(i,e){return Zj.register(i,e)}function $Ze(i,e){return VF.register(i,e)}function zZe(i,e){return MB.register(i,e)}function UZe(i,e){return Ex.register(i,e)}function jZe(i,e){return RB.register(i,e)}function KZe(i,e){return lQ.register(i,e)}function qZe(i,e){return F0.register(i,e)}function GZe(){return{register:fZe,getLanguages:gZe,onLanguage:mZe,getEncodedLanguageId:pZe,setLanguageConfiguration:_Ze,setColorMap:CZe,setTokensProvider:yZe,setMonarchTokensProvider:wZe,registerReferenceProvider:SZe,registerRenameProvider:xZe,registerCompletionItemProvider:WZe,registerSignatureHelpProvider:EZe,registerHoverProvider:LZe,registerDocumentSymbolProvider:DZe,registerDocumentHighlightProvider:TZe,registerLinkedEditingRangeProvider:IZe,registerDefinitionProvider:kZe,registerImplementationProvider:NZe,registerTypeDefinitionProvider:AZe,registerCodeLensProvider:OZe,registerCodeActionProvider:MZe,registerDocumentFormattingEditProvider:RZe,registerDocumentRangeFormattingEditProvider:PZe,registerOnTypeFormattingEditProvider:FZe,registerLinkProvider:BZe,registerColorProvider:VZe,registerFoldingRangeProvider:HZe,registerDeclarationProvider:$Ze,registerSelectionRangeProvider:zZe,registerDocumentSemanticTokensProvider:UZe,registerDocumentRangeSemanticTokensProvider:jZe,registerInlineCompletionsProvider:KZe,registerInlayHintsProvider:qZe,DocumentHighlightKind:kK,CompletionItemKind:xK,CompletionItemTag:EK,CompletionItemInsertTextRule:SK,SymbolKind:XK,SymbolTag:QK,IndentAction:RK,CompletionTriggerKind:LK,SignatureHelpTriggerKind:ZK,InlayHintKind:PK,InlineCompletionTriggerKind:FK,FoldingRangeKind:Ff}}class Fx{static _handleEolEdits(e,t){let n,r=[];for(let s of t)typeof s.eol=="number"&&(n=s.eol),s.range&&typeof s.text=="string"&&r.push(s);return typeof n=="number"&&e.hasModel()&&e.getModel().pushEOL(n),r}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const n=e.getModel(),r=n.validateRange(t.range);return n.getFullModelRange().equalsRange(r)}static execute(e,t,n){n&&e.pushUndoStop();const r=Fx._handleEolEdits(e,t);r.length===1&&Fx._isFullModelReplaceEdit(e,r[0])?e.executeEdits("formatEditsCommand",r.map(s=>rs.replace(Q.lift(s.range),s.text))):e.executeEdits("formatEditsCommand",r.map(s=>rs.replaceMove(Q.lift(s.range),s.text))),n&&e.pushUndoStop()}}class U${constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}var Hf=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function jJ(i){if(i=i.filter(r=>r.range),!i.length)return;let{range:e}=i[0];for(let r=1;r<i.length;r++)e=Q.plusRange(e,i[r].range);const{startLineNumber:t,endLineNumber:n}=e;t===n?i.length===1?Ko(C("hint11","Made 1 formatting edit on line {0}",t)):Ko(C("hintn1","Made {0} formatting edits on line {1}",i.length,t)):i.length===1?Ko(C("hint1n","Made 1 formatting edit between lines {0} and {1}",t,n)):Ko(C("hintnn","Made {0} formatting edits between lines {1} and {2}",i.length,t,n))}function zve(i){const e=[],t=new Set,n=EO.ordered(i);for(const s of n)e.push(s),s.extensionId&&t.add(U$.toKey(s.extensionId));const r=gf.ordered(i);for(const s of r){if(s.extensionId){if(t.has(U$.toKey(s.extensionId)))continue;t.add(U$.toKey(s.extensionId))}e.push({displayName:s.displayName,extensionId:s.extensionId,provideDocumentFormattingEdits(o,a,u){return s.provideDocumentRangeFormattingEdits(o,o.getFullModelRange(),a,u)}})}return e}class uy{static setFormatterSelector(e){return{dispose:uy._selectors.unshift(e)}}static select(e,t,n){return Hf(this,void 0,void 0,function*(){if(e.length===0)return;const r=ri.first(uy._selectors);if(r)return yield r(e,t,n)})}}uy._selectors=new nc;function Uve(i,e,t,n,r,s){return Hf(this,void 0,void 0,function*(){const o=i.get(Rn),a=Xg(e)?e.getModel():e,u=gf.ordered(a),c=yield uy.select(u,a,n);c&&(r.report(c),yield o.invokeFunction(YZe,c,e,t,s))})}function YZe(i,e,t,n,r){return Hf(this,void 0,void 0,function*(){const s=i.get(fc);let o,a;Xg(t)?(o=t.getModel(),a=new $M(t,5,void 0,r)):(o=t,a=new PQ(t,r));let u=[],c=0;for(let v of WX(n).sort(Q.compareRangesUsingStarts))c>0&&Q.areIntersectingOrTouching(u[c-1],v)?u[c-1]=Q.fromPositions(u[c-1].getStartPosition(),v.getEndPosition()):c=u.push(v);const h=v=>Hf(this,void 0,void 0,function*(){return(yield e.provideDocumentRangeFormattingEdits(o,v,o.getFormattingOptions(),a.token))||[]}),f=(v,b)=>{if(!v.length||!b.length)return!1;const S=v.reduce((x,w)=>Q.plusRange(x,w.range),v[0].range);if(!b.some(x=>Q.intersectRanges(S,x.range)))return!1;for(let x of v)for(let w of b)if(Q.intersectRanges(x.range,w.range))return!0;return!1},p=[],m=[];try{for(let v of u){if(a.token.isCancellationRequested)return!0;m.push(yield h(v))}for(let v=0;v<u.length;++v)for(let b=v+1;b<u.length;++b){if(a.token.isCancellationRequested)return!0;if(f(m[v],m[b])){const S=Q.plusRange(u[v],u[b]),x=yield h(S);u.splice(b,1),u.splice(v,1),u.push(S),m.splice(b,1),m.splice(v,1),m.push(x),v=0,b=0}}for(let v of m){if(a.token.isCancellationRequested)return!0;const b=yield s.computeMoreMinimalEdits(o.uri,v);b&&p.push(...b)}}finally{a.dispose()}if(p.length===0)return!1;if(Xg(t))Fx.execute(t,p,!0),jJ(p),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{const[{range:v}]=p,b=new xt(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn);o.pushEditOperations([b],p.map(S=>({text:S.text,range:Q.lift(S.range),forceMoveMarkers:!0})),S=>{for(const{range:x}of S)if(Q.areIntersectingOrTouching(x,b))return[new xt(x.startLineNumber,x.startColumn,x.endLineNumber,x.endColumn)];return null})}return!0})}function ZZe(i,e,t,n,r){return Hf(this,void 0,void 0,function*(){const s=i.get(Rn),o=Xg(e)?e.getModel():e,a=zve(o),u=yield uy.select(a,o,t);u&&(n.report(u),yield s.invokeFunction(XZe,u,e,t,r))})}function XZe(i,e,t,n,r){return Hf(this,void 0,void 0,function*(){const s=i.get(fc);let o,a;Xg(t)?(o=t.getModel(),a=new $M(t,5,void 0,r)):(o=t,a=new PQ(t,r));let u;try{const c=yield e.provideDocumentFormattingEdits(o,o.getFormattingOptions(),a.token);if(u=yield s.computeMoreMinimalEdits(o.uri,c),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!u||u.length===0)return!1;if(Xg(t))Fx.execute(t,u,n!==2),n!==2&&(jJ(u),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1));else{const[{range:c}]=u,h=new xt(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn);o.pushEditOperations([h],u.map(f=>({text:f.text,range:Q.lift(f.range),forceMoveMarkers:!0})),f=>{for(const{range:p}of f)if(Q.areIntersectingOrTouching(p,h))return[new xt(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn)];return null})}return!0})}function QZe(i,e,t,n,r){return Hf(this,void 0,void 0,function*(){const s=gf.ordered(e);for(const o of s){let a=yield Promise.resolve(o.provideDocumentRangeFormattingEdits(e,t,n,r)).catch(Jo);if(zl(a))return yield i.computeMoreMinimalEdits(e.uri,a)}})}function JZe(i,e,t,n){return Hf(this,void 0,void 0,function*(){const r=zve(e);for(const s of r){let o=yield Promise.resolve(s.provideDocumentFormattingEdits(e,t,n)).catch(Jo);if(zl(o))return yield i.computeMoreMinimalEdits(e.uri,o)}})}function jve(i,e,t,n,r){const s=zF.ordered(e);return s.length===0||s[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(s[0].provideOnTypeFormattingEdits(e,t,n,r,$n.None)).catch(Jo).then(o=>i.computeMoreMinimalEdits(e.uri,o))}ni.registerCommand("_executeFormatRangeProvider",function(i,...e){return Hf(this,void 0,void 0,function*(){const[t,n,r]=e;nr(an.isUri(t)),nr(Q.isIRange(n));const s=i.get(wl),o=i.get(fc),a=yield s.createModelReference(t);try{return QZe(o,a.object.textEditorModel,Q.lift(n),r,$n.None)}finally{a.dispose()}})});ni.registerCommand("_executeFormatDocumentProvider",function(i,...e){return Hf(this,void 0,void 0,function*(){const[t,n]=e;nr(an.isUri(t));const r=i.get(wl),s=i.get(fc),o=yield r.createModelReference(t);try{return JZe(s,o.object.textEditorModel,n,$n.None)}finally{o.dispose()}})});ni.registerCommand("_executeFormatOnTypeProvider",function(i,...e){return Hf(this,void 0,void 0,function*(){const[t,n,r,s]=e;nr(an.isUri(t)),nr(Ee.isIPosition(n)),nr(typeof r=="string");const o=i.get(wl),a=i.get(fc),u=yield o.createModelReference(t);try{return jve(a,u.object.textEditorModel,Ee.lift(n),r,s)}finally{u.dispose()}})});var j$;zf.wrappingIndent.defaultValue=0;zf.glyphMargin.defaultValue=!1;zf.autoIndent.defaultValue=3;zf.overviewRulerLanes.defaultValue=2;uy.setFormatterSelector((i,e,t)=>Promise.resolve(i[0]));const tl=Bme();tl.editor=oZe();tl.languages=GZe();const eXe=tl.CancellationTokenSource,Kve=tl.Emitter,dn=tl.KeyCode,xl=tl.KeyMod,tXe=tl.Position,nXe=tl.Range,iXe=tl.Selection,rXe=tl.SelectionDirection,sXe=tl.MarkerSeverity,oXe=tl.MarkerTag,l1=tl.Uri,aXe=tl.Token,Za=tl.editor,qa=tl.languages;(!((j$=us.MonacoEnvironment)===null||j$===void 0)&&j$.globalAPI||typeof define=="function"&&define.amd)&&(self.monaco=tl);typeof self.require<"u"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});const m3=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:eXe,Emitter:Kve,KeyCode:dn,KeyMod:xl,MarkerSeverity:sXe,MarkerTag:oXe,Position:tXe,Range:nXe,Selection:iXe,SelectionDirection:rXe,Token:aXe,Uri:l1,editor:Za,languages:qa},Symbol.toStringTag,{value:"Module"}));/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.0(252e010eb73ddc2fa1a37c1dade7bf35d87106cd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var qve=Object.defineProperty,lXe=Object.getOwnPropertyDescriptor,uXe=Object.getOwnPropertyNames,cXe=Object.prototype.hasOwnProperty,dXe=i=>qve(i,"__esModule",{value:!0}),hXe=(i,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of uXe(e))!cXe.call(i,n)&&n!=="default"&&qve(i,n,{get:()=>e[n],enumerable:!(t=lXe(e,n))||t.enumerable});return i},fXe="4.4.4",cy={};dXe(cy);hXe(cy,m3);var aG;(function(i){i[i.None=0]="None",i[i.CommonJS=1]="CommonJS",i[i.AMD=2]="AMD",i[i.UMD=3]="UMD",i[i.System=4]="System",i[i.ES2015=5]="ES2015",i[i.ESNext=99]="ESNext"})(aG||(aG={}));var lG;(function(i){i[i.None=0]="None",i[i.Preserve=1]="Preserve",i[i.React=2]="React",i[i.ReactNative=3]="ReactNative",i[i.ReactJSX=4]="ReactJSX",i[i.ReactJSXDev=5]="ReactJSXDev"})(lG||(lG={}));var uG;(function(i){i[i.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",i[i.LineFeed=1]="LineFeed"})(uG||(uG={}));var cG;(function(i){i[i.ES3=0]="ES3",i[i.ES5=1]="ES5",i[i.ES2015=2]="ES2015",i[i.ES2016=3]="ES2016",i[i.ES2017=4]="ES2017",i[i.ES2018=5]="ES2018",i[i.ES2019=6]="ES2019",i[i.ES2020=7]="ES2020",i[i.ESNext=99]="ESNext",i[i.JSON=100]="JSON",i[i.Latest=99]="Latest"})(cG||(cG={}));var dG;(function(i){i[i.Classic=1]="Classic",i[i.NodeJs=2]="NodeJs"})(dG||(dG={}));var Gve=class{constructor(e,t,n,r){this._onDidChange=new cy.Emitter,this._onDidExtraLibsChange=new cy.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(n),this.setInlayHintsOptions(r),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let n;if(typeof t>"u"?n=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:n=t,this._extraLibs[n]&&this._extraLibs[n].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[n]&&(r=this._removedExtraLibs[n]+1),this._extraLibs[n]&&(r=this._extraLibs[n].version+1),this._extraLibs[n]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let s=this._extraLibs[n];s&&s.version===r&&(delete this._extraLibs[n],this._removedExtraLibs[n]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(const t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(const t of e){const n=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content;let s=1;this._removedExtraLibs[n]&&(s=this._removedExtraLibs[n]+1),this._extraLibs[n]={content:r,version:s}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}},gXe=fXe,Yve=new Gve({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),Zve=new Gve({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),pXe=()=>kW().then(i=>i.getTypeScriptWorker()),mXe=()=>kW().then(i=>i.getJavaScriptWorker());cy.languages.typescript={ModuleKind:aG,JsxEmit:lG,NewLineKind:uG,ScriptTarget:cG,ModuleResolutionKind:dG,typescriptVersion:gXe,typescriptDefaults:Yve,javascriptDefaults:Zve,getTypeScriptWorker:pXe,getJavaScriptWorker:mXe};function kW(){return Nt(()=>import("./tsMode-c1c79349.js"),[])}cy.languages.onLanguage("typescript",()=>kW().then(i=>i.setupTypeScript(Yve)));cy.languages.onLanguage("javascript",()=>kW().then(i=>i.setupJavaScript(Zve)));/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.0(252e010eb73ddc2fa1a37c1dade7bf35d87106cd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var Xve=Object.defineProperty,_Xe=Object.getOwnPropertyDescriptor,vXe=Object.getOwnPropertyNames,bXe=Object.prototype.hasOwnProperty,CXe=i=>Xve(i,"__esModule",{value:!0}),yXe=(i,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of vXe(e))!bXe.call(i,n)&&n!=="default"&&Xve(i,n,{get:()=>e[n],enumerable:!(t=_Xe(e,n))||t.enumerable});return i},iw={};CXe(iw);yXe(iw,m3);var KJ=class{constructor(e,t,n){this._onDidChange=new iw.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(n)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(e){this.setOptions(e)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},qJ={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},GJ={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Qve=new KJ("css",qJ,GJ),Jve=new KJ("scss",qJ,GJ),e0e=new KJ("less",qJ,GJ);iw.languages.css={cssDefaults:Qve,lessDefaults:e0e,scssDefaults:Jve};function YJ(){return Nt(()=>import("./cssMode-9453300e.js"),[])}iw.languages.onLanguage("less",()=>{YJ().then(i=>i.setupMode(e0e))});iw.languages.onLanguage("scss",()=>{YJ().then(i=>i.setupMode(Jve))});iw.languages.onLanguage("css",()=>{YJ().then(i=>i.setupMode(Qve))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.0(252e010eb73ddc2fa1a37c1dade7bf35d87106cd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var t0e=Object.defineProperty,wXe=Object.getOwnPropertyDescriptor,SXe=Object.getOwnPropertyNames,xXe=Object.prototype.hasOwnProperty,EXe=i=>t0e(i,"__esModule",{value:!0}),LXe=(i,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of SXe(e))!xXe.call(i,n)&&n!=="default"&&t0e(i,n,{get:()=>e[n],enumerable:!(t=wXe(e,n))||t.enumerable});return i},zE={};EXe(zE);LXe(zE,m3);var DXe=class{constructor(e,t,n){this._onDidChange=new zE.Emitter,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(n)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},TXe={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},IXe={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},n0e=new DXe("json",TXe,IXe);zE.languages.json={jsonDefaults:n0e};function kXe(){return Nt(()=>import("./jsonMode-862ea3f5.js"),[])}zE.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});zE.languages.onLanguage("json",()=>{kXe().then(i=>i.setupMode(n0e))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.0(252e010eb73ddc2fa1a37c1dade7bf35d87106cd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var i0e=Object.defineProperty,NXe=Object.getOwnPropertyDescriptor,AXe=Object.getOwnPropertyNames,OXe=Object.prototype.hasOwnProperty,MXe=i=>i0e(i,"__esModule",{value:!0}),RXe=(i,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of AXe(e))!OXe.call(i,n)&&n!=="default"&&i0e(i,n,{get:()=>e[n],enumerable:!(t=NXe(e,n))||t.enumerable});return i},_3={};MXe(_3);RXe(_3,m3);var PXe=class{constructor(e,t,n){this._onDidChange=new _3.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(n)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},FXe={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},NW={format:FXe,suggest:{},data:{useDefaultDataProvider:!0}};function AW(i){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:i===WO,documentFormattingEdits:i===WO,documentRangeFormattingEdits:i===WO}}var WO="html",oae="handlebars",aae="razor",r0e=OW(WO,NW,AW(WO)),BXe=r0e.defaults,s0e=OW(oae,NW,AW(oae)),WXe=s0e.defaults,o0e=OW(aae,NW,AW(aae)),VXe=o0e.defaults;_3.languages.html={htmlDefaults:BXe,razorDefaults:VXe,handlebarDefaults:WXe,htmlLanguageService:r0e,handlebarLanguageService:s0e,razorLanguageService:o0e,registerHTMLLanguageService:OW};function HXe(){return Nt(()=>import("./htmlMode-3a833c99.js"),[])}function OW(i,e=NW,t=AW(i)){const n=new PXe(i,e,t);let r;const s=_3.languages.onLanguage(i,async()=>{r=(await HXe()).setupMode(n)});return{defaults:n,dispose(){s.dispose(),r==null||r.dispose(),r=void 0}}}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.31.0(252e010eb73ddc2fa1a37c1dade7bf35d87106cd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var a0e=Object.defineProperty,$Xe=Object.getOwnPropertyDescriptor,zXe=Object.getOwnPropertyNames,UXe=Object.prototype.hasOwnProperty,jXe=i=>a0e(i,"__esModule",{value:!0}),KXe=(i,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of zXe(e))!UXe.call(i,n)&&n!=="default"&&a0e(i,n,{get:()=>e[n],enumerable:!(t=$Xe(e,n))||t.enumerable});return i},_S={};jXe(_S);KXe(_S,m3);var l0e={},K$={},u0e=class{static getOrCreate(e){return K$[e]||(K$[e]=new u0e(e)),K$[e]}constructor(e){this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,n)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=n})}whenLoaded(){return this._lazyLoadPromise}load(){return this._loadingTriggered||(this._loadingTriggered=!0,l0e[this._languageId].loader().then(e=>this._lazyLoadPromiseResolve(e),e=>this._lazyLoadPromiseReject(e))),this._lazyLoadPromise}};function qt(i){const e=i.id;l0e[e]=i,_S.languages.register(i);const t=u0e.getOrCreate(e);_S.languages.setMonarchTokensProvider(e,t.whenLoaded().then(n=>n.language)),_S.languages.onLanguage(e,()=>{t.load().then(n=>{_S.languages.setLanguageConfiguration(e,n.conf)})})}qt({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>Nt(()=>import("./abap-c25c4b29.js"),[])});qt({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>Nt(()=>import("./apex-90b58cb1.js"),[])});qt({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>Nt(()=>import("./azcli-c8384527.js"),[])});qt({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>Nt(()=>import("./bat-dd03db3a.js"),[])});qt({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>Nt(()=>import("./bicep-b5110554.js"),[])});qt({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>Nt(()=>import("./cameligo-3323522b.js"),[])});qt({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>Nt(()=>import("./clojure-d45fb7b6.js"),[])});qt({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>Nt(()=>import("./coffee-912c6d0d.js"),[])});qt({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>Nt(()=>import("./cpp-30cc099a.js"),[])});qt({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>Nt(()=>import("./cpp-30cc099a.js"),[])});qt({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>Nt(()=>import("./csharp-0553c8db.js"),[])});qt({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>Nt(()=>import("./csp-dbe8a1fa.js"),[])});qt({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>Nt(()=>import("./css-64c40e4a.js"),[])});qt({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>Nt(()=>import("./dart-4b7e6961.js"),[])});qt({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>Nt(()=>import("./dockerfile-1b41f08d.js"),[])});qt({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>Nt(()=>import("./ecl-eaf29bcc.js"),[])});qt({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>Nt(()=>import("./elixir-4f68332f.js"),[])});qt({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>Nt(()=>import("./flow9-6536bbb8.js"),[])});qt({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>Nt(()=>import("./fsharp-d4a13be8.js"),[])});qt({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>Nt(()=>import("./go-514c6bed.js"),[])});qt({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>Nt(()=>import("./graphql-dcd71327.js"),[])});qt({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>Nt(()=>import("./handlebars-cfb293b5.js"),[])});qt({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>Nt(()=>import("./hcl-69c09a16.js"),[])});qt({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>Nt(()=>import("./html-43238fcd.js"),[])});qt({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>Nt(()=>import("./ini-ddcf22bb.js"),[])});qt({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>Nt(()=>import("./java-7b3bef9f.js"),[])});qt({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Nt(()=>import("./javascript-7b3499a0.js"),["assets/javascript-7b3499a0.js","assets/typescript-3f6f7407.js"])});qt({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>Nt(()=>import("./julia-d49177e7.js"),[])});qt({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>Nt(()=>import("./kotlin-12177a5b.js"),[])});qt({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>Nt(()=>import("./less-dd974dd5.js"),[])});qt({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>Nt(()=>import("./lexon-7236519e.js"),[])});qt({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>Nt(()=>import("./lua-de05fd08.js"),[])});qt({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>Nt(()=>import("./liquid-df6aa343.js"),[])});qt({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>Nt(()=>import("./m3-ceb8ffc4.js"),[])});qt({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>Nt(()=>import("./markdown-6a6346da.js"),[])});qt({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>Nt(()=>import("./mips-6fb0802a.js"),[])});qt({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>Nt(()=>import("./msdax-bf1578ea.js"),[])});qt({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>Nt(()=>import("./mysql-4cfd205e.js"),[])});qt({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>Nt(()=>import("./objective-c-fadd4d71.js"),[])});qt({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>Nt(()=>import("./pascal-4479a90f.js"),[])});qt({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>Nt(()=>import("./pascaligo-7d1a5852.js"),[])});qt({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>Nt(()=>import("./perl-4a4b182f.js"),[])});qt({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>Nt(()=>import("./pgsql-e04cad37.js"),[])});qt({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>Nt(()=>import("./php-f332f715.js"),[])});qt({id:"pla",extensions:[".pla"],loader:()=>Nt(()=>import("./pla-649d56b2.js"),[])});qt({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>Nt(()=>import("./postiats-52f8c4e6.js"),[])});qt({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>Nt(()=>import("./powerquery-ee00e87c.js"),[])});qt({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>Nt(()=>import("./powershell-d33e9d1b.js"),[])});qt({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>Nt(()=>import("./protobuf-16b10ef3.js"),[])});qt({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>Nt(()=>import("./pug-768921d2.js"),[])});qt({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>Nt(()=>import("./python-30f315f3.js"),[])});qt({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>Nt(()=>import("./qsharp-c7533acc.js"),[])});qt({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>Nt(()=>import("./r-d1be5f1d.js"),[])});qt({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>Nt(()=>import("./razor-28d5b496.js"),[])});qt({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>Nt(()=>import("./redis-bd6165ff.js"),[])});qt({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>Nt(()=>import("./redshift-c705624d.js"),[])});qt({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>Nt(()=>import("./restructuredtext-947094fa.js"),[])});qt({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>Nt(()=>import("./ruby-1816fcd8.js"),[])});qt({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>Nt(()=>import("./rust-c4db2e19.js"),[])});qt({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>Nt(()=>import("./sb-adba4cc1.js"),[])});qt({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>Nt(()=>import("./scala-af9b4756.js"),[])});qt({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>Nt(()=>import("./scheme-812b9ffd.js"),[])});qt({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>Nt(()=>import("./scss-b21c6880.js"),[])});qt({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>Nt(()=>import("./shell-a62a83b7.js"),[])});qt({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>Nt(()=>import("./solidity-9a528bff.js"),[])});qt({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>Nt(()=>import("./sophia-dc39a193.js"),[])});qt({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>Nt(()=>import("./sparql-658eb489.js"),[])});qt({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>Nt(()=>import("./sql-233b53ac.js"),[])});qt({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>Nt(()=>import("./st-27efd63b.js"),[])});qt({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>Nt(()=>import("./swift-a2a125fe.js"),[])});qt({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>Nt(()=>import("./systemverilog-8bcc1c37.js"),[])});qt({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>Nt(()=>import("./systemverilog-8bcc1c37.js"),[])});qt({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>Nt(()=>import("./tcl-5c798828.js"),[])});qt({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>Nt(()=>import("./twig-5245532a.js"),[])});qt({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>Nt(()=>import("./typescript-3f6f7407.js"),[])});qt({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>Nt(()=>import("./vb-818b3fb1.js"),[])});qt({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>Nt(()=>import("./xml-7c4530c4.js"),[])});qt({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>Nt(()=>import("./yaml-eee3d8e3.js"),[])});var qXe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},GXe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},MW=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const RW=new It("selectionAnchorSet",!1);let Im=class c0e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=RW.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(c0e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(t,[{range:xt.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:new Tm().appendText(C("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Ko(C("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(xt.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Im.ID="editor.contrib.selectionAnchorController";Im=qXe([GXe(1,gn)],Im);class YXe extends Dt{constructor(){super({id:"editor.action.setSelectionAnchor",label:C("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2080),weight:100}})}run(e,t){return MW(this,void 0,void 0,function*(){Im.get(t).setSelectionAnchor()})}}class ZXe extends Dt{constructor(){super({id:"editor.action.goToSelectionAnchor",label:C("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:RW})}run(e,t){return MW(this,void 0,void 0,function*(){Im.get(t).goToSelectionAnchor()})}}class XXe extends Dt{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:C("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:RW,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2089),weight:100}})}run(e,t){return MW(this,void 0,void 0,function*(){Im.get(t).selectFromAnchorToCursor()})}}class QXe extends Dt{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:C("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:RW,kbOpts:{kbExpr:he.editorTextFocus,primary:9,weight:100}})}run(e,t){return MW(this,void 0,void 0,function*(){Im.get(t).cancelSelectionAnchor()})}}Ri(Im.ID,Im);st(YXe);st(ZXe);st(XXe);st(QXe);const JXe=we("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},C("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class eQe extends Dt{constructor(){super({id:"editor.action.jumpToBracket",label:C("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:he.editorTextFocus,primary:3160,weight:100}})}run(e,t){let n=Mf.get(t);n&&n.jumpToBracket()}}class tQe extends Dt{constructor(){super({id:"editor.action.selectToBracket",label:C("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,n){const r=Mf.get(t);if(!r)return;let s=!0;n&&n.selectBrackets===!1&&(s=!1),r.selectToBracket(s)}}class nQe{constructor(e,t,n){this.position=e,this.brackets=t,this.options=n}}class Mf extends Me{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new lr(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(Mf.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(n=>{const r=n.getStartPosition(),s=e.bracketPairs.matchBracket(r);let o=null;if(s)s[0].containsPosition(r)?o=s[1].getStartPosition():s[1].containsPosition(r)&&(o=s[0].getStartPosition());else{const a=e.bracketPairs.findEnclosingBrackets(r);if(a)o=a[0].getStartPosition();else{const u=e.bracketPairs.findNextBracket(r);u&&u.range&&(o=u.range.getStartPosition())}}return o?new xt(o.lineNumber,o.column,o.lineNumber,o.column):new xt(r.lineNumber,r.column,r.lineNumber,r.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=[];this._editor.getSelections().forEach(r=>{const s=r.getStartPosition();let o=t.bracketPairs.matchBracket(s);if(!o&&(o=t.bracketPairs.findEnclosingBrackets(s),!o)){const c=t.bracketPairs.findNextBracket(s);c&&c.range&&(o=t.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,u=null;if(o){o.sort(Q.compareRangesUsingStarts);const[c,h]=o;if(a=e?c.getStartPosition():c.getEndPosition(),u=e?h.getEndPosition():h.getStartPosition(),h.containsPosition(s)){const f=a;a=u,u=f}}a&&u&&n.push(new xt(a.lineNumber,a.column,u.lineNumber,u.column))}),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let e=[],t=0;for(const n of this._lastBracketsData){let r=n.brackets;r&&(e[t++]={range:r[0],options:n.options},e[t++]={range:r[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),n=t.getVersionId();let r=[];this._lastVersionId===n&&(r=this._lastBracketsData);let s=[],o=0;for(let f=0,p=e.length;f<p;f++){let m=e[f];m.isEmpty()&&(s[o++]=m.getStartPosition())}s.length>1&&s.sort(Ee.compare);let a=[],u=0,c=0,h=r.length;for(let f=0,p=s.length;f<p;f++){let m=s[f];for(;c<h&&r[c].position.isBefore(m);)c++;if(c<h&&r[c].position.equals(m))a[u++]=r[c];else{let v=t.bracketPairs.matchBracket(m),b=Mf._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!v&&this._matchBrackets==="always"&&(v=t.bracketPairs.findEnclosingBrackets(m,20),b=Mf._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[u++]=new nQe(m,v,b)}}this._lastBracketsData=a,this._lastVersionId=n}}Mf.ID="editor.contrib.bracketMatchingController";Mf._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Tn.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Mr(JXe),position:ql.Center}});Mf._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Tn.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});Ri(Mf.ID,Mf);st(tQe);st(eQe);Cr((i,e)=>{const t=i.getColor(C4e);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);const n=i.getColor(zpe);n&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)});Sa.appendMenuItem(Ft.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:C({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class iQe{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,r=this._selection.startColumn,s=this._selection.endColumn;if(!(this._isMovingLeft&&r===1)&&!(!this._isMovingLeft&&s===e.getLineMaxColumn(n)))if(this._isMovingLeft){const o=new Q(n,r-1,n,r),a=e.getValueInRange(o);t.addEditOperation(o,null),t.addEditOperation(new Q(n,s,n,s),a)}else{const o=new Q(n,s,n,s+1),a=e.getValueInRange(o);t.addEditOperation(o,null),t.addEditOperation(new Q(n,r,n,r),a)}}computeCursorState(e,t){return this._isMovingLeft?new xt(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new xt(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class d0e extends Dt{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;let n=[],r=t.getSelections();for(const s of r)n.push(new iQe(s,this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class rQe extends d0e{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:C("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:he.writable})}}class sQe extends d0e{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:C("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:he.writable})}}st(rQe);st(sQe);class oQe extends Dt{constructor(){super({id:"editor.action.transposeLetters",label:C("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:he.writable,kbOpts:{kbExpr:he.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let n=t.getModel(),r=[],s=t.getSelections();for(let o of s){if(!o.isEmpty())continue;let a=o.startLineNumber,u=o.startColumn,c=n.getLineMaxColumn(a);if(a===1&&(u===1||u===2&&c===2))continue;let h=u===c?o.getPosition():yi.rightPosition(n,o.getPosition().lineNumber,o.getPosition().column),f=yi.leftPosition(n,h),p=yi.leftPosition(n,f),m=n.getValueInRange(Q.fromPositions(p,f)),v=n.getValueInRange(Q.fromPositions(f,h)),b=Q.fromPositions(p,h);r.push(new zo(b,v+m))}r.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop())}}st(oQe);var aQe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const dy="9_cutcopypaste",lQe=If||document.queryCommandSupported("cut"),h0e=If||document.queryCommandSupported("copy"),uQe=typeof navigator.clipboard>"u"||Kl?document.queryCommandSupported("paste"):!0;function ZJ(i){return i.register(),i}const cQe=lQe?ZJ(new LE({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:If?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:Ft.MenubarEditMenu,group:"2_ccp",title:C({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:Ft.EditorContext,group:dy,title:C("actions.clipboard.cutLabel","Cut"),when:he.writable,order:1},{menuId:Ft.CommandPalette,group:"",title:C("actions.clipboard.cutLabel","Cut"),order:1},{menuId:Ft.SimpleEditorContext,group:dy,title:C("actions.clipboard.cutLabel","Cut"),when:he.writable,order:1}]})):void 0,dQe=h0e?ZJ(new LE({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:If?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:Ft.MenubarEditMenu,group:"2_ccp",title:C({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:Ft.EditorContext,group:dy,title:C("actions.clipboard.copyLabel","Copy"),order:2},{menuId:Ft.CommandPalette,group:"",title:C("actions.clipboard.copyLabel","Copy"),order:1},{menuId:Ft.SimpleEditorContext,group:dy,title:C("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Sa.appendMenuItem(Ft.MenubarEditMenu,{submenu:Ft.MenubarCopy,title:{value:C("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});Sa.appendMenuItem(Ft.EditorContext,{submenu:Ft.EditorContextCopy,title:{value:C("copy as","Copy As"),original:"Copy As"},group:dy,order:3});const q$=uQe?ZJ(new LE({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:If?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:Ft.MenubarEditMenu,group:"2_ccp",title:C({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:Ft.EditorContext,group:dy,title:C("actions.clipboard.pasteLabel","Paste"),when:he.writable,order:4},{menuId:Ft.CommandPalette,group:"",title:C("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:Ft.SimpleEditorContext,group:dy,title:C("actions.clipboard.pasteLabel","Paste"),when:he.writable,order:4}]})):void 0;class hQe extends Dt{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:he.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(32)&&t.getSelection().isEmpty()||(Jj.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),Jj.forceCopyWithSyntaxHighlighting=!1)}}function f0e(i,e){i&&(i.addImplementation(1e4,"code-editor",(t,n)=>{const r=t.get(Mi).getFocusedCodeEditor();if(r&&r.hasTextFocus()){const s=r.getOption(32),o=r.getSelection();return o&&o.isEmpty()&&!s||document.execCommand(e),!0}return!1}),i.addImplementation(0,"generic-dom",(t,n)=>(document.execCommand(e),!0)))}f0e(cQe,"cut");f0e(dQe,"copy");q$&&(q$.addImplementation(1e4,"code-editor",(i,e)=>{const t=i.get(Mi),n=i.get(eb),r=t.getFocusedCodeEditor();return r&&r.hasTextFocus()?!document.execCommand("paste")&&EE?(()=>aQe(void 0,void 0,void 0,function*(){const o=yield n.readText();if(o!==""){const a=kM.INSTANCE.get(o);let u=!1,c=null,h=null;a&&(u=r.getOption(32)&&!!a.isFromEmptySelection,c=typeof a.multicursorText<"u"?a.multicursorText:null,h=a.mode),r.trigger("keyboard","paste",{text:o,pasteOnNewLine:u,multicursorText:c,mode:h})}}))():!0:!1}),q$.addImplementation(0,"generic-dom",(i,e)=>(document.execCommand("paste"),!0)));h0e&&st(hQe);class z7{constructor(e){this.executor=e,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}class Gn{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+Gn.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new Gn(this.value+Gn.sep+e)}}Gn.sep=".";Gn.None=new Gn("@@none@@");Gn.Empty=new Gn("");Gn.QuickFix=new Gn("quickfix");Gn.Refactor=new Gn("refactor");Gn.Source=new Gn("source");Gn.SourceOrganizeImports=Gn.Source.append("organizeImports");Gn.SourceFixAll=Gn.Source.append("fixAll");function fQe(i,e){return!(i.include&&!i.include.intersects(e)||i.excludes&&i.excludes.some(t=>g0e(e,t,i.include))||!i.includeSourceActions&&Gn.Source.contains(e))}function gQe(i,e){const t=e.kind?new Gn(e.kind):void 0;return!(i.include&&(!t||!i.include.contains(t))||i.excludes&&t&&i.excludes.some(n=>g0e(t,n,i.include))||!i.includeSourceActions&&t&&Gn.Source.contains(t)||i.onlyIncludePreferredActions&&!e.isPreferred)}function g0e(i,e,t){return!(!e.contains(i)||t&&e.contains(t))}class xg{constructor(e,t,n){this.kind=e,this.apply=t,this.preferred=n}static fromUser(e,t){return!e||typeof e!="object"?new xg(t.kind,t.apply,!1):new xg(xg.getKindFromUser(e,t.kind),xg.getApplyFromUser(e,t.apply),xg.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new Gn(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}}var XJ=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const p0e="editor.action.codeAction",m0e="editor.action.refactor",_0e="editor.action.sourceAction",QJ="editor.action.organizeImports",JJ="editor.action.fixAll";class v0e{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return XJ(this,void 0,void 0,function*(){if(!((t=this.provider)===null||t===void 0)&&t.resolveCodeAction&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,e)}catch(r){Jo(r)}n&&(this.action.edit=n.edit)}return this})}}class eee extends Me{constructor(e,t,n){super(),this.documentation=t,this._register(n),this.allActions=[...e].sort(eee.codeActionsComparator),this.validActions=this.allActions.filter(({action:r})=>!r.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:zl(e.diagnostics)?zl(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:zl(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&Gn.QuickFix.contains(new Gn(e.kind))&&!!e.isPreferred)}}const lae={actions:[],documentation:void 0};function tee(i,e,t,n,r){var s;const o=t.filter||{},a={only:(s=o.include)===null||s===void 0?void 0:s.value,trigger:t.type},u=new PQ(i,r),c=pQe(i,o),h=new tt,f=c.map(m=>XJ(this,void 0,void 0,function*(){try{n.report(m);const v=yield m.provideCodeActions(i,e,a,u.token);if(v&&h.add(v),u.token.isCancellationRequested)return lae;const b=((v==null?void 0:v.actions)||[]).filter(x=>x&&gQe(o,x)),S=mQe(m,b,o.include);return{actions:b.map(x=>new v0e(x,m)),documentation:S}}catch(v){if(lp(v))throw v;return Jo(v),lae}})),p=Hg.onDidChange(()=>{const m=Hg.all(i);Nc(m,c)||u.cancel()});return Promise.all(f).then(m=>{const v=Ege(m.map(S=>S.actions)),b=DE(m.map(S=>S.documentation));return new eee(v,b,h)}).finally(()=>{p.dispose(),u.dispose()})}function pQe(i,e){return Hg.all(i).filter(t=>t.providedCodeActionKinds?t.providedCodeActionKinds.some(n=>fQe(e,new Gn(n))):!0)}function mQe(i,e,t){if(!i.documentation)return;const n=i.documentation.map(r=>({kind:new Gn(r.kind),command:r.command}));if(t){let r;for(const s of n)s.kind.contains(t)&&(r?r.kind.contains(s.kind)&&(r=s):r=s);if(r)return r==null?void 0:r.command}for(const r of e)if(r.kind){for(const s of n)if(s.kind.contains(new Gn(r.kind)))return s.command}}ni.registerCommand("_executeCodeActionProvider",function(i,e,t,n,r){return XJ(this,void 0,void 0,function*(){if(!(e instanceof an))throw Tf();const s=i.get($s).getModel(e);if(!s)throw Tf();const o=xt.isISelection(t)?xt.liftSelection(t):Q.isIRange(t)?s.validateRange(t):void 0;if(!o)throw Tf();const a=typeof n=="string"?new Gn(n):void 0,u=yield tee(s,o,{type:1,filter:{includeSourceActions:!0,include:a}},Zy.None,$n.None),c=[],h=Math.min(u.validActions.length,typeof r=="number"?r:0);for(let f=0;f<h;f++)c.push(u.validActions[f].resolve($n.None));try{return yield Promise.all(c),u.validActions.map(f=>f.action)}finally{setTimeout(()=>u.dispose(),100)}})});var _Qe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},vQe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let cc=class hG{constructor(e,t){this._messageWidget=new Ja,this._messageListeners=new tt,this._editor=e,this._visible=hG.MESSAGE_VISIBLE.bindTo(t),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(e){return e.getContribution(hG.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){Ko(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new uae(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new el(()=>this.closeMessage(),3e3));let n;this._messageListeners.add(this._editor.onMouseMove(r=>{r.target.position&&(n?n.containsPosition(r.target.position)||this.closeMessage():n=new Q(t.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(uae.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(C("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};cc.ID="editor.contrib.messageController";cc.MESSAGE_VISIBLE=new It("messageVisible",!1,C("messageVisible","Whether the editor is currently showing an inline message"));cc=_Qe([vQe(1,gn)],cc);const bQe=ea.bindToContribution(cc.get);rt(new bQe({id:"leaveEditorMessage",precondition:cc.MESSAGE_VISIBLE,handler:i=>i.closeMessage(),kbOpts:{weight:100+30,primary:9}}));let uae=class{constructor(e,{lineNumber:t,column:n},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);const o=document.createElement("div");o.classList.add("message"),o.textContent=r,this._domNode.appendChild(o);const a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const n=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",e===2)}};Ri(cc.ID,cc);var CQe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},cae=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},yQe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class dae extends kc{constructor(e,t){super(e.command?e.command.id:e.title,wQe(e.title),void 0,!e.disabled,t),this.action=e}}function wQe(i){return i.replace(/\r\n|\r|\n/g," ")}let fG=class extends Me{constructor(e,t,n,r){super(),this._editor=e,this._delegate=t,this._contextMenuService=n,this._visible=!1,this._showingActions=this._register(new Ja),this._keybindingResolver=new PW({getKeybindings:()=>r.getKeybindings()})}get isVisible(){return this._visible}show(e,t,n,r){return yQe(this,void 0,void 0,function*(){const s=r.includeDisabledActions?t.allActions:t.validActions;if(!s.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,Hy();this._visible=!0,this._showingActions.value=t;const o=this.getMenuActions(e,s,t.documentation),a=Ee.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},u=this._keybindingResolver.getResolver(),c=this._editor.getOption(114);this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>o,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:h=>h instanceof dae?u(h.action):void 0})})}getMenuActions(e,t,n){var r,s;const o=h=>new dae(h.action,()=>this._delegate.onSelectCodeAction(h)),a=t.map(o),u=[...n],c=this._editor.getModel();if(c&&a.length)for(const h of Hg.all(c))h._getAdditionalMenuItems&&u.push(...h._getAdditionalMenuItems({trigger:e.type,only:(s=(r=e.filter)===null||r===void 0?void 0:r.include)===null||s===void 0?void 0:s.value},t.map(f=>f.action)));return u.length&&a.push(new Ld,...u.map(h=>o(new v0e({title:h.title,command:h},void 0)))),a}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),n=ca(this._editor.getDomNode()),r=n.left+t.left,s=n.top+t.top+t.height;return{x:r,y:s}}};fG=CQe([cae(2,J1),cae(3,Or)],fG);class PW{constructor(e){this._keybindingProvider=e}getResolver(){const e=new z7(()=>this._keybindingProvider.getKeybindings().filter(t=>PW.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let n=t.commandArgs;return t.command===QJ?n={kind:Gn.SourceOrganizeImports.value}:t.command===JJ&&(n={kind:Gn.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},xg.fromUser(n,{kind:Gn.None,apply:"never"}))}));return t=>{if(t.kind){const n=this.bestKeybindingForCodeAction(t,e.getValue());return n==null?void 0:n.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const n=new Gn(e.kind);return t.filter(r=>r.kind.contains(n)).filter(r=>r.preferred?e.isPreferred:!0).reduceRight((r,s)=>r?r.kind.contains(s.kind)?s:r:s,void 0)}}PW.codeActionCommands=[m0e,p0e,_0e,QJ,JJ];var SQe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},xQe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},VO;(function(i){i.Hidden={type:0};class e{constructor(n,r,s,o){this.actions=n,this.trigger=r,this.editorPosition=s,this.widgetPosition=o,this.type=1}}i.Showing=e})(VO||(VO={}));let U7=class b0e extends Me{constructor(e,t,n,r){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=n,this._keybindingService=r,this._onClick=this._register(new ye),this.onClick=this._onClick.event,this._state=VO.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ve.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const o=this._editor.getModel();(this.state.type!==1||!o||this.state.editorPosition.lineNumber>=o.getLineCount())&&this.hide()})),qi.ignoreTarget(this._domNode),this._register(vIe(this._domNode,s=>{if(this.state.type!==1)return;this._editor.focus(),s.preventDefault();const{top:o,height:a}=ca(this._domNode),u=this._editor.getOption(58);let c=Math.floor(u/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(c+=u),this._onClick.fire({x:s.posx,y:o+a+c,actions:this.state.actions,trigger:this.state.trigger})})),this._register(Ze(this._domNode,"mouseenter",s=>{if((s.buttons&1)!==1)return;this.hide();const o=new qy;o.startMonitoring(s.target,s.buttons,IE,()=>{},()=>{o.dispose()})})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,n){if(e.validActions.length<=0)return this.hide();const r=this._editor.getOptions();if(!r.get(56).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:o,column:a}=s.validatePosition(n),u=s.getOptions().tabSize,c=r.get(43),h=s.getLineContent(o),f=Gl.computeIndentLevel(h,u),p=c.spaceWidth*f>22,m=b=>b>2&&this._editor.getTopForLineNumber(b)===this._editor.getTopForLineNumber(b-1);let v=o;if(!p){if(o>1&&!m(o-1))v-=1;else if(!m(o+1))v+=1;else if(a*c.spaceWidth<22)return this.hide()}this.state=new VO.Showing(e,t,n,{position:{lineNumber:v,column:1},preference:b0e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=VO.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ve.lightBulb.classNamesArray),this._domNode.classList.add(...ve.lightbulbAutofix.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t){this.title=C("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel());return}}this._domNode.classList.remove(...ve.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ve.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);e?this.title=C("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):this.title=C("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};U7._posPref=[0];U7=SQe([xQe(3,Or)],U7);Cr((i,e)=>{var t;const n=(t=i.getColor(Ac))===null||t===void 0?void 0:t.transparent(.7),r=i.getColor(yAe);r&&e.addRule(`
		.monaco-editor .contentWidgets ${ve.lightBulb.cssSelector} {
			color: ${r};
			background-color: ${n};
		}`);const s=i.getColor(wAe);s&&e.addRule(`
		.monaco-editor .contentWidgets ${ve.lightbulbAutofix.cssSelector} {
			color: ${s};
			background-color: ${n};
		}`)});var EQe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},LQe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},G$=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})},DQe=globalThis&&globalThis.__classPrivateFieldSet||function(i,e,t,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(i,t):r?r.value=t:e.set(i,t),t},TQe=globalThis&&globalThis.__classPrivateFieldGet||function(i,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(i):n?n.value:e.get(i)},h8;let gG=class extends Me{constructor(e,t,n,r,s){super(),this._editor=e,this.delegate=r,this._activeCodeActions=this._register(new Ja),h8.set(this,!1),this._codeActionWidget=new z7(()=>this._register(s.createInstance(fG,this._editor,{onSelectCodeAction:o=>G$(this,void 0,void 0,function*(){this.delegate.applyCodeAction(o,!0)})}))),this._lightBulbWidget=new z7(()=>{const o=this._register(s.createInstance(U7,this._editor,t,n));return this._register(o.onClick(a=>this.showCodeActionList(a.trigger,a.actions,a,{includeDisabledActions:!1}))),o})}dispose(){DQe(this,h8,!0,"f"),super.dispose()}update(e){var t,n,r;return G$(this,void 0,void 0,function*(){if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let s;try{s=yield e.actions}catch(o){vn(o);return}if(!TQe(this,h8,"f"))if(this._lightBulbWidget.getValue().update(s,e.trigger,e.position),e.trigger.type===1){if(!((n=e.trigger.filter)===null||n===void 0)&&n.include){const a=this.tryGetValidActionToApply(e.trigger,s);if(a){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(a,!1)}finally{s.dispose()}return}if(e.trigger.context){const u=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,s);if(u&&u.action.disabled){cc.get(this._editor).showMessage(u.action.disabled,e.trigger.context.position),s.dispose();return}}}const o=!!(!((r=e.trigger.filter)===null||r===void 0)&&r.include);if(e.trigger.context&&(!s.allActions.length||!o&&!s.validActions.length)){cc.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=s,s.dispose();return}this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(e.trigger,s,e.position,{includeDisabledActions:o})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:n})=>n.disabled)}tryGetValidActionToApply(e,t){if(t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,n,r){return G$(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,n,r)})}};h8=new WeakMap;gG=EQe([LQe(4,Rn)],gG);var Y$=globalThis&&globalThis.__classPrivateFieldGet||function(i,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(i):n?n.value:e.get(i)},IQe=globalThis&&globalThis.__classPrivateFieldSet||function(i,e,t,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(i,t):r?r.value=t:e.set(i,t),t},zw;const C0e=new It("supportedCodeAction","");class kQe extends Me{constructor(e,t,n,r=250){super(),this._editor=e,this._markerService=t,this._signalChange=n,this._delay=r,this._autoTriggerTimer=this._register(new el),this._register(this._markerService.onMarkerChanged(s=>this._onMarkerChanges(s))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some(n=>ppe(n,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const n of this._markerService.read({resource:t.uri})){const r=t.validateRange(n);if(Q.intersectRanges(r,e))return Q.lift(r)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&e.type===2){const{lineNumber:r,column:s}=n.getPosition(),o=t.getLineContent(r);if(o.length===0)return;if(s===1){if(/\s/.test(o[0]))return}else if(s===t.getLineMaxColumn(r)){if(/\s/.test(o[o.length-1]))return}else if(/\s/.test(o[s-2])&&/\s/.test(o[s-1]))return}return n}_createEventAndSignalChange(e,t){const n=this._editor.getModel();if(!t||!n){this._signalChange(void 0);return}const r=this._getRangeOfMarker(t),s=r?r.getStartPosition():t.getStartPosition(),o={trigger:e,selection:t,position:s};return this._signalChange(o),o}}var Fb;(function(i){i.Empty={type:0};class e{constructor(n,r,s,o){this.trigger=n,this.rangeOrSelection=r,this.position=s,this._cancellablePromise=o,this.type=1,this.actions=o.catch(a=>{if(lp(a))return NQe;throw a})}cancel(){this._cancellablePromise.cancel()}}i.Triggered=e})(Fb||(Fb={}));const NQe={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class AQe extends Me{constructor(e,t,n,r){super(),this._editor=e,this._markerService=t,this._progressService=r,this._codeActionOracle=this._register(new Ja),this._state=Fb.Empty,this._onDidChangeState=this._register(new ye),this.onDidChangeState=this._onDidChangeState.event,zw.set(this,!1),this._supportedCodeActions=C0e.bindTo(n),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(Hg.onDidChange(()=>this._update())),this._update()}dispose(){Y$(this,zw,"f")||(IQe(this,zw,!0,"f"),super.dispose(),this.setState(Fb.Empty,!0))}_update(){if(Y$(this,zw,"f"))return;this._codeActionOracle.value=void 0,this.setState(Fb.Empty);const e=this._editor.getModel();if(e&&Hg.has(e)&&!this._editor.getOption(80)){const t=[];for(const n of Hg.all(e))Array.isArray(n.providedCodeActionKinds)&&t.push(...n.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new kQe(this._editor,this._markerService,n=>{var r;if(!n){this.setState(Fb.Empty);return}const s=Do(o=>tee(e,n.selection,n.trigger,Zy.None,o));n.trigger.type===1&&((r=this._progressService)===null||r===void 0||r.showWhile(s,250)),this.setState(new Fb.Triggered(n.trigger,n.selection,n.position,s))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!Y$(this,zw,"f")&&this._onDidChangeState.fire(e))}}zw=new WeakMap;var OQe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Z5=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},y0e=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function v3(i){return bt.regex(C0e.keys()[0],new RegExp("(\\s|^)"+Bc(i.value)+"\\b"))}const nee={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:C("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:C("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[C("args.schema.apply.first","Always apply the first returned code action."),C("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),C("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:C("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let hy=class w0e extends Me{constructor(e,t,n,r,s){super(),this._instantiationService=s,this._editor=e,this._model=this._register(new AQe(this._editor,t,n,r)),this._register(this._model.onDidChangeState(o=>this.update(o))),this._ui=new z7(()=>this._register(new gG(e,UE.Id,b3.Id,{applyCodeAction:(o,a)=>y0e(this,void 0,void 0,function*(){try{yield this._applyCodeAction(o)}finally{a&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution(w0e.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,n){if(!this._editor.hasModel())return;cc.get(this._editor).closeMessage();const r=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:n,context:{notAvailableMessage:e,position:r}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(MQe,e,this._editor)}};hy.ID="editor.contrib.quickFixController";hy=OQe([Z5(1,c3),Z5(2,gn),Z5(3,Pm),Z5(4,Rn)],hy);function MQe(i,e,t){return y0e(this,void 0,void 0,function*(){const n=i.get(FQ),r=i.get(Vr),s=i.get(up),o=i.get(Ts);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred}),yield e.resolve($n.None),e.action.edit&&(yield n.apply(qB.convert(e.action.edit),{editor:t,label:e.action.title})),e.action.command)try{yield r.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(a){const u=RQe(a);o.error(typeof u=="string"?u:C("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function RQe(i){return typeof i=="string"?i:i instanceof Error&&typeof i.message=="string"?i.message:void 0}function rw(i,e,t,n){if(i.hasModel()){const r=hy.get(i);r&&r.manualTriggerAtCurrentPosition(e,t,n)}}class UE extends Dt{constructor(){super({id:UE.Id,label:C("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:bt.and(he.writable,he.hasCodeActionsProvider),kbOpts:{kbExpr:he.editorTextFocus,primary:2132,weight:100}})}run(e,t){return rw(t,C("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}UE.Id="editor.action.quickFix";class PQe extends ea{constructor(){super({id:p0e,precondition:bt.and(he.writable,he.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:nee}]}})}runEditorCommand(e,t,n){const r=xg.fromUser(n,{kind:Gn.Empty,apply:"ifSingle"});return rw(t,typeof(n==null?void 0:n.kind)=="string"?r.preferred?C("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):C("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):r.preferred?C("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):C("editor.action.codeAction.noneMessage","No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}class FQe extends Dt{constructor(){super({id:m0e,label:C("refactor.label","Refactor..."),alias:"Refactor...",precondition:bt.and(he.writable,he.hasCodeActionsProvider),kbOpts:{kbExpr:he.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:bt.and(he.writable,v3(Gn.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:nee}]}})}run(e,t,n){const r=xg.fromUser(n,{kind:Gn.Refactor,apply:"never"});return rw(t,typeof(n==null?void 0:n.kind)=="string"?r.preferred?C("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):C("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):r.preferred?C("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):C("editor.action.refactor.noneMessage","No refactorings available"),{include:Gn.Refactor.contains(r.kind)?r.kind:Gn.None,onlyIncludePreferredActions:r.preferred},r.apply)}}class BQe extends Dt{constructor(){super({id:_0e,label:C("source.label","Source Action..."),alias:"Source Action...",precondition:bt.and(he.writable,he.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:bt.and(he.writable,v3(Gn.Source))},description:{description:"Source Action...",args:[{name:"args",schema:nee}]}})}run(e,t,n){const r=xg.fromUser(n,{kind:Gn.Source,apply:"never"});return rw(t,typeof(n==null?void 0:n.kind)=="string"?r.preferred?C("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):C("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):r.preferred?C("editor.action.source.noneMessage.preferred","No preferred source actions available"):C("editor.action.source.noneMessage","No source actions available"),{include:Gn.Source.contains(r.kind)?r.kind:Gn.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}class WQe extends Dt{constructor(){super({id:QJ,label:C("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:bt.and(he.writable,v3(Gn.SourceOrganizeImports)),kbOpts:{kbExpr:he.editorTextFocus,primary:1581,weight:100}})}run(e,t){return rw(t,C("editor.action.organize.noneMessage","No organize imports action available"),{include:Gn.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class VQe extends Dt{constructor(){super({id:JJ,label:C("fixAll.label","Fix All"),alias:"Fix All",precondition:bt.and(he.writable,v3(Gn.SourceFixAll))})}run(e,t){return rw(t,C("fixAll.noneMessage","No fix all action available"),{include:Gn.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class b3 extends Dt{constructor(){super({id:b3.Id,label:C("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:bt.and(he.writable,v3(Gn.QuickFix)),kbOpts:{kbExpr:he.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return rw(t,C("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Gn.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}b3.Id="editor.action.autoFix";Ri(hy.ID,hy);st(UE);st(FQe);st(BQe);st(WQe);st(b3);st(VQe);rt(new PQe);var hae=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class pG{constructor(){this.lenses=[],this._disposables=new tt}dispose(){this._disposables.dispose()}add(e,t){this._disposables.add(e);for(const n of e.lenses)this.lenses.push({symbol:n,provider:t})}}function S0e(i,e){return hae(this,void 0,void 0,function*(){const t=qp.ordered(i),n=new Map,r=new pG,s=t.map((o,a)=>hae(this,void 0,void 0,function*(){n.set(o,a);try{const u=yield Promise.resolve(o.provideCodeLenses(i,e));u&&r.add(u,o)}catch(u){Jo(u)}}));return yield Promise.all(s),r.lenses=r.lenses.sort((o,a)=>o.symbol.range.startLineNumber<a.symbol.range.startLineNumber?-1:o.symbol.range.startLineNumber>a.symbol.range.startLineNumber?1:n.get(o.provider)<n.get(a.provider)?-1:n.get(o.provider)>n.get(a.provider)?1:o.symbol.range.startColumn<a.symbol.range.startColumn?-1:o.symbol.range.startColumn>a.symbol.range.startColumn?1:0),r})}ni.registerCommand("_executeCodeLensProvider",function(i,...e){let[t,n]=e;nr(an.isUri(t)),nr(typeof n=="number"||!n);const r=i.get($s).getModel(t);if(!r)throw Tf();const s=[],o=new tt;return S0e(r,$n.None).then(a=>{o.add(a);let u=[];for(const c of a.lenses)n==null||c.symbol.command?s.push(c.symbol):n-- >0&&c.provider.resolveCodeLens&&u.push(Promise.resolve(c.provider.resolveCodeLens(r,c.symbol,$n.None)).then(h=>s.push(h||c.symbol)));return Promise.all(u)}).then(()=>s).finally(()=>{setTimeout(()=>o.dispose(),100)})});var HQe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$Qe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const x0e=Ci("ICodeLensCache");class fae{constructor(e,t){this.lineCount=e,this.data=t}}let mG=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new X1(20,.75);const t="codelens/cache";hM(()=>e.remove(t,1));const n="codelens/cache2",r=e.get(n,1,"{}");this._deserialize(r),xm(e.onWillSaveState)(s=>{s.reason===N7.SHUTDOWN&&e.store(n,this._serialize(),1,1)})}put(e,t){const n=t.lenses.map(o=>{var a;return{range:o.symbol.range,command:o.symbol.command&&{id:"",title:(a=o.symbol.command)===null||a===void 0?void 0:a.title}}}),r=new pG;r.add({lenses:n,dispose:()=>{}},this._fakeProvider);const s=new fae(e.getLineCount(),r);this._cache.set(e.uri.toString(),s)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,n]of this._cache){const r=new Set;for(const s of n.data.lenses)r.add(s.symbol.range.startLineNumber);e[t]={lineCount:n.lineCount,lines:[...r.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const n in t){const r=t[n],s=[];for(const a of r.lines)s.push({range:new Q(a,1,a,11)});const o=new pG;o.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(n,new fae(r.lineCount,o))}}catch{}}};mG=HQe([$Qe(0,pp)],mG);Q1(x0e,mG);class zQe{constructor(e,t,n){this.afterLineNumber=e,this.heightInPx=t,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class FW{constructor(e,t,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${FW._idPool++}`,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();let n=[],r=!1;for(let s=0;s<e.length;s++){const o=e[s];if(o&&(r=!0,o.command)){const a=vC(o.command.title.trim());o.command.id?(n.push(Ye("a",{id:String(s),title:o.command.tooltip},...a)),this._commands.set(String(s),o.command)):n.push(Ye("span",{title:o.command.tooltip},...a)),s+1<e.length&&n.push(Ye("span",void 0,"|"))}}r?(S1(this._domNode,...n),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):S1(this._domNode,Ye("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}FW._idPool=0;class Z${constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,r=t.length;n<r;n++)this._addDecorationsCallbacks[n](t[n])}}class gae{constructor(e,t,n,r,s,o,a){this._isDisposed=!1,this._editor=t,this._className=n,this._data=e,this._decorationIds=[];let u,c=[];this._data.forEach((h,f)=>{h.symbol.command&&c.push(h.symbol),r.addDecoration({range:h.symbol.range,options:Tn.EMPTY},p=>this._decorationIds[f]=p),u?u=Q.plusRange(u,h.symbol.range):u=Q.lift(h.symbol.range)}),this._viewZone=new zQe(u.startLineNumber-1,o,a),this._viewZoneId=s.addZone(this._viewZone),c.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new FW(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const n=this._editor.getModel().getDecorationRange(e),r=this._data[t].symbol;return!!(n&&Q.isEmpty(r.range)===n.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((n,r)=>{t.addDecoration({range:n.symbol.range,options:Tn.EMPTY},s=>this._decorationIds[r]=s)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const n=e[t];if(n){const{symbol:r}=this._data[t];r.command=n.command||r.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}var UQe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},X$=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},jQe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};let Bx=class{constructor(e,t,n,r){this._editor=e,this._commandService=t,this._notificationService=n,this._codeLensCache=r,this._disposables=new tt,this._localToDispose=new tt,this._lenses=[],this._getCodeLensModelDelays=new RF(qp,250,2500),this._oldCodeLensModels=new tt,this._resolveCodeLensesDelays=new RF(qp,250,2500),this._resolveCodeLensesScheduler=new lr(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(43)||s.hasChanged(16)||s.hasChanged(15))&&this._updateLensStyle(),s.hasChanged(14)&&this._onModelChange()})),this._disposables.add(qp.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+Spe(this._editor.getId()).toString(16),this._styleElement=Pc(lB(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e=this._editor.getOption(16),t;return!e||e<5?(e=this._editor.getOption(45)*.9|0,t=this._editor.getOption(58)):t=e*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(45))|0,{codeLensHeight:t,fontSize:e}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),n=this._editor.getOption(15),r=this._editor.getOption(43),s=`--codelens-font-family${this._styleClassName}`,o=`--codelens-font-features${this._styleClassName}`;let a=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(t*.5)}px; font-feature-settings: var(${o}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }
		`;n&&(a+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${s}), ${da.fontFamily}}`),this._styleElement.textContent=a,this._editor.getContainerDomNode().style.setProperty(s,n??"inherit"),this._editor.getContainerDomNode().style.setProperty(o,r.fontFeatureSettings),this._editor.changeViewZones(u=>{for(let c of this._lenses)c.updateHeight(e,u)})}_localDispose(){var e,t,n;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(n=this._currentCodeLensModel)===null||n===void 0||n.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!qp.has(e)){t&&this._localToDispose.add(zC(()=>{const r=this._codeLensCache.get(e);t===r&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3));return}for(const r of qp.all(e))if(typeof r.onDidChange=="function"){let s=r.onDidChange(()=>n.schedule());this._localToDispose.add(s)}const n=new lr(()=>{var r;const s=Date.now();(r=this._getCodeLensModelPromise)===null||r===void 0||r.cancel(),this._getCodeLensModelPromise=Do(o=>S0e(e,o)),this._getCodeLensModelPromise.then(o=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=o,this._codeLensCache.put(e,o);const a=this._getCodeLensModelDelays.update(e,Date.now()-s);n.delay=a,this._renderCodeLensSymbols(o),this._resolveCodeLensesInViewportSoon()},vn)},this._getCodeLensModelDelays.get(e));this._localToDispose.add(n),this._localToDispose.add(Yn(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(r=>{this._editor.changeViewZones(s=>{let o=[],a=-1;this._lenses.forEach(c=>{!c.isValid()||a===c.getLineNumber()?o.push(c):(c.update(s),a=c.getLineNumber())});let u=new Z$;o.forEach(c=>{c.dispose(u,s),this._lenses.splice(this._lenses.indexOf(c),1)}),u.commit(r)})}),n.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{n.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(r=>{r.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Yn(()=>{if(this._editor.getModel()){const r=k1.capture(this._editor);this._editor.changeDecorations(s=>{this._editor.changeViewZones(o=>{this._disposeAllLenses(s,o)})}),r.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(r=>{if(r.target.type!==9)return;let s=r.target.element;if((s==null?void 0:s.tagName)==="SPAN"&&(s=s.parentElement),(s==null?void 0:s.tagName)==="A")for(const o of this._lenses){let a=o.getCommand(s);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(u=>this._notificationService.error(u));break}}})),n.schedule()}_disposeAllLenses(e,t){const n=new Z$;for(const r of this._lenses)r.dispose(n,t);e&&n.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t=this._editor.getModel().getLineCount(),n=[],r;for(let a of e.lenses){let u=a.symbol.range.startLineNumber;u<1||u>t||(r&&r[r.length-1].symbol.range.startLineNumber===u?r.push(a):(r=[a],n.push(r)))}const s=k1.capture(this._editor),o=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(u=>{const c=new Z$;let h=0,f=0;for(;f<n.length&&h<this._lenses.length;){let p=n[f][0].symbol.range.startLineNumber,m=this._lenses[h].getLineNumber();m<p?(this._lenses[h].dispose(c,u),this._lenses.splice(h,1)):m===p?(this._lenses[h].updateCodeLensSymbols(n[f],c),f++,h++):(this._lenses.splice(h,0,new gae(n[f],this._editor,this._styleClassName,c,u,o.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),h++,f++)}for(;h<this._lenses.length;)this._lenses[h].dispose(c,u),this._lenses.splice(h,1);for(;f<n.length;)this._lenses.push(new gae(n[f],this._editor,this._styleClassName,c,u,o.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),f++;c.commit(a)})}),s.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const n=[],r=[];if(this._lenses.forEach(a=>{const u=a.computeIfNecessary(t);u&&(n.push(u),r.push(a))}),n.length===0)return;const s=Date.now(),o=Do(a=>{const u=n.map((c,h)=>{const f=new Array(c.length),p=c.map((m,v)=>!m.symbol.command&&typeof m.provider.resolveCodeLens=="function"?Promise.resolve(m.provider.resolveCodeLens(t,m.symbol,a)).then(b=>{f[v]=b},Jo):(f[v]=m.symbol,Promise.resolve(void 0)));return Promise.all(p).then(()=>{!a.isCancellationRequested&&!r[h].isDisposed()&&r[h].updateCommands(f)})});return Promise.all(u)});this._resolveCodeLensesPromise=o,this._resolveCodeLensesPromise.then(()=>{const a=this._resolveCodeLensesDelays.update(t,Date.now()-s);this._resolveCodeLensesScheduler.delay=a,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),o===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},a=>{vn(a),o===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};Bx.ID="css.editor.codeLens";Bx=UQe([X$(1,Vr),X$(2,Ts),X$(3,x0e)],Bx);Ri(Bx.ID,Bx);st(class extends Dt{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:he.hasCodeLensProvider,label:C("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return jQe(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get(qc),r=e.get(Vr),s=e.get(Ts),o=t.getSelection().positionLineNumber,a=t.getContribution(Bx.ID),u=[];for(let h of a.getLenses())if(h.getLineNumber()===o)for(let f of h.getItems()){const{command:p}=f.symbol;p&&u.push({label:p.title,command:p})}if(u.length===0)return;const c=yield n.pick(u,{canPickMany:!1});if(c)try{yield r.executeCommand(c.command.id,...c.command.arguments||[])}catch(h){s.error(h)}})}});function KQe(i,e){const t=[],r=xx.ordered(i).reverse().map(s=>Promise.resolve(s.provideDocumentColors(i,e)).then(o=>{if(Array.isArray(o))for(let a of o)t.push({colorInfo:a,provider:s})}));return Promise.all(r).then(()=>t)}function pae(i,e,t,n){return Promise.resolve(t.provideColorPresentations(i,e,n))}ni.registerCommand("_executeDocumentColorProvider",function(i,...e){const[t]=e;if(!(t instanceof an))throw Tf();const n=i.get($s).getModel(t);if(!n)throw Tf();const r=[],o=xx.ordered(n).reverse().map(a=>Promise.resolve(a.provideDocumentColors(n,$n.None)).then(u=>{if(Array.isArray(u))for(let c of u)r.push({range:c.range,color:[c.color.red,c.color.green,c.color.blue,c.color.alpha]})}));return Promise.all(o).then(()=>r)});ni.registerCommand("_executeColorPresentationProvider",function(i,...e){const[t,n]=e,{uri:r,range:s}=n;if(!(r instanceof an)||!Array.isArray(t)||t.length!==4||!Q.isIRange(s))throw Tf();const[o,a,u,c]=t,h=i.get($s).getModel(r);if(!h)throw Tf();const f={range:s,color:{red:o,green:a,blue:u,alpha:c}},p=[],v=xx.ordered(h).reverse().map(b=>Promise.resolve(b.provideColorPresentations(h,f,$n.None)).then(S=>{Array.isArray(S)&&p.push(...S)}));return Promise.all(v).then(()=>p)});var qQe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},GQe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const YQe=500;let fy=class E0e extends Me{constructor(e,t){super(),this._editor=e,this._configurationService=t,this._localToDispose=this._register(new tt),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new ope(this._editor),this._colorDecorationClassRefs=this._register(new tt),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(xx.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let n=this._isEnabled;this._isEnabled=this.isEnabled(),n!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),n=this._configurationService.getValue(t);if(n&&typeof n=="object"){const r=n.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const e=this._editor.getModel();!e||!xx.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new el,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},E0e.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=Do(e=>{const t=this._editor.getModel();return t?KQe(t,e):Promise.resolve([])}),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},vn)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(n=>({range:{startLineNumber:n.colorInfo.range.startLineNumber,startColumn:n.colorInfo.range.startColumn,endLineNumber:n.colorInfo.range.endLineNumber,endColumn:n.colorInfo.range.endColumn},options:Tn.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((n,r)=>this._colorDatas.set(n,e[r]))}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let t=[];for(let n=0;n<e.length&&t.length<YQe;n++){const{red:r,green:s,blue:o,alpha:a}=e[n].colorInfo.color,u=new bi(Math.round(r*255),Math.round(s*255),Math.round(o*255),a);let c=`rgba(${u.r}, ${u.g}, ${u.b}, ${u.a})`;const h=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:c}));t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:lke,inlineClassName:`${h.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],t))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const n=t.getDecorationsInRange(Q.fromPositions(e,e)).filter(r=>this._colorDatas.has(r.id));return n.length===0?null:this._colorDatas.get(n[0].id)}isColorDecorationId(e){return this._colorDecoratorIds.has(e)}};fy.ID="editor.contrib.colorDetector";fy.RECOMPUTE_TIME=1e3;fy=qQe([GQe(1,cr)],fy);Ri(fy.ID,fy);function _G(i,e){return!!i[e]}class Q${constructor(e,t){this.target=e.target,this.hasTriggerModifier=_G(e.event,t.triggerModifier),this.hasSideBySideModifier=_G(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class mae{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=_G(e,t.triggerModifier)}}class X5{constructor(e,t,n,r){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=r}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function _ae(i){return i==="altKey"?Xn?new X5(57,"metaKey",6,"altKey"):new X5(5,"ctrlKey",6,"altKey"):Xn?new X5(6,"altKey",57,"metaKey"):new X5(6,"altKey",5,"ctrlKey")}class L0e extends Me{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new ye),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new ye),this.onExecute=this._onExecute.event,this._onCancel=this._register(new ye),this.onCancel=this._onCancel.event,this._editor=e,this._opts=_ae(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(69)){const n=_ae(this._editor.getOption(69));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new Q$(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new Q$(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new Q$(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new mae(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new mae(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var ZQe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mb=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let gy=class extends HM{constructor(e,t,n,r,s,o,a,u,c,h){super(e,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),{},r,s,o,a,u,c,h),this._parentEditor=n,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration(f=>this._onParentConfigurationChanged(f)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){hp(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};gy=ZQe([mb(3,Rn),mb(4,Mi),mb(5,Vr),mb(6,gn),mb(7,Rr),mb(8,Ts),mb(9,Dl)],gy);const vae=new Se(new bi(0,122,204)),XQe={showArrow:!0,showFrame:!0,className:"",frameColor:vae,arrowColor:vae,keepEditorSelection:!1},QQe="vs.editor.contrib.zoneWidget";class JQe{constructor(e,t,n,r,s,o){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=r,this._onDomNodeTop=s,this._onComputedHeight=o}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class eJe{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class BW{constructor(e){this._editor=e,this._ruleName=BW._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),yie(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){yie(this._ruleName),Lj(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:Q.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}BW._IdGenerator=new pJ(".arrow-decoration-");class tJe{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new tt,this.container=null,this._isShowing=!1,this.editor=e,this.options=Wp(t),hp(this.options,XQe,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(n=>{const r=this._getWidth(n);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(n)+"px",this._onWidth(r)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new BW(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const n=t.getDecorationRange(e);if(n)return n.getStartPosition()}show(e,t){const n=Q.isIRange(e)?Q.lift(e):Q.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:Tn.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(58),t=0;if(this.options.showArrow){let n=Math.round(e/3);t+=2*n}if(this.options.showFrame){let n=Math.round(e/9);t+=2*n}return t}_showImpl(e,t){const n=e.getStartPosition(),r=this.editor.getLayoutInfo(),s=this._getWidth(r);this.domNode.style.width=`${s}px`,this.domNode.style.left=this._getLeft(r)+"px";const o=document.createElement("div");o.style.overflow="hidden";const a=this.editor.getOption(58),u=Math.max(12,this.editor.getLayoutInfo().height/a*.8);t=Math.min(t,u);let c=0,h=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(a/3),this._arrow.height=c,this._arrow.show(n)),this.options.showFrame&&(h=Math.round(a/9)),this.editor.changeViewZones(m=>{this._viewZone&&m.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new JQe(o,n.lineNumber,n.column,t,v=>this._onViewZoneTop(v),v=>this._onViewZoneHeight(v)),this._viewZone.id=m.addZone(this._viewZone),this._overlayWidget=new eJe(QQe+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const m=this.options.frameWidth?this.options.frameWidth:h;this.container.style.borderTopWidth=m+"px",this.container.style.borderBottomWidth=m+"px"}let f=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=f+"px",this.container.style.overflow="hidden"),this._doLayout(f,s),this.options.keepEditorSelection||this.editor.setSelection(e);const p=this.editor.getModel();if(p){const m=e.endLineNumber+1;m<=p.getLineCount()?this.revealLine(m,!1):this.revealLine(p.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new oa(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){let n=(t.currentY-e.startY)/this.editor.getOption(58),r=n<0?Math.ceil(n):Math.floor(n),s=e.heightInLines+r;s>5&&s<35&&this._relayout(s)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}class nJe extends bx{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new ye),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=We(e,Ye(".monaco-dropdown")),this._label=We(this._element,Ye(".dropdown-label"));let n=t.labelRenderer;n||(n=s=>(s.textContent=t.label||"",null));for(const s of[Ut.CLICK,Ut.MOUSE_DOWN,mr.Tap])this._register(Ze(this.element,s,o=>Fi.stop(o,!0)));for(const s of[Ut.MOUSE_DOWN,mr.Tap])this._register(Ze(this._label,s,o=>{o instanceof MouseEvent&&o.detail>1||(this.visible?this.hide():this.show())}));this._register(Ze(this._label,Ut.KEY_UP,s=>{const o=new Ar(s);(o.equals(3)||o.equals(10))&&(Fi.stop(s,!0),this.visible?this.hide():this.show())}));const r=n(this._label);r&&this._register(r),this._register(qi.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class iJe extends nJe{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class D0e extends pg{constructor(e,t,n,r=Object.create(null)){super(null,e,r),this.actionItem=null,this._onDidChangeVisibility=this._register(new ye),this.menuActionsOrProvider=t,this.contextMenuProvider=n,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=s=>{this.element=We(s,Ye("a.action-label"));let o=[];return typeof this.options.classNames=="string"?o=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(o=this.options.classNames),o.find(a=>a==="icon")||o.push("codicon"),this.element.classList.add(...o),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},n=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new iJe(e,r)),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var o;(o=this.element)===null||o===void 0||o.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const s=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return s.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const n=!this.getAction().enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",n),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",n)}}var iee=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mg=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},T0e=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function rJe(i,e,t,n,r,s,o){const a=i.getActions(e);return oJe(a,t,!1,typeof n=="string"?c=>c===n:n,r,s,o),sJe(a)}function sJe(i){const e=new tt;for(const[,t]of i)for(const n of t)e.add(n);return e}function oJe(i,e,t,n=a=>a==="navigation",r=Number.MAX_SAFE_INTEGER,s=()=>!1,o=!1){let a,u;Array.isArray(e)?(a=e,u=e):(a=e.primary,u=e.secondary);const c=new Set;for(const[h,f]of i){let p;n(h)?(p=a,p.length>0&&o&&p.push(new Ld)):(p=u,p.length>0&&p.push(new Ld));for(let m of f){t&&(m=m instanceof E1&&m.alt?m.alt:m);const v=p.push(m);m instanceof uB&&c.add({group:h,action:m,index:v-1})}}for(const{group:h,action:f,index:p}of c){const m=n(h)?a:u,v=f.actions;(v.length<=1||m.length+v.length-2<=r)&&s(f,h,m.length)&&m.splice(p,1,...v)}if(a!==u&&a.length>r){const h=a.splice(r,a.length-r);u.unshift(...h,new Ld)}}let Wx=class extends zM{constructor(e,t,n,r,s){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable}),this._keybindingService=n,this._notificationService=r,this._contextKeyService=s,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Ja),this._altKey=Kb.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return T0e(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,n=this._altKey.keyStatus.altKey||(Zo||yl)&&this._altKey.keyStatus.shiftKey;const r=()=>{const s=t&&n;s!==this._wantsAltCommand&&(this._wantsAltCommand=s,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(s=>{n=s.altKey||(Zo||yl)&&s.shiftKey,r()})),this._register(Ze(e,"mouseleave",s=>{t=!1,r()})),this._register(Ze(e,"mouseenter",s=>{t=!0,r()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let r=t?C("titleAndKb","{0} ({1})",n,t):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){const s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,o=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),a=o&&o.getLabel(),u=a?C("titleAndKb","{0} ({1})",s,a):s;r+=`
[${WQ.modifierLabels[yc].altKey}] ${u}`}this.label.title=r}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:n,label:r}=this;if(!n||!r)return;const s=this._commandAction.checked&&(!((t=e.toggled)===null||t===void 0)&&t.icon)?e.toggled.icon:e.icon;if(s)if(Sr.isThemeIcon(s)){const o=Sr.asClassNameArray(s);r.classList.add(...o),this._itemClassDispose.value=Yn(()=>{r.classList.remove(...o)})}else s.light&&r.style.setProperty("--menu-entry-icon-light",UC(s.light)),s.dark&&r.style.setProperty("--menu-entry-icon-dark",UC(s.dark)),r.classList.add("icon"),this._itemClassDispose.value=Yn(()=>{r.classList.remove("icon"),r.style.removeProperty("--menu-entry-icon-light"),r.style.removeProperty("--menu-entry-icon-dark")})}};Wx=iee([mg(2,Or),mg(3,Ts),mg(4,gn)],Wx);let vG=class extends D0e{constructor(e,t,n){var r,s;const o=Object.assign({},t??Object.create(null),{menuAsChild:(r=t==null?void 0:t.menuAsChild)!==null&&r!==void 0?r:!1,classNames:(s=t==null?void 0:t.classNames)!==null&&s!==void 0?s:Sr.isThemeIcon(e.item.icon)?Sr.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},n,o)}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!Sr.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",UC(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",UC(t.dark)))}}};vG=iee([mg(2,J1)],vG);let bG=class extends pg{constructor(e,t,n,r,s,o,a,u){var c,h,f;super(null,e),this._keybindingService=n,this._notificationService=r,this._contextMenuService=s,this._menuService=o,this._instaService=a,this._storageService=u,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let p,m=u.get(this._storageKey,1);m&&(p=e.actions.find(b=>m===b.id)),p||(p=e.actions[0]),this._defaultAction=this._instaService.createInstance(Wx,p,void 0);const v=Object.assign({},t??Object.create(null),{menuAsChild:(c=t==null?void 0:t.menuAsChild)!==null&&c!==void 0?c:!0,classNames:(h=t==null?void 0:t.classNames)!==null&&h!==void 0?h:["codicon","codicon-chevron-down"],actionRunner:(f=t==null?void 0:t.actionRunner)!==null&&f!==void 0?f:new bx});this._dropdown=new D0e(e,e.actions,this._contextMenuService,v),this._dropdown.actionRunner.onDidRun(b=>{b.action instanceof E1&&this.update(b.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Wx,e,void 0),this._defaultAction.actionRunner=new class extends bx{runAction(t,n){return T0e(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render(IIe(this._container,Ye(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=Ye(".action-container");this._defaultAction.render(We(this._container,t)),this._register(Ze(t,Ut.KEY_DOWN,r=>{const s=new Ar(r);s.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),s.stopPropagation())}));const n=Ye(".dropdown-action-container");this._dropdown.render(We(this._container,n)),this._register(Ze(n,Ut.KEY_DOWN,r=>{var s;const o=new Ar(r);o.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(s=this._defaultAction.element)===null||s===void 0||s.focus(),o.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};bG=iee([mg(2,Or),mg(3,Ts),mg(4,J1),mg(5,Uy),mg(6,Rn),mg(7,pp)],bG);function aJe(i,e,t){return e instanceof E1?i.createInstance(Wx,e,void 0):e instanceof FX?e.item.rememberDefaultAction?i.createInstance(bG,e,t):i.createInstance(vG,e,t):void 0}var I0e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},k0e=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const N0e=Ci("IPeekViewService");Q1(N0e,class{constructor(){this._widgets=new Map}addExclusiveWidget(i,e){const t=this._widgets.get(i);t&&(t.listener.dispose(),t.widget.dispose());const n=()=>{const r=this._widgets.get(i);r&&r.widget===e&&(r.listener.dispose(),this._widgets.delete(i))};this._widgets.set(i,{widget:e,listener:e.onDidClose(n)})}});var Zl;(function(i){i.inPeekEditor=new It("inReferenceSearchEditor",!0,C("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),i.notInPeekEditor=i.inPeekEditor.toNegated()})(Zl||(Zl={}));let cR=class{constructor(e,t){e instanceof gy&&Zl.inPeekEditor.bindTo(t)}dispose(){}};cR.ID="editor.contrib.referenceController";cR=I0e([k0e(1,gn)],cR);Ri(cR.ID,cR);function lJe(i){let e=i.get(Mi).getFocusedCodeEditor();return e instanceof gy?e.getParentEditor():e}const uJe={headerBackgroundColor:Se.white,primaryHeadingColor:Se.fromHex("#333333"),secondaryHeadingColor:Se.fromHex("#6c6c6cb3")};let j7=class extends tJe{constructor(e,t,n){super(e,t),this.instantiationService=n,this._onDidClose=new ye,this.onDidClose=this._onDidClose.event,hp(this.options,uJe,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=Ye(".head"),this._bodyElement=Ye(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const n=Ye(".peekview-title");this.options.supportOnTitleClick&&(n.classList.add("clickable"),vo(n,"click",o=>this._onTitleClick(o))),We(this._headElement,n),this._fillTitleIcon(n),this._primaryHeading=Ye("span.filename"),this._secondaryHeading=Ye("span.dirname"),this._metaHeading=Ye("span.meta"),We(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const r=Ye(".peekview-actions");We(this._headElement,r);const s=this._getActionBarOptions();this._actionbarWidget=new Zg(r,s),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new kc("peekview.close",C("label.close","Close"),ve.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:aJe.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:ro(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,Xu(this._metaHeading)):gl(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const n=Math.ceil(this.editor.getOption(58)*1.2),r=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(r,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};j7=I0e([k0e(2,Rn)],j7);const cJe=we("peekViewTitle.background",{dark:ur(kf,.1),light:ur(kf,.1),hc:null},C("peekViewTitleBackground","Background color of the peek view title area.")),A0e=we("peekViewTitleLabel.foreground",{dark:Se.white,light:Se.black,hc:Se.white},C("peekViewTitleForeground","Color of the peek view title.")),O0e=we("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},C("peekViewTitleInfoForeground","Color of the peek view title info.")),dJe=we("peekView.border",{dark:kf,light:kf,hc:Ds},C("peekViewBorder","Color of the peek view borders and arrow.")),hJe=we("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:Se.black},C("peekViewResultsBackground","Background color of the peek view result list."));var fJe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class M1{constructor(e,t,n,r){this.isProviderFirst=e,this.parent=t,this.link=n,this._rangeCallback=r,this.id=I_e.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?C({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",Vc(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):C("aria.oneReference","symbol in {0} on line {1} at column {2}",Vc(this.uri),this.range.startLineNumber,this.range.startColumn)}}class gJe{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:r,startColumn:s,endLineNumber:o,endColumn:a}=e,u=n.getWordUntilPosition({lineNumber:r,column:s-t}),c=new Q(r,u.startColumn,r,s),h=new Q(o,a,o,1073741824),f=n.getValueInRange(c).replace(/^\s+/,""),p=n.getValueInRange(e),m=n.getValueInRange(h).replace(/\s+$/,"");return{value:f+p+m,highlight:{start:f.length,end:f.length+p.length}}}}class dR{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new ya}dispose(){ui(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?C("aria.fileReferences.1","1 symbol in {0}, full path {1}",Vc(this.uri),this.uri.fsPath):C("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Vc(this.uri),this.uri.fsPath)}resolve(e){return fJe(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{const n=yield e.createModelReference(t.uri);this._previews.set(t.uri,new gJe(n))}catch(n){vn(n)}return this})}}class jl{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new ye,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[n]=e;e.sort(jl._compareReferences);let r;for(let s of e)if((!r||!La.isEqual(r.uri,s.uri,!0))&&(r=new dR(this,s.uri),this.groups.push(r)),r.children.length===0||jl._compareReferences(s,r.children[r.children.length-1])!==0){const o=new M1(n===s,r,s,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(o),r.children.push(o)}}dispose(){ui(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new jl(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?C("aria.result.0","No results found"):this.references.length===1?C("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?C("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):C("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:n}=e,r=n.children.indexOf(e),s=n.children.length,o=n.parent.groups.length;return o===1||t&&r+1<s||!t&&r>0?(t?r=(r+1)%s:r=(r+s-1)%s,n.children[r]):(r=n.parent.groups.indexOf(n),t?(r=(r+1)%o,n.parent.groups[r].children[0]):(r=(r+o-1)%o,n.parent.groups[r].children[n.parent.groups[r].children.length-1]))}nearestReference(e,t){const n=this.references.map((r,s)=>({idx:s,prefixLen:Cx(r.uri.toString(),e.toString()),offsetDist:Math.abs(r.range.startLineNumber-t.lineNumber)*100+Math.abs(r.range.startColumn-t.column)})).sort((r,s)=>r.prefixLen>s.prefixLen?-1:r.prefixLen<s.prefixLen?1:r.offsetDist<s.offsetDist?-1:r.offsetDist>s.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(e,t){for(const n of this.references)if(n.uri.toString()===e.toString()&&Q.containsPosition(n.range,t))return n}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return La.compare(e.uri,t.uri)||Q.compareRangesUsingStarts(e.range,t.range)}}function M0e(i){if(!i)return;typeof i=="string"&&(i=an.file(i));const e=Vc(i)||(i.scheme===On.file?i.fsPath:i.path);return Zo&&JOe(e)?CG(e):e}function CG(i,e){return gpe(i,e)?i.charAt(0).toUpperCase()+i.slice(1):i}var WW=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},hR=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let yG=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof jl||e instanceof dR}getChildren(e){if(e instanceof jl)return e.groups;if(e instanceof dR)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};yG=WW([hR(0,wl)],yG);class pJe{getHeight(){return 23}getTemplateId(e){return e instanceof dR?fR.id:C3.id}}let wG=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof M1){const n=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(n)return n.value}return Vc(e.uri)}};wG=WW([hR(0,Or)],wG);class mJe{getId(e){return e instanceof M1?e.id:e.uri}}let SG=class extends Me{constructor(e,t,n){super(),this._uriLabel=t;const r=document.createElement("div");r.classList.add("reference-file"),this.file=this._register(new O7(r,{supportHighlights:!0})),this.badge=new kq(We(r,Ye(".count"))),this._register(CFe(this.badge,n)),e.appendChild(r)}set(e,t){let n=eQ(e.uri);this.file.setLabel(M0e(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});const r=e.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat(C("referencesCount","{0} references",r)):this.badge.setTitleFormat(C("referenceCount","{0} reference",r))}};SG=WW([hR(1,o3),hR(2,Rr)],SG);let fR=class R0e{constructor(e){this._instantiationService=e,this.templateId=R0e.id}renderTemplate(e){return this._instantiationService.createInstance(SG,e)}renderElement(e,t,n){n.set(e.element,nW(e.filterData))}disposeTemplate(e){e.dispose()}};fR.id="FileReferencesRenderer";fR=WW([hR(0,Rn)],fR);class _Je{constructor(e){this.label=new ay(e)}set(e,t){var n;const r=(n=e.parent.getPreview(e))===null||n===void 0?void 0:n.preview(e.range);if(!r||!r.value)this.label.set(`${Vc(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:s,highlight:o}=r;t&&!Af.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(s,nW(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(s,[o]))}}}class C3{constructor(){this.templateId=C3.id}renderTemplate(e){return new _Je(e)}renderElement(e,t,n){n.set(e.element,e.filterData)}disposeTemplate(){}}C3.id="OneReferenceRenderer";class vJe{getWidgetAriaLabel(){return C("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var bJe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Tp=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},bae=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class VW{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new tt,this._callOnModelChange=new tt,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e){for(let t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],n=[];for(let s=0,o=e.children.length;s<o;s++){let a=e.children[s];this._decorationIgnoreSet.has(a.id)||a.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:a.range,options:VW.DecorationOptions}),n.push(s))}const r=this._editor.deltaDecorations([],t);for(let s=0;s<r.length;s++)this._decorations.set(r[s],e.children[n[s]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(let[n,r]of this._decorations){const s=t.getDecorationRange(n);if(!s)continue;let o=!1;if(!Q.equalsRange(s,r.range)){if(Q.spansMultipleLines(s))o=!0;else{const a=r.range.endColumn-r.range.startColumn,u=s.endColumn-s.startColumn;a!==u&&(o=!0)}o?(this._decorationIgnoreSet.add(r.id),e.push(n)):r.range=s}}for(let n=0,r=e.length;n<r;n++)this._decorations.delete(e[n]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}VW.DecorationOptions=Tn.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class CJe{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,n;try{const r=JSON.parse(e);t=r.ratio,n=r.heightInLines}catch{}return{ratio:t||.7,heightInLines:n||18}}}class yJe extends Eq{}let xG=class extends j7{constructor(e,t,n,r,s,o,a,u,c,h,f,p){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},o),this._defaultTreeKeyboardSupport=t,this.layoutData=n,this._textModelResolverService=s,this._instantiationService=o,this._peekViewService=a,this._uriLabel=u,this._undoRedoService=c,this._keybindingService=h,this._modeService=f,this._languageConfigurationService=p,this._disposeOnNewModel=new tt,this._callOnDispose=new tt,this._onDidSelectReference=new ye,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new vr(0,0),this._applyTheme(r.getColorTheme()),this._callOnDispose.add(r.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),ui(this._preview),ui(this._previewNotAvailableMessage),ui(this._tree),ui(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(dJe)||Se.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(cJe)||Se.transparent,primaryHeadingColor:e.getColor(A0e),secondaryHeadingColor:e.getColor(O0e)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=We(e,Ye("div.messages")),gl(this._messageContainer),this._splitView=new g_e(e,{orientation:1}),this._previewContainer=We(e,Ye("div.preview.inline"));let t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(gy,this._previewContainer,t,this.editor),gl(this._previewContainer),this._previewNotAvailableMessage=new Gl(C("missingPreviewMessage","no preview available"),Gl.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=We(e,Ye("div.ref-tree.inline"));const n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new vJe,keyboardNavigationLabelProvider:this._instantiationService.createInstance(wG),identityProvider:new mJe,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:hJe}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(vo(this._treeContainer,"keydown",s=>{s.equals(9)&&(this._keybindingService.dispatchEvent(s,s.target),s.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(yJe,"ReferencesWidget",this._treeContainer,new pJe,[this._instantiationService.createInstance(fR),this._instantiationService.createInstance(C3)],this._instantiationService.createInstance(yG),n),this._splitView.addView({onDidChange:Bt.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:s=>{this._preview.layout({height:this._dim.height,width:s})}},L7.Distribute),this._splitView.addView({onDidChange:Bt.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:s=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${s}px`,this._tree.layout(this._dim.height,s)}},L7.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let r=(s,o)=>{s instanceof M1&&(o==="show"&&this._revealReference(s,!1),this._onDidSelectReference.fire({element:s,kind:o,source:"tree"}))};this._tree.onDidOpen(s=>{s.sideBySide?r(s.element,"side"):s.editorOptions.pinned?r(s.element,"goto"):r(s.element,"show")}),gl(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new vr(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=C("noResults","No results"),Xu(this._messageContainer),Promise.resolve(void 0)):(gl(this._messageContainer),this._decorationsManager=new VW(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:n}=e;if(t.detail!==2)return;const r=this._getFocusedReference();r&&this._onDidSelectReference.fire({element:{uri:r.uri,range:n.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Xu(this._treeContainer),Xu(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof M1)return e;if(e instanceof dR&&e.children.length>0)return e.children[0]}revealReference(e){return bae(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return bae(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==On.inMemory?this.setTitle(mpe(e.uri),this._uriLabel.getUriLabel(eQ(e.uri))):this.setTitle(C("peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));const r=yield n;if(!this._model){r.dispose();return}ui(this._previewModelReference);const s=r.object;if(s){const o=this._preview.getModel()===s.textEditorModel?0:1,a=Q.lift(e.range).collapseToStart();this._previewModelReference=r,this._preview.setModel(s.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,o)}else this._preview.setModel(this._previewNotAvailableMessage),r.dispose()})}};xG=bJe([Tp(3,Rr),Tp(4,wl),Tp(5,Rn),Tp(6,N0e),Tp(7,o3),Tp(8,QP),Tp(9,Or),Tp(10,ta),Tp(11,XP)],xG);var wJe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Lw=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},Cae=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const sw=new It("referenceSearchVisible",!1,C("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let R1=class EG{constructor(e,t,n,r,s,o,a,u){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=r,this._notificationService=s,this._instantiationService=o,this._storageService=a,this._configurationService=u,this._disposables=new tt,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=sw.bindTo(n)}static get(e){return e.getContribution(EG.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,n){let r;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&e.containsPosition(r))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const s="peekViewLayout",o=CJe.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(xG,this._editor,this._defaultTreeKeyboardSupport,o),this._widget.setTitle(C("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(u=>{let{element:c,kind:h}=u;if(c)switch(h){case"open":(u.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(c,!1,!1);break;case"side":this.openReference(c,!0,!1);break;case"goto":n?this._gotoReference(c):this.openReference(c,!1,!0);break}}));const a=++this._requestIdPool;t.then(u=>{var c;if(a!==this._requestIdPool||!this._widget){u.dispose();return}return(c=this._model)===null||c===void 0||c.dispose(),this._model=u,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(C("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let h=this._editor.getModel().uri,f=new Ee(e.startLineNumber,e.startColumn),p=this._model.nearestReference(h,f);if(p)return this._widget.setSelection(p).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},u=>{this._notificationService.error(u)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return Cae(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const n=this._model.nearestReference(this._editor.getModel().uri,t);if(!n)return;const r=this._model.nextOrPreviousReference(n,e),s=this._editor.hasTextFocus(),o=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(r),yield this._gotoReference(r),s?this._editor.focus():this._widget&&o&&this._widget.focusOnPreviewEditor()})}revealReference(e){return Cae(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,n;(t=this._widget)===null||t===void 0||t.dispose(),(n=this._model)===null||n===void 0||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const t=Q.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t}},this._editor).then(n=>{var r;if(this._ignoreModelChangeEvent=!1,!n||!this._widget){this.closeWidget();return}if(this._editor===n)this._widget.show(t),this._widget.focusOnReferenceTree();else{const s=EG.get(n),o=this._model.clone();this.closeWidget(),n.focus(),s.toggleWidget(t,Do(a=>Promise.resolve(o)),(r=this._peekMode)!==null&&r!==void 0?r:!1)}},n=>{this._ignoreModelChangeEvent=!1,vn(n)})}openReference(e,t,n){t||this.closeWidget();const{uri:r,range:s}=e;this._editorService.openCodeEditor({resource:r,options:{selection:s,pinned:n}},this._editor,t)}};R1.ID="editor.contrib.referencesController";R1=wJe([Lw(2,gn),Lw(3,Mi),Lw(4,Ts),Lw(5,Rn),Lw(6,pp),Lw(7,cr)],R1);function ow(i,e){const t=lJe(i);if(!t)return;let n=R1.get(t);n&&e(n)}Xo.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:cs(2089,60),when:bt.or(sw,Zl.inPeekEditor),handler(i){ow(i,e=>{e.changeFocusBetweenPreviewAndReferences()})}});Xo.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:bt.or(sw,Zl.inPeekEditor),handler(i){ow(i,e=>{e.goToNextOrPreviousReference(!0)})}});Xo.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:bt.or(sw,Zl.inPeekEditor),handler(i){ow(i,e=>{e.goToNextOrPreviousReference(!1)})}});ni.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");ni.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");ni.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");ni.registerCommand("closeReferenceSearch",i=>ow(i,e=>e.closeWidget()));Xo.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:bt.and(Zl.inPeekEditor,bt.not("config.editor.stablePeek"))});Xo.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:bt.and(sw,bt.not("config.editor.stablePeek"))});Xo.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:bt.and(sw,w_e),handler(i){var e;const n=(e=i.get(Kc).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof M1&&ow(i,r=>r.revealReference(n[0]))}});Xo.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:bt.and(sw,w_e),handler(i){var e;const n=(e=i.get(Kc).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof M1&&ow(i,r=>r.openReference(n[0],!0,!0))}});ni.registerCommand("openReference",i=>{var e;const n=(e=i.get(Kc).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof M1&&ow(i,r=>r.openReference(n[0],!1,!0))});var P0e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},QA=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const ree=new It("hasSymbols",!1,C("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),HW=Ci("ISymbolNavigationService");let LG=class{constructor(e,t,n,r){this._editorService=t,this._notificationService=n,this._keybindingService=r,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=ree.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const n=new DG(this._editorService),r=n.onDidChange(s=>{if(this._ignoreEditorChange)return;const o=this._editorService.getActiveCodeEditor();if(!o)return;const a=o.getModel(),u=o.getPosition();if(!a||!u)return;let c=!1,h=!1;for(const f of t.references)if(ppe(f.uri,a.uri))c=!0,h=h||Q.containsPosition(f.range,u);else if(c)break;(!c||!h)&&this.reset()});this._currentState=e1(n,r)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:Q.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=t?C("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):C("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}};LG=P0e([QA(0,gn),QA(1,Mi),QA(2,Ts),QA(3,Or)],LG);Q1(HW,LG,!0);rt(new class extends ea{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:ree,kbOpts:{weight:100,primary:70}})}runEditorCommand(i,e){return i.get(HW).revealNext(e)}});Xo.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:ree,primary:9,handler(i){i.get(HW).reset()}});let DG=class{constructor(e){this._listener=new Map,this._disposables=new tt,this._onDidChange=new ye,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),ui(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,e1(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};DG=P0e([QA(0,Mi)],DG);var F0e=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function y3(i,e,t,n){const s=t.ordered(i).map(o=>Promise.resolve(n(o,i,e)).then(void 0,a=>{Jo(a)}));return Promise.all(s).then(o=>{const a=[];for(let u of o)Array.isArray(u)?a.push(...u):u&&a.push(u);return a})}function see(i,e,t){return y3(i,e,SM,(n,r,s)=>n.provideDefinition(r,s,t))}function B0e(i,e,t){return y3(i,e,VF,(n,r,s)=>n.provideDeclaration(r,s,t))}function W0e(i,e,t){return y3(i,e,HF,(n,r,s)=>n.provideImplementation(r,s,t))}function V0e(i,e,t){return y3(i,e,$F,(n,r,s)=>n.provideTypeDefinition(r,s,t))}function $W(i,e,t,n){return y3(i,e,FF,(r,s,o)=>F0e(this,void 0,void 0,function*(){const a=yield r.provideReferences(s,o,{includeDeclaration:!0},n);if(!t||!a||a.length!==2)return a;const u=yield r.provideReferences(s,o,{includeDeclaration:!1},n);return u&&u.length===1?u:a}))}function w3(i){return F0e(this,void 0,void 0,function*(){const e=yield i(),t=new jl(e,""),n=t.references.map(r=>r.link);return t.dispose(),n})}dp("_executeDefinitionProvider",(i,e)=>w3(()=>see(i,e,$n.None)));dp("_executeDeclarationProvider",(i,e)=>w3(()=>B0e(i,e,$n.None)));dp("_executeImplementationProvider",(i,e)=>w3(()=>W0e(i,e,$n.None)));dp("_executeTypeDefinitionProvider",(i,e)=>w3(()=>V0e(i,e,$n.None)));dp("_executeReferenceProvider",(i,e)=>w3(()=>$W(i,e,!1,$n.None)));var Id=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})},J$,ez,tz,nz,iz,rz,sz,oz;Sa.appendMenuItem(Ft.EditorContext,{submenu:Ft.EditorContextPeek,title:C("peek.submenu","Peek"),group:"navigation",order:100});const H0e=new Set;function jf(i){const e=new i;return vge(e),H0e.add(e.id),e}class jE extends Dt{constructor(e,t){super(t),this._configuration=e}run(e,t){if(!t.hasModel())return Promise.resolve(void 0);const n=e.get(Ts),r=e.get(Mi),s=e.get(Pm),o=e.get(HW),a=t.getModel(),u=t.getPosition(),c=new $M(t,5),h=vX(this._getLocationModel(a,u,c.token),c.token).then(f=>Id(this,void 0,void 0,function*(){if(!f||c.token.isCancellationRequested)return;Ko(f.ariaMessage);let p;if(f.referenceAt(a.uri,u)){const v=this._getAlternativeCommand(t);v!==this.id&&H0e.has(v)&&(p=t.getAction(v))}const m=f.references.length;if(m===0){if(!this._configuration.muteMessage){const v=a.getWordAtPosition(u);cc.get(t).showMessage(this._getNoResultFoundMessage(v),u)}}else if(m===1&&p)p.run();else return this._onResult(r,o,t,f)}),f=>{n.error(f)}).finally(()=>{c.dispose()});return s.showWhile(h,250),h}_onResult(e,t,n,r){return Id(this,void 0,void 0,function*(){const s=this._getGoToPreference(n);if(!(n instanceof gy)&&(this._configuration.openInPeek||s==="peek"&&r.references.length>1))this._openInPeek(n,r);else{const o=r.firstReference(),a=r.references.length>1&&s==="gotoAndPeek",u=yield this._openReference(n,e,o,this._configuration.openToSide,!a);a&&u?this._openInPeek(u,r):r.dispose(),s==="goto"&&t.put(o)}})}_openReference(e,t,n,r,s){return Id(this,void 0,void 0,function*(){let o;if(aRe(n)&&(o=n.targetSelectionRange),o||(o=n.range),!o)return;const a=yield t.openCodeEditor({resource:n.uri,options:{selection:Q.collapseToStart(o),selectionRevealType:3}},e,r);if(a){if(s){const u=a.getModel(),c=a.deltaDecorations([],[{range:o,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===u&&a.deltaDecorations(c,[])},350)}return a}})}_openInPeek(e,t){let n=R1.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),Do(r=>Promise.resolve(t)),this._configuration.openInPeek):t.dispose()}}class zW extends jE{_getLocationModel(e,t,n){return Id(this,void 0,void 0,function*(){return new jl(yield see(e,t,n),C("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?C("noResultWord","No definition found for '{0}'",e.word):C("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(50).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(50).multipleDefinitions}}const $0e=EE&&!pX?2118:70;jf((J$=class TG extends zW{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:TG.id,label:C("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:bt.and(he.hasDefinitionProvider,he.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:he.editorTextFocus,primary:$0e,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),ni.registerCommandAlias("editor.action.goToDeclaration",TG.id)}},J$.id="editor.action.revealDefinition",J$));jf((ez=class IG extends zW{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:IG.id,label:C("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:bt.and(he.hasDefinitionProvider,he.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,$0e),weight:100}}),ni.registerCommandAlias("editor.action.openDeclarationToTheSide",IG.id)}},ez.id="editor.action.revealDefinitionAside",ez));jf((tz=class kG extends zW{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:kG.id,label:C("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:bt.and(he.hasDefinitionProvider,Zl.notInPeekEditor,he.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:he.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Ft.EditorContextPeek,group:"peek",order:2}}),ni.registerCommandAlias("editor.action.previewDeclaration",kG.id)}},tz.id="editor.action.peekDefinition",tz));class z0e extends jE{_getLocationModel(e,t,n){return Id(this,void 0,void 0,function*(){return new jl(yield B0e(e,t,n),C("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?C("decl.noResultWord","No declaration found for '{0}'",e.word):C("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(50).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(50).multipleDeclarations}}jf((nz=class U0e extends z0e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:U0e.id,label:C("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:bt.and(he.hasDeclarationProvider,he.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?C("decl.noResultWord","No declaration found for '{0}'",e.word):C("decl.generic.noResults","No declaration found")}},nz.id="editor.action.revealDeclaration",nz));jf(class extends z0e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:C("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:bt.and(he.hasDeclarationProvider,Zl.notInPeekEditor,he.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ft.EditorContextPeek,group:"peek",order:3}})}});class j0e extends jE{_getLocationModel(e,t,n){return Id(this,void 0,void 0,function*(){return new jl(yield V0e(e,t,n),C("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?C("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):C("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(50).multipleTypeDefinitions}}jf((iz=class K0e extends j0e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:K0e.ID,label:C("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:bt.and(he.hasTypeDefinitionProvider,he.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:he.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},iz.ID="editor.action.goToTypeDefinition",iz));jf((rz=class q0e extends j0e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:q0e.ID,label:C("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:bt.and(he.hasTypeDefinitionProvider,Zl.notInPeekEditor,he.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ft.EditorContextPeek,group:"peek",order:4}})}},rz.ID="editor.action.peekTypeDefinition",rz));class G0e extends jE{_getLocationModel(e,t,n){return Id(this,void 0,void 0,function*(){return new jl(yield W0e(e,t,n),C("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?C("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):C("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(50).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(50).multipleImplementations}}jf((sz=class Y0e extends G0e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Y0e.ID,label:C("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:bt.and(he.hasImplementationProvider,he.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:he.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},sz.ID="editor.action.goToImplementation",sz));jf((oz=class Z0e extends G0e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Z0e.ID,label:C("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:bt.and(he.hasImplementationProvider,Zl.notInPeekEditor,he.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:he.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Ft.EditorContextPeek,group:"peek",order:5}})}},oz.ID="editor.action.peekImplementation",oz));class X0e extends jE{_getNoResultFoundMessage(e){return e?C("references.no","No references found for '{0}'",e.word):C("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(50).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(50).multipleReferences}}jf(class extends X0e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:C("goToReferences.label","Go to References"),alias:"Go to References",precondition:bt.and(he.hasReferenceProvider,Zl.notInPeekEditor,he.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:he.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,n){return Id(this,void 0,void 0,function*(){return new jl(yield $W(e,t,!0,n),C("ref.title","References"))})}});jf(class extends X0e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:C("references.action.label","Peek References"),alias:"Peek References",precondition:bt.and(he.hasReferenceProvider,Zl.notInPeekEditor,he.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ft.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,n){return Id(this,void 0,void 0,function*(){return new jl(yield $W(e,t,!1,n),C("ref.title","References"))})}});class SJe extends jE{constructor(e,t,n){super(e,{id:"editor.action.goToLocation",label:C("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:bt.and(Zl.notInPeekEditor,he.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=n}_getLocationModel(e,t,n){return Id(this,void 0,void 0,function*(){return new jl(this._references,C("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&C("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}ni.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:an},{name:"position",description:"The position at which to start",constraint:Ee.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(i,e,t,n,r,s,o)=>Id(void 0,void 0,void 0,function*(){nr(an.isUri(e)),nr(Ee.isIPosition(t)),nr(Array.isArray(n)),nr(typeof r>"u"||typeof r=="string"),nr(typeof o>"u"||typeof o=="boolean");const a=i.get(Mi),u=yield a.openCodeEditor({resource:e},a.getFocusedCodeEditor());if(Xg(u))return u.setPosition(t),u.revealPositionInCenterIfOutsideViewport(t,0),u.invokeWithinContext(c=>{const h=new class extends SJe{_getNoResultFoundMessage(f){return s||super._getNoResultFoundMessage(f)}}({muteMessage:!s,openInPeek:!!o,openToSide:!1},n,r);c.get(Rn).invokeFunction(h.run.bind(h),u)})})});ni.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:an},{name:"position",description:"The position at which to start",constraint:Ee.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(i,e,t,n,r)=>Id(void 0,void 0,void 0,function*(){i.get(Vr).executeCommand("editor.action.goToLocations",e,t,n,r,void 0,!0)})});ni.registerCommand({id:"editor.action.findReferences",handler:(i,e,t)=>{nr(an.isUri(e)),nr(Ee.isIPosition(t));const n=i.get(Mi);return n.openCodeEditor({resource:e},n.getFocusedCodeEditor()).then(r=>{if(!Xg(r)||!r.hasModel())return;const s=R1.get(r);if(!s)return;const o=Do(u=>$W(r.getModel(),Ee.lift(t),!1,u).then(c=>new jl(c,C("ref.title","References")))),a=new Q(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(s.toggleWidget(a,o,!1))})}});ni.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");Sa.appendMenuItems([{id:Ft.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:C({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Ft.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:C({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Ft.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:C({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Ft.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:C({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Ft.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:C({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var xJe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},yae=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let py=class JA{constructor(e,t,n){this.textModelResolverService=t,this.modeService=n,this.toUnhook=new tt,this.toUnhookForKeyboard=new tt,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let r=new L0e(e);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown(([s,o])=>{this.startFindDefinitionFromMouse(s,Hl(o))})),this.toUnhook.add(r.onExecute(s=>{this.isEnabled(s)&&this.gotoDefinition(s.target.position,s.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},o=>{this.removeLinkDecorations(),vn(o)})})),this.toUnhook.add(r.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(JA.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const n=e.target.position;this.startFindDefinition(n)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const n=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;let r=new pme(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Do(s=>this.findDefinition(e,s)),this.previousPromise.then(s=>{if(!s||!s.length||!r.validate(this.editor)){this.removeLinkDecorations();return}if(s.length>1)this.addDecoration(new Q(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),new Tm().appendText(C("multipleResults","Click to show {0} definitions.",s.length)));else{let o=s[0];if(!o.uri)return;this.textModelResolverService.createModelReference(o.uri).then(a=>{if(!a.object||!a.object.textEditorModel){a.dispose();return}const{object:{textEditorModel:u}}=a,{startLineNumber:c}=o.range;if(c<1||c>u.getLineCount()){a.dispose();return}const h=this.getPreviewValue(u,c,o);let f;o.originSelectionRange?f=Q.lift(o.originSelectionRange):f=new Q(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn);const p=this.modeService.getModeIdByFilepathOrFirstLine(u.uri);this.addDecoration(f,new Tm().appendCodeblock(p||"",h)),a.dispose()})}}).then(void 0,vn)}getPreviewValue(e,t,n){let r=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(e,t);return r.endLineNumber-r.startLineNumber>=JA.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,r)}stripIndentationFromPreviewRange(e,t,n){let s=e.getLineFirstNonWhitespaceColumn(t);for(let a=t+1;a<n.endLineNumber;a++){const u=e.getLineFirstNonWhitespaceColumn(a);s=Math.min(s,u)}return e.getValueInRange(n).replace(new RegExp(`^\\s{${s-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const n=e.getLineFirstNonWhitespaceColumn(t),r=Math.min(e.getLineCount(),t+JA.MAX_SOURCE_PREVIEW_LINES);let s=t+1;for(;s<r;s++){let o=e.getLineFirstNonWhitespaceColumn(s);if(n===o)break}return new Q(t,1,s+1,1)}getPreviewRangeBasedOnBrackets(e,t){const n=Math.min(e.getLineCount(),t+JA.MAX_SOURCE_PREVIEW_LINES),r=[];let s=!0,o=e.bracketPairs.findNextBracket(new Ee(t,1));for(;o!==null;){if(r.length===0)r.push(o);else{const h=r[r.length-1];if(h.open[0]===o.open[0]&&h.isOpen&&!o.isOpen?r.pop():r.push(o),r.length===0)if(s)s=!1;else return new Q(t,1,o.range.endLineNumber+1,1)}const a=e.getLineMaxColumn(t);let u=o.range.endLineNumber,c=o.range.endColumn;if(a===o.range.endColumn&&(u++,c=1),u>n)return new Q(t,1,n+1,1);o=e.bracketPairs.findNextBracket(new Ee(u,c))}return new Q(t,1,n+1,1)}addDecoration(e,t){const n={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[n])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&SM.has(this.editor.getModel())}findDefinition(e,t){const n=this.editor.getModel();return n?see(n,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(n=>{const r=!t&&this.editor.getOption(77)&&!this.isInPeekEditor(n);return new zW({openToSide:t,openInPeek:r,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(n,this.editor)})}isInPeekEditor(e){const t=e.get(gn);return Zl.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};py.ID="editor.contrib.gotodefinitionatposition";py.MAX_SOURCE_PREVIEW_LINES=8;py=xJe([yae(1,wl),yae(2,ta)],py);Ri(py.ID,py);Cr((i,e)=>{const t=i.getColor(Zge);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});const Q5=Ye;class Q0e extends Me{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new JP(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class oee extends Me{constructor(e,t,n){super(),this.actionContainer=We(e,Q5("div.action-container")),this.action=We(this.actionContainer,Q5("a.action")),this.action.setAttribute("role","button"),t.iconClass&&We(this.action,Q5(`span.icon.${t.iconClass}`));const r=We(this.action,Q5("span"));r.textContent=n?`${t.label} (${n})`:t.label,this._register(Ze(this.actionContainer,Ut.MOUSE_DOWN,s=>{s.stopPropagation(),s.preventDefault(),t.run(this.actionContainer)})),this.setEnabled(!0)}static render(e,t,n){return new oee(e,t,n)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}class EJe{constructor(e,t,n){this.presentationIndex=n,this._onColorFlushed=new ye,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new ye,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new ye,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}const vf=Ye;class LJe extends Me{constructor(e,t,n){super(),this.model=t,this.domNode=vf(".colorpicker-header"),We(e,this.domNode),this.pickedColorNode=We(this.domNode,vf(".picked-color"));const r=C("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",r);const s=We(this.domNode,vf(".original-color"));s.style.backgroundColor=Se.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(ZC)||Se.white,this._register(Cr((o,a)=>{this.backgroundColor=o.getColor(ZC)||Se.white})),this._register(Ze(this.pickedColorNode,Ut.CLICK,()=>this.model.selectNextColorPresentation())),this._register(Ze(s,Ut.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=Se.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=Se.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(vf(".codicon.codicon-color-mode"))}}class DJe extends Me{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this.domNode=vf(".colorpicker-body"),We(e,this.domNode),this.saturationBox=new TJe(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new IJe(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new kJe(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const n=this.model.color.hsva;this.model.color=new Se(new Mg(n.h,e,t,n.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new Se(new Mg(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,n=(1-e)*360;this.model.color=new Se(new Mg(n===360?0:n,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class TJe extends Me{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this._onDidChange=new ye,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new ye,this.onColorFlushed=this._onColorFlushed.event,this.domNode=vf(".saturation-wrap"),We(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",We(this.domNode,this.canvas),this.selection=vf(".saturation-selection"),We(this.domNode,this.selection),this.layout(),this._register(yX(this.domNode,r=>this.onMouseDown(r))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new qy);const t=ca(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,IE,r=>this.onDidChangePosition(r.posx-t.left,r.posy-t.top),()=>null);const n=$fe(document,()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const n=Math.max(0,Math.min(1,e/this.width)),r=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,r),this._onDidChange.fire({s:n,v:r})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new Se(new Mg(e.h,1,1,1)),n=this.canvas.getContext("2d"),r=n.createLinearGradient(0,0,this.canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");const s=n.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=Se.Format.CSS.format(t),n.fill(),n.fillStyle=r,n.fill(),n.fillStyle=s,n.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class J0e extends Me{constructor(e,t){super(),this.model=t,this._onDidChange=new ye,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new ye,this.onColorFlushed=this._onColorFlushed.event,this.domNode=We(e,vf(".strip")),this.overlay=We(this.domNode,vf(".overlay")),this.slider=We(this.domNode,vf(".slider")),this.slider.style.top="0px",this._register(yX(this.domNode,n=>this.onMouseDown(n))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new qy),n=ca(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,IE,s=>this.onDidChangeTop(s.posy-n.top),()=>null);const r=$fe(document,()=>{this._onColorFlushed.fire(),r.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class IJe extends J0e{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:n,b:r}=e.rgba,s=new Se(new bi(t,n,r,1)),o=new Se(new bi(t,n,r,0));this.overlay.style.background=`linear-gradient(to bottom, ${s} 0%, ${o} 100%)`}getValue(e){return e.hsva.a}}class kJe extends J0e{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class NJe extends hc{constructor(e,t,n,r){super(),this.model=t,this.pixelRatio=n,this._register(fX(()=>this.layout()));const s=vf(".colorpicker-widget");e.appendChild(s);const o=new LJe(s,this.model,r);this.body=new DJe(s,this.model,this.pixelRatio),this._register(o),this._register(this.body)}layout(){this.body.layout()}}var AJe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},OJe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},wae=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class MJe{constructor(e,t,n,r){this.owner=e,this.range=t,this.model=n,this.provider=r,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let NG=class{constructor(e,t,n){this._editor=e,this._hover=t,this._themeService=n}computeSync(e,t){return[]}computeAsync(e,t,n){return ho.fromPromise(this._computeAsync(e,t,n))}_computeAsync(e,t,n){return wae(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const r=fy.get(this._editor);for(const s of t){if(!r.isColorDecorationId(s.id))continue;const o=r.getColorData(s.range.getStartPosition());if(o)return[yield this._createColorHover(this._editor.getModel(),o.colorInfo,o.provider)]}return[]})}_createColorHover(e,t,n){return wae(this,void 0,void 0,function*(){const r=e.getValueInRange(t.range),{red:s,green:o,blue:a,alpha:u}=t.color,c=new bi(Math.round(s*255),Math.round(o*255),Math.round(a*255),u),h=new Se(c),f=yield pae(e,t,n,$n.None),p=new EJe(h,[],0);return p.colorPresentations=f||[],p.guessColorPresentation(h,r),new MJe(this,Q.lift(t.range),p,n)})}renderHoverParts(e,t,n){if(e.length===0||!this._editor.hasModel())return Me.None;const r=new tt,s=e[0],o=this._editor.getModel(),a=s.model,u=r.add(new NJe(t,a,this._editor.getOption(128),this._themeService));let c=new Q(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);const h=()=>{let p,m;if(a.presentation.textEdit){p=[a.presentation.textEdit],m=new Q(a.presentation.textEdit.range.startLineNumber,a.presentation.textEdit.range.startColumn,a.presentation.textEdit.range.endLineNumber,a.presentation.textEdit.range.endColumn);const v=this._editor.getModel()._setTrackedRange(null,m,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",p),m=this._editor.getModel()._getTrackedRange(v)||m}else p=[{identifier:null,range:c,text:a.presentation.label,forceMoveMarkers:!1}],m=c.setEndPosition(c.endLineNumber,c.startColumn+a.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",p);a.presentation.additionalTextEdits&&(p=[...a.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",p),this._hover.hide()),this._editor.pushUndoStop(),c=m},f=p=>pae(o,{range:c,color:{red:p.rgba.r/255,green:p.rgba.g/255,blue:p.rgba.b/255,alpha:p.rgba.a}},s.provider,$n.None).then(m=>{a.colorPresentations=m||[]});return r.add(a.onColorFlushed(p=>{f(p).then(h)})),r.add(a.onDidChangeColor(f)),this._hover.setColorPicker(u),r}};NG=AJe([OJe(2,Rr)],NG);var RJe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})},PJe=globalThis&&globalThis.__asyncValues||function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=i[s]&&function(o){return new Promise(function(a,u){o=i[s](o),r(a,u,o.done,o.value)})}}function r(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}};class e1e{constructor(e,t,n,r,s){this._computer=e,this._state=0,this._hoverTime=s,this._firstWaitScheduler=new lr(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new lr(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new lr(()=>this._showLoadingMessage(),0),this._asyncIterable=null,this._asyncIterableDone=!1,this._completeCallback=t,this._errorCallback=n,this._progressCallback=r}setHoverTime(e){this._hoverTime=e}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=J2e(e=>this._computer.computeAsync(e)),RJe(this,void 0,void 0,function*(){var e,t;try{try{for(var n=PJe(this._asyncIterable),r;r=yield n.next(),!r.done;){const s=r.value;s&&(this._computer.onResult([s],!1),this._onProgress())}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&(yield t.call(n))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,this._withAsyncResult()}catch(s){this._onError(s)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncIterableDone?(this._state=0,this._onComplete()):(this._state=3,this._onProgress())}_showLoadingMessage(){this._state===3&&(this._state=4,this._onProgress())}_withAsyncResult(){(this._state===3||this._state===4)&&(this._state=0,this._onComplete())}_onComplete(){this._completeCallback(this._computer.getResult())}_onError(e){this._errorCallback?this._errorCallback(e):vn(e)}_onProgress(){this._state===4?this._progressCallback(this._computer.getResultWithLoadingMessage()):this._progressCallback(this._computer.getResult())}start(e){if(e===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._state=0}}class Sae{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class az{constructor(e,t,n){this.priority=e,this.owner=t,this.range=n,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function FJe(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}else return Array.from(i)}var BJe=Object.hasOwnProperty,xae=Object.setPrototypeOf,WJe=Object.isFrozen,VJe=Object.getPrototypeOf,HJe=Object.getOwnPropertyDescriptor,Xl=Object.freeze,km=Object.seal,$Je=Object.create,t1e=typeof Reflect<"u"&&Reflect,K7=t1e.apply,AG=t1e.construct;K7||(K7=function(e,t,n){return e.apply(t,n)});Xl||(Xl=function(e){return e});km||(km=function(e){return e});AG||(AG=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(FJe(t))))});var zJe=$f(Array.prototype.forEach),Eae=$f(Array.prototype.pop),TA=$f(Array.prototype.push),xb=$f(String.prototype.toLowerCase),Lae=$f(String.prototype.match),f0=$f(String.prototype.replace),UJe=$f(String.prototype.indexOf),jJe=$f(String.prototype.trim),Ip=$f(RegExp.prototype.test),Dae=KJe(TypeError);function $f(i){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return K7(i,e,n)}}function KJe(i){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return AG(i,t)}}function Ki(i,e){xae&&xae(i,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var r=xb(n);r!==n&&(WJe(e)||(e[t]=r),n=r)}i[n]=!0}return i}function _b(i){var e=$Je(null),t=void 0;for(t in i)K7(BJe,i,[t])&&(e[t]=i[t]);return e}function J5(i,e){for(;i!==null;){var t=HJe(i,e);if(t){if(t.get)return $f(t.get);if(typeof t.value=="function")return $f(t.value)}i=VJe(i)}function n(r){return console.warn("fallback value for",r),null}return n}var Tae=Xl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),lz=Xl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),uz=Xl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),qJe=Xl(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),cz=Xl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),GJe=Xl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Iae=Xl(["#text"]),kae=Xl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),dz=Xl(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Nae=Xl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),e6=Xl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),YJe=km(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ZJe=km(/<%[\s\S]*|[\s\S]*%>/gm),XJe=km(/^data-[\-\w.\u00B7-\uFFFF]/),QJe=km(/^aria-[\-\w]+$/),JJe=km(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eet=km(/^(?:\w+script|data):/i),tet=km(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function Xf(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}else return Array.from(i)}var net=function(){return typeof window>"u"?null:window},iet=function(e,t){if((typeof e>"u"?"undefined":eO(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function n1e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:net(),e=function(J){return n1e(J)};if(e.version="2.3.1",e.removed=[],!i||!i.document||i.document.nodeType!==9)return e.isSupported=!1,e;var t=i.document,n=i.document,r=i.DocumentFragment,s=i.HTMLTemplateElement,o=i.Node,a=i.Element,u=i.NodeFilter,c=i.NamedNodeMap,h=c===void 0?i.NamedNodeMap||i.MozNamedAttrMap:c,f=i.Text,p=i.Comment,m=i.DOMParser,v=i.trustedTypes,b=a.prototype,S=J5(b,"cloneNode"),x=J5(b,"nextSibling"),w=J5(b,"childNodes"),E=J5(b,"parentNode");if(typeof s=="function"){var N=n.createElement("template");N.content&&N.content.ownerDocument&&(n=N.content.ownerDocument)}var A=iet(v,t),H=A&&ci?A.createHTML(""):"",R=n,M=R.implementation,G=R.createNodeIterator,X=R.createDocumentFragment,$=R.getElementsByTagName,I=t.importNode,O={};try{O=_b(n).documentMode?n.documentMode:{}}catch{}var B={};e.isSupported=typeof E=="function"&&M&&typeof M.createHTMLDocument<"u"&&O!==9;var W=YJe,j=ZJe,U=XJe,K=QJe,z=eet,k=tet,q=JJe,fe=null,ne=Ki({},[].concat(Xf(Tae),Xf(lz),Xf(uz),Xf(cz),Xf(Iae))),Ce=null,Te=Ki({},[].concat(Xf(kae),Xf(dz),Xf(Nae),Xf(e6))),He=null,ot=null,Rt=!0,Re=!0,dt=!1,wt=!1,Je=!1,ln=!1,Yt=!1,pn=!1,Ln=!1,Un=!0,ci=!1,di=!0,Gi=!0,Vt=!1,un={},Qn=null,ke=Ki({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Pe=null,_t=Ki({},["audio","video","img","source","image","track"]),ut=null,yt=Ki({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Li="http://www.w3.org/1998/Math/MathML",zt="http://www.w3.org/2000/svg",At="http://www.w3.org/1999/xhtml",Zt=At,Xt=!1,Ht=null,yr=n.createElement("form"),si=function(J){Ht&&Ht===J||((!J||(typeof J>"u"?"undefined":eO(J))!=="object")&&(J={}),J=_b(J),fe="ALLOWED_TAGS"in J?Ki({},J.ALLOWED_TAGS):ne,Ce="ALLOWED_ATTR"in J?Ki({},J.ALLOWED_ATTR):Te,ut="ADD_URI_SAFE_ATTR"in J?Ki(_b(yt),J.ADD_URI_SAFE_ATTR):yt,Pe="ADD_DATA_URI_TAGS"in J?Ki(_b(_t),J.ADD_DATA_URI_TAGS):_t,Qn="FORBID_CONTENTS"in J?Ki({},J.FORBID_CONTENTS):ke,He="FORBID_TAGS"in J?Ki({},J.FORBID_TAGS):{},ot="FORBID_ATTR"in J?Ki({},J.FORBID_ATTR):{},un="USE_PROFILES"in J?J.USE_PROFILES:!1,Rt=J.ALLOW_ARIA_ATTR!==!1,Re=J.ALLOW_DATA_ATTR!==!1,dt=J.ALLOW_UNKNOWN_PROTOCOLS||!1,wt=J.SAFE_FOR_TEMPLATES||!1,Je=J.WHOLE_DOCUMENT||!1,pn=J.RETURN_DOM||!1,Ln=J.RETURN_DOM_FRAGMENT||!1,Un=J.RETURN_DOM_IMPORT!==!1,ci=J.RETURN_TRUSTED_TYPE||!1,Yt=J.FORCE_BODY||!1,di=J.SANITIZE_DOM!==!1,Gi=J.KEEP_CONTENT!==!1,Vt=J.IN_PLACE||!1,q=J.ALLOWED_URI_REGEXP||q,Zt=J.NAMESPACE||At,wt&&(Re=!1),Ln&&(pn=!0),un&&(fe=Ki({},[].concat(Xf(Iae))),Ce=[],un.html===!0&&(Ki(fe,Tae),Ki(Ce,kae)),un.svg===!0&&(Ki(fe,lz),Ki(Ce,dz),Ki(Ce,e6)),un.svgFilters===!0&&(Ki(fe,uz),Ki(Ce,dz),Ki(Ce,e6)),un.mathMl===!0&&(Ki(fe,cz),Ki(Ce,Nae),Ki(Ce,e6))),J.ADD_TAGS&&(fe===ne&&(fe=_b(fe)),Ki(fe,J.ADD_TAGS)),J.ADD_ATTR&&(Ce===Te&&(Ce=_b(Ce)),Ki(Ce,J.ADD_ATTR)),J.ADD_URI_SAFE_ATTR&&Ki(ut,J.ADD_URI_SAFE_ATTR),J.FORBID_CONTENTS&&(Qn===ke&&(Qn=_b(Qn)),Ki(Qn,J.FORBID_CONTENTS)),Gi&&(fe["#text"]=!0),Je&&Ki(fe,["html","head","body"]),fe.table&&(Ki(fe,["tbody"]),delete He.tbody),Xl&&Xl(J),Ht=J)},$e=Ki({},["mi","mo","mn","ms","mtext"]),il=Ki({},["foreignobject","desc","title","annotation-xml"]),jn=Ki({},lz);Ki(jn,uz),Ki(jn,qJe);var oi=Ki({},cz);Ki(oi,GJe);var fa=function(J){var be=E(J);(!be||!be.tagName)&&(be={namespaceURI:At,tagName:"template"});var Ue=xb(J.tagName),Fe=xb(be.tagName);if(J.namespaceURI===zt)return be.namespaceURI===At?Ue==="svg":be.namespaceURI===Li?Ue==="svg"&&(Fe==="annotation-xml"||$e[Fe]):!!jn[Ue];if(J.namespaceURI===Li)return be.namespaceURI===At?Ue==="math":be.namespaceURI===zt?Ue==="math"&&il[Fe]:!!oi[Ue];if(J.namespaceURI===At){if(be.namespaceURI===zt&&!il[Fe]||be.namespaceURI===Li&&!$e[Fe])return!1;var ft=Ki({},["title","style","font","a","script"]);return!oi[Ue]&&(ft[Ue]||!jn[Ue])}return!1},yn=function(J){TA(e.removed,{element:J});try{J.parentNode.removeChild(J)}catch{try{J.outerHTML=H}catch{J.remove()}}},dr=function(J,be){try{TA(e.removed,{attribute:be.getAttributeNode(J),from:be})}catch{TA(e.removed,{attribute:null,from:be})}if(be.removeAttribute(J),J==="is"&&!Ce[J])if(pn||Ln)try{yn(be)}catch{}else try{be.setAttribute(J,"")}catch{}},Il=function(J){var be=void 0,Ue=void 0;if(Yt)J="<remove></remove>"+J;else{var Fe=Lae(J,/^[\r\n\t ]+/);Ue=Fe&&Fe[0]}var ft=A?A.createHTML(J):J;if(Zt===At)try{be=new m().parseFromString(ft,"text/html")}catch{}if(!be||!be.documentElement){be=M.createDocument(Zt,"template",null);try{be.documentElement.innerHTML=Xt?"":ft}catch{}}var Qt=be.body||be.documentElement;return J&&Ue&&Qt.insertBefore(n.createTextNode(Ue),Qt.childNodes[0]||null),Zt===At?$.call(be,Je?"html":"body")[0]:Je?be.documentElement:Qt},tr=function(J){return G.call(J.ownerDocument||J,J,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Xe=function(J){return J instanceof f||J instanceof p?!1:typeof J.nodeName!="string"||typeof J.textContent!="string"||typeof J.removeChild!="function"||!(J.attributes instanceof h)||typeof J.removeAttribute!="function"||typeof J.setAttribute!="function"||typeof J.namespaceURI!="string"||typeof J.insertBefore!="function"},Co=function(J){return(typeof o>"u"?"undefined":eO(o))==="object"?J instanceof o:J&&(typeof J>"u"?"undefined":eO(J))==="object"&&typeof J.nodeType=="number"&&typeof J.nodeName=="string"},Ne=function(J,be,Ue){B[J]&&zJe(B[J],function(Fe){Fe.call(e,be,Ue,Ht)})},Le=function(J){var be=void 0;if(Ne("beforeSanitizeElements",J,null),Xe(J)||Lae(J.nodeName,/[\u0080-\uFFFF]/))return yn(J),!0;var Ue=xb(J.nodeName);if(Ne("uponSanitizeElement",J,{tagName:Ue,allowedTags:fe}),!Co(J.firstElementChild)&&(!Co(J.content)||!Co(J.content.firstElementChild))&&Ip(/<[/\w]/g,J.innerHTML)&&Ip(/<[/\w]/g,J.textContent)||Ue==="select"&&Ip(/<template/i,J.innerHTML))return yn(J),!0;if(!fe[Ue]||He[Ue]){if(Gi&&!Qn[Ue]){var Fe=E(J)||J.parentNode,ft=w(J)||J.childNodes;if(ft&&Fe)for(var Qt=ft.length,T=Qt-1;T>=0;--T)Fe.insertBefore(S(ft[T],!0),x(J))}return yn(J),!0}return J instanceof a&&!fa(J)||(Ue==="noscript"||Ue==="noembed")&&Ip(/<\/no(script|embed)/i,J.innerHTML)?(yn(J),!0):(wt&&J.nodeType===3&&(be=J.textContent,be=f0(be,W," "),be=f0(be,j," "),J.textContent!==be&&(TA(e.removed,{element:J.cloneNode()}),J.textContent=be)),Ne("afterSanitizeElements",J,null),!1)},Oe=function(J,be,Ue){if(di&&(be==="id"||be==="name")&&(Ue in n||Ue in yr))return!1;if(!(Re&&!ot[be]&&Ip(U,be))){if(!(Rt&&Ip(K,be))){if(!Ce[be]||ot[be])return!1;if(!ut[be]){if(!Ip(q,f0(Ue,k,""))){if(!((be==="src"||be==="xlink:href"||be==="href")&&J!=="script"&&UJe(Ue,"data:")===0&&Pe[J])){if(!(dt&&!Ip(z,f0(Ue,k,"")))){if(Ue)return!1}}}}}}return!0},oe=function(J){var be=void 0,Ue=void 0,Fe=void 0,ft=void 0;Ne("beforeSanitizeAttributes",J,null);var Qt=J.attributes;if(Qt){var T={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce};for(ft=Qt.length;ft--;){be=Qt[ft];var F=be,te=F.name,ie=F.namespaceURI;if(Ue=jJe(be.value),Fe=xb(te),T.attrName=Fe,T.attrValue=Ue,T.keepAttr=!0,T.forceKeepAttr=void 0,Ne("uponSanitizeAttribute",J,T),Ue=T.attrValue,!T.forceKeepAttr&&(dr(te,J),!!T.keepAttr)){if(Ip(/\/>/i,Ue)){dr(te,J);continue}wt&&(Ue=f0(Ue,W," "),Ue=f0(Ue,j," "));var _e=J.nodeName.toLowerCase();if(Oe(_e,Fe,Ue))try{ie?J.setAttributeNS(ie,te,Ue):J.setAttribute(te,Ue),Eae(e.removed)}catch{}}}Ne("afterSanitizeAttributes",J,null)}},le=function me(J){var be=void 0,Ue=tr(J);for(Ne("beforeSanitizeShadowDOM",J,null);be=Ue.nextNode();)Ne("uponSanitizeShadowNode",be,null),!Le(be)&&(be.content instanceof r&&me(be.content),oe(be));Ne("afterSanitizeShadowDOM",J,null)};return e.sanitize=function(me,J){var be=void 0,Ue=void 0,Fe=void 0,ft=void 0,Qt=void 0;if(Xt=!me,Xt&&(me="<!-->"),typeof me!="string"&&!Co(me)){if(typeof me.toString!="function")throw Dae("toString is not a function");if(me=me.toString(),typeof me!="string")throw Dae("dirty is not a string, aborting")}if(!e.isSupported){if(eO(i.toStaticHTML)==="object"||typeof i.toStaticHTML=="function"){if(typeof me=="string")return i.toStaticHTML(me);if(Co(me))return i.toStaticHTML(me.outerHTML)}return me}if(ln||si(J),e.removed=[],typeof me=="string"&&(Vt=!1),!Vt)if(me instanceof o)be=Il("<!---->"),Ue=be.ownerDocument.importNode(me,!0),Ue.nodeType===1&&Ue.nodeName==="BODY"||Ue.nodeName==="HTML"?be=Ue:be.appendChild(Ue);else{if(!pn&&!wt&&!Je&&me.indexOf("<")===-1)return A&&ci?A.createHTML(me):me;if(be=Il(me),!be)return pn?null:H}be&&Yt&&yn(be.firstChild);for(var T=tr(Vt?me:be);Fe=T.nextNode();)Fe.nodeType===3&&Fe===ft||Le(Fe)||(Fe.content instanceof r&&le(Fe.content),oe(Fe),ft=Fe);if(ft=null,Vt)return me;if(pn){if(Ln)for(Qt=X.call(be.ownerDocument);be.firstChild;)Qt.appendChild(be.firstChild);else Qt=be;return Un&&(Qt=I.call(t,Qt,!0)),Qt}var F=Je?be.outerHTML:be.innerHTML;return wt&&(F=f0(F,W," "),F=f0(F,j," ")),A&&ci?A.createHTML(F):F},e.setConfig=function(me){si(me),ln=!0},e.clearConfig=function(){Ht=null,ln=!1},e.isValidAttribute=function(me,J,be){Ht||si({});var Ue=xb(me),Fe=xb(J);return Oe(Ue,Fe,be)},e.addHook=function(me,J){typeof J=="function"&&(B[me]=B[me]||[],TA(B[me],J))},e.removeHook=function(me){B[me]&&Eae(B[me])},e.removeHooks=function(me){B[me]&&(B[me]=[])},e.removeAllHooks=function(){B={}},e}var vp=n1e();vp.version;vp.isSupported;const ret=vp.sanitize;vp.setConfig;vp.clearConfig;vp.isValidAttribute;const Aae=vp.addHook,Oae=vp.removeHook;vp.removeHooks;vp.removeAllHooks;let Kf;(function(){function i(e){Kf=e()}i.amd=!0,function(e,t){typeof exports=="object"&&typeof module<"u"?module.exports=t():typeof i=="function"&&i.amd?i(t):(e=typeof globalThis<"u"?globalThis:e||self,e.marked=t())}(this,function(){function e(Ne,Le){for(var Oe=0;Oe<Le.length;Oe++){var oe=Le[Oe];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(Ne,oe.key,oe)}}function t(Ne,Le,Oe){return Le&&e(Ne.prototype,Le),Oe&&e(Ne,Oe),Ne}function n(Ne,Le){if(Ne){if(typeof Ne=="string")return r(Ne,Le);var Oe=Object.prototype.toString.call(Ne).slice(8,-1);if(Oe==="Object"&&Ne.constructor&&(Oe=Ne.constructor.name),Oe==="Map"||Oe==="Set")return Array.from(Ne);if(Oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Oe))return r(Ne,Le)}}function r(Ne,Le){(Le==null||Le>Ne.length)&&(Le=Ne.length);for(var Oe=0,oe=new Array(Le);Oe<Le;Oe++)oe[Oe]=Ne[Oe];return oe}function s(Ne,Le){var Oe=typeof Symbol<"u"&&Ne[Symbol.iterator]||Ne["@@iterator"];if(Oe)return(Oe=Oe.call(Ne)).next.bind(Oe);if(Array.isArray(Ne)||(Oe=n(Ne))||Le&&Ne&&typeof Ne.length=="number"){Oe&&(Ne=Oe);var oe=0;return function(){return oe>=Ne.length?{done:!0}:{done:!1,value:Ne[oe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o={exports:{}};function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function u(Ne){o.exports.defaults=Ne}o.exports={defaults:a(),getDefaults:a,changeDefaults:u};var c=/[&<>"']/,h=/[&<>"']/g,f=/[<>"']|&(?!#?\w+;)/,p=/[<>"']|&(?!#?\w+;)/g,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v=function(Le){return m[Le]};function b(Ne,Le){if(Le){if(c.test(Ne))return Ne.replace(h,v)}else if(f.test(Ne))return Ne.replace(p,v);return Ne}var S=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function x(Ne){return Ne.replace(S,function(Le,Oe){return Oe=Oe.toLowerCase(),Oe==="colon"?":":Oe.charAt(0)==="#"?Oe.charAt(1)==="x"?String.fromCharCode(parseInt(Oe.substring(2),16)):String.fromCharCode(+Oe.substring(1)):""})}var w=/(^|[^\[])\^/g;function E(Ne,Le){Ne=Ne.source||Ne,Le=Le||"";var Oe={replace:function(le,me){return me=me.source||me,me=me.replace(w,"$1"),Ne=Ne.replace(le,me),Oe},getRegex:function(){return new RegExp(Ne,Le)}};return Oe}var N=/[^\w:]/g,A=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function H(Ne,Le,Oe){if(Ne){var oe;try{oe=decodeURIComponent(x(Oe)).replace(N,"").toLowerCase()}catch{return null}if(oe.indexOf("javascript:")===0||oe.indexOf("vbscript:")===0||oe.indexOf("data:")===0)return null}Le&&!A.test(Oe)&&(Oe=$(Le,Oe));try{Oe=encodeURI(Oe).replace(/%25/g,"%")}catch{return null}return Oe}var R={},M=/^[^:]+:\/*[^/]*$/,G=/^([^:]+:)[\s\S]*$/,X=/^([^:]+:\/*[^/]*)[\s\S]*$/;function $(Ne,Le){R[" "+Ne]||(M.test(Ne)?R[" "+Ne]=Ne+"/":R[" "+Ne]=W(Ne,"/",!0)),Ne=R[" "+Ne];var Oe=Ne.indexOf(":")===-1;return Le.substring(0,2)==="//"?Oe?Le:Ne.replace(G,"$1")+Le:Le.charAt(0)==="/"?Oe?Le:Ne.replace(X,"$1")+Le:Ne+Le}var I={exec:function(){}};function O(Ne){for(var Le=1,Oe,oe;Le<arguments.length;Le++){Oe=arguments[Le];for(oe in Oe)Object.prototype.hasOwnProperty.call(Oe,oe)&&(Ne[oe]=Oe[oe])}return Ne}function B(Ne,Le){var Oe=Ne.replace(/\|/g,function(me,J,be){for(var Ue=!1,Fe=J;--Fe>=0&&be[Fe]==="\\";)Ue=!Ue;return Ue?"|":" |"}),oe=Oe.split(/ \|/),le=0;if(oe[0].trim()||oe.shift(),oe[oe.length-1].trim()||oe.pop(),oe.length>Le)oe.splice(Le);else for(;oe.length<Le;)oe.push("");for(;le<oe.length;le++)oe[le]=oe[le].trim().replace(/\\\|/g,"|");return oe}function W(Ne,Le,Oe){var oe=Ne.length;if(oe===0)return"";for(var le=0;le<oe;){var me=Ne.charAt(oe-le-1);if(me===Le&&!Oe)le++;else if(me!==Le&&Oe)le++;else break}return Ne.substr(0,oe-le)}function j(Ne,Le){if(Ne.indexOf(Le[1])===-1)return-1;for(var Oe=Ne.length,oe=0,le=0;le<Oe;le++)if(Ne[le]==="\\")le++;else if(Ne[le]===Le[0])oe++;else if(Ne[le]===Le[1]&&(oe--,oe<0))return le;return-1}function U(Ne){Ne&&Ne.sanitize&&!Ne.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function K(Ne,Le){if(Le<1)return"";for(var Oe="";Le>1;)Le&1&&(Oe+=Ne),Le>>=1,Ne+=Ne;return Oe+Ne}var z={escape:b,unescape:x,edit:E,cleanUrl:H,resolveUrl:$,noopTest:I,merge:O,splitCells:B,rtrim:W,findClosingBracket:j,checkSanitizeDeprecation:U,repeatString:K},k=o.exports.defaults,q=z.rtrim,fe=z.splitCells,ne=z.escape,Ce=z.findClosingBracket;function Te(Ne,Le,Oe,oe){var le=Le.href,me=Le.title?ne(Le.title):null,J=Ne[1].replace(/\\([\[\]])/g,"$1");if(Ne[0].charAt(0)!=="!"){oe.state.inLink=!0;var be={type:"link",raw:Oe,href:le,title:me,text:J,tokens:oe.inlineTokens(J,[])};return oe.state.inLink=!1,be}else return{type:"image",raw:Oe,href:le,title:me,text:ne(J)}}function He(Ne,Le){var Oe=Ne.match(/^(\s+)(?:```)/);if(Oe===null)return Le;var oe=Oe[1];return Le.split(`
`).map(function(le){var me=le.match(/^\s+/);if(me===null)return le;var J=me[0];return J.length>=oe.length?le.slice(oe.length):le}).join(`
`)}var ot=function(){function Ne(Oe){this.options=Oe||k}var Le=Ne.prototype;return Le.space=function(oe){var le=this.rules.block.newline.exec(oe);if(le)return le[0].length>1?{type:"space",raw:le[0]}:{raw:`
`}},Le.code=function(oe){var le=this.rules.block.code.exec(oe);if(le){var me=le[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:le[0],codeBlockStyle:"indented",text:this.options.pedantic?me:q(me,`
`)}}},Le.fences=function(oe){var le=this.rules.block.fences.exec(oe);if(le){var me=le[0],J=He(me,le[3]||"");return{type:"code",raw:me,lang:le[2]?le[2].trim():le[2],text:J}}},Le.heading=function(oe){var le=this.rules.block.heading.exec(oe);if(le){var me=le[2].trim();if(/#$/.test(me)){var J=q(me,"#");(this.options.pedantic||!J||/ $/.test(J))&&(me=J.trim())}var be={type:"heading",raw:le[0],depth:le[1].length,text:me,tokens:[]};return this.lexer.inline(be.text,be.tokens),be}},Le.hr=function(oe){var le=this.rules.block.hr.exec(oe);if(le)return{type:"hr",raw:le[0]}},Le.blockquote=function(oe){var le=this.rules.block.blockquote.exec(oe);if(le){var me=le[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:le[0],tokens:this.lexer.blockTokens(me,[]),text:me}}},Le.list=function(oe){var le=this.rules.block.list.exec(oe);if(le){var me,J,be,Ue,Fe,ft,Qt,T,F,te,ie=le[1].trim(),_e=ie.length>1,ue={type:"list",raw:"",ordered:_e,start:_e?+ie.slice(0,-1):"",loose:!1,items:[]};ie=_e?"\\d{1,9}\\"+ie.slice(-1):"\\"+ie,this.options.pedantic&&(ie=_e?ie:"[*+-]");for(var Ie=new RegExp("^( {0,3}"+ie+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");oe&&!(this.rules.block.hr.test(oe)||!(le=Ie.exec(oe)));){F=le[2].split(`
`),this.options.pedantic?(Ue=2,te=F[0].trimLeft()):(Ue=le[2].search(/[^ ]/),Ue=le[1].length+(Ue>4?1:Ue),te=F[0].slice(Ue-le[1].length)),ft=!1,me=le[0],!F[0]&&/^ *$/.test(F[1])&&(me=le[1]+F.slice(0,2).join(`
`)+`
`,ue.loose=!0,F=[]);var Be=new RegExp("^ {0,"+Math.min(3,Ue-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Fe=1;Fe<F.length;Fe++){if(T=F[Fe],this.options.pedantic&&(T=T.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Be.test(T)){me=le[1]+F.slice(0,Fe).join(`
`)+`
`;break}if(!ft){T.trim()||(ft=!0),T.search(/[^ ]/)>=Ue?te+=`
`+T.slice(Ue):te+=`
`+T;continue}if(T.search(/[^ ]/)>=Ue||!T.trim()){te+=`
`+T.slice(Ue);continue}else{me=le[1]+F.slice(0,Fe).join(`
`)+`
`;break}}ue.loose||(Qt?ue.loose=!0:/\n *\n *$/.test(me)&&(Qt=!0)),this.options.gfm&&(J=/^\[[ xX]\] /.exec(te),J&&(be=J[0]!=="[ ] ",te=te.replace(/^\[[ xX]\] +/,""))),ue.items.push({type:"list_item",raw:me,task:!!J,checked:be,loose:!1,text:te}),ue.raw+=me,oe=oe.slice(me.length)}ue.items[ue.items.length-1].raw=me.trimRight(),ue.items[ue.items.length-1].text=te.trimRight(),ue.raw=ue.raw.trimRight();var Qe=ue.items.length;for(Fe=0;Fe<Qe;Fe++)this.lexer.state.top=!1,ue.items[Fe].tokens=this.lexer.blockTokens(ue.items[Fe].text,[]),ue.items[Fe].tokens.some(function(lt){return lt.type==="space"})&&(ue.loose=!0,ue.items[Fe].loose=!0);return ue}},Le.html=function(oe){var le=this.rules.block.html.exec(oe);if(le){var me={type:"html",raw:le[0],pre:!this.options.sanitizer&&(le[1]==="pre"||le[1]==="script"||le[1]==="style"),text:le[0]};return this.options.sanitize&&(me.type="paragraph",me.text=this.options.sanitizer?this.options.sanitizer(le[0]):ne(le[0]),me.tokens=[],this.lexer.inline(me.text,me.tokens)),me}},Le.def=function(oe){var le=this.rules.block.def.exec(oe);if(le){le[3]&&(le[3]=le[3].substring(1,le[3].length-1));var me=le[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:me,raw:le[0],href:le[2],title:le[3]}}},Le.table=function(oe){var le=this.rules.block.table.exec(oe);if(le){var me={type:"table",header:fe(le[1]).map(function(Qt){return{text:Qt}}),align:le[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:le[3]?le[3].replace(/\n$/,"").split(`
`):[]};if(me.header.length===me.align.length){me.raw=le[0];var J=me.align.length,be,Ue,Fe,ft;for(be=0;be<J;be++)/^ *-+: *$/.test(me.align[be])?me.align[be]="right":/^ *:-+: *$/.test(me.align[be])?me.align[be]="center":/^ *:-+ *$/.test(me.align[be])?me.align[be]="left":me.align[be]=null;for(J=me.rows.length,be=0;be<J;be++)me.rows[be]=fe(me.rows[be],me.header.length).map(function(Qt){return{text:Qt}});for(J=me.header.length,Ue=0;Ue<J;Ue++)me.header[Ue].tokens=[],this.lexer.inlineTokens(me.header[Ue].text,me.header[Ue].tokens);for(J=me.rows.length,Ue=0;Ue<J;Ue++)for(ft=me.rows[Ue],Fe=0;Fe<ft.length;Fe++)ft[Fe].tokens=[],this.lexer.inlineTokens(ft[Fe].text,ft[Fe].tokens);return me}}},Le.lheading=function(oe){var le=this.rules.block.lheading.exec(oe);if(le){var me={type:"heading",raw:le[0],depth:le[2].charAt(0)==="="?1:2,text:le[1],tokens:[]};return this.lexer.inline(me.text,me.tokens),me}},Le.paragraph=function(oe){var le=this.rules.block.paragraph.exec(oe);if(le){var me={type:"paragraph",raw:le[0],text:le[1].charAt(le[1].length-1)===`
`?le[1].slice(0,-1):le[1],tokens:[]};return this.lexer.inline(me.text,me.tokens),me}},Le.text=function(oe){var le=this.rules.block.text.exec(oe);if(le){var me={type:"text",raw:le[0],text:le[0],tokens:[]};return this.lexer.inline(me.text,me.tokens),me}},Le.escape=function(oe){var le=this.rules.inline.escape.exec(oe);if(le)return{type:"escape",raw:le[0],text:ne(le[1])}},Le.tag=function(oe){var le=this.rules.inline.tag.exec(oe);if(le)return!this.lexer.state.inLink&&/^<a /i.test(le[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(le[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(le[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(le[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:le[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(le[0]):ne(le[0]):le[0]}},Le.link=function(oe){var le=this.rules.inline.link.exec(oe);if(le){var me=le[2].trim();if(!this.options.pedantic&&/^</.test(me)){if(!/>$/.test(me))return;var J=q(me.slice(0,-1),"\\");if((me.length-J.length)%2===0)return}else{var be=Ce(le[2],"()");if(be>-1){var Ue=le[0].indexOf("!")===0?5:4,Fe=Ue+le[1].length+be;le[2]=le[2].substring(0,be),le[0]=le[0].substring(0,Fe).trim(),le[3]=""}}var ft=le[2],Qt="";if(this.options.pedantic){var T=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ft);T&&(ft=T[1],Qt=T[3])}else Qt=le[3]?le[3].slice(1,-1):"";return ft=ft.trim(),/^</.test(ft)&&(this.options.pedantic&&!/>$/.test(me)?ft=ft.slice(1):ft=ft.slice(1,-1)),Te(le,{href:ft&&ft.replace(this.rules.inline._escapes,"$1"),title:Qt&&Qt.replace(this.rules.inline._escapes,"$1")},le[0],this.lexer)}},Le.reflink=function(oe,le){var me;if((me=this.rules.inline.reflink.exec(oe))||(me=this.rules.inline.nolink.exec(oe))){var J=(me[2]||me[1]).replace(/\s+/g," ");if(J=le[J.toLowerCase()],!J||!J.href){var be=me[0].charAt(0);return{type:"text",raw:be,text:be}}return Te(me,J,me[0],this.lexer)}},Le.emStrong=function(oe,le,me){me===void 0&&(me="");var J=this.rules.inline.emStrong.lDelim.exec(oe);if(J&&!(J[3]&&me.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var be=J[1]||J[2]||"";if(!be||be&&(me===""||this.rules.inline.punctuation.exec(me))){var Ue=J[0].length-1,Fe,ft,Qt=Ue,T=0,F=J[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(F.lastIndex=0,le=le.slice(-1*oe.length+Ue);(J=F.exec(le))!=null;)if(Fe=J[1]||J[2]||J[3]||J[4]||J[5]||J[6],!!Fe){if(ft=Fe.length,J[3]||J[4]){Qt+=ft;continue}else if((J[5]||J[6])&&Ue%3&&!((Ue+ft)%3)){T+=ft;continue}if(Qt-=ft,!(Qt>0)){if(ft=Math.min(ft,ft+Qt+T),Math.min(Ue,ft)%2){var te=oe.slice(1,Ue+J.index+ft);return{type:"em",raw:oe.slice(0,Ue+J.index+ft+1),text:te,tokens:this.lexer.inlineTokens(te,[])}}var ie=oe.slice(2,Ue+J.index+ft-1);return{type:"strong",raw:oe.slice(0,Ue+J.index+ft+1),text:ie,tokens:this.lexer.inlineTokens(ie,[])}}}}}},Le.codespan=function(oe){var le=this.rules.inline.code.exec(oe);if(le){var me=le[2].replace(/\n/g," "),J=/[^ ]/.test(me),be=/^ /.test(me)&&/ $/.test(me);return J&&be&&(me=me.substring(1,me.length-1)),me=ne(me,!0),{type:"codespan",raw:le[0],text:me}}},Le.br=function(oe){var le=this.rules.inline.br.exec(oe);if(le)return{type:"br",raw:le[0]}},Le.del=function(oe){var le=this.rules.inline.del.exec(oe);if(le)return{type:"del",raw:le[0],text:le[2],tokens:this.lexer.inlineTokens(le[2],[])}},Le.autolink=function(oe,le){var me=this.rules.inline.autolink.exec(oe);if(me){var J,be;return me[2]==="@"?(J=ne(this.options.mangle?le(me[1]):me[1]),be="mailto:"+J):(J=ne(me[1]),be=J),{type:"link",raw:me[0],text:J,href:be,tokens:[{type:"text",raw:J,text:J}]}}},Le.url=function(oe,le){var me;if(me=this.rules.inline.url.exec(oe)){var J,be;if(me[2]==="@")J=ne(this.options.mangle?le(me[0]):me[0]),be="mailto:"+J;else{var Ue;do Ue=me[0],me[0]=this.rules.inline._backpedal.exec(me[0])[0];while(Ue!==me[0]);J=ne(me[0]),me[1]==="www."?be="http://"+J:be=J}return{type:"link",raw:me[0],text:J,href:be,tokens:[{type:"text",raw:J,text:J}]}}},Le.inlineText=function(oe,le){var me=this.rules.inline.text.exec(oe);if(me){var J;return this.lexer.state.inRawBlock?J=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(me[0]):ne(me[0]):me[0]:J=ne(this.options.smartypants?le(me[0]):me[0]),{type:"text",raw:me[0],text:J}}},Ne}(),Rt=z.noopTest,Re=z.edit,dt=z.merge,wt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Rt,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};wt._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,wt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,wt.def=Re(wt.def).replace("label",wt._label).replace("title",wt._title).getRegex(),wt.bullet=/(?:[*+-]|\d{1,9}[.)])/,wt.listItemStart=Re(/^( *)(bull) */).replace("bull",wt.bullet).getRegex(),wt.list=Re(wt.list).replace(/bull/g,wt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+wt.def.source+")").getRegex(),wt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",wt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,wt.html=Re(wt.html,"i").replace("comment",wt._comment).replace("tag",wt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wt.paragraph=Re(wt._paragraph).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex(),wt.blockquote=Re(wt.blockquote).replace("paragraph",wt.paragraph).getRegex(),wt.normal=dt({},wt),wt.gfm=dt({},wt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),wt.gfm.table=Re(wt.gfm.table).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex(),wt.pedantic=dt({},wt.normal,{html:Re(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",wt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Rt,paragraph:Re(wt.normal._paragraph).replace("hr",wt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",wt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Je={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Rt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Rt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Je._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Je.punctuation=Re(Je.punctuation).replace(/punctuation/g,Je._punctuation).getRegex(),Je.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Je.escapedEmSt=/\\\*|\\_/g,Je._comment=Re(wt._comment).replace("(?:-->|$)","-->").getRegex(),Je.emStrong.lDelim=Re(Je.emStrong.lDelim).replace(/punct/g,Je._punctuation).getRegex(),Je.emStrong.rDelimAst=Re(Je.emStrong.rDelimAst,"g").replace(/punct/g,Je._punctuation).getRegex(),Je.emStrong.rDelimUnd=Re(Je.emStrong.rDelimUnd,"g").replace(/punct/g,Je._punctuation).getRegex(),Je._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Je._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Je._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Je.autolink=Re(Je.autolink).replace("scheme",Je._scheme).replace("email",Je._email).getRegex(),Je._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Je.tag=Re(Je.tag).replace("comment",Je._comment).replace("attribute",Je._attribute).getRegex(),Je._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Je._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Je._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Je.link=Re(Je.link).replace("label",Je._label).replace("href",Je._href).replace("title",Je._title).getRegex(),Je.reflink=Re(Je.reflink).replace("label",Je._label).getRegex(),Je.reflinkSearch=Re(Je.reflinkSearch,"g").replace("reflink",Je.reflink).replace("nolink",Je.nolink).getRegex(),Je.normal=dt({},Je),Je.pedantic=dt({},Je.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Re(/^!?\[(label)\]\((.*?)\)/).replace("label",Je._label).getRegex(),reflink:Re(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Je._label).getRegex()}),Je.gfm=dt({},Je.normal,{escape:Re(Je.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Je.gfm.url=Re(Je.gfm.url,"i").replace("email",Je.gfm._extended_email).getRegex(),Je.breaks=dt({},Je.gfm,{br:Re(Je.br).replace("{2,}","*").getRegex(),text:Re(Je.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ln={block:wt,inline:Je},Yt=ot,pn=o.exports.defaults,Ln=ln.block,Un=ln.inline,ci=z.repeatString;function di(Ne){return Ne.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Gi(Ne){var Le="",Oe,oe,le=Ne.length;for(Oe=0;Oe<le;Oe++)oe=Ne.charCodeAt(Oe),Math.random()>.5&&(oe="x"+oe.toString(16)),Le+="&#"+oe+";";return Le}var Vt=function(){function Ne(Oe){this.tokens=[],this.tokens.links=Object.create(null),this.options=Oe||pn,this.options.tokenizer=this.options.tokenizer||new Yt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var oe={block:Ln.normal,inline:Un.normal};this.options.pedantic?(oe.block=Ln.pedantic,oe.inline=Un.pedantic):this.options.gfm&&(oe.block=Ln.gfm,this.options.breaks?oe.inline=Un.breaks:oe.inline=Un.gfm),this.tokenizer.rules=oe}Ne.lex=function(oe,le){var me=new Ne(le);return me.lex(oe)},Ne.lexInline=function(oe,le){var me=new Ne(le);return me.inlineTokens(oe)};var Le=Ne.prototype;return Le.lex=function(oe){oe=oe.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(oe,this.tokens);for(var le;le=this.inlineQueue.shift();)this.inlineTokens(le.src,le.tokens);return this.tokens},Le.blockTokens=function(oe,le){var me=this;le===void 0&&(le=[]),this.options.pedantic&&(oe=oe.replace(/^ +$/gm,""));for(var J,be,Ue,Fe;oe;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Qt){return(J=Qt.call({lexer:me},oe,le))?(oe=oe.substring(J.raw.length),le.push(J),!0):!1}))){if(J=this.tokenizer.space(oe)){oe=oe.substring(J.raw.length),J.type&&le.push(J);continue}if(J=this.tokenizer.code(oe)){oe=oe.substring(J.raw.length),be=le[le.length-1],be&&(be.type==="paragraph"||be.type==="text")?(be.raw+=`
`+J.raw,be.text+=`
`+J.text,this.inlineQueue[this.inlineQueue.length-1].src=be.text):le.push(J);continue}if(J=this.tokenizer.fences(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.heading(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.hr(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.blockquote(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.list(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.html(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.def(oe)){oe=oe.substring(J.raw.length),be=le[le.length-1],be&&(be.type==="paragraph"||be.type==="text")?(be.raw+=`
`+J.raw,be.text+=`
`+J.raw,this.inlineQueue[this.inlineQueue.length-1].src=be.text):this.tokens.links[J.tag]||(this.tokens.links[J.tag]={href:J.href,title:J.title});continue}if(J=this.tokenizer.table(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.lheading(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(Ue=oe,this.options.extensions&&this.options.extensions.startBlock&&function(){var Qt=1/0,T=oe.slice(1),F=void 0;me.options.extensions.startBlock.forEach(function(te){F=te.call({lexer:this},T),typeof F=="number"&&F>=0&&(Qt=Math.min(Qt,F))}),Qt<1/0&&Qt>=0&&(Ue=oe.substring(0,Qt+1))}(),this.state.top&&(J=this.tokenizer.paragraph(Ue))){be=le[le.length-1],Fe&&be.type==="paragraph"?(be.raw+=`
`+J.raw,be.text+=`
`+J.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=be.text):le.push(J),Fe=Ue.length!==oe.length,oe=oe.substring(J.raw.length);continue}if(J=this.tokenizer.text(oe)){oe=oe.substring(J.raw.length),be=le[le.length-1],be&&be.type==="text"?(be.raw+=`
`+J.raw,be.text+=`
`+J.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=be.text):le.push(J);continue}if(oe){var ft="Infinite loop on byte: "+oe.charCodeAt(0);if(this.options.silent){console.error(ft);break}else throw new Error(ft)}}return this.state.top=!0,le},Le.inline=function(oe,le){this.inlineQueue.push({src:oe,tokens:le})},Le.inlineTokens=function(oe,le){var me=this;le===void 0&&(le=[]);var J,be,Ue,Fe=oe,ft,Qt,T;if(this.tokens.links){var F=Object.keys(this.tokens.links);if(F.length>0)for(;(ft=this.tokenizer.rules.inline.reflinkSearch.exec(Fe))!=null;)F.includes(ft[0].slice(ft[0].lastIndexOf("[")+1,-1))&&(Fe=Fe.slice(0,ft.index)+"["+ci("a",ft[0].length-2)+"]"+Fe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ft=this.tokenizer.rules.inline.blockSkip.exec(Fe))!=null;)Fe=Fe.slice(0,ft.index)+"["+ci("a",ft[0].length-2)+"]"+Fe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ft=this.tokenizer.rules.inline.escapedEmSt.exec(Fe))!=null;)Fe=Fe.slice(0,ft.index)+"++"+Fe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;oe;)if(Qt||(T=""),Qt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ie){return(J=ie.call({lexer:me},oe,le))?(oe=oe.substring(J.raw.length),le.push(J),!0):!1}))){if(J=this.tokenizer.escape(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.tag(oe)){oe=oe.substring(J.raw.length),be=le[le.length-1],be&&J.type==="text"&&be.type==="text"?(be.raw+=J.raw,be.text+=J.text):le.push(J);continue}if(J=this.tokenizer.link(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.reflink(oe,this.tokens.links)){oe=oe.substring(J.raw.length),be=le[le.length-1],be&&J.type==="text"&&be.type==="text"?(be.raw+=J.raw,be.text+=J.text):le.push(J);continue}if(J=this.tokenizer.emStrong(oe,Fe,T)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.codespan(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.br(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.del(oe)){oe=oe.substring(J.raw.length),le.push(J);continue}if(J=this.tokenizer.autolink(oe,Gi)){oe=oe.substring(J.raw.length),le.push(J);continue}if(!this.state.inLink&&(J=this.tokenizer.url(oe,Gi))){oe=oe.substring(J.raw.length),le.push(J);continue}if(Ue=oe,this.options.extensions&&this.options.extensions.startInline&&function(){var ie=1/0,_e=oe.slice(1),ue=void 0;me.options.extensions.startInline.forEach(function(Ie){ue=Ie.call({lexer:this},_e),typeof ue=="number"&&ue>=0&&(ie=Math.min(ie,ue))}),ie<1/0&&ie>=0&&(Ue=oe.substring(0,ie+1))}(),J=this.tokenizer.inlineText(Ue,di)){oe=oe.substring(J.raw.length),J.raw.slice(-1)!=="_"&&(T=J.raw.slice(-1)),Qt=!0,be=le[le.length-1],be&&be.type==="text"?(be.raw+=J.raw,be.text+=J.text):le.push(J);continue}if(oe){var te="Infinite loop on byte: "+oe.charCodeAt(0);if(this.options.silent){console.error(te);break}else throw new Error(te)}}return le},t(Ne,null,[{key:"rules",get:function(){return{block:Ln,inline:Un}}}]),Ne}(),un=o.exports.defaults,Qn=z.cleanUrl,ke=z.escape,Pe=function(){function Ne(Oe){this.options=Oe||un}var Le=Ne.prototype;return Le.code=function(oe,le,me){var J=(le||"").match(/\S*/)[0];if(this.options.highlight){var be=this.options.highlight(oe,J);be!=null&&be!==oe&&(me=!0,oe=be)}return oe=oe.replace(/\n$/,"")+`
`,J?'<pre><code class="'+this.options.langPrefix+ke(J,!0)+'">'+(me?oe:ke(oe,!0))+`</code></pre>
`:"<pre><code>"+(me?oe:ke(oe,!0))+`</code></pre>
`},Le.blockquote=function(oe){return`<blockquote>
`+oe+`</blockquote>
`},Le.html=function(oe){return oe},Le.heading=function(oe,le,me,J){return this.options.headerIds?"<h"+le+' id="'+this.options.headerPrefix+J.slug(me)+'">'+oe+"</h"+le+`>
`:"<h"+le+">"+oe+"</h"+le+`>
`},Le.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Le.list=function(oe,le,me){var J=le?"ol":"ul",be=le&&me!==1?' start="'+me+'"':"";return"<"+J+be+`>
`+oe+"</"+J+`>
`},Le.listitem=function(oe){return"<li>"+oe+`</li>
`},Le.checkbox=function(oe){return"<input "+(oe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Le.paragraph=function(oe){return"<p>"+oe+`</p>
`},Le.table=function(oe,le){return le&&(le="<tbody>"+le+"</tbody>"),`<table>
<thead>
`+oe+`</thead>
`+le+`</table>
`},Le.tablerow=function(oe){return`<tr>
`+oe+`</tr>
`},Le.tablecell=function(oe,le){var me=le.header?"th":"td",J=le.align?"<"+me+' align="'+le.align+'">':"<"+me+">";return J+oe+"</"+me+`>
`},Le.strong=function(oe){return"<strong>"+oe+"</strong>"},Le.em=function(oe){return"<em>"+oe+"</em>"},Le.codespan=function(oe){return"<code>"+oe+"</code>"},Le.br=function(){return this.options.xhtml?"<br/>":"<br>"},Le.del=function(oe){return"<del>"+oe+"</del>"},Le.link=function(oe,le,me){if(oe=Qn(this.options.sanitize,this.options.baseUrl,oe),oe===null)return me;var J='<a href="'+ke(oe)+'"';return le&&(J+=' title="'+le+'"'),J+=">"+me+"</a>",J},Le.image=function(oe,le,me){if(oe=Qn(this.options.sanitize,this.options.baseUrl,oe),oe===null)return me;var J='<img src="'+oe+'" alt="'+me+'"';return le&&(J+=' title="'+le+'"'),J+=this.options.xhtml?"/>":">",J},Le.text=function(oe){return oe},Ne}(),_t=function(){function Ne(){}var Le=Ne.prototype;return Le.strong=function(oe){return oe},Le.em=function(oe){return oe},Le.codespan=function(oe){return oe},Le.del=function(oe){return oe},Le.html=function(oe){return oe},Le.text=function(oe){return oe},Le.link=function(oe,le,me){return""+me},Le.image=function(oe,le,me){return""+me},Le.br=function(){return""},Ne}(),ut=function(){function Ne(){this.seen={}}var Le=Ne.prototype;return Le.serialize=function(oe){return oe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Le.getNextSafeSlug=function(oe,le){var me=oe,J=0;if(this.seen.hasOwnProperty(me)){J=this.seen[oe];do J++,me=oe+"-"+J;while(this.seen.hasOwnProperty(me))}return le||(this.seen[oe]=J,this.seen[me]=0),me},Le.slug=function(oe,le){le===void 0&&(le={});var me=this.serialize(oe);return this.getNextSafeSlug(me,le.dryrun)},Ne}(),yt=Pe,Li=_t,zt=ut,At=o.exports.defaults,Zt=z.unescape,Xt=function(){function Ne(Oe){this.options=Oe||At,this.options.renderer=this.options.renderer||new yt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Li,this.slugger=new zt}Ne.parse=function(oe,le){var me=new Ne(le);return me.parse(oe)},Ne.parseInline=function(oe,le){var me=new Ne(le);return me.parseInline(oe)};var Le=Ne.prototype;return Le.parse=function(oe,le){le===void 0&&(le=!0);var me="",J,be,Ue,Fe,ft,Qt,T,F,te,ie,_e,ue,Ie,Be,Qe,lt,Ot,Wt,Pt,St=oe.length;for(J=0;J<St;J++){if(ie=oe[J],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ie.type]&&(Pt=this.options.extensions.renderers[ie.type].call({parser:this},ie),Pt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ie.type))){me+=Pt||"";continue}switch(ie.type){case"space":continue;case"hr":{me+=this.renderer.hr();continue}case"heading":{me+=this.renderer.heading(this.parseInline(ie.tokens),ie.depth,Zt(this.parseInline(ie.tokens,this.textRenderer)),this.slugger);continue}case"code":{me+=this.renderer.code(ie.text,ie.lang,ie.escaped);continue}case"table":{for(F="",T="",Fe=ie.header.length,be=0;be<Fe;be++)T+=this.renderer.tablecell(this.parseInline(ie.header[be].tokens),{header:!0,align:ie.align[be]});for(F+=this.renderer.tablerow(T),te="",Fe=ie.rows.length,be=0;be<Fe;be++){for(Qt=ie.rows[be],T="",ft=Qt.length,Ue=0;Ue<ft;Ue++)T+=this.renderer.tablecell(this.parseInline(Qt[Ue].tokens),{header:!1,align:ie.align[Ue]});te+=this.renderer.tablerow(T)}me+=this.renderer.table(F,te);continue}case"blockquote":{te=this.parse(ie.tokens),me+=this.renderer.blockquote(te);continue}case"list":{for(_e=ie.ordered,ue=ie.start,Ie=ie.loose,Fe=ie.items.length,te="",be=0;be<Fe;be++)Qe=ie.items[be],lt=Qe.checked,Ot=Qe.task,Be="",Qe.task&&(Wt=this.renderer.checkbox(lt),Ie?Qe.tokens.length>0&&Qe.tokens[0].type==="paragraph"?(Qe.tokens[0].text=Wt+" "+Qe.tokens[0].text,Qe.tokens[0].tokens&&Qe.tokens[0].tokens.length>0&&Qe.tokens[0].tokens[0].type==="text"&&(Qe.tokens[0].tokens[0].text=Wt+" "+Qe.tokens[0].tokens[0].text)):Qe.tokens.unshift({type:"text",text:Wt}):Be+=Wt),Be+=this.parse(Qe.tokens,Ie),te+=this.renderer.listitem(Be,Ot,lt);me+=this.renderer.list(te,_e,ue);continue}case"html":{me+=this.renderer.html(ie.text);continue}case"paragraph":{me+=this.renderer.paragraph(this.parseInline(ie.tokens));continue}case"text":{for(te=ie.tokens?this.parseInline(ie.tokens):ie.text;J+1<St&&oe[J+1].type==="text";)ie=oe[++J],te+=`
`+(ie.tokens?this.parseInline(ie.tokens):ie.text);me+=le?this.renderer.paragraph(te):te;continue}default:{var hi='Token with "'+ie.type+'" type was not found.';if(this.options.silent){console.error(hi);return}else throw new Error(hi)}}}return me},Le.parseInline=function(oe,le){le=le||this.renderer;var me="",J,be,Ue,Fe=oe.length;for(J=0;J<Fe;J++){if(be=oe[J],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[be.type]&&(Ue=this.options.extensions.renderers[be.type].call({parser:this},be),Ue!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(be.type))){me+=Ue||"";continue}switch(be.type){case"escape":{me+=le.text(be.text);break}case"html":{me+=le.html(be.text);break}case"link":{me+=le.link(be.href,be.title,this.parseInline(be.tokens,le));break}case"image":{me+=le.image(be.href,be.title,be.text);break}case"strong":{me+=le.strong(this.parseInline(be.tokens,le));break}case"em":{me+=le.em(this.parseInline(be.tokens,le));break}case"codespan":{me+=le.codespan(be.text);break}case"br":{me+=le.br();break}case"del":{me+=le.del(this.parseInline(be.tokens,le));break}case"text":{me+=le.text(be.text);break}default:{var ft='Token with "'+be.type+'" type was not found.';if(this.options.silent){console.error(ft);return}else throw new Error(ft)}}}return me},Ne}(),Ht=Vt,yr=Xt,si=ot,$e=Pe,il=_t,jn=ut,oi=z.merge,fa=z.checkSanitizeDeprecation,yn=z.escape,dr=o.exports.getDefaults,Il=o.exports.changeDefaults,tr=o.exports.defaults;function Xe(Ne,Le,Oe){if(typeof Ne>"u"||Ne===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");if(typeof Le=="function"&&(Oe=Le,Le=null),Le=oi({},Xe.defaults,Le||{}),fa(Le),Oe){var oe=Le.highlight,le;try{le=Ht.lex(Ne,Le)}catch(Ue){return Oe(Ue)}var me=function(Fe){var ft;if(!Fe)try{Le.walkTokens&&Xe.walkTokens(le,Le.walkTokens),ft=yr.parse(le,Le)}catch(Qt){Fe=Qt}return Le.highlight=oe,Fe?Oe(Fe):Oe(null,ft)};if(!oe||oe.length<3||(delete Le.highlight,!le.length))return me();var J=0;Xe.walkTokens(le,function(Ue){Ue.type==="code"&&(J++,setTimeout(function(){oe(Ue.text,Ue.lang,function(Fe,ft){if(Fe)return me(Fe);ft!=null&&ft!==Ue.text&&(Ue.text=ft,Ue.escaped=!0),J--,J===0&&me()})},0))}),J===0&&me();return}try{var be=Ht.lex(Ne,Le);return Le.walkTokens&&Xe.walkTokens(be,Le.walkTokens),yr.parse(be,Le)}catch(Ue){if(Ue.message+=`
Please report this to https://github.com/markedjs/marked.`,Le.silent)return"<p>An error occurred:</p><pre>"+yn(Ue.message+"",!0)+"</pre>";throw Ue}}Xe.options=Xe.setOptions=function(Ne){return oi(Xe.defaults,Ne),Il(Xe.defaults),Xe},Xe.getDefaults=dr,Xe.defaults=tr,Xe.use=function(){for(var Ne=this,Le=arguments.length,Oe=new Array(Le),oe=0;oe<Le;oe++)Oe[oe]=arguments[oe];var le=oi.apply(void 0,[{}].concat(Oe)),me=Xe.defaults.extensions||{renderers:{},childTokens:{}},J;Oe.forEach(function(be){if(be.extensions&&(J=!0,be.extensions.forEach(function(Fe){if(!Fe.name)throw new Error("extension name required");if(Fe.renderer){var ft=me.renderers?me.renderers[Fe.name]:null;ft?me.renderers[Fe.name]=function(){for(var Qt=arguments.length,T=new Array(Qt),F=0;F<Qt;F++)T[F]=arguments[F];var te=Fe.renderer.apply(this,T);return te===!1&&(te=ft.apply(this,T)),te}:me.renderers[Fe.name]=Fe.renderer}if(Fe.tokenizer){if(!Fe.level||Fe.level!=="block"&&Fe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");me[Fe.level]?me[Fe.level].unshift(Fe.tokenizer):me[Fe.level]=[Fe.tokenizer],Fe.start&&(Fe.level==="block"?me.startBlock?me.startBlock.push(Fe.start):me.startBlock=[Fe.start]:Fe.level==="inline"&&(me.startInline?me.startInline.push(Fe.start):me.startInline=[Fe.start]))}Fe.childTokens&&(me.childTokens[Fe.name]=Fe.childTokens)})),be.renderer&&function(){var Fe=Xe.defaults.renderer||new $e,ft=function(F){var te=Fe[F];Fe[F]=function(){for(var ie=arguments.length,_e=new Array(ie),ue=0;ue<ie;ue++)_e[ue]=arguments[ue];var Ie=be.renderer[F].apply(Fe,_e);return Ie===!1&&(Ie=te.apply(Fe,_e)),Ie}};for(var Qt in be.renderer)ft(Qt);le.renderer=Fe}(),be.tokenizer&&function(){var Fe=Xe.defaults.tokenizer||new si,ft=function(F){var te=Fe[F];Fe[F]=function(){for(var ie=arguments.length,_e=new Array(ie),ue=0;ue<ie;ue++)_e[ue]=arguments[ue];var Ie=be.tokenizer[F].apply(Fe,_e);return Ie===!1&&(Ie=te.apply(Fe,_e)),Ie}};for(var Qt in be.tokenizer)ft(Qt);le.tokenizer=Fe}(),be.walkTokens){var Ue=Xe.defaults.walkTokens;le.walkTokens=function(Fe){be.walkTokens.call(Ne,Fe),Ue&&Ue(Fe)}}J&&(le.extensions=me),Xe.setOptions(le)})},Xe.walkTokens=function(Ne,Le){for(var Oe=function(){var J=le.value;switch(Le(J),J.type){case"table":{for(var be=s(J.header),Ue;!(Ue=be()).done;){var Fe=Ue.value;Xe.walkTokens(Fe.tokens,Le)}for(var ft=s(J.rows),Qt;!(Qt=ft()).done;)for(var T=Qt.value,F=s(T),te;!(te=F()).done;){var ie=te.value;Xe.walkTokens(ie.tokens,Le)}break}case"list":{Xe.walkTokens(J.items,Le);break}default:Xe.defaults.extensions&&Xe.defaults.extensions.childTokens&&Xe.defaults.extensions.childTokens[J.type]?Xe.defaults.extensions.childTokens[J.type].forEach(function(_e){Xe.walkTokens(J[_e],Le)}):J.tokens&&Xe.walkTokens(J.tokens,Le)}},oe=s(Ne),le;!(le=oe()).done;)Oe()},Xe.parseInline=function(Ne,Le){if(typeof Ne>"u"||Ne===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");Le=oi({},Xe.defaults,Le||{}),fa(Le);try{var Oe=Ht.lexInline(Ne,Le);return Le.walkTokens&&Xe.walkTokens(Oe,Le.walkTokens),yr.parseInline(Oe,Le)}catch(oe){if(oe.message+=`
Please report this to https://github.com/markedjs/marked.`,Le.silent)return"<p>An error occurred:</p><pre>"+yn(oe.message+"",!0)+"</pre>";throw oe}},Xe.Parser=yr,Xe.parser=yr.parse,Xe.Renderer=$e,Xe.TextRenderer=il,Xe.Lexer=Ht,Xe.lexer=Ht.lex,Xe.Tokenizer=si,Xe.Slugger=jn,Xe.parse=Xe;var Co=Xe;return Co})})();Kf||exports;(Kf||exports).Parser;(Kf||exports).parser;var set=(Kf||exports).Renderer;(Kf||exports).TextRenderer;(Kf||exports).Lexer;(Kf||exports).lexer;(Kf||exports).Tokenizer;(Kf||exports).Slugger;var oet=(Kf||exports).parse;function aet(i,e={},t={}){var n;const r=new tt;let s=!1;const o=r.add(new Ea),a=mJ(e),u=function(x){let w;try{w=Wq(decodeURIComponent(x))}catch{}return w?(w=Mke(w,E=>{if(i.uris&&i.uris[E])return an.revive(i.uris[E])}),encodeURIComponent(JSON.stringify(w))):x},c=function(x,w){const E=i.uris&&i.uris[x];let N=an.revive(E);return w?x.startsWith(On.data+":")?x:(N||(N=an.parse(x)),Wfe.asBrowserUri(N).toString(!0)):!N||an.parse(x).toString()===N.toString()?x:(N.query&&(N=N.with({query:u(N.query)})),N.toString())};let h;const f=new Promise(x=>h=x),p=new set;if(p.image=(x,w,E)=>{let N=[],A=[];return x&&({href:x,dimensions:N}=g9e(x),A.push(`src="${x}"`)),E&&A.push(`alt="${E}"`),w&&A.push(`title="${w}"`),N.length&&(A=A.concat(N)),"<img "+A.join(" ")+">"},p.link=(x,w,E)=>(x===E&&(E=A$(E)),x=c(x,!1),e.baseUrl&&(/^\w[\w\d+.-]*:/.test(x)||(x=jie(e.baseUrl,x).toString())),w=A$(w),x=A$(x),!x||x.match(/^data:|javascript:/i)||x.match(/^command:/i)&&!i.isTrusted||x.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?E:(x=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${x}" title="${w||x}">${E}</a>`)),p.paragraph=x=>`<p>${x}</p>`,e.codeBlockRenderer&&(p.code=(x,w)=>{const E=e.codeBlockRenderer(w,x),N=I_e.nextId();return vX(Promise.all([E,f]),o.token).then(A=>{var H;if(!s&&A){const R=a.querySelector(`div[data-code="${N}"]`);R&&S1(R,A[0]),(H=e.asyncRenderCallback)===null||H===void 0||H.call(e)}}).catch(()=>{}),`<div class="code" data-code="${N}">${DX(x)}</div>`}),e.actionHandler){const x=e.actionHandler.disposables.add(new Qi(a,"click")),w=e.actionHandler.disposables.add(new Qi(a,"auxclick"));e.actionHandler.disposables.add(Bt.any(x.event,w.event)(E=>{const N=new Lc(E);if(!N.leftButton&&!N.middleButton)return;let A=N.target;if(!(A.tagName!=="A"&&(A=A.parentElement,!A||A.tagName!=="A")))try{const H=A.dataset.href;H&&e.actionHandler.callback(H,N)}catch(H){vn(H)}finally{N.preventDefault()}}))}i.supportHtml||(t.sanitizer=x=>(i.isTrusted?x.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?x:"",t.sanitize=!0,t.silent=!0),t.renderer=p;let m=(n=i.value)!==null&&n!==void 0?n:"";m.length>1e5&&(m=`${m.substr(0,1e5)}`),i.supportThemeIcons&&(m=pFe(m));let v=oet(m,t);i.supportThemeIcons&&(v=vC(v).map(w=>typeof w=="string"?w:w.outerHTML).join(""));const S=new DOMParser().parseFromString(Mae(i,v),"text/html");if(S.body.querySelectorAll("img").forEach(x=>{if(x.src){let w=c(x.src,!0);try{const E=an.parse(w);e.baseUrl&&E.scheme===On.file&&(w=jie(e.baseUrl,w).toString())}catch{}x.src=w}}),a.innerHTML=Mae(i,S.body.innerHTML),h(),e.asyncRenderCallback)for(const x of a.getElementsByTagName("img")){const w=r.add(Ze(x,"load",()=>{w.dispose(),e.asyncRenderCallback()}))}return{element:a,dispose:()=>{s=!0,o.cancel(),r.dispose()}}}function Mae(i,e){const{config:t,allowedSchemes:n}=uet(i);Aae("uponSanitizeAttribute",(s,o)=>{if(o.attrName==="style"||o.attrName==="class"){if(s.tagName==="SPAN"){if(o.attrName==="style"){o.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(o.attrValue);return}else if(o.attrName==="class"){o.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(o.attrValue);return}}o.keepAttr=!1;return}});const r=document.createElement("a");Aae("afterSanitizeAttributes",s=>{for(const o of["href","src"])s.hasAttribute(o)&&(r.href=s.getAttribute(o),n.includes(r.protocol.replace(/:$/,""))||s.removeAttribute(o))});try{return ret(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{Oae("uponSanitizeAttribute"),Oae("afterSanitizeAttributes")}}function uet(i){const e=[On.http,On.https,On.mailto,On.data,On.file,On.vscodeFileResource,On.vscodeRemote,On.vscodeRemoteResource];return i.isTrusted&&e.push(On.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}var cet=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Rae=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},det=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})},hz;let Nm=class i1e{constructor(e,t,n){this._options=e,this._modeService=t,this._openerService=n,this._onDidRenderAsync=new ye,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,n){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const r=new tt;return{element:r.add(aet(e,Object.assign(Object.assign({},this._getRenderOptions(e,r)),t),n)).element,dispose:()=>r.dispose()}}_getRenderOptions(e,t){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(n,r)=>det(this,void 0,void 0,function*(){var s,o,a,u;let c;n?c=this._modeService.getModeIdForLanguageName(n):this._options.editor&&(c=(s=this._options.editor.getModel())===null||s===void 0?void 0:s.getLanguageId()),c||(c="plaintext"),this._modeService.triggerMode(c);const h=(o=yield Xr.getPromise(c))!==null&&o!==void 0?o:void 0,f=document.createElement("span");if(f.innerHTML=(u=(a=i1e._ttpTokenizer)===null||a===void 0?void 0:a.createHTML(r,this._modeService.languageIdCodec,h))!==null&&u!==void 0?u:dme(r,this._modeService.languageIdCodec,h),this._options.editor){const p=this._options.editor.getOption(43);Qa.applyFontInfoSlow(f,p)}else this._options.codeBlockFontFamily&&(f.style.fontFamily=this._options.codeBlockFontFamily);return f}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:n=>this._openerService.open(n,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(vn),disposables:t}}}};Nm._ttpTokenizer=(hz=window.trustedTypes)===null||hz===void 0?void 0:hz.createPolicy("tokenizeToString",{createHTML(i,e,t){return dme(i,e,t)}});Nm=cet([Rae(1,ta),Rae(2,Yl)],Nm);var het=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class fet{constructor(e,t,n){this.provider=e,this.hover=t,this.ordinal=n}}function get(i,e,t,n,r){return het(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(i.provideHover(t,n,r));if(s&&met(s))return new fet(i,s,e)}catch(s){Jo(s)}})}function r1e(i,e,t){const r=wM.ordered(i).map((s,o)=>get(s,o,i,e,t));return ho.fromPromises(r).coalesce()}function pet(i,e,t){return r1e(i,e,t).map(n=>n.hover).toPromise()}dp("_executeHoverProvider",(i,e)=>pet(i,e,$n.None));function met(i){const e=typeof i.range<"u",t=typeof i.contents<"u"&&i.contents&&i.contents.length>0;return e&&t}var _et=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},fz=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const Pae=Ye;class tO{constructor(e,t,n,r){this.owner=e,this.range=t,this.contents=n,this.ordinal=r}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let OG=class{constructor(e,t,n,r,s){this._editor=e,this._hover=t,this._modeService=n,this._openerService=r,this._configurationService=s}createLoadingMessage(e){return new tO(this,e.range,[new Tm().appendText(C("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),r=e.range.startLineNumber,s=n.getLineMaxColumn(r),o=[];let a=1e3;const u=n.getLineLength(r),c=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),h=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c});typeof h=="number"&&u>=h&&o.push(new tO(this,e.range,[{value:C("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],a++));for(const f of t){const p=f.range.startLineNumber===r?f.range.startColumn:1,m=f.range.endLineNumber===r?f.range.endColumn:s,v=f.options.hoverMessage;if(!v||sR(v))continue;const b=new Q(e.range.startLineNumber,p,e.range.startLineNumber,m);o.push(new tO(this,b,WX(v),a++))}return o}computeAsync(e,t,n){if(!this._editor.hasModel()||e.type!==1)return ho.EMPTY;const r=this._editor.getModel();if(!wM.has(r))return ho.EMPTY;const s=new Ee(e.range.startLineNumber,e.range.startColumn);return r1e(r,s,n).filter(o=>!sR(o.hover.contents)).map(o=>{const a=o.hover.range?Q.lift(o.hover.range):e.range;return new tO(this,a,o.hover.contents,o.ordinal)})}renderHoverParts(e,t,n){return s1e(e,t,this._editor,this._hover,this._modeService,this._openerService)}};OG=_et([fz(2,ta),fz(3,Yl),fz(4,cr)],OG);function s1e(i,e,t,n,r,s){i.sort((a,u)=>a.ordinal-u.ordinal);const o=new tt;for(const a of i)for(const u of a.contents){if(sR(u))continue;const c=Pae("div.hover-row.markdown-hover"),h=We(c,Pae("div.hover-contents")),f=o.add(new Nm({editor:t},r,s));o.add(f.onDidRenderAsync(()=>{h.className="hover-contents code-hover-contents",n.onContentsChanged()}));const p=o.add(f.render(u));h.appendChild(p.element),e.appendChild(c)}return o}var o1e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},q7=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};class Fae{constructor(e,t,n){this.marker=e,this.index=t,this.total=n}}let MG=class{constructor(e,t,n){this._markerService=t,this._configService=n,this._onDidChange=new ye,this.onDidChange=this._onDidChange.event,this._dispoables=new tt,this._markers=[],this._nextIdx=-1,an.isUri(e)?this._resourceFilter=a=>a.toString()===e.toString():e&&(this._resourceFilter=e);const r=this._configService.getValue("problems.sortOrder"),s=(a,u)=>{let c=pM(a.resource.toString(),u.resource.toString());return r==="position"?c=Q.compareRangesUsingStarts(a,u)||Wr.compare(a.severity,u.severity):c=Wr.compare(a.severity,u.severity)||Q.compareRangesUsingStarts(a,u),c},o=()=>{this._markers=this._markerService.read({resource:an.isUri(e)?e:void 0,severities:Wr.Error|Wr.Warning|Wr.Info}),typeof e=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(s)};o(),this._dispoables.add(t.onMarkerChanged(a=>{(!this._resourceFilter||a.some(u=>this._resourceFilter(u)))&&(o(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new Fae(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,n){let r=!1,s=this._markers.findIndex(o=>o.resource.toString()===e.uri.toString());s<0&&(s=BX(this._markers,{resource:e.uri},(o,a)=>pM(o.resource.toString(),a.resource.toString())),s<0&&(s=~s));for(let o=s;o<this._markers.length;o++){let a=Q.lift(this._markers[o]);if(a.isEmpty()){const u=e.getWordAtPosition(a.getStartPosition());u&&(a=new Q(a.startLineNumber,u.startColumn,a.startLineNumber,u.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=o,r=!0;break}if(this._markers[o].resource.toString()!==e.uri.toString())break}r||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,n){if(this._markers.length===0)return!1;let r=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}find(e,t){let n=this._markers.findIndex(r=>r.resource.toString()===e.toString());if(!(n<0)){for(;n<this._markers.length;n++)if(Q.containsPosition(this._markers[n],t))return new Fae(this._markers[n],n+1,this._markers.length)}}};MG=o1e([q7(1,c3),q7(2,cr)],MG);const a1e=Ci("IMarkerNavigationService");let RG=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new nc}getMarkerList(e){for(let t of this._provider){const n=t.getMarkerList(e);if(n)return n}return new MG(e,this._markerService,this._configService)}};RG=o1e([q7(0,c3),q7(1,cr)],RG);Q1(a1e,RG,!0);var PG;(function(i){function e(t){switch(t){case is.Ignore:return"severity-ignore "+ve.info.classNames;case is.Info:return ve.info.classNames;case is.Warning:return ve.warning.classNames;case is.Error:return ve.error.classNames;default:return""}}i.className=e})(PG||(PG={}));Cr((i,e)=>{const t=i.getColor(uOe);if(t){const s=ve.error.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.text-search-provider-messages .providerMessage ${s},
			.extensions-viewlet > .extensions ${s} {
				color: ${t};
			}
		`)}const n=i.getColor(cOe);if(n){const s=ve.warning.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s},
			.extension-editor ${s},
			.text-search-provider-messages .providerMessage ${s},
			.preferences-editor ${s} {
				color: ${n};
			}
		`)}const r=i.getColor(dOe);if(r){const s=ve.info.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s},
			.text-search-provider-messages .providerMessage ${s},
			.extension-editor ${s} {
				color: ${r};
			}
		`)}});var vet=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Dw=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};class bet{constructor(e,t,n,r,s){this._openerService=r,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new tt,this._editor=t;const o=document.createElement("div");o.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),o.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),o.appendChild(this._relatedBlock),this._disposables.add(vo(this._relatedBlock,"click",a=>{a.preventDefault();const u=this._relatedDiagnostics.get(a.target);u&&n(u)})),this._scrollable=new wQ(o,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{o.style.left=`-${a.scrollLeft}px`,o.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){ui(this._disposables)}update(e){const{source:t,message:n,relatedInformation:r,code:s}=e;let o=((t==null?void 0:t.length)||0)+2;s&&(typeof s=="string"?o+=s.length:o+=s.value.length);const a=Kg(n);this._lines=a.length,this._longestLineLength=0;for(const p of a)this._longestLineLength=Math.max(p.length+o,this._longestLineLength);ro(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let u=this._messageBlock;for(const p of a)u=document.createElement("div"),u.innerText=p,p===""&&(u.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(u);if(t||s){const p=document.createElement("span");if(p.classList.add("details"),u.appendChild(p),t){const m=document.createElement("span");m.innerText=t,m.classList.add("source"),p.appendChild(m)}if(s)if(typeof s=="string"){const m=document.createElement("span");m.innerText=`(${s})`,m.classList.add("code"),p.appendChild(m)}else{this._codeLink=Ye("a.code-link"),this._codeLink.setAttribute("href",`${s.target.toString()}`),this._codeLink.onclick=v=>{this._openerService.open(s.target,{allowCommands:!0}),v.preventDefault(),v.stopPropagation()};const m=We(this._codeLink,Ye("span"));m.innerText=s.value,p.appendChild(this._codeLink)}}if(ro(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),zl(r)){const p=this._relatedBlock.appendChild(document.createElement("div"));p.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const m of r){let v=document.createElement("div"),b=document.createElement("a");b.classList.add("filename"),b.innerText=`${M0e(m.resource)}(${m.startLineNumber}, ${m.startColumn}): `,b.title=this._labelService.getUriLabel(m.resource),this._relatedDiagnostics.set(b,m);let S=document.createElement("span");S.innerText=m.message,v.appendChild(b),v.appendChild(S),this._lines+=1,p.appendChild(v)}}const c=this._editor.getOption(43),h=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),f=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:h,scrollHeight:f})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case Wr.Error:t=C("Error","Error");break;case Wr.Warning:t=C("Warning","Warning");break;case Wr.Info:t=C("Info","Info");break;case Wr.Hint:t=C("Hint","Hint");break}let n=C("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const r=this._editor.getModel();return r&&e.startLineNumber<=r.getLineCount()&&e.startLineNumber>=1&&(n=`${r.getLineContent(e.startLineNumber)}, ${n}`),n}}let Vx=class l1e extends j7{constructor(e,t,n,r,s,o,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},s),this._themeService=t,this._openerService=n,this._menuService=r,this._contextKeyService=o,this._labelService=a,this._callOnDispose=new tt,this._onDidSelectRelatedInformation=new ye,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Wr.Warning,this._backgroundColor=Se.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(xet);let t=FG,n=Cet;this._severity===Wr.Warning?(t=BG,n=yet):this._severity===Wr.Info&&(t=WG,n=wet);const r=e.getColor(t),s=e.getColor(n);this.style({arrowColor:r,frameColor:r,headerBackgroundColor:s,primaryHeadingColor:e.getColor(A0e),secondaryHeadingColor:e.getColor(O0e)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(r=>this.editor.focus()));const t=[],n=this._menuService.createMenu(l1e.TitleMenu,this._contextKeyService);rJe(n,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=We(e,Ye(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new bet(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,n){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let r=Q.lift(e);const s=this.editor.getPosition();let o=s&&r.containsPosition(s)?s:r.getStartPosition();super.show(o,this.computeRequiredHeight());const a=this.editor.getModel();if(a){const u=n>1?C("problems","{0} of {1} problems",t,n):C("change","{0} of {1} problem",t,n);this.setTitle(Vc(a.uri),u)}this._icon.className=`codicon ${PG.className(Wr.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(o,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Vx.TitleMenu=new Ft("gotoErrorTitleMenu");Vx=vet([Dw(1,Rr),Dw(2,Yl),Dw(3,Uy),Dw(4,Rn),Dw(5,gn),Dw(6,o3)],Vx);let Bae=bM(CO,Yge),Wae=bM(dm,EB),Vae=bM(kf,KX);const FG=we("editorMarkerNavigationError.background",{dark:Bae,light:Bae,hc:Ds},C("editorMarkerNavigationError","Editor marker navigation widget error color.")),Cet=we("editorMarkerNavigationError.headerBackground",{dark:ur(FG,.1),light:ur(FG,.1),hc:null},C("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),BG=we("editorMarkerNavigationWarning.background",{dark:Wae,light:Wae,hc:Ds},C("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),yet=we("editorMarkerNavigationWarning.headerBackground",{dark:ur(BG,.1),light:ur(BG,.1),hc:"#0C141F"},C("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),WG=we("editorMarkerNavigationInfo.background",{dark:Vae,light:Vae,hc:Ds},C("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),wet=we("editorMarkerNavigationInfo.headerBackground",{dark:ur(WG,.1),light:ur(WG,.1),hc:null},C("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),xet=we("editorMarkerNavigation.background",{dark:Ac,light:Ac,hc:Ac},C("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Eet=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},t6=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},u1e=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};let P1=class f8{constructor(e,t,n,r,s){this._markerNavigationService=t,this._contextKeyService=n,this._editorService=r,this._instantiationService=s,this._sessionDispoables=new tt,this._editor=e,this._widgetVisible=c1e.bindTo(this._contextKeyService)}static get(e){return e.getContribution(f8.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Vx,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(n=>{var r,s,o;(!(!((r=this._model)===null||r===void 0)&&r.selected)||!Q.containsPosition((s=this._model)===null||s===void 0?void 0:s.selected.marker,n.position))&&((o=this._model)===null||o===void 0||o.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const n=this._model.find(this._editor.getModel().uri,this._widget.position);n?this._widget.updateMarker(n.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(n=>{this._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:Q.lift(n).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new Ee(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){return u1e(this,void 0,void 0,function*(){if(this._editor.hasModel()){const n=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(n.move(e,this._editor.getModel(),this._editor.getPosition()),!n.selected)return;if(n.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const r=yield this._editorService.openCodeEditor({resource:n.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:n.selected.marker}},this._editor);r&&(f8.get(r).close(),f8.get(r).nagivate(e,t))}else this._widget.showAtMarker(n.selected.marker,n.selected.index,n.selected.total)}})}};P1.ID="editor.contrib.markerController";P1=Eet([t6(1,a1e),t6(2,gn),t6(3,Mi),t6(4,Rn)],P1);class UW extends Dt{constructor(e,t,n){super(n),this._next=e,this._multiFile=t}run(e,t){return u1e(this,void 0,void 0,function*(){t.hasModel()&&P1.get(t).nagivate(this._next,this._multiFile)})}}class fm extends UW{constructor(){super(!0,!1,{id:fm.ID,label:fm.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:578,weight:100},menuOpts:{menuId:Vx.TitleMenu,title:fm.LABEL,icon:To("marker-navigation-next",ve.arrowDown,C("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}fm.ID="editor.action.marker.next";fm.LABEL=C("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Hx extends UW{constructor(){super(!1,!1,{id:Hx.ID,label:Hx.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:1602,weight:100},menuOpts:{menuId:Vx.TitleMenu,title:fm.LABEL,icon:To("marker-navigation-previous",ve.arrowUp,C("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Hx.ID="editor.action.marker.prev";Hx.LABEL=C("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class Let extends UW{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:C("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:66,weight:100},menuOpts:{menuId:Ft.MenubarGoMenu,title:C({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class Det extends UW{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:C("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:1090,weight:100},menuOpts:{menuId:Ft.MenubarGoMenu,title:C({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}Ri(P1.ID,P1);st(fm);st(Hx);st(Let);st(Det);const c1e=new It("markersNavigationVisible",!1),Tet=ea.bindToContribution(P1.get);rt(new Tet({id:"closeMarkersNavigation",precondition:c1e,handler:i=>i.close(),kbOpts:{weight:100+50,kbExpr:he.focus,primary:9,secondary:[1033]}}));var Iet=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Hae=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const td=Ye;class ket{constructor(e,t,n){this.owner=e,this.range=t,this.marker=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const $ae={type:1,filter:{include:Gn.QuickFix}};let VG=class{constructor(e,t,n,r){this._editor=e,this._hover=t,this._markerDecorationsService=n,this._openerService=r,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),r=e.range.startLineNumber,s=n.getLineMaxColumn(r),o=[];for(const a of t){const u=a.range.startLineNumber===r?a.range.startColumn:1,c=a.range.endLineNumber===r?a.range.endColumn:s,h=this._markerDecorationsService.getMarker(n.uri,a);if(!h)continue;const f=new Q(e.range.startLineNumber,u,e.range.startLineNumber,c);o.push(new ket(this,f,h))}return o}renderHoverParts(e,t,n){if(!e.length)return Me.None;const r=new tt;e.forEach(o=>t.appendChild(this.renderMarkerHover(o,r)));const s=e.length===1?e[0]:e.sort((o,a)=>Wr.compare(o.marker.severity,a.marker.severity))[0];return this.renderMarkerStatusbar(s,n,r),r}renderMarkerHover(e,t){const n=td("div.hover-row"),r=We(n,td("div.marker.hover-contents")),{source:s,message:o,code:a,relatedInformation:u}=e.marker;this._editor.applyFontInfo(r);const c=We(r,td("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=o,s||a)if(a&&typeof a!="string"){const h=td("span");if(s){const v=We(h,td("span"));v.innerText=s}const f=We(h,td("a.code-link"));f.setAttribute("href",a.target.toString()),t.add(Ze(f,"click",v=>{this._openerService.open(a.target,{allowCommands:!0}),v.preventDefault(),v.stopPropagation()}));const p=We(f,td("span"));p.innerText=a.value;const m=We(r,h);m.style.opacity="0.6",m.style.paddingLeft="6px"}else{const h=We(r,td("span"));h.style.opacity="0.6",h.style.paddingLeft="6px",h.innerText=s&&a?`${s}(${a})`:s||`(${a})`}if(zl(u))for(const{message:h,resource:f,startLineNumber:p,startColumn:m}of u){const v=We(r,td("div"));v.style.marginTop="8px";const b=We(v,td("a"));b.innerText=`${Vc(f)}(${p}, ${m}): `,b.style.cursor="pointer",t.add(Ze(b,"click",x=>{x.stopPropagation(),x.preventDefault(),this._openerService&&this._openerService.open(f,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:p,startColumn:m}}}).catch(vn)}));const S=We(v,td("span"));S.innerText=h,this._editor.applyFontInfo(S)}return n}renderMarkerStatusbar(e,t,n){if((e.marker.severity===Wr.Error||e.marker.severity===Wr.Warning||e.marker.severity===Wr.Info)&&t.addAction({label:C("view problem","View Problem"),commandId:fm.ID,run:()=>{this._hover.hide(),P1.get(this._editor).showAtMarker(e.marker),this._editor.focus()}}),!this._editor.getOption(80)){const r=t.append(td("div"));this.recentMarkerCodeActionsInfo&&(k7.makeKey(this.recentMarkerCodeActionsInfo.marker)===k7.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(r.textContent=C("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const s=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Me.None:n.add(zC(()=>r.textContent=C("checkingForQuickFixes","Checking for quick fixes..."),200));r.textContent||(r.textContent=String.fromCharCode(160));const o=this.getCodeActions(e.marker);n.add(Yn(()=>o.cancel())),o.then(a=>{if(s.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),r.textContent=C("noQuickFixes","No quick fixes available");return}r.style.display="none";let u=!1;n.add(Yn(()=>{u||a.dispose()})),t.addAction({label:C("quick fixes","Quick Fix..."),commandId:UE.Id,run:c=>{u=!0;const h=hy.get(this._editor),f=ca(c);this._hover.hide(),h.showCodeActions($ae,a,{x:f.left+6,y:f.top+f.height+6})}})},vn)}}getCodeActions(e){return Do(t=>tee(this._editor.getModel(),new Q(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),$ae,Zy.None,t))}};VG=Iet([Hae(2,EX),Hae(3,Yl)],VG);Cr((i,e)=>{const t=i.getColor(SB);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);const n=i.getColor(xB);n&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});const d1e="editor.action.inlineSuggest.commit";class h1e{constructor(e,t,n=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=n}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],n=e.substr(0,t.column-1);return Aet(n,this.parts.map(s=>({range:{startLineNumber:1,endLineNumber:1,startColumn:s.column,endColumn:s.column},text:s.lines.join(`
`)}))).substring(this.parts[0].column-1)}}class Net{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}function Aet(i,e){const t=new Net(i),n=e.map(r=>{const s=Q.lift(r.range);return{startOffset:t.getOffset(s.getStartPosition()),endOffset:t.getOffset(s.getEndPosition()),text:r.text}});n.sort((r,s)=>s.startOffset-r.startOffset);for(const r of n)i=i.substring(0,r.startOffset)+r.text+i.substring(r.endOffset);return i}class zae{constructor(e,t,n){this.column=e,this.lines=t,this.preview=n}}class f1e extends Me{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new ye,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}function Oet(i,e){return i===e?!0:!i||!e?!1:i.range.equalsRange(e.range)&&i.text===e.text&&i.command===e.command}function g1e(i,e,t,n,r=0){if(i.range.startLineNumber!==i.range.endLineNumber)return;const s=e.getLineContent(i.range.startLineNumber),o=Xi(s).length;if(i.range.startColumn-1<=o){const m=Xi(i.text).length,v=s.substring(i.range.startColumn-1,o),b=Q.fromPositions(i.range.getStartPosition().delta(0,v.length),i.range.getEndPosition()),S=i.text.startsWith(v)?i.text.substring(v.length):i.text.substring(m);i={range:b,text:S,command:i.command}}const u=e.getValueInRange(i.range),c=Met(u,i.text);if(!c)return;const h=i.range.startLineNumber,f=new Array;if(t==="prefix"){const m=c.filter(v=>v.originalLength===0);if(m.length>1||m.length===1&&m[0].originalStart!==u.length)return}const p=i.text.length-r;for(const m of c){const v=i.range.startColumn+m.originalStart+m.originalLength;if(t==="subwordSmart"&&n&&n.lineNumber===i.range.startLineNumber&&v<n.column||m.originalLength>0)return;if(m.modifiedLength===0)continue;const b=m.modifiedStart+m.modifiedLength,S=Math.max(m.modifiedStart,Math.min(b,p)),x=i.text.substring(m.modifiedStart,S),w=i.text.substring(S,Math.max(m.modifiedStart,b));if(x.length>0){const E=Kg(x);f.push(new zae(v,E,!1))}if(w.length>0){const E=Kg(w);f.push(new zae(v,E,!0))}}return new h1e(h,f,0)}let Qf;function Met(i,e){if((Qf==null?void 0:Qf.originalValue)===i&&(Qf==null?void 0:Qf.newValue)===e)return Qf==null?void 0:Qf.changes;{const t=Ret(i,e);return Qf={originalValue:i,newValue:e,changes:t},t}}function Ret(i,e){if(i.length>5e3||e.length>5e3)return;function t(u){let c=0;for(let h=0,f=u.length;h<f;h++){const p=u.charCodeAt(h);p>c&&(c=p)}return c}const n=Math.max(t(i),t(e));function r(u){if(u<0)throw new Error("unexpected");return n+u+1}function s(u){let c=0,h=0;const f=new Int32Array(u.length);for(let p=0,m=u.length;p<m;p++){const v=h*100+c;u[p]==="("?(f[p]=r(2*v),c++):u[p]===")"?(f[p]=r(2*v+1),c===1&&h++,c=Math.max(c-1,0)):f[p]=u.charCodeAt(p)}return f}const o=s(i),a=s(e);return new Sg({getElements:()=>o},{getElements:()=>a}).ComputeDiff(!1).changes}var Pet=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Fet=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},Up=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};let HG=class extends Me{constructor(e,t,n){super(),this.editor=e,this.cache=t,this.commandService=n,this.onDidChangeEmitter=new ye,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new Ja),this.active=!1,this.disposed=!1,this._register(n.onDidExecuteCommand(r=>{new Set([jS.Tab.id,jS.DeleteLeft.id,jS.DeleteRight.id,d1e,"acceptSelectedSuggestion"]).has(r.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(r=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(r=>{this.session&&!this.session.isValid&&this.hide()})),this._register(Yn(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return(e=this.session)===null||e===void 0?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;(t=this.session)===null||t===void 0||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&((t=this.session)===null||t===void 0||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(54).enabled&&(this.session&&this.session.isValid||this.trigger(Sc.Automatic))}trigger(e){if(this.completionSession.value){e===Sc.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new Bet(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;(e=this.session)===null||e===void 0||e.commitCurrentCompletion()}showNext(){var e;(e=this.session)===null||e===void 0||e.showNextInlineCompletion()}showPrevious(){var e;(e=this.session)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Up(this,void 0,void 0,function*(){const t=yield(e=this.session)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};HG=Pet([Fet(2,Vr)],HG);class Bet extends f1e{constructor(e,t,n,r,s,o){super(e),this.triggerPosition=t,this.shouldUpdate=n,this.commandService=r,this.cache=s,this.initialTriggerKind=o,this.minReservedLineCount=0,this.updateOperation=this._register(new Ja),this.updateSoon=this._register(new lr(()=>{let u=this.initialTriggerKind;return this.initialTriggerKind=Sc.Automatic,this.update(u)},50)),this.currentlySelectedCompletionId=void 0;let a;this._register(this.onDidChange(()=>{const u=this.currentCompletion;if(u&&u.sourceInlineCompletion!==a){a=u.sourceInlineCompletion;const c=u.sourceProvider;c.handleItemDidShow&&c.handleItemDidShow(u.sourceInlineCompletions,a)}})),this._register(Yn(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(u=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(u=>{this.scheduleAutomaticUpdate()})),this._register(lQ.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const e=this.cache.value.completions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return e===-1?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return Up(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var e;return Up(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=((e=this.cache.value)===null||e===void 0?void 0:e.completions)||[];if(t.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return Up(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===Sc.Explicit?yield this.updateOperation.value.promise:yield this.update(Sc.Explicit):((e=this.cache.value)===null||e===void 0?void 0:e.triggerKind)!==Sc.Explicit&&(yield this.update(Sc.Explicit))})}hasMultipleInlineCompletions(){var e;return Up(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((e=this.cache.value)===null||e===void 0?void 0:e.completions.length)||0)>1})}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(54).mode;return e?g1e(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return Up(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),n=Do(s=>Up(this,void 0,void 0,function*(){let o;try{o=yield m1e(t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},s)}catch(a){vn(a);return}s.isCancellationRequested||(this.cache.setValue(this.editor,o,e),this.onDidChangeEmitter.fire())})),r=new p1e(n,e);this.updateOperation.value=r,yield n,this.updateOperation.value===r&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[rs.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{t==null||t.dispose()}).then(void 0,Jo):t==null||t.dispose(),this.onDidChangeEmitter.fire()}}class p1e{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class Wet extends Me{constructor(e,t,n,r){super(),this.triggerKind=r;const s=e.deltaDecorations([],t.items.map(o=>({range:o.range,options:{description:"inline-completion-tracking-range"}})));this._register(Yn(()=>{e.deltaDecorations(s,[])})),this.completions=t.items.map((o,a)=>new Vet(o,s[a])),this._register(e.onDidChangeModelContent(()=>{let o=!1;const a=e.getModel();for(const u of this.completions){const c=a.getDecorationRange(u.decorationId);if(!c){vn(new Error("Decoration has no range"));continue}u.synchronizedRange.equalsRange(c)||(o=!0,u.synchronizedRange=c)}o&&n()})),this._register(t)}}class Vet{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function Het(i,e){const t=e.getWordAtPosition(i),n=e.getLineMaxColumn(i.lineNumber);return t?new Q(i.lineNumber,t.startColumn,i.lineNumber,n):Q.fromPositions(i,i.with(void 0,n))}function m1e(i,e,t,n=$n.None){return Up(this,void 0,void 0,function*(){const r=Het(i,e),s=lQ.all(e),o=yield Promise.all(s.map(u=>Up(this,void 0,void 0,function*(){const c=yield u.provideInlineCompletions(e,i,t,n);return{completions:c,provider:u,dispose:()=>{c&&u.freeInlineCompletions(c)}}}))),a=new Map;for(const u of o){const c=u.completions;if(c)for(const h of c.items.map(f=>({text:f.text,range:f.range?Q.lift(f.range):r,command:f.command,sourceProvider:u.provider,sourceInlineCompletions:c,sourceInlineCompletion:f})))h.range.startLineNumber===h.range.endLineNumber&&a.set(JSON.stringify({text:h.text,range:h.range}),h)}return{items:[...a.values()],dispose:()=>{for(const u of o)u.dispose()}}})}function G7(i,e){if(!e)return e;const t=i.getValueInRange(e.range),n=Cx(t,e.text),r=i.getOffsetAt(e.range.getStartPosition())+n,s=i.getPositionAt(r),o=t.substr(n),a=yF(o,e.text),u=i.getPositionAt(Math.max(r,i.getOffsetAt(e.range.getEndPosition())-a));return{range:Q.fromPositions(s,u),text:e.text.substr(n,e.text.length-n-a)}}class sd{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e=this.pos,t=0,n=this.value.charCodeAt(e),r;if(r=sd._table[n],typeof r=="number")return this.pos+=1,{type:r,pos:e,len:1};if(sd.isDigitCharacter(n)){r=8;do t+=1,n=this.value.charCodeAt(e+t);while(sd.isDigitCharacter(n));return this.pos+=t,{type:r,pos:e,len:t}}if(sd.isVariableCharacter(n)){r=9;do n=this.value.charCodeAt(e+ ++t);while(sd.isVariableCharacter(n)||sd.isDigitCharacter(n));return this.pos+=t,{type:r,pos:e,len:t}}r=10;do t+=1,n=this.value.charCodeAt(e+t);while(!isNaN(n)&&typeof sd._table[n]>"u"&&!sd.isDigitCharacter(n)&&!sd.isVariableCharacter(n));return this.pos+=t,{type:r,pos:e,len:t}}}sd._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class KE{constructor(){this._children=[]}appendChild(e){return e instanceof Fl&&this._children[this._children.length-1]instanceof Fl?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:n}=e,r=n.children.indexOf(e),s=n.children.slice(0);s.splice(r,1,...t),n._children=s,function o(a,u){for(const c of a)c.parent=u,o(c.children,c)}(t,n)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof jW)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class Fl extends KE{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new Fl(this.value)}}class _1e extends KE{}class pd extends _1e{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof S3?this._children[0]:void 0}clone(){let e=new pd(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class S3 extends KE{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof Fl&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new S3;return this.options.forEach(e.appendChild,e),e}}class aee extends KE{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let n=!1,r=e.replace(this.regexp,function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(s=>s instanceof af&&!!s.elseValue)&&(r=this._replace([])),r}_replace(e){let t="";for(const n of this._children)if(n instanceof af){let r=e[n.index]||"";r=n.resolve(r),t+=r}else t+=n.toString();return t}toString(){return""}clone(){let e=new aee;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class af extends KE{constructor(e,t,n,r){super(),this.index=e,this.shorthandName=t,this.ifValue=n,this.elseValue=r}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":e&&typeof this.ifValue=="string"?this.ifValue:!e&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((n,r)=>r===0?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):e}clone(){return new af(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class gR extends _1e{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new Fl(t)],!0):!1}clone(){const e=new gR(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function Uae(i,e){const t=[...i];for(;t.length>0;){const n=t.shift();if(!e(n))break;t.unshift(...n.children)}}class jW extends KE{get placeholderInfo(){if(!this._placeholders){let e=[],t;this.walk(function(n){return n instanceof pd&&(e.push(n),t=!t||t.index<n.index?n:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,n=!1;return this.walk(r=>r===e?(n=!0,!1):(t+=r.len(),!0)),n?t:-1}fullLen(e){let t=0;return Uae([e],n=>(t+=n.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:n}=e;for(;n;)n instanceof pd&&t.push(n),n=n.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof gR&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new jW;return this._children=this.children.map(t=>t.clone()),e}walk(e){Uae(this.children,e)}}class KW{constructor(){this._scanner=new sd,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,n){this._scanner.text(e),this._token=this._scanner.next();const r=new jW;for(;this._parse(r););const s=new Map,o=[];let a=0;r.walk(u=>(u instanceof pd&&(a+=1,u.isFinalTabstop?s.set(0,void 0):!s.has(u.index)&&u.children.length>0?s.set(u.index,u.children):o.push(u)),!0));for(const u of o){const c=s.get(u.index);if(c){const h=new pd(u.index);h.transform=u.transform;for(const f of c)h.appendChild(f.clone());r.replace(u,[h])}}return n||(n=a>0&&t),!s.has(0)&&n&&r.appendChild(new pd(0)),r}_accept(e,t){if(e===void 0||this._token.type===e){let n=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Fl(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new pd(Number(t)):new gR(t)),!0):this._backTo(n)}_parseComplexPlaceholder(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);const s=new pd(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(s),!0;if(!this._parse(s))return e.appendChild(new Fl("${"+t+":")),s.children.forEach(e.appendChild,e),!0}else if(s.index>0&&this._accept(7)){const o=new S3;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(s.appendChild(o),this._accept(4)))return e.appendChild(s),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(s)?(e.appendChild(s),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(s),!0):this._backTo(n)}_parseChoiceElement(e){const t=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(t),!1;n.push(r)}return n.length===0?(this._backTo(t),!1):(e.appendChild(new Fl(n.join(""))),!0)}_parseComplexVariable(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);const s=new gR(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(s),!0;if(!this._parse(s))return e.appendChild(new Fl("${"+t+":")),s.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(s)?(e.appendChild(s),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(s),!0):this._backTo(n)}_parseTransform(e){let t=new aee,n="",r="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(6,!0)||s,n+=s;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(5,!0)||this._accept(6,!0)||s,t.appendChild(new Fl(s));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(n,r)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let r=this._accept(8,!0);if(r)if(n){if(this._accept(4))return e.appendChild(new af(Number(r))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new af(Number(r))),!0;else return this._backTo(t),!1;if(this._accept(6)){let s=this._accept(9,!0);return!s||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new af(Number(r),s)),!0)}else if(this._accept(11)){let s=this._until(4);if(s)return e.appendChild(new af(Number(r),void 0,s,void 0)),!0}else if(this._accept(12)){let s=this._until(4);if(s)return e.appendChild(new af(Number(r),void 0,void 0,s)),!0}else if(this._accept(13)){let s=this._until(1);if(s){let o=this._until(4);if(o)return e.appendChild(new af(Number(r),void 0,s,o)),!0}}else{let s=this._until(4);if(s)return e.appendChild(new af(Number(r),void 0,void 0,s)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new Fl(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}const yo=new Uint8Array(16),za=[];for(let i=0;i<256;i++)za.push(i.toString(16).padStart(2,"0"));let $G;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?$G=crypto.getRandomValues.bind(crypto):$G=function(i){for(let e=0;e<i.length;e++)i[e]=Math.floor(Math.random()*256);return i};function $et(){$G(yo),yo[6]=yo[6]&15|64,yo[8]=yo[8]&63|128;let i=0,e="";return e+=za[yo[i++]],e+=za[yo[i++]],e+=za[yo[i++]],e+=za[yo[i++]],e+="-",e+=za[yo[i++]],e+=za[yo[i++]],e+="-",e+=za[yo[i++]],e+=za[yo[i++]],e+="-",e+=za[yo[i++]],e+=za[yo[i++]],e+="-",e+=za[yo[i++]],e+=za[yo[i++]],e+=za[yo[i++]],e+=za[yo[i++]],e+=za[yo[i++]],e+=za[yo[i++]],e}const jae="code-workspace";function Kae(i){const e=i;return typeof(e==null?void 0:e.id)=="string"&&an.isUri(e.uri)}function zet(i){if(i.configuration)return{id:i.id,configPath:i.configuration};if(i.folders.length===1)return{id:i.id,uri:i.folders[0].uri}}class Uet{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let n=t.resolve(e);if(n!==void 0)return n}}}class jet{constructor(e,t,n,r){this._model=e,this._selection=t,this._selectionIdx=n,this._overtypingCapturer=r}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let n=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){const s=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);s&&(n=s.value,r=s.multiline)}if(n&&r&&e.snippet){const s=this._model.getLineContent(this._selection.startLineNumber),o=Xi(s,0,this._selection.startColumn-1);let a=o;e.snippet.walk(c=>c===e?!1:(c instanceof Fl&&(a=Xi(Kg(c.value).pop())),!0));const u=Cx(a,o);n=n.replace(/(\r\n|\r|\n)(.*)/g,(c,h,f)=>`${h}${a.substr(u)}${f}`)}return n}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const n=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return n&&n.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}class Ket{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return rC(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const n=rC(this._model.uri.fsPath),r=n.lastIndexOf(".");return r<=0?n:n.slice(0,r)}else{if(t==="TM_DIRECTORY")return Mfe(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(eQ(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class qet{constructor(e,t,n,r){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=n,this._spread=r}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(t){if(this._spread){const n=t.split(/\r\n|\n|\r/).filter(r=>!tge(r));if(n.length===this._selectionCount)return n[this._selectionIdx]}return t}}}class Get{constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=Si.getComments(n);if(r){if(t==="LINE_COMMENT")return r.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return r.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return r.blockCommentEndToken||void 0}}}class Rg{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return Rg.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return Rg.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return Rg.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return Rg.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}Rg.dayNames=[C("Sunday","Sunday"),C("Monday","Monday"),C("Tuesday","Tuesday"),C("Wednesday","Wednesday"),C("Thursday","Thursday"),C("Friday","Friday"),C("Saturday","Saturday")];Rg.dayNamesShort=[C("SundayShort","Sun"),C("MondayShort","Mon"),C("TuesdayShort","Tue"),C("WednesdayShort","Wed"),C("ThursdayShort","Thu"),C("FridayShort","Fri"),C("SaturdayShort","Sat")];Rg.monthNames=[C("January","January"),C("February","February"),C("March","March"),C("April","April"),C("May","May"),C("June","June"),C("July","July"),C("August","August"),C("September","September"),C("October","October"),C("November","November"),C("December","December")];Rg.monthNamesShort=[C("JanuaryShort","Jan"),C("FebruaryShort","Feb"),C("MarchShort","Mar"),C("AprilShort","Apr"),C("MayShort","May"),C("JuneShort","Jun"),C("JulyShort","Jul"),C("AugustShort","Aug"),C("SeptemberShort","Sep"),C("OctoberShort","Oct"),C("NovemberShort","Nov"),C("DecemberShort","Dec")];class Yet{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=zet(this._workspaceService.getWorkspace());if(t){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(Kae(e))return rC(e.uri.path);let t=rC(e.configPath.path);return t.endsWith(jae)&&(t=t.substr(0,t.length-jae.length-1)),t}_resoveWorkspacePath(e){if(Kae(e))return CG(e.uri.fsPath);let t=rC(e.configPath.path),n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?CG(n):"/"}}class Zet{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return $et()}}class od{constructor(e,t,n,r){this._editor=e,this._snippet=t,this._offset=n,this._snippetLineLeadingWhitespace=r,this._nestingLevel=1,this._placeholderGroups=Lie(t.placeholders,pd.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const n of this._snippet.placeholders){const r=this._snippet.offset(n),s=this._snippet.fullLen(n),o=Q.fromPositions(e.getPositionAt(this._offset+r),e.getPositionAt(this._offset+r+s)),a=n.isFinalTabstop?od._decor.inactiveFinal:od._decor.inactive,u=t.addDecoration(o,a);this._placeholderDecorations.set(n,u)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let r=[];for(const s of this._placeholderGroups[this._placeholderGroupsIdx])if(s.transform){const o=this._placeholderDecorations.get(s),a=this._editor.getModel().getDecorationRange(o),u=this._editor.getModel().getValueInRange(a),c=s.transform.resolve(u).split(/\r\n|\r|\n/);for(let h=1;h<c.length;h++)c[h]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[h]);r.push(rs.replace(a,c.join(this._editor.getModel().getEOL())))}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const n=this._editor.getModel().changeDecorations(r=>{const s=new Set,o=[];for(const a of this._placeholderGroups[this._placeholderGroupsIdx]){const u=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(u);o.push(new xt(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(a),r.changeDecorationOptions(u,a.isFinalTabstop?od._decor.activeFinal:od._decor.active),s.add(a);for(const h of this._snippet.enclosingPlaceholders(a)){const f=this._placeholderDecorations.get(h);r.changeDecorationOptions(f,h.isFinalTabstop?od._decor.activeFinal:od._decor.active),s.add(h)}}for(const[a,u]of this._placeholderDecorations)s.has(a)||r.changeDecorationOptions(u,a.isFinalTabstop?od._decor.inactiveFinal:od._decor.inactive);return o});return t?this.move(e):n??[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof pd){const n=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let n;for(const r of t){if(r.isFinalTabstop)break;n||(n=[],e.set(r.index,n));const s=this._placeholderDecorations.get(r),o=this._editor.getModel().getDecorationRange(s);if(!o){e.delete(r.index);break}n.push(o)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(n=>{for(const r of this._placeholderGroups[this._placeholderGroupsIdx]){const s=e.shift();console.assert(!s._placeholderDecorations);const o=s._snippet.placeholderInfo.last.index;for(const u of s._snippet.placeholderInfo.all)u.isFinalTabstop?u.index=r.index+(o+1)/this._nestingLevel:u.index=r.index+u.index/this._nestingLevel;this._snippet.replace(r,s._snippet.children);const a=this._placeholderDecorations.get(r);n.removeDecoration(a),this._placeholderDecorations.delete(r);for(const u of s._snippet.placeholders){const c=s._snippet.offset(u),h=s._snippet.fullLen(u),f=Q.fromPositions(t.getPositionAt(s._offset+c),t.getPositionAt(s._offset+c+h)),p=n.addDecoration(f,od._decor.inactive);this._placeholderDecorations.set(u,p)}}this._placeholderGroups=Lie(this._snippet.placeholders,pd.compareByIndex)})}}od._decor={active:Tn.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Tn.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Tn.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Tn.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const qae={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class ug{constructor(e,t,n=qae){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=n}static adjustWhitespace(e,t,n,r,s){const o=e.getLineContent(t.lineNumber),a=Xi(o,0,t.column-1);let u;return n.walk(c=>{if(!(c instanceof Fl)||c.parent instanceof S3)return!0;const h=c.value.split(/\r\n|\r|\n/);if(r){const p=n.offset(c);if(p===0)h[0]=e.normalizeIndentation(h[0]);else{u=u??n.toString();let m=u.charCodeAt(p-1);(m===10||m===13)&&(h[0]=e.normalizeIndentation(a+h[0]))}for(let m=1;m<h.length;m++)h[m]=e.normalizeIndentation(a+h[m])}const f=h.join(e.getEOL());return f!==c.value&&(c.parent.replace(c,[new Fl(f)]),u=void 0),!0}),a}static adjustSelection(e,t,n,r){if(n!==0||r!==0){const{positionLineNumber:s,positionColumn:o}=t,a=o-n,u=o+r,c=e.validateRange({startLineNumber:s,startColumn:a,endLineNumber:s,endColumn:u});t=xt.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,n,r,s,o,a,u){const c=[],h=[];if(!e.hasModel())return{edits:c,snippets:h};const f=e.getModel(),p=e.invokeWithinContext(N=>N.get(Dme)),m=e.invokeWithinContext(N=>new Ket(N.get(o3),f)),v=()=>a;let b=0,S=f.getValueInRange(ug.adjustSelection(f,e.getSelection(),n,0)),x=f.getValueInRange(ug.adjustSelection(f,e.getSelection(),0,r)),w=f.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const E=e.getSelections().map((N,A)=>({selection:N,idx:A})).sort((N,A)=>Q.compareRangesUsingStarts(N.selection,A.selection));for(const{selection:N,idx:A}of E){let H=ug.adjustSelection(f,N,n,0),R=ug.adjustSelection(f,N,0,r);S!==f.getValueInRange(H)&&(H=N),x!==f.getValueInRange(R)&&(R=N);const M=N.setStartPosition(H.startLineNumber,H.startColumn).setEndPosition(R.endLineNumber,R.endColumn),G=new KW().parse(t,!0,s),X=M.getStartPosition(),$=ug.adjustWhitespace(f,X,G,o||A>0&&w!==f.getLineFirstNonWhitespaceColumn(N.positionLineNumber),!0);G.resolveVariables(new Uet([m,new qet(v,A,E.length,e.getOption(70)==="spread"),new jet(f,N,A,u),new Get(f,N),new Rg,new Yet(p),new Zet]));const I=f.getOffsetAt(X)+b;b+=G.toString().length-f.getValueLengthInRange(M),c[A]=rs.replace(M,G.toString()),c[A].identifier={major:A,minor:0},h[A]=new od(e,G,I,$)}return{edits:c,snippets:h}}dispose(){ui(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=ug.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,n=>this._snippets[0].hasPlaceholder?this._move(!0):n.filter(r=>!!r.identifier).map(r=>xt.fromPositions(r.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=qae){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:n,snippets:r}=ug.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",n,s=>{for(const o of this._snippets)o.merge(r);return console.assert(r.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):s.filter(o=>!!o.identifier).map(o=>xt.fromPositions(o.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const n of this._snippets){const r=n.move(e);t.push(...r)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const n of this._snippets){const r=n.computePossibleSelections();if(t.size===0)for(const[s,o]of r){o.sort(Q.compareRangesUsingStarts);for(const a of e)if(o[0].containsRange(a)){t.set(s,[]);break}}if(t.size===0)return!1;t.forEach((s,o)=>{s.push(...r.get(o))})}e.sort(Q.compareRangesUsingStarts);for(let[n,r]of t){if(r.length!==e.length){t.delete(n);continue}r.sort(Q.compareRangesUsingStarts);for(let s=0;s<r.length;s++)if(!r[s].containsRange(e[s])){t.delete(n);continue}}return t.size>0}}var HO=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const qn={Visible:new It("suggestWidgetVisible",!1,C("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new It("suggestWidgetDetailsVisible",!1,C("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new It("suggestWidgetMultipleSuggestions",!1,C("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new It("suggestionMakesTextEdit",!0,C("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new It("acceptSuggestionOnEnter",!0,C("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new It("suggestionHasInsertAndReplaceRange",!1,C("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new It("suggestionInsertMode",void 0,{type:"string",description:C("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new It("suggestionCanResolve",!1,C("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},F1=new Ft("suggestWidgetStatusBar");class Xet{constructor(e,t,n,r){this.position=e,this.completion=t,this.container=n,this.provider=r,this.isInvalid=!1,this.score=Af.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),Q.isIRange(t.range)?(this.editStart=new Ee(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new Ee(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new Ee(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||Q.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new Ee(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new Ee(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new Ee(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||Q.spansMultipleLines(t.range.insert)||Q.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof r.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return HO(this,void 0,void 0,function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(n=>{Object.assign(this.completion,n),this._isResolved=!0,t.dispose()},n=>{lp(n)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class Y7{constructor(e=2,t=new Set,n=new Set,r=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=n,this.showDeprecated=r}}Y7.default=new Y7;let Qet;function Jet(){return Qet}class ett{constructor(e,t,n,r){this.items=e,this.needsClipboard=t,this.durations=n,this.disposable=r}}function v1e(i,e,t=Y7.default,n={triggerKind:0},r=$n.None){return HO(this,void 0,void 0,function*(){const s=new Ug(!0);e=e.clone();const o=i.getWordAtPosition(e),a=o?new Q(e.lineNumber,o.startColumn,e.lineNumber,o.endColumn):Q.fromPositions(e),u={replace:a,insert:a.setEndPosition(e.lineNumber,e.column)},c=[],h=new tt,f=[];let p=!1;const m=(b,S,x)=>{var w,E,N;if(S){for(let A of S.suggestions)if(!t.kindFilter.has(A.kind)){if(!t.showDeprecated&&(!((w=A==null?void 0:A.tags)===null||w===void 0)&&w.includes(1)))continue;A.range||(A.range=u),A.sortText||(A.sortText=typeof A.label=="string"?A.label:A.label.label),!p&&A.insertTextRules&&A.insertTextRules&4&&(p=KW.guessNeedsClipboard(A.insertText)),c.push(new Xet(e,A,S,b))}cX(S)&&h.add(S),f.push({providerName:(E=b._debugDisplayName)!==null&&E!==void 0?E:"unkown_provider",elapsedProvider:(N=S.duration)!==null&&N!==void 0?N:-1,elapsedOverall:x.elapsed()})}},v=(()=>HO(this,void 0,void 0,function*(){}))();for(let b of ff.orderedGroups(i)){let S=c.length;if(yield Promise.all(b.map(x=>HO(this,void 0,void 0,function*(){if(!(t.providerFilter.size>0&&!t.providerFilter.has(x)))try{const w=new Ug(!0),E=yield x.provideCompletionItems(i,e,n,r);m(x,E,w)}catch(w){Jo(w)}}))),S!==c.length||r.isCancellationRequested)break}return yield v,r.isCancellationRequested?(h.dispose(),Promise.reject(Hy())):new ett(c.sort(b1e(t.snippetSortOrder)),p,{entries:f,elapsed:s.elapsed()},h)})}function lee(i,e){if(i.sortTextLow&&e.sortTextLow){if(i.sortTextLow<e.sortTextLow)return-1;if(i.sortTextLow>e.sortTextLow)return 1}return i.completion.label<e.completion.label?-1:i.completion.label>e.completion.label?1:i.completion.kind-e.completion.kind}function ttt(i,e){if(i.completion.kind!==e.completion.kind){if(i.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return lee(i,e)}function ntt(i,e){if(i.completion.kind!==e.completion.kind){if(i.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return lee(i,e)}const qW=new Map;qW.set(0,ttt);qW.set(2,ntt);qW.set(1,lee);function b1e(i){return qW.get(i)}ni.registerCommand("_executeCompletionItemProvider",(i,...e)=>HO(void 0,void 0,void 0,function*(){const[t,n,r,s]=e;nr(an.isUri(t)),nr(Ee.isIPosition(n)),nr(typeof r=="string"||!r),nr(typeof s=="number"||!s);const o=yield i.get(wl).createModelReference(t);try{const a={incomplete:!1,suggestions:[]},u=[],c=yield v1e(o.object.textEditorModel,Ee.lift(n),void 0,{triggerCharacter:r,triggerKind:r?1:0});for(const h of c.items)u.length<(s??0)&&u.push(h.resolve($n.None)),a.incomplete=a.incomplete||h.container.incomplete,a.suggestions.push(h.completion);try{return yield Promise.all(u),a}finally{setTimeout(()=>c.disposable.dispose(),100)}}finally{o.dispose()}}));const zG=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}};ff.register("*",zG);function itt(i,e){setTimeout(()=>{zG.onlyOnceSuggestions.push(...e),i.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(zG))},0)}var rtt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Gae=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const Yae={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Qo=class nO{constructor(e,t,n){this._editor=e,this._logService=t,this._snippetListener=new tt,this._modelVersionId=-1,this._inSnippet=nO.InSnippetMode.bindTo(n),this._hasNextTabstop=nO.HasNextTabstop.bindTo(n),this._hasPrevTabstop=nO.HasPrevTabstop.bindTo(n)}static get(e){return e.getContribution(nO.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t>"u"?Yae:Object.assign(Object.assign({},Yae),t))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new ug(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(n=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:e}=this._session;if(!e){this._currentChoice=void 0;return}if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(n=>xt.fromPositions(n.getStartPosition())));const[t]=e.options;itt(this._editor,e.options.map((n,r)=>({kind:13,label:n.value,insertText:n.value,sortText:"a".repeat(r+1),range:Q.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};Qo.ID="snippetController2";Qo.InSnippetMode=new It("inSnippetMode",!1,C("inSnippetMode","Whether the editor in current in snippet mode"));Qo.HasNextTabstop=new It("hasNextTabstop",!1,C("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));Qo.HasPrevTabstop=new It("hasPrevTabstop",!1,C("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));Qo=rtt([Gae(1,cp),Gae(2,gn)],Qo);Ri(Qo.ID,Qo);const GW=ea.bindToContribution(Qo.get);rt(new GW({id:"jumpToNextSnippetPlaceholder",precondition:bt.and(Qo.InSnippetMode,Qo.HasNextTabstop),handler:i=>i.next(),kbOpts:{weight:100+30,kbExpr:he.editorTextFocus,primary:2}}));rt(new GW({id:"jumpToPrevSnippetPlaceholder",precondition:bt.and(Qo.InSnippetMode,Qo.HasPrevTabstop),handler:i=>i.prev(),kbOpts:{weight:100+30,kbExpr:he.editorTextFocus,primary:1026}}));rt(new GW({id:"leaveSnippet",precondition:Qo.InSnippetMode,handler:i=>i.cancel(!0),kbOpts:{weight:100+30,kbExpr:he.editorTextFocus,primary:9,secondary:[1033]}}));rt(new GW({id:"acceptSnippet",precondition:Qo.InSnippetMode,handler:i=>i.finish()}));var stt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Zae=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};class uee{constructor(e){this.name=e}select(e,t,n){if(n.length===0)return 0;let r=n[0].score[0];for(let s=0;s<n.length;s++){const{score:o,completion:a}=n[s];if(o[0]!==r)break;if(a.preselect)return s}return 0}}class C1e extends uee{constructor(){super("first")}memorize(e,t,n){}toJSON(){}fromJSON(){}}class ott extends uee{constructor(){super("recentlyUsed"),this._cache=new X1(300,.66),this._seq=0}memorize(e,t,n){const r=`${e.getLanguageId()}/${n.textLabel}`;this._cache.set(r,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(e,t,n){if(n.length===0)return 0;const r=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(r))return super.select(e,t,n);let s=n[0].score[0],o=-1,a=-1,u=-1;for(let c=0;c<n.length&&n[c].score[0]===s;c++){const h=`${e.getLanguageId()}/${n[c].textLabel}`,f=this._cache.peek(h);if(f&&f.touch>u&&f.type===n[c].completion.kind&&f.insertText===n[c].completion.insertText&&(u=f.touch,a=c),n[c].completion.preselect&&o===-1)return o=c}return a!==-1?a:o!==-1?o:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();let t=0;for(const[n,r]of e)r.touch=t,r.type=typeof r.type=="number"?r.type:Ipe(r.type),this._cache.set(n,r);this._seq=this._cache.size}}class att extends uee{constructor(){super("recentlyUsedByPrefix"),this._trie=zS.forStrings(),this._seq=0}memorize(e,t,n){const{word:r}=e.getWordUntilPosition(t),s=`${e.getLanguageId()}/${r}`;this._trie.set(s,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(e,t,n){let{word:r}=e.getWordUntilPosition(t);if(!r)return super.select(e,t,n);let s=`${e.getLanguageId()}/${r}`,o=this._trie.get(s);if(o||(o=this._trie.findSubstr(s)),o)for(let a=0;a<n.length;a++){let{kind:u,insertText:c}=n[a].completion;if(u===o.type&&c===o.insertText)return a}return super.select(e,t,n)}toJSON(){let e=[];return this._trie.forEach((t,n)=>e.push([n,t])),e.sort((t,n)=>-(t[1].touch-n[1].touch)).forEach((t,n)=>t[1].touch=n),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,n]of e)n.type=typeof n.type=="number"?n.type:Ipe(n.type),this._trie.set(t,n)}}}let pR=class g8{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new tt,this._persistSoon=new lr(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(n=>{n.reason===N7.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}select(e,t,n){return this._withStrategy(e,t).select(e,t,n)}_withStrategy(e,t){var n;const r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((n=this._strategy)===null||n===void 0?void 0:n.name)!==r){this._saveState();const s=g8._strategyCtors.get(r)||C1e;this._strategy=new s;try{const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,u=this._storageService.get(`${g8._storagePrefix}/${r}`,a);u&&this._strategy.fromJSON(JSON.parse(u))}catch{}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${g8._storagePrefix}/${this._strategy.name}`,n,t,1)}}};pR._strategyCtors=new Map([["recentlyUsedByPrefix",att],["recentlyUsed",ott],["first",C1e]]);pR._storagePrefix="suggest/memories";pR=stt([Zae(0,pp),Zae(1,cr)],pR);const y1e=Ci("ISuggestMemories");Q1(y1e,pR,!0);var ltt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},utt=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let mR=class w1e{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=w1e.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(n=>n.hasChanged(110)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(110)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const n=this._editor.getModel(),r=this._editor.getSelection(),s=n.getWordAtPosition(r.getStartPosition());if(!s){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(s.endColumn===r.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};mR.AtEnd=new It("atEndOfWord",!1);mR=ltt([utt(1,gn)],mR);var ctt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},dtt=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let my=class p8{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=p8.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},n){if(e.items.length===0){this.reset();return}if(p8._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=n,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,n){let r=n;for(;r=(r+t.items.length+(e?1:-1))%t.items.length,!(r===n||!t.items[r].completion.additionalTextEdits););return r}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(this._model)try{this._ignore=!0,this._index=p8._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};my.OtherSuggestions=new It("hasOtherSuggestions",!1);my=ctt([dtt(1,gn)],my);class htt{constructor(e,t,n){this._disposables=new tt,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(r=>{if(this._active&&!t.isFrozen()){const s=r.charCodeAt(r.length-1);this._active.acceptCharacters.has(s)&&e.getOption(0)&&n(this._active.item)}}))}_onItem(e){if(!e||!zl(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new aS;for(const n of e.item.completion.commitCharacters)n.length>0&&t.add(n.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var ftt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class Gu{provideSelectionRanges(e,t){return ftt(this,void 0,void 0,function*(){const n=[];for(const r of t){const s=[];n.push(s);const o=new Map;yield new Promise(a=>Gu._bracketsRightYield(a,0,e,r,o)),yield new Promise(a=>Gu._bracketsLeftYield(a,0,e,r,o,s))}return n})}static _bracketsRightYield(e,t,n,r,s){const o=new Map,a=Date.now();for(;;){if(t>=Gu._maxRounds){e();break}if(!r){e();break}let u=n.bracketPairs.findNextBracket(r);if(!u){e();break}if(Date.now()-a>Gu._maxDuration){setTimeout(()=>Gu._bracketsRightYield(e,t+1,n,r,s));break}const h=u.close[0];if(u.isOpen){let f=o.has(h)?o.get(h):0;o.set(h,f+1)}else{let f=o.has(h)?o.get(h):0;if(f-=1,o.set(h,Math.max(0,f)),f<0){let p=s.get(h);p||(p=new nc,s.set(h,p)),p.push(u.range)}}r=u.range.getEndPosition()}}static _bracketsLeftYield(e,t,n,r,s,o){const a=new Map,u=Date.now();for(;;){if(t>=Gu._maxRounds&&s.size===0){e();break}if(!r){e();break}let c=n.bracketPairs.findPrevBracket(r);if(!c){e();break}if(Date.now()-u>Gu._maxDuration){setTimeout(()=>Gu._bracketsLeftYield(e,t+1,n,r,s,o));break}const f=c.close[0];if(c.isOpen){let p=a.has(f)?a.get(f):0;if(p-=1,a.set(f,Math.max(0,p)),p<0){let m=s.get(f);if(m){let v=m.shift();m.size===0&&s.delete(f);const b=Q.fromPositions(c.range.getEndPosition(),v.getStartPosition()),S=Q.fromPositions(c.range.getStartPosition(),v.getEndPosition());o.push({range:b}),o.push({range:S}),Gu._addBracketLeading(n,S,o)}}}else{let p=a.has(f)?a.get(f):0;a.set(f,p+1)}r=c.range.getStartPosition()}}static _addBracketLeading(e,t,n){if(t.startLineNumber===t.endLineNumber)return;const r=t.startLineNumber,s=e.getLineFirstNonWhitespaceColumn(r);s!==0&&s!==t.startColumn&&(n.push({range:Q.fromPositions(new Ee(r,s),t.getEndPosition())}),n.push({range:Q.fromPositions(new Ee(r,1),t.getEndPosition())}));const o=r-1;if(o>0){const a=e.getLineFirstNonWhitespaceColumn(o);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(o)&&(n.push({range:Q.fromPositions(new Ee(o,a),t.getEndPosition())}),n.push({range:Q.fromPositions(new Ee(o,1),t.getEndPosition())}))}}}Gu._maxDuration=30;Gu._maxRounds=2;var gtt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class _g{static create(e,t){return gtt(this,void 0,void 0,function*(){if(!t.getOption(105).localityBonus||!t.hasModel())return _g.None;const n=t.getModel(),r=t.getPosition();if(!e.canComputeWordRanges(n.uri))return _g.None;const[s]=yield new Gu().provideSelectionRanges(n,[r]);if(s.length===0)return _g.None;const o=yield e.computeWordRanges(n.uri,s[0].range);if(!o)return _g.None;const a=n.getWordUntilPosition(r);return delete o[a.word],new class extends _g{distance(u,c){if(!r.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;let h=typeof c.label=="string"?c.label:c.label.label,f=o[h];if(xge(f))return 2<<20;let p=BX(f,Q.fromPositions(u),Q.compareRangesUsingStarts),m=p>=0?f[p]:f[Math.max(0,~p-1)],v=s.length;for(const b of s){if(!Q.containsRange(b.range,m))break;v-=1}return v}}})}}_g.None=new class extends _g{distance(){return 0}};class Bb{constructor(e,t,n,r,s,o,a){this.clipboardText=a,this._snippetCompareFn=Bb._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=r,this._options=s,this._refilterKind=1,this._lineContext=n,o==="top"?this._snippetCompareFn=Bb._compareCompletionItemsSnippetsUp:o==="bottom"&&(this._snippetCompareFn=Bb._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,n]of this._providerInfo)n&&e.add(t);return e}adopt(e){let t=[];for(let n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:n}=this._lineContext;let r="",s="";const o=this._refilterKind===1?this._items:this._filteredItems,a=[],u=!this._options.filterGraceful||o.length>2e3?Ox:lFe;for(let c=0;c<o.length;c++){const h=o[c];if(h.isInvalid)continue;this._providerInfo.set(h.provider,!!h.container.incomplete);const f=h.position.column-h.editStart.column,p=f+n-(h.position.column-this._column);if(r.length!==p&&(r=p===0?"":t.slice(-p),s=r.toLowerCase()),h.word=r,p===0)h.score=Af.Default;else{let m=0;for(;m<f;){const v=r.charCodeAt(m);if(v===32||v===9)m+=1;else break}if(m>=p)h.score=Af.Default;else if(typeof h.completion.filterText=="string"){let v=u(r,s,m,h.completion.filterText,h.filterTextLow,0,!1);if(!v)continue;Ij(h.completion.filterText,h.textLabel)===0?h.score=v:(h.score=rFe(r,s,m,h.textLabel,h.labelLow,0),h.score[0]=v[0])}else{let v=u(r,s,m,h.textLabel,h.labelLow,0,!1);if(!v)continue;h.score=v}}h.idx=c,h.distance=this._wordDistance.distance(h.position,h.completion),a.push(h),e.push(h.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?Nj(e.length-.85,e,(c,h)=>c-h):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Bb._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Bb._compareCompletionItems(e,t)}}var ptt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Tw=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},mtt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class Iw{constructor(e,t,n,r){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n,this.shy=r}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),n=e.getPosition();t.tokenizeIfCheap(n.lineNumber);const r=t.getWordAtPosition(n);return!(!r||r.endColumn!==n.column||!isNaN(Number(r.word)))}}function _tt(i,e,t){if(!e.getContextKeyValue("inlineSuggestionVisible"))return!0;const n=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return n!==void 0?!!n:!1}function vtt(i,e,t){if(!e.getContextKeyValue("inlineSuggestionVisible"))return!0;const n=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return n!==void 0?!!n:!1}let UG=class S1e{constructor(e,t,n,r,s,o,a){this._editor=e,this._editorWorkerService=t,this._clipboardService=n,this._telemetryService=r,this._logService=s,this._contextKeyService=o,this._configurationService=a,this._toDispose=new tt,this._quickSuggestDelay=10,this._triggerCharacterListener=new tt,this._triggerQuickSuggest=new el,this._state=0,this._completionDisposables=new tt,this._onDidCancel=new ye,this._onDidTrigger=new ye,this._onDidSuggest=new ye,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new xt(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(ff.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(c=>{this._onCursorChange(c)}));let u=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{u=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{u=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{u||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){ui(this._triggerCharacterListener),ui([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const e=new Map;for(const n of ff.all(this._editor.getModel()))for(const r of n.triggerCharacters||[]){let s=e.get(r);s||(s=new Set,s.add(Jet()),e.set(r,s)),s.add(n)}const t=n=>{if(!vtt(this._editor,this._contextKeyService,this._configurationService)||Iw.shouldAutoTrigger(this._editor))return;if(!n){const o=this._editor.getPosition();n=this._editor.getModel().getLineContent(o.lineNumber).substr(0,o.column-1)}let r="";yx(n.charCodeAt(n.length-1))?no(n.charCodeAt(n.length-2))&&(r=n.substr(n.length-2)):r=n.charAt(n.length-1);const s=e.get(r);if(s){const o=this._completionModel?{items:this._completionModel.adopt(s),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:r},!!this._completionModel,s,o)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(t))}get state(){return this._state}cancel(e=!1){var t;this._state!==0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!ff.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._state===0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){this._editor.getOption(78)!==!1&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&Qo.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!Iw.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=this._editor.getOption(78);if(n!==!1){if(n!==!0){e.tokenizeIfCheap(t.lineNumber);const r=e.getLineTokens(t.lineNumber),s=r.getStandardTokenType(r.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(!(n.other&&s===0||n.comments&&s===1||n.strings&&s===2))return}_tt(this._editor,this._contextKeyService,this._configurationService)&&ff.has(e)&&this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=new Iw(e,t,this._state===2,!1);this._onNewContext(n)})}trigger(e,t=!1,n,r){var s;if(!this._editor.hasModel())return;const o=this._editor.getModel(),a=e.auto,u=new Iw(o,this._editor.getPosition(),a,e.shy);this.cancel(t),this._state=a?2:1,this._onDidTrigger.fire({auto:a,shy:e.shy,position:this._editor.getPosition()}),this._context=u;let c={triggerKind:(s=e.triggerKind)!==null&&s!==void 0?s:0};e.triggerCharacter&&(c={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new Ea;const h=this._editor.getOption(100);let f=1;switch(h){case"top":f=0;break;case"bottom":f=2;break}const{itemKind:p,showDeprecated:m}=S1e._createSuggestFilter(this._editor),v=_g.create(this._editorWorkerService,this._editor),b=v1e(o,this._editor.getPosition(),new Y7(f,p,n,m),c,this._requestToken.token);Promise.all([b,v]).then(([S,x])=>mtt(this,void 0,void 0,function*(){var w;if((w=this._requestToken)===null||w===void 0||w.dispose(),!this._editor.hasModel())return;let E=r==null?void 0:r.clipboardText;if(!E&&S.needsClipboard&&(E=yield this._clipboardService.readText()),this._state===0)return;const N=this._editor.getModel();let A=S.items;if(r){const R=b1e(f);A=A.concat(r.items).sort(R)}const H=new Iw(N,this._editor.getPosition(),a,e.shy);this._completionModel=new Bb(A,this._context.column,{leadingLineContent:H.leadingLineContent,characterCountDelta:H.column-this._context.column},x,this._editor.getOption(105),this._editor.getOption(100),E),this._completionDisposables.add(S.disposable),this._onNewContext(H),this._reportDurationsTelemetry(S.durations)})).catch(vn)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;e.getOption(100)==="none"&&t.add(27);const r=e.getOption(105);return r.showMethods||t.add(0),r.showFunctions||t.add(1),r.showConstructors||t.add(2),r.showFields||t.add(3),r.showVariables||t.add(4),r.showClasses||t.add(5),r.showStructs||t.add(6),r.showInterfaces||t.add(7),r.showModules||t.add(8),r.showProperties||t.add(9),r.showEvents||t.add(10),r.showOperators||t.add(11),r.showUnits||t.add(12),r.showValues||t.add(13),r.showConstants||t.add(14),r.showEnums||t.add(15),r.showEnumMembers||t.add(16),r.showKeywords||t.add(17),r.showWords||t.add(18),r.showColors||t.add(19),r.showFiles||t.add(20),r.showReferences||t.add(21),r.showColors||t.add(22),r.showFolders||t.add(23),r.showTypeParameters||t.add(24),r.showSnippets||t.add(27),r.showUsers||t.add(25),r.showIssues||t.add(26),{itemKind:t,showDeprecated:r.showDeprecated}}_onNewContext(e){if(this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(Xi(e.leadingLineContent)!==Xi(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const t=new Set(ff.all(this._editor.getModel()));for(let r of this._completionModel.allProvider)t.delete(r);const n=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,t,{items:n,clipboardText:this._completionModel.clipboardText});return}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){const{incomplete:t}=this._completionModel,n=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,t,{items:n,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(Iw.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=t,n=this._completionModel.items.length>0,n&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}}}};UG=ptt([Tw(1,fc),Tw(2,eb),Tw(3,up),Tw(4,cp),Tw(5,gn),Tw(6,cr)],UG);class YW{constructor(e,t){this._disposables=new tt,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;const n=e.getSelections(),r=n.length;let s=!1;for(let a=0;a<r;a++)if(!n[a].isEmpty()){s=!0;break}if(!s)return;this._lastOvertyped=[];const o=e.getModel();for(let a=0;a<r;a++){const u=n[a];if(o.getValueLengthInRange(u)>YW._maxSelectionLength)return;this._lastOvertyped[a]={value:o.getValueInRange(u),multiline:u.startLineNumber!==u.endLineNumber}}this._empty=!1})),this._disposables.add(t.onDidCancel(n=>{!this._empty&&!n.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}YW._maxSelectionLength=51200;var btt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},gz=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};class cee extends Wx{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=C("ddd","{0} ({1})",this._action.label,cee.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"")}}let jG=class{constructor(e,t,n,r){this._menuService=n,this._contextKeyService=r,this._menuDisposables=new tt,this.element=We(e,Ye(".suggest-status-bar"));const s=o=>o instanceof E1?t.createInstance(cee,o,void 0):void 0;this._leftActions=new Zg(this.element,{actionViewItemProvider:s}),this._rightActions=new Zg(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(F1,this._contextKeyService),t=()=>{const n=[],r=[];for(let[s,o]of e.getActions())s==="left"?n.push(...o):r.push(...o);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(r)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};jG=btt([gz(1,Rn),gz(2,Uy),gz(3,gn)],jG);const Ctt=we("symbolIcon.arrayForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ytt=we("symbolIcon.booleanForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wtt=we("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},C("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Stt=we("symbolIcon.colorForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xtt=we("symbolIcon.constantForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ett=we("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},C("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ltt=we("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},C("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dtt=we("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},C("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ttt=we("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},C("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Itt=we("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},C("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ktt=we("symbolIcon.fileForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ntt=we("symbolIcon.folderForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Att=we("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},C("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ott=we("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},C("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mtt=we("symbolIcon.keyForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Rtt=we("symbolIcon.keywordForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ptt=we("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},C("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ftt=we("symbolIcon.moduleForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Btt=we("symbolIcon.namespaceForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Wtt=we("symbolIcon.nullForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vtt=we("symbolIcon.numberForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Htt=we("symbolIcon.objectForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$tt=we("symbolIcon.operatorForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ztt=we("symbolIcon.packageForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Utt=we("symbolIcon.propertyForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jtt=we("symbolIcon.referenceForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ktt=we("symbolIcon.snippetForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qtt=we("symbolIcon.stringForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Gtt=we("symbolIcon.structForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ytt=we("symbolIcon.textForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ztt=we("symbolIcon.typeParameterForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xtt=we("symbolIcon.unitForeground",{dark:Kt,light:Kt,hc:Kt},C("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qtt=we("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},C("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Cr((i,e)=>{const t=i.getColor(Ctt);t&&e.addRule(`${ve.symbolArray.cssSelector} { color: ${t}; }`);const n=i.getColor(ytt);n&&e.addRule(`${ve.symbolBoolean.cssSelector} { color: ${n}; }`);const r=i.getColor(wtt);r&&e.addRule(`${ve.symbolClass.cssSelector} { color: ${r}; }`);const s=i.getColor(Ptt);s&&e.addRule(`${ve.symbolMethod.cssSelector} { color: ${s}; }`);const o=i.getColor(Stt);o&&e.addRule(`${ve.symbolColor.cssSelector} { color: ${o}; }`);const a=i.getColor(xtt);a&&e.addRule(`${ve.symbolConstant.cssSelector} { color: ${a}; }`);const u=i.getColor(Ett);u&&e.addRule(`${ve.symbolConstructor.cssSelector} { color: ${u}; }`);const c=i.getColor(Ltt);c&&e.addRule(`
			${ve.symbolValue.cssSelector},${ve.symbolEnum.cssSelector} { color: ${c}; }`);const h=i.getColor(Dtt);h&&e.addRule(`${ve.symbolEnumMember.cssSelector} { color: ${h}; }`);const f=i.getColor(Ttt);f&&e.addRule(`${ve.symbolEvent.cssSelector} { color: ${f}; }`);const p=i.getColor(Itt);p&&e.addRule(`${ve.symbolField.cssSelector} { color: ${p}; }`);const m=i.getColor(ktt);m&&e.addRule(`${ve.symbolFile.cssSelector} { color: ${m}; }`);const v=i.getColor(Ntt);v&&e.addRule(`${ve.symbolFolder.cssSelector} { color: ${v}; }`);const b=i.getColor(Att);b&&e.addRule(`${ve.symbolFunction.cssSelector} { color: ${b}; }`);const S=i.getColor(Ott);S&&e.addRule(`${ve.symbolInterface.cssSelector} { color: ${S}; }`);const x=i.getColor(Mtt);x&&e.addRule(`${ve.symbolKey.cssSelector} { color: ${x}; }`);const w=i.getColor(Rtt);w&&e.addRule(`${ve.symbolKeyword.cssSelector} { color: ${w}; }`);const E=i.getColor(Ftt);E&&e.addRule(`${ve.symbolModule.cssSelector} { color: ${E}; }`);const N=i.getColor(Btt);N&&e.addRule(`${ve.symbolNamespace.cssSelector} { color: ${N}; }`);const A=i.getColor(Wtt);A&&e.addRule(`${ve.symbolNull.cssSelector} { color: ${A}; }`);const H=i.getColor(Vtt);H&&e.addRule(`${ve.symbolNumber.cssSelector} { color: ${H}; }`);const R=i.getColor(Htt);R&&e.addRule(`${ve.symbolObject.cssSelector} { color: ${R}; }`);const M=i.getColor($tt);M&&e.addRule(`${ve.symbolOperator.cssSelector} { color: ${M}; }`);const G=i.getColor(ztt);G&&e.addRule(`${ve.symbolPackage.cssSelector} { color: ${G}; }`);const X=i.getColor(Utt);X&&e.addRule(`${ve.symbolProperty.cssSelector} { color: ${X}; }`);const $=i.getColor(jtt);$&&e.addRule(`${ve.symbolReference.cssSelector} { color: ${$}; }`);const I=i.getColor(Ktt);I&&e.addRule(`${ve.symbolSnippet.cssSelector} { color: ${I}; }`);const O=i.getColor(qtt);O&&e.addRule(`${ve.symbolString.cssSelector} { color: ${O}; }`);const B=i.getColor(Gtt);B&&e.addRule(`${ve.symbolStruct.cssSelector} { color: ${B}; }`);const W=i.getColor(Ytt);W&&e.addRule(`${ve.symbolText.cssSelector} { color: ${W}; }`);const j=i.getColor(Ztt);j&&e.addRule(`${ve.symbolTypeParameter.cssSelector} { color: ${j}; }`);const U=i.getColor(Xtt);U&&e.addRule(`${ve.symbolUnit.cssSelector} { color: ${U}; }`);const K=i.getColor(Qtt);K&&e.addRule(`${ve.symbolVariable.cssSelector} { color: ${K}; }`)});class x1e{constructor(){this._onDidWillResize=new ye,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new ye,this.onDidResize=this._onDidResize.event,this._sashListener=new tt,this._size=new vr(0,0),this._minSize=new vr(0,0),this._maxSize=new vr(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new oa(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new oa(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new oa(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:c7.North}),this._southSash=new oa(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:c7.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,n=0;this._sashListener.add(Bt.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,n=0)})),this._sashListener.add(Bt.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(r=>{e&&(n=r.currentX-r.startX,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(r=>{e&&(n=-(r.currentX-r.startX),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(r=>{e&&(t=-(r.currentY-r.startY),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(r=>{e&&(t=r.currentY-r.startY,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(Bt.any(this._eastSash.onDidReset,this._westSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(Bt.any(this._northSash.onDidReset,this._southSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,n,r){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=n?3:0,this._westSash.state=r?3:0}layout(e=this.size.height,t=this.size.width){const{height:n,width:r}=this._minSize,{height:s,width:o}=this._maxSize;e=Math.max(n,Math.min(s,e)),t=Math.max(r,Math.min(o,t));const a=new vr(t,e);vr.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}var Jtt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ent=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};function dee(i){return!!i&&!!(i.completion.documentation||i.completion.detail&&i.completion.detail!==i.completion.label)}let KG=class{constructor(e,t){this._editor=e,this._onDidClose=new ye,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new ye,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new tt,this._renderDisposeable=new tt,this._borderWidth=1,this._size=new vr(330,0),this.domNode=Ye(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Nm,{editor:e}),this._body=Ye(".body"),this._scrollbar=new JP(this._body,{}),We(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=We(this._body,Ye(".header")),this._close=We(this._header,Ye("span"+ve.close.cssSelector)),this._close.title=C("details.close","Close"),this._type=We(this._header,Ye("p.type")),this._docs=We(this._body,Ye("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(43),n=t.getMassagedFontFamily(Cd?da.fontFamily:null),r=e.get(106)||t.fontSize,s=e.get(107)||t.lineHeight,o=t.fontWeight,a=`${r}px`,u=`${s}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${s/r}`,this.domNode.style.fontWeight=o,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=u,this._close.style.width=u}getLayoutInfo(){const e=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,t=this._borderWidth,n=t*2;return{lineHeight:e,borderWidth:t,borderHeight:n,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=C("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var n,r;this._renderDisposeable.clear();let{detail:s,documentation:o}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${(n=e.word)!==null&&n!==void 0?n:"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(r=e.completion.commitCharacters)===null||r===void 0?void 0:r.join("")}
`,o=new Tm().appendCodeblock("empty",a),s=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!dee(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),s){const a=s.length>1e5?`${s.substr(0,1e5)}`:s;this._type.textContent=a,this._type.title=a,Xu(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else ro(this._type),this._type.title="",gl(this._type),this.domNode.classList.add("no-type");if(ro(this._docs),typeof o=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=o;else if(o){this._docs.classList.add("markdown-docs"),ro(this._docs);const a=this._markdownRenderer.render(o);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const n=new vr(e,t);vr.equals(n,this._size)||(this._size=n,xIe(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};KG=Jtt([ent(1,Rn)],KG);class tnt{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new tt,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new x1e,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let n,r,s=0,o=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,r=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(n&&r){this.widget.layout(a.dimension.width,a.dimension.height);let u=!1;a.west&&(o=r.width-a.dimension.width,u=!0),a.north&&(s=r.height-a.dimension.height,u=!0),u&&this._applyTopLeft({top:n.top+s,left:n.left+o})}a.done&&(n=void 0,r=void 0,s=0,o=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var a;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var n;const r=e.getBoundingClientRect();this._anchorBox=r,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size,t)}_placeAtAnchor(e,t,n){var r;const s=aB(document.body),o=this.widget.getLayoutInfo(),a=new vr(220,2*o.lineHeight),u=e.top,c=function(){const E=s.width-(e.left+e.width+o.borderWidth+o.horizontalPadding),N=-o.borderWidth+e.left+e.width,A=new vr(E,s.height-e.top-o.borderHeight-o.verticalPadding),H=A.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:u,left:N,fit:E-t.width,maxSizeTop:A,maxSizeBottom:H,minSize:a.with(Math.min(E,a.width))}}(),h=function(){const E=e.left-o.borderWidth-o.horizontalPadding,N=Math.max(o.horizontalPadding,e.left-t.width-o.borderWidth),A=new vr(E,s.height-e.top-o.borderHeight-o.verticalPadding),H=A.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:u,left:N,fit:E-t.width,maxSizeTop:A,maxSizeBottom:H,minSize:a.with(Math.min(E,a.width))}}(),f=function(){const E=e.left,N=-o.borderWidth+e.top+e.height,A=new vr(e.width-o.borderHeight,s.height-e.top-e.height-o.verticalPadding);return{top:N,left:E,fit:A.height-t.height,maxSizeBottom:A,maxSizeTop:A,minSize:a.with(A.width)}}(),p=[c,h,f],m=(r=p.find(E=>E.fit>=0))!==null&&r!==void 0?r:p.sort((E,N)=>N.fit-E.fit)[0],v=e.top+e.height-o.borderHeight;let b,S=t.height;const x=Math.max(m.maxSizeTop.height,m.maxSizeBottom.height);S>x&&(S=x);let w;n?S<=m.maxSizeTop.height?(b=!0,w=m.maxSizeTop):(b=!1,w=m.maxSizeBottom):S<=m.maxSizeBottom.height?(b=!1,w=m.maxSizeBottom):(b=!0,w=m.maxSizeTop),this._applyTopLeft({left:m.left,top:b?m.top:v-S}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!b,m===c,b,m!==c),this._resizable.minSize=m.minSize,this._resizable.maxSize=w,this._resizable.layout(S,Math.min(w.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var rm;(function(i){i[i.FILE=0]="FILE",i[i.FOLDER=1]="FOLDER",i[i.ROOT_FOLDER=2]="ROOT_FOLDER"})(rm||(rm={}));function n6(i,e,t,n){const r=n===rm.ROOT_FOLDER?["rootfolder-icon"]:n===rm.FOLDER?["folder-icon"]:["file-icon"];if(t){let s;if(t.scheme===On.data?s=D1.parseMetaData(t).get(D1.META_DATA_LABEL):s=Xae(mpe(t).toLowerCase()),n===rm.FOLDER)r.push(`${s}-name-folder-icon`);else{if(s){if(r.push(`${s}-name-file-icon`),s.length<=255){const a=s.split(".");for(let u=1;u<a.length;u++)r.push(`${a.slice(u).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}const o=nnt(i,e,t);o&&r.push(`${Xae(o)}-lang-file-icon`)}}return r}function nnt(i,e,t){if(!t)return null;let n=null;if(t.scheme===On.data){const s=D1.parseMetaData(t).get(D1.META_DATA_MIME);s&&(n=e.getModeId(s))}else{const r=i.getModel(t);r&&(n=r.getLanguageId())}return n&&n!==ME?n:e.getModeIdByFilepathOrFirstLine(t)}function Xae(i){return i.replace(/[\11\12\14\15\40]/g,"/")}var int=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},pz=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},IA;function E1e(i){return`suggest-aria-id:${i}`}const rnt=To("suggest-more-info",ve.chevronRight,C("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),snt=new(IA=class m8{extract(e,t){if(e.textLabel.match(m8._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(m8._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){const n=m8._regexRelaxed.exec(e.completion.documentation);if(n&&(n.index===0||n.index+n[0].length===e.completion.documentation.length))return t[0]=n[0],!0}return!1}},IA._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,IA._regexStrict=new RegExp(`^${IA._regexRelaxed.source}$`,"i"),IA);let qG=class{constructor(e,t,n,r){this._editor=e,this._modelService=t,this._modeService=n,this._themeService=r,this._onDidToggleDetails=new ye,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new tt,t.root=e,t.root.classList.add("show-file-icons"),t.icon=We(e,Ye(".icon")),t.colorspan=We(t.icon,Ye("span.colorspan"));const n=We(e,Ye(".contents")),r=We(n,Ye(".main"));t.iconContainer=We(r,Ye(".icon-label.codicon")),t.left=We(r,Ye("span.left")),t.right=We(r,Ye("span.right")),t.iconLabel=new O7(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=We(t.left,Ye("span.signature-label")),t.qualifierLabel=We(t.left,Ye("span.qualifier-label")),t.detailsLabel=We(t.right,Ye("span.details-label")),t.readMore=We(t.right,Ye("span.readMore"+Sr.asCSSSelector(rnt))),t.readMore.title=C("readMore","Read More");const s=()=>{const o=this._editor.getOptions(),a=o.get(43),u=a.getMassagedFontFamily(Cd?da.fontFamily:null),c=a.fontFeatureSettings,h=o.get(106)||a.fontSize,f=o.get(107)||a.lineHeight,p=a.fontWeight,m=`${h}px`,v=`${f}px`;t.root.style.fontSize=m,t.root.style.fontWeight=p,r.style.fontFamily=u,r.style.fontFeatureSettings=c,r.style.lineHeight=v,t.icon.style.height=v,t.icon.style.width=v,t.readMore.style.height=v,t.readMore.style.width=v};return s(),t.disposables.add(this._editor.onDidChangeConfiguration(o=>{(o.hasChanged(43)||o.hasChanged(106)||o.hasChanged(107))&&s()})),t}renderElement(e,t,n){const{completion:r}=e;n.root.id=E1e(t),n.colorspan.style.backgroundColor="";const s={labelEscapeNewLines:!0,matches:nW(e.score)};let o=[];if(r.kind===19&&snt.extract(e,o))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=o[0];else if(r.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const a=n6(this._modelService,this._modeService,an.from({scheme:"fake",path:e.textLabel}),rm.FILE),u=n6(this._modelService,this._modeService,an.from({scheme:"fake",path:r.detail}),rm.FILE);s.extraClasses=a.length>u.length?a:u}else r.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",s.extraClasses=Ege([n6(this._modelService,this._modeService,an.from({scheme:"fake",path:e.textLabel}),rm.FOLDER),n6(this._modelService,this._modeService,an.from({scheme:"fake",path:r.detail}),rm.FOLDER)])):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...oRe(r.kind).split(" ")));r.tags&&r.tags.indexOf(1)>=0&&(s.extraClasses=(s.extraClasses||[]).concat(["deprecated"]),s.matches=[]),n.iconLabel.setLabel(e.textLabel,void 0,s),typeof r.label=="string"?(n.parametersLabel.textContent="",n.detailsLabel.textContent=mz(r.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=mz(r.label.detail||""),n.detailsLabel.textContent=mz(r.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?Xu(n.detailsLabel):gl(n.detailsLabel),dee(e)?(n.right.classList.add("can-expand-details"),Xu(n.readMore),n.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},n.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),gl(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};qG=int([pz(1,$s),pz(2,ta),pz(3,Rr)],qG);function mz(i){return i.replace(/\r\n|\r|\n/g,"")}var ont=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},i6=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},ant=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const lnt=we("editorSuggestWidget.selectedBackground",{dark:U6,light:U6,hc:U6},C("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));class unt{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof gy}`}restore(){var e;const t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{const n=JSON.parse(t);if(vr.is(n))return vr.lift(n)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let _R=class GG{constructor(e,t,n,r,s){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new el,this._disposables=new tt,this._onDidSelect=new ye,this._onDidFocus=new ye,this._onDidHide=new ye,this._onDidShow=new ye,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new ye,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new x1e,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new cnt(this,e),this._persistedSize=new unt(t,e);class o{constructor(m,v,b=!1,S=!1){this.persistedSize=m,this.currentSize=v,this.persistHeight=b,this.persistWidth=S}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new o(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(p=>{var m,v,b,S;if(this._resize(p.dimension.width,p.dimension.height),a&&(a.persistHeight=a.persistHeight||!!p.north||!!p.south,a.persistWidth=a.persistWidth||!!p.east||!!p.west),!!p.done){if(a){const{itemHeight:x,defaultSize:w}=this.getLayoutInfo(),E=Math.round(x/2);let{width:N,height:A}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-A)<=E)&&(A=(v=(m=a.persistedSize)===null||m===void 0?void 0:m.height)!==null&&v!==void 0?v:w.height),(!a.persistWidth||Math.abs(a.currentSize.width-N)<=E)&&(N=(S=(b=a.persistedSize)===null||b===void 0?void 0:b.width)!==null&&S!==void 0?S:w.width),this._persistedSize.store(new vr(N,A))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=We(this.element.domNode,Ye(".message")),this._listElement=We(this.element.domNode,Ye(".tree"));const u=s.createInstance(KG,this.editor);u.onDidClose(this.toggleDetails,this,this._disposables),this._details=new tnt(u,this.editor);const c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);c();const h=s.createInstance(qG,this.editor);this._disposables.add(h),this._disposables.add(h.onDidToggleDetails(()=>this.toggleDetails())),this._list=new fp("SuggestWidget",this._listElement,{getHeight:p=>this.getLayoutInfo().itemHeight,getTemplateId:p=>"suggestion"},[h],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:p=>{if(p.isResolved&&this._isDetailsVisible()){const{documentation:m,detail:v}=p.completion,b=Dc("{0}{1}",v||"",m?typeof m=="string"?m:m.value:"");return C("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",p.textLabel,b)}else return p.textLabel},getWidgetAriaLabel:()=>C("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=s.createInstance(jG,this.element.domNode);const f=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);f(),this._disposables.add(sy(this._list,r,{listInactiveFocusBackground:lnt,listInactiveFocusOutline:Sl})),this._disposables.add(r.onDidColorThemeChange(p=>this._onThemeChange(p))),this._onThemeChange(r.getColorTheme()),this._disposables.add(this._list.onMouseDown(p=>this._onListMouseDownOrTap(p))),this._disposables.add(this._list.onTap(p=>this._onListMouseDownOrTap(p))),this._disposables.add(this._list.onDidChangeSelection(p=>this._onListSelection(p))),this._disposables.add(this._list.onDidChangeFocus(p=>this._onListFocus(p))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(p=>{p.hasChanged(105)&&(f(),c())})),this._ctxSuggestWidgetVisible=qn.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=qn.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=qn.MultipleSuggestions.bindTo(n),this._disposables.add(vo(this._details.widget.domNode,"keydown",p=>{this._onDetailsKeydown.fire(p)})),this._disposables.add(this.editor.onMouseDown(p=>this._onEditorMouseDown(p)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element>"u"||typeof e.index>"u"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=e.type==="hc"?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const n=e.elements[0],r=e.indexes[0];n!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(r),this._currentSuggestionDetails=Do(s=>ant(this,void 0,void 0,function*(){const o=zC(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);s.onCancellationRequested(()=>o.dispose());const a=yield n.resolve(s);return o.dispose(),a})),this._currentSuggestionDetails.then(()=>{r>=this._list.length||n!==this._list.element(r)||(this._ignoreFocusEvents=!0,this._list.splice(r,1,[n]),this._list.setFocus([r]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:E1e(r)}))}).catch(vn)),this._onDidFocus.fire({item:n,index:r,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:gl(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=GG.LOADING_MESSAGE,gl(this._listElement,this._status.element),Xu(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=GG.NO_SUGGESTIONS_MESSAGE,gl(this._listElement,this._status.element),Xu(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:gl(this._messageElement),Xu(this._listElement,this._status.element),this._show();break;case 4:gl(this._messageElement),Xu(this._listElement,this._status.element),this._show();break;case 5:gl(this._messageElement),Xu(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=zC(()=>this._setState(1),t)))}showSuggestions(e,t,n,r){var s,o;if(this._contentWidget.setPosition(this.editor.getPosition()),(s=this._loadingTimeout)===null||s===void 0||s.dispose(),(o=this._currentSuggestionDetails)===null||o===void 0||o.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&this._state!==2&&this._state!==0){this._setState(4);return}const a=this._completionModel.items.length,u=a===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),u){this._setState(r?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(dee(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),n=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<n&&this._persistedSize.store(t.with(void 0,n))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,n,r;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const s=aB(document.body),o=this.getLayoutInfo();e||(e=o.defaultSize);let a=e.height,u=e.width;if(this._status.element.style.lineHeight=`${o.itemHeight}px`,this._state===2||this._state===1)a=o.itemHeight+o.borderHeight,u=o.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new vr(u,a),this._contentWidget.setPreference(2);else{const c=s.width-o.borderHeight-2*o.horizontalPadding;u>c&&(u=c);const h=this._completionModel?this._completionModel.stats.pLabelLen*o.typicalHalfwidthCharacterWidth:u,f=o.statusBarHeight+this._list.contentHeight+o.borderHeight,p=o.itemHeight+o.statusBarHeight,m=ca(this.editor.getDomNode()),v=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),b=m.top+v.top+v.height,S=Math.min(s.height-b-o.verticalPadding,f),x=m.top+v.top-o.verticalPadding,w=Math.min(x,f);let E=Math.min(Math.max(w,S)+o.borderHeight,f);a===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<p&&(a=p),a>E&&(a=E);const N=150;a>S||this._forceRenderingAbove&&x>N?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),E=w):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),E=S),this.element.preferredSize=new vr(h,o.defaultSize.height),this.element.maxSize=new vr(c,E),this.element.minSize=new vr(220,p),this._cappedHeight=a===f?{wanted:(r=(n=this._cappedHeight)===null||n===void 0?void 0:n.wanted)!==null&&r!==void 0?r:e.height,capped:a}:void 0}this._resize(u,a)}_resize(e,t){const{width:n,height:r}=this.element.maxSize;e=Math.min(n,e),t=Math.min(r,t);const{statusBarHeight:s}=this.getLayoutInfo();this._list.layout(t-s,e),this._listElement.style.height=`${t-s}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(43),t=ad(this.editor.getOption(107)||e.lineHeight,8,1e3),n=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:t,r=this._details.widget.borderWidth,s=2*r;return{itemHeight:t,statusBarHeight:n,borderWidth:r,borderHeight:s,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new vr(430,n+12*t+s)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};_R.LOADING_MESSAGE=C("suggestWidget.loading","Loading...");_R.NO_SUGGESTIONS_MESSAGE=C("suggestWidget.noSuggestions","No suggestions.");_R=ont([i6(1,pp),i6(2,gn),i6(3,Rr),i6(4,Rn)],_R);class cnt{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:n,horizontalPadding:r}=this._widget.getLayoutInfo();return new vr(t+2*n+r,e+2*n)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var dnt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},kw=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};class hnt{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const r=e.getOffsetAt(t),s=e.getPositionAt(r+1);this._marker=e.deltaDecorations([],[{range:Q.fromPositions(t,s),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let wd=class L1e{constructor(e,t,n,r,s,o,a){this._memoryService=t,this._commandService=n,this._contextKeyService=r,this._instantiationService=s,this._logService=o,this._telemetryService=a,this._lineSuffix=new Ja,this._toDispose=new tt,this._selectors=new fnt(f=>f.priority),this._telemetryGate=0,this.editor=e,this.model=s.createInstance(UG,this.editor);const u=qn.InsertMode.bindTo(r);u.set(e.getOption(105).insertMode),this.model.onDidTrigger(()=>u.set(e.getOption(105).insertMode)),this.widget=this._toDispose.add(new kS(()=>{const f=this._instantiationService.createInstance(_R,this.editor);this._toDispose.add(f),this._toDispose.add(f.onDidSelect(S=>this._insertSuggestion(S,0),this));const p=new htt(this.editor,f,S=>this._insertSuggestion(S,2));this._toDispose.add(p),this._toDispose.add(this.model.onDidSuggest(S=>{S.completionModel.items.length===0&&p.reset()}));const m=qn.MakesTextEdit.bindTo(this._contextKeyService),v=qn.HasInsertAndReplaceRange.bindTo(this._contextKeyService),b=qn.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(Yn(()=>{m.reset(),v.reset(),b.reset()})),this._toDispose.add(f.onDidFocus(({item:S})=>{const x=this.editor.getPosition(),w=S.editStart.column,E=x.column;let N=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!S.completion.additionalTextEdits&&!(S.completion.insertTextRules&4)&&E-w===S.completion.insertText.length&&(N=this.editor.getModel().getValueInRange({startLineNumber:x.lineNumber,startColumn:w,endLineNumber:x.lineNumber,endColumn:E})!==S.completion.insertText),m.set(N),v.set(!Ee.equals(S.editInsertEnd,S.editReplaceEnd)),b.set(!!S.provider.resolveCompletionItem||!!S.completion.documentation||S.completion.detail!==S.completion.label)})),this._toDispose.add(f.onDetailsKeyDown(S=>{if(S.toKeybinding().equals(new $C(!0,!1,!1,!1,33))||Xn&&S.toKeybinding().equals(new $C(!1,!1,!1,!0,33))){S.stopPropagation();return}S.toKeybinding().isModifierKey()||this.editor.focus()})),f})),this._overtypingCapturer=this._toDispose.add(new kS(()=>this._toDispose.add(new YW(this.editor,this.model)))),this._alternatives=this._toDispose.add(new kS(()=>this._toDispose.add(new my(this.editor,this._contextKeyService)))),this._toDispose.add(s.createInstance(mR,e)),this._toDispose.add(this.model.onDidTrigger(f=>{this.widget.value.showTriggered(f.auto,f.shy?250:50),this._lineSuffix.value=new hnt(this.editor.getModel(),f.position)})),this._toDispose.add(this.model.onDidSuggest(f=>{if(!f.shy){let p=-1;for(const m of this._selectors.itemsOrderedByPriorityDesc)if(p=m.select(this.editor.getModel(),this.editor.getPosition(),f.completionModel.items),p!==-1)break;p===-1&&(p=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),f.completionModel.items)),this.widget.value.showSuggestions(f.completionModel,p,f.isFrozen,f.auto)}})),this._toDispose.add(this.model.onDidCancel(f=>{f.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let c=qn.AcceptSuggestionsOnEnter.bindTo(r),h=()=>{const f=this.editor.getOption(1);c.set(f==="on"||f==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>h())),h()}static get(e){return e.getContribution(L1e.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const n=this.editor.getModel(),r=n.getAlternativeVersionId(),{item:s}=e,o=[],a=new Ea;t&1||this.editor.pushUndoStop();const u=this.getOverwriteInfo(s,!!(t&8));if(this._memoryService.memorize(n,this.editor.getPosition(),s),Array.isArray(s.completion.additionalTextEdits)){const h=k1.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map(f=>rs.replace(Q.lift(f.range),f.text))),h.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!s.isResolved){const h=new Ug(!0);let f;const p=n.onDidChangeContent(S=>{if(S.isFlush){a.cancel(),p.dispose();return}for(let x of S.changes){const w=Q.getEndPosition(x.range);(!f||Ee.isBefore(w,f))&&(f=w)}});let m=t;t|=2;let v=!1,b=this.editor.onWillType(()=>{b.dispose(),v=!0,m&2||this.editor.pushUndoStop()});o.push(s.resolve(a.token).then(()=>{if(!s.completion.additionalTextEdits||a.token.isCancellationRequested||f&&s.completion.additionalTextEdits.some(x=>Ee.isBefore(f,Q.getStartPosition(x.range))))return!1;v&&this.editor.pushUndoStop();const S=k1.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map(x=>rs.replace(Q.lift(x.range),x.text))),S.restoreRelativeVerticalPositionOfCursor(this.editor),(v||!(m&2))&&this.editor.pushUndoStop(),!0}).then(S=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",h.elapsed(),S),p.dispose(),b.dispose()}))}let{insertText:c}=s.completion;s.completion.insertTextRules&4||(c=KW.escape(c)),Qo.get(this.editor).insert(c,{overwriteBefore:u.overwriteBefore,overwriteAfter:u.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(s.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),s.completion.command?s.completion.command.id===x3.id?this.model.trigger({auto:!0,shy:!1},!0):(o.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(vn)),this.model.cancel()):this.model.cancel(),t&4&&this._alternatives.value.set(e,h=>{for(a.cancel();n.canUndo();){r!==n.getAlternativeVersionId()&&n.undo(),this._insertSuggestion(h,3|(t&8?8:0));break}}),this._alertCompletionItem(s),Promise.all(o).finally(()=>{this._reportSuggestionAcceptedTelemetry(n,e),this.model.clear(),a.dispose()})}_reportSuggestionAcceptedTelemetry(e,t){var n;if(this._telemetryGate++%100!==0)return;const r=((n=t.item.provider._debugDisplayName)!==null&&n!==void 0?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:r,basenameHash:Spe(Vc(e.uri)).toString(16),languageId:e.getLanguageId(),fileExtension:tMe(e.uri)})}getOverwriteInfo(e,t){nr(this.editor.hasModel());let n=this.editor.getOption(105).insertMode==="replace";t&&(n=!n);const r=e.position.column-e.editStart.column,s=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,o=this.editor.getPosition().column-e.position.column,a=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:r+o,overwriteAfter:s+a}}_alertCompletionItem(e){if(zl(e.completion.additionalTextEdits)){let t=C("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);Ko(t)}}triggerSuggest(e,t){this.editor.hasModel()&&(this.model.trigger({auto:t??!1,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),n=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},r=s=>{if(s.completion.insertTextRules&4||s.completion.additionalTextEdits)return!0;const o=this.editor.getPosition(),a=s.editStart.column,u=o.column;return u-a!==s.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:o.lineNumber,startColumn:a,endLineNumber:o.lineNumber,endColumn:u})!==s.completion.insertText};Bt.once(this.model.onDidTrigger)(s=>{let o=[];Bt.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{ui(o),n()},void 0,o),this.model.onDidSuggest(({completionModel:a})=>{if(ui(o),a.items.length===0){n();return}const u=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),a.items),c=a.items[u];if(!r(c)){n();return}this.editor.pushUndoStop(),this._insertSuggestion({index:u,item:c,model:a},7)},void 0,o)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const n=this.widget.value.getFocusedItem();let r=0;e&&(r|=4),t&&(r|=8),this._insertSuggestion(n,r)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};wd.ID="editor.contrib.suggestController";wd=dnt([kw(1,y1e),kw(2,Vr),kw(3,gn),kw(4,Rn),kw(5,cp),kw(6,up)],wd);class fnt{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,n)=>this.prioritySelector(n)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class x3 extends Dt{constructor(){super({id:x3.id,label:C("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:bt.and(he.writable,he.hasCompletionItemProvider),kbOpts:{kbExpr:he.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,n){const r=wd.get(t);if(!r)return;let s;n&&typeof n=="object"&&n.auto===!0&&(s=!0),r.triggerSuggest(void 0,s)}}x3.id="editor.action.triggerSuggest";Ri(wd.ID,wd);st(x3);const Gc=100+90,nu=ea.bindToContribution(wd.get);rt(new nu({id:"acceptSelectedSuggestion",precondition:qn.Visible,handler(i){i.acceptSelectedSuggestion(!0,!1)}}));Xo.registerKeybindingRule({id:"acceptSelectedSuggestion",when:bt.and(qn.Visible,he.textInputFocus),primary:2,weight:Gc});Xo.registerKeybindingRule({id:"acceptSelectedSuggestion",when:bt.and(qn.Visible,he.textInputFocus,qn.AcceptSuggestionsOnEnter,qn.MakesTextEdit),primary:3,weight:Gc});Sa.appendMenuItem(F1,{command:{id:"acceptSelectedSuggestion",title:C("accept.insert","Insert")},group:"left",order:1,when:qn.HasInsertAndReplaceRange.toNegated()});Sa.appendMenuItem(F1,{command:{id:"acceptSelectedSuggestion",title:C("accept.insert","Insert")},group:"left",order:1,when:bt.and(qn.HasInsertAndReplaceRange,qn.InsertMode.isEqualTo("insert"))});Sa.appendMenuItem(F1,{command:{id:"acceptSelectedSuggestion",title:C("accept.replace","Replace")},group:"left",order:1,when:bt.and(qn.HasInsertAndReplaceRange,qn.InsertMode.isEqualTo("replace"))});rt(new nu({id:"acceptAlternativeSelectedSuggestion",precondition:bt.and(qn.Visible,he.textInputFocus),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:1027,secondary:[1026]},handler(i){i.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:F1,group:"left",order:2,when:bt.and(qn.HasInsertAndReplaceRange,qn.InsertMode.isEqualTo("insert")),title:C("accept.replace","Replace")},{menuId:F1,group:"left",order:2,when:bt.and(qn.HasInsertAndReplaceRange,qn.InsertMode.isEqualTo("replace")),title:C("accept.insert","Insert")}]}));ni.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");rt(new nu({id:"hideSuggestWidget",precondition:qn.Visible,handler:i=>i.cancelSuggestWidget(),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:9,secondary:[1033]}}));rt(new nu({id:"selectNextSuggestion",precondition:bt.and(qn.Visible,qn.MultipleSuggestions),handler:i=>i.selectNextSuggestion(),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));rt(new nu({id:"selectNextPageSuggestion",precondition:bt.and(qn.Visible,qn.MultipleSuggestions),handler:i=>i.selectNextPageSuggestion(),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:12,secondary:[2060]}}));rt(new nu({id:"selectLastSuggestion",precondition:bt.and(qn.Visible,qn.MultipleSuggestions),handler:i=>i.selectLastSuggestion()}));rt(new nu({id:"selectPrevSuggestion",precondition:bt.and(qn.Visible,qn.MultipleSuggestions),handler:i=>i.selectPrevSuggestion(),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));rt(new nu({id:"selectPrevPageSuggestion",precondition:bt.and(qn.Visible,qn.MultipleSuggestions),handler:i=>i.selectPrevPageSuggestion(),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:11,secondary:[2059]}}));rt(new nu({id:"selectFirstSuggestion",precondition:bt.and(qn.Visible,qn.MultipleSuggestions),handler:i=>i.selectFirstSuggestion()}));rt(new nu({id:"toggleSuggestionDetails",precondition:qn.Visible,handler:i=>i.toggleSuggestionDetails(),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:F1,group:"right",order:1,when:bt.and(qn.DetailsVisible,qn.CanResolve),title:C("detail.more","show less")},{menuId:F1,group:"right",order:1,when:bt.and(qn.DetailsVisible.toNegated(),qn.CanResolve),title:C("detail.less","show more")}]}));rt(new nu({id:"toggleExplainMode",precondition:qn.Visible,handler:i=>i.toggleExplainMode(),kbOpts:{weight:100,primary:2133}}));rt(new nu({id:"toggleSuggestionFocus",precondition:qn.Visible,handler:i=>i.toggleSuggestionFocus(),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:2570,mac:{primary:778}}}));rt(new nu({id:"insertBestCompletion",precondition:bt.and(he.textInputFocus,bt.equals("config.editor.tabCompletion","on"),mR.AtEnd,qn.Visible.toNegated(),my.OtherSuggestions.toNegated(),Qo.InSnippetMode.toNegated()),handler:(i,e)=>{i.triggerSuggestAndAcceptBest(vl(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:Gc,primary:2}}));rt(new nu({id:"insertNextSuggestion",precondition:bt.and(he.textInputFocus,bt.equals("config.editor.tabCompletion","on"),my.OtherSuggestions,qn.Visible.toNegated(),Qo.InSnippetMode.toNegated()),handler:i=>i.acceptNextSuggestion(),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:2}}));rt(new nu({id:"insertPrevSuggestion",precondition:bt.and(he.textInputFocus,bt.equals("config.editor.tabCompletion","on"),my.OtherSuggestions,qn.Visible.toNegated(),Qo.InSnippetMode.toNegated()),handler:i=>i.acceptPrevSuggestion(),kbOpts:{weight:Gc,kbExpr:he.textInputFocus,primary:1026}}));st(class extends Dt{constructor(){super({id:"editor.action.resetSuggestSize",label:C("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(i,e){wd.get(e).resetWidgetSize()}});function gnt(i,e){return{object:i,dispose:()=>e==null?void 0:e.dispose()}}function pnt(i,e){return(t,n)=>e(i(t),i(n))}function mnt(){return(i,e)=>i-e}function _nt(i,e){let t;for(const n of i)(t===void 0||e(n,t)>0)&&(t=n);return t}class vnt extends Me{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new ye,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new lr(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(r=>{r.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(r=>{r.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const n=wd.get(this.editor);if(n){this._register(n.registerSelector({priority:100,select:(o,a,u)=>{const c=this.editor.getModel(),h=G7(c,this.suggestControllerPreselector());if(!h)return-1;const f=Ee.lift(a),p=u.map((v,b)=>{const S=Qae(n,f,v,this.isShiftKeyPressed),x=G7(c,S==null?void 0:S.normalizedInlineCompletion);if(!x)return;const w=bnt(h.range,x.range)&&h.text.startsWith(x.text);return{index:b,valid:w,prefixLength:x.text.length,suggestItem:v}}).filter(v=>v&&v.valid),m=_nt(p,pnt(v=>v.prefixLength,mnt()));return m?m.index:-1}}));let r=!1;const s=()=>{r||(r=!0,this._register(n.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(n.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(n.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(Bt.once(n.model.onDidTrigger)(o=>{s()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){const t=this.getSuggestItemInfo();let n=!1;Cnt(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,n=!0),this._isActive!==e&&(this._isActive=e,n=!0),n&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const e=wd.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();if(t)return Qae(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=wd.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=wd.get(this.editor);e&&e.forceRenderingAbove()}}function bnt(i,e){return e.startLineNumber===i.startLineNumber&&e.startColumn===i.startColumn&&(e.endLineNumber<i.endLineNumber||e.endLineNumber===i.endLineNumber&&e.endColumn<=i.endColumn)}function Cnt(i,e){return i===e?!0:!i||!e?!1:i.completionItemKind===e.completionItemKind&&i.isSnippetText===e.isSnippetText&&Oet(i.normalizedInlineCompletion,e.normalizedInlineCompletion)}function Qae(i,e,t,n){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:Q.fromPositions(e,e),text:""}};let{insertText:r}=t.completion,s=!1;if(t.completion.insertTextRules&4){const a=new KW().parse(r),u=i.editor.getModel();if(a.children.length>100)return;ug.adjustWhitespace(u,e,a,!0,!0),r=a.toString(),s=!0}const o=i.getOverwriteInfo(t,n);return{isSnippetText:s,completionItemKind:t.completion.kind,normalizedInlineCompletion:{text:r,range:Q.fromPositions(e.delta(0,-o.overwriteBefore),e.delta(0,Math.max(o.overwriteAfter,0)))}}}var Jae=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class ynt extends f1e{constructor(e,t){super(e),this.cache=t,this.suggestionInlineCompletionSource=this._register(new vnt(this.editor,()=>{var n,r;return(r=(n=this.cache.value)===null||n===void 0?void 0:n.completions[0])===null||r===void 0?void 0:r.toLiveInlineCompletion()})),this.updateOperation=this._register(new Ja),this.updateCacheSoon=this._register(new lr(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const r=this.ghostText;r&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,wnt(r.parts.map(s=>s.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(n=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register(Yn(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return Jae(this,void 0,void 0,function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;const t={text:e.selectedItem.normalizedInlineCompletion.text,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},n=this.editor.getPosition(),r=Do(o=>Jae(this,void 0,void 0,function*(){let a;try{a=yield m1e(n,this.editor.getModel(),{triggerKind:Sc.Automatic,selectedSuggestionInfo:t},o)}catch(u){vn(u);return}o.isCancellationRequested||(this.cache.setValue(this.editor,a,Sc.Automatic),this.onDidChangeEmitter.fire())})),s=new p1e(r,Sc.Automatic);this.updateOperation.value=s,yield r,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var e,t,n;const r=this.isSuggestionPreviewEnabled(),s=G7(this.editor.getModel(),(t=(e=this.cache.value)===null||e===void 0?void 0:e.completions[0])===null||t===void 0?void 0:t.toLiveInlineCompletion()),o=this.suggestionInlineCompletionSource.state,a=G7(this.editor.getModel(),(n=o==null?void 0:o.selectedItem)===null||n===void 0?void 0:n.normalizedInlineCompletion),u=s&&a&&s.text.startsWith(a.text)&&s.range.equalsRange(a.range);if(!r&&!u)return;const c=u?s:a||s,h=u?c.text.length-a.text.length:0;return this.toGhostText(c,h)}toGhostText(e,t){const n=this.editor.getOptions().get(105).previewMode;return e?g1e(e,this.editor.getModel(),n,this.editor.getPosition(),t)||new h1e(e.range.endLineNumber,[],this.minReservedLineCount):void 0}}function wnt(i){return i.reduce((e,t)=>e+t,0)}var Snt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},xnt=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},Ent=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class Lnt extends Me{constructor(){super(...arguments),this.onDidChangeEmitter=new ye,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new Ja)}get targetModel(){var e;return(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object}setTargetModel(e){var t;((t=this.currentModelRef.value)===null||t===void 0?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?gnt(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=(t=(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object)===null||t===void 0?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;(t=this.targetModel)===null||t===void 0||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let YG=class extends Lnt{constructor(e,t){super(),this.editor=e,this.commandService=t,this.sharedCache=this._register(new Dnt),this.suggestWidgetAdapterModel=this._register(new ynt(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new HG(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const n=(t=this.activeInlineCompletionsModel)===null||t===void 0?void 0:t.ghostText;return n?n.parts.some(r=>e.containsPosition(new Ee(n.lineNumber,r.column))):!1}triggerInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.trigger(Sc.Explicit)}commitInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.hide()}showNextInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showNext()}showPreviousInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showPrevious()}hasMultipleInlineCompletions(){var e;return Ent(this,void 0,void 0,function*(){const t=yield(e=this.activeInlineCompletionsModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};YG=Snt([xnt(1,Vr)],YG);class Dnt extends Me{constructor(){super(...arguments),this.onDidChangeEmitter=new ye,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new Ja)}get value(){return this.cache.value}setValue(e,t,n){this.cache.value=new Wet(e,t,()=>this.onDidChangeEmitter.fire(),n)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var Tnt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ele=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},_z;const tle=(_z=window.trustedTypes)===null||_z===void 0?void 0:_z.createPolicy("editorGhostText",{createHTML:i=>i});let ZG=class extends Me{constructor(e,t,n,r){super(),this.editor=e,this.model=t,this.instantiationService=n,this.modeService=r,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Int,this.editor)),this.additionalLinesWidget=this._register(new knt(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(s=>{(s.hasChanged(29)||s.hasChanged(104)||s.hasChanged(87)||s.hasChanged(82)||s.hasChanged(44)||s.hasChanged(43)||s.hasChanged(58))&&this.update()})),this._register(Yn(()=>{var s;this.disposed=!0,this.update(),(s=this.viewMoreContentWidget)===null||s===void 0||s.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const n=new Array,r=new Array;function s(c,h){if(r.length>0){const f=r[r.length-1];h&&f.decorations.push(new ic(f.content.length+1,f.content.length+1+c[0].length,h,0)),f.content+=c[0],c=c.slice(1)}for(const f of c)r.push({content:f,decorations:h?[new ic(1,f.length+1,h,0)]:[]})}const o=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let a,u=0;for(const c of t.parts){let h=c.lines;a===void 0?(n.push({column:c.column,text:h[0],preview:c.preview}),h=h.slice(1)):s([o.substring(u,c.column-1)],void 0),h.length>0&&(s(h,"ghost-text"),a===void 0&&c.column<=o.length&&(a=c.column)),u=c.column-1}a!==void 0&&s([o.substring(u)],void 0),this.partsWidget.setParts(t.lineNumber,n,a!==void 0?{column:a,length:o.length+1-a}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,r,t.additionalReservedLineCount),t.parts.some(c=>c.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new Ee(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):((e=this.viewMoreContentWidget)===null||e===void 0||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,n){const r=this.editor.getOption(43),s=document.createElement("div");s.className="suggest-preview-additional-widget",Qa.applyFontInfoSlow(s,r);const o=document.createElement("span");o.className="content-spacer",o.append(t),s.append(o);const a=document.createElement("span");a.className="content-newline suggest-preview-text",a.append("  "),s.append(a);const u=new tt,c=document.createElement("div");return c.className="button suggest-preview-text",c.append(`+${n} lines`),u.add(vo(c,"mousedown",h=>{var f;(f=this.model)===null||f===void 0||f.setExpanded(!0),h.preventDefault(),this.editor.focus()})),s.append(c),new Ant(this.editor,e,s,u)}};ZG=Tnt([ele(2,Rn),ele(3,ta)],ZG);class Int{constructor(e){this.editor=e,this.decorationIds=[],this.disposableStore=new tt}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,n){if(this.disposableStore.clear(),!this.editor.getModel())return;const s=new Array;n&&s.push({range:Q.fromPositions(new Ee(e,n.column),new Ee(e,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(o=>({range:Q.fromPositions(new Ee(e,o.column)),options:{description:"ghost-text",after:{content:o.text,inlineClassName:o.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(s))}}class knt{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,n){const r=this.editor.getModel();if(!r)return;const{tabSize:s}=r.getOptions();this.editor.changeViewZones(o=>{this._viewZoneId&&(o.removeZone(this._viewZoneId),this._viewZoneId=void 0);const a=Math.max(t.length,n);if(a>0){const u=document.createElement("div");Nnt(u,s,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=o.addZone({afterLineNumber:e,heightInLines:a,domNode:u})}})}}function Nnt(i,e,t,n,r){const s=n.get(29),o=n.get(104),a="none",u=n.get(82),c=n.get(44),h=n.get(43),f=n.get(58),p=QC(1e4);p.appendASCIIString('<div class="suggest-preview-text">');for(let b=0,S=t.length;b<S;b++){const x=t[b],w=x.content;p.appendASCIIString('<div class="view-line'),p.appendASCIIString('" style="top:'),p.appendASCIIString(String(b*f)),p.appendASCIIString('px;width:1000000px;">');const E=AX(w),N=dB(w),A=_o.createEmpty(w,r);kB(new Gy(h.isMonospace&&!s,h.canUseHalfwidthRightwardsArrow,w,!1,E,N,0,A,x.decorations,e,0,h.spaceWidth,h.middotWidth,h.wsmiddotWidth,o,a,u,c!==Ju.OFF,null),p),p.appendASCIIString("</div>")}p.appendASCIIString("</div>"),Qa.applyFontInfoSlow(i,h);const m=p.build(),v=tle?tle.createHTML(m):m;i.innerHTML=v}class Ant extends Me{constructor(e,t,n,r){super(),this.editor=e,this.position=t,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(r),this._register(Yn(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}Cr((i,e)=>{const t=i.getColor(D4e);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));const n=i.getColor(T4e);n&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${n.toString()}; }`));const r=i.getColor(L4e);r&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${r}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${r}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${r}; }`))});var D1e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},XG=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},ZW=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};let bo=class T1e extends Me{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new Ja),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(n=>{n.hasChanged(105)&&this.updateModelController(),n.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(T1e.ID)}get activeModel(){var e;return(e=this.activeController.value)===null||e===void 0?void 0:e.model}updateModelController(){const e=this.editor.getOption(105),t=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(QG,this.editor):void 0}shouldShowHoverAt(e){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,n;return((n=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||n===void 0?void 0:n.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(e=this.activeModel)===null||e===void 0||e.triggerInlineCompletion()}commit(){var e;(e=this.activeModel)===null||e===void 0||e.commitInlineCompletion()}hide(){var e;(e=this.activeModel)===null||e===void 0||e.hideInlineCompletion()}showNextInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return ZW(this,void 0,void 0,function*(){const t=yield(e=this.activeModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};bo.inlineSuggestionVisible=new It("inlineSuggestionVisible",!1,C("inlineSuggestionVisible","Whether an inline suggestion is visible"));bo.inlineSuggestionHasIndentation=new It("inlineSuggestionHasIndentation",!1,C("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));bo.inlineSuggestionHasIndentationLessThanTabSize=new It("inlineSuggestionHasIndentationLessThanTabSize",!0,C("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));bo.ID="editor.contrib.ghostTextController";bo=D1e([XG(1,Rn)],bo);class Ont{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=bo.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=bo.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=bo.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let QG=class extends Me{constructor(e,t,n){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=n,this.contextKeys=new Ont(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(YG,this.editor)),this.widget=this._register(this.instantiationService.createInstance(ZG,this.editor,this.model)),this._register(Yn(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(((e=this.model.activeInlineCompletionsModel)===null||e===void 0?void 0:e.ghostText)!==void 0);let t=!1,n=!0;const r=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&r&&r.parts.length>0){const{column:s,lines:o}=r.parts[0],a=o[0],u=this.editor.getModel().getLineIndentColumn(r.lineNumber);if(s<=u){let h=Ya(a);h===-1&&(h=a.length-1),t=h>0;const f=this.editor.getModel().getOptions().tabSize;n=_r.visibleColumnFromColumn(a,h+1,f)<f}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}};QG=D1e([XG(1,Rn),XG(2,gn)],QG);const I1e=ea.bindToContribution(bo.get),vR=new I1e({id:d1e,precondition:bo.inlineSuggestionVisible,handler(i){i.commit(),i.editor.focus()}});rt(vR);Xo.registerKeybindingRule({primary:2,weight:200,id:vR.id,when:bt.and(vR.precondition,he.tabMovesFocus.toNegated(),bo.inlineSuggestionHasIndentationLessThanTabSize)});rt(new I1e({id:"editor.action.inlineSuggest.hide",precondition:bo.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(i){i.hide()}}));class $x extends Dt{constructor(){super({id:$x.ID,label:C("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:bt.and(he.writable,bo.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return ZW(this,void 0,void 0,function*(){const n=bo.get(t);n&&(n.showNextInlineCompletion(),t.focus())})}}$x.ID="editor.action.inlineSuggest.showNext";class zx extends Dt{constructor(){super({id:zx.ID,label:C("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:bt.and(he.writable,bo.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return ZW(this,void 0,void 0,function*(){const n=bo.get(t);n&&(n.showPreviousInlineCompletion(),t.focus())})}}zx.ID="editor.action.inlineSuggest.showPrevious";class Mnt extends Dt{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:C("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:he.writable})}run(e,t){return ZW(this,void 0,void 0,function*(){const n=bo.get(t);n&&n.trigger()})}}Ri(bo.ID,bo);st(Mnt);st($x);st(zx);var Rnt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Nw=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};class Pnt{constructor(e,t,n){this.owner=e,this.range=t,this.controller=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let JG=class{constructor(e,t,n,r,s,o,a,u){this._editor=e,this._hover=t,this._commandService=n,this._menuService=r,this._contextKeyService=s,this._modeService=o,this._openerService=a,this.accessibilityService=u}suggestHoverAnchor(e){const t=bo.get(this._editor);if(!t)return null;if(e.target.type===8){const n=e.target.detail;if(t.shouldShowHoverAtViewZone(n.viewZoneId))return new az(1e3,this,Q.fromPositions(n.positionBefore||n.position,n.positionBefore||n.position))}return e.target.type===7&&e.target.range&&t.shouldShowHoverAt(e.target.range)?new az(1e3,this,e.target.range):e.target.type===6&&e.target.range&&e.target.detail&&e.target.detail.mightBeForeignElement&&t.shouldShowHoverAt(e.target.range)?new az(1e3,this,e.target.range):null}computeSync(e,t){const n=bo.get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new Pnt(this,e.range,n)]:[]}renderHoverParts(e,t,n){const r=new tt,s=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(s,t,r);const o=r.add(this._menuService.createMenu(Ft.InlineCompletionsActions,this._contextKeyService)),a=n.addAction({label:C("showNextInlineSuggestion","Next"),commandId:$x.ID,run:()=>this._commandService.executeCommand($x.ID)}),u=n.addAction({label:C("showPreviousInlineSuggestion","Previous"),commandId:zx.ID,run:()=>this._commandService.executeCommand(zx.ID)});n.addAction({label:C("acceptInlineSuggestion","Accept"),commandId:vR.id,run:()=>this._commandService.executeCommand(vR.id)});const c=[a,u];for(const h of c)h.setEnabled(!1);s.hasMultipleSuggestions().then(h=>{for(const f of c)f.setEnabled(h)});for(const[h,f]of o.getActions())for(const p of f)p instanceof E1&&n.addAction({label:p.label,commandId:p.item.id,run:()=>this._commandService.executeCommand(p.item.id)});return r}renderScreenReaderText(e,t,n){var r,s;const o=Ye,a=o("div.hover-row.markdown-hover"),u=We(a,o("div.hover-contents")),c=n.add(new Nm({editor:this._editor},this._modeService,this._openerService)),h=p=>{n.add(c.onDidRenderAsync(()=>{u.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const m=C("inlineSuggestionFollows","Suggestion:"),v=n.add(c.render(new Tm().appendText(m).appendCodeblock("text",p)));u.replaceChildren(v.element)},f=(s=(r=e.controller.activeModel)===null||r===void 0?void 0:r.inlineCompletionsModel)===null||s===void 0?void 0:s.ghostText;if(f){const p=this._editor.getModel().getLineContent(f.lineNumber);h(f.renderForScreenReader(p))}t.appendChild(a)}};JG=Rnt([Nw(2,Vr),Nw(3,Uy),Nw(4,gn),Nw(5,ta),Nw(6,Yl),Nw(7,Dl)],JG);var Fnt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Bnt=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let eY=class extends Me{constructor(e,t,n={},r){var s;super(),this._link=t,this._enabled=!0,this.el=We(e,Ye("a.monaco-link",{tabIndex:(s=t.tabIndex)!==null&&s!==void 0?s:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const o=this._register(new Qi(this.el,"click")),a=this._register(new Qi(this.el,"keypress")),u=Bt.chain(a.event).map(f=>new Ar(f)).filter(f=>f.keyCode===3).event,c=this._register(new Qi(this.el,mr.Tap)).event;this._register(qi.addTarget(this.el));const h=Bt.any(o.event,u,c);this._register(h(f=>{this.enabled&&(Fi.stop(f,!0),n!=null&&n.opener?n.opener(this._link.href):r.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};eY=Fnt([Bnt(3,Yl)],eY);Cr((i,e)=>{const t=i.getColor(SB);t&&e.addRule(`.monaco-link { color: ${t}; }`);const n=i.getColor(xB);n&&e.addRule(`.monaco-link:hover { color: ${n}; }`)});var k1e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},N1e=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const Wnt=26;let tY=class extends Me{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(nY))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{this.hide(),e.onClose&&e.onClose()}})),this._editor.setBanner(this.banner.element,Wnt)}};tY=k1e([N1e(1,Rn)],tY);let nY=class extends Me{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Nm,{}),this.element=Ye("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=Ye("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){ro(this.element)}show(e){ro(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const n=We(this.element,Ye("div.icon-container"));n.setAttribute("aria-hidden","true"),e.icon&&n.appendChild(Ye(`div${Sr.asCSSSelector(e.icon)}`));const r=We(this.element,Ye("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=We(this.element,Ye("div.message-actions-container")),e.actions)for(const o of e.actions)this._register(this.instantiationService.createInstance(eY,this.messageActionsContainer,Object.assign(Object.assign({},o),{tabIndex:-1}),{}));const s=We(this.element,Ye("div.action-container"));this.actionBar=this._register(new Zg(s)),this.actionBar.push(this._register(new kc("banner.close","Close Banner",Sr.asClassName(bme),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};nY=k1e([N1e(0,Rn)],nY);var hee=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},QS=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},bf=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const Vnt=To("extensions-warning-message",ve.warning,C("warningIcon","Icon shown with a warning message in the extensions editor."));let Ux=class extends Me{constructor(e,t,n,r){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=n,this._highlighter=null,this._bannerClosed=!1,this._updateState=s=>{if(s&&s.hasMore){if(this._bannerClosed)return;const o=Math.max(s.ambiguousCharacterCount,s.nonBasicAsciiCharacterCount,s.invisibleCharacterCount);let a;if(s.nonBasicAsciiCharacterCount>=o)a={message:C("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new YE};else if(s.ambiguousCharacterCount>=o)a={message:C("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new qE};else if(s.invisibleCharacterCount>=o)a={message:C("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new GE};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:Vnt,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(r.createInstance(tY,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(112),this._register(n.onDidChangeTrust(s=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(s=>{s.hasChanged(112)&&(this._options=e.getOption(112),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=Hnt(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(n=>n===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,allowedCodePoints:Object.keys(e.allowedCharacters).map(n=>n.codePointAt(0))};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new iY(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new $nt(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};Ux.ID="editor.contrib.unicodeHighlighter";Ux=hee([QS(1,fc),QS(2,F_e),QS(3,Rn)],Ux);function Hnt(i,e){var t;return{nonBasicASCII:e.nonBasicASCII===og?!i:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===og?!i:e.includeComments,allowedCharacters:(t=e.allowedCharacters)!==null&&t!==void 0?t:{}}}let iY=class extends Me{constructor(e,t,n,r){super(),this._editor=e,this._options=t,this._updateState=n,this._editorWorkerService=r,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new lr(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.getVersionId()!==e)return;this._updateState(t);const n=[];if(!t.hasMore)for(const r of t.ranges)n.push({range:r,options:this._options.includeComments?X7:Z7});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),n))})}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),n=t.getDecorationRange(e);if(!kQ(t,{range:n,options:this._options.includeComments?X7:Z7,id:e,ownerId:0}))return null;const r=t.getValueInRange(n);return{reason:A1e(r,this._options)}}};iY=hee([QS(3,fc)],iY);class $nt extends Me{constructor(e,t,n){super(),this._editor=e,this._options=t,this._updateState=n,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new lr(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const e=this._editor.getVisibleRanges(),t=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const r of e){const s=HQ.computeUnicodeHighlights(this._model,this._options,r);for(const o of s.ranges)n.ranges.push(o);n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||s.hasMore}if(!n.hasMore)for(const r of n.ranges)t.push({range:r,options:this._options.includeComments?X7:Z7});this._updateState(n),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),t))}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),n=t.getDecorationRange(e),r=t.getValueInRange(n);return kQ(t,{range:n,options:this._options.includeComments?X7:Z7,id:e,ownerId:0})?{reason:A1e(r,this._options)}:null}}let rY=class{constructor(e,t,n,r){this._editor=e,this._hover=t,this._modeService=n,this._openerService=r}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),r=this._editor.getContribution(Ux.ID),s=[];let o=300;for(const a of t){let f=function(x){let w=`\`U+${x.toString(16).padStart(4,"0")}\``;return cm.isInvisibleCharacter(x)||(w+=` "${`${znt(x)}`}"`),w};const u=r.getDecorationInfo(a.id);if(!u)continue;const h=n.getValueInRange(a.range).codePointAt(0),p=f(h);let m;switch(u.reason.kind){case 0:m=C("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",p,f(u.reason.confusableWith.codePointAt(0)));break;case 1:m=C("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",p);break;case 2:m=C("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",p);break}const v={codePoint:h,reason:u.reason.kind},b=C("unicodeHighlight.adjustSettings","Adjust settings"),S=[{value:`${m} [${b}](command:${E3.ID}?${encodeURIComponent(JSON.stringify(v))})`,isTrusted:!0}];s.push(new tO(this,a.range,S,o++))}return s}renderHoverParts(e,t,n){return s1e(e,t,this._editor,this._hover,this._modeService,this._openerService)}};rY=hee([QS(2,ta),QS(3,Yl)],rY);function znt(i){return i===96?"`` ` ``":"`"+String.fromCodePoint(i)+"`"}function A1e(i,e){return HQ.computeUnicodeHighlightReason(i,e)}const Z7=Tn.register({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:Mr(eOe),position:ql.Center},minimap:{color:Mr(sOe),position:Ul.Inline},hideInCommentTokens:!0}),X7=Tn.register({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:{color:Mr(LB),position:ql.Center},minimap:{color:Mr(XX),position:Ul.Inline}});class qE extends Dt{constructor(){super({id:qE.ID,label:C("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=C("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,n){return bf(this,void 0,void 0,function*(){let r=e==null?void 0:e.get(cr);r&&this.runAction(r)})}runAction(e){return bf(this,void 0,void 0,function*(){yield e.updateValue(Cg.ambiguousCharacters,!1,1)})}}qE.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class GE extends Dt{constructor(){super({id:GE.ID,label:C("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=C("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,n){return bf(this,void 0,void 0,function*(){let r=e==null?void 0:e.get(cr);r&&this.runAction(r)})}runAction(e){return bf(this,void 0,void 0,function*(){yield e.updateValue(Cg.invisibleCharacters,!1,1)})}}GE.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class YE extends Dt{constructor(){super({id:YE.ID,label:C("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=C("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,n){return bf(this,void 0,void 0,function*(){let r=e==null?void 0:e.get(cr);r&&this.runAction(r)})}runAction(e){return bf(this,void 0,void 0,function*(){yield e.updateValue(Cg.nonBasicASCII,!1,1)})}}YE.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class E3 extends Dt{constructor(){super({id:E3.ID,label:C("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,n){return bf(this,void 0,void 0,function*(){const{codePoint:r,reason:s}=n,o=String.fromCodePoint(r),a=e.get(qc),u=e.get(cr);function c(p){return cm.isInvisibleCharacter(p)?C("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",`U+${p.toString(16)}`):C("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`U+${p.toString(16)} "${o}"`)}const h=[{label:c(r),run:()=>Unt(u,[r])}];if(s===0){const p=new qE;h.push({label:p.label,run:()=>bf(this,void 0,void 0,function*(){return p.runAction(u)})})}else if(s===1){const p=new GE;h.push({label:p.label,run:()=>bf(this,void 0,void 0,function*(){return p.runAction(u)})})}else if(s===2){const p=new YE;h.push({label:p.label,run:()=>bf(this,void 0,void 0,function*(){return p.runAction(u)})})}else jnt(s);const f=yield a.pick(h,{title:C("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});f&&(yield f.run())})}}E3.ID="editor.action.unicodeHighlight.showExcludeOptions";function Unt(i,e){return bf(this,void 0,void 0,function*(){const t=i.getValue(Cg.allowedCharacters);let n;typeof t=="object"&&t?n=t:n={};for(const r of e)n[String.fromCodePoint(r)]=!0;yield i.updateValue(Cg.allowedCharacters,n,1)})}function jnt(i){throw new Error(`Unexpected value: ${i}`)}st(qE);st(GE);st(YE);st(E3);Ri(Ux.ID,Ux);var O1e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},_8=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const nle=Ye;let sY=class extends Me{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=nle("div.hover-row.status-bar"),this.actionsElement=We(this.hoverElement,nle("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(oee.render(this.actionsElement,e,n))}append(e){const t=We(this.actionsElement,e);return this._hasContent=!0,t}};sY=O1e([_8(0,Or)],sY);class Q7{constructor(e,t){this._participants=t,this._editor=e,this._result=[],this._anchor=null}setAnchor(e){this._anchor=e,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(e,t){if(t.type!==1)return[];const n=e.getModel(),r=t.range.startLineNumber,s=n.getLineMaxColumn(r);return e.getLineDecorations(r).filter(o=>{if(o.options.isWholeLine)return!0;const a=o.range.startLineNumber===r?o.range.startColumn:1,u=o.range.endLineNumber===r?o.range.endColumn:s;if(o.options.showIfCollapsed){if(a>t.range.startColumn+1||t.range.endColumn-1>u)return!1}else if(a>t.range.startColumn||t.range.endColumn>u)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return ho.EMPTY;const n=Q7._getLineDecorations(this._editor,t);return ho.merge(this._participants.map(r=>this._computeAsync(r,n,t,e)))}_computeAsync(e,t,n,r){return e.computeAsync?e.computeAsync(n,t,r):ho.EMPTY}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=Q7._getLineDecorations(this._editor,this._anchor);let t=[];for(const n of this._participants)t=t.concat(n.computeSync(this._anchor,e));return DE(t)}onResult(e,t){t?this._result=e.concat(this._result):this._result=this._result.concat(e)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const e of this._participants)if(e.createLoadingMessage){const t=e.createLoadingMessage(this._anchor);if(t)return this._result.slice(0).concat([t])}}return this._result.slice(0)}}let V0=class oY extends hc{constructor(e,t,n,r,s){super(),this._hoverVisibleKey=t,this._keybindingService=r,this._contextKeyService=s,this.allowEditorOverflow=!0,this._participants=[n.createInstance(NG,e,this),n.createInstance(OG,e,this),n.createInstance(JG,e,this),n.createInstance(rY,e,this),n.createInstance(VG,e,this)],this._editor=e,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new Q0e),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,o=>{o.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._messagesAreComplete=!1,this._lastAnchor=null,this._computer=new Q7(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new e1e(this._computer,o=>this._withResult(o,!0),null,o=>this._withResult(o,!1),this._editor.getOption(52).delay),this._register(vo(this.getDomNode(),Ut.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(vo(this.getDomNode(),Ut.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(e.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above})),this._register(Xr.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return oY.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(e){const t=e.target.type;if(t===6)return!0;if(t===7){const n=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,r=e.target.detail;if(r&&!r.isAfterLines&&typeof r.horizontalDistanceToText=="number"&&r.horizontalDistanceToText<n)return!0}return!1}maybeShowAt(e){var t;const n=[];for(const r of this._participants)if(typeof r.suggestHoverAnchor=="function"){const s=r.suggestHoverAnchor(e);s&&n.push(s)}if(this._shouldShowAt(e)&&e.target.range){const s=[...((t=e.target.element)===null||t===void 0?void 0:t.classList.values())||[]].find(o=>o.startsWith("ced-colorBox"))&&e.target.range.endColumn-e.target.range.startColumn===1?new Q(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1):e.target.range;n.push(new Sae(0,s))}return n.length===0?!1:(n.sort((r,s)=>s.priority-r.priority),this._startShowingAt(n[0],0,!1),!0)}_showAt(e,t,n){this._showAtPosition=e,this._showAtRange=t,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=n,n&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let e=this._preferAbove;return!e&&this._contextKeyService.getContextKeyValue(qn.Visible.key)&&(e=!0),{position:this._showAtPosition,range:this._showAtRange,preference:e?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:n}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${n/t}`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(e,t,n){this._startShowingAt(new Sae(0,e),t,n)}_startShowingAt(e,t,n){if(!(this._lastAnchor&&this._lastAnchor.equals(e))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!e.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const r=this._messages.filter(s=>s.isValidForHoverAnchor(e));if(r.length===0)this.hide();else{if(r.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,r)}}this._lastAnchor=e,this._computer.setAnchor(e),this._shouldFocus=n,this._hoverOperation.start(t)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(e){this._colorPicker=e}onContentsChanged(){this._hover.onContentsChanged()}_withResult(e,t){this._messages=e,this._messagesAreComplete=t,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):t&&this.hide()}_renderMessages(e,t){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let n=1073741824,r=t[0].range,s=null,o=document.createDocumentFragment();const a=new tt,u=new Map;for(const h of t)n=Math.min(n,h.range.startColumn),r=Q.plusRange(r,h.range),h.forceShowAtRange&&(s=h.range),u.has(h.owner)||u.set(h.owner,[]),u.get(h.owner).push(h);const c=a.add(new sY(this._keybindingService));for(const h of this._participants)if(u.has(h)){const f=u.get(h);a.add(h.renderHoverParts(f,o,c))}c.hasContent&&o.appendChild(c.hoverElement),this._renderDisposable=a,o.hasChildNodes()&&(s?this._showAt(s.getStartPosition(),s,this._shouldFocus):this._showAt(new Ee(e.range.startLineNumber,n),r,this._shouldFocus),this._updateContents(o)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,r?[{range:r,options:oY._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};V0.ID="editor.contrib.modesContentHoverWidget";V0._DECORATION_OPTIONS=Tn.register({description:"content-hover-highlight",className:"hoverHighlight"});V0=O1e([_8(2,Rn),_8(3,Or),_8(4,gn)],V0);const ile=Ye;class Knt{constructor(e){this._editor=e,this._lineNumber=-1,this._result=[]}setLineNumber(e){this._lineNumber=e,this._result=[]}clearResult(){this._result=[]}computeSync(){const e=r=>({value:r}),t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;for(const r of t){if(!r.options.glyphMarginClassName)continue;const s=r.options.glyphMarginHoverMessage;!s||sR(s)||n.push(...WX(s).map(e))}return n}onResult(e,t){this._result=this._result.concat(e)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class Jb extends hc{constructor(e,t,n=A9e){super(),this._renderDisposeables=this._register(new tt),this._editor=e,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new Q0e),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Nm({editor:this._editor},t,n)),this._computer=new Knt(this._editor),this._hoverOperation=new e1e(this._computer,r=>this._withResult(r),void 0,r=>this._withResult(r),300),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Jb.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(e),r=this._editor.getScrollTop(),s=this._editor.getOption(58),o=this._hover.containerDomNode.clientHeight,a=n-r-(o-s)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const n=document.createDocumentFragment();for(const r of t){const s=ile("div.hover-row.markdown-hover"),o=We(s,ile("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(r.value));o.appendChild(a.element),n.appendChild(s)}this._updateContents(n),this._showAt(e)}}Jb.ID="editor.contrib.modesGlyphHoverWidget";var qnt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},r6=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let B1=class M1e{constructor(e,t,n,r,s){this._editor=e,this._instantiationService=t,this._openerService=n,this._modeService=r,this._toUnhook=new tt,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(o=>{o.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=he.hoverVisible.bindTo(s)}static get(e){return e.getContribution(M1e.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(52);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._toUnhook.add(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(n=>this._onEditorScrollChanged(n)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var e,t;(e=this._contentWidget)===null||e===void 0||e.onModelDecorationsChanged(),(t=this._glyphWidget)===null||t===void 0||t.onModelDecorationsChanged()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target.type;if(t===9&&e.target.detail===V0.ID){this._hoverClicked=!0;return}t===12&&e.target.detail===Jb.ID||(t!==12&&e.target.detail!==Jb.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,n,r,s,o;let a=e.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&a===9&&e.target.detail===V0.ID||this._isHoverSticky&&!(!((n=(t=e.event.browserEvent.view)===null||t===void 0?void 0:t.getSelection())===null||n===void 0)&&n.isCollapsed)||!this._isHoverSticky&&a===9&&e.target.detail===V0.ID&&(!((r=this._contentWidget)===null||r===void 0)&&r.isColorPickerVisible())||this._isHoverSticky&&a===12&&e.target.detail===Jb.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(s=this._glyphWidget)===null||s===void 0||s.hide();return}if(a===2&&e.target.position){(o=this._contentWidget)===null||o===void 0||o.hide(),this._glyphWidget||(this._glyphWidget=new Jb(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(e.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(!((e=this._contentWidget)===null||e===void 0)&&e.isColorPickerVisible())||(this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(n=this._contentWidget)===null||n===void 0||n.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(V0,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,n)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};B1.ID="editor.contrib.hover";B1=qnt([r6(1,Rn),r6(2,Yl),r6(3,ta),r6(4,gn)],B1);class Gnt extends Dt{constructor(){super({id:"editor.action.showHover",label:C({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let n=B1.get(t);if(!n)return;const r=t.getPosition(),s=new Q(r.lineNumber,r.column,r.lineNumber,r.column),o=t.getOption(2)===2;n.showContentHover(s,1,o)}}class Ynt extends Dt{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:C({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){let n=B1.get(t);if(!n)return;const r=t.getPosition();if(!r)return;const s=new Q(r.lineNumber,r.column,r.lineNumber,r.column);py.get(t).startFindDefinitionFromCursor(r).then(()=>{n.showContentHover(s,1,!0)})}}Ri(B1.ID,B1);st(Gnt);st(Ynt);Cr((i,e)=>{const t=i.getColor(pAe);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);const n=i.getColor(ZC);n&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const r=i.getColor(ZX);r&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${r}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${r.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${r.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${r.transparent(.5)}; }`));const s=i.getColor(SB);s&&e.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);const o=i.getColor(xB);o&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${o}; }`);const a=i.getColor(YX);a&&e.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);const u=i.getColor(mAe);u&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${u}; }`);const c=i.getColor(Wge);c&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${c}; }`)});class aY extends Me{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){var t;if(e.target.type!==6||![...((t=e.target.element)===null||t===void 0?void 0:t.classList.values())||[]].find(o=>o.startsWith("ced-colorBox"))||!e.target.range)return;const s=this._editor.getContribution(B1.ID);if(!s.isColorPickerVisible()){const o=new Q(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1);s.showContentHover(o,0,!1)}}}aY.ID="editor.contrib.colorContribution";Ri(aY.ID,aY);class H0{constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,n){if(n<0)return!1;const r=t.length,s=e.length;if(n+r>s)return!1;for(let o=0;o<r;o++){const a=e.charCodeAt(n+o),u=t.charCodeAt(o);if(a!==u&&!(a>=65&&a<=90&&a+32===u)&&!(u>=65&&u<=90&&u+32===a))return!1}return!0}_createOperationsForBlockComment(e,t,n,r,s,o){const a=e.startLineNumber,u=e.startColumn,c=e.endLineNumber,h=e.endColumn,f=s.getLineContent(a),p=s.getLineContent(c);let m=f.lastIndexOf(t,u-1+t.length),v=p.indexOf(n,h-1-n.length);if(m!==-1&&v!==-1)if(a===c)f.substring(m+t.length,v).indexOf(n)>=0&&(m=-1,v=-1);else{const S=f.substring(m+t.length),x=p.substring(0,v);(S.indexOf(n)>=0||x.indexOf(n)>=0)&&(m=-1,v=-1)}let b;m!==-1&&v!==-1?(r&&m+t.length<f.length&&f.charCodeAt(m+t.length)===32&&(t=t+" "),r&&v>0&&p.charCodeAt(v-1)===32&&(n=" "+n,v-=1),b=H0._createRemoveBlockCommentOperations(new Q(a,m+t.length+1,c,v+1),t,n)):(b=H0._createAddBlockCommentOperations(e,t,n,this._insertSpace),this._usedEndToken=b.length===1?n:null);for(const S of b)o.addTrackedEditOperation(S.range,S.text)}static _createRemoveBlockCommentOperations(e,t,n){let r=[];return Q.isEmpty(e)?r.push(rs.delete(new Q(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(r.push(rs.delete(new Q(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),r.push(rs.delete(new Q(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),r}static _createAddBlockCommentOperations(e,t,n,r){let s=[];return Q.isEmpty(e)?s.push(rs.replace(new Q(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(s.push(rs.insert(new Ee(e.startLineNumber,e.startColumn),t+(r?" ":""))),s.push(rs.insert(new Ee(e.endLineNumber,e.endColumn),(r?" ":"")+n))),s}getEditOperations(e,t){const n=this._selection.startLineNumber,r=this._selection.startColumn;e.tokenizeIfCheap(n);const s=e.getLanguageIdAtPosition(n,r),o=Si.getComments(s);!o||!o.blockCommentStartToken||!o.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,o.blockCommentStartToken,o.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const n=t.getInverseEditOperations();if(n.length===2){const r=n[0],s=n[1];return new xt(r.range.endLineNumber,r.range.endColumn,s.range.startLineNumber,s.range.startColumn)}else{const r=n[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new xt(r.endLineNumber,r.endColumn+s,r.endLineNumber,r.endColumn+s)}}}class Fp{constructor(e,t,n,r,s,o){this._selection=e,this._tabSize=t,this._type=n,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=o||!1}static _gatherPreflightCommentStrings(e,t,n){e.tokenizeIfCheap(t);const r=e.getLanguageIdAtPosition(t,1),s=Si.getComments(r),o=s?s.lineCommentToken:null;if(!o)return null;let a=[];for(let u=0,c=n-t+1;u<c;u++)a[u]={ignore:!1,commentStr:o,commentStrOffset:0,commentStrLength:o.length};return a}static _analyzeLines(e,t,n,r,s,o,a){let u=!0,c;e===0?c=!0:e===1?c=!1:c=!0;for(let h=0,f=r.length;h<f;h++){const p=r[h],m=s+h;if(m===s&&a){p.ignore=!0;continue}const v=n.getLineContent(m),b=Ya(v);if(b===-1){p.ignore=o,p.commentStrOffset=v.length;continue}if(u=!1,p.ignore=!1,p.commentStrOffset=b,c&&!H0._haystackHasNeedleAtOffset(v,p.commentStr,b)&&(e===0?c=!1:e===1||(p.ignore=!0)),c&&t){const S=b+p.commentStrLength;S<v.length&&v.charCodeAt(S)===32&&(p.commentStrLength+=1)}}if(e===0&&u){c=!1;for(let h=0,f=r.length;h<f;h++)r[h].ignore=!1}return{supported:!0,shouldRemoveComments:c,lines:r}}static _gatherPreflightData(e,t,n,r,s,o,a){const u=Fp._gatherPreflightCommentStrings(n,r,s);return u===null?{supported:!1}:Fp._analyzeLines(e,t,n,u,r,o,a)}_executeLineComments(e,t,n,r){let s;n.shouldRemoveComments?s=Fp._createRemoveLineCommentsOperations(n.lines,r.startLineNumber):(Fp._normalizeInsertionPoint(e,n.lines,r.startLineNumber,this._tabSize),s=this._createAddLineCommentsOperations(n.lines,r.startLineNumber));const o=new Ee(r.positionLineNumber,r.positionColumn);for(let a=0,u=s.length;a<u;a++)t.addEditOperation(s[a].range,s[a].text),Q.isEmpty(s[a].range)&&Q.getStartPosition(s[a].range).equals(o)&&e.getLineContent(o.lineNumber).length+1===o.column&&(this._deltaColumn=(s[a].text||"").length);this._selectionId=t.trackSelection(r)}_attemptRemoveBlockComment(e,t,n,r){let s=t.startLineNumber,o=t.endLineNumber,a=r.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),u=e.getLineContent(s).lastIndexOf(n,a-1),c=e.getLineContent(o).indexOf(r,t.endColumn-1-n.length);return u!==-1&&c===-1&&(c=e.getLineContent(s).indexOf(r,u+n.length),o=s),u===-1&&c!==-1&&(u=e.getLineContent(o).lastIndexOf(n,c),s=o),t.isEmpty()&&(u===-1||c===-1)&&(u=e.getLineContent(s).indexOf(n),u!==-1&&(c=e.getLineContent(s).indexOf(r,u+n.length))),u!==-1&&e.getLineContent(s).charCodeAt(u+n.length)===32&&(n+=" "),c!==-1&&e.getLineContent(o).charCodeAt(c-1)===32&&(r=" "+r,c-=1),u!==-1&&c!==-1?H0._createRemoveBlockCommentOperations(new Q(s,u+n.length+1,o,c+1),n,r):null}_executeBlockComment(e,t,n){e.tokenizeIfCheap(n.startLineNumber);let r=e.getLanguageIdAtPosition(n.startLineNumber,1),s=Si.getComments(r);if(!s||!s.blockCommentStartToken||!s.blockCommentEndToken)return;const o=s.blockCommentStartToken,a=s.blockCommentEndToken;let u=this._attemptRemoveBlockComment(e,n,o,a);if(!u){if(n.isEmpty()){const c=e.getLineContent(n.startLineNumber);let h=Ya(c);h===-1&&(h=c.length),u=H0._createAddBlockCommentOperations(new Q(n.startLineNumber,h+1,n.startLineNumber,c.length+1),o,a,this._insertSpace)}else u=H0._createAddBlockCommentOperations(new Q(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),o,a,this._insertSpace);u.length===1&&(this._deltaColumn=o.length+1)}this._selectionId=t.trackSelection(n);for(const c of u)t.addEditOperation(c.range,c.text)}getEditOperations(e,t){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new Q(n.startLineNumber,e.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const r=Fp._gatherPreflightData(this._type,this._insertSpace,e,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return r.supported?this._executeLineComments(e,t,r,n):this._executeBlockComment(e,t,n)}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new xt(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let n=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];o.ignore||n.push(rs.delete(new Q(t+r,o.commentStrOffset+1,t+r,o.commentStrOffset+o.commentStrLength+1)))}return n}_createAddLineCommentsOperations(e,t){let n=[];const r=this._insertSpace?" ":"";for(let s=0,o=e.length;s<o;s++){const a=e[s];a.ignore||n.push(rs.insert(new Ee(t+s,a.commentStrOffset+1),a.commentStr+r))}return n}static nextVisibleColumn(e,t,n,r){return n?e+(t-e%t):e+r}static _normalizeInsertionPoint(e,t,n,r){let s=1073741824,o,a;for(let u=0,c=t.length;u<c;u++){if(t[u].ignore)continue;const h=e.getLineContent(n+u);let f=0;for(let p=0,m=t[u].commentStrOffset;f<s&&p<m;p++)f=Fp.nextVisibleColumn(f,r,h.charCodeAt(p)===9,1);f<s&&(s=f)}s=Math.floor(s/r)*r;for(let u=0,c=t.length;u<c;u++){if(t[u].ignore)continue;const h=e.getLineContent(n+u);let f=0;for(o=0,a=t[u].commentStrOffset;f<s&&o<a;o++)f=Fp.nextVisibleColumn(f,r,h.charCodeAt(o)===9,1);f>s?t[u].commentStrOffset=o-1:t[u].commentStrOffset=o}}}class fee extends Dt{constructor(e,t){super(t),this._type=e}run(e,t){if(!t.hasModel())return;const n=t.getModel(),r=[],s=n.getOptions(),o=t.getOption(19),a=t.getSelections().map((c,h)=>({selection:c,index:h,ignoreFirstLine:!1}));a.sort((c,h)=>Q.compareRangesUsingStarts(c.selection,h.selection));let u=a[0];for(let c=1;c<a.length;c++){const h=a[c];u.selection.endLineNumber===h.selection.startLineNumber&&(u.index<h.index?h.ignoreFirstLine=!0:(u.ignoreFirstLine=!0,u=h))}for(const c of a)r.push(new Fp(c.selection,s.tabSize,this._type,o.insertSpace,o.ignoreEmptyLines,c.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class Znt extends fee{constructor(){super(0,{id:"editor.action.commentLine",label:C("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Ft.MenubarEditMenu,group:"5_insert",title:C({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class Xnt extends fee{constructor(){super(1,{id:"editor.action.addCommentLine",label:C("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2081),weight:100}})}}class Qnt extends fee{constructor(){super(2,{id:"editor.action.removeCommentLine",label:C("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2099),weight:100}})}}class Jnt extends Dt{constructor(){super({id:"editor.action.blockComment",label:C("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Ft.MenubarEditMenu,group:"5_insert",title:C({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){if(!t.hasModel())return;const n=t.getOption(19),r=[],s=t.getSelections();for(const o of s)r.push(new H0(o,n.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}st(Znt);st(Xnt);st(Qnt);st(Jnt);var eit=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},kA=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let jx=class R1e{constructor(e,t,n,r,s,o){this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=r,this._keybindingService=s,this._menuService=o,this._toDispose=new tt,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(a=>this._onContextMenu(a))),this._toDispose.add(this._editor.onMouseWheel(a=>{if(this._contextMenuIsBeingShownCount>0){const u=this._contextViewService.getContextViewElement(),c=a.srcElement;c.shadowRoot&&w1(u)===c.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(a=>{a.keyCode===58&&(a.preventDefault(),a.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution(R1e.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||(e.event.preventDefault(),e.event.stopPropagation(),e.target.type!==6&&e.target.type!==7&&e.target.type!==1))return;if(this._editor.focus(),e.target.position){let n=!1;for(const r of this._editor.getSelections())if(r.containsPosition(e.target.position)){n=!0;break}n||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Ft.SimpleEditorContext:Ft.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const n=[],r=this._menuService.createMenu(t,this._contextKeyService),s=r.getActions({arg:e.uri});r.dispose();for(let o of s){const[,a]=o;let u=0;for(const c of a)if(c instanceof FX){const h=this._getMenuActions(e,c.item.submenu);h.length>0&&(n.push(new uB(c.id,c.label,h)),u++)}else n.push(c),u++;u&&n.push(new Ld)}return n.length&&n.pop(),n}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),o=ca(this._editor.getDomNode()),a=o.left+s.left,u=o.top+s.top+s.height;t={x:a,y:u}}const r=this._editor.getOption(114)&&!zg;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:r?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:s=>{const o=this._keybindingFor(s);if(o)return new zM(s,s,{label:!0,keybinding:o.getLabel(),isMenu:!0});const a=s;return typeof a.getActionViewItem=="function"?a.getActionViewItem():new zM(s,s,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:s=>this._keybindingFor(s),onHide:s=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};jx.ID="editor.contrib.contextmenu";jx=eit([kA(1,J1),kA(2,Rm),kA(3,gn),kA(4,Or),kA(5,Uy)],jx);class tit extends Dt{constructor(){super({id:"editor.action.showContextMenu",label:C("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:he.textInputFocus,primary:1092,weight:100}})}run(e,t){jx.get(t).showContextMenu()}}Ri(jx.ID,jx);st(tit);class vz{constructor(e){this.selections=e}equals(e){const t=this.selections.length,n=e.selections.length;if(t!==n)return!1;for(let r=0;r<t;r++)if(!this.selections[r].equalsSelection(e.selections[r]))return!1;return!0}}class bz{constructor(e,t,n){this.cursorState=e,this.scrollTop=t,this.scrollLeft=n}}class _y extends Me{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const n=new vz(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new bz(n,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(_y.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new bz(new vz(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new bz(new vz(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}_y.ID="editor.contrib.cursorUndoRedoController";class nit extends Dt{constructor(){super({id:"cursorUndo",label:C("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:he.textInputFocus,primary:2099,weight:100}})}run(e,t,n){_y.get(t).cursorUndo()}}class iit extends Dt{constructor(){super({id:"cursorRedo",label:C("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,n){_y.get(t).cursorRedo()}}Ri(_y.ID,_y);st(nit);st(iit);class rit{constructor(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}getEditOperations(e,t){let n=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new Q(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new xt(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new xt(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new xt(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new xt(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new xt(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function Aw(i){return Xn?i.altKey:i.ctrlKey}class gm extends Me{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Aw(e)&&(this._modifierPressed=!0),this._mouseDown&&Aw(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Aw(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===gm.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(s=>t.position&&s.containsPosition(t.position));if(r.length===1)this._dragSelection=r[0];else return}Aw(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new Ee(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let n=null;if(e.event.shiftKey){let r=this._editor.getSelection();if(r){const{selectionStartLineNumber:s,selectionStartColumn:o}=r;n=[new xt(s,o,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map(r=>r.containsPosition(t)?new xt(t.lineNumber,t.column,t.lineNumber,t.column):r);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Aw(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(gm.ID,new rit(this._dragSelection,t,Aw(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new Q(e.lineNumber,e.column,e.lineNumber,e.column),options:gm._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}gm.ID="editor.contrib.dragAndDrop";gm.TRIGGER_KEY_VALUE=Xn?6:5;gm._DECORATION_OPTIONS=Tn.register({description:"dnd-target",className:"dnd-target"});Ri(gm.ID,gm);class ma{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const n of t){const r=n.options;if(r===ma._FIND_MATCH_DECORATION||r===ma._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(e){let t=null,n=0;if(e)for(let r=0,s=this._decorations.length;r<s;r++){let o=this._editor.getModel().getDecorationRange(this._decorations[r]);if(e.equalsRange(o)){t=this._decorations[r],n=r+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(r=>{if(this._highlightedDecorationId!==null&&(r.changeDecorationOptions(this._highlightedDecorationId,ma._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,r.changeDecorationOptions(this._highlightedDecorationId,ma._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let s=this._editor.getModel().getDecorationRange(t);if(s.startLineNumber!==s.endLineNumber&&s.endColumn===1){let o=s.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(o);s=new Q(s.startLineNumber,s.startColumn,o,a)}this._rangeHighlightDecorationId=r.addDecoration(s,ma._RANGE_HIGHLIGHT_DECORATION)}}),n}set(e,t){this._editor.changeDecorations(n=>{let r=ma._FIND_MATCH_DECORATION,s=[];if(e.length>1e3){r=ma._FIND_MATCH_NO_OVERVIEW_DECORATION;const a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,h=Math.max(2,Math.ceil(3/c));let f=e[0].range.startLineNumber,p=e[0].range.endLineNumber;for(let m=1,v=e.length;m<v;m++){const b=e[m].range;p+h>=b.startLineNumber?b.endLineNumber>p&&(p=b.endLineNumber):(s.push({range:new Q(f,1,p,1),options:ma._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),f=b.startLineNumber,p=b.endLineNumber)}s.push({range:new Q(f,1,p,1),options:ma._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let o=new Array(e.length);for(let a=0,u=e.length;a<u;a++)o[a]={range:e[a].range,options:r};this._decorations=n.deltaDecorations(this._decorations,o),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,s),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>n.removeDecoration(a)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(a=>n.addDecoration(a,ma._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){let n=this._decorations[t],r=this._editor.getModel().getDecorationRange(n);if(!(!r||r.endLineNumber>e.lineNumber)){if(r.endLineNumber<e.lineNumber)return r;if(!(r.endColumn>e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,n=this._decorations.length;t<n;t++){let r=this._decorations[t],s=this._editor.getModel().getDecorationRange(r);if(!(!s||s.startLineNumber<e.lineNumber)){if(s.startLineNumber>e.lineNumber)return s;if(!(s.startColumn<e.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}ma._CURRENT_FIND_MATCH_DECORATION=Tn.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Mr(LB),position:ql.Center},minimap:{color:Mr(XX),position:Ul.Inline}});ma._FIND_MATCH_DECORATION=Tn.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Mr(LB),position:ql.Center},minimap:{color:Mr(XX),position:Ul.Inline}});ma._FIND_MATCH_NO_OVERVIEW_DECORATION=Tn.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});ma._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Tn.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Mr(LB),position:ql.Center}});ma._RANGE_HIGHLIGHT_DECORATION=Tn.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});ma._FIND_SCOPE_DECORATION=Tn.register({description:"find-scope",className:"findScope",isWholeLine:!0});class sit{constructor(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let n=[];for(let o=0;o<this._ranges.length;o++)n.push({range:this._ranges[o],text:this._replaceStrings[o]});n.sort((o,a)=>Q.compareRangesUsingStarts(o.range,a.range));let r=[],s=n[0];for(let o=1;o<n.length;o++)s.range.endLineNumber===n[o].range.startLineNumber&&s.range.endColumn===n[o].range.startColumn?(s.range=s.range.plusRange(n[o].range),s.text=s.text+n[o].text):(r.push(s),s=n[o]);r.push(s);for(const o of r)t.addEditOperation(o.range,o.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function P1e(i,e){if(i&&i[0]!==""){const t=rle(i,e,"-"),n=rle(i,e,"_");return t&&!n?sle(i,e,"-"):!t&&n?sle(i,e,"_"):i[0].toUpperCase()===i[0]?e.toUpperCase():i[0].toLowerCase()===i[0]?e.toLowerCase():ike(i[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):i[0][0].toUpperCase()!==i[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function rle(i,e,t){return i[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&i[0].split(t).length===e.split(t).length}function sle(i,e,t){const n=e.split(t),r=i[0].split(t);let s="";return n.forEach((o,a)=>{s+=P1e([r[a]],o)+t}),s.slice(0,-1)}class ole{constructor(e){this.staticValue=e,this.kind=0}}class oit{constructor(e){this.pieces=e,this.kind=1}}class Kx{constructor(e){!e||e.length===0?this._state=new ole(""):e.length===1&&e[0].staticValue!==null?this._state=new ole(e[0].staticValue):this._state=new oit(e)}static fromStaticValue(e){return new Kx([bC.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(e,t){if(this._state.kind===0)return t?P1e(e,this._state.staticValue):this._state.staticValue;let n="";for(let r=0,s=this._state.pieces.length;r<s;r++){let o=this._state.pieces[r];if(o.staticValue!==null){n+=o.staticValue;continue}let a=Kx._substitute(o.matchIndex,e);if(o.caseOps!==null&&o.caseOps.length>0){let u=[],c=o.caseOps.length,h=0;for(let f=0,p=a.length;f<p;f++){if(h>=c){u.push(a.slice(f));break}switch(o.caseOps[h]){case"U":u.push(a[f].toUpperCase());break;case"u":u.push(a[f].toUpperCase()),h++;break;case"L":u.push(a[f].toLowerCase());break;case"l":u.push(a[f].toLowerCase()),h++;break;default:u.push(a[f])}}a=u.join("")}n+=a}return n}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let n="";for(;e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}}class bC{constructor(e,t,n){this.staticValue=e,this.matchIndex=t,!n||n.length===0?this.caseOps=null:this.caseOps=n.slice(0)}static staticValue(e){return new bC(e,-1,null)}static caseOps(e,t){return new bC(null,e,t)}}class ait{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=bC.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=bC.caseOps(e,n),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=bC.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Kx(this._result)}}function lit(i){if(!i||i.length===0)return new Kx(null);let e=[],t=new ait(i);for(let n=0,r=i.length;n<r;n++){let s=i.charCodeAt(n);if(s===92){if(n++,n>=r)break;let o=i.charCodeAt(n);switch(o){case 92:t.emitUnchanged(n-1),t.emitStatic("\\",n+1);break;case 110:t.emitUnchanged(n-1),t.emitStatic(`
`,n+1);break;case 116:t.emitUnchanged(n-1),t.emitStatic("	",n+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(n-1),t.emitStatic("",n+1),e.push(String.fromCharCode(o));break}continue}if(s===36){if(n++,n>=r)break;let o=i.charCodeAt(n);if(o===36){t.emitUnchanged(n-1),t.emitStatic("$",n+1);continue}if(o===48||o===38){t.emitUnchanged(n-1),t.emitMatchIndex(0,n+1,e),e.length=0;continue}if(49<=o&&o<=57){let a=o-48;if(n+1<r){let u=i.charCodeAt(n+1);if(48<=u&&u<=57){n++,a=a*10+(u-48),t.emitUnchanged(n-2),t.emitMatchIndex(a,n+1,e),e.length=0;continue}}t.emitUnchanged(n-1),t.emitMatchIndex(a,n+1,e),e.length=0;continue}}}return t.finalize()}const aw=new It("findWidgetVisible",!1),XW=new It("findInputFocussed",!1),gee=new It("replaceInputFocussed",!1),s6={primary:545,mac:{primary:2593}},o6={primary:565,mac:{primary:2613}},a6={primary:560,mac:{primary:2608}},l6={primary:554,mac:{primary:2602}},u6={primary:558,mac:{primary:2606}},pr={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},$0=19999,uit=240;class $O{constructor(e,t){this._toDispose=new tt,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new el,this._decorations=new ma(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new lr(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(n=>{(n.reason===3||n.reason===5||n.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(n=>{this._ignoreModelContentChanged||(n.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(n=>this._onStateChanged(n))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,ui(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},uit)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let n=null;typeof t<"u"?t!==null&&(Array.isArray(t)?n=t:n=[t]):n=this._decorations.getFindScopes(),n!==null&&(n=n.map(a=>{if(a.startLineNumber!==a.endLineNumber){let u=a.endLineNumber;return a.endColumn===1&&(u=u-1),new Q(a.startLineNumber,1,u,this._editor.getModel().getLineMaxColumn(u))}return a}));let r=this._findMatches(n,!1,$0);this._decorations.set(r,n);const s=this._editor.getSelection();let o=this._decorations.getCurrentMatchesPosition(s);if(o===0&&r.length>0){const a=Sge(r.map(u=>u.range),u=>Q.compareRangesUsingStarts(u,s)>=0);o=a>0?a-1+1:o}this._state.changeMatchInfo(o,this._decorations.getCount(),void 0),e&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:r}=e,s=this._editor.getModel();return t||r===1?(n===1?n=s.getLineCount():n--,r=s.getLineMaxColumn(n)):r--,new Ee(n,r)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const h=this._decorations.matchAfterPosition(e);h&&this._setCurrentFindMatch(h);return}if(this._decorations.getCount()<$0){let h=this._decorations.matchBeforePosition(e);h&&h.isEmpty()&&h.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),h=this._decorations.matchBeforePosition(e)),h&&this._setCurrentFindMatch(h);return}if(this._cannotFind())return;let n=this._decorations.getFindScope(),r=$O._getSearchRange(this._editor.getModel(),n);r.getEndPosition().isBefore(e)&&(e=r.getEndPosition()),e.isBefore(r.getStartPosition())&&(e=r.getEndPosition());let{lineNumber:s,column:o}=e,a=this._editor.getModel(),u=new Ee(s,o),c=a.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(u)&&(u=this._prevSearchPosition(u),c=a.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,!1)),!!c){if(!t&&!r.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:r}=e,s=this._editor.getModel();return t||r===s.getLineMaxColumn(n)?(n===s.getLineCount()?n=1:n++,r=1):r++,new Ee(n,r)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const n=this._decorations.matchBeforePosition(e);n&&this._setCurrentFindMatch(n);return}if(this._decorations.getCount()<$0){let n=this._decorations.matchAfterPosition(e);n&&n.isEmpty()&&n.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),n=this._decorations.matchAfterPosition(e)),n&&this._setCurrentFindMatch(n);return}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,n,r=!1){if(this._cannotFind())return null;let s=this._decorations.getFindScope(),o=$O._getSearchRange(this._editor.getModel(),s);o.getEndPosition().isBefore(e)&&(e=o.getStartPosition()),e.isBefore(o.getStartPosition())&&(e=o.getStartPosition());let{lineNumber:a,column:u}=e,c=this._editor.getModel(),h=new Ee(a,u),f=c.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,t);return n&&f&&f.range.isEmpty()&&f.range.getStartPosition().equals(h)&&(h=this._nextSearchPosition(h),f=c.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,t)),f?!r&&!o.containsRange(f.range)?this._getNextMatch(f.range.getEndPosition(),t,n,!0):f:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?lit(this._state.replaceString):Kx.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){let r=e.buildReplaceString(n.matches,this._state.preserveCase),s=new zo(t,r);this._executeEditorCommand("replace",s),this._decorations.setStartPosition(new Ee(t.startLineNumber,t.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(e,t,n){const r=(e||[null]).map(s=>$O._getSearchRange(this._editor.getModel(),s));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null,t,n)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=$0?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new yb(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(116):null).parseSearchRequest();if(!t)return;let n=t.regex;if(!n.multiline){let f="mu";n.ignoreCase&&(f+="i"),n.global&&(f+="g"),n=new RegExp(n.source,f)}const r=this._editor.getModel(),s=r.getValue(1),o=r.getFullModelRange(),a=this._getReplacePattern();let u;const c=this._state.preserveCase;a.hasReplacementPatterns||c?u=s.replace(n,function(){return a.buildReplaceString(arguments,c)}):u=s.replace(n,a.buildReplaceString(null,c));let h=new yQ(o,u,this._editor.getSelection());this._executeEditorCommand("replaceAll",h)}_regularReplaceAll(e){const t=this._getReplacePattern();let n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let o=0,a=n.length;o<a;o++)r[o]=t.buildReplaceString(n[o].matches,this._state.preserveCase);let s=new sit(this._editor.getSelection(),n.map(o=>o.range),r);this._executeEditorCommand("replaceAll",s)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),n=this._findMatches(e,!1,1073741824).map(s=>new xt(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)),r=this._editor.getSelection();for(let s=0,o=n.length;s<o;s++)if(n[s].equalsRange(r)){n=[r].concat(n.slice(0,s)).concat(n.slice(s+1));break}this._editor.setSelections(n)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}const cit={inputActiveOptionBorder:Se.fromHex("#007ACC00"),inputActiveOptionForeground:Se.fromHex("#FFFFFF"),inputActiveOptionBackground:Se.fromHex("#0E639C50")};class L3 extends hc{constructor(e){super(),this._onChange=this._register(new ye),this.onChange=this._onChange.event,this._onKeyDown=this._register(new ye),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},cit),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...ml.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,n=>{if(n.keyCode===10||n.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),n.preventDefault();return}this._onKeyDown.fire(n)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const dit=C("caseDescription","Match Case"),hit=C("wordsDescription","Match Whole Word"),fit=C("regexDescription","Use Regular Expression");class F1e extends L3{constructor(e){super({icon:ve.caseSensitive,title:dit+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class B1e extends L3{constructor(e){super({icon:ve.wholeWord,title:hit+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class W1e extends L3{constructor(e){super({icon:ve.regex,title:fit+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class QW extends hc{constructor(e,t,n,r){super(),this._hideSoon=this._register(new lr(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const s=r.getColorTheme().getColor(Pj),o=r.getColorTheme().getColor(Bj),a=r.getColorTheme().getColor(Fj);this.caseSensitive=this._register(new F1e({appendTitle:this._keybindingLabelFor(pr.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:s,inputActiveOptionForeground:o,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new B1e({appendTitle:this._keybindingLabelFor(pr.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:s,inputActiveOptionForeground:o,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new W1e({appendTitle:this._keybindingLabelFor(pr.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:s,inputActiveOptionForeground:o,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(u=>{let c=!1;u.isRegex&&(this.regex.checked=this._state.isRegex,c=!0),u.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,c=!0),u.matchCase&&(this.caseSensitive.checked=this._state.matchCase,c=!0),!this._state.isRevealed&&c&&this._revealTemporarily()})),this._register(wX(this._domNode,u=>this._onMouseOut())),this._register(Ze(this._domNode,"mouseover",u=>this._onMouseOver())),this._applyTheme(r.getColorTheme()),this._register(r.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return QW.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(Pj),inputActiveOptionForeground:e.getColor(Bj),inputActiveOptionBackground:e.getColor(Fj)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}QW.ID="editor.contrib.findOptionsWidget";Cr((i,e)=>{const t=i.getColor(Nf);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const n=i.getColor(hm);n&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const r=i.getColor(L1);r&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${r}; }`);const s=i.getColor(Ds);s&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)});function c6(i,e){return i===1?!0:i===2?!1:e}class git extends Me{constructor(){super(),this._onFindReplaceStateChange=this._register(new ye),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return c6(this._isRegexOverride,this._isRegex)}get wholeWord(){return c6(this._wholeWordOverride,this._wholeWord)}get matchCase(){return c6(this._matchCaseOverride,this._matchCase)}get preserveCase(){return c6(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,n){let r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,r.matchesPosition=!0,s=!0),this._matchesCount!==t&&(this._matchesCount=t,r.matchesCount=!0,s=!0),typeof n<"u"&&(Q.equalsRange(this._currentMatch,n)||(this._currentMatch=n,r.currentMatch=!0,s=!0)),s&&this._onFindReplaceStateChange.fire(r)}change(e,t,n=!0){var r;let s={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},o=!1;const a=this.isRegex,u=this.wholeWord,c=this.matchCase,h=this.preserveCase;typeof e.searchString<"u"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,s.searchString=!0,o=!0),typeof e.replaceString<"u"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,s.replaceString=!0,o=!0),typeof e.isRevealed<"u"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,s.isRevealed=!0,o=!0),typeof e.isReplaceRevealed<"u"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,s.isReplaceRevealed=!0,o=!0),typeof e.isRegex<"u"&&(this._isRegex=e.isRegex),typeof e.wholeWord<"u"&&(this._wholeWord=e.wholeWord),typeof e.matchCase<"u"&&(this._matchCase=e.matchCase),typeof e.preserveCase<"u"&&(this._preserveCase=e.preserveCase),typeof e.searchScope<"u"&&(!((r=e.searchScope)===null||r===void 0)&&r.every(f=>{var p;return(p=this._searchScope)===null||p===void 0?void 0:p.some(m=>!Q.equalsRange(m,f))})||(this._searchScope=e.searchScope,s.searchScope=!0,o=!0)),typeof e.loop<"u"&&this._loop!==e.loop&&(this._loop=e.loop,s.loop=!0,o=!0),this._isRegexOverride=typeof e.isRegexOverride<"u"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride<"u"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride<"u"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride<"u"?e.preserveCaseOverride:0,a!==this.isRegex&&(o=!0,s.isRegex=!0),u!==this.wholeWord&&(o=!0,s.wholeWord=!0),c!==this.matchCase&&(o=!0,s.matchCase=!0),h!==this.preserveCase&&(o=!0,s.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=$0}}const pit=C("defaultLabel","input");class mit extends hc{constructor(e,t,n,r){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new ye),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ye),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ye),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new ye),this._onKeyUp=this._register(new ye),this._onCaseSensitiveKeyDown=this._register(new ye),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new ye),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||pit,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const s=r.appendCaseSensitiveLabel||"",o=r.appendWholeWordsLabel||"",a=r.appendRegexLabel||"",u=r.history||[],c=!!r.flexibleHeight,h=!!r.flexibleWidth,f=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new O_e(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:u,showHistoryHint:r.showHistoryHint,flexibleHeight:c,flexibleWidth:h,flexibleMaxHeight:f})),this.regex=this._register(new W1e({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(v=>{this._onRegexKeyDown.fire(v)})),this.wholeWords=this._register(new B1e({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new F1e({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(v=>{this._onCaseSensitiveKeyDown.fire(v)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let p=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,v=>{if(v.equals(15)||v.equals(17)||v.equals(9)){let b=p.indexOf(document.activeElement);if(b>=0){let S=-1;v.equals(17)?S=(b+1)%p.length:v.equals(15)&&(b===0?S=p.length-1:S=b-1),v.equals(9)?(p[b].blur(),this.inputBox.focus()):S>=0&&p[S].focus(),Fi.stop(v,!0)}}});let m=document.createElement("div");m.className="controls",m.style.display=this._showOptionButtons?"block":"none",m.appendChild(this.caseSensitive.domNode),m.appendChild(this.wholeWords.domNode),m.appendChild(this.regex.domNode),this.domNode.appendChild(m),e&&e.appendChild(this.domNode),this._register(Ze(this.inputBox.inputElement,"compositionstart",v=>{this.imeSessionInProgress=!0})),this._register(Ze(this.inputBox.inputElement,"compositionend",v=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,v=>this._onKeyDown.fire(v)),this.onkeyup(this.inputBox.inputElement,v=>this._onKeyUp.fire(v)),this.oninput(this.inputBox.inputElement,v=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,v=>this._onMouseDown.fire(v))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const _it=C("defaultLabel","input"),vit=C("label.preserveCaseCheckbox","Preserve Case");class bit extends L3{constructor(e){super({icon:ve.preserveCase,title:vit+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Cit extends hc{constructor(e,t,n,r){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new ye),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ye),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ye),this._onInput=this._register(new ye),this._onKeyUp=this._register(new ye),this._onPreserveCaseKeyDown=this._register(new ye),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||_it,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const s=r.appendPreserveCaseLabel||"",o=r.history||[],a=!!r.flexibleHeight,u=!!r.flexibleWidth,c=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new O_e(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:o,showHistoryHint:r.showHistoryHint,flexibleHeight:a,flexibleWidth:u,flexibleMaxHeight:c})),this.preserveCase=this._register(new bit({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(p=>{this._onPreserveCaseKeyDown.fire(p)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let h=[this.preserveCase.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){let m=h.indexOf(document.activeElement);if(m>=0){let v=-1;p.equals(17)?v=(m+1)%h.length:p.equals(15)&&(m===0?v=h.length-1:v=m-1),p.equals(9)?(h[m].blur(),this.inputBox.focus()):v>=0&&h[v].focus(),Fi.stop(p,!0)}}});let f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.preserveCase.domNode),this.domNode.appendChild(f),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,p=>this._onKeyDown.fire(p)),this.onkeyup(this.inputBox.inputElement,p=>this._onKeyUp.fire(p)),this.oninput(this.inputBox.inputElement,p=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,p=>this._onMouseDown.fire(p))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var V1e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},H1e=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const bR="historyNavigationWidget",$1e="historyNavigationForwardsEnabled",z1e="historyNavigationBackwardsEnabled";function yit(i,e,t){new It(t,e).bindTo(i)}function wit(i,e){return i.createScoped(e.target)}function U1e(i,e){return i.getContext(document.activeElement).getValue(e)}function j1e(i,e){const t=wit(i,e);yit(t,e,bR);const n=new It($1e,!0).bindTo(t),r=new It(z1e,!0).bindTo(t);return{scopedContextKeyService:t,historyNavigationForwardsEnablement:n,historyNavigationBackwardsEnablement:r}}let lY=class extends mit{constructor(e,t,n,r,s=!1){super(e,t,s,n),this._register(j1e(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};lY=V1e([H1e(3,gn)],lY);let uY=class extends Cit{constructor(e,t,n,r,s=!1){super(e,t,s,n),this._register(j1e(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};uY=V1e([H1e(3,gn)],uY);Xo.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:bt.and(bt.has(bR),bt.equals(z1e,!0),qn.Visible.isEqualTo(!1)),primary:16,secondary:[528],handler:i=>{const e=U1e(i.get(gn),bR);e&&e.historyNavigator.showPreviousValue()}});Xo.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:bt.and(bt.has(bR),bt.equals($1e,!0),qn.Visible.isEqualTo(!1)),primary:18,secondary:[530],handler:i=>{const e=U1e(i.get(gn),bR);e&&e.historyNavigator.showNextValue()}});function ale(i){var e,t;return((e=i.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=i.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}var Sit=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const xit=To("find-selection",ve.selection,C("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),lle=To("find-collapsed",ve.chevronRight,C("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),ule=To("find-expanded",ve.chevronDown,C("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Eit=To("find-replace",ve.replace,C("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Lit=To("find-replace-all",ve.replaceAll,C("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Dit=To("find-previous-match",ve.arrowUp,C("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Tit=To("find-next-match",ve.arrowDown,C("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Iit=C("label.find","Find"),kit=C("placeholder.find","Find"),Nit=C("label.previousMatchButton","Previous Match"),Ait=C("label.nextMatchButton","Next Match"),Oit=C("label.toggleSelectionFind","Find in Selection"),Mit=C("label.closeButton","Close"),Rit=C("label.replace","Replace"),Pit=C("placeholder.replace","Replace"),Fit=C("label.replaceButton","Replace"),Bit=C("label.replaceAllButton","Replace All"),Wit=C("label.toggleReplaceButton","Toggle Replace"),Vit=C("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",$0),Hit=C("label.matchesLocation","{0} of {1}"),cle=C("label.noResults","No results"),Jf=419,$it=275,zit=$it-54;let NA=69;const Uit=33,dle="ctrlEnterReplaceAll.windows.donotask",hle=Xn?256:2048;class Cz{constructor(e){this.afterLineNumber=e,this.heightInPx=Uit,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function fle(i,e,t){const n=!!e.match(/\n/);if(t&&n&&t.selectionStart>0){i.stopPropagation();return}}function gle(i,e,t){const n=!!e.match(/\n/);if(t&&n&&t.selectionEnd<t.value.length){i.stopPropagation();return}}class JW extends hc{constructor(e,t,n,r,s,o,a,u,c){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=n,this._contextViewProvider=r,this._keybindingService=s,this._contextKeyService=o,this._storageService=u,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!u.getBoolean(dle,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Em(500),this._register(Yn(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(h=>this._onStateChanged(h))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(h=>{if(h.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),h.hasChanged(130)&&this._tryUpdateWidgetWidth(),h.hasChanged(2)&&this.updateAccessibilitySupport(),h.hasChanged(35)){const f=this._codeEditor.getOption(35).addExtraSpaceOnTop;f&&!this._viewZone&&(this._viewZone=new Cz(0),this._showViewZone()),!f&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Sit(this,void 0,void 0,function*(){if(this._isVisible){let h=yield this._controller.getGlobalBufferTerm();h&&h!==this._state.searchString&&(this._state.change({searchString:h},!1),this._findInput.select())}}))),this._findInputFocused=XW.bindTo(o),this._findFocusTracker=this._register(vx(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=gee.bindTo(o),this._replaceFocusTracker=this._register(vx(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new Cz(0)),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(h=>{if(h.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return JW.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=rd(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,vn)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=NA+"px",this._state.matchesCount>=$0?this._matchesCount.title=Vit:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=$0&&(t+="+");let n=String(this._state.matchesPosition);n==="0"&&(n="?"),e=Dc(Hit,n,t)}else e=cle;this._matchesCount.appendChild(document.createTextNode(e)),Ko(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),NA=Math.max(NA,this._matchesCount.clientWidth)}_getAriaLabel(e,t,n){if(e===cle)return n===""?C("ariaSearchNoResultEmpty","{0} found",e):C("ariaSearchNoResult","{0} found for '{1}'",e,n);if(t){const r=C("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,n,t.startLineNumber+":"+t.startColumn),s=this._codeEditor.getModel();return s&&t.startLineNumber<=s.getLineCount()&&t.startLineNumber>=1?`${s.getLineContent(t.startLineNumber)}, ${r}`:r}return C("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,n)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let n=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const n=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=n;break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&e){const n=this._codeEditor.getDomNode();if(n){const r=ca(n),s=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),o=r.left+(s?s.left:0),a=s?s.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const u=Ufe(this._domNode).left;o>u&&(t=!1);const c=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());r.left+(c?c.left:0)>u&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const n=this._viewZone;this._viewZoneId!==void 0||!n||this._codeEditor.changeViewZones(r=>{n.heightInPx=this._getHeight(),this._viewZoneId=r.addZone(n),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+n.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Cz(0));const n=this._viewZone;this._codeEditor.changeViewZones(r=>{if(this._viewZoneId!==void 0){const s=this._getHeight();if(s===n.heightInPx)return;let o=s-n.heightInPx;n.heightInPx=s,r.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o);return}else{let s=this._getHeight();if(s-=this._codeEditor.getOption(74).top,s<=0)return;n.heightInPx=s,this._viewZoneId=r.addZone(n),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(Pj),inputActiveOptionBackground:e.getColor(Fj),inputActiveOptionForeground:e.getColor(Bj),inputBackground:e.getColor(zX),inputForeground:e.getColor(UX),inputBorder:e.getColor(jX),inputValidationInfoBackground:e.getColor(Vge),inputValidationInfoForeground:e.getColor(Hge),inputValidationInfoBorder:e.getColor($ge),inputValidationWarningBackground:e.getColor(zge),inputValidationWarningForeground:e.getColor(Uge),inputValidationWarningBorder:e.getColor(jge),inputValidationErrorBackground:e.getColor(Kge),inputValidationErrorForeground:e.getColor(qge),inputValidationErrorBorder:e.getColor(Gge)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible||!CX(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const n=e.width,r=e.minimap.minimapWidth;let s=!1,o=!1,a=!1;if(this._resized&&rd(this._domNode)>Jf){this._domNode.style.maxWidth=`${n-28-r-15}px`,this._replaceInput.width=rd(this._findInput.domNode);return}if(Jf+28+r>=n&&(o=!0),Jf+28+r-NA>=n&&(a=!0),Jf+28+r-NA>=n+50&&(s=!0),this._domNode.classList.toggle("collapsed-find-widget",s),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",o),!a&&!s&&(this._domNode.style.maxWidth=`${n-28-r-15}px`),this._resized){this._findInput.inputBox.layout();let u=this._findInput.inputBox.element.clientWidth;u>0&&(this._replaceInput.width=u)}else this._isReplaceVisible&&(this._replaceInput.width=rd(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const n=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!Q.equalsRange(t,n)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(hle|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return fle(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return gle(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(hle|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{Zo&&If&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(C("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(dle,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return fle(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return gle(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new lY(null,this._contextViewProvider,{width:zit,label:Iit,placeholder:kit,appendCaseSensitiveLabel:this._keybindingLabelFor(pr.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(pr.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(pr.ToggleRegexCommand),validation:u=>{if(u.length===0||!this._findInput.getRegex())return null;try{return new RegExp(u,"gu"),null}catch(c){return{content:c.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>ale(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(u=>this._onFindInputKeyDown(u))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(u=>{u.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),u.preventDefault())})),this._register(this._findInput.onRegexKeyDown(u=>{u.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),u.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(u=>{this._tryUpdateHeight()&&this._showViewZone()})),yl&&this._register(this._findInput.onMouseDown(u=>this._onFindInputMouseDown(u))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ow({label:Nit+this._keybindingLabelFor(pr.PreviousMatchFindAction),icon:Dit,onTrigger:()=>{this._codeEditor.getAction(pr.PreviousMatchFindAction).run().then(void 0,vn)}})),this._nextBtn=this._register(new Ow({label:Ait+this._keybindingLabelFor(pr.NextMatchFindAction),icon:Tit,onTrigger:()=>{this._codeEditor.getAction(pr.NextMatchFindAction).run().then(void 0,vn)}}));let n=document.createElement("div");n.className="find-part",n.appendChild(this._findInput.domNode);const r=document.createElement("div");r.className="find-actions",n.appendChild(r),r.appendChild(this._matchesCount),r.appendChild(this._prevBtn.domNode),r.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new L3({icon:xit,title:Oit+this._keybindingLabelFor(pr.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let u=this._codeEditor.getSelections();u.map(c=>(c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()?null:c)).filter(c=>!!c),u.length&&this._state.change({searchScope:u},!0)}}else this._state.change({searchScope:null},!0)})),r.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ow({label:Mit+this._keybindingLabelFor(pr.CloseFindWidgetCommand),icon:bme,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:u=>{u.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),u.preventDefault())}})),r.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new uY(null,void 0,{label:Rit,placeholder:Pit,appendPreserveCaseLabel:this._keybindingLabelFor(pr.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>ale(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(u=>this._onReplaceInputKeyDown(u))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(u=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(u=>{u.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),u.preventDefault())})),this._replaceBtn=this._register(new Ow({label:Fit+this._keybindingLabelFor(pr.ReplaceOneAction),icon:Eit,onTrigger:()=>{this._controller.replace()},onKeyDown:u=>{u.equals(1026)&&(this._closeBtn.focus(),u.preventDefault())}})),this._replaceAllBtn=this._register(new Ow({label:Bit+this._keybindingLabelFor(pr.ReplaceAllAction),icon:Lit,onTrigger:()=>{this._controller.replaceAll()}}));let s=document.createElement("div");s.className="replace-part",s.appendChild(this._replaceInput.domNode);const o=document.createElement("div");o.className="replace-actions",s.appendChild(o),o.appendChild(this._replaceBtn.domNode),o.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ow({label:Wit,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=rd(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${Jf}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(n),this._domNode.appendChild(s),this._resizeSash=new oa(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let a=Jf;this._register(this._resizeSash.onDidStart(()=>{a=rd(this._domNode)})),this._register(this._resizeSash.onDidChange(u=>{this._resized=!0;let c=a+u.startX-u.currentX;if(c<Jf)return;const h=parseFloat(xX(this._domNode).maxWidth)||0;c>h||(this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=rd(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const u=rd(this._domNode);if(u<Jf)return;let c=Jf;if(!this._resized||u===Jf){const h=this._codeEditor.getLayoutInfo();c=h.width-28-h.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=rd(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}JW.ID="editor.contrib.findWidget";class Ow extends hc{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Sr.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,n=>{this._opts.onTrigger(),n.preventDefault()}),this.onkeydown(this._domNode,n=>{if(n.equals(10)||n.equals(3)){this._opts.onTrigger(),n.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(n)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Sr.asClassNameArray(lle)),this._domNode.classList.add(...Sr.asClassNameArray(ule))):(this._domNode.classList.remove(...Sr.asClassNameArray(ule)),this._domNode.classList.add(...Sr.asClassNameArray(lle)))}}Cr((i,e)=>{const t=(v,b)=>{b&&e.addRule(`.monaco-editor ${v} { background-color: ${b}; }`)};t(".findMatch",i.getColor(Vj)),t(".currentFindMatch",i.getColor(cAe)),t(".findScope",i.getColor(dAe));const n=i.getColor(Nf);t(".find-widget",n);const r=i.getColor(L1);r&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${r}; }`);const s=i.getColor(fAe);s&&e.addRule(`.monaco-editor .findMatch { border: 1px ${i.type==="hc"?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const o=i.getColor(hAe);o&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${o}; padding: 1px; box-sizing: border-box; }`);const a=i.getColor(gAe);a&&e.addRule(`.monaco-editor .findScope { border: 1px ${i.type==="hc"?"dashed":"solid"} ${a}; }`);const u=i.getColor(Ds);u&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${u}; }`);const c=i.getColor(hm);c&&e.addRule(`.monaco-editor .find-widget { color: ${c}; }`);const h=i.getColor(UNe);h&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${h}; }`);const f=i.getColor(JNe);if(f)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${f}; }`);else{const v=i.getColor($6);v&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${v}; }`)}const p=i.getColor(JAe);p&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${p} !important;
		}
	`);const m=i.getColor(YC);m&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${m}; }`)});var K1e=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},cg=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},vy=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const jit=524288;function cY(i,e="single",t=!1){if(!i.hasModel())return null;const n=i.getSelection();if(e==="single"&&n.startLineNumber===n.endLineNumber||e==="multiple"){if(n.isEmpty()){const r=i.getConfiguredWordAtPosition(n.getStartPosition());if(r&&t===!1)return r.word}else if(i.getModel().getValueLengthInRange(n)<jit)return i.getModel().getValueInRange(n)}return null}let Ql=class q1e extends Me{constructor(e,t,n,r){super(),this._editor=e,this._findWidgetVisible=aw.bindTo(t),this._contextKeyService=t,this._storageService=n,this._clipboardService=r,this._updateHistoryDelayer=new Em(500),this._state=this._register(new git),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(q1e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!XW.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=Bc(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return vy(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let n=Object.assign(Object.assign({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){let r=cY(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);r&&(this._state.isRegex?n.searchString=Bc(r):n.searchString=r)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){let r=cY(this._editor,e.seedSearchStringFromSelection);r&&(n.searchString=r)}if(!n.searchString&&e.seedSearchStringFromGlobalClipboard){let r=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;r&&(n.searchString=r)}if(e.forceRevealReplace||n.isReplaceRevealed?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),e.updateSearchScope){let r=this._editor.getSelections();r.some(s=>!s.isEmpty())&&(n.searchScope=r)}n.loop=e.loop,this._state.change(n,!1),this._model||(this._model=new $O(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return vy(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Ql.ID="editor.contrib.findController";Ql=K1e([cg(1,gn),cg(2,pp),cg(3,eb)],Ql);let dY=class extends Ql{constructor(e,t,n,r,s,o,a,u){super(e,n,a,u),this._contextViewService=t,this._keybindingService=r,this._themeService=s,this._notificationService=o,this._widget=null,this._findOptionsWidget=null}_start(e,t){const n=Object.create(null,{_start:{get:()=>super._start}});return vy(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const r=this._editor.getSelection();let s=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":s=!0;break;case"never":s=!1;break;case"multiline":s=!!r&&r.startLineNumber!==r.endLineNumber;break}e.updateSearchScope=e.updateSearchScope||s,yield n._start.call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new JW(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new QW(this._editor,this._state,this._keybindingService,this._themeService))}};dY=K1e([cg(1,Rm),cg(2,gn),cg(3,Or),cg(4,Rr),cg(5,Ts),cg(6,pp),cg(7,eb)],dY);const Kit=_ge(new mge({id:pr.StartFindAction,label:C("startFindAction","Find"),alias:"Find",precondition:bt.or(he.focus,bt.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Ft.MenubarEditMenu,group:"3_find",title:C({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Kit.addImplementation(0,(i,e,t)=>{const n=Ql.get(e);return n?n.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}):!1});const qit={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:C("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:C("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:C("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:C("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class Git extends Dt{constructor(){super({id:pr.StartFindWithArgs,label:C("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:qit})}run(e,t,n){return vy(this,void 0,void 0,function*(){let r=Ql.get(t);if(r){const s=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:n.replaceString!==void 0,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{};yield r.start({forceRevealReplace:!1,seedSearchStringFromSelection:r.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(n==null?void 0:n.findInSelection)||!1,loop:t.getOption(35).loop},s),r.setGlobalBufferTerm(r.getState().searchString)}})}}class Yit extends Dt{constructor(){super({id:pr.StartFindWithSelection,label:C("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return vy(this,void 0,void 0,function*(){let n=Ql.get(t);n&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),n.setGlobalBufferTerm(n.getState().searchString))})}}class G1e extends Dt{run(e,t){return vy(this,void 0,void 0,function*(){let n=Ql.get(t);n&&!this._run(n)&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getState().searchString.length===0&&t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(n))})}}class Zit extends G1e{constructor(){super({id:pr.NextMatchFindAction,label:C("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:he.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:bt.and(he.focus,XW),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class Xit extends G1e{constructor(){super({id:pr.PreviousMatchFindAction,label:C("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:he.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:bt.and(he.focus,XW),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class Y1e extends Dt{run(e,t){return vy(this,void 0,void 0,function*(){let n=Ql.get(t);if(!n)return;const r=t.getOption(35).seedSearchStringFromSelection==="selection";let s=null;t.getOption(35).seedSearchStringFromSelection!=="never"&&(s=cY(t,"single",r)),s&&n.setSearchString(s),this._run(n)||(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:r,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(n))})}}class Qit extends Y1e{constructor(){super({id:pr.NextSelectionMatchFindAction,label:C("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class Jit extends Y1e{constructor(){super({id:pr.PreviousSelectionMatchFindAction,label:C("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const ert=_ge(new mge({id:pr.StartFindReplaceAction,label:C("startReplace","Replace"),alias:"Replace",precondition:bt.or(he.focus,bt.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Ft.MenubarEditMenu,group:"3_find",title:C({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));ert.addImplementation(0,(i,e,t)=>{if(!e.hasModel()||e.getOption(80))return!1;const n=Ql.get(e);if(!n)return!1;const r=e.getSelection(),s=n.isFindInputFocused(),o=!r.isEmpty()&&r.startLineNumber===r.endLineNumber&&e.getOption(35).seedSearchStringFromSelection!=="never"&&!s,a=s||o?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:o?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop})});Ri(Ql.ID,dY);st(Git);st(Yit);st(Zit);st(Xit);st(Qit);st(Jit);const qf=ea.bindToContribution(Ql.get);rt(new qf({id:pr.CloseFindWidgetCommand,precondition:aw,handler:i=>i.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:bt.and(he.focus,bt.not("isComposing")),primary:9,secondary:[1033]}}));rt(new qf({id:pr.ToggleCaseSensitiveCommand,precondition:void 0,handler:i=>i.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:he.focus,primary:s6.primary,mac:s6.mac,win:s6.win,linux:s6.linux}}));rt(new qf({id:pr.ToggleWholeWordCommand,precondition:void 0,handler:i=>i.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:he.focus,primary:o6.primary,mac:o6.mac,win:o6.win,linux:o6.linux}}));rt(new qf({id:pr.ToggleRegexCommand,precondition:void 0,handler:i=>i.toggleRegex(),kbOpts:{weight:100+5,kbExpr:he.focus,primary:a6.primary,mac:a6.mac,win:a6.win,linux:a6.linux}}));rt(new qf({id:pr.ToggleSearchScopeCommand,precondition:void 0,handler:i=>i.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:he.focus,primary:l6.primary,mac:l6.mac,win:l6.win,linux:l6.linux}}));rt(new qf({id:pr.TogglePreserveCaseCommand,precondition:void 0,handler:i=>i.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:he.focus,primary:u6.primary,mac:u6.mac,win:u6.win,linux:u6.linux}}));rt(new qf({id:pr.ReplaceOneAction,precondition:aw,handler:i=>i.replace(),kbOpts:{weight:100+5,kbExpr:he.focus,primary:3094}}));rt(new qf({id:pr.ReplaceOneAction,precondition:aw,handler:i=>i.replace(),kbOpts:{weight:100+5,kbExpr:bt.and(he.focus,gee),primary:3}}));rt(new qf({id:pr.ReplaceAllAction,precondition:aw,handler:i=>i.replaceAll(),kbOpts:{weight:100+5,kbExpr:he.focus,primary:2563}}));rt(new qf({id:pr.ReplaceAllAction,precondition:aw,handler:i=>i.replaceAll(),kbOpts:{weight:100+5,kbExpr:bt.and(he.focus,gee),primary:void 0,mac:{primary:2051}}}));rt(new qf({id:pr.SelectAllMatchesAction,precondition:aw,handler:i=>i.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:he.focus,primary:515}}));const ple=65535,Zp=16777215,mle=4278190080;class CR{constructor(e,t,n){if(e.length!==t.length||e.length>ple)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=n,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(n,r)=>{let s=e[e.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=r};for(let n=0,r=this._startIndexes.length;n<r;n++){let s=this._startIndexes[n],o=this._endIndexes[n];if(s>Zp||o>Zp)throw new Error("startLineNumber or endLineNumber must not exceed "+Zp);for(;e.length>0&&!t(s,o);)e.pop();let a=e.length>0?e[e.length-1]:-1;e.push(n),this._startIndexes[n]=s+((a&255)<<24),this._endIndexes[n]=o+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&Zp}getEndLineNumber(e){return this._endIndexes[e]&Zp}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,n=e%32;return(this._collapseStates[t]&1<<n)!==0}setCollapsed(e,t){let n=e/32|0,r=e%32,s=this._collapseStates[n];t?this._collapseStates[n]=s|1<<r:this._collapseStates[n]=s&~(1<<r)}setCollapsedAllOfType(e,t){let n=!1;if(this._types)for(let r=0;r<this._types.length;r++)this._types[r]===e&&(this.setCollapsed(r,t),n=!0);return n}toRegion(e){return new trt(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((this._startIndexes[e]&mle)>>>24)+((this._endIndexes[e]&mle)>>>16);return t===ple?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,n=this._startIndexes.length;if(n===0)return-1;for(;t<n;){let r=Math.floor((t+n)/2);e<this.getStartLineNumber(r)?n=r:t=r+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class trt{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class nrt{constructor(e,t){this._updateEventEmitter=new ye,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new CR(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort((n,r)=>n.regionIndex-r.regionIndex);const t={};this._decorationProvider.changeDecorations(n=>{let r=0,s=-1,o=-1;const a=u=>{for(;r<u;){const c=this._regions.getEndLineNumber(r),h=this._regions.isCollapsed(r);c<=s&&n.changeDecorationOptions(this._editorDecorationIds[r],this._decorationProvider.getDecorationOption(h,c<=o)),h&&c>o&&(o=c),r++}};for(let u of e){let c=u.regionIndex,h=this._editorDecorationIds[c];if(h&&!t[h]){t[h]=!0,a(c);let f=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,f),s=Math.max(s,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let n=[],r=(f,p)=>{for(let m of t)if(f<m&&m<=p)return!0;return!1},s=-1,o=(f,p)=>{const m=e.getStartLineNumber(f),v=e.getEndLineNumber(f);p||(p=e.isCollapsed(f)),p&&r(m,v)&&(p=!1),e.setCollapsed(f,p);const b=this._textModel.getLineMaxColumn(m),S={startLineNumber:m,startColumn:Math.max(b-1,1),endLineNumber:m,endColumn:b};n.push({range:S,options:this._decorationProvider.getDecorationOption(p,v<=s)}),p&&v>s&&(s=v)},a=0,u=()=>{for(;a<this._regions.length;){let f=this._regions.isCollapsed(a);if(a++,f)return a-1}return-1},c=0,h=u();for(;h!==-1&&c<e.length;){let f=this._textModel.getDecorationRange(this._editorDecorationIds[h]);if(f){let p=f.startLineNumber;if(f.startColumn===Math.max(f.endColumn-1,1)&&this._textModel.getLineMaxColumn(p)===f.endColumn)for(;c<e.length;){let m=e.getStartLineNumber(c);if(p>=m)o(c,p===m),c++;else break}}h=u()}for(;c<e.length;)o(c,!1),c++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){let r=n.startLineNumber,s=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:r,endLineNumber:s})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let n of e){let r=this.getRegionAtLine(n.startLineNumber);r&&!r.isCollapsed&&t.push(r)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let n=[];if(this._regions){let r=this._regions.findRange(e),s=1;for(;r>=0;){let o=this._regions.toRegion(r);(!t||t(o,s))&&n.push(o),s++,r=o.parentIndex}}return n}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let n=[],r=e?e.regionIndex+1:0,s=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const o=[];for(let a=r,u=this._regions.length;a<u;a++){let c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<s){for(;o.length>0&&!c.containedBy(o[o.length-1]);)o.pop();o.push(c),t(c,o.length)&&n.push(c)}else break}}else for(let o=r,a=this._regions.length;o<a;o++){let u=this._regions.toRegion(o);if(this._regions.getStartLineNumber(o)<s)(!t||t(u))&&n.push(u);else break}return n}}function irt(i,e,t){let n=[];for(let r of t){let s=i.getRegionAtLine(r);if(s){const o=!s.isCollapsed;if(n.push(s),e>1){let a=i.getRegionsInside(s,(u,c)=>u.isCollapsed!==o&&c<e);n.push(...a)}}}i.toggleCollapseState(n)}function ZE(i,e,t=Number.MAX_VALUE,n){let r=[];if(n&&n.length>0)for(let s of n){let o=i.getRegionAtLine(s);if(o&&(o.isCollapsed!==e&&r.push(o),t>1)){let a=i.getRegionsInside(o,(u,c)=>u.isCollapsed!==e&&c<t);r.push(...a)}}else{let s=i.getRegionsInside(null,(o,a)=>o.isCollapsed!==e&&a<t);r.push(...s)}i.toggleCollapseState(r)}function Z1e(i,e,t,n){let r=[];for(let s of n){let o=i.getAllRegionsAtLine(s,(a,u)=>a.isCollapsed!==e&&u<=t);r.push(...o)}i.toggleCollapseState(r)}function rrt(i,e,t){let n=[];for(let r of t){let s=i.getAllRegionsAtLine(r,o=>o.isCollapsed!==e);s.length>0&&n.push(s[0])}i.toggleCollapseState(n)}function srt(i,e,t,n){let r=(o,a)=>a===e&&o.isCollapsed!==t&&!n.some(u=>o.containsLine(u)),s=i.getRegionsInside(null,r);i.toggleCollapseState(s)}function X1e(i,e,t){let n=[];for(let o of t)n.push(i.getAllRegionsAtLine(o,void 0)[0]);let r=o=>n.every(a=>!a.containedBy(o)&&!o.containedBy(a))&&o.isCollapsed!==e,s=i.getRegionsInside(null,r);i.toggleCollapseState(s)}function pee(i,e,t){let n=i.textModel,r=i.regions,s=[];for(let o=r.length-1;o>=0;o--)if(t!==r.isCollapsed(o)){let a=r.getStartLineNumber(o);e.test(n.getLineContent(a))&&s.push(r.toRegion(o))}i.toggleCollapseState(s)}function mee(i,e,t){let n=i.regions,r=[];for(let s=n.length-1;s>=0;s--)t!==n.isCollapsed(s)&&e===n.getType(s)&&r.push(n.toRegion(s));i.toggleCollapseState(r)}function ort(i,e){let t=null,n=e.getRegionAtLine(i);if(n!==null&&(t=n.startLineNumber,i===t)){let r=n.parentIndex;r!==-1?t=e.regions.getStartLineNumber(r):t=null}return t}function art(i,e){let t=e.getRegionAtLine(i);if(t!==null&&t.startLineNumber===i){if(i!==t.startLineNumber)return t.startLineNumber;{let n=t.parentIndex,r=0;for(n!==-1&&(r=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=r)return null;if(t.parentIndex===n)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<i)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function lrt(i,e){let t=e.getRegionAtLine(i);if(t!==null&&t.startLineNumber===i){let n=t.parentIndex,r=0;if(n!==-1)r=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;r=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=r)return null;if(t.parentIndex===n)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>i)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}class urt{constructor(e){this._updateEventEmitter=new ye,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||JC(t.text)[0]!==0))}updateHiddenRanges(){let e=!1,t=[],n=0,r=0,s=Number.MAX_VALUE,o=-1,a=this._foldingModel.regions;for(;n<a.length;n++){if(!a.isCollapsed(n))continue;let u=a.getStartLineNumber(n)+1,c=a.getEndLineNumber(n);s<=u&&c<=o||(!e&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===u&&this._hiddenRanges[r].endLineNumber===c?(t.push(this._hiddenRanges[r]),r++):(e=!0,t.push(new Q(u,1,c,1))),s=u,o=c)}(this._hasLineChanges||e||r<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||e.length===0)return!1;let t=[];for(let n of e){if(!n.startLineNumber||!n.endLineNumber)return!1;t.push(new Q(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}))}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return _le(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1,n=this._foldingModel.textModel,r=null,s=o=>((!r||!crt(o,r))&&(r=_le(this._hiddenRanges,o)),r?r.startLineNumber-1:null);for(let o=0,a=e.length;o<a;o++){let u=e[o],c=s(u.startLineNumber);c&&(u=u.setStartPosition(c,n.getLineMaxColumn(c)),t=!0);let h=s(u.endLineNumber);h&&(u=u.setEndPosition(h,n.getLineMaxColumn(h)),t=!0),e[o]=u}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function crt(i,e){return i>=e.startLineNumber&&i<=e.endLineNumber}function _le(i,e){let t=Sge(i,n=>e<n.startLineNumber)-1;return t>=0&&i[t].endLineNumber>=e?i[t]:null}const drt=5e3,hrt="indent";class frt{constructor(e){this.editorModel=e,this.id=hrt}dispose(){}compute(e){let t=Si.getFoldingRules(this.editorModel.getLanguageId()),n=t&&!!t.offSide,r=t&&t.markers;return Promise.resolve(prt(this.editorModel,n,r))}}let grt=class{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,n){if(e>Zp||t>Zp)return;let r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let r=this._length-1,s=0;r>=0;r--,s++)t[s]=this._startIndexes[r],n[s]=this._endIndexes[r];return new CR(t,n)}else{let t=0,n=this._indentOccurrences.length;for(let a=0;a<this._indentOccurrences.length;a++){let u=this._indentOccurrences[a];if(u){if(u+t>this._foldingRangesLimit){n=a;break}t+=u}}const r=e.getOptions().tabSize;let s=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit);for(let a=this._length-1,u=0;a>=0;a--){let c=this._startIndexes[a],h=e.getLineContent(c),f=Gl.computeIndentLevel(h,r);(f<n||f===n&&t++<this._foldingRangesLimit)&&(s[u]=c,o[u]=this._endIndexes[a],u++)}return new CR(s,o)}}};function prt(i,e,t,n=drt){const r=i.getOptions().tabSize;let s=new grt(n),o;t&&(o=new RegExp(`(${t.start.source})|(?:${t.end.source})`));let a=[],u=i.getLineCount()+1;a.push({indent:-1,endAbove:u,line:u});for(let c=i.getLineCount();c>0;c--){let h=i.getLineContent(c),f=Gl.computeIndentLevel(h,r),p=a[a.length-1];if(f===-1){e&&(p.endAbove=c);continue}let m;if(o&&(m=h.match(o)))if(m[1]){let v=a.length-1;for(;v>0&&a[v].indent!==-2;)v--;if(v>0){a.length=v+1,p=a[v],s.insertFirst(c,p.line,f),p.line=c,p.indent=f,p.endAbove=c;continue}}else{a.push({indent:-2,endAbove:c,line:c});continue}if(p.indent>f){do a.pop(),p=a[a.length-1];while(p.indent>f);let v=p.endAbove-1;v-c>=1&&s.insertFirst(c,v,f)}p.indent===f?p.endAbove=c:a.push({indent:f,endAbove:c,line:c})}return s.toIndentRanges(i)}const mrt=5e3,_rt={},Q1e="syntax";class vrt{constructor(e,t,n,r=mrt){this.editorModel=e,this.providers=t,this.limit=r,this.id=Q1e;for(const s of t)typeof s.onDidChange=="function"&&(this.disposables||(this.disposables=new tt),this.disposables.add(s.onDidChange(n)))}compute(e){return brt(this.providers,this.editorModel,e).then(t=>t?J1e(t,this.limit):null)}dispose(){var e;(e=this.disposables)===null||e===void 0||e.dispose()}}function brt(i,e,t){let n=null,r=i.map((s,o)=>Promise.resolve(s.provideFoldingRanges(e,_rt,t)).then(a=>{if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(n)||(n=[]);let u=e.getLineCount();for(let c of a)c.start>0&&c.end>c.start&&c.end<=u&&n.push({start:c.start,end:c.end,rank:o,kind:c.kind})}},Jo));return Promise.all(r).then(s=>n)}class Crt{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,n,r){if(e>Zp||t>Zp)return;let s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._nestingLevels[s]=r,this._types[s]=n,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new CR(e,t,this._types)}else{let e=0,t=this._nestingLevelCounts.length;for(let o=0;o<this._nestingLevelCounts.length;o++){let a=this._nestingLevelCounts[o];if(a){if(a+e>this._foldingRangesLimit){t=o;break}e+=a}}let n=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit),s=[];for(let o=0,a=0;o<this._length;o++){let u=this._nestingLevels[o];(u<t||u===t&&e++<this._foldingRangesLimit)&&(n[a]=this._startIndexes[o],r[a]=this._endIndexes[o],s[a]=this._types[o],a++)}return new CR(n,r,s)}}}function J1e(i,e){let t=i.sort((o,a)=>{let u=o.start-a.start;return u===0&&(u=o.rank-a.rank),u}),n=new Crt(e),r,s=[];for(let o of t)if(!r)r=o,n.add(o.start,o.end,o.kind&&o.kind.value,s.length);else if(o.start>r.start)if(o.end<=r.end)s.push(r),r=o,n.add(o.start,o.end,o.kind&&o.kind.value,s.length);else{if(o.start>r.end){do r=s.pop();while(r&&o.start>r.end);r&&s.push(r),r=o}n.add(o.start,o.end,o.kind&&o.kind.value,s.length)}return n.toIndentRanges()}const ebe="init";class yrt{constructor(e,t,n,r){if(this.editorModel=e,this.id=ebe,t.length){let s=o=>({range:{startLineNumber:o.startLineNumber,startColumn:0,endLineNumber:o.endLineNumber,endColumn:e.getLineLength(o.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(s)),this.timeout=setTimeout(n,r)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let n of this.decorationIds){let r=this.editorModel.getDecorationRange(n);r&&t.push({start:r.startLineNumber,end:r.endLineNumber,rank:1})}return Promise.resolve(J1e(t,Number.MAX_VALUE))}}const _ee=To("folding-expanded",ve.chevronDown,C("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),vee=To("folding-collapsed",ve.chevronRight,C("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class md{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?md.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?md.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:md.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?md.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:md.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}md.COLLAPSED_VISUAL_DECORATION=Tn.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Sr.asClassName(vee)});md.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Tn.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Sr.asClassName(vee)});md.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Tn.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Sr.asClassName(_ee)});md.EXPANDED_VISUAL_DECORATION=Tn.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Sr.asClassName(_ee)});md.HIDDEN_RANGE_DECORATION=Tn.register({description:"folding-hidden-range-decoration",stickiness:1});var wrt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Srt=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const nl=new It("foldingEnabled",!1);let qx=class tbe extends Me{constructor(e,t){super(),this.contextKeyService=t,this.localToDispose=this._register(new tt),this.editor=e;const n=this.editor.getOptions();this._isEnabled=n.get(37),this._useFoldingProviders=n.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=n.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=n.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new md(e),this.foldingDecorationProvider.autoHideFoldingControls=n.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=n.get(39),this.foldingEnabled=nl.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(r=>{if(r.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),r.hasChanged(98)||r.hasChanged(39)){const s=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=s.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=s.get(39),this.triggerFoldingModelChanged()}r.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),r.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),r.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(e){return e.getContribution(tbe.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel||!e||e.lineCount!==t.getLineCount()||(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions))return;(e.provider===Q1e||e.provider===ebe)&&(this.foldingStateMemento=e);const n=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){const r=this.getFoldingModel();r&&r.then(s=>{if(s){this._restoringViewState=!0;try{s.applyMemento(n)}finally{this._restoringViewState=!1}}}).then(void 0,vn)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new nrt(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new urt(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new Em(200),this.cursorChangedScheduler=new lr(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(Zj.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new frt(e),this._useFoldingProviders&&this.foldingModel){let t=Zj.ordered(this.foldingModel.textModel);if(t.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new yrt(e,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);t.length>0&&(this.rangeProvider=new vrt(e,t,()=>this.triggerFoldingModelChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=this.getRangeProvider(e.textModel);let n=this.foldingRegionPromise=Do(r=>t.compute(r));return n.then(r=>{if(r&&n===this.foldingRegionPromise){let s;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const u=r.setCollapsedAllOfType(Ff.Imports.value,!0);u&&(s=k1.capture(this.editor),this._currentModelHasFoldedImports=u)}let o=this.editor.getSelections(),a=o?o.map(u=>u.startLineNumber):[];e.update(r,a),s&&s.restore(this.editor)}return e})}).then(void 0,e=>(vn(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then(t=>{if(t){let n=this.editor.getSelections();if(n&&n.length>0){let r=[];for(let s of n){let o=s.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(o)&&r.push(...t.getAllRegionsAtLine(o,a=>a.isCollapsed&&o>a.startLineNumber))}r.length&&(t.toggleCollapseState(r),this.reveal(n[0].getPosition()))}}}).then(void 0,vn)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let n=!1;switch(e.target.type){case 4:const r=e.target.detail,s=e.target.element.offsetLeft;if(r.offsetX-s<5)return;n=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let a=this.editor.getModel();if(a&&t.startColumn===a.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let n=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,s=e.target.range;if(!(!s||s.startLineNumber!==n)){if(r){if(e.target.type!==4)return}else{let o=this.editor.getModel();if(!o||s.startColumn!==o.getLineMaxColumn(n))return}t.then(o=>{if(o){let a=o.getRegionAtLine(n);if(a&&a.startLineNumber===n){let u=a.isCollapsed;if(r||u){let c=e.event.altKey,h=[];if(c){let f=m=>!m.containedBy(a)&&!a.containedBy(m),p=o.getRegionsInside(null,f);for(const m of p)m.isCollapsed&&h.push(m);h.length===0&&(h=p)}else{let f=e.event.middleButton||e.event.shiftKey;if(f)for(const p of o.getRegionsInside(a))p.isCollapsed===u&&h.push(p);(u||!f||h.length===0)&&h.push(a)}o.toggleCollapseState(h),this.reveal({lineNumber:n,column:1})}}}}).then(void 0,vn)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};qx.ID="editor.contrib.folding";qx=wrt([Srt(1,gn)],qx);class Tl extends Dt{runEditorCommand(e,t,n){let r=qx.get(t);if(!r)return;let s=r.getFoldingModel();if(s)return this.reportTelemetry(e,t),s.then(o=>{if(o){this.invoke(r,o,t,n);const a=t.getSelection();a&&r.reveal(a.getStartPosition())}})}getSelectedLines(e){let t=e.getSelections();return t?t.map(n=>n.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(n=>n+1):this.getSelectedLines(t)}run(e,t){}}function nbe(i){if(!Vl(i)){if(!vl(i))return!1;const e=i;if(!Vl(e.levels)&&!jC(e.levels)||!Vl(e.direction)&&!Fc(e.direction)||!Vl(e.selectionLines)&&(!Qfe(e.selectionLines)||!e.selectionLines.every(jC)))return!1}return!0}class xrt extends Tl{constructor(){super({id:"editor.unfold",label:C("unfoldAction.label","Unfold"),alias:"Unfold",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:nbe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,r){let s=r&&r.levels||1,o=this.getLineNumbers(r,n);r&&r.direction==="up"?Z1e(t,!1,s,o):ZE(t,!1,s,o)}}class Ert extends Tl{constructor(){super({id:"editor.unfoldRecursively",label:C("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2137),weight:100}})}invoke(e,t,n,r){ZE(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}class Lrt extends Tl{constructor(){super({id:"editor.fold",label:C("foldAction.label","Fold"),alias:"Fold",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:nbe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,r){let s=this.getLineNumbers(r,n);const o=r&&r.levels,a=r&&r.direction;typeof o!="number"&&typeof a!="string"?rrt(t,!0,s):a==="up"?Z1e(t,!0,o||1,s):ZE(t,!0,o||1,s)}}class Drt extends Tl{constructor(){super({id:"editor.toggleFold",label:C("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2090),weight:100}})}invoke(e,t,n){let r=this.getSelectedLines(n);irt(t,1,r)}}class Trt extends Tl{constructor(){super({id:"editor.foldRecursively",label:C("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2135),weight:100}})}invoke(e,t,n){let r=this.getSelectedLines(n);ZE(t,!0,Number.MAX_VALUE,r)}}class Irt extends Tl{constructor(){super({id:"editor.foldAllBlockComments",label:C("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2133),weight:100}})}invoke(e,t,n){if(t.regions.hasTypes())mee(t,Ff.Comment.value,!0);else{const r=n.getModel();if(!r)return;const s=Si.getComments(r.getLanguageId());if(s&&s.blockCommentStartToken){let o=new RegExp("^\\s*"+Bc(s.blockCommentStartToken));pee(t,o,!0)}}}}class krt extends Tl{constructor(){super({id:"editor.foldAllMarkerRegions",label:C("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2077),weight:100}})}invoke(e,t,n){if(t.regions.hasTypes())mee(t,Ff.Region.value,!0);else{const r=n.getModel();if(!r)return;const s=Si.getFoldingRules(r.getLanguageId());if(s&&s.markers&&s.markers.start){let o=new RegExp(s.markers.start);pee(t,o,!0)}}}}class Nrt extends Tl{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:C("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2078),weight:100}})}invoke(e,t,n){if(t.regions.hasTypes())mee(t,Ff.Region.value,!1);else{const r=n.getModel();if(!r)return;const s=Si.getFoldingRules(r.getLanguageId());if(s&&s.markers&&s.markers.start){let o=new RegExp(s.markers.start);pee(t,o,!1)}}}}class Art extends Tl{constructor(){super({id:"editor.foldAllExcept",label:C("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2131),weight:100}})}invoke(e,t,n){let r=this.getSelectedLines(n);X1e(t,!0,r)}}class Ort extends Tl{constructor(){super({id:"editor.unfoldAllExcept",label:C("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2129),weight:100}})}invoke(e,t,n){let r=this.getSelectedLines(n);X1e(t,!1,r)}}class Mrt extends Tl{constructor(){super({id:"editor.foldAll",label:C("foldAllAction.label","Fold All"),alias:"Fold All",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2069),weight:100}})}invoke(e,t,n){ZE(t,!0)}}class Rrt extends Tl{constructor(){super({id:"editor.unfoldAll",label:C("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2088),weight:100}})}invoke(e,t,n){ZE(t,!1)}}class by extends Tl{getFoldingLevel(){return parseInt(this.id.substr(by.ID_PREFIX.length))}invoke(e,t,n){srt(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))}}by.ID_PREFIX="editor.foldLevel";by.ID=i=>by.ID_PREFIX+i;class Prt extends Tl{constructor(){super({id:"editor.gotoParentFold",label:C("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,weight:100}})}invoke(e,t,n){let r=this.getSelectedLines(n);if(r.length>0){let s=ort(r[0],t);s!==null&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}class Frt extends Tl{constructor(){super({id:"editor.gotoPreviousFold",label:C("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,weight:100}})}invoke(e,t,n){let r=this.getSelectedLines(n);if(r.length>0){let s=art(r[0],t);s!==null&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}class Brt extends Tl{constructor(){super({id:"editor.gotoNextFold",label:C("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,weight:100}})}invoke(e,t,n){let r=this.getSelectedLines(n);if(r.length>0){let s=lrt(r[0],t);s!==null&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}Ri(qx.ID,qx);st(xrt);st(Ert);st(Lrt);st(Trt);st(Mrt);st(Rrt);st(Irt);st(krt);st(Nrt);st(Art);st(Ort);st(Drt);st(Prt);st(Frt);st(Brt);for(let i=1;i<=7;i++)vge(new by({id:by.ID(i),label:C("foldLevelAction.label","Fold Level {0}",i),alias:`Fold Level ${i}`,precondition:nl,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2048|21+i),weight:100}}));const Wrt=we("editor.foldBackground",{light:ur(r1,.3),dark:ur(r1,.3),hc:null},C("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Vrt=we("editorGutter.foldingControlForeground",{dark:EH,light:EH,hc:EH},C("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));Cr((i,e)=>{const t=i.getColor(Wrt);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);const n=i.getColor(Vrt);n&&e.addRule(`
		.monaco-editor .cldr${Sr.asCSSSelector(_ee)},
		.monaco-editor .cldr${Sr.asCSSSelector(vee)} {
			color: ${n} !important;
		}
		`)});class Hrt extends Dt{constructor(){super({id:"editor.action.fontZoomIn",label:C("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Lm.setZoomLevel(Lm.getZoomLevel()+1)}}class $rt extends Dt{constructor(){super({id:"editor.action.fontZoomOut",label:C("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Lm.setZoomLevel(Lm.getZoomLevel()-1)}}class zrt extends Dt{constructor(){super({id:"editor.action.fontZoomReset",label:C("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Lm.setZoomLevel(0)}}st(Hrt);st($rt);st(zrt);var ibe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},rbe=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},bee=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};let yR=class{constructor(e,t){this._workerService=t,this._callOnDispose=new tt,this._callOnModel=new tt,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(zF.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=zF.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let n=new aS;for(let r of t.autoFormatTriggerCharacters)n.add(r.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(r=>{let s=r.charCodeAt(r.length-1);n.has(s)&&this._trigger(String.fromCharCode(s))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),n=this._editor.getPosition();let r=!1;const s=this._editor.onDidChangeModelContent(o=>{if(o.isFlush){r=!0,s.dispose();return}for(let a=0,u=o.changes.length;a<u;a++)if(o.changes[a].range.endLineNumber<=n.lineNumber){r=!0,s.dispose();return}});jve(this._workerService,t,n,e,t.getFormattingOptions()).then(o=>{s.dispose(),!r&&zl(o)&&(Fx.execute(this._editor,o,!0),jJ(o))},o=>{throw s.dispose(),o})}};yR.ID="editor.contrib.autoFormat";yR=ibe([rbe(1,fc)],yR);let wR=class{constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new tt,this._callOnModel=new tt,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(gf.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(47)&&this.editor.hasModel()&&gf.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Uve,this.editor,e,2,Zy.None,$n.None).catch(vn))}};wR.ID="editor.contrib.formatOnPaste";wR=ibe([rbe(1,Rn)],wR);class Urt extends Dt{constructor(){super({id:"editor.action.formatDocument",label:C("formatDocument.label","Format Document"),alias:"Format Document",precondition:bt.and(he.notInCompositeEditor,he.writable,he.hasDocumentFormattingProvider),kbOpts:{kbExpr:he.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return bee(this,void 0,void 0,function*(){if(t.hasModel()){const n=e.get(Rn);yield e.get(Pm).showWhile(n.invokeFunction(ZZe,t,1,Zy.None,$n.None),250)}})}}class jrt extends Dt{constructor(){super({id:"editor.action.formatSelection",label:C("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:bt.and(he.writable,he.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2084),weight:100},contextMenuOpts:{when:he.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return bee(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get(Rn),r=t.getModel(),s=t.getSelections().map(a=>a.isEmpty()?new Q(a.startLineNumber,1,a.startLineNumber,r.getLineMaxColumn(a.startLineNumber)):a);yield e.get(Pm).showWhile(n.invokeFunction(Uve,t,s,1,Zy.None,$n.None),250)})}}Ri(yR.ID,yR);Ri(wR.ID,wR);st(Urt);st(jrt);ni.registerCommand("editor.action.format",i=>bee(void 0,void 0,void 0,function*(){const e=i.get(Mi).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=i.get(Vr);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}));class vS{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let n;typeof e=="string"?n=`${t.id}/${e}`:(n=`${t.id}/${e.name}`,t.children.get(n)!==void 0&&(n=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let r=n;for(let s=0;t.children.get(r)!==void 0;s++)r=`${n}_${s}`;return r}static empty(e){return e.children.size===0}}class vle extends vS{constructor(e,t,n){super(),this.id=e,this.parent=t,this.symbol=n,this.children=new Map}}class Krt extends vS{constructor(e,t,n,r){super(),this.id=e,this.parent=t,this.label=n,this.order=r,this.children=new Map}}class Ka extends vS{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t){let n=this._keys.for(e,!0),r=Ka._requests.get(n);if(!r){let s=new Ea;r={promiseCnt:0,source:s,promise:Ka._create(e,s.token),model:void 0},Ka._requests.set(n,r);const o=Date.now();r.promise.then(()=>{this._requestDurations.update(e,Date.now()-o)})}return r.model?Promise.resolve(r.model):(r.promiseCnt+=1,t.onCancellationRequested(()=>{--r.promiseCnt===0&&(r.source.cancel(),Ka._requests.delete(n))}),new Promise((s,o)=>{r.promise.then(a=>{r.model=a,s(a)},a=>{Ka._requests.delete(n),o(a)})}))}static _create(e,t){const n=new Ea(t),r=new Ka(e.uri),s=yd.ordered(e),o=s.map((u,c)=>{var h;let f=vS.findId(`provider_${c}`,r),p=new Krt(f,r,(h=u.displayName)!==null&&h!==void 0?h:"Unknown Outline Provider",c);return Promise.resolve(u.provideDocumentSymbols(e,n.token)).then(m=>{for(const v of m||[])Ka._makeOutlineElement(v,p);return p},m=>(Jo(m),p)).then(m=>{vS.empty(m)?m.remove():r._groups.set(f,m)})}),a=yd.onDidChange(()=>{const u=yd.ordered(e);Nc(u,s)||n.cancel()});return Promise.all(o).then(()=>n.token.isCancellationRequested&&!t.isCancellationRequested?Ka._create(e,t):r._compact()).finally(()=>{a.dispose()})}static _makeOutlineElement(e,t){let n=vS.findId(e,t),r=new vle(n,t,e);if(e.children)for(const s of e.children)Ka._makeOutlineElement(s,r);t.children.set(r.id,r)}_compact(){let e=0;for(const[t,n]of this._groups)n.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{let t=ri.first(this._groups.values());for(let[,n]of t.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof vle?e.push(t.symbol):e.push(...ri.map(t.children.values(),n=>n.symbol));return e.sort((t,n)=>Q.compareRangesUsingStarts(t.range,n.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Ka._flattenDocumentSymbols(t,e,""),t.sort((n,r)=>Q.compareRangesUsingStarts(n.range,r.range))}static _flattenDocumentSymbols(e,t,n){for(const r of t)e.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||n,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&Ka._flattenDocumentSymbols(e,r.children,r.name)}}Ka._requestDurations=new RF(yd,350);Ka._requests=new X1(9,.75);Ka._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(i,e){return`${i.id}/${e?i.getVersionId():""}/${this._hash(yd.all(i))}`}_hash(i){let e="";for(const t of i){let n=this._data.get(t);typeof n>"u"&&(n=this._counter++,this._data.set(t,n)),e+=n}return e}};var sbe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function ble(i,e,t){return sbe(this,void 0,void 0,function*(){const n=yield Ka.create(i,t);return e?n.asListOfDocumentSymbols():n.getTopLevelSymbols()})}ni.registerCommand("_executeDocumentSymbolProvider",function(i,...e){return sbe(this,void 0,void 0,function*(){const[t]=e;nr(an.isUri(t));const n=i.get($s).getModel(t);if(n)return ble(n,!1,$n.None);const r=yield i.get(wl).createModelReference(t);try{return yield ble(r.object.textEditorModel,!1,$n.None)}finally{r.dispose()}})});function Ol(i,e){let t=0;for(let n=0;n<i.length;n++)i.charAt(n)==="	"?t+=e:t++;return t}function zO(i,e,t){i=i<0?0:i;let n="";if(!t){let r=Math.floor(i/e);i=i%e;for(let s=0;s<r;s++)n+="	"}for(let r=0;r<i;r++)n+=" ";return n}function obe(i,e,t,n){if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return[];const r=Si.getIndentationRules(i.getLanguageId());if(!r)return[];for(t=Math.min(t,i.getLineCount());e<=t&&r.unIndentedLinePattern;){let b=i.getLineContent(e);if(!r.unIndentedLinePattern.test(b))break;e++}if(e>t-1)return[];const{tabSize:s,indentSize:o,insertSpaces:a}=i.getOptions(),u=(b,S)=>(S=S||1,ec.shiftIndent(b,b.length+S,s,o,a)),c=(b,S)=>(S=S||1,ec.unshiftIndent(b,b.length+S,s,o,a));let h=[],f,p=i.getLineContent(e),m=p;if(n!=null){f=n;let b=Xi(p);m=f+p.substring(b.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(m)&&(f=c(f),m=f+p.substring(b.length)),p!==m&&h.push(rs.replaceMove(new xt(e,1,e,b.length+1),Gl.normalizeIndentation(f,o,a)))}else f=Xi(p);let v=f;r.increaseIndentPattern&&r.increaseIndentPattern.test(m)?(v=u(v),f=u(f)):r.indentNextLinePattern&&r.indentNextLinePattern.test(m)&&(v=u(v)),e++;for(let b=e;b<=t;b++){let S=i.getLineContent(b),x=Xi(S),w=v+S.substring(x.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(w)&&(v=c(v),f=c(f)),x!==v&&h.push(rs.replaceMove(new xt(b,1,b,x.length+1),Gl.normalizeIndentation(v,o,a))),!(r.unIndentedLinePattern&&r.unIndentedLinePattern.test(S))&&(r.increaseIndentPattern&&r.increaseIndentPattern.test(w)?(f=u(f),v=f):r.indentNextLinePattern&&r.indentNextLinePattern.test(w)?v=u(v):v=f)}return h}class eV extends Dt{constructor(){super({id:eV.ID,label:C("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:he.writable})}run(e,t){let n=t.getModel();if(!n)return;let r=n.getOptions(),s=t.getSelection();if(!s)return;const o=new Zrt(s,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}eV.ID="editor.action.indentationToSpaces";class tV extends Dt{constructor(){super({id:tV.ID,label:C("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:he.writable})}run(e,t){let n=t.getModel();if(!n)return;let r=n.getOptions(),s=t.getSelection();if(!s)return;const o=new Xrt(s,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}tV.ID="editor.action.indentationToTabs";class abe extends Dt{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const n=e.get(qc),r=e.get($s);let s=t.getModel();if(!s)return;const o=r.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget),a=[1,2,3,4,5,6,7,8].map(c=>({id:c.toString(),label:c.toString(),description:c===o.tabSize?C("configuredTabSize","Configured Tab Size"):void 0})),u=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(a,{placeHolder:C({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[u]}).then(c=>{c&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(c.label,10),insertSpaces:this.insertSpaces})})},50)}}class nV extends abe{constructor(){super(!1,{id:nV.ID,label:C("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}nV.ID="editor.action.indentUsingTabs";class iV extends abe{constructor(){super(!0,{id:iV.ID,label:C("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}iV.ID="editor.action.indentUsingSpaces";class rV extends Dt{constructor(){super({id:rV.ID,label:C("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const n=e.get($s);let r=t.getModel();if(!r)return;const s=n.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget);r.detectIndentation(s.insertSpaces,s.tabSize)}}rV.ID="editor.action.detectIndentation";class qrt extends Dt{constructor(){super({id:"editor.action.reindentlines",label:C("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:he.writable})}run(e,t){let n=t.getModel();if(!n)return;let r=obe(n,1,n.getLineCount());r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}class Grt extends Dt{constructor(){super({id:"editor.action.reindentselectedlines",label:C("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:he.writable})}run(e,t){let n=t.getModel();if(!n)return;let r=t.getSelections();if(r===null)return;let s=[];for(let o of r){let a=o.startLineNumber,u=o.endLineNumber;if(a!==u&&o.endColumn===1&&u--,a===1){if(a===u)continue}else a--;let c=obe(n,a,u);s.push(...c)}s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}}class Yrt{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let n of e)n.range&&typeof n.text=="string"&&this._edits.push(n)}getEditOperations(e,t){for(let r of this._edits)t.addEditOperation(Q.lift(r.range),r.text);let n=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class hY{constructor(e){this.callOnDispose=new tt,this.callOnModel=new tt,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(47))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){let t=this.editor.getSelections();if(t===null||t.length>1)return;const n=this.editor.getModel();if(!n||!n.isCheapToTokenize(e.getStartPosition().lineNumber))return;const r=this.editor.getOption(9),{tabSize:s,indentSize:o,insertSpaces:a}=n.getOptions();let u=[],c={shiftIndent:m=>ec.shiftIndent(m,m.length+1,s,o,a),unshiftIndent:m=>ec.unshiftIndent(m,m.length+1,s,o,a)},h=e.startLineNumber;for(;h<=e.endLineNumber;){if(this.shouldIgnoreLine(n,h)){h++;continue}break}if(h>e.endLineNumber)return;let f=n.getLineContent(h);if(!/\S/.test(f.substring(0,e.startColumn-1))){const m=Si.getGoodIndentForLine(r,n,n.getLanguageId(),h,c);if(m!==null){let v=Xi(f),b=Ol(m,s),S=Ol(v,s);if(b!==S){let x=zO(b,s,a);u.push({range:new Q(h,1,h,v.length+1),text:x}),f=x+f.substr(v.length)}else{let x=Si.getIndentMetadata(n,h);if(x===0||x===8)return}}}const p=h;for(;h<e.endLineNumber;){if(!/\S/.test(n.getLineContent(h+1))){h++;continue}break}if(h!==e.endLineNumber){let m={getLineTokens:b=>n.getLineTokens(b),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(b,S)=>n.getLanguageIdAtPosition(b,S),getLineContent:b=>b===p?f:n.getLineContent(b)},v=Si.getGoodIndentForLine(r,m,n.getLanguageId(),h+1,c);if(v!==null){let b=Ol(v,s),S=Ol(Xi(n.getLineContent(h+1)),s);if(b!==S){let x=b-S;for(let w=h+1;w<=e.endLineNumber;w++){let E=n.getLineContent(w),N=Xi(E),H=Ol(N,s)+x,R=zO(H,s,a);R!==N&&u.push({range:new Q(w,1,w,N.length+1),text:R})}}}}if(u.length>0){this.editor.pushUndoStop();let m=new Yrt(u,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",m),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let n=e.getLineFirstNonWhitespaceColumn(t);if(n===0)return!0;let r=e.getLineTokens(t);if(r.getCount()>0){let s=r.findTokenIndexAtOffset(n);if(s>=0&&r.getStandardTokenType(s)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}hY.ID="editor.contrib.autoIndentOnPaste";function lbe(i,e,t,n){if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;let r="";for(let o=0;o<t;o++)r+=" ";let s=new RegExp(r,"gi");for(let o=1,a=i.getLineCount();o<=a;o++){let u=i.getLineFirstNonWhitespaceColumn(o);if(u===0&&(u=i.getLineMaxColumn(o)),u===1)continue;const c=new Q(o,1,o,u),h=i.getValueInRange(c),f=n?h.replace(/\t/ig,r):h.replace(s,"	");e.addEditOperation(c,f)}}class Zrt{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),lbe(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class Xrt{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),lbe(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Ri(hY.ID,hY);st(eV);st(tV);st(nV);st(iV);st(rV);st(qrt);st(Grt);var J7=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const Qrt=1500;class ube{constructor(){this._data=new ya}push(e,t){const n=this._data.get(e.uri);n===void 0?this._data.set(e.uri,new Set([t])):n.add(t)}pop(e,t){const n=this._data.get(e.uri);n&&(n.delete(t),n.size===0&&this._data.delete(e.uri))}has(e,t){var n;return!!(!((n=this._data.get(e.uri))===null||n===void 0)&&n.has(t))}}function cbe(i,e,t,n){return J7(this,void 0,void 0,function*(){const r=[],o=F0.ordered(i).reverse().map(a=>e.map(u=>J7(this,void 0,void 0,function*(){try{t.push(i,a);const c=yield a.provideInlayHints(i,u,n);c!=null&&c.length&&r.push(c.filter(h=>u.containsPosition(h.position)))}catch(c){Jo(c)}finally{t.pop(i,a)}})));return yield Promise.all(o.flat()),r.flat().sort((a,u)=>Ee.compare(a.position,u.position))})}class e9{constructor(){this._entries=new X1(50)}get(e){const t=e9._key(e);return this._entries.get(t)}set(e,t){const n=e9._key(e);this._entries.set(n,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}class Gx{constructor(e){this._editor=e,this._decorationOwnerId=++Gx._decorationOwnerIdPool,this._disposables=new tt,this._sessionDisposables=new tt,this._getInlayHintsDelays=new RF(F0,25,500),this._cache=new e9,this._decorationsMetadata=new Map,this._ruleFactory=new ope(this._editor),this._disposables.add(F0.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(t=>{t.hasChanged(126)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(126).enabled)return;const e=this._editor.getModel();if(!e||!F0.has(e))return;const t=this._cache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t);const n=new ube,r=new lr(()=>J7(this,void 0,void 0,function*(){const o=Date.now(),a=new Ea;this._sessionDisposables.add(Yn(()=>a.dispose(!0)));const u=this._getHintsRanges(),c=yield cbe(e,u,n,a.token);r.delay=this._getInlayHintsDelays.update(e,Date.now()-o),!a.token.isCancellationRequested&&(this._updateHintsDecorators(u,c),this._cache.set(e,Array.from(this._decorationsMetadata.values()).map(h=>h.hint)))}),this._getInlayHintsDelays.get(e));this._sessionDisposables.add(r),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>r.schedule())),this._sessionDisposables.add(this._editor.onDidScrollChange(()=>r.schedule())),r.schedule();const s=new tt;this._sessionDisposables.add(s);for(const o of F0.all(e))typeof o.onDidChangeInlayHints=="function"&&s.add(o.onDidChangeInlayHints(()=>{n.has(e,o)||r.schedule()}))}_getHintsRanges(){const t=this._editor.getModel(),n=this._editor.getVisibleRangesPlusViewportAboveBelow(),r=[];for(const s of n.sort(Q.compareRangesUsingStarts)){const o=t.validateRange(new Q(s.startLineNumber-30,s.startColumn,s.endLineNumber+30,s.endColumn));r.length===0||!Q.areIntersectingOrTouching(r[r.length-1],o)?r.push(o):r[r.length-1]=Q.plusRange(r[r.length-1],o)}return r}_updateHintsDecorators(e,t){const{fontSize:n,fontFamily:r}=this._getLayoutInfo(),s=this._editor.getModel(),o=[],a="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(a,r);for(const h of t){const{text:f,position:p,whitespaceBefore:m,whitespaceAfter:v}=h,b=m?n/3|0:0,S=v?n/3|0:0;let x,w;h.kind===PF.Parameter?(x=Mr(CAe),w=Mr(bAe)):h.kind===PF.Type?(x=Mr(vAe),w=Mr(_Ae)):(x=Mr(lC),w=Mr(aC));const E=this._ruleFactory.createClassNameRef({fontSize:`${n}px`,margin:`0px ${S}px 0px ${b}px`,fontFamily:`var(${a}), ${da.fontFamily}`,padding:`1px ${Math.max(1,n/4)|0}px`,borderRadius:`${n/4|0}px`,verticalAlign:"middle",backgroundColor:x,color:w});let N="before",A=Q.fromPositions(p),H=s.getWordAtPosition(p),R=!1;if(H&&(H.endColumn===p.column?(N="after",R=!0,A=Cle(H,p.lineNumber)):H.startColumn===p.column&&(R=!0,A=Cle(H,p.lineNumber))),o.push({decoration:{range:A,options:{[N]:{content:Jrt(f),inlineClassNameAffectsLetterSpacing:!0,inlineClassName:E.className},description:"InlayHint",showIfCollapsed:!R,stickiness:0}},classNameRef:E}),o.length>Qrt)break}const u=[];for(const h of e)for(const{id:f}of s.getDecorationsInRange(h,this._decorationOwnerId,!0)){const p=this._decorationsMetadata.get(f);p&&(u.push(f),p.classNameRef.dispose(),this._decorationsMetadata.delete(f))}const c=s.deltaDecorations(u,o.map(h=>h.decoration),this._decorationOwnerId);for(let h=0;h<c.length;h++)this._decorationsMetadata.set(c[h],{hint:t[h],classNameRef:o[h].classNameRef})}_getLayoutInfo(){const e=this._editor.getOption(126),t=this._editor.getOption(45);let n=e.fontSize;(!n||n<5||n>t)&&(n=t*.9|0);const r=e.fontFamily||this._editor.getOption(42);return{fontSize:n,fontFamily:r}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}}Gx.ID="editor.contrib.InlayHints";Gx._decorationOwnerIdPool=0;function Cle(i,e){return new Q(e,i.startColumn,e,i.endColumn)}function Jrt(i){const e="";return i.replace(/[ \t]/g,e)}Ri(Gx.ID,Gx);ni.registerCommand("_executeInlayHintProvider",(i,...e)=>J7(void 0,void 0,void 0,function*(){const[t,n]=e;nr(an.isUri(t)),nr(Q.isIRange(n));const r=yield i.get(wl).createModelReference(t);try{return yield cbe(r.object.textEditorModel,[Q.lift(n)],new ube,$n.None)}finally{r.dispose()}}));class est{constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new xt(r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn),r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn)):new xt(r.endLineNumber,r.endColumn-this._text.length,r.endLineNumber,r.endColumn)}}var tst=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},nst=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let W1=class fY{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(e){return e.getContribution(fY.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),r=this.editor.getModel();if(!r||!n)return;let s=n;if(s.startLineNumber!==s.endLineNumber)return;const o=new pme(this.editor,5),a=r.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=Do(u=>this.editorWorkerService.navigateValueSet(a,s,t)),this.currentRequest.then(u=>{if(!u||!u.range||!u.value||!o.validate(this.editor))return;let c=Q.lift(u.range),h=u.range,f=u.value.length-(s.endColumn-s.startColumn);h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.startColumn+u.value.length},f>1&&(s=new xt(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+f-1));const p=new est(c,s,u.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,p),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:h,options:fY.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=y1(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(vn)}).catch(vn)):Promise.resolve(void 0)}};W1.ID="editor.contrib.inPlaceReplaceController";W1.DECORATION=Tn.register({description:"in-place-replace",className:"valueSetReplacement"});W1=tst([nst(1,fc)],W1);class ist extends Dt{constructor(){super({id:"editor.action.inPlaceReplace.up",label:C("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:3154,weight:100}})}run(e,t){const n=W1.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}class rst extends Dt{constructor(){super({id:"editor.action.inPlaceReplace.down",label:C("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:3156,weight:100}})}run(e,t){const n=W1.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}Ri(W1.ID,W1);st(ist);st(rst);Cr((i,e)=>{const t=i.getColor(zpe);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)});class sst extends Dt{constructor(){super({id:"expandLineSelection",label:C("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:he.textInputFocus,primary:2090}})}run(e,t,n){if(n=n||{},!t.hasModel())return;const r=t._getViewModel();r.model.pushStackElement(),r.setCursorStates(n.source,3,wo.expandLineSelection(r,r.getCursorStates())),r.revealPrimaryCursor(n.source,!0)}}st(sst);class ost{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){let n=ast(e,this._cursors);for(let r=0,s=n.length;r<s;r++){let o=n[r];t.addEditOperation(o.range,o.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function ast(i,e){e.sort((o,a)=>o.lineNumber===a.lineNumber?o.column-a.column:o.lineNumber-a.lineNumber);for(let o=e.length-2;o>=0;o--)e[o].lineNumber===e[o+1].lineNumber&&e.splice(o,1);let t=[],n=0,r=0,s=e.length;for(let o=1,a=i.getLineCount();o<=a;o++){let u=i.getLineContent(o),c=u.length+1,h=0;if(r<s&&e[r].lineNumber===o&&(h=e[r].column,r++,h===c)||u.length===0)continue;let f=Bg(u),p=0;if(f===-1)p=1;else if(f!==u.length-1)p=f+2;else continue;p=Math.max(h,p),t[n++]=rs.delete(new Q(o,p,o,c))}return t}class dbe{constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let r=[];for(let o=n.startLineNumber;o<=n.endLineNumber;o++)r.push(e.getLineContent(o));const s=r.join(`
`);s===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new Q(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new Q(n.startLineNumber,1,n.startLineNumber,1),s+`
`):t.addEditOperation(new Q(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),`
`+s),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let r=n.startLineNumber,s=n.startColumn,o=n.endLineNumber,a=n.endColumn;this._startLineNumberDelta!==0&&(r=r+this._startLineNumberDelta,s=1),this._endLineNumberDelta!==0&&(o=o+this._endLineNumberDelta,a=1),n=xt.createWithDirection(r,s,o,a,this._selectionDirection)}return n}}class lst{constructor(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));const{tabSize:s,indentSize:o,insertSpaces:a}=e.getOptions();let u=this.buildIndentConverter(s,o,a),c={getLineTokens:h=>e.getLineTokens(h),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(h,f)=>e.getLanguageIdAtPosition(h,f),getLineContent:null};if(r.startLineNumber===r.endLineNumber&&e.getLineMaxColumn(r.startLineNumber)===1){let h=r.startLineNumber,f=this._isMovingDown?h+1:h-1;e.getLineMaxColumn(f)===1?t.addEditOperation(new Q(1,1,1,1),null):(t.addEditOperation(new Q(h,1,h,1),e.getLineContent(f)),t.addEditOperation(new Q(f,1,f,e.getLineMaxColumn(f)),null)),r=new xt(f,1,f,1)}else{let h,f;if(this._isMovingDown){h=r.endLineNumber+1,f=e.getLineContent(h),t.addEditOperation(new Q(h-1,e.getLineMaxColumn(h-1),h,e.getLineMaxColumn(h)),null);let p=f;if(this.shouldAutoIndent(e,r)){let m=this.matchEnterRule(e,u,s,h,r.startLineNumber-1);if(m!==null){let b=Xi(e.getLineContent(h)),S=m+Ol(b,s);p=zO(S,s,a)+this.trimLeft(f)}else{c.getLineContent=S=>S===r.startLineNumber?e.getLineContent(h):e.getLineContent(S);let b=Si.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(h,1),r.startLineNumber,u);if(b!==null){let S=Xi(e.getLineContent(h)),x=Ol(b,s),w=Ol(S,s);x!==w&&(p=zO(x,s,a)+this.trimLeft(f))}}t.addEditOperation(new Q(r.startLineNumber,1,r.startLineNumber,1),p+`
`);let v=this.matchEnterRuleMovingDown(e,u,s,r.startLineNumber,h,p);if(v!==null)v!==0&&this.getIndentEditsOfMovingBlock(e,t,r,s,a,v);else{c.getLineContent=S=>S===r.startLineNumber?p:S>=r.startLineNumber+1&&S<=r.endLineNumber+1?e.getLineContent(S-1):e.getLineContent(S);let b=Si.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(h,1),r.startLineNumber+1,u);if(b!==null){const S=Xi(e.getLineContent(r.startLineNumber)),x=Ol(b,s),w=Ol(S,s);if(x!==w){const E=x-w;this.getIndentEditsOfMovingBlock(e,t,r,s,a,E)}}}}else t.addEditOperation(new Q(r.startLineNumber,1,r.startLineNumber,1),p+`
`)}else if(h=r.startLineNumber-1,f=e.getLineContent(h),t.addEditOperation(new Q(h,1,h+1,1),null),t.addEditOperation(new Q(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),`
`+f),this.shouldAutoIndent(e,r)){c.getLineContent=m=>m===h?e.getLineContent(r.startLineNumber):e.getLineContent(m);let p=this.matchEnterRule(e,u,s,r.startLineNumber,r.startLineNumber-2);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(e,t,r,s,a,p);else{let m=Si.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(r.startLineNumber,1),h,u);if(m!==null){let v=Xi(e.getLineContent(r.startLineNumber)),b=Ol(m,s),S=Ol(v,s);if(b!==S){let x=b-S;this.getIndentEditsOfMovingBlock(e,t,r,s,a,x)}}}}}this._selectionId=t.trackSelection(r)}buildIndentConverter(e,t,n){return{shiftIndent:r=>ec.shiftIndent(r,r.length+1,e,t,n),unshiftIndent:r=>ec.unshiftIndent(r,r.length+1,e,t,n)}}parseEnterResult(e,t,n,r,s){if(s){let o=s.indentation;s.indentAction===xs.None||s.indentAction===xs.Indent?o=s.indentation+s.appendText:s.indentAction===xs.IndentOutdent?o=s.indentation:s.indentAction===xs.Outdent&&(o=t.unshiftIndent(s.indentation)+s.appendText);let a=e.getLineContent(r);if(this.trimLeft(a).indexOf(this.trimLeft(o))>=0){let u=Xi(e.getLineContent(r)),c=Xi(o),h=Si.getIndentMetadata(e,r);h!==null&&h&2&&(c=t.unshiftIndent(c));let f=Ol(c,n),p=Ol(u,n);return f-p}}return null}matchEnterRuleMovingDown(e,t,n,r,s,o){if(Bg(o)>=0){let a=e.getLineMaxColumn(s),u=Si.getEnterAction(this._autoIndent,e,new Q(s,a,s,a));return this.parseEnterResult(e,t,n,r,u)}else{let a=r-1;for(;a>=1;){let h=e.getLineContent(a);if(Bg(h)>=0)break;a--}if(a<1||r>e.getLineCount())return null;let u=e.getLineMaxColumn(a),c=Si.getEnterAction(this._autoIndent,e,new Q(a,u,a,u));return this.parseEnterResult(e,t,n,r,c)}}matchEnterRule(e,t,n,r,s,o){let a=s;for(;a>=1;){let h;if(a===s&&o!==void 0?h=o:h=e.getLineContent(a),Bg(h)>=0)break;a--}if(a<1||r>e.getLineCount())return null;let u=e.getLineMaxColumn(a),c=Si.getEnterAction(this._autoIndent,e,new Q(a,u,a,u));return this.parseEnterResult(e,t,n,r,c)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.isCheapToTokenize(t.startLineNumber))return!1;let n=e.getLanguageIdAtPosition(t.startLineNumber,1),r=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(n!==r||Si.getIndentRulesSupport(n)===null)}getIndentEditsOfMovingBlock(e,t,n,r,s,o){for(let a=n.startLineNumber;a<=n.endLineNumber;a++){let u=e.getLineContent(a),c=Xi(u),f=Ol(c,r)+o,p=zO(f,r,s);p!==c&&(t.addEditOperation(new Q(a,1,a,c.length+1),p),a===n.endLineNumber&&n.endColumn<=c.length+1&&p===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}class u1{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return u1._COLLATOR||(u1._COLLATOR=new Intl.Collator),u1._COLLATOR}getEditOperations(e,t){let n=ust(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,n){if(e===null)return!1;let r=hbe(e,t,n);if(!r)return!1;for(let s=0,o=r.before.length;s<o;s++)if(r.before[s]!==r.after[s])return!0;return!1}}u1._COLLATOR=null;function hbe(i,e,t){let n=e.startLineNumber,r=e.endLineNumber;if(e.endColumn===1&&r--,n>=r)return null;let s=[];for(let a=n;a<=r;a++)s.push(i.getLineContent(a));let o=s.slice(0);return o.sort(u1.getCollator().compare),t===!0&&(o=o.reverse()),{startLineNumber:n,endLineNumber:r,before:s,after:o}}function ust(i,e,t){let n=hbe(i,e,t);return n?rs.replace(new Q(n.startLineNumber,1,n.endLineNumber,i.getLineMaxColumn(n.endLineNumber)),n.after.join(`
`)):null}class fbe extends Dt{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const n=t.getSelections().map((o,a)=>({selection:o,index:a,ignore:!1}));n.sort((o,a)=>Q.compareRangesUsingStarts(o.selection,a.selection));let r=n[0];for(let o=1;o<n.length;o++){const a=n[o];r.selection.endLineNumber===a.selection.startLineNumber&&(r.index<a.index?a.ignore=!0:(r.ignore=!0,r=a))}const s=[];for(const o of n)s.push(new dbe(o.selection,this.down,o.ignore));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class cst extends fbe{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:C("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"2_line",title:C({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class dst extends fbe{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:C("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"2_line",title:C({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class hst extends Dt{constructor(){super({id:"editor.action.duplicateSelection",label:C("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:he.writable,menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"2_line",title:C({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,n){if(!t.hasModel())return;const r=[],s=t.getSelections(),o=t.getModel();for(const a of s)if(a.isEmpty())r.push(new dbe(a,!0));else{const u=new xt(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);r.push(new LPe(u,o.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class gbe extends Dt{constructor(e,t){super(t),this.down=e}run(e,t){let n=[],r=t.getSelections()||[];const s=t.getOption(9);for(const o of r)n.push(new lst(o,this.down,s));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class fst extends gbe{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:C("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"2_line",title:C({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class gst extends gbe{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:C("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"2_line",title:C({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class pbe extends Dt{constructor(e,t){super(t),this.descending=e}run(e,t){const n=t.getSelections()||[];for(const s of n)if(!u1.canRun(t.getModel(),s,this.descending))return;let r=[];for(let s=0,o=n.length;s<o;s++)r[s]=new u1(n[s],this.descending);t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class pst extends pbe{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:C("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:he.writable})}}class mst extends pbe{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:C("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:he.writable})}}class _st extends Dt{constructor(){super({id:"editor.action.removeDuplicateLines",label:C("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:he.writable})}run(e,t){if(!t.hasModel())return;let n=t.getModel();if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let r=[],s=[],o=0;for(let a of t.getSelections()){let u=new Set,c=[];for(let m=a.startLineNumber;m<=a.endLineNumber;m++){let v=n.getLineContent(m);u.has(v)||(c.push(v),u.add(v))}let h=new xt(a.startLineNumber,1,a.endLineNumber,n.getLineMaxColumn(a.endLineNumber)),f=a.startLineNumber-o,p=new xt(f,1,f+c.length-1,c[c.length-1].length);r.push(rs.replace(h,c.join(`
`))),s.push(p),o+=a.endLineNumber-a.startLineNumber+1-c.length}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}class sV extends Dt{constructor(){super({id:sV.ID,label:C("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:cs(2089,2102),weight:100}})}run(e,t,n){let r=[];n.reason==="auto-save"&&(r=(t.getSelections()||[]).map(a=>new Ee(a.positionLineNumber,a.positionColumn)));let s=t.getSelection();if(s===null)return;let o=new ost(s,r);t.pushUndoStop(),t.executeCommands(this.id,[o]),t.pushUndoStop()}}sV.ID="editor.action.trimTrailingWhitespace";class vst extends Dt{constructor(){super({id:"editor.action.deleteLines",label:C("lines.delete","Delete Line"),alias:"Delete Line",precondition:he.writable,kbOpts:{kbExpr:he.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let n=this._getLinesToRemove(t),r=t.getModel();if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;let s=0,o=[],a=[];for(let u=0,c=n.length;u<c;u++){const h=n[u];let f=h.startLineNumber,p=h.endLineNumber,m=1,v=r.getLineMaxColumn(p);p<r.getLineCount()?(p+=1,v=1):f>1&&(f-=1,m=r.getLineMaxColumn(f)),o.push(rs.replace(new xt(f,m,p,v),"")),a.push(new xt(f-s,h.positionColumn,f-s,h.positionColumn)),s+=h.endLineNumber-h.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,o,a),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(s=>{let o=s.endLineNumber;return s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(o-=1),{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber:o,positionColumn:s.positionColumn}});t.sort((s,o)=>s.startLineNumber===o.startLineNumber?s.endLineNumber-o.endLineNumber:s.startLineNumber-o.startLineNumber);let n=[],r=t[0];for(let s=1;s<t.length;s++)r.endLineNumber+1>=t[s].startLineNumber?r.endLineNumber=t[s].endLineNumber:(n.push(r),r=t[s]);return n.push(r),n}}class bst extends Dt{constructor(){super({id:"editor.action.indentLines",label:C("lines.indent","Indent Line"),alias:"Indent Line",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:2137,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,Fr.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class Cst extends Dt{constructor(){super({id:"editor.action.outdentLines",label:C("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:2135,weight:100}})}run(e,t){jS.Outdent.runEditorCommand(e,t,null)}}class yst extends Dt{constructor(){super({id:"editor.action.insertLineBefore",label:C("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:3075,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,Fr.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}class wst extends Dt{constructor(){super({id:"editor.action.insertLineAfter",label:C("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:2051,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,Fr.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}class mbe extends Dt{run(e,t){if(!t.hasModel())return;const n=t.getSelection();let r=this._getRangesToDelete(t),s=[];for(let u=0,c=r.length-1;u<c;u++){let h=r[u],f=r[u+1];Q.intersectRanges(h,f)===null?s.push(h):r[u+1]=Q.plusRange(h,f)}s.push(r[r.length-1]);let o=this._getEndCursorState(n,s),a=s.map(u=>rs.replace(u,""));t.pushUndoStop(),t.executeEdits(this.id,a,o),t.pushUndoStop()}}class Sst extends mbe{constructor(){super({id:"deleteAllLeft",label:C("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:he.writable,kbOpts:{kbExpr:he.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let n=null,r=[],s=0;return t.forEach(o=>{let a;if(o.endColumn===1&&s>0){let u=o.startLineNumber-s;a=new xt(u,o.startColumn,u,o.startColumn)}else a=new xt(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn);s+=o.endLineNumber-o.startLineNumber,o.intersectRanges(e)?n=a:r.push(a)}),n&&r.unshift(n),r}_getRangesToDelete(e){let t=e.getSelections();if(t===null)return[];let n=t,r=e.getModel();return r===null?[]:(n.sort(Q.compareRangesUsingStarts),n=n.map(s=>{if(s.isEmpty())if(s.startColumn===1){let o=Math.max(1,s.startLineNumber-1),a=s.startLineNumber===1?1:r.getLineContent(o).length+1;return new Q(o,a,s.startLineNumber,1)}else return new Q(s.startLineNumber,1,s.startLineNumber,s.startColumn);else return new Q(s.startLineNumber,1,s.endLineNumber,s.endColumn)}),n)}}class xst extends mbe{constructor(){super({id:"deleteAllRight",label:C("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:he.writable,kbOpts:{kbExpr:he.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let n=null,r=[];for(let s=0,o=t.length,a=0;s<o;s++){let u=t[s],c=new xt(u.startLineNumber-a,u.startColumn,u.startLineNumber-a,u.startColumn);u.intersectRanges(e)?n=c:r.push(c)}return n&&r.unshift(n),r}_getRangesToDelete(e){let t=e.getModel();if(t===null)return[];let n=e.getSelections();if(n===null)return[];let r=n.map(s=>{if(s.isEmpty()){const o=t.getLineMaxColumn(s.startLineNumber);return s.startColumn===o?new Q(s.startLineNumber,s.startColumn,s.startLineNumber+1,1):new Q(s.startLineNumber,s.startColumn,s.startLineNumber,o)}return s});return r.sort(Q.compareRangesUsingStarts),r}}class Est extends Dt{constructor(){super({id:"editor.action.joinLines",label:C("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:he.writable,kbOpts:{kbExpr:he.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let n=t.getSelections();if(n===null)return;let r=t.getSelection();if(r===null)return;n.sort(Q.compareRangesUsingStarts);let s=[],o=n.reduce((p,m)=>p.isEmpty()?p.endLineNumber===m.startLineNumber?(r.equalsSelection(p)&&(r=m),m):m.startLineNumber>p.endLineNumber+1?(s.push(p),m):new xt(p.startLineNumber,p.startColumn,m.endLineNumber,m.endColumn):m.startLineNumber>p.endLineNumber?(s.push(p),m):new xt(p.startLineNumber,p.startColumn,m.endLineNumber,m.endColumn));s.push(o);let a=t.getModel();if(a===null)return;let u=[],c=[],h=r,f=0;for(let p=0,m=s.length;p<m;p++){let v=s[p],b=v.startLineNumber,S=1,x=0,w,E,N=a.getLineContent(v.endLineNumber).length-v.endColumn;if(v.isEmpty()||v.startLineNumber===v.endLineNumber){let R=v.getStartPosition();R.lineNumber<a.getLineCount()?(w=b+1,E=a.getLineMaxColumn(w)):(w=R.lineNumber,E=a.getLineMaxColumn(R.lineNumber))}else w=v.endLineNumber,E=a.getLineMaxColumn(w);let A=a.getLineContent(b);for(let R=b+1;R<=w;R++){let M=a.getLineContent(R),G=a.getLineFirstNonWhitespaceColumn(R);if(G>=1){let X=!0;A===""&&(X=!1),X&&(A.charAt(A.length-1)===" "||A.charAt(A.length-1)==="	")&&(X=!1,A=A.replace(/[\s\uFEFF\xA0]+$/g," "));let $=M.substr(G-1);A+=(X?" ":"")+$,X?x=$.length+1:x=$.length}else x=0}let H=new Q(b,S,w,E);if(!H.isEmpty()){let R;v.isEmpty()?(u.push(rs.replace(H,A)),R=new xt(H.startLineNumber-f,A.length-x+1,b-f,A.length-x+1)):v.startLineNumber===v.endLineNumber?(u.push(rs.replace(H,A)),R=new xt(v.startLineNumber-f,v.startColumn,v.endLineNumber-f,v.endColumn)):(u.push(rs.replace(H,A)),R=new xt(v.startLineNumber-f,v.startColumn,v.startLineNumber-f,A.length-N)),Q.intersectRanges(H,r)!==null?h=R:c.push(R)}f+=H.endLineNumber-H.startLineNumber}c.unshift(h),t.pushUndoStop(),t.executeEdits(this.id,u,c),t.pushUndoStop()}}class Lst extends Dt{constructor(){super({id:"editor.action.transpose",label:C("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:he.writable})}run(e,t){let n=t.getSelections();if(n===null)return;let r=t.getModel();if(r===null)return;let s=[];for(let o=0,a=n.length;o<a;o++){let u=n[o];if(!u.isEmpty())continue;let c=u.getStartPosition(),h=r.getLineMaxColumn(c.lineNumber);if(c.column>=h){if(c.lineNumber===r.getLineCount())continue;let f=new Q(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p=r.getValueInRange(f).split("").reverse().join("");s.push(new zo(new xt(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),p))}else{let f=new Q(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),p=r.getValueInRange(f).split("").reverse().join("");s.push(new yQ(f,p,new xt(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class oV extends Dt{run(e,t){const n=t.getSelections();if(n===null)return;const r=t.getModel();if(r===null)return;const s=t.getOption(116),o=[];for(const a of n)if(a.isEmpty()){const u=a.getStartPosition(),c=t.getConfiguredWordAtPosition(u);if(!c)continue;const h=new Q(u.lineNumber,c.startColumn,u.lineNumber,c.endColumn),f=r.getValueInRange(h);o.push(rs.replace(h,this._modifyText(f,s)))}else{const u=r.getValueInRange(a);o.push(rs.replace(a,this._modifyText(u,s)))}t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop()}}class Dst extends oV{constructor(){super({id:"editor.action.transformToUppercase",label:C("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:he.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class Tst extends oV{constructor(){super({id:"editor.action.transformToLowercase",label:C("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:he.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class Cee{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class SR extends oV{constructor(){super({id:"editor.action.transformToTitlecase",label:C("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:he.writable})}_modifyText(e,t){const n=SR.titleBoundary.get();return n?e.toLocaleLowerCase().replace(n,r=>r.toLocaleUpperCase()):e}}SR.titleBoundary=new Cee("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class c1 extends oV{constructor(){super({id:"editor.action.transformToSnakecase",label:C("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:he.writable})}_modifyText(e,t){const n=c1.caseBoundary.get(),r=c1.singleLetters.get();return!n||!r?e:e.replace(n,"$1_$2").replace(r,"$1_$2$3").toLocaleLowerCase()}}c1.caseBoundary=new Cee("(\\p{Ll})(\\p{Lu})","gmu");c1.singleLetters=new Cee("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");st(cst);st(dst);st(hst);st(fst);st(gst);st(pst);st(mst);st(_st);st(sV);st(vst);st(bst);st(Cst);st(yst);st(wst);st(Sst);st(xst);st(Est);st(Lst);st(Dst);st(Tst);c1.caseBoundary.isSupported()&&c1.singleLetters.isSupported()&&st(c1);SR.titleBoundary.isSupported()&&st(SR);var Ist=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},kst=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},gY=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const _be=new It("LinkedEditingInputVisible",!1),vbe="linked-editing-decoration";let V1=class pY extends Me{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new tt),this._editor=e,this._enabled=!1,this._visibleContextKey=_be.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new tt),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(n=>{(n.hasChanged(61)||n.hasChanged(81))&&this.reinitialize(!1)})),this._register(WF.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(pY.ID)}reinitialize(e){const t=this._editor.getModel(),n=t!==null&&(this._editor.getOption(61)||this._editor.getOption(81))&&WF.has(t);if(n===this._enabled&&!e||(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||t===null))return;this._languageWordPattern=Si.getWordDefinition(t.getLanguageId()),this._localToDispose.add(t.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=Si.getWordDefinition(t.getLanguageId())}));const r=new Em(this._debounceDuration),s=()=>{this._rangeUpdateTriggerPromise=r.trigger(()=>this.updateRanges(),this._debounceDuration)},o=new Em(0),a=u=>{this._rangeSyncTriggerPromise=o.trigger(()=>this._syncRanges(u))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{s()})),this._localToDispose.add(this._editor.onDidChangeModelContent(u=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const c=t.getDecorationRange(this._currentDecorations[0]);if(c&&u.changes.every(h=>c.intersectRanges(h.range))){a(this._currentDecorations);return}}s()})),this._localToDispose.add({dispose:()=>{r.cancel(),o.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||e.length===0)return;const t=this._editor.getModel(),n=t.getDecorationRange(e[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const r=t.getValueInRange(n);if(this._currentWordPattern){const o=r.match(this._currentWordPattern);if((o?o[0].length:0)!==r.length)return this.clearRanges()}let s=[];for(let o=1,a=e.length;o<a;o++){const u=t.getDecorationRange(e[o]);if(u)if(u.startLineNumber!==u.endLineNumber)s.push({range:u,text:r});else{let c=t.getValueInRange(u),h=r,f=u.startColumn,p=u.endColumn;const m=Cx(c,h);f+=m,c=c.substr(m),h=h.substr(m);const v=yF(c,h);p-=v,c=c.substr(0,c.length-v),h=h.substr(0,h.length-v),(f!==p||h.length!==0)&&s.push({range:new Q(u.startLineNumber,f,u.endLineNumber,p),text:h})}}if(s.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const o=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",s),this._editor._getViewModel().setPrevEditOperationType(o)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return gY(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const n=this._editor.getModel(),r=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===r){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const o=n.getDecorationRange(this._currentDecorations[0]);if(o&&o.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=r;const s=Do(o=>gY(this,void 0,void 0,function*(){try{const a=yield bbe(n,t,o);if(s!==this._currentRequest||(this._currentRequest=null,r!==n.getVersionId()))return;let u=[];a!=null&&a.ranges&&(u=a.ranges),this._currentWordPattern=(a==null?void 0:a.wordPattern)||this._languageWordPattern;let c=!1;for(let f=0,p=u.length;f<p;f++)if(Q.containsPosition(u[f],t)){if(c=!0,f!==0){const m=u[f];u.splice(f,1),u.unshift(m)}break}if(!c){this.clearRanges();return}const h=u.map(f=>({range:f,options:pY.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,h)}catch(a){lp(a)||vn(a),(this._currentRequest===s||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=s,s})}};V1.ID="editor.contrib.linkedEditing";V1.DECORATION=Tn.register({description:"linked-editing",stickiness:0,className:vbe});V1=Ist([kst(1,gn)],V1);class Nst extends Dt{constructor(){super({id:"editor.action.linkedEditing",label:C("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:bt.and(he.writable,he.hasRenameProvider),kbOpts:{kbExpr:he.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const n=e.get(Mi),[r,s]=Array.isArray(t)&&t||[void 0,void 0];return an.isUri(r)&&Ee.isIPosition(s)?n.openCodeEditor({resource:r},n.getActiveCodeEditor()).then(o=>{o&&(o.setPosition(s),o.invokeWithinContext(a=>(this.reportTelemetry(a,o),this.run(a,o))))},vn):super.runCommand(e,t)}run(e,t){const n=V1.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}const Ast=ea.bindToContribution(V1.get);rt(new Ast({id:"cancelLinkedEditingInput",precondition:_be,handler:i=>i.clearRanges(),kbOpts:{kbExpr:he.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function bbe(i,e,t){const n=WF.ordered(i);return kfe(n.map(r=>()=>gY(this,void 0,void 0,function*(){try{return yield r.provideLinkedEditingRanges(i,e,t)}catch(s){Jo(s);return}})),r=>!!r&&zl(r==null?void 0:r.ranges))}const Ost=we("editor.linkedEditingBackground",{dark:Se.fromHex("#f00").transparent(.3),light:Se.fromHex("#f00").transparent(.3),hc:Se.fromHex("#f00").transparent(.3)},C("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Cr((i,e)=>{const t=i.getColor(Ost);t&&e.addRule(`.monaco-editor .${vbe} { background: ${t}; border-left-color: ${t}; }`)});dp("_executeLinkedEditingProvider",(i,e)=>bbe(i,e,$n.None));Ri(V1.ID,V1);st(Nst);var Cbe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class Mst{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return Cbe(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class t9{constructor(e){this._disposables=new tt;let t=[];for(const[n,r]of e){const s=n.links.map(o=>new Mst(o,r));t=t9._union(t,s),cX(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let n=[],r,s,o,a;for(r=0,o=0,s=e.length,a=t.length;r<s&&o<a;){const u=e[r],c=t[o];if(Q.areIntersectingOrTouching(u.range,c.range)){r++;continue}Q.compareRangesUsingStarts(u.range,c.range)<0?(n.push(u),r++):(n.push(c),o++)}for(;r<s;r++)n.push(e[r]);for(;o<a;o++)n.push(t[o]);return n}}function ybe(i,e){const t=[],n=xM.ordered(i).reverse().map((r,s)=>Promise.resolve(r.provideLinks(i,e)).then(o=>{o&&(t[s]=[o,r])},Jo));return Promise.all(n).then(()=>{const r=new t9(DE(t));return e.isCancellationRequested?(r.dispose(),new t9([])):r})}ni.registerCommand("_executeLinkProvider",(i,...e)=>Cbe(void 0,void 0,void 0,function*(){let[t,n]=e;nr(t instanceof an),typeof n!="number"&&(n=0);const r=i.get($s).getModel(t);if(!r)return[];const s=yield ybe(r,$n.None);if(!s)return[];for(let a=0;a<Math.min(n,s.links.length);a++)yield s.links[a].resolve($n.None);const o=s.links.slice(0);return s.dispose(),o}));var Rst=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},yle=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},Pst=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};function Fst(i,e){const t=i.url&&/^command:/i.test(i.url.toString()),n=i.tooltip?i.tooltip:t?C("links.navigate.executeCmd","Execute command"):C("links.navigate.follow","Follow link"),r=e?Xn?C("links.navigate.kb.meta.mac","cmd + click"):C("links.navigate.kb.meta","ctrl + click"):Xn?C("links.navigate.kb.alt.mac","option + click"):C("links.navigate.kb.alt","alt + click");if(i.url){let s="";if(/^command:/i.test(i.url.toString())){const a=i.url.toString().match(/^command:([^?#]+)/);if(a){const u=a[1];s=` "${C("tooltip.explanation","Execute command {0}",u)}"`}}return new Tm("",!0).appendMarkdown(`[${n}](${i.url.toString(!0).replace(/ /g,"%20")}${s}) (${r})`)}else return new Tm().appendText(`${n} (${r})`)}const wle={general:Tn.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Tn.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class JS{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:JS._getOptions(e,t,!1)}}static _getOptions(e,t,n){const r=Object.assign({},n?wle.active:wle.general);return r.hoverMessage=Fst(e,t),r}activate(e,t){e.changeDecorationOptions(this.decorationId,JS._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,JS._getOptions(this.link,t,!1))}}let Cy=class mY{constructor(e,t,n){this.listenersToRemove=new tt,this.editor=e,this.openerService=t,this.notificationService=n;let r=new L0e(e);this.listenersToRemove.add(r),this.listenersToRemove.add(r.onMouseMoveOrRelevantKeyDown(([s,o])=>{this._onEditorMouseMove(s,o)})),this.listenersToRemove.add(r.onExecute(s=>{this.onEditorMouseUp(s)})),this.listenersToRemove.add(r.onCancel(s=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(62),this.listenersToRemove.add(e.onDidChangeConfiguration(s=>{const o=e.getOption(62);this.enabled!==o&&(this.enabled=o,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(s=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(s=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(s=>this.onModelModeChanged())),this.listenersToRemove.add(xM.onDidChange(s=>this.onModelModeChanged())),this.timeout=new el,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(e){return e.getContribution(mY.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),mY.RECOMPUTE_TIME)}beginCompute(){return Pst(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(xM.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Do(t=>ybe(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){vn(t)}finally{this.computePromise=null}}})}updateDecorations(e){const t=this.editor.getOption(69)==="altKey";let n=[],r=Object.keys(this.currentOccurrences);for(let a=0,u=r.length;a<u;a++){let c=r[a],h=this.currentOccurrences[c];n.push(h.decorationId)}let s=[];if(e)for(const a of e)s.push(JS.decoration(a,t));let o=this.editor.deltaDecorations(n,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let a=0,u=o.length;a<u;a++){let c=new JS(e[a],o[a]);this.currentOccurrences[c.decorationId]=c}}_onEditorMouseMove(e,t){const n=this.editor.getOption(69)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const r=this.getLinkOccurrence(e.target.position);r&&this.editor.changeDecorations(s=>{r.activate(s,n),this.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(69)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(n=>{t.deactivate(n,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,n=!1){if(!this.openerService)return;const{link:r}=e;r.resolve($n.None).then(s=>{if(typeof s=="string"&&this.editor.hasModel()){const o=this.editor.getModel().uri;if(o.scheme===On.file&&s.startsWith(`${On.file}:`)){const a=an.parse(s);if(a.scheme===On.file){const u=K6(a);let c=null;u.startsWith("/./")?c=`.${u.substr(1)}`:u.startsWith("//./")&&(c=`.${u.substr(2)}`),c&&(s=nMe(o,c))}}}return this.openerService.open(s,{openToSide:t,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0})},s=>{const o=s instanceof Error?s.message:s;o==="invalid"?this.notificationService.warn(C("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):o==="missing"?this.notificationService.warn(C("missing.url","Failed to open this link because its target is missing.")):vn(s)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const n of t){const r=this.currentOccurrences[n.id];if(r)return r}return null}isEnabled(e,t){return!!(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};Cy.ID="editor.linkDetector";Cy.RECOMPUTE_TIME=1e3;Cy=Rst([yle(1,Yl),yle(2,Ts)],Cy);class Bst extends Dt{constructor(){super({id:"editor.action.openLink",label:C("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let n=Cy.get(t);if(!n||!t.hasModel())return;let r=t.getSelections();for(let s of r){let o=n.getLinkOccurrence(s.getEndPosition());o&&n.openLinkOccurrence(o,!1)}}}Ri(Cy.ID,Cy);st(Bst);Cr((i,e)=>{const t=i.getColor(Zge);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});function XE(i,e){const t=e.filter(n=>!i.find(r=>r.equals(n)));if(t.length>=1){const n=t.map(s=>`line ${s.viewState.position.lineNumber} column ${s.viewState.position.column}`).join(", "),r=t.length===1?C("cursorAdded","Cursor added: {0}",n):C("cursorsAdded","Cursors added: {0}",n);mF(r)}}class Wst extends Dt{constructor(){super({id:"editor.action.insertCursorAbove",label:C("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:he.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"3_multi",title:C({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,n){if(!t.hasModel())return;let r=!0;n&&n.logicalLine===!1&&(r=!1);const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();const o=s.getCursorStates();s.setCursorStates(n.source,3,wo.addCursorUp(s,o,r)),s.revealTopMostCursor(n.source),XE(o,s.getCursorStates())}}class Vst extends Dt{constructor(){super({id:"editor.action.insertCursorBelow",label:C("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:he.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"3_multi",title:C({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,n){if(!t.hasModel())return;let r=!0;n&&n.logicalLine===!1&&(r=!1);const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();const o=s.getCursorStates();s.setCursorStates(n.source,3,wo.addCursorDown(s,o,r)),s.revealBottomMostCursor(n.source),XE(o,s.getCursorStates())}}class Hst extends Dt{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:C("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:he.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"3_multi",title:C({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,n){if(!e.isEmpty()){for(let r=e.startLineNumber;r<e.endLineNumber;r++){let s=t.getLineMaxColumn(r);n.push(new xt(r,s,r,s))}e.endColumn>1&&n.push(new xt(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const n=t.getModel(),r=t.getSelections(),s=t._getViewModel(),o=s.getCursorStates();let a=[];r.forEach(u=>this.getCursorsForSelection(u,n,a)),a.length>0&&t.setSelections(a),XE(o,s.getCursorStates())}}class $st extends Dt{constructor(){super({id:"editor.action.addCursorsToBottom",label:C("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections(),r=t.getModel().getLineCount();let s=[];for(let u=n[0].startLineNumber;u<=r;u++)s.push(new xt(u,n[0].startColumn,u,n[0].endColumn));const o=t._getViewModel(),a=o.getCursorStates();s.length>0&&t.setSelections(s),XE(a,o.getCursorStates())}}class zst extends Dt{constructor(){super({id:"editor.action.addCursorsToTop",label:C("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections();let r=[];for(let a=n[0].startLineNumber;a>=1;a--)r.push(new xt(a,n[0].startColumn,a,n[0].endColumn));const s=t._getViewModel(),o=s.getCursorStates();r.length>0&&t.setSelections(r),XE(o,s.getCursorStates())}}class d6{constructor(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}}class xR{constructor(e,t,n,r,s,o,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=r,this.wholeWord=s,this.matchCase=o,this.currentMatch=a}static create(e,t){if(!e.hasModel())return null;const n=t.getState();if(!e.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new xR(e,t,!1,n.searchString,n.wholeWord,n.matchCase,null);let r=!1,s,o;const a=e.getSelections();a.length===1&&a[0].isEmpty()?(r=!0,s=!0,o=!0):(s=n.wholeWord,o=n.matchCase);const u=e.getSelection();let c,h=null;if(u.isEmpty()){const f=e.getConfiguredWordAtPosition(u.getStartPosition());if(!f)return null;c=f.word,h=new xt(u.startLineNumber,f.startColumn,u.startLineNumber,f.endColumn)}else c=e.getModel().getValueInRange(u).replace(/\r\n/g,`
`);return new xR(e,t,r,c,s,o,h)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new d6(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new d6(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return n?new xt(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new d6(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new d6(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return n?new xt(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1,1073741824)):[]}}class yy extends Me{constructor(e){super(),this._sessionDispose=this._register(new tt),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(yy.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=xR.create(this._editor,e);if(!t)return;this._session=t;const n={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(n.wholeWordOverride=1,n.matchCaseOverride=1,n.isRegexOverride=2),e.getState().change(n,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(r=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(r=>{(r.matchCase||r.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const n=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return n?new xt(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const r=e.getState().matchCase;if(!wbe(this._editor.getModel(),t,r)){const o=this._editor.getModel();let a=[];for(let u=0,c=t.length;u<c;u++)a[u]=this._expandEmptyToWord(o,t[u]);this._editor.setSelections(a);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex)t=this._editor.getModel().findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(116):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(n.searchScope){const r=n.searchScope;let s=[];t.forEach(o=>{r.forEach(a=>{o.range.endLineNumber<=a.endLineNumber&&o.range.startLineNumber>=a.startLineNumber&&s.push(o)})}),t=s}if(t.length>0){const r=this._editor.getSelection();for(let s=0,o=t.length;s<o;s++){const a=t[s];if(a.range.intersectRanges(r)){t[s]=t[0],t[0]=a;break}}this._setSelections(t.map(s=>new xt(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)))}}}yy.ID="editor.contrib.multiCursorController";class QE extends Dt{run(e,t){const n=yy.get(t);if(!n)return;const r=Ql.get(t);if(!r)return;const s=t._getViewModel();if(s){const o=s.getCursorStates();this._run(n,r),XE(o,s.getCursorStates())}}}class Ust extends QE{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:C("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:2082,weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"3_multi",title:C({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class jst extends QE{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:C("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"3_multi",title:C({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class Kst extends QE{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:C("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:cs(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class qst extends QE{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:C("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class Gst extends QE{constructor(){super({id:"editor.action.selectHighlights",label:C("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:3114,weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"3_multi",title:C({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class Yst extends QE{constructor(){super({id:"editor.action.changeAll",label:C("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:bt.and(he.writable,he.editorTextFocus),kbOpts:{kbExpr:he.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class Zst{constructor(e,t,n,r,s){this._model=e,this._searchText=t,this._matchCase=n,this._wordSeparators=r,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,s&&this._model===s._model&&this._searchText===s._searchText&&this._matchCase===s._matchCase&&this._wordSeparators===s._wordSeparators&&this._modelVersionId===s._modelVersionId&&(this._cachedFindMatches=s._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(Q.compareRangesUsingStarts)),this._cachedFindMatches}}class pm extends Me{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(96),this.decorations=[],this.updateSoon=this._register(new lr(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(t=>{this._isEnabled=e.getOption(96)})),this._register(e.onDidChangeCursorSelection(t=>{this._isEnabled&&(t.selection.isEmpty()?t.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(t=>{this._setState(null)})),this._register(e.onDidChangeModelContent(t=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(Ql.get(e).getState().onFindReplaceStateChange(t=>{this._update()}))}_update(){this._setState(pm._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,n){if(!t||!n.hasModel())return null;const r=n.getSelection();if(r.startLineNumber!==r.endLineNumber)return null;const s=yy.get(n);if(!s)return null;const o=Ql.get(n);if(!o)return null;let a=s.getSession(o);if(!a){const h=n.getSelections();if(h.length>1){const p=o.getState().matchCase;if(!wbe(n.getModel(),h,p))return null}a=xR.create(n,o)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;const u=o.getState(),c=u.matchCase;if(u.isRevealed){let h=u.searchString;c||(h=h.toLowerCase());let f=a.searchText;if(c||(f=f.toLowerCase()),h===f&&a.matchCase===u.matchCase&&a.wholeWord===u.wholeWord&&!u.isRegex)return null}return new Zst(n.getModel(),a.searchText,a.matchCase,a.wholeWord?n.getOption(116):null,e)}_setState(e){if(this.state=e,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const n=this.state.findMatches(),r=this.editor.getSelections();r.sort(Q.compareRangesUsingStarts);const s=[];for(let u=0,c=0,h=n.length,f=r.length;u<h;){const p=n[u];if(c>=f)s.push(p),u++;else{const m=Q.compareRangesUsingStarts(p,r[c]);m<0?((r[c].isEmpty()||!Q.areIntersecting(p,r[c]))&&s.push(p),u++):(m>0||u++,c++)}}const o=Sx.has(t)&&this.editor.getOption(71),a=s.map(u=>({range:u,options:o?pm._SELECTION_HIGHLIGHT:pm._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,a)}dispose(){this._setState(null),super.dispose()}}pm.ID="editor.contrib.selectionHighlighter";pm._SELECTION_HIGHLIGHT_OVERVIEW=Tn.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:Mr(DB),position:Ul.Inline},overviewRuler:{color:Mr(Jge),position:ql.Center}});pm._SELECTION_HIGHLIGHT=Tn.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function wbe(i,e,t){const n=Sle(i,e[0],!t);for(let r=1,s=e.length;r<s;r++){const o=e[r];if(o.isEmpty())return!1;const a=Sle(i,o,!t);if(n!==a)return!1}return!0}function Sle(i,e,t){const n=i.getValueInRange(e);return t?n.toLowerCase():n}Ri(yy.ID,yy);Ri(pm.ID,pm);st(Wst);st(Vst);st(Hst);st(Ust);st(jst);st(Kst);st(qst);st(Gst);st(Yst);st($st);st(zst);var Sbe=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const wy={Visible:new It("parameterHintsVisible",!1),MultipleSignatures:new It("parameterHintsMultipleSignatures",!1)};function xbe(i,e,t,n){return Sbe(this,void 0,void 0,function*(){const r=dC.ordered(i);for(const s of r)try{const o=yield s.provideSignatureHelp(i,e,n,t);if(o)return o}catch(o){Jo(o)}})}ni.registerCommand("_executeSignatureHelpProvider",(i,...e)=>Sbe(void 0,void 0,void 0,function*(){const[t,n,r]=e;nr(an.isUri(t)),nr(Ee.isIPosition(n)),nr(typeof r=="string"||!r);const s=yield i.get(wl).createModelReference(t);try{const o=yield xbe(s.object.textEditorModel,Ee.lift(n),{triggerKind:Vg.Invoke,isRetrigger:!1,triggerCharacter:r},$n.None);return o?(setTimeout(()=>o.dispose(),0),o.value):void 0}finally{s.dispose()}}));var Xst=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})},x0;(function(i){i.Default={type:0};class e{constructor(r,s){this.request=r,this.previouslyActiveHints=s,this.type=2}}i.Pending=e;class t{constructor(r){this.hints=r,this.type=1}}i.Active=t})(x0||(x0={}));class aV extends Me{constructor(e,t=aV.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new ye),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=x0.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Ja),this.triggerChars=new aS,this.retriggerChars=new aS,this.triggerId=0,this.editor=e,this.throttledDelayer=new Em(t),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(n=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(n=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(n=>this.onCursorChange(n))),this._register(this.editor.onDidChangeModelContent(n=>this.onModelContentChange())),this._register(dC.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(n=>this.onDidType(n))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=x0.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const n=this.editor.getModel();if(!n||!dC.has(n))return;const r=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(r),t).catch(vn)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%e===e-1,r=this.editor.getOption(75).cycle;if((e<2||n)&&!r){this.cancel();return}this.updateActiveSignature(n&&r?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t===0,r=this.editor.getOption(75).cycle;if((e<2||n)&&!r){this.cancel();return}this.updateActiveSignature(n&&r?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new x0.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return Xst(this,void 0,void 0,function*(){const t=this.state.type===1||this.state.type===2,n=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(Qst);this._pendingTriggers=[];const s={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:t,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const o=this.editor.getModel(),a=this.editor.getPosition();this.state=new x0.Pending(Do(u=>xbe(o,a,s,u)),n);try{const u=yield this.state.request;return e!==this.triggerId?(u==null||u.dispose(),!1):!u||!u.value.signatures||u.value.signatures.length===0?(u==null||u.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new x0.Active(u.value),this._lastSignatureHelpResult.value=u,this._onChangedHints.fire(this.state.hints),!0)}catch(u){return e===this.triggerId&&(this.state=x0.Default),vn(u),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new aS,this.retriggerChars=new aS;const e=this.editor.getModel();if(e)for(const t of dC.ordered(e)){for(const n of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(n.charCodeAt(0)),this.retriggerChars.add(n.charCodeAt(0));for(const n of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(n.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,n=e.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:Vg.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Vg.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Vg.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}aV.DEFAULT_DELAY=120;function Qst(i,e){switch(e.triggerKind){case Vg.Invoke:return e;case Vg.ContentChange:return i;case Vg.TriggerCharacter:default:return e}}var Jst=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},yz=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const ju=Ye,eot=To("parameter-hints-next",ve.chevronDown,C("parameterHintsNextIcon","Icon for show next parameter hint.")),tot=To("parameter-hints-previous",ve.chevronUp,C("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let n9=class Ebe extends Me{constructor(e,t,n,r){super(),this.editor=e,this.renderDisposeables=this._register(new tt),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Nm({editor:e},r,n)),this.model=this._register(new aV(e)),this.keyVisible=wy.Visible.bindTo(t),this.keyMultipleSignatures=wy.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(s=>{s?(this.show(),this.render(s)):this.hide()}))}createParameterHintDOMNodes(){const e=ju(".editor-widget.parameter-hints-widget"),t=We(e,ju(".phwrapper"));t.tabIndex=-1;const n=We(t,ju(".controls")),r=We(n,ju(".button"+Sr.asCSSSelector(tot))),s=We(n,ju(".overloads")),o=We(n,ju(".button"+Sr.asCSSSelector(eot)));this._register(Ze(r,"click",p=>{Fi.stop(p),this.previous()})),this._register(Ze(o,"click",p=>{Fi.stop(p),this.next()}));const a=ju(".body"),u=new JP(a,{});this._register(u),t.appendChild(u.getDomNode());const c=We(a,ju(".signature")),h=We(a,ju(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:s,docs:h,scrollbar:u},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(p=>{this.visible&&this.editor.layoutContentWidget(this)}));const f=()=>{if(!this.domNodes)return;const p=this.editor.getOption(43);this.domNodes.element.style.fontSize=`${p.fontSize}px`,this.domNodes.element.style.lineHeight=`${p.lineHeight/p.fontSize}`};f(),this._register(Bt.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(p=>p.hasChanged(43)).on(f,null)),this._register(this.editor.onDidLayoutChange(p=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const r=e.signatures[e.activeSignature];if(!r)return;const s=We(this.domNodes.signature,ju(".code")),o=this.editor.getOption(43);s.style.fontSize=`${o.fontSize}px`,s.style.fontFamily=o.fontFamily;const a=r.parameters.length>0,u=(t=r.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(a)this.renderParameters(s,r,u);else{const f=We(s,ju("span"));f.textContent=r.label}const c=r.parameters[u];if(c!=null&&c.documentation){const f=ju("span.documentation");if(typeof c.documentation=="string")f.textContent=c.documentation;else{const p=this.renderMarkdownDocs(c.documentation);f.appendChild(p.element)}We(this.domNodes.docs,ju("p",{},f))}if(r.documentation!==void 0)if(typeof r.documentation=="string")We(this.domNodes.docs,ju("p",{},r.documentation));else{const f=this.renderMarkdownDocs(r.documentation);We(this.domNodes.docs,f.element)}const h=this.hasDocs(r,c);if(this.domNodes.signature.classList.toggle("has-docs",h),this.domNodes.docs.classList.toggle("empty",!h),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let f="";const p=r.parameters[u];Array.isArray(p.label)?f=r.label.substring(p.label[0],p.label[1]):f=p.label,p.documentation&&(f+=typeof p.documentation=="string"?`, ${p.documentation}`:`, ${p.documentation.value}`),r.documentation&&(f+=typeof r.documentation=="string"?`, ${r.documentation}`:`, ${r.documentation.value}`),this.announcedLabel!==f&&(Ko(C("hint","{0}, hint",f)),this.announcedLabel=f)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var n;(n=this.domNodes)===null||n===void 0||n.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&c5(t.documentation).length>0||t&&typeof t.documentation=="object"&&c5(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&c5(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&c5(e.documentation.value).length>0)}renderParameters(e,t,n){const[r,s]=this.getParameterLabelOffsets(t,n),o=document.createElement("span");o.textContent=t.label.substring(0,r);const a=document.createElement("span");a.textContent=t.label.substring(r,s),a.className="parameter active";const u=document.createElement("span");u.textContent=t.label.substring(s),We(e,o,a,u)}getParameterLabelOffsets(e,t){const n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const r=new RegExp(`(\\W|^)${Bc(n.label)}(?=\\W|$)`,"g");r.test(e.label);const s=r.lastIndex-n.label.length;return s>=0?[s,r.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Ebe.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const n=this.domNodes.element.getElementsByClassName("phwrapper");n.length&&(n[0].style.maxHeight=t)}};n9.ID="editor.widget.parameterHintsWidget";n9=Jst([yz(1,gn),yz(2,Yl),yz(3,ta)],n9);const not=we("editorHoverWidget.highlightForeground",{dark:DH,light:DH,hc:DH},C("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));Cr((i,e)=>{const t=i.getColor(ZX);if(t){const c=i.type===Dd.HIGH_CONTRAST?2:1;e.addRule(`.monaco-editor .parameter-hints-widget { border: ${c}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`)}const n=i.getColor(ZC);n&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const r=i.getColor(SB);r&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${r}; }`);const s=i.getColor(xB);s&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${s}; }`);const o=i.getColor(YX);o&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${o}; }`);const a=i.getColor(Wge);a&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);const u=i.getColor(not);u&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${u}}`)});var iot=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},rot=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let Sy=class Lbe extends Me{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(n9,this.editor))}static get(e){return e.getContribution(Lbe.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};Sy.ID="editor.controller.parameterHints";Sy=iot([rot(1,Rn)],Sy);class sot extends Dt{constructor(){super({id:"editor.action.triggerParameterHints",label:C("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:he.hasSignatureHelpProvider,kbOpts:{kbExpr:he.editorTextFocus,primary:3082,weight:100}})}run(e,t){const n=Sy.get(t);n&&n.trigger({triggerKind:Vg.Invoke})}}Ri(Sy.ID,Sy);st(sot);const yee=100+75,wee=ea.bindToContribution(Sy.get);rt(new wee({id:"closeParameterHints",precondition:wy.Visible,handler:i=>i.cancel(),kbOpts:{weight:yee,kbExpr:he.focus,primary:9,secondary:[1033]}}));rt(new wee({id:"showPrevParameterHint",precondition:bt.and(wy.Visible,wy.MultipleSignatures),handler:i=>i.previous(),kbOpts:{weight:yee,kbExpr:he.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));rt(new wee({id:"showNextParameterHint",precondition:bt.and(wy.Visible,wy.MultipleSignatures),handler:i=>i.next(),kbOpts:{weight:yee,kbExpr:he.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var oot=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},wz=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const lV=new It("renameInputVisible",!1,C("renameInputVisible","Whether the rename input widget is visible"));let _Y=class{constructor(e,t,n,r,s){this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=r,this._disposables=new tt,this.allowEditorOverflow=!0,this._visibleContextKey=lV.bindTo(s),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(43)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",C("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var t,n;const[r,s]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(r),this._label.innerText=C({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(t=this._keybindingService.lookupKeybinding(r))===null||t===void 0?void 0:t.getLabel(),(n=this._keybindingService.lookupKeybinding(s))===null||n===void 0?void 0:n.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,n,r,s;if(!this._input||!this._domNode)return;const o=e.getColor(L1);this._domNode.style.backgroundColor=String((t=e.getColor(Nf))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=o?` 0 0 8px 2px ${o}`:"",this._domNode.style.color=String((n=e.getColor(UX))!==null&&n!==void 0?n:""),this._input.style.backgroundColor=String((r=e.getColor(zX))!==null&&r!==void 0?r:"");const a=e.getColor(jX);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=(s=a==null?void 0:a.toString())!==null&&s!==void 0?s:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(43);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,n,r,s,o){this._domNode.classList.toggle("preview",s),this._position=new Ee(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);const a=new tt;return new Promise(u=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,u(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,u({newName:this._input.value,wantsPreview:s&&c})},o.onCancellationRequested(()=>this.cancelInput(!0)),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};_Y=oot([wz(2,Rr),wz(3,Or),wz(4,gn)],_Y);var aot=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Mw=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},CC=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class See{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=BF.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return CC(this,void 0,void 0,function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const r=this._providers[this._providerRenameIdx];if(!r.resolveRenameLocation)break;let s=yield r.resolveRenameLocation(this.model,this.position,e);if(s){if(s.rejectReason){t.push(s.rejectReason);continue}return s}}const n=this.model.getWordAtPosition(this.position);return n?{range:new Q(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:Q.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return CC(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,n,r){return CC(this,void 0,void 0,function*(){const s=this._providers[t];if(!s)return{edits:[],rejectReason:n.join(`
`)};const o=yield s.provideRenameEdits(this.model,this.position,e,r);if(o){if(o.rejectReason)return this._provideRenameEdits(e,t+1,n.concat(o.rejectReason),r)}else return this._provideRenameEdits(e,t+1,n.concat(C("no result","No result.")),r);return o})}}function lot(i,e,t){return CC(this,void 0,void 0,function*(){const n=new See(i,e),r=yield n.resolveRenameLocation($n.None);return r!=null&&r.rejectReason?{edits:[],rejectReason:r.rejectReason}:n.provideRenameEdits(t,$n.None)})}let xy=class Dbe{constructor(e,t,n,r,s,o,a){this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=r,this._progressService=s,this._logService=o,this._configService=a,this._dispoableStore=new tt,this._cts=new Ea,this._renameInputField=this._dispoableStore.add(new kS(()=>this._dispoableStore.add(this._instaService.createInstance(_Y,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(Dbe.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return CC(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const e=this.editor.getPosition(),t=new See(this.editor.getModel(),e);if(!t.hasProvider())return;this._cts=new $M(this.editor,5);let n;try{const h=t.resolveRenameLocation(this._cts.token);this._progressService.showWhile(h,250),n=yield h}catch(h){cc.get(this.editor).showMessage(h||C("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e);return}if(!n)return;if(n.rejectReason){cc.get(this.editor).showMessage(n.rejectReason,e);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new $M(this.editor,5,n.range);let r=this.editor.getSelection(),s=0,o=n.text.length;!Q.isEmpty(r)&&!Q.spansMultipleLines(r)&&Q.containsRange(n.range,r)&&(s=Math.max(0,r.startColumn-n.range.startColumn),o=Math.min(n.range.endColumn,r.endColumn)-n.range.startColumn);const a=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),u=yield this._renameInputField.value.getInput(n.range,n.text,s,o,a,this._cts.token);if(typeof u=="boolean"){u&&this.editor.focus();return}this.editor.focus();const c=vX(t.provideRenameEdits(u.newName,this._cts.token),this._cts.token).then(h=>CC(this,void 0,void 0,function*(){if(!(!h||!this.editor.hasModel())){if(h.rejectReason){this._notificationService.info(h.rejectReason);return}this.editor.setSelection(Q.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(qB.convert(h),{editor:this.editor,showPreview:u.wantsPreview,label:C("label","Renaming '{0}'",n==null?void 0:n.text),quotableLabel:C("quotableLabel","Renaming {0}",n==null?void 0:n.text)}).then(f=>{f.ariaSummary&&Ko(C("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",n.text,u.newName,f.ariaSummary))}).catch(f=>{this._notificationService.error(C("rename.failedApply","Rename failed to apply edits")),this._logService.error(f)})}}),h=>{this._notificationService.error(C("rename.failed","Rename failed to compute edits")),this._logService.error(h)});return this._progressService.showWhile(c,250),c})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};xy.ID="editor.contrib.renameController";xy=aot([Mw(1,Rn),Mw(2,Ts),Mw(3,FQ),Mw(4,Pm),Mw(5,cp),Mw(6,$Q)],xy);class uot extends Dt{constructor(){super({id:"editor.action.rename",label:C("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:bt.and(he.writable,he.hasRenameProvider),kbOpts:{kbExpr:he.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const n=e.get(Mi),[r,s]=Array.isArray(t)&&t||[void 0,void 0];return an.isUri(r)&&Ee.isIPosition(s)?n.openCodeEditor({resource:r},n.getActiveCodeEditor()).then(o=>{o&&(o.setPosition(s),o.invokeWithinContext(a=>(this.reportTelemetry(a,o),this.run(a,o))))},vn):super.runCommand(e,t)}run(e,t){const n=xy.get(t);return n?n.run():Promise.resolve()}}Ri(xy.ID,xy);st(uot);const xee=ea.bindToContribution(xy.get);rt(new xee({id:"acceptRenameInput",precondition:lV,handler:i=>i.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:he.focus,primary:3}}));rt(new xee({id:"acceptRenameInputWithPreview",precondition:bt.and(lV,bt.has("config.editor.rename.enablePreview")),handler:i=>i.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:he.focus,primary:1024+3}}));rt(new xee({id:"cancelRenameInput",precondition:lV,handler:i=>i.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:he.focus,primary:9,secondary:[1033]}}));dp("_executeDocumentRenameProvider",function(i,e,...t){const[n]=t;return nr(typeof n=="string"),lot(i,e,n)});dp("_executePrepareRename",function(i,e){return CC(this,void 0,void 0,function*(){const n=yield new See(i,e).resolveRenameLocation($n.None);if(n!=null&&n.rejectReason)throw new Error(n.rejectReason);return n})});ds.as(Ky.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:C("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});class cot{provideSelectionRanges(e,t){const n=[];for(const r of t){const s=[];n.push(s),this._addInWordRanges(s,e,r),this._addWordRanges(s,e,r),this._addWhitespaceLine(s,e,r),s.push({range:e.getFullModelRange()})}return n}_addInWordRanges(e,t,n){const r=t.getWordAtPosition(n);if(!r)return;let{word:s,startColumn:o}=r,a=n.column-o,u=a,c=a,h=0;for(;u>=0;u--){let f=s.charCodeAt(u);if(u!==a&&(f===95||f===45))break;if(R0(f)&&fg(h))break;h=f}for(u+=1;c<s.length;c++){let f=s.charCodeAt(c);if(fg(f)&&R0(h))break;if(f===95||f===45)break;h=f}u<c&&e.push({range:new Q(n.lineNumber,o+u,n.lineNumber,o+c)})}_addWordRanges(e,t,n){const r=t.getWordAtPosition(n);r&&e.push({range:new Q(n.lineNumber,r.startColumn,n.lineNumber,r.endColumn)})}_addWhitespaceLine(e,t,n){t.getLineLength(n.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(n.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(n.lineNumber)===0&&e.push({range:new Q(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}var Eee=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class Lee{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const n=new Lee(t,this.ranges);return n.ranges[t].equalsRange(this.ranges[this.index])?n.mov(e):n}}class Yx{constructor(e){this._editor=e,this._ignoreSelection=!1}static get(e){return e.getContribution(Yx.ID)}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return Eee(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),n=this._editor.getModel();if(!MB.has(n)||(this._state||(yield Ibe(n,t.map(s=>s.getPosition()),this._editor.getOption(101),$n.None).then(s=>{var o;if(!(!zl(s)||s.length!==t.length)&&!(!this._editor.hasModel()||!Nc(this._editor.getSelections(),t,(a,u)=>a.equalsSelection(u)))){for(let a=0;a<s.length;a++)s[a]=s[a].filter(u=>u.containsPosition(t[a].getStartPosition())&&u.containsPosition(t[a].getEndPosition())),s[a].unshift(t[a]);this._state=s.map(a=>new Lee(0,a)),(o=this._selectionListener)===null||o===void 0||o.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var a;this._ignoreSelection||((a=this._selectionListener)===null||a===void 0||a.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(s=>s.mov(e));const r=this._state.map(s=>xt.fromPositions(s.ranges[s.index].getStartPosition(),s.ranges[s.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(r)}finally{this._ignoreSelection=!1}})}}Yx.ID="editor.contrib.smartSelectController";class Tbe extends Dt{constructor(e,t){super(t),this._forward=e}run(e,t){return Eee(this,void 0,void 0,function*(){let n=Yx.get(t);n&&(yield n.run(this._forward))})}}class dot extends Tbe{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:C("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:he.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"1_basic",title:C({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}ni.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class hot extends Tbe{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:C("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:he.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:Ft.MenubarSelectionMenu,group:"1_basic",title:C({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}Ri(Yx.ID,Yx);st(dot);st(hot);MB.register("*",new cot);function Ibe(i,e,t,n){return Eee(this,void 0,void 0,function*(){const r=MB.all(i);r.length===1&&r.unshift(new Gu);let s=[],o=[];for(const a of r)s.push(Promise.resolve(a.provideSelectionRanges(i,e,n)).then(u=>{if(zl(u)&&u.length===e.length)for(let c=0;c<e.length;c++){o[c]||(o[c]=[]);for(const h of u[c])Q.isIRange(h.range)&&Q.containsPosition(h.range,e[c])&&o[c].push(Q.lift(h.range))}},Jo));return yield Promise.all(s),o.map(a=>{if(a.length===0)return[];a.sort((f,p)=>Ee.isBefore(f.getStartPosition(),p.getStartPosition())?1:Ee.isBefore(p.getStartPosition(),f.getStartPosition())||Ee.isBefore(f.getEndPosition(),p.getEndPosition())?-1:Ee.isBefore(p.getEndPosition(),f.getEndPosition())?1:0);let u=[],c;for(const f of a)(!c||Q.containsRange(f,c)&&!Q.equalsRange(f,c))&&(u.push(f),c=f);if(!t.selectLeadingAndTrailingWhitespace)return u;let h=[u[0]];for(let f=1;f<u.length;f++){const p=u[f-1],m=u[f];if(m.startLineNumber!==p.startLineNumber||m.endLineNumber!==p.endLineNumber){const v=new Q(p.startLineNumber,i.getLineFirstNonWhitespaceColumn(p.startLineNumber),p.endLineNumber,i.getLineLastNonWhitespaceColumn(p.endLineNumber));v.containsRange(p)&&!v.equalsRange(p)&&m.containsRange(v)&&!m.equalsRange(v)&&h.push(v);const b=new Q(p.startLineNumber,1,p.endLineNumber,i.getLineMaxColumn(p.endLineNumber));b.containsRange(p)&&!b.equalsRange(v)&&m.containsRange(b)&&!m.equalsRange(b)&&h.push(b)}h.push(m)}return h})})}yke("_executeSelectionRangeProvider",function(i,...e){const[t]=e;return Ibe(i,t,{selectLeadingAndTrailingWhitespace:!0},$n.None)});class fot extends Dt{constructor(){super({id:"editor.action.forceRetokenize",label:C("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getModel();n.resetTokenization();const r=new Ug(!0);n.forceTokenization(n.getLineCount()),r.stop(),console.log(`tokenization took ${r.elapsed()}`)}}st(fot);class Zx extends Dt{constructor(){super({id:Zx.ID,label:C({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){const r=!AF.getTabFocusMode();AF.setTabFocusMode(r),Ko(r?C("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):C("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}Zx.ID="editor.action.toggleTabFocusMode";st(Zx);var got=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},xle=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},pot=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const kbe="ignoreUnusualLineTerminators";function mot(i,e,t){i.setModelProperty(e.uri,kbe,t)}function _ot(i,e){return i.getModelProperty(e.uri,kbe)}let ER=class extends Me{constructor(e,t,n){super(),this._editor=e,this._dialogService=t,this._codeEditorService=n,this._config=this._editor.getOption(113),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(113)&&(this._config=this._editor.getOption(113),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(r=>{r.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return pot(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||_ot(this._codeEditorService,e)===!0||this._editor.getOption(80))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:C("unusualLineTerminators.title","Unusual Line Terminators"),message:C("unusualLineTerminators.message","Detected unusual line terminators"),detail:C("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Vc(e.uri)),primaryButton:C("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:C("unusualLineTerminators.ignore","Ignore")})).confirmed){mot(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};ER.ID="editor.contrib.unusualLineTerminatorsDetector";ER=got([xle(1,s3),xle(2,Mi)],ER);Ri(ER.ID,ER);var vot=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Sz=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let LR=class extends Me{constructor(e,t,n,r){super(),this._modelService=t,this._themeService=n,this._configurationService=r,this._editor=e,this._tokenizeViewport=new lr(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(s=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(RB.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration(UQ)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!oq(e,this._themeService,this._configurationService)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}if(!v8e(e)){e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(n=>this._requestRange(e,n)))}_requestRange(e,t){const n=e.getVersionId(),r=Do(s=>Promise.resolve(zQ(e,t,s)));return r.then(s=>{if(!s||!s.tokens||e.isDisposed()||e.getVersionId()!==n)return;const{provider:o,tokens:a}=s,u=this._modelService.getSemanticTokensProviderStyling(o);e.setPartialSemanticTokens(t,Hme(a,u,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(r),()=>this._removeOutstandingRequest(r)),r}};LR.ID="editor.contrib.viewportSemanticTokens";LR=vot([Sz(1,$s),Sz(2,Rr),Sz(3,cr)],LR);Ri(LR.ID,LR);var bot=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Cot=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const yot=we("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},C("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),wot=we("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},C("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Sot=we("editor.wordHighlightBorder",{light:null,dark:null,hc:Sl},C("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),xot=we("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Sl},C("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),Eot=we("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},C("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Lot=we("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},C("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),uV=new It("hasWordHighlights",!1);function Nbe(i,e,t){const n=Sx.ordered(i);return kfe(n.map(r=>()=>Promise.resolve(r.provideDocumentHighlights(i,e,t)).then(void 0,Jo)),zl)}class Abe{constructor(e,t,n){this._wordRange=this._getCurrentWordRange(e,t),this.result=Do(r=>this._compute(e,t,n,r))}_getCurrentWordRange(e,t){const n=e.getWordAtPosition(t.getPosition());return n?new Q(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}isValid(e,t,n){const r=t.startLineNumber,s=t.startColumn,o=t.endColumn,a=this._getCurrentWordRange(e,t);let u=!!(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,h=n.length;!u&&c<h;c++){let f=e.getDecorationRange(n[c]);f&&f.startLineNumber===r&&f.startColumn<=s&&f.endColumn>=o&&(u=!0)}return u}cancel(){this.result.cancel()}}class Dot extends Abe{_compute(e,t,n,r){return Nbe(e,t.getPosition(),r).then(s=>s||[])}}class Tot extends Abe{constructor(e,t,n){super(e,t,n),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,n,r){return y1(250,r).then(()=>{if(!t.isEmpty())return[];const s=e.getWordAtPosition(t.getPosition());return!s||s.word.length>1e3?[]:e.findMatches(s.word,!0,!1,!0,n,!1).map(a=>({range:a.range,kind:yM.Text}))})}isValid(e,t,n){const r=t.isEmpty();return this._selectionIsEmpty!==r?!1:super.isValid(e,t,n)}}function Iot(i,e,t){return Sx.has(i)?new Dot(i,e,t):new Tot(i,e,t)}dp("_executeDocumentHighlights",(i,e)=>Nbe(i,e,$n.None));class JE{constructor(e,t){this.toUnhook=new tt,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=uV.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(n=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(n)})),this.toUnhook.add(e.onDidChangeModelContent(n=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(n=>{let r=this.editor.getOption(71);this.occurrencesHighlight!==r&&(this.occurrencesHighlight=r,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return DE(this._decorationIds.map(e=>this.model.getDecorationRange(e)).sort(Q.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),n=(e.findIndex(s=>s.containsPosition(this.editor.getPosition()))+1)%e.length,r=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);const s=this._getWord();if(s){const o=this.editor.getModel().getLineContent(r.startLineNumber);Ko(`${o}, ${n+1} of ${e.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),n=(e.findIndex(s=>s.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,r=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);const s=this._getWord();if(s){const o=this.editor.getModel().getLineContent(r.startLineNumber);Ko(`${o}, ${n+1} of ${e.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,n=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:n})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}let t=e.startColumn,n=e.endColumn;const r=this._getWord();if(!r||r.startColumn>t||r.endColumn<n){this._stopAll();return}const s=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),s)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let o=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=Iot(this.model,this.editor.getSelection(),this.editor.getOption(116)),this.workerRequest.result.then(a=>{o===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=a||[],this._beginRenderDecorations())},vn)}}_beginRenderDecorations(){let e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:JE._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===yM.Write?this._WRITE_OPTIONS:e===yM.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}JE._WRITE_OPTIONS=Tn.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Mr(Lot),position:ql.Center},minimap:{color:Mr(DB),position:Ul.Inline}});JE._TEXT_OPTIONS=Tn.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Mr(Jge),position:ql.Center},minimap:{color:Mr(DB),position:Ul.Inline}});JE._REGULAR_OPTIONS=Tn.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Mr(Eot),position:ql.Center},minimap:{color:Mr(DB),position:Ul.Inline}});let Ey=class Obe extends Me{constructor(e,t){super(),this.wordHighlighter=null;const n=()=>{e.hasModel()&&(this.wordHighlighter=new JE(e,t))};this._register(e.onDidChangeModel(r=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()})),n()}static get(e){return e.getContribution(Obe.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};Ey.ID="editor.contrib.wordHighlighter";Ey=bot([Cot(1,gn)],Ey);class Mbe extends Dt{constructor(e,t){super(t),this._isNext=e}run(e,t){const n=Ey.get(t);n&&(this._isNext?n.moveNext():n.moveBack())}}class kot extends Mbe{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:C("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:uV,kbOpts:{kbExpr:he.editorTextFocus,primary:65,weight:100}})}}class Not extends Mbe{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:C("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:uV,kbOpts:{kbExpr:he.editorTextFocus,primary:1089,weight:100}})}}class Aot extends Dt{constructor(){super({id:"editor.action.wordHighlight.trigger",label:C("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:uV.toNegated(),kbOpts:{kbExpr:he.editorTextFocus,primary:0,weight:100}})}run(e,t,n){const r=Ey.get(t);r&&r.restoreViewState(!0)}}Ri(Ey.ID,Ey);st(kot);st(Not);st(Aot);Cr((i,e)=>{const t=i.getColor(GX);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));const n=i.getColor(yot);n&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const r=i.getColor(wot);r&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${r}; }`);const s=i.getColor(uAe);s&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${i.type==="hc"?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const o=i.getColor(Sot);o&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${i.type==="hc"?"dashed":"solid"} ${o}; box-sizing: border-box; }`);const a=i.getColor(xot);a&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${i.type==="hc"?"dashed":"solid"} ${a}; box-sizing: border-box; }`)});class cV extends ea{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){if(!t.hasModel())return;const r=Hc(t.getOption(116)),s=t.getModel(),a=t.getSelections().map(u=>{const c=new Ee(u.positionLineNumber,u.positionColumn),h=this._move(r,s,c,this._wordNavigationType);return this._moveTo(u,h,this._inSelectionMode)});if(s.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map(u=>Vn.fromModelSelection(u))),a.length===1){const u=new Ee(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(u,0)}}_moveTo(e,t,n){return n?new xt(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new xt(t.lineNumber,t.column,t.lineNumber,t.column)}}class rb extends cV{_move(e,t,n,r){return ai.moveWordLeft(e,t,n,r)}}class sb extends cV{_move(e,t,n,r){return ai.moveWordRight(e,t,n,r)}}class Oot extends rb{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class Mot extends rb{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class Rot extends rb{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:bt.and(he.textInputFocus,(e=bt.and(n3,sW))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class Pot extends rb{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class Fot extends rb{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class Bot extends rb{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:bt.and(he.textInputFocus,(e=bt.and(n3,sW))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class Wot extends rb{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,n,r){return super._move(Hc(zf.wordSeparators.defaultValue),t,n,r)}}class Vot extends rb{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,n,r){return super._move(Hc(zf.wordSeparators.defaultValue),t,n,r)}}class Hot extends sb{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class $ot extends sb{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:bt.and(he.textInputFocus,(e=bt.and(n3,sW))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class zot extends sb{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class Uot extends sb{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class jot extends sb{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:bt.and(he.textInputFocus,(e=bt.and(n3,sW))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class Kot extends sb{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class qot extends sb{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,n,r){return super._move(Hc(zf.wordSeparators.defaultValue),t,n,r)}}class Got extends sb{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,n,r){return super._move(Hc(zf.wordSeparators.defaultValue),t,n,r)}}class dV extends ea{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){if(!t.hasModel())return;const r=Hc(t.getOption(116)),s=t.getModel(),o=t.getSelections(),a=t.getOption(5),u=t.getOption(8),c=Si.getAutoClosingPairs(s.getLanguageId()),h=t._getViewModel(),f=o.map(p=>{const m=this._delete({wordSeparators:r,model:s,selection:p,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:a,autoClosingQuotes:u,autoClosingPairs:c,autoClosedCharacters:h.getCursorAutoClosedCharacters()},this._wordNavigationType);return new zo(m,"")});t.pushUndoStop(),t.executeCommands(this.id,f),t.pushUndoStop()}}class Dee extends dV{_delete(e,t){let n=ai.deleteWordLeft(e,t);return n||new Q(1,1,1,1)}}class Tee extends dV{_delete(e,t){let n=ai.deleteWordRight(e,t);if(n)return n;const r=e.model.getLineCount(),s=e.model.getLineMaxColumn(r);return new Q(r,s,r,s)}}class Yot extends Dee{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:he.writable})}}class Zot extends Dee{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:he.writable})}}class Xot extends Dee{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:he.writable,kbOpts:{kbExpr:he.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class Qot extends Tee{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:he.writable})}}class Jot extends Tee{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:he.writable})}}class eat extends Tee{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:he.writable,kbOpts:{kbExpr:he.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class tat extends Dt{constructor(){super({id:"deleteInsideWord",precondition:he.writable,label:C("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,n){if(!t.hasModel())return;const r=Hc(t.getOption(116)),s=t.getModel(),a=t.getSelections().map(u=>{const c=ai.deleteInsideWord(r,s,u);return new zo(c,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}rt(new Oot);rt(new Mot);rt(new Rot);rt(new Pot);rt(new Fot);rt(new Bot);rt(new Hot);rt(new $ot);rt(new zot);rt(new Uot);rt(new jot);rt(new Kot);rt(new Wot);rt(new Vot);rt(new qot);rt(new Got);rt(new Yot);rt(new Zot);rt(new Xot);rt(new Qot);rt(new Jot);rt(new eat);st(tat);class nat extends dV{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:he.writable,kbOpts:{kbExpr:he.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){let n=zB.deleteWordPartLeft(e);return n||new Q(1,1,1,1)}}class iat extends dV{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:he.writable,kbOpts:{kbExpr:he.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let n=zB.deleteWordPartRight(e);if(n)return n;const r=e.model.getLineCount(),s=e.model.getLineMaxColumn(r);return new Q(r,s,r,s)}}class Rbe extends cV{_move(e,t,n,r){return zB.moveWordPartLeft(e,t,n)}}class rat extends Rbe{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:he.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}ni.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class sat extends Rbe{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:he.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}ni.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class Pbe extends cV{_move(e,t,n,r){return zB.moveWordPartRight(e,t,n)}}class oat extends Pbe{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:he.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class aat extends Pbe{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:he.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}rt(new nat);rt(new iat);rt(new rat);rt(new sat);rt(new oat);rt(new aat);var Fbe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},v8=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};const Bbe=new It("accessibilityHelpWidgetVisible",!1);let Ly=class Wbe extends Me{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(Xx,this._editor))}static get(e){return e.getContribution(Wbe.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};Ly.ID="editor.contrib.accessibilityHelpController";Ly=Fbe([v8(1,Rn)],Ly);function lat(i,e){return!i||i.length===0?As.noSelection:i.length===1?e?Dc(As.singleSelectionRange,i[0].positionLineNumber,i[0].positionColumn,e):Dc(As.singleSelection,i[0].positionLineNumber,i[0].positionColumn):e?Dc(As.multiSelectionRange,i.length,e):i.length>0?Dc(As.multiSelection,i.length):""}let Xx=class b8 extends hc{constructor(e,t,n,r){super(),this._contextKeyService=t,this._keybindingService=n,this._openerService=r,this._editor=e,this._isVisibleKey=Bbe.bindTo(this._contextKeyService),this._domNode=li(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=li(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(vo(this._contentDomNode.domNode,"keydown",s=>{if(this._isVisible&&(s.equals(2083)&&(Ko(As.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),ro(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),s.preventDefault(),s.stopPropagation()),s.equals(2086))){Ko(As.openingDocs);let o=this._editor.getRawOptions().accessibilityHelpUrl;typeof o>"u"&&(o="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(an.parse(o)),s.preventDefault(),s.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return b8.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,n){let r=this._keybindingService.lookupKeybinding(e);return r?Dc(t,r.getAriaLabel()):Dc(n,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let n=0;if(t){const a=this._editor.getModel();a&&t.forEach(u=>{n+=a.getValueLengthInRange(u)})}let r=lat(t,n);e.get(53)?e.get(80)?r+=As.readonlyDiffEditor:r+=As.editableDiffEditor:e.get(80)?r+=As.readonlyEditor:r+=As.editableEditor;const s=Xn?As.changeConfigToOnMac:As.changeConfigToOnWinLinux;switch(e.get(2)){case 0:r+=`

 - `+s;break;case 2:r+=`

 - `+As.auto_on;break;case 1:r+=`

 - `+As.auto_off,r+=" "+s;break}e.get(129)?r+=`

 - `+this._descriptionForCommand(Zx.ID,As.tabFocusModeOnMsg,As.tabFocusModeOnMsgNoKb):r+=`

 - `+this._descriptionForCommand(Zx.ID,As.tabFocusModeOffMsg,As.tabFocusModeOffMsgNoKb);const o=Xn?As.openDocMac:As.openDocWinLinux;r+=`

 - `+o,r+=`

`+As.outroMsg,this._contentDomNode.domNode.appendChild(k_e(r)),this._contentDomNode.domNode.setAttribute("aria-label",r)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,ro(this._contentDomNode.domNode),this._editor.focus())}_layout(){let e=this._editor.getLayoutInfo(),t=Math.max(5,Math.min(b8.WIDTH,e.width-40)),n=Math.max(5,Math.min(b8.HEIGHT,e.height-40));this._domNode.setWidth(t),this._domNode.setHeight(n);let r=Math.round((e.height-n)/2);this._domNode.setTop(r);let s=Math.round((e.width-t)/2);this._domNode.setLeft(s)}};Xx.ID="editor.contrib.accessibilityHelpWidget";Xx.WIDTH=500;Xx.HEIGHT=300;Xx=Fbe([v8(1,gn),v8(2,Or),v8(3,Yl)],Xx);class uat extends Dt{constructor(){super({id:"editor.action.showAccessibilityHelp",label:As.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){let n=Ly.get(t);n&&n.show()}}Ri(Ly.ID,Ly);st(uat);const cat=ea.bindToContribution(Ly.get);rt(new cat({id:"closeAccessibilityHelp",precondition:Bbe,handler:i=>i.hide(),kbOpts:{weight:100+100,kbExpr:he.focus,primary:9,secondary:[1033]}}));Cr((i,e)=>{const t=i.getColor(Nf);t&&e.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${t}; }`);const n=i.getColor(hm);n&&e.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const r=i.getColor(L1);r&&e.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${r}; }`);const s=i.getColor(Ds);s&&e.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)});class vY extends Me{constructor(e){super(),this.editor=e,this.widget=null,zg&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(80);!this.widget&&e?this.widget=new hV(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}vY.ID="editor.contrib.iPadShowKeyboard";class hV extends Me{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(Ze(this._domNode,"touchstart",t=>{this.editor.focus()})),this._register(Ze(this._domNode,"focus",t=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return hV.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}hV.ID="editor.contrib.ShowKeyboardWidget";Ri(vY.ID,vY);var dat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ele=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let Qx=class Vbe extends Me{constructor(e,t,n){super(),this._editor=e,this._modeService=n,this._widget=null,this._register(this._editor.onDidChangeModel(r=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(r=>this.stop())),this._register(Xr.onDidChange(r=>this.stop())),this._register(this._editor.onKeyUp(r=>r.keyCode===9&&this.stop()))}static get(e){return e.getContribution(Vbe.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new fV(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Qx.ID="editor.contrib.inspectTokens";Qx=dat([Ele(1,tb),Ele(2,ta)],Qx);class hat extends Dt{constructor(){super({id:"editor.action.inspectTokens",label:dK.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){let n=Qx.get(t);n&&n.launch()}}function fat(i){let e="";for(let t=0,n=i.length;t<n;t++){let r=i.charCodeAt(t);switch(r){case 9:e+="";break;case 32:e+="";break;default:e+=String.fromCharCode(r)}}return e}function gat(i,e){const t=Xr.get(e);if(t)return t;const n=i.encodeLanguageId(e);return{getInitialState:()=>YP,tokenize:(r,s,o,a)=>Npe(e,r,o,a),tokenize2:(r,s,o,a)=>hQ(n,r,o,a)}}class fV extends Me{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._modeService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=gat(this._modeService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(n=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return fV._ID}_compute(e){let t=this._getTokensAtLine(e.lineNumber),n=0;for(let u=t.tokens1.length-1;u>=0;u--){let c=t.tokens1[u];if(e.column-1>=c.offset){n=u;break}}let r=0;for(let u=t.tokens2.length>>>1;u>=0;u--)if(e.column-1>=t.tokens2[u<<1]){r=u;break}let s=this._model.getLineContent(e.lineNumber),o="";if(n<t.tokens1.length){let u=t.tokens1[n].offset,c=n+1<t.tokens1.length?t.tokens1[n+1].offset:s.length;o=s.substring(u,c)}S1(this._domNode,Ye("h2.tm-token",void 0,fat(o),Ye("span.tm-token-length",void 0,`${o.length} ${o.length===1?"char":"chars"}`))),We(this._domNode,Ye("hr.tokens-inspect-separator",{style:"clear:both"}));const a=(r<<1)+1<t.tokens2.length?this._decodeMetadata(t.tokens2[(r<<1)+1]):null;We(this._domNode,Ye("table.tm-metadata-table",void 0,Ye("tbody",void 0,Ye("tr",void 0,Ye("td.tm-metadata-key",void 0,"language"),Ye("td.tm-metadata-value",void 0,`${a?a.languageId:"-?-"}`)),Ye("tr",void 0,Ye("td.tm-metadata-key",void 0,"token type"),Ye("td.tm-metadata-value",void 0,`${a?this._tokenTypeToString(a.tokenType):"-?-"}`)),Ye("tr",void 0,Ye("td.tm-metadata-key",void 0,"font style"),Ye("td.tm-metadata-value",void 0,`${a?this._fontStyleToString(a.fontStyle):"-?-"}`)),Ye("tr",void 0,Ye("td.tm-metadata-key",void 0,"foreground"),Ye("td.tm-metadata-value",void 0,`${a?Se.Format.CSS.formatHex(a.foreground):"-?-"}`)),Ye("tr",void 0,Ye("td.tm-metadata-key",void 0,"background"),Ye("td.tm-metadata-value",void 0,`${a?Se.Format.CSS.formatHex(a.background):"-?-"}`))))),We(this._domNode,Ye("hr.tokens-inspect-separator")),n<t.tokens1.length&&We(this._domNode,Ye("span.tm-token-type",void 0,t.tokens1[n].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){let t=Xr.getColorMap(),n=wa.getLanguageId(e),r=wa.getTokenType(e),s=wa.getFontStyle(e),o=wa.getForeground(e),a=wa.getBackground(e);return{languageId:this._modeService.languageIdCodec.decodeLanguageId(n),tokenType:r,fontStyle:s,foreground:t[o],background:t[a]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return e&1&&(t+="italic "),e&2&&(t+="bold "),e&4&&(t+="underline "),t.length===0&&(t="---"),t}_getTokensAtLine(e){let t=this._getStateBeforeLine(e),n=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t,0),r=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),!0,t,0);return{startState:t,tokens1:n.tokens,tokens2:r.tokens,endState:n.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let n=1;n<e;n++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,t,0).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}fV._ID="editor.contrib.inspectTokensWidget";Ri(Qx.ID,Qx);st(hat);Cr((i,e)=>{const t=i.getColor(ZX);if(t){let s=i.type===Dd.HIGH_CONTRAST?2:1;e.addRule(`.monaco-editor .tokens-inspect-widget { border: ${s}px solid ${t}; }`),e.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${t}; }`)}const n=i.getColor(ZC);n&&e.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const r=i.getColor(YX);r&&e.addRule(`.monaco-editor .tokens-inspect-widget { color: ${r}; }`)});var pat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mat=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let i9=class C8{constructor(e){this.quickInputService=e,this.registry=ds.as(nb.Quickaccess)}provide(e){const t=new tt;t.add(e.onDidAccept(()=>{const[s]=e.selectedItems;s&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(s=>{const o=this.registry.getQuickAccessProvider(s.substr(C8.PREFIX.length));o&&o.prefix&&o.prefix!==C8.PREFIX&&this.quickInputService.quickAccess.show(o.prefix,{preserveValue:!0})}));const{editorProviders:n,globalProviders:r}=this.getQuickAccessProviders();return e.items=n.length===0||r.length===0?[...n.length===0?r:n]:[{label:C("globalCommands","global commands"),type:"separator"},...r,{label:C("editorCommands","editor commands"),type:"separator"},...n],t}getQuickAccessProviders(){const e=[],t=[];for(const n of this.registry.getQuickAccessProviders().sort((r,s)=>r.prefix.localeCompare(s.prefix)))if(n.prefix!==C8.PREFIX)for(const r of n.helpEntries){const s=r.prefix||n.prefix,o=s||"";(r.needsEditor?t:e).push({prefix:s,label:o,ariaLabel:C("helpPickAriaLabel","{0}, {1}",o,r.description),description:r.description})}return{editorProviders:t,globalProviders:e}}};i9.PREFIX="?";i9=pat([mat(0,qc)],i9);ds.as(nb.Quickaccess).registerQuickAccessProvider({ctor:i9,prefix:"",helpEntries:[{description:hK.helpQuickAccessActionLabel,needsEditor:!0}]});class Hbe{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var n;const r=new tt;e.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=r.add(new Ja);return s.value=this.doProvide(e,t),r.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(e,t)})),r}doProvide(e,t){const n=new tt,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){const s={editor:r},o=Eme(r);if(o){let a=Hl(r.saveViewState());n.add(o.onDidChangeCursorPosition(()=>{a=Hl(r.saveViewState())})),s.restoreViewState=()=>{a&&r===this.activeTextEditorControl&&r.restoreViewState(a)},n.add(xm(t.onCancellationRequested)(()=>{var u;return(u=s.restoreViewState)===null||u===void 0?void 0:u.call(s)}))}n.add(Yn(()=>this.clearDecorations(r))),n.add(this.provideWithTextEditor(s,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return xme(e)?(t=e.getModel())===null||t===void 0?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(n=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const s=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Mr(I4e),position:ql.Full}}}],[o,a]=n.deltaDecorations(r,s);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:a}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(n=>{n.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class gV extends Hbe{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=C("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,Me.None}provideWithTextEditor(e,t,n){const r=e.editor,s=new tt;s.add(t.onDidAccept(u=>{const[c]=t.selectedItems;if(c){if(!this.isValidLineNumber(r,c.lineNumber))return;this.gotoLocation(e,{range:this.toRange(c.lineNumber,c.column),keyMods:t.keyMods,preserveFocus:u.inBackground}),u.inBackground||t.hide()}}));const o=()=>{const u=this.parsePosition(r,t.value.trim().substr(gV.PREFIX.length)),c=this.getPickLabel(r,u.lineNumber,u.column);if(t.items=[{lineNumber:u.lineNumber,column:u.column,label:c}],t.ariaLabel=c,!this.isValidLineNumber(r,u.lineNumber)){this.clearDecorations(r);return}const h=this.toRange(u.lineNumber,u.column);r.revealRangeInCenter(h,0),this.addDecorations(r,h)};o(),s.add(t.onDidChangeValue(()=>o()));const a=Eme(r);return a&&a.getOptions().get(59).renderType===2&&(a.updateOptions({lineNumbers:"on"}),s.add(Yn(()=>a.updateOptions({lineNumbers:"relative"})))),s}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const n=t.split(/,|:|#/).map(s=>parseInt(s,10)).filter(s=>!isNaN(s)),r=this.lineCount(e)+1;return{lineNumber:n[0]>0?n[0]:r+n[0],column:n[1]}}getPickLabel(e,t,n){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,n)?C("gotoLineColumnLabel","Go to line {0} and character {1}.",t,n):C("gotoLineLabel","Go to line {0}.",t);const r=e.getPosition()||{lineNumber:1,column:1},s=this.lineCount(e);return s>1?C("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",r.lineNumber,r.column,s):C("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",r.lineNumber,r.column)}isValidLineNumber(e,t){return!t||typeof t!="number"?!1:t>0&&t<=this.lineCount(e)}isValidColumn(e,t,n){if(!n||typeof n!="number")return!1;const r=this.getModel(e);if(!r)return!1;const s={lineNumber:t,column:n};return r.validatePosition(s).equals(s)}lineCount(e){var t,n;return(n=(t=this.getModel(e))===null||t===void 0?void 0:t.getLineCount())!==null&&n!==void 0?n:0}}gV.PREFIX=":";var _at=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},vat=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let DR=class extends gV{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Bt.None}get activeTextEditorControl(){return Hl(this.editorService.getFocusedCodeEditor())}};DR=_at([vat(0,Mi)],DR);ds.as(nb.Quickaccess).registerQuickAccessProvider({ctor:DR,prefix:DR.PREFIX,helpEntries:[{description:f7.gotoLineActionLabel,needsEditor:!0}]});let bat=class extends Dt{constructor(){super({id:"editor.action.gotoLine",label:f7.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(qc).quickAccess.show(DR.PREFIX)}};st(bat);const $be=[void 0,[]];function xz(i,e,t=0,n=0){const r=e;return r.values&&r.values.length>1?Cat(i,r.values,t,n):zbe(i,e,t,n)}function Cat(i,e,t,n){let r=0;const s=[];for(const o of e){const[a,u]=zbe(i,o,t,n);if(typeof a!="number")return $be;r+=a,s.push(...u)}return[r,yat(s)]}function zbe(i,e,t,n){const r=Ox(e.original,e.originalLowercase,t,i,i.toLowerCase(),n,!0);return r?[r[0],nW(r)]:$be}function yat(i){const e=i.sort((r,s)=>r.start-s.start),t=[];let n;for(const r of e)!n||!wat(n,r)?(n=r,t.push(r)):(n.start=Math.min(n.start,r.start),n.end=Math.max(n.end,r.end));return t}function wat(i,e){return!(i.end<e.start||e.end<i.start)}function Lle(i){return i.startsWith('"')&&i.endsWith('"')}const Ube=" ";function bY(i){typeof i!="string"&&(i="");const e=i.toLowerCase(),{pathNormalized:t,normalized:n,normalizedLowercase:r}=Dle(i),s=t.indexOf(sC)>=0,o=Lle(i);let a;const u=i.split(Ube);if(u.length>1)for(const c of u){const h=Lle(c),{pathNormalized:f,normalized:p,normalizedLowercase:m}=Dle(c);p&&(a||(a=[]),a.push({original:c,originalLowercase:c.toLowerCase(),pathNormalized:f,normalized:p,normalizedLowercase:m,expectContiguousMatch:h}))}return{original:i,originalLowercase:e,pathNormalized:t,normalized:n,normalizedLowercase:r,values:a,containsPathSeparator:s,expectContiguousMatch:o}}function Dle(i){let e;Zo?e=i.replace(/\//g,sC):e=i.replace(/\\/g,sC);const t=GIe(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function Tle(i){return Array.isArray(i)?bY(i.map(e=>e.original).join(Ube)):bY(i.original)}var AA=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class Mc extends Hbe{constructor(e=Object.create(null)){super(e),this.options=e,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,C("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),Me.None}provideWithTextEditor(e,t,n){const r=e.editor,s=this.getModel(r);return s?yd.has(s)?this.doProvideWithEditorSymbols(e,s,t,n):this.doProvideWithoutEditorSymbols(e,s,t,n):Me.None}doProvideWithoutEditorSymbols(e,t,n,r){const s=new tt;return this.provideLabelPick(n,C("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),AA(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(t,s))||r.isCancellationRequested||s.add(this.doProvideWithEditorSymbols(e,t,n,r))}),s}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return AA(this,void 0,void 0,function*(){if(yd.has(e))return!0;const n=new Nfe,r=t.add(yd.onDidChange(()=>{yd.has(e)&&(r.dispose(),n.complete(!0))}));return t.add(Yn(()=>n.complete(!1))),n.p})}doProvideWithEditorSymbols(e,t,n,r){const s=e.editor,o=new tt;o.add(n.onDidAccept(f=>{const[p]=n.selectedItems;p&&p.range&&(this.gotoLocation(e,{range:p.range.selection,keyMods:n.keyMods,preserveFocus:f.inBackground}),f.inBackground||n.hide())})),o.add(n.onDidTriggerItemButton(({item:f})=>{f&&f.range&&(this.gotoLocation(e,{range:f.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const a=this.getDocumentSymbols(t,r);let u;const c=()=>AA(this,void 0,void 0,function*(){u==null||u.dispose(!0),n.busy=!1,u=new Ea(r),n.busy=!0;try{const f=bY(n.value.substr(Mc.PREFIX.length).trim()),p=yield this.doGetSymbolPicks(a,f,void 0,u.token);if(r.isCancellationRequested)return;p.length>0?n.items=p:f.original.length>0?this.provideLabelPick(n,C("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,C("noSymbolResults","No editor symbols"))}finally{r.isCancellationRequested||(n.busy=!1)}});o.add(n.onDidChangeValue(()=>c())),c();let h=!0;return o.add(n.onDidChangeActive(()=>{const[f]=n.activeItems;if(f&&f.range){if(h){h=!1;return}s.revealRangeInCenter(f.range.selection,0),this.addDecorations(s,f.range.decoration)}})),o}doGetSymbolPicks(e,t,n,r){return AA(this,void 0,void 0,function*(){const s=yield e;if(r.isCancellationRequested)return[];const o=t.original.indexOf(Mc.SCOPE_PREFIX)===0,a=o?1:0;let u,c;t.values&&t.values.length>1?(u=Tle(t.values[0]),c=Tle(t.values.slice(1))):u=t;const h=[];for(let m=0;m<s.length;m++){const v=s[m],b=KIe(v.name),S=`$(symbol-${Yj.toString(v.kind)||"property"}) ${b}`,x=S.length-b.length;let w=v.containerName;n!=null&&n.extraContainerLabel&&(w?w=`${n.extraContainerLabel}  ${w}`:w=n.extraContainerLabel);let E,N,A,H;if(t.original.length>a){let M=!1;if(u!==t&&([E,N]=xz(S,Object.assign(Object.assign({},t),{values:void 0}),a,x),typeof E=="number"&&(M=!0)),typeof E!="number"&&([E,N]=xz(S,u,a,x),typeof E!="number"))continue;if(!M&&c){if(w&&c.original.length>0&&([A,H]=xz(w,c)),typeof A!="number")continue;typeof E=="number"&&(E+=A)}}const R=v.tags&&v.tags.indexOf(1)>=0;h.push({index:m,kind:v.kind,score:E,label:S,ariaLabel:b,description:w,highlights:R?void 0:{label:N,description:H},range:{selection:Q.collapseToStart(v.selectionRange),decoration:v.range},strikethrough:R,buttons:(()=>{var M,G;const X=!((M=this.options)===null||M===void 0)&&M.openSideBySideDirection?(G=this.options)===null||G===void 0?void 0:G.openSideBySideDirection():void 0;if(X)return[{iconClass:X==="right"?ve.splitHorizontal.classNames:ve.splitVertical.classNames,tooltip:X==="right"?C("openToSide","Open to the Side"):C("openToBottom","Open to the Bottom")}]})()})}const f=h.sort((m,v)=>o?this.compareByKindAndScore(m,v):this.compareByScore(m,v));let p=[];if(o){let S=function(){v&&typeof m=="number"&&b>0&&(v.label=Dc(Lz[m]||Ez,b))},m,v,b=0;for(const x of f)m!==x.kind?(S(),m=x.kind,b=1,v={type:"separator"},p.push(v)):b++,p.push(x);S()}else f.length>0&&(p=[{label:C("symbols","symbols ({0})",h.length),type:"separator"},...f]);return p})}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const n=Lz[e.kind]||Ez,r=Lz[t.kind]||Ez,s=n.localeCompare(r);return s===0?this.compareByScore(e,t):s}getDocumentSymbols(e,t){return AA(this,void 0,void 0,function*(){const n=yield Ka.create(e,t);return t.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}}Mc.PREFIX="@";Mc.SCOPE_PREFIX=":";Mc.PREFIX_BY_CATEGORY=`${Mc.PREFIX}${Mc.SCOPE_PREFIX}`;const Ez=C("property","properties ({0})"),Lz={5:C("method","methods ({0})"),11:C("function","functions ({0})"),8:C("_constructor","constructors ({0})"),12:C("variable","variables ({0})"),4:C("class","classes ({0})"),22:C("struct","structs ({0})"),23:C("event","events ({0})"),24:C("operator","operators ({0})"),10:C("interface","interfaces ({0})"),2:C("namespace","namespaces ({0})"),3:C("package","packages ({0})"),25:C("typeParameter","type parameters ({0})"),1:C("modules","modules ({0})"),6:C("property","properties ({0})"),9:C("enum","enumerations ({0})"),21:C("enumMember","enumeration members ({0})"),14:C("string","strings ({0})"),0:C("file","files ({0})"),17:C("array","arrays ({0})"),15:C("number","numbers ({0})"),16:C("boolean","booleans ({0})"),18:C("object","objects ({0})"),19:C("key","keys ({0})"),7:C("field","fields ({0})"),13:C("constant","constants ({0})")};var Sat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},xat=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let CY=class extends Mc{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Bt.None}get activeTextEditorControl(){return Hl(this.editorService.getFocusedCodeEditor())}};CY=Sat([xat(0,Mi)],CY);ds.as(nb.Quickaccess).registerQuickAccessProvider({ctor:CY,prefix:Mc.PREFIX,helpEntries:[{description:qM.quickOutlineActionLabel,prefix:Mc.PREFIX,needsEditor:!0},{description:qM.quickOutlineByCategoryActionLabel,prefix:Mc.PREFIX_BY_CATEGORY,needsEditor:!0}]});let Eat=class extends Dt{constructor(){super({id:"editor.action.quickOutline",label:qM.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:he.hasDocumentSymbolProvider,kbOpts:{kbExpr:he.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(qc).quickAccess.show(Mc.PREFIX)}};st(Eat);function Dz(i,e){return e&&(i.stack||i.stacktrace)?C("stackTrace.format","{0}: {1}",kle(i),Ile(i.stack)||Ile(i.stacktrace)):kle(i)}function Ile(i){return Array.isArray(i)?i.join(`
`):i}function kle(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?C("nodeExceptionMessage","A system error occurred ({0})",i.message):i.message||C("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function jbe(i=null,e=!1){if(!i)return C("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(i)){const t=DE(i),n=jbe(t[0],e);return t.length>1?C("error.moreErrors","{0} ({1} errors in total)",n,t.length):n}if(Fc(i))return i;if(i.detail){const t=i.detail;if(t.error)return Dz(t.error,e);if(t.exception)return Dz(t.exception,e)}return i.stack?Dz(i,e):i.message?i.message:C("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var h6=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})},eC;(function(i){i[i.NO_ACTION=0]="NO_ACTION",i[i.CLOSE_PICKER=1]="CLOSE_PICKER",i[i.REFRESH_PICKER=2]="REFRESH_PICKER",i[i.REMOVE_ITEM=3]="REMOVE_ITEM"})(eC||(eC={}));function Tz(i){const e=i;return Array.isArray(e.items)}function Lat(i){const e=i;return!!e.picks&&e.additionalPicks instanceof Promise}class pV extends Me{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var n;const r=new tt;e.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let s;const o=r.add(new Ja),a=()=>h6(this,void 0,void 0,function*(){const u=o.value=new tt;s==null||s.dispose(!0),e.busy=!1,s=new Ea(t);const c=s.token,h=e.value.substr(this.prefix.length).trim(),f=this._getPicks(h,u,c),p=(m,v)=>{var b;let S,x;if(Tz(m)?(S=m.items,x=m.active):S=m,S.length===0){if(v)return!1;h.length>0&&(!((b=this.options)===null||b===void 0)&&b.noResultsPick)&&(S=[this.options.noResultsPick])}return e.items=S,x&&(e.activeItems=[x]),!0};if(f!==null)if(Lat(f)){let m=!1,v=!1;yield Promise.all([(()=>h6(this,void 0,void 0,function*(){yield y1(pV.FAST_PICKS_RACE_DELAY),!c.isCancellationRequested&&(v||(m=p(f.picks,!0)))}))(),(()=>h6(this,void 0,void 0,function*(){e.busy=!0;try{const b=yield f.additionalPicks;if(c.isCancellationRequested)return;let S,x;Tz(f.picks)?(S=f.picks.items,x=f.picks.active):S=f.picks;let w,E;if(Tz(b)?(w=b.items,E=b.active):w=b,w.length>0||!m){let N;if(!x&&!E){const A=e.activeItems[0];A&&S.indexOf(A)!==-1&&(N=A)}p({items:[...S,...w],active:x||E||N})}}finally{c.isCancellationRequested||(e.busy=!1),v=!0}}))()])}else if(!(f instanceof Promise))p(f);else{e.busy=!0;try{const m=yield f;if(c.isCancellationRequested)return;p(m)}finally{c.isCancellationRequested||(e.busy=!1)}}});return r.add(e.onDidChangeValue(()=>a())),a(),r.add(e.onDidAccept(u=>{const[c]=e.selectedItems;typeof(c==null?void 0:c.accept)=="function"&&(u.inBackground||e.hide(),c.accept(e.keyMods,u))})),r.add(e.onDidTriggerItemButton(({button:u,item:c})=>h6(this,void 0,void 0,function*(){var h,f;if(typeof c.trigger=="function"){const p=(f=(h=c.buttons)===null||h===void 0?void 0:h.indexOf(u))!==null&&f!==void 0?f:-1;if(p>=0){const m=c.trigger(p,e.keyMods),v=typeof m=="number"?m:yield m;if(t.isCancellationRequested)return;switch(v){case eC.NO_ACTION:break;case eC.CLOSE_PICKER:e.hide();break;case eC.REFRESH_PICKER:a();break;case eC.REMOVE_ITEM:const b=e.items.indexOf(c);if(b!==-1){const S=e.items.slice(),x=S.splice(b,1),w=e.activeItems.filter(N=>N!==x[0]),E=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=S,w&&(e.activeItems=w),e.keepScrollPosition=E}break}}}}))),r}}pV.FAST_PICKS_RACE_DELAY=200;var Kbe=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Wb=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},Nle=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};let TR=class y8 extends pV{constructor(e,t,n,r,s,o){super(y8.PREFIX,e),this.instantiationService=t,this.keybindingService=n,this.commandService=r,this.telemetryService=s,this.dialogService=o,this.commandsHistory=this._register(this.instantiationService.createInstance(Dy)),this.options=e}_getPicks(e,t,n){return Nle(this,void 0,void 0,function*(){const r=yield this.getCommandPicks(t,n);if(n.isCancellationRequested)return[];const s=[];for(const c of r){const h=Hl(y8.WORD_FILTER(e,c.label)),f=c.commandAlias?Hl(y8.WORD_FILTER(e,c.commandAlias)):void 0;h||f?(c.highlights={label:h,detail:this.options.showAlias?f:void 0},s.push(c)):e===c.commandId&&s.push(c)}const o=new Map;for(const c of s){const h=o.get(c.label);h?(c.description=c.commandId,h.description=h.commandId):o.set(c.label,c)}s.sort((c,h)=>{const f=this.commandsHistory.peek(c.commandId),p=this.commandsHistory.peek(h.commandId);return f&&p?f>p?-1:1:f?-1:p?1:c.label.localeCompare(h.label)});const a=[];let u=!1;for(let c=0;c<s.length;c++){const h=s[c],f=this.keybindingService.lookupKeybinding(h.commandId),p=f?C("commandPickAriaLabelWithKeybinding","{0}, {1}",h.label,f.getAriaLabel()):h.label;c===0&&this.commandsHistory.peek(h.commandId)&&(a.push({type:"separator",label:C("recentlyUsed","recently used")}),u=!0),c!==0&&u&&!this.commandsHistory.peek(h.commandId)&&(a.push({type:"separator",label:C("morecCommands","other commands")}),u=!1),a.push(Object.assign(Object.assign({},h),{ariaLabel:p,detail:this.options.showAlias&&h.commandAlias!==h.label?h.commandAlias:void 0,keybinding:f,accept:()=>Nle(this,void 0,void 0,function*(){this.commandsHistory.push(h.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:h.commandId,from:"quick open"});try{yield this.commandService.executeCommand(h.commandId)}catch(m){lp(m)||this.dialogService.show(is.Error,C("canNotRun","Command '{0}' resulted in an error ({1})",h.label,jbe(m)))}})}))}return a})}};TR.PREFIX=">";TR.WORD_FILTER=GQ(eW,tFe,Xme);TR=Kbe([Wb(1,Rn),Wb(2,Or),Wb(3,Vr),Wb(4,up),Wb(5,s3)],TR);let Dy=class lo extends Me{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=lo.getConfiguredCommandHistoryLength(this.configurationService),lo.cache&&lo.cache.limit!==this.configuredCommandsHistoryLength&&(lo.cache.limit=this.configuredCommandsHistoryLength,lo.saveState(this.storageService))}load(){const e=this.storageService.get(lo.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch{}const n=lo.cache=new X1(this.configuredCommandsHistoryLength,1);if(t){let r;t.usesLRU?r=t.entries:r=t.entries.sort((s,o)=>s.value-o.value),r.forEach(s=>n.set(s.key,s.value))}lo.counter=this.storageService.getNumber(lo.PREF_KEY_COUNTER,0,lo.counter)}push(e){lo.cache&&(lo.cache.set(e,lo.counter++),lo.saveState(this.storageService))}peek(e){var t;return(t=lo.cache)===null||t===void 0?void 0:t.peek(e)}static saveState(e){if(!lo.cache)return;const t={usesLRU:!0,entries:[]};lo.cache.forEach((n,r)=>t.entries.push({key:r,value:n})),e.store(lo.PREF_KEY_CACHE,JSON.stringify(t),0,0),e.store(lo.PREF_KEY_COUNTER,lo.counter,0,0)}static getConfiguredCommandHistoryLength(e){var t,n;const s=(n=(t=e.getValue().workbench)===null||t===void 0?void 0:t.commandPalette)===null||n===void 0?void 0:n.history;return typeof s=="number"?s:lo.DEFAULT_COMMANDS_HISTORY_LENGTH}};Dy.DEFAULT_COMMANDS_HISTORY_LENGTH=50;Dy.PREF_KEY_CACHE="commandPalette.mru.cache";Dy.PREF_KEY_COUNTER="commandPalette.mru.counter";Dy.counter=1;Dy=Kbe([Wb(0,pp),Wb(1,cr)],Dy);class qbe extends TR{constructor(e,t,n,r,s,o){super(e,t,n,r,s,o)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const n of e.getSupportedActions())t.push({commandId:n.id,commandAlias:n.alias,label:eJ(n.label)||n.id});return t}}var Dat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Rw=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}},Tat=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};let IR=class extends qbe{constructor(e,t,n,r,s,o){super({showAlias:!1},e,n,r,s,o),this.codeEditorService=t}get activeTextEditorControl(){return Hl(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Tat(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};IR=Dat([Rw(0,Rn),Rw(1,Mi),Rw(2,Or),Rw(3,Vr),Rw(4,up),Rw(5,s3)],IR);ds.as(nb.Quickaccess).registerQuickAccessProvider({ctor:IR,prefix:IR.PREFIX,helpEntries:[{description:KM.quickCommandHelp,needsEditor:!0}]});class Iat extends Dt{constructor(){super({id:"editor.action.quickCommand",label:KM.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:he.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(qc).quickAccess.show(IR.PREFIX)}}st(Iat);var kat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Pw=globalThis&&globalThis.__param||function(i,e){return function(t,n){e(t,n,i)}};let yY=class extends R1{constructor(e,t,n,r,s,o,a){super(!0,e,t,n,r,s,o,a)}};yY=kat([Pw(1,gn),Pw(2,Mi),Pw(3,Ts),Pw(4,Rn),Pw(5,pp),Pw(6,cr)],yY);Ri(R1.ID,yY);class Nat extends Dt{constructor(){super({id:"editor.action.toggleHighContrast",label:fK.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const n=e.get(tb);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getColorTheme().themeName,n.setTheme("hc-black"))}}st(Nat);var ex;(function(i){i.DARK="dark",i.LIGHT="light",i.HIGH_CONTRAST="hc"})(ex||(ex={}));var tx;(function(i){i.dark="dark",i.light="light"})(tx||(tx={}));var kR;(function(i){i.onChange="colorTheme.onChange"})(kR||(kR={}));const Aat={workbenchBackground:"#F3F3F3",foreground:"#616161",errorForeground:"#A1260D",descriptionForeground:"#717171","icon.foreground":"#424242",focusBorder:"#0090F1","widget.shadow":"#A8A8A8","textSeparator.foreground":"#0000002e","textLink.foreground":"#006AB1","textLink.activeForeground":"#006AB1","textBlockQuote.background":"#7f7f7f1a","textBlockQuote.border":"#007acc80","textCodeBlock.background":"#dcdcdc66","input.background":Se.white,"input.foreground":"#616161","input.border":"#616161","inputOption.activeBorder":"#007ACC00","inputOption.activeBackground":Se.fromHex("#007ACC").transparent(.3),"input.placeholderForeground":Se.fromHex("#616161").transparent(.5),"dropdown.background":Se.white,"dropdown.border":Se.white,"checkbox.background":Se.white,"checkbox.border":Se.white,"button.background":"#007ACC","button.foreground":Se.white,"badge.background":"#C4C4C4","badge.foreground":"#333","scrollbar.shadow":"#DDDDDD","scrollbarSlider.background":Se.fromHex("#646464").transparent(.4),"scrollbarSlider.hoverBackground":Se.fromHex("#646464").transparent(.7),"scrollbarSlider.activeBackground":Se.fromHex("#000000").transparent(.6),"progressBar.background":Se.fromHex("#0E70C0"),"editorError.background":"#E51400","editorWarning.foreground":"#E51400","editorInfo.foreground":"#E9A700","editorHint.foreground":"#6c6c6c","editor.background":"#fffffe","editor.foreground":"#333333","editor.selectionBackground":"#ADD6FF","editor.findMatchBackground":"#A8AC94","list.dropBackground":"#E4E6F1","list.hoverBackground":"#F0F0F0","list.activeSelectionBackground":"#0074E8","list.activeSelectionForeground":Se.white,"menu.foreground":"#616161","menu.background":Se.white,"menu.separatorBackground":"#888888","panel.background":Se.white,"panel.border":"rgba(128, 128, 128, 0.35)","panelTitle.activeForeground":"rgb(66, 66, 66)","panelTitle.activeBorder":"rgb(66, 66, 66)","activityBar.background":"rgb(51, 51, 51)","activityBar.activeBorder":"#fff","activityBar.foreground":"rgba(255, 255, 255, 0.4)","statusBar.background":"rgb(0, 122, 204)","statusBar.foreground":"rgb(255, 255, 255)"},Oat={workbenchBackground:"#252526",foreground:"#CCCCCC","widget.shadow":"#000000",errorForeground:"#F48771",descriptionForeground:Se.fromHex("#CCCCCC").transparent(.7),"icon.foreground":"#C5C5C5",focusBorder:"#007FD4","textSeparator.foreground":"#ffffff2e","textLink.foreground":"#3794FF","textLink.activeForeground":"#3794FF","textBlockQuote.background":"#7f7f7f1a","textBlockQuote.border":"#007acc80","textCodeBlock.background":"#0a0a0a66","input.background":"#3C3C3C","input.foreground":"#CCCCCC","inputOption.activeBorder":"#007ACC00","inputOption.activeBackground":Se.fromHex("#0E639C").transparent(.5),"input.placeholderForeground":Se.fromHex("#616161").transparent(.5),"dropdown.background":"#3C3C3C","dropdown.foreground":"#F0F0F0","dropdown.border":"#CECECE","checkbox.border":"#CECECE","button.background":"#0E639C","button.foreground":Se.white,"badge.background":"#4D4D4D","badge.foreground":Se.white,"scrollbar.shadow":"#000000","scrollbarSlider.background":Se.fromHex("#797979").transparent(.4),"scrollbarSlider.hoverBackground":Se.fromHex("#646464").transparent(.7),"scrollbarSlider.activeBackground":Se.fromHex("#BFBFBF").transparent(.4),"progressBar.background":Se.fromHex("#0E70C0"),"editorError.background":"#F48771","editorWarning.foreground":"#CCA700","editorInfo.foreground":"#75BEFF","editorHint.foreground":Se.fromHex("#eeeeee").transparent(.7),"editor.background":"#1E1E1E","editor.foreground":"#BBBBBB","editor.selectionBackground":"#264F78","editor.selectionForeground":"#000000","list.dropBackground":"#37373D","list.hoverBackground":"#2A2D2E","list.activeSelectionBackground":"#37373D","list.activeSelectionForeground":Se.white,"menu.foreground":"#F0F0F0","menu.background":"#3C3C3C","menu.separatorBackground":"#BBBBBB","panel.background":"rgb(30, 30, 30)","panel.border":"#3C3C3C","panelTitle.activeBorder":"rgb(231, 231, 231)","panelTitle.activeForeground":"rgb(231, 231, 231)","activityBar.background":"rgb(51, 51, 51)","activityBar.activeBorder":"#fff","activityBar.foreground":"rgba(255, 255, 255, 0.4)","statusBar.background":"rgb(0, 122, 204)","statusBar.foreground":"rgb(255, 255, 255)"},Mat={workbenchBackground:"#000000",foreground:"#FFFFFF",errorForeground:"#F48771",descriptionForeground:Se.fromHex("#FFFFFF").transparent(.7),"icon.foreground":"#FFFFFF",focusBorder:"#F38518",contrastBorder:"#6FC3DF",contrastActiveBorder:"#F38518","textSeparator.foreground":Se.black,"textLink.foreground":"#3794FF","textLink.activeForeground":"#3794FF","textBlockQuote.border":Se.white,"textCodeBlock.background":Se.black,"input.background":Se.black,"input.foreground":"#FFFFFF","input.border":"#6FC3DF","inputOption.activeBorder":"#6FC3DF","input.placeholderForeground":Se.fromHex("#616161").transparent(.7),"dropdown.background":Se.black,"dropdown.listBackground":Se.black,"dropdown.foreground":Se.white,"dropdown.border":"#6FC3DF","checkbox.border":"#6FC3DF","button.foreground":Se.white,"badge.background":Se.black,"badge.foreground":Se.white,"scrollbarSlider.background":Se.fromHex("#6FC3DF").transparent(.6),"scrollbarSlider.hoverBackground":Se.fromHex("#6FC3DF").transparent(.8),"scrollbarSlider.activeBackground":"#6FC3DF","progressBar.background":"#6FC3DF","editorError.border":Se.fromHex("#E47777").transparent(.8),"editorWarning.border":Se.fromHex("#FFCC00").transparent(.8),"editorInfo.border":Se.fromHex("#FFCC00").transparent(.8),"editorHint.border":Se.fromHex("#eeeeee").transparent(.8),"editor.background":Se.black,"editor.foreground":Se.white,"editor.selectionForeground":"#000000","menu.foreground":Se.white,"menu.background":Se.black,"menu.separatorBackground":"#6FC3DF","panel.border":"#6FC3DF","panelTitle.activeBorder":"rgb(231, 231, 231)","panelTitle.activeForeground":"rgb(231, 231, 231)","activityBar.background":"rgb(51, 51, 51)","activityBar.activeBorder":"#fff","activityBar.foreground":"rgba(255, 255, 255, 0.4)","statusBar.background":"rgb(0, 122, 204)","statusBar.foreground":"rgb(255, 255, 255)"};function Rat(i){switch(i.uiTheme){case"vs-dark":return Object.assign({},Oat);case"vs":return Object.assign({},Aat);default:return Object.assign({},Mat)}}function Pat(i){let e="";for(const t in i)if(t){const n=i[t];if(n){const r=t.replace(".","-");e+=`--${r}: ${n}; 
`}}return`
        :root {
            ${e}
        }
    `}function Fat(i){const e=Nr.cloneDeep(i);return[["minimap.background","editor.background"],["minimapSlider.background","scrollbarSlider.background"],["minimapSlider.hoverBackground","scrollbarSlider.hoverBackground"],["minimapSlider.activeBackground","scrollbarSlider.activeBackground"],["panel.background","workbenchBackground"],["sash.hoverBorder","focusBorder"],["button.background","textLink.foreground"],["menu.selectionBackground","button.background"],["button.hoverBackground","button.background",n=>Se.fromHex(n).lighten(.2)]].forEach(([n,r,s])=>{!e[n]&&e[r]&&(s?e[n]=s(e[r]):e[n]=e[r])}),e}function Bat(i){const e=Rat(i),t=Fat(Object.assign(e,i.colors)),n={};for(const a in t)if(a){const u=t[a];u&&typeof u=="object"?n[a]=u.toString():typeof u=="string"&&(n[a]=u)}const r=i.tokenColors,s=[],o=(a,u)=>{const c=s.findIndex(h=>h.token===a);c>=0?Object.assign(s[c],Object.assign({},u.settings)):a&&s.push(Object.assign({token:a},u.settings))};return r==null||r.forEach(a=>{Array.isArray(a.scope)?a.scope.forEach(u=>o(u,a)):o(a.scope,a)}),{base:i.uiTheme,rules:s,inherit:!0,colors:n}}var Wat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Vat=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};const iO={id:"Default Dark+",name:"Default Dark+",label:"Default Dark+",uiTheme:"vs-dark"},w8=zn("customize-theme");let Ty=class extends CE{constructor(){super(),this.colorThemes=[iO],this.colorTheme=iO,this.colorTheme&&this.setTheme(this.colorTheme.id)}addThemes(e){(Array.isArray(e)?e:[e]).forEach(n=>{this.getThemeById(n.id)?(Hn.warn(`There has ${n.name} already in theme, it'll update this theme otherwise please don't add the duplicated theme`),this.updateTheme(n)):this.colorThemes.push(Object.assign({},n))})}updateTheme(e){e.id||Hn.error("Update the theme failed!  The 'id' is required in the theme data.");const t=this.colorThemes.findIndex(_i(e.id));t>-1?(Object.assign(this.colorThemes[t],e),this.colorThemes[t].id===this.getColorTheme().id&&this.reload()):Hn.error(`Update the theme failed! There is no theme found via '${e.id}'`)}getThemeById(e){const t=this.colorThemes.find(_i(e));return t?Object.assign({},t):void 0}getColorTheme(){return Object.assign({},this.colorTheme)}setTheme(e){const t=this.getColorTheme(),n=this.getThemeById(e);if(n){this.colorTheme=Object.assign({},n);const r=Bat(n),s=Pat(r.colors);Vxe(s,w8),Za.defineTheme(w8,r),Za.setTheme(w8);const o=this.getColorThemeMode();this.emit(kR.onChange,t,Object.assign({},this.colorTheme),o)}else Hn.error("Can't get the theme by id:"+e)}getThemes(){return this.colorThemes}reload(){this.setTheme(this.getColorTheme().id)}reset(){this.colorThemes=[iO],this.setTheme(iO.id)}getColorThemeMode(){const{colors:e,type:t}=this.colorTheme;if(t===ex.DARK||t===ex.HIGH_CONTRAST)return tx.dark;if(t===ex.LIGHT)return tx.light;const n=(e==null?void 0:e["editor.background"])||(e==null?void 0:e["tab.activeBackground"])||(e==null?void 0:e["molecule.welcomeBackground"]);return n?Bxe(n):tx.dark}onChange(e){this.subscribe(kR.onChange,e)}};Ty=Wat([er(),Vat("design:paramtypes",[])],Ty);var Iy;(function(i){i.OnClick="activityBar.onClick",i.OnChange="activityBar.onChange",i.DataChanged="activityBar.data",i.ReRender="activityBar.reRender"})(Iy||(Iy={}));class Gbe{constructor(e=[],t=[],n=""){this.data=e,this.contextMenu=t,this.selected=n}}class Ybe{constructor(e=[],t=""){this.panes=e,this.current=t}}var Hat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$at=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let np=class extends El{constructor(){super(),this.state=qe.resolve(Ybe)}getPane(e){const{panes:t}=this.state;return t.find(_i(e))}get(e){const t=this.getPane(e);return t?Of(t):void 0}add(e,t=!1){if(this.getPane(e.id)){Hn.error(`There already has a pane which id is ${e.id}, if you want to modify it, please use the update method`);return}const r=this.state.panes.concat();r.push(Of(e)),t&&this.setState({current:e.id}),this.setState({panes:r})}update(e){const{panes:t}=this.state,n=this.getPane(e.id);if(!n){Hn.error(`There is no pane found via the ${e.id} id`);return}Object.assign(n,e),this.setState({panes:Of(t)})}remove(e){var t,n;const{panes:r,current:s}=this.state,o=r.findIndex(_i(e));if(o===-1){Hn.error(`There is no pane found via the ${e} id`);return}if(e===s){const a=((t=r[o+1])===null||t===void 0?void 0:t.id)||((n=r[o-1])===null||n===void 0?void 0:n.id)||"";this.setActive(a)}r.splice(o,1),this.setState({panes:r.concat()})}setActive(e){if(!e)this.setState({current:""});else{if(!this.getPane(e)){Hn.error(`There is no pane found via the ${e} id`);return}this.setState({current:e})}}reset(){this.setState({panes:[],current:""})}};np=Hat([er(),$at("design:paramtypes",[])],np);var zat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Uat=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let ip=class extends El{constructor(){super(),this.state=qe.resolve(Gbe),this.sidebarService=qe.resolve(np)}setActive(e){this.setState({selected:e})}reset(){this.setState({data:[],selected:"",contextMenu:[]})}add(e,t=!1){let n=[...this.state.data];Array.isArray(e)?n=n==null?void 0:n.concat(e):(n==null||n.push(e),t&&this.setActive(e.id)),n.sort((r,s)=>{const o=r.sortIndex||Number.MAX_SAFE_INTEGER,a=s.sortIndex||Number.MAX_SAFE_INTEGER;return o-a}),this.setState({data:n})}getRemoveList(e,t){return t.reduce((n,r,s)=>{const o=r.id.toString();return Array.isArray(e)&&e.includes(o)||e===o?n.concat(s):n},[])}remove(e){const{data:t}=this.state;let n=[...t];const r=this.getRemoveList(e,n);r.length?(n=n.filter((s,o)=>!r.includes(o)),this.setState({data:n})):Hn.error("Remove the bar data failed, because there is no data found in barData via this 'id'")}toggleBar(e){const{data:t=[],selected:n}=this.state,r=t.concat(),s=r.findIndex(_i(e)),o=r[s];if(o){if(o.hidden=!o.hidden,e===n){const a=(s+1)%r.length;this.setActive(r[a].id),this.sidebarService.setActive(r[a].id)}this.setState({data:r})}else Hn.error("Toggle activity bar failed, please check your id")}toggleContextMenuChecked(e){const{contextMenu:t=[]}=this.state,n=t.concat(),r=n.find(_i(e));r?(r.icon=r.icon==="check"?"":"check",this.setState({contextMenu:n})):Hn.error(`Toggle the contextmenu failed, can not found any menu by id ${e}`)}addContextMenu(e){let t=[...this.state.contextMenu];Array.isArray(e)?t=t==null?void 0:t.concat(e):t==null||t.push(e),this.setState({contextMenu:t})}removeContextMenu(e){const{contextMenu:t}=this.state;let n=[...t];const r=this.getRemoveList(e,n);r.length?(n=n.filter((s,o)=>!r.includes(o)),this.setState({contextMenu:n})):Hn.error("Remove the bar data failed, because there is no data found in barData via this 'id'")}onClick(e){this.subscribe(Iy.OnClick,e)}onChange(e){this.subscribe(Iy.OnChange,e)}};ip=zat([er(),Uat("design:paramtypes",[])],ip);var NR;(function(i){i.onTabClick="AuxiliaryBar.onClick"})(NR||(NR={}));class wY{constructor(e="default",t=[],n,r){this.mode="default",this.data=[],this.mode=e,this.children=r,this.data=t,this.current=n}}var mm;(function(i){i.left="left",i.right="right"})(mm||(mm={}));var AR;(function(i){i.onClick="statusBar.onClick",i.DataChanged="statusBar.data"})(AR||(AR={}));class Zbe{constructor(e=[],t=[],n=[]){this.leftItems=[],this.rightItems=[],this.leftItems=e,this.rightItems=t,this.contextMenu=n}}var ky;(function(i){i.onSelect="menuBar.onSelect",i.onChangeMode="menuBar.onChangeMode"})(ky||(ky={}));class Xbe{constructor(e=[]){this.data=e}}var _d;(function(i){i.onClick="explorer.onClick",i.onPanelToolbarClick="explorer.onPanelToolbarClick",i.onCollapseChange="explorer.onCollapseChange",i.onRemovePanel="explorer.onRemovePanel",i.onCollapseAllFolders="explorer.onCollapseAllFolders"})(_d||(_d={}));class Qbe{constructor(e=[],t,n){this.data=e,this.headerToolBar=t,this.activePanelKeys=n}}var ba;(function(i){i.File="File",i.Folder="Folder",i.RootFolder="RootFolder"})(ba||(ba={}));var Ms;(function(i){i.onSelectFile="folderTree.onSelectFile",i.onDelete="folderTree.onDelete",i.onRename="folderTree.onRename",i.onUpdateFileName="folderTree.onUpdateFileName",i.onRightClick="folderTree.onRightClick",i.onContextMenuClick="folderTree.onContextMenuClick",i.onCreate="folderTree.onCreate",i.onLoadData="folderTree.onLoadData",i.onDrop="folderTree.onDrop",i.onExpandKeys="folderTree.onExpandKeys"})(Ms||(Ms={}));class jat{constructor(e){this.fileType=ba.File;const{id:t,name:n="",location:r="",fileType:s=ba.File,children:o=[],icon:a="",isEditable:u=!1,content:c="",isLeaf:h=!0,data:f}=e;this.fileType=s,this.isEditable=u,this.name=n,this.id=t,this.location=r,this.children=o,this.icon=a,this.content=c,this.data=f,this.isLeaf=h}}class Jbe{constructor(e={contextMenu:[],current:null,folderPanelContextMenu:[],data:[],expandKeys:[]},t=!1,n){this.folderTree=e,this.entry=n,this.autoSort=t}}var Ws;(function(i){i.onClose="editorTree.close",i.onSelect="editorTree.select",i.onCloseOthers="editorTree.closeOthers",i.onCloseSaved="editorTree.closeSaved",i.onCloseAll="editorTree.closeAll",i.onSaveAll="editorTree.saveAll",i.onSplitEditorLayout="editorTree.splitEditorLayout",i.onToolbarClick="editorTree.toolbarClick",i.onContextMenu="editorTree.contextMenuClick"})(Ws||(Ws={}));let Kat=class{constructor(){}};var Cf;(function(i){i.onChange="search.onChange",i.onSearch="search.onSearch",i.onReplaceAll="search.onReplaceAll",i.onResultClick="search.onResultClick"})(Cf||(Cf={}));class eCe{constructor(e=[],t=[],n=[],r=[],s="",o="",a=!1,u=!1,c=!1,h=!1,f=!1,p={type:"info",text:""}){this.result=[],this.value="",this.replaceValue="",this.replaceMode=!1,this.isRegex=!1,this.isCaseSensitive=!1,this.isWholeWords=!1,this.preserveCase=!1,this.validationInfo={type:"info",text:""},this.headerToolBar=e,this.searchAddons=t,this.replaceAddons=n,this.value=s,this.replaceValue=o,this.replaceMode=a,this.isCaseSensitive=u,this.isWholeWords=c,this.isRegex=h,this.preserveCase=f,this.result=r,this.validationInfo=p}}var _m;(function(i){i.onTabChange="panel.onTabChange",i.onToolbarClick="panel.onToolbarClick",i.onTabClose="panel.onTabClose"})(_m||(_m={}));class tCe{constructor(e=null,t=[],n=[]){this.hidden=!1,this.maximize=!1,this.current=e,this.data=t,this.toolbox=n}}var OR;(function(i){i.OnChange="settings.onchange"})(OR||(OR={}));class nCe{constructor(e,t,n){this.colorTheme=e,this.editor=t,this.locale=n}}var r9;(function(i){i[i.Read=1]="Read",i[i.WaitRead=2]="WaitRead"})(r9||(r9={}));class iCe{constructor(e="",t="",n=[],r=1,s=!1,o=[],a){this.id=e,this.name=t,this.sortIndex=r,this.render=a,this.showNotifications=s,this.data=n,this.actionBar=o}}var Rf;(function(i){i[i.Hint=1]="Hint",i[i.Info=2]="Info",i[i.Warning=4]="Warning",i[i.Error=8]="Error"})(Rf||(Rf={}));var MR;(function(i){i.onSelect="problems.onSelect"})(MR||(MR={}));class rCe{constructor(e="",t="",n=[],r=!1){this.id=e,this.name=t,this.show=r,this.data=n}}const sCe={[dn.Unknown]:"",[dn.Backspace]:"",[dn.Tab]:"",[dn.Enter]:"",[dn.PageUp]:"",[dn.PageDown]:"",[dn.Digit0]:"0",[dn.Digit1]:"1",[dn.Digit2]:"2",[dn.Digit3]:"3",[dn.Digit4]:"4",[dn.Digit5]:"5",[dn.Digit6]:"6",[dn.Digit7]:"7",[dn.Digit8]:"8",[dn.Digit9]:"9",[dn.KeyA]:"A",[dn.KeyB]:"B",[dn.KeyC]:"C",[dn.KeyD]:"D",[dn.KeyE]:"E",[dn.KeyF]:"F",[dn.KeyG]:"G",[dn.KeyH]:"H",[dn.KeyI]:"I",[dn.KeyJ]:"J",[dn.KeyK]:"K",[dn.KeyL]:"L",[dn.KeyM]:"M",[dn.KeyN]:"N",[dn.KeyO]:"O",[dn.KeyP]:"P",[dn.KeyQ]:"Q",[dn.KeyR]:"R",[dn.KeyS]:"S",[dn.KeyT]:"T",[dn.KeyU]:"U",[dn.KeyV]:"V",[dn.KeyW]:"W",[dn.KeyX]:"X",[dn.KeyY]:"Y",[dn.KeyZ]:"Z",[dn.Semicolon]:";",[dn.Equal]:"+",[dn.Comma]:",",[dn.Minus]:"-",[dn.Period]:".",[dn.Slash]:"/",[dn.Backquote]:"~",[dn.BracketLeft]:"[",[dn.Backslash]:"\\",[dn.BracketRight]:"]",[dn.Quote]:'"'},qat=Object.freeze(Object.defineProperty({__proto__:null,get ActivityBarEvent(){return Iy},ActivityBarModel:Gbe,get AuxiliaryEventKind(){return NR},AuxiliaryModel:wY,get ColorScheme(){return ex},get ColorThemeEvent(){return kR},get ColorThemeMode(){return tx},get EditorEvent(){return os},EditorGroupModel:Fve,EditorModel:Bve,EditorTree:Kat,get EditorTreeEvent(){return Ws},get ExplorerEvent(){return _d},get FileTypes(){return ba},get Float(){return mm},get FolderTreeEvent(){return Ms},get IContributeType(){return Px},IExplorerModel:Qbe,get IExtensionType(){return nG},IFolderTreeModel:Jbe,KeyCodeString:sCe,get MarkerSeverity(){return Rf},get MenuBarEvent(){return ky},MenuBarModel:Xbe,NotificationModel:iCe,get NotificationStatus(){return r9},get PanelEvent(){return _m},PanelModel:tCe,get ProblemsEvent(){return MR},ProblemsModel:rCe,get SearchEvent(){return Cf},SearchModel:eCe,get SettingsEvent(){return OR},SettingsModel:nCe,SidebarModel:Ybe,get StatusBarEvent(){return AR},StatusBarModel:Zbe,TreeNodeModel:jat},Symbol.toStringTag,{value:"Module"}));var Gat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Yat=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let Jx=class extends El{constructor(){super(),this.getCurrentTab=()=>{const{current:e,data:t}=this.getState();return t==null?void 0:t.find(r=>r.key===e)},this.addAuxiliaryBar=e=>{const t=Array.isArray(e)?e:[e];this.setState({data:this.state.data.concat(t)})},this.setActive=e=>{this.setState({current:e})},this.setChildren=e=>{this.setState({children:e})},this.setMode=e=>{if(typeof e=="string")return this.setState({mode:e}),e;const t=e(this.state.mode);return this.setState({mode:t}),t},this.reset=()=>{this.setState(qe.resolve(wY))},this.state=qe.resolve(wY)}onTabClick(e){this.subscribe(NR.onTabClick,e)}};Jx=Gat([er(),Yat("design:paramtypes",[])],Jx);var Zat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Xat=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let H1=class extends El{constructor(){super(),this.sperator="-",this.setMenus=e=>{this.setState({data:Nr.cloneDeep(e)})},this.onSelect=e=>{this.subscribe(ky.onSelect,e)},this.state=qe.resolve(Xbe)}getReferenceMenu(e){const{data:t}=this.state,n=t.map((s,o)=>({source:s,path:`${o}`}));let r;for(;n.length;){const{source:s,path:o}=n.shift();s.id===e?r={source:s,path:o}:n.push(...(s.data||[]).map((a,u)=>({source:a,path:`${o}${this.sperator}${u}`})))}return r}getMenuById(e){const t=this.getReferenceMenu(e);return t&&Nr.cloneDeep(t.source)}append(e,t){const{data:n}=this.state,r=this.getReferenceMenu(t);if(!r){Hn.error(`There is no menu found by ${t}`);return}const{source:s}=r;Array.isArray(s.data)?s.data.push(e):s.data=[e];const o=Nr.cloneDeep(n);this.setState({data:o})}remove(e){const{data:t}=this.state,n=this.getReferenceMenu(e);if(!n){Hn.error(`There is no menu found by ${e}`);return}const{path:r}=n,s=r.split(this.sperator);s.length=s.length-1;const o=s.reduce((u,c)=>{const{data:h}=u;return h[c]},{data:t}),a=o.data.findIndex(u=>u.id===e);o.data.splice(a,1),this.setState({data:Nr.cloneDeep(t)})}update(e,t={}){const{data:n}=this.state,r=this.getReferenceMenu(e);if(!r){Hn.error(`There is no menu found by ${e}`);return}const s=r.source;Object.assign(s,t);const o=Nr.cloneDeep(n);this.setState({data:o})}reset(){this.setState({data:[]})}};H1=Zat([er(),Xat("design:paramtypes",[])],H1);var Qat=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Jat=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let Am=class extends El{constructor(){super(),this.state=qe.resolve(Qbe)}setExpandedPanels(e){this.setState({activePanelKeys:e})}toggleIcon(e){return e==="check"?"":"check"}getAction(e){var t;const{headerToolBar:n}=this.state,r=(t=n==null?void 0:n.contextMenu)===null||t===void 0?void 0:t.find(_i(e));return r&&Of(r)}updatePanel(e){if(!e.id){Hn.error("Must provide id property in update data");return}const t=this.state.data.concat(),n=t.find(_i(e.id));if(!n){Hn.error(`There is no panel found in state whose id is ${e.id}`);return}Object.assign(n,e),this.setState({data:t}),this.updateAction({id:e.id.toString(),name:e.name,title:e.title,sortIndex:e.sortIndex})}updateAction(e){var t;if(!e.id){Hn.error("Must provide id property in action data");return}const{headerToolBar:n}=this.state;if(!n){Hn.error("Molecule can' update the action, because there is no headerToolBar in Explorer");return}const r=((t=n.contextMenu)===null||t===void 0?void 0:t.concat())||[],s=r.find(_i(e.id));if(!s){Hn.error(`There is no action found in actions whose id is ${e.id}`);return}Object.assign(s,e),this.setState({headerToolBar:Object.assign(Object.assign({},n),{contextMenu:r})})}addPanel(e){const t=Array.isArray(e)?e:[e],n=[...this.state.data],r=[];t.forEach(s=>{n.findIndex(_i(s.id))!==-1?Hn.error(`There is already a panel whose id is ${s.id}`):(n.push(Of(s)),r.push({id:s.id.toString(),name:s.name,title:s.name,icon:"check",sortIndex:s.sortIndex}))}),n.sort(({sortIndex:s=0},{sortIndex:o=0})=>o-s),this.setState({data:n}),this.addAction(r)}addAction(e){var t;const n=Array.isArray(e)?e:[e],{headerToolBar:r}=this.state;if(!r){Hn.error("Molecule can't add the action, because there is no headerToolBar in Explorer");return}const s=((t=r.contextMenu)===null||t===void 0?void 0:t.concat())||[];n.forEach(a=>{s.findIndex(_i(a.id))!==-1?Hn.error(`There is already an action whose id is ${a.id}`):s.push(a)}),s.sort(({sortIndex:a=0},{sortIndex:u=0})=>u-a);const o=Object.assign(Object.assign({},r),{contextMenu:s});this.setState({headerToolBar:o})}removePanel(e){const{data:t}=this.state,n=[...t],r=n.findIndex(_i(e));r>-1&&n.splice(r,1),this.setState({data:n}),this.removeAction(e)}removeAction(e){const{headerToolBar:t}=this.state;if(!t){Hn.error("Molecule can' remove the action, because there is no headerToolBar in Explorer");return}const n=t.contextMenu||[],r=n==null?void 0:n.findIndex(_i(e));r>-1&&n.splice(r,1);const s=Object.assign(Object.assign({},t),{contextMenu:n});this.setState({headerToolBar:s})}togglePanel(e){const{data:t}=this.state,n=t.concat(),r=n.find(_i(e));r&&(r.hidden=!r.hidden,this.setState({data:n}),this.toggleHeaderBar(e))}toggleHeaderBar(e){var t;const{headerToolBar:n}=this.state;if(!n){Hn.error("Molecule can' toggle the header bar, because there is no headerToolBar in Explorer");return}const r=((t=n.contextMenu)===null||t===void 0?void 0:t.concat())||[],s=r.find(_i(e));if(s){s.icon=this.toggleIcon(s.icon);const o=Object.assign(Object.assign({},n),{contextMenu:r});this.setState({headerToolBar:o})}}reset(){this.setState({data:[],headerToolBar:void 0})}onClick(e){this.subscribe(_d.onClick,e)}onRemovePanel(e){this.subscribe(_d.onRemovePanel,e)}onCollapseAllFolders(e){this.subscribe(_d.onCollapseAllFolders,e)}onPanelToolbarClick(e){this.subscribe(_d.onPanelToolbarClick,e)}};Am=Qat([er(),Jat("design:paramtypes",[])],Am);const Iee="molecule",oCe="activityBar",D3="sidebar",elt="explorer",Ale="statusBar",tlt="folderTree",nlt="editorTree";var s9;(function(i){i.left="left",i.right="right"})(s9||(s9={}));var _l;(function(i){i.horizontal="horizontal",i.vertical="vertical"})(_l||(_l={}));var o9;(function(i){i.OnWorkbenchDidMount="workbench.didMount"})(o9||(o9={}));class ilt{constructor(e=[300,"auto",300],t=["auto","150px"],n=[],r={hidden:!1},s={hidden:!0},o={hidden:!1,panelMaximized:!1},a={hidden:!1},u={hidden:!1,position:s9.left},c={hidden:!1,mode:_l.vertical},h=_l.vertical){this.splitPanePos=e,this.horizontalSplitPanePos=t,this.groupSplitPos=n,this.activityBar=r,this.auxiliaryBar=s,this.panel=o,this.statusBar=a,this.sidebar=u,this.menuBar=c,this.editorGroupDirection=h}}var rlt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},slt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let dc=class extends El{constructor(){super(),this.state=qe.resolve(ilt)}onWorkbenchDidMount(e){this.subscribe(o9.OnWorkbenchDidMount,e)}get container(){return this._container=document.getElementById(Iee)||document.body,this._container}toggleMenuBarVisibility(){const{menuBar:e}=this.state,t=e.hidden;return this.setState({menuBar:Object.assign(Object.assign({},e),{hidden:!t})}),!t}togglePanelVisibility(){const{panel:e}=this.state,t=e.hidden;return this.setState({panel:Object.assign(Object.assign({},e),{hidden:!t})}),!t}toggleSidebarVisibility(){const{sidebar:e}=this.state,t=e.hidden;return this.setState({sidebar:Object.assign(Object.assign({},e),{hidden:!t})}),!t}toggleActivityBarVisibility(){const{activityBar:e}=this.state,t=e.hidden;return this.setState({activityBar:Object.assign(Object.assign({},e),{hidden:!t})}),!t}toggleStatusBarVisibility(){const{statusBar:e}=this.state,t=e.hidden;return this.setState({statusBar:Object.assign(Object.assign({},e),{hidden:!t})}),!t}setSideBarPosition(e){const{sidebar:t}=this.state,{position:n}=t;n!==e&&this.setState({sidebar:{position:e,hidden:!1}})}togglePanelMaximized(){const e=this.state.panel;return this.setState({panel:Object.assign(Object.assign({},e),{panelMaximized:!e.panelMaximized})}),!e.panelMaximized}setPaneSize(e){this.setState({splitPanePos:e})}setHorizontalPaneSize(e){this.setState({horizontalSplitPanePos:e})}setGroupSplitSize(e){this.setState({groupSplitPos:e})}setMenuBarMode(e){const{menuBar:t}=this.state,{mode:n}=t;n!==e&&(this.setState({menuBar:Object.assign(Object.assign({},t),{mode:e,hidden:!1})}),this.emit(ky.onChangeMode,e))}getMenuBarMode(){const{menuBar:e}=this.state;return e.mode}setEditorGroupDirection(e){typeof e=="function"?this.setState({editorGroupDirection:e(this.state.editorGroupDirection)}):this.setState({editorGroupDirection:e})}setAuxiliaryBar(e){if(typeof e=="boolean")return this.setState({auxiliaryBar:{hidden:e}}),e;const t=e(this.state.auxiliaryBar.hidden);return this.setState({auxiliaryBar:{hidden:t}}),t}reset(){this.setState({splitPanePos:["300px","auto"],horizontalSplitPanePos:["70%","auto"],activityBar:{hidden:!1},panel:{hidden:!1,panelMaximized:!1},statusBar:{hidden:!1},sidebar:{hidden:!1,position:s9.left},menuBar:{hidden:!1,mode:_l.vertical}})}};dc=rlt([er(),slt("design:paramtypes",[])],dc);var olt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},alt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let Jl=class extends El{constructor(){super(),this.defaultActions=[],this.defaultMenus=[],this.updateActions=(e,t)=>{var n;const{current:r,groups:s}=this.getState();if(!r)return;const o=(s==null?void 0:s.concat())||[],a=o.find(_i(t||r.id));if(a){const u=((n=a.actions)===null||n===void 0?void 0:n.concat())||[];u.forEach(c=>{const h=e.find(f=>f.id===c.id);h&&Object.assign(c,h)}),a.actions=u,this.setState({current:a.id===r.id?a:r,groups:o})}},this.state=qe.resolve(Bve),this.explorerService=qe.resolve(Am),this.layoutService=qe.resolve(dc)}updateEditorOptions(e){var t;const n=Object.assign({},this.state.editorOptions,e);this.setState({editorOptions:n}),(t=this.editorInstance)===null||t===void 0||t.updateOptions(n)}getDefaultActions(){return Nr.cloneDeep(this.defaultActions)}getDefaultMenus(){return Nr.cloneDeep(this.defaultMenus)}disposeModel(e){(Array.isArray(e)?e:[e]).forEach(n=>{var r;(r=Za.getModel(l1.parse(n.id.toString())))===null||r===void 0||r.dispose()})}isOpened(e,t){return(t||this.state.groups||[]).some(r=>this.getTabById(e,r.id))}setDefaultActions(e){this.defaultActions=e}setDefaultMenus(e){this.defaultMenus=e}setEntry(e){this.setState({entry:e})}getTabById(e,t){var n;const r=this.getGroupById(t);if(r)return(n=r.data)===null||n===void 0?void 0:n.find(_i(e))}get editorInstance(){var e;return(e=this.state.current)===null||e===void 0?void 0:e.editorInstance}updateTab(e,t){var n,r,s;let o;const a=(n=e==null?void 0:e.data)===null||n===void 0?void 0:n.value;if(t){const u=this.getGroupById(t);if(!((r=u==null?void 0:u.data)===null||r===void 0)&&r.length){const c=u.data.find(_i(e.id));c&&(o=Object.assign(c,e)),u.activeTab===e.id&&(o=Object.assign(u.tab,e));const h=Za.getModel(l1.parse(e.id.toString())),f=h==null?void 0:h.getValue();h&&Nr.isString(a)&&f!==a&&h.setValue(a),this.updateGroup(t,u),t===((s=this.state.current)===null||s===void 0?void 0:s.id)&&this.updateCurrentGroup(u)}}else{const{groups:u=[],current:c}=this.state;u.forEach(h=>{const f=this.getTabById(e.id,h.id);f&&(o=Object.assign(f,e)),h.activeTab===e.id&&(o=Object.assign(h.tab,e));const p=Za.getModel(l1.parse(e.id.toString())),m=p==null?void 0:p.getValue();p&&Nr.isString(a)&&m!==a&&p.setValue(a)}),(c==null?void 0:c.activeTab)===e.id&&(o=Object.assign(c.tab,e)),this.setState({current:c&&Object.assign({},c),groups:[...u]})}return o}setGroupEditorValue(e,t){var n;const r=(n=e.editorInstance)===null||n===void 0?void 0:n.getModel();if(!r)return;(r==null?void 0:r.getValue())!==t&&(r==null||r.setValue(t))}closeTab(e,t){const n=this.getGroupIndexById(t);if(n===-1)return;const{groups:r=[]}=this.state,s=[...r],o=s[n],a=o.data.findIndex(_i(e)),u=Nr.cloneDeep(o.data[a]);if(a!==-1){if(o.data.length===1&&a===0){const c=s[n+1]||s[n-1];s.splice(n,1),this.setState({groups:s,current:(s==null?void 0:s.length)===0?void 0:c},()=>{!this.isOpened(e)&&this.disposeModel(u),this.explorerService.forceUpdate()}),this.layoutService.setGroupSplitSize(s.length?new Array(s.length+1).fill("auto"):[]);return}if(e===o.activeTab){const c=o.data[a+1]||o.data[a-1];o.tab=Object.assign({},c),o.activeTab=c==null?void 0:c.id}o.data.splice(a,1),s[n]=o,this.setState({current:o,groups:s},()=>{!this.isOpened(e)&&this.disposeModel(u),this.explorerService.forceUpdate()})}}closeOther(e,t){const n=this.getGroupIndexById(t);if(n<=-1)return;const{groups:r=[]}=this.state,s=[...r],o=e.id,u=s[n].data,c=u.filter(_i(o)),h=Nr.cloneDeep(u.filter(f=>f.id!==o&&!this.isOpened(f.id,s.filter(p=>p.id!==t))));this.updateGroup(t,{data:c}),this.setActive(t,o),this.disposeModel(h),this.explorerService.forceUpdate()}closeToRight(e,t){const n=this.getGroupIndexById(t);if(n<=-1)return;const{groups:r=[]}=this.state,s=[...r],o=e.id,u=s[n].data,c=u.findIndex(_i(o));if(c<=-1)return;const h=u==null?void 0:u.slice(0,c+1),f=Nr.cloneDeep(u==null?void 0:u.slice(c+1).filter(p=>!this.isOpened(p.id,s.filter(m=>m.id!==t))));this.updateGroup(t,{data:h}),this.setActive(t,o),this.disposeModel(f||[]),this.explorerService.forceUpdate()}closeToLeft(e,t){const n=this.getGroupIndexById(t);if(n<=-1)return;const{groups:r=[]}=this.state,s=[...r],o=e.id,u=s[n].data,c=u.findIndex(_i(o));if(c<=-1)return;const h=u==null?void 0:u.slice(c,u.length),f=Nr.cloneDeep(u==null?void 0:u.slice(0,c).filter(p=>!this.isOpened(p.id,s.filter(m=>m.id!==t))));this.updateGroup(t,{data:h}),this.setActive(t,o),this.disposeModel(f||[]),this.explorerService.forceUpdate()}getGroupById(e){const{groups:t}=this.state;return t.find(_i(e))}getGroupIndexById(e){const{groups:t}=this.state;return t.findIndex(_i(e))}getGroupIdByTab(e){const{groups:t=[]}=this.state;return this.isOpened(e,t)?t.find(s=>this.getTabById(e,s.id)).id:null}setActive(e,t){const{groups:n=[]}=this.state,r=this.getGroupIndexById(e);if(r>-1){const s=[...n],o=s[r],a=this.getTabById(t,o.id);if(a){const u=Object.assign({},o);u.tab=Object.assign({},a),u.activeTab=t,s[r]=u,this.setState({current:u,groups:s})}}}updateGroup(e,t){const{groups:n=[]}=this.state,r=[...n],s=this.getGroupIndexById(e);if(s>-1){const o=Object.assign({},r[s],t);r[s]=o,this.setState({groups:r})}}updateCurrentGroup(e){const{current:t}=this.state,n=Object.assign({},t,e);this.setState({current:n})}open(e,t){const{current:n,groups:r=[]}=this.state;let s=n;if(t&&(s=this.getGroupById(t)),s){const{id:o}=e,a=s==null?void 0:s.data.find(_i(o));if(a&&o===(s==null?void 0:s.activeTab))return;const u=this.getGroupIndexById(s.id),c=r[u];a||s.data.push(e),s.tab=e,s.activeTab=o,r[u]=Object.assign(Object.assign({},c),{tab:e,activeTab:o})}else s=new Fve(r.length+1,e,e.id,[e],this.defaultActions,this.defaultMenus),r.push(s);this.emit(os.OpenTab,e),this.setState({current:s,groups:[...r]}),this.explorerService.forceUpdate()}onOpenTab(e){this.subscribe(os.OpenTab,e)}closeAll(e){var t;const{current:n,groups:r=[]}=this.state,s=this.getGroupIndexById(e);if(s>-1){const o=[...r];let a=n;const u=o.splice(s,1),c=Nr.cloneDeep(((t=u[0].data)===null||t===void 0?void 0:t.filter(h=>!this.isOpened(h.id,o)))||[]);n&&n.id===e&&(a=r[s+1]||r[s-1]),this.setState({groups:o,current:a},()=>{this.disposeModel(c),this.explorerService.forceUpdate()}),this.layoutService.setGroupSplitSize(o.length?new Array(o.length+1).fill("auto"):[])}}cloneGroup(e){const{current:t,groups:n=[]}=this.state,r=Object.assign({},e?this.getGroupById(e):t),s=Kde(),o=Object.assign({},r.tab);return r.data=[o],r.tab=o,r.activeTab=o.id,r.id=s,this.setState({current:r,groups:[...n,r]}),r}onUpdateTab(e){this.subscribe(os.OnUpdateTab,e)}onMoveTab(e){this.subscribe(os.OnMoveTab,e)}onSelectTab(e){this.subscribe(os.OnSelectTab,e)}onCloseAll(e){this.subscribe(os.OnCloseAll,e)}onCloseTab(e){this.subscribe(os.OnCloseTab,e)}onCloseOther(e){this.subscribe(os.OnCloseOther,e)}onCloseToLeft(e){this.subscribe(os.OnCloseToLeft,e)}onCloseToRight(e){this.subscribe(os.OnCloseToRight,e)}onActionsClick(e){this.subscribe(os.onActionsClick,e)}onEditorInstanceMount(e){this.subscribe(os.onEditorInstanceMount,e)}};Jl=olt([er(),alt("design:paramtypes",[])],Jl);var llt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},ult=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let rp=class extends El{constructor(){super(),this.state=qe.resolve(Zbe)}getItem(e,t){const{rightItems:n,leftItems:r}=this.state;if(!t){let a=r.findIndex(_i(e.id));return a>-1?{index:a,item:r[a],source:"leftItems"}:(a=n.findIndex(_i(e.id)),a>-1?{index:a,item:n[a],source:"rightItems"}:{index:-1,item:null,source:null})}const s=t===mm.left?r:n,o=s.findIndex(_i(e.id));return{index:o,item:s[o]||null,source:t===mm.left?"leftItems":"rightItems"}}add(e,t){if(this.getItem(e,t).item){Hn.error(`There is already a status whose id is ${e.id}, if you want to update it, please use the update method`);return}const r=t===mm.left?"leftItems":"rightItems",s=this.state[r].concat();s.push(e),this.setState({[r]:s})}update(e,t){const n=this.getItem(e,t);if(!n.source){Hn.error(`There is no status found whose id is ${e.id}`);return}const{index:r,item:s,source:o}=n,a=this.state[o].concat();a[r]=Object.assign({},s,e),this.setState({[o]:a})}getStatusBarItem(e,t){const n=this.getItem({id:e},t);return n.source?Of(n.item):n.item}remove(e,t){const n=this.getItem({id:e},t);if(!n.source){Hn.error(`There is no status item found whose id is ${e}`);return}const{index:r,source:s}=n,o=this.state[s].concat();o.splice(r,1),this.setState({[s]:o})}reset(){this.setState({rightItems:[],leftItems:[],contextMenu:[]})}onClick(e){this.subscribe(AR.onClick,e)}};rp=llt([er(),ult("design:paramtypes",[])],rp);var clt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},dlt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},hlt=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};let eE=class extends El{constructor(){super(),this.fileContextMenu=[],this.folderContextMenu=[],this.onDropTree=e=>{this.subscribe(Ms.onDrop,e)},this.onRightClick=e=>{this.subscribe(Ms.onRightClick,e)},this.onCreate=e=>{this.subscribe(Ms.onCreate,e)},this.onContextMenu=e=>{this.subscribe(Ms.onContextMenuClick,e)},this.onLoadData=e=>{this.subscribe(Ms.onLoadData,e)},this.onExpandKeys=e=>{this.subscribe(Ms.onExpandKeys,e)},this.state=qe.resolve(Jbe),this.explorerService=qe.resolve(Am),this.builtinService=qe.resolve(oo)}isHiddenFile(e){var t;return!!(!((t=e.name)===null||t===void 0)&&t.startsWith("."))}sortTree(e){e.sort((t,n)=>{if(t.isLeaf!==n.isLeaf)return t.isLeaf>n.isLeaf?1:-1;if(t.name&&n.name){const r=Number(this.isHiddenFile(t)),s=Number(this.isHiddenFile(n));return r^s?r?-1:1:r&r?t.name.substring(1).localeCompare(n.name.substring(1)):t.name.localeCompare(n.name)}return t.isEditable?-1:1}),e.forEach(t=>this.sortTree(t.children||[]))}reset(){this.setState({folderTree:{contextMenu:[],current:null,folderPanelContextMenu:[],data:[]},entry:void 0})}getFileContextMenu(){return this.fileContextMenu}getParentNode(e){var t,n;const r=(n=(t=this.state.folderTree)===null||t===void 0?void 0:t.data)===null||n===void 0?void 0:n[0];if(!r)return null;const s=new d8(r),o=s.getHashMap(e);return o&&o.parent?s.getNode(o.parent):null}setFileContextMenu(e){this.fileContextMenu=e}getFolderContextMenu(){return this.folderContextMenu}setFolderContextMenu(e){this.folderContextMenu=e}getExpandKeys(){var e;return((e=this.state.folderTree)===null||e===void 0?void 0:e.expandKeys)||[]}setExpandKeys(e){const{folderTree:t}=this.state;this.setState({folderTree:Object.assign(Object.assign({},t),{expandKeys:e})})}getLoadedKeys(){var e;return((e=this.state.folderTree)===null||e===void 0?void 0:e.loadedKeys)||[]}setLoadedKeys(e){const{folderTree:t}=this.state;this.setState({folderTree:Object.assign(Object.assign({},t),{loadedKeys:e})})}setCurrentFolderLocation(e,t){const n=e.children,{tree:r}=this.getCurrentRootFolderInfo(t),s=r.getHashMap(t);e.location=`${s.node.location}/${e.name}`,n!=null&&n.length&&n.forEach(o=>{o.location=`${e.location}/${o.name}`})}getRootFolderById(e){var t;const n=((t=this.state.folderTree)===null||t===void 0?void 0:t.data)||[];for(let r=0;r<n.length;r++){const s=n[r];if(new d8(s).getNode(e))return s}return null}addRootFolder(e){var t;const{folderTree:n,autoSort:r}=this.state;if(!((t=n==null?void 0:n.data)===null||t===void 0)&&t.length)return;r&&this.sortTree(e.children||[]),this.setState({folderTree:Object.assign(Object.assign({},n),{data:[e]})});const{SAMPLE_FOLDER_PANEL_ID:s}=this.builtinService.getConstants();this.explorerService.updatePanel({id:s,name:e.name||"Default Root Folder"})}getRootFolderIndex(e){var t;return(((t=this.state.folderTree)===null||t===void 0?void 0:t.data)||[]).findIndex(s=>s.id===e)}getCurrentRootFolderInfo(e){const t=this.getRootFolderById(e);if(!t)return{currentRootFolder:null,index:-1,tree:null};const n=this.getRootFolderIndex(t.id),r=new d8(t);return{currentRootFolder:t,index:n,tree:r}}getPosOfType(e,t){if(!t.length||e===ba.Folder||e===ba.RootFolder)return 0;const n=t.findIndex(r=>r.fileType===ba.File);return n===-1?t.length:n}add(e,t){var n,r;const s=e.fileType==="RootFolder",{autoSort:o}=this.state;if(s){this.addRootFolder(e);return}if(!t&&t!==0)throw new Error("File node or folder node both need id");const a=((n=this.state.folderTree)===null||n===void 0?void 0:n.data)||[],{tree:u,index:c}=this.getCurrentRootFolderInfo(t);if(c<=-1){Hn.error("Please check id again, there is not folder tree");return}const h=u.getHashMap(t);if(h.node.fileType===ba.File){e.location=((r=h.node.location)===null||r===void 0?void 0:r.replace(/[^\/]+$/,`${e.name}`))||"";const f=u.getNode(h.parent),p=this.getPosOfType(e.fileType,f.children||[]);u.insertNode(e,h.parent,p)}else{this.setCurrentFolderLocation(e,t);const f=this.getPosOfType(e.fileType,h.node.children||[]);u==null||u.insertNode(e,h.id,f)}a[c]=u.obj,o&&this.sortTree(a[c].children||[]),this.setState({folderTree:Object.assign(Object.assign({},this.state.folderTree),{data:Of(a)})})}remove(e){var t;const n=Of(this.getState().folderTree||{}),r=n.data||[],{tree:s,index:o}=this.getCurrentRootFolderInfo(e);if(!s||o===-1){Hn.error(`There is unable to find a tree node whose id is ${e}`);return}s.removeNode(e),o>-1&&(r[o]=s.obj),!((t=n.loadedKeys)===null||t===void 0)&&t.includes(e.toString())&&(n.loadedKeys=n.loadedKeys.filter(a=>a!==e.toString())),this.setState({folderTree:n})}update(e){const{id:t}=e,n=hlt(e,["id"]),{autoSort:r}=this.state;if(!t&&t!==0)throw new Error("Id is required in updating data");const s=Of(this.getState().folderTree||{}),o=s.data||[],{tree:a,index:u}=this.getCurrentRootFolderInfo(t);if(!a){Hn.error(`There is unable to find a tree node whose id is ${t}`);return}a.updateNode(t,n),u>-1&&(o[u]=a.obj,r&&this.sortTree(o[u].children||[])),this.setState({folderTree:s})}get(e){const{tree:t}=this.getCurrentRootFolderInfo(e);return t?t.getNode(e):null}setActive(e){const{folderTree:t}=this.state,n=typeof e>"u"?null:this.get(e);this.setState({folderTree:Object.assign(Object.assign({},t),{current:n})})}setEntry(e){this.setState({entry:e})}onRename(e){this.subscribe(Ms.onRename,e)}onRemove(e){this.subscribe(Ms.onDelete,e)}onUpdateFileName(e){this.subscribe(Ms.onUpdateFileName,e)}onSelectFile(e){this.subscribe(Ms.onSelectFile,e)}toggleAutoSort(){this.setState({autoSort:!this.state.autoSort})}};eE=clt([er(),dlt("design:paramtypes",[])],eE);var flt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},glt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let a9=class extends El{constructor(){super(),this.editorService=qe.resolve(Jl),this.state=this.editorService.getState()}onClose(e){this.subscribe(Ws.onClose,e)}onCloseOthers(e){this.subscribe(Ws.onCloseOthers,e)}onCloseSaved(e){this.subscribe(Ws.onCloseSaved,e)}onSelect(e){this.subscribe(Ws.onSelect,e)}onCloseAll(e){this.subscribe(Ws.onCloseAll,e)}onSaveAll(e){this.subscribe(Ws.onSaveAll,e)}onToolbarClick(e){this.subscribe(Ws.onToolbarClick,e)}onLayout(e){this.subscribe(Ws.onSplitEditorLayout,e)}onContextMenu(e){this.subscribe(Ws.onContextMenu,e)}};a9=flt([er(),glt("design:paramtypes",[])],a9);const Ge={PANEL_PROBLEMS:"panel.problems.title",STATUS_PROBLEMS:"statusbar.problems.title",SAMPLE_FOLDER_PANEL_ID:"sidebar.explore.folders",EDITOR_PANEL_ID:"sidebar.explore.openEditor",OUTLINE_PANEL_ID:"sidebar.explore.outline",OUTLINE_PANEL_MORE_DESC:"sidebar.explore.outlineMore",EXPLORER_ACTIVITY_ITEM:"sidebar.explore.title",EXPLORER_ACTION_TITLE:"sidebar.explore.actionDesc",EXPLORER_TOGGLE_VERTICAL:"sidebar.explore.toggleVertical",EXPLORER_TOGGLE_SAVE_ALL:"sidebar.explore.saveALL",EXPLORER_TOGGLE_CLOSE_ALL_EDITORS:"sidebar.explore.closeAllEditors",EXPLORER_TOGGLE_SAVE_GROUP:"sidebar.explore.saveGroup",EXPLORER_TOGGLE_CLOSE_GROUP_EDITORS:"sidebar.explore.closeGroupEditors",NEW_FILE_COMMAND_ID:"explorer.newFile",NEW_FOLDER_COMMAND_ID:"explorer.newFolder",COLLAPSE_COMMAND_ID:"explorer.collapse",RENAME_COMMAND_ID:"explorer.rename",REMOVE_COMMAND_ID:"explorer.remove",DELETE_COMMAND_ID:"explorer.delete",OPEN_TO_SIDE_COMMAND_ID:"explorer.openToSide",FIND_IN_WORKSPACE_ID:"filesExplorer.findInWorkspace",DOWNLOAD_COMMAND_ID:"explorer.download",EDITOR_MENU_CLOSE_TO_RIGHT:"editor.closeToRight",EDITOR_MENU_CLOSE_TO_LEFT:"editor.closeToLeft",EDITOR_MENU_CLOSE_ALL:"editor.closeAll",EDITOR_MENU_CLOSE_OTHERS:"editor.closeOthers",EDITOR_MENU_CLOSE_SAVED:"editor.closeSaved",EDITOR_MENU_CLOSE:"editor.close",EDITOR_MENU_SHOW_OPENEDITORS:"editor.showOpenEditors",EDITOR_MENU_SPILIT:"editor.split",SETTING_ID:"Setting",PROBLEM_MODEL_ID:"MO_PROBLEMS",PROBLEM_MODEL_NAME:"Problems",NOTIFICATION_CLEAR_ALL_ID:"ClearAll",NOTIFICATION_HIDE_ID:"HideNotifications",NOTIFICATION_MODEL_ID:"MO_NOTIFICATION",NOTIFICATION_MODEL_NAME:"Notification",STATUS_BAR_HIDE_ID:"hide",SEARCH_CASE_SENSITIVE_COMMAND_ID:"search.matchCase",SEARCH_WHOLE_WORD_COMMAND_ID:"search.matchWholeWord",SEARCH_REGULAR_EXPRESSION_COMMAND_ID:"search.useRegularExpression",SEARCH_PRESERVE_CASE_COMMAND_ID:"search.preserveCase",SEARCH_REPLACE_ALL_COMMAND_ID:"search.replaceAll",SEARCH_ACTIVITY_ITEM:"sidebar.search.title",SEARCH_TOOLBAR_REFRESH:"search.toolbar.refresh",SEARCH_TOOLBAR_CLEAR:"search.toolbar.clearAll",SEARCH_TOOLBAR_COLLAPSE:"search.toolbar.collapseAll",PANEL_TOOLBOX_CLOSE:"panel.toolbox.closePanel",PANEL_TOOLBOX_RESIZE:"panel.toolbox.maximize",PANEL_TOOLBOX_RESTORE_SIZE:"panel.toolbox.restoreSize",PANEL_OUTPUT:"panel.output.title",MENU_APPEARANCE_ID:"Appearance",MENU_FILE_OPEN:"openFile",MENU_QUICK_COMMAND:"editor.action.quickCommand",MENU_VIEW_MENUBAR:"workbench.action.showMenuBar",MENU_VIEW_AUXILIARY:"workbench.action.showAuxiliary",MENU_VIEW_ACTIVITYBAR:"workbench.action.showActivityBar",MENU_VIEW_STATUSBAR:"workbench.action.showStatusBar",MENU_VIEW_PANEL:"workbench.action.showPanel",ACTION_QUICK_COMMAND:"editor.action.quickCommand",ACTION_QUICK_SELECT_ALL:"editor.action.quickSelectAll",ACTION_QUICK_COPY_LINE_UP:"editor.action.copyLinesUpAction",ACTION_QUICK_UNDO:"editor.action.undo",ACTION_QUICK_REDO:"editor.action.redo",ACTION_QUICK_CREATE_FILE:"workbench.action.quickCreateFile",ACTION_QUICK_CREATE_FOLDER:"workbench.action.quickCreateFolder",ACTION_QUICK_ACCESS_SETTINGS:"workbench.action.quickAccessSettings",ACTION_SELECT_THEME:"workbench.action.selectTheme",ACTION_SELECT_LOCALE:"workbench.action.selectLocale",ACTIVITY_BAR_GLOBAL_SETTINGS:"global.menu.settings",ACTIVITY_BAR_GLOBAL_ACCOUNT:"global.menu.account",CONTEXT_MENU_MENU:"menubar",CONTEXT_MENU_EXPLORER:"sidebar.explore.title",CONTEXT_MENU_SEARCH:"sidebar.search.title",CONTEXT_MENU_HIDE:"menu.hideActivityBar",MENUBAR_MODE_HORIZONTAL:"menuBar.mode.horizontal",MENUBAR_MODE_VERTICAL:"menuBar.mode.vertical",MENUBAR_MENU_MODE_DIVIDER:"menuBar.modeDivider"},Ole={builtInExplorerActivityItem:()=>({id:Ge.EXPLORER_ACTIVITY_ITEM,name:pt(Ge.EXPLORER_ACTIVITY_ITEM,"Explore"),icon:"files",title:pt(Ge.EXPLORER_ACTIVITY_ITEM,"Explore"),sortIndex:1}),builtInExplorerFolderPanel:()=>({id:Ge.SAMPLE_FOLDER_PANEL_ID,sortIndex:8,name:pt("menu.defaultProjectName","No Open Folder"),toolbar:[{id:Ge.NEW_FILE_COMMAND_ID,title:pt("menu.newFile","New File"),icon:"new-file"},{id:Ge.NEW_FOLDER_COMMAND_ID,title:pt("menu.newFolder","New Folder"),icon:"new-folder"},{id:"refresh",title:pt("sidebar.explore.refresh","Refresh Explorer"),icon:"refresh"},{id:Ge.COLLAPSE_COMMAND_ID,title:pt("sidebar.explore.collapseFolders","Collapse Folders in Explorer"),icon:"collapse-all"}],config:{grow:2}}),builtInExplorerHeaderToolbar:()=>({id:Ge.EXPLORER_ACTION_TITLE,title:pt(Ge.EXPLORER_ACTION_TITLE,"View and More Actions..."),icon:"ellipsis",contextMenu:[]}),builtInExplorerEditorPanel:()=>({id:Ge.EDITOR_PANEL_ID,sortIndex:9,name:pt(Ge.EDITOR_PANEL_ID,"OPEN EDITORS"),toolbar:[{id:Ge.EXPLORER_TOGGLE_VERTICAL,title:pt(Ge.EXPLORER_TOGGLE_VERTICAL,"Toggle Vertical"),icon:"editor-layout"},{id:Ge.EXPLORER_TOGGLE_SAVE_ALL,title:pt(Ge.EXPLORER_TOGGLE_SAVE_ALL,"Save All"),icon:"save-all"},{id:Ge.EXPLORER_TOGGLE_CLOSE_ALL_EDITORS,title:pt(Ge.EXPLORER_TOGGLE_CLOSE_ALL_EDITORS,"Close All Editors"),icon:"close-all"}],groupToolbar:[{id:Ge.EXPLORER_TOGGLE_SAVE_GROUP,title:pt(Ge.EXPLORER_TOGGLE_SAVE_GROUP,"Save Group"),icon:"save-all"},{id:Ge.EXPLORER_TOGGLE_CLOSE_GROUP_EDITORS,title:pt(Ge.EXPLORER_TOGGLE_CLOSE_GROUP_EDITORS,"Close Group Editors"),icon:"close-all"}],config:{grow:0}}),builtInExplorerOutlinePanel:()=>({id:"outline",name:pt("sidebar.explore.outline","OUTLINE"),toolbar:[{id:"outline-collapse",title:pt("toolbar.collapseAll","Collapse All"),icon:"collapse-all"},{id:"outline-more",title:pt("sidebar.explore.outlineMore","More Actions..."),icon:"ellipsis"}]}),BuiltInEditorOptions:()=>({renderWhitespace:"none",tabSize:4,fontSize:12}),builtInEditorInitialActions:()=>[{id:Ge.EDITOR_MENU_SPILIT,name:"Split Editor Right",title:pt("editor.actions.splitRight","Split Editor Right"),icon:"split-horizontal",place:"outer"},{id:Ge.EDITOR_MENU_SHOW_OPENEDITORS,name:"Show Opened Editors"},{id:Ge.EDITOR_MENU_CLOSE_ALL,name:pt(Ge.EDITOR_MENU_CLOSE_ALL,"Close All")}],builtInEditorInitialMenu:()=>[{id:Ge.EDITOR_MENU_CLOSE,name:pt(Ge.EDITOR_MENU_CLOSE,"Close")},{id:Ge.EDITOR_MENU_CLOSE_OTHERS,name:pt(Ge.EDITOR_MENU_CLOSE_OTHERS,"Close Others")},{id:Ge.EDITOR_MENU_CLOSE_TO_RIGHT,name:pt(Ge.EDITOR_MENU_CLOSE_TO_RIGHT,"Close To Right")},{id:Ge.EDITOR_MENU_CLOSE_TO_LEFT,name:pt(Ge.EDITOR_MENU_CLOSE_TO_LEFT,"Close To Left")},{id:Ge.EDITOR_MENU_CLOSE_ALL,name:pt(Ge.EDITOR_MENU_CLOSE_ALL,"Close All")}],builtInEditorTreeHeaderContextMenu:()=>[{id:Ge.EDITOR_MENU_CLOSE_SAVED,name:pt(Ge.EDITOR_MENU_CLOSE_SAVED,"Close Saved")},{id:Ge.EDITOR_MENU_CLOSE_ALL,name:pt(Ge.EDITOR_MENU_CLOSE_ALL,"Close All")}],builtInEditorTreeContextMenu:()=>[{id:Ge.EDITOR_MENU_CLOSE,name:pt(Ge.EDITOR_MENU_CLOSE,"Close")},{id:Ge.EDITOR_MENU_CLOSE_OTHERS,name:pt(Ge.EDITOR_MENU_CLOSE_OTHERS,"Close Others")},{id:Ge.EDITOR_MENU_CLOSE_SAVED,name:pt(Ge.EDITOR_MENU_CLOSE_SAVED,"Close Saved")},{id:Ge.EDITOR_MENU_CLOSE_ALL,name:pt(Ge.EDITOR_MENU_CLOSE_ALL,"Close All")}],BuiltInSettingsTab:()=>({id:Ge.SETTING_ID,name:"settings.json",data:{language:"json",value:""}}),builtInStatusProblems:()=>({id:Ge.STATUS_PROBLEMS,sortIndex:1,data:{warnings:0,errors:0,infos:0},name:"Problems"}),builtInPanelProblems:()=>({id:Ge.PANEL_PROBLEMS,name:pt(Ge.PANEL_PROBLEMS,"problems"),data:null,sortIndex:1,closable:!1}),NOTIFICATION_CLEAR_ALL:()=>({id:Ge.NOTIFICATION_CLEAR_ALL_ID,title:"Clear All Notifications",icon:"clear-all"}),NOTIFICATION_HIDE:()=>({id:Ge.NOTIFICATION_HIDE_ID,title:"Hide Notifications",icon:"chevron-down"}),builtInNotification:()=>({id:Ge.NOTIFICATION_MODEL_ID,name:Ge.NOTIFICATION_MODEL_NAME,sortIndex:1}),STATUS_EDITOR_INFO:()=>({id:"MoEditorInfo",sortIndex:2,data:{ln:0,col:0},name:"Go to Line/Column"}),CONTEXT_MENU_HIDE_STATUS_BAR:()=>({id:Ge.STATUS_BAR_HIDE_ID,name:"Hide Status Bar"}),builtInSearchActivityItem:()=>({id:Ge.SEARCH_ACTIVITY_ITEM,name:pt(Ge.SEARCH_ACTIVITY_ITEM,"Search"),title:pt(Ge.SEARCH_ACTIVITY_ITEM,"Search"),sortIndex:2,icon:"search"}),builtInHeaderToolbar:()=>[{id:Ge.SEARCH_TOOLBAR_REFRESH,title:pt(Ge.SEARCH_TOOLBAR_REFRESH,"Refresh"),disabled:!0,icon:"refresh"},{id:Ge.SEARCH_TOOLBAR_CLEAR,disabled:!0,title:pt(Ge.SEARCH_TOOLBAR_CLEAR,"Clear all"),icon:"clear-all"},{id:Ge.SEARCH_TOOLBAR_COLLAPSE,title:pt(Ge.SEARCH_TOOLBAR_COLLAPSE,"Collapse all"),disabled:!0,icon:"collapse-all"}],builtInSearchAddons:()=>[{id:Ge.SEARCH_CASE_SENSITIVE_COMMAND_ID,title:pt(Ge.SEARCH_CASE_SENSITIVE_COMMAND_ID,"Match Case"),disabled:!1,checked:!1,icon:"case-sensitive"},{id:Ge.SEARCH_WHOLE_WORD_COMMAND_ID,title:pt(Ge.SEARCH_WHOLE_WORD_COMMAND_ID,"Match Whole Word"),disabled:!1,checked:!1,icon:"whole-word"},{id:Ge.SEARCH_REGULAR_EXPRESSION_COMMAND_ID,disabled:!1,checked:!1,title:pt(Ge.SEARCH_REGULAR_EXPRESSION_COMMAND_ID,"Use Regular Expression"),icon:"regex"}],builtInReplaceAddons:()=>[{id:Ge.SEARCH_PRESERVE_CASE_COMMAND_ID,title:pt(Ge.SEARCH_PRESERVE_CASE_COMMAND_ID,"Preserve Case"),disabled:!1,checked:!1,icon:"preserve-case"},{id:Ge.SEARCH_REPLACE_ALL_COMMAND_ID,title:pt(Ge.SEARCH_REPLACE_ALL_COMMAND_ID,"Replace All"),disabled:!1,checked:!1,icon:"replace-all"}],builtInOutputPanel:()=>({id:Ge.PANEL_OUTPUT,name:pt(Ge.PANEL_OUTPUT,"output"),data:"",sortIndex:2,closable:!1}),builtInPanelToolboxResize:()=>({id:Ge.PANEL_TOOLBOX_RESIZE,title:pt(Ge.PANEL_TOOLBOX_RESIZE,"Maximize Panel Size"),icon:"chevron-up"}),builtInPanelToolboxReStore:()=>({id:Ge.PANEL_TOOLBOX_RESIZE,title:pt(Ge.PANEL_TOOLBOX_RESTORE_SIZE,"Restore Panel Siz"),icon:"chevron-down"}),builtInPanelToolbox:()=>({id:Ge.PANEL_TOOLBOX_CLOSE,title:pt(Ge.PANEL_TOOLBOX_CLOSE,"Close Panel"),icon:"close"}),builtInMenuBarData:()=>[{id:"File",name:pt("menu.file","File"),data:[{id:Ge.ACTION_QUICK_CREATE_FILE,name:pt("menu.newFile","New File")},{id:Ge.MENU_FILE_OPEN,name:pt("menu.open","Open")}]},{id:"Edit",name:pt("menu.edit","Edit"),data:[{id:Ge.ACTION_QUICK_UNDO,name:pt("menu.undo","Undo")},{id:Ge.ACTION_QUICK_REDO,name:pt("menu.redo","Redo")}]},{id:"Selection",name:pt("menu.selection","Selection"),data:[{id:Ge.ACTION_QUICK_SELECT_ALL,name:pt("menu.selectAll","Select All")},{id:Ge.ACTION_QUICK_COPY_LINE_UP,name:pt("menu.copyLineUp","Copy Line Up")}]},{id:"View",name:pt("menu.view","View"),data:[{id:Ge.MENU_QUICK_COMMAND,name:pt("menu.commandPalette","Command Palette")},{id:"OpenView",name:pt("menu.openView","Open View")},{id:Ge.MENU_APPEARANCE_ID,name:pt("menu.appearance","Appearance"),data:[{icon:"check",id:Ge.MENU_VIEW_MENUBAR,name:pt("menu.showMenuBar","Show Menu Bar")},{icon:"check",id:D3,name:pt("menu.showSideBar","Show Side Bar")},{id:Ge.MENU_VIEW_AUXILIARY,name:pt("menu.showAuxiliaryBar","Show Auxiliary Bar")},{icon:"check",id:Ge.MENU_VIEW_STATUSBAR,name:pt("menu.showStatusBar","Show Status Bar")},{icon:"check",id:Ge.MENU_VIEW_ACTIVITYBAR,name:pt("menu.showActivityBar","Show Activity Bar")},{icon:"check",id:Ge.MENU_VIEW_PANEL,name:pt("menu.showPanel","Show Panel")},{id:Ge.MENUBAR_MENU_MODE_DIVIDER,type:"divider"},{id:Ge.MENUBAR_MODE_HORIZONTAL,name:pt("menu.menuBarHorizontal","Menu Bar Horizontal Mode")},{id:Ge.MENUBAR_MODE_VERTICAL,name:pt("menu.menuBarVertical","Menu Bar Vertical Mode")}]}]},{id:"Run",name:pt("menu.run","Run"),data:[{id:"RunTask",name:pt("menu.runTask","Run Task")}]},{id:"Help",name:pt("menu.help","Help"),data:[{id:"About",name:pt("menu.about","About")}]}],quickAcessViewAction:()=>({id:Ge.ACTION_QUICK_COMMAND}),quickSelectColorThemeAction:()=>({id:Ge.ACTION_SELECT_THEME}),quickAccessSettingsAction:()=>({id:Ge.ACTION_QUICK_ACCESS_SETTINGS}),quickSelectLocaleAction:()=>({id:Ge.ACTION_SELECT_LOCALE}),quickTogglePanelAction:()=>({id:Ge.MENU_VIEW_PANEL}),quickSelectAllAction:()=>({id:Ge.ACTION_QUICK_SELECT_ALL}),quickCopyLineUpAction:()=>({id:Ge.ACTION_QUICK_COPY_LINE_UP}),quickUndoAction:()=>({id:Ge.ACTION_QUICK_UNDO}),quickRedoAction:()=>({id:Ge.ACTION_QUICK_REDO}),quickCreateFileAction:()=>({id:Ge.ACTION_QUICK_CREATE_FILE}),COMMON_CONTEXT_MENU:()=>[{id:Ge.RENAME_COMMAND_ID,name:pt("contextmenu.rename","Rename")},{id:Ge.DELETE_COMMAND_ID,name:pt("contextmenu.delete","Delete")}],BASE_CONTEXT_MENU:()=>[{id:Ge.NEW_FILE_COMMAND_ID,name:pt("contextmenu.newFile","New File")},{id:Ge.NEW_FOLDER_COMMAND_ID,name:pt("contextmenu.newFolder","New Folder")}],ROOT_FOLDER_CONTEXT_MENU:()=>[{id:Ge.REMOVE_COMMAND_ID,name:pt("contextmenu.removeFolder","Remove Folder")}],FILE_CONTEXT_MENU:()=>[{id:Ge.OPEN_TO_SIDE_COMMAND_ID,name:pt("contextmenu.openToTheSide","Open to the Side")}],FOLDER_PANEL_CONTEXT_MENU:()=>[{id:Ge.NEW_FOLDER_COMMAND_ID,name:pt("contextmenu.addFolderToSpace","Add Folder to Workspace...")},{id:Ge.FIND_IN_WORKSPACE_ID,name:pt("contextmenu.findInSpace","Find in Workspace...")},{id:Ge.DOWNLOAD_COMMAND_ID,name:pt("contextmenu.download","Download...")}],activityBarData:()=>[{id:Ge.ACTIVITY_BAR_GLOBAL_ACCOUNT,name:pt("menu.account","Account"),title:pt("menu.account","Account"),icon:"account",type:"global"},{id:Ge.ACTIVITY_BAR_GLOBAL_SETTINGS,name:pt("menu.settings","Settings"),title:pt("menu.settings","Settings"),icon:"settings-gear",type:"global",contextMenu:[{id:Ge.ACTION_QUICK_COMMAND,name:pt("menu.commandPalette","Command Palette")},{id:Ge.ACTION_QUICK_ACCESS_SETTINGS,name:pt("menu.settings","Settings")},{id:Ge.ACTION_SELECT_THEME,name:pt("menu.colorTheme","Color Theme")}]}],contextMenuData:()=>[{id:Ge.CONTEXT_MENU_MENU,name:pt("menubar","Menu"),icon:"check"},{id:Ge.CONTEXT_MENU_EXPLORER,name:pt("sidebar.explore.title","Explorer"),icon:"check"},{id:Ge.CONTEXT_MENU_SEARCH,name:pt("sidebar.search.title","Search"),icon:"check"},{id:Ge.CONTEXT_MENU_HIDE,name:pt("menu.hideActivityBar","Hide Activity Bar")}]};var plt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},mlt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let oo=class{constructor(){this.builtinConstants=new Map,this.builtinModules=new Map,this.initialize()}initialize(){Object.keys(Ge).forEach(e=>{this.addConstant({id:e,value:Ge[e]})}),Object.keys(Ole).forEach(e=>{this.addModules({id:e,module:Ole[e]})})}addConstant(e){const t=e.id;this.builtinConstants.set(t,Object.assign(Object.assign({},e),{active:!0}))}addModules(e){const t=e.id;this.builtinModules.set(t,Object.assign(Object.assign({},e),{active:!0}))}getConstant(e){return this.builtinConstants.get(e)}getConstants(){const e={};return this.builtinConstants.forEach(t=>{t.active&&(e[t.id]=t.value)}),e}inactiveConstant(e){if(!this.builtinConstants.has(e))return Hn.error(`Can't find constant which is ${e}`),!1;const n=this.builtinConstants.get(e);return this.builtinConstants.set(n.id,Object.assign(Object.assign({},n),{active:!1})),!0}inactiveModule(e){if(!this.builtinModules.has(e))return Hn.error(`Can't find module which is ${e}`),!1;const n=this.builtinModules.get(e);return this.builtinModules.set(n.id,Object.assign(Object.assign({},n),{active:!1})),!0}getModule(e){const t=this.builtinModules.get(e);if(!t)return t;t.value||(t.value=t.module());const n=Object.assign({},t);return Reflect.deleteProperty(n,"module"),Nr.cloneDeep(n)}getModules(){const e={};return this.builtinModules.forEach(t=>{t.active&&(t.value||(t.value=t.module()),e[t.id]=Nr.cloneDeep(t.value))}),e}reset(){this.builtinModules.clear(),this.builtinConstants.clear(),this.initialize()}};oo=plt([er(),mlt("design:paramtypes",[])],oo);var _lt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},vlt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let RR=class extends El{constructor(){super(),this.state=qe.resolve(eCe),this.builtinService=qe.resolve(oo)}setValidateInfo(e){this.setState({validationInfo:typeof e=="string"?{type:"info",text:e}:e})}setSearchValue(e){this.setState({value:e})}setReplaceValue(e){this.setState({replaceValue:e})}setResult(e){this.setState({result:e||[]})}toggleMode(e){this.setState({replaceMode:e})}toggleCaseSensitive(){const{isCaseSensitive:e}=this.state,{SEARCH_CASE_SENSITIVE_COMMAND_ID:t}=this.builtinService.getConstants();t&&(this.setState({isCaseSensitive:!e}),this.updateStatus(t,!e))}toggleWholeWord(){const{isWholeWords:e}=this.state,{SEARCH_WHOLE_WORD_COMMAND_ID:t}=this.builtinService.getConstants();t&&(this.setState({isWholeWords:!e}),this.updateStatus(t,!e))}toggleRegex(){const{isRegex:e}=this.state,{SEARCH_REGULAR_EXPRESSION_COMMAND_ID:t}=this.builtinService.getConstants();t&&(this.setState({isRegex:!e}),this.updateStatus(t,!e))}togglePreserveCase(){const{preserveCase:e}=this.state,{SEARCH_PRESERVE_CASE_COMMAND_ID:t}=this.builtinService.getConstants();t&&(this.setState({preserveCase:!e}),this.updateStatus(t,!e))}updateStatus(e,t){const{replaceAddons:n=[],searchAddons:r=[]}=this.state,s=n.find(_i(e))||r.find(_i(e));s&&(s.checked=t,this.setState({replaceAddons:n.concat(),searchAddons:r.concat()}))}reset(){this.setState({headerToolBar:[],searchAddons:[],replaceAddons:[],result:[],value:"",replaceValue:"",replaceMode:!1,isRegex:!1,isCaseSensitive:!1,isWholeWords:!1,preserveCase:!1,validationInfo:{type:"info",text:""}})}onReplaceAll(e){this.subscribe(Cf.onReplaceAll,e)}onChange(e){this.subscribe(Cf.onChange,e)}onSearch(e){this.subscribe(Cf.onSearch,e)}onResultClick(e){this.subscribe(Cf.onResultClick,e)}};RR=_lt([er(),vlt("design:paramtypes",[])],RR);function blt(i,e){for(var t=-1,n=i==null?0:i.length,r=Array(n);++t<n;)r[t]=e(i[t],t,i);return r}var aCe=blt,Clt="__lodash_hash_undefined__";function ylt(i){return this.__data__.set(i,Clt),this}var wlt=ylt;function Slt(i){return this.__data__.has(i)}var xlt=Slt,Elt=AJ,Llt=wlt,Dlt=xlt;function l9(i){var e=-1,t=i==null?0:i.length;for(this.__data__=new Elt;++e<t;)this.add(i[e])}l9.prototype.add=l9.prototype.push=Llt;l9.prototype.has=Dlt;var Tlt=l9;function Ilt(i,e){for(var t=-1,n=i==null?0:i.length;++t<n;)if(e(i[t],t,i))return!0;return!1}var klt=Ilt;function Nlt(i,e){return i.has(e)}var Alt=Nlt,Olt=Tlt,Mlt=klt,Rlt=Alt,Plt=1,Flt=2;function Blt(i,e,t,n,r,s){var o=t&Plt,a=i.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(i),h=s.get(e);if(c&&h)return c==e&&h==i;var f=-1,p=!0,m=t&Flt?new Olt:void 0;for(s.set(i,e),s.set(e,i);++f<a;){var v=i[f],b=e[f];if(n)var S=o?n(b,v,f,e,i,s):n(v,b,f,i,e,s);if(S!==void 0){if(S)continue;p=!1;break}if(m){if(!Mlt(e,function(x,w){if(!Rlt(m,w)&&(v===x||r(v,x,t,n,s)))return m.push(w)})){p=!1;break}}else if(!(v===b||r(v,b,t,n,s))){p=!1;break}}return s.delete(i),s.delete(e),p}var lCe=Blt;function Wlt(i){var e=-1,t=Array(i.size);return i.forEach(function(n,r){t[++e]=[r,n]}),t}var Vlt=Wlt;function Hlt(i){var e=-1,t=Array(i.size);return i.forEach(function(n){t[++e]=n}),t}var $lt=Hlt,Mle=g3,Rle=kve,zlt=kJ,Ult=lCe,jlt=Vlt,Klt=$lt,qlt=1,Glt=2,Ylt="[object Boolean]",Zlt="[object Date]",Xlt="[object Error]",Qlt="[object Map]",Jlt="[object Number]",eut="[object RegExp]",tut="[object Set]",nut="[object String]",iut="[object Symbol]",rut="[object ArrayBuffer]",sut="[object DataView]",Ple=Mle?Mle.prototype:void 0,Iz=Ple?Ple.valueOf:void 0;function out(i,e,t,n,r,s,o){switch(t){case sut:if(i.byteLength!=e.byteLength||i.byteOffset!=e.byteOffset)return!1;i=i.buffer,e=e.buffer;case rut:return!(i.byteLength!=e.byteLength||!s(new Rle(i),new Rle(e)));case Ylt:case Zlt:case Jlt:return zlt(+i,+e);case Xlt:return i.name==e.name&&i.message==e.message;case eut:case nut:return i==e+"";case Qlt:var a=jlt;case tut:var u=n&qlt;if(a||(a=Klt),i.size!=e.size&&!u)return!1;var c=o.get(i);if(c)return c==e;n|=Glt,o.set(i,e);var h=Ult(a(i),a(e),n,r,s,o);return o.delete(i),h;case iut:if(Iz)return Iz.call(i)==Iz.call(e)}return!1}var aut=out,Fle=Dve,lut=1,uut=Object.prototype,cut=uut.hasOwnProperty;function dut(i,e,t,n,r,s){var o=t&lut,a=Fle(i),u=a.length,c=Fle(e),h=c.length;if(u!=h&&!o)return!1;for(var f=u;f--;){var p=a[f];if(!(o?p in e:cut.call(e,p)))return!1}var m=s.get(i),v=s.get(e);if(m&&v)return m==e&&v==i;var b=!0;s.set(i,e),s.set(e,i);for(var S=o;++f<u;){p=a[f];var x=i[p],w=e[p];if(n)var E=o?n(w,x,p,e,i,s):n(x,w,p,i,e,s);if(!(E===void 0?x===w||r(x,w,t,n,s):E)){b=!1;break}S||(S=p=="constructor")}if(b&&!S){var N=i.constructor,A=e.constructor;N!=A&&"constructor"in i&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(b=!1)}return s.delete(i),s.delete(e),b}var hut=dut,kz=OJ,fut=lCe,gut=aut,put=hut,Ble=DW,Wle=Fm,Vle=RJ,mut=vve,_ut=1,Hle="[object Arguments]",$le="[object Array]",f6="[object Object]",vut=Object.prototype,zle=vut.hasOwnProperty;function but(i,e,t,n,r,s){var o=Wle(i),a=Wle(e),u=o?$le:Ble(i),c=a?$le:Ble(e);u=u==Hle?f6:u,c=c==Hle?f6:c;var h=u==f6,f=c==f6,p=u==c;if(p&&Vle(i)){if(!Vle(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new kz),o||mut(i)?fut(i,e,t,n,r,s):gut(i,e,u,t,n,r,s);if(!(t&_ut)){var m=h&&zle.call(i,"__wrapped__"),v=f&&zle.call(e,"__wrapped__");if(m||v){var b=m?i.value():i,S=v?e.value():e;return s||(s=new kz),r(b,S,t,n,s)}}return p?(s||(s=new kz),put(i,e,t,n,r,s)):!1}var Cut=but,yut=Cut,Ule=nw;function uCe(i,e,t,n,r){return i===e?!0:i==null||e==null||!Ule(i)&&!Ule(e)?i!==i&&e!==e:yut(i,e,t,n,uCe,r)}var cCe=uCe,wut=OJ,Sut=cCe,xut=1,Eut=2;function Lut(i,e,t,n){var r=t.length,s=r,o=!n;if(i==null)return!s;for(i=Object(i);r--;){var a=t[r];if(o&&a[2]?a[1]!==i[a[0]]:!(a[0]in i))return!1}for(;++r<s;){a=t[r];var u=a[0],c=i[u],h=a[1];if(o&&a[2]){if(c===void 0&&!(u in i))return!1}else{var f=new wut;if(n)var p=n(c,h,u,i,e,f);if(!(p===void 0?Sut(h,c,xut|Eut,n,f):p))return!1}}return!0}var Dut=Lut,Tut=ew;function Iut(i){return i===i&&!Tut(i)}var dCe=Iut,kut=dCe,Nut=LW;function Aut(i){for(var e=Nut(i),t=e.length;t--;){var n=e[t],r=i[n];e[t]=[n,r,kut(r)]}return e}var Out=Aut;function Mut(i,e){return function(t){return t==null?!1:t[i]===e&&(e!==void 0||i in Object(t))}}var hCe=Mut,Rut=Dut,Put=Out,Fut=hCe;function But(i){var e=Put(i);return e.length==1&&e[0][2]?Fut(e[0][0],e[0][1]):function(t){return t===i||Rut(t,i,e)}}var Wut=But,Vut=p3,Hut=nw,$ut="[object Symbol]";function zut(i){return typeof i=="symbol"||Hut(i)&&Vut(i)==$ut}var kee=zut,Uut=Fm,jut=kee,Kut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qut=/^\w*$/;function Gut(i,e){if(Uut(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||jut(i)?!0:qut.test(i)||!Kut.test(i)||e!=null&&i in Object(e)}var Nee=Gut,fCe=AJ,Yut="Expected a function";function Aee(i,e){if(typeof i!="function"||e!=null&&typeof e!="function")throw new TypeError(Yut);var t=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=t.cache;if(s.has(r))return s.get(r);var o=i.apply(this,n);return t.cache=s.set(r,o)||s,o};return t.cache=new(Aee.Cache||fCe),t}Aee.Cache=fCe;var Zut=Aee,Xut=Zut,Qut=500;function Jut(i){var e=Xut(i,function(n){return t.size===Qut&&t.clear(),n}),t=e.cache;return e}var ect=Jut,tct=ect,nct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ict=/\\(\\)?/g,rct=tct(function(i){var e=[];return i.charCodeAt(0)===46&&e.push(""),i.replace(nct,function(t,n,r,s){e.push(r?s.replace(ict,"$1"):n||t)}),e}),sct=rct,jle=g3,oct=aCe,act=Fm,lct=kee,uct=1/0,Kle=jle?jle.prototype:void 0,qle=Kle?Kle.toString:void 0;function gCe(i){if(typeof i=="string")return i;if(act(i))return oct(i,gCe)+"";if(lct(i))return qle?qle.call(i):"";var e=i+"";return e=="0"&&1/i==-uct?"-0":e}var cct=gCe,dct=cct;function hct(i){return i==null?"":dct(i)}var fct=hct,gct=Fm,pct=Nee,mct=sct,_ct=fct;function vct(i,e){return gct(i)?i:pct(i,e)?[i]:mct(_ct(i))}var mV=vct,bct=kee,Cct=1/0;function yct(i){if(typeof i=="string"||bct(i))return i;var e=i+"";return e=="0"&&1/i==-Cct?"-0":e}var T3=yct,wct=mV,Sct=T3;function xct(i,e){e=wct(e,i);for(var t=0,n=e.length;i!=null&&t<n;)i=i[Sct(e[t++])];return t&&t==n?i:void 0}var Oee=xct,Ect=Oee;function Lct(i,e,t){var n=i==null?void 0:Ect(i,e);return n===void 0?t:n}var Dct=Lct;function Tct(i,e){return i!=null&&e in Object(i)}var Ict=Tct,kct=mV,Nct=_ve,Act=Fm,Oct=PJ,Mct=FJ,Rct=T3;function Pct(i,e,t){e=kct(e,i);for(var n=-1,r=e.length,s=!1;++n<r;){var o=Rct(e[n]);if(!(s=i!=null&&t(i,o)))break;i=i[o]}return s||++n!=r?s:(r=i==null?0:i.length,!!r&&Mct(r)&&Oct(o,r)&&(Act(i)||Nct(i)))}var Fct=Pct,Bct=Ict,Wct=Fct;function Vct(i,e){return i!=null&&Wct(i,e,Bct)}var Hct=Vct,$ct=cCe,zct=Dct,Uct=Hct,jct=Nee,Kct=dCe,qct=hCe,Gct=T3,Yct=1,Zct=2;function Xct(i,e){return jct(i)&&Kct(e)?qct(Gct(i),e):function(t){var n=zct(t,i);return n===void 0&&n===e?Uct(t,i):$ct(e,n,Yct|Zct)}}var Qct=Xct;function Jct(i){return i}var edt=Jct;function tdt(i){return function(e){return e==null?void 0:e[i]}}var ndt=tdt,idt=Oee;function rdt(i){return function(e){return idt(e,i)}}var sdt=rdt,odt=ndt,adt=sdt,ldt=Nee,udt=T3;function cdt(i){return ldt(i)?odt(udt(i)):adt(i)}var ddt=cdt,hdt=Wut,fdt=Qct,gdt=edt,pdt=Fm,mdt=ddt;function _dt(i){return typeof i=="function"?i:i==null?gdt:typeof i=="object"?pdt(i)?fdt(i[0],i[1]):hdt(i):mdt(i)}var vdt=_dt,bdt=MJ,Cdt=mV,ydt=PJ,Gle=ew,wdt=T3;function Sdt(i,e,t,n){if(!Gle(i))return i;e=Cdt(e,i);for(var r=-1,s=e.length,o=s-1,a=i;a!=null&&++r<s;){var u=wdt(e[r]),c=t;if(u==="__proto__"||u==="constructor"||u==="prototype")return i;if(r!=o){var h=a[u];c=n?n(h,u,a):void 0,c===void 0&&(c=Gle(h)?h:ydt(e[r+1])?[]:{})}bdt(a,u,c),a=a[u]}return i}var xdt=Sdt,Edt=Oee,Ldt=xdt,Ddt=mV;function Tdt(i,e,t){for(var n=-1,r=e.length,s={};++n<r;){var o=e[n],a=Edt(i,o);t(a,o)&&Ldt(s,Ddt(o,i),a)}return s}var Idt=Tdt,kdt=aCe,Ndt=vdt,Adt=Idt,Odt=Tve;function Mdt(i,e){if(i==null)return{};var t=kdt(Odt(i),function(n){return[n]});return e=Ndt(e),Adt(i,t,function(n,r){return e(n,r[0])})}var Rdt=Mdt;const Pdt=Om(Rdt);var Fdt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Bdt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let Ny=class extends El{constructor(){super(),this.state=qe.resolve(tCe),this.layoutService=qe.resolve(dc),this.builtinService=qe.resolve(oo)}updateOutputProperty(e){const{PANEL_OUTPUT:t}=this.builtinService.getConstants(),n=Pdt(e,r=>r!==void 0);return this.update(Object.assign(this.getPanel(t),n))}get outputEditorInstance(){var e;const{PANEL_OUTPUT:t}=this.builtinService.getConstants(),n=(e=this.state.data)===null||e===void 0?void 0:e.find(_i(t));return n==null?void 0:n.outputEditorInstance}setActive(e){const t=this.getPanel(e);t?this.open(t):Hn.error(`There is no panel found in data via ${e}. If you want to open a brand-new panel, please use the open method`)}toggleMaximize(){const{PANEL_TOOLBOX_RESIZE:e}=this.builtinService.getConstants(),{builtInPanelToolboxResize:t,builtInPanelToolboxReStore:n}=this.builtinService.getModules(),{toolbox:r=[]}=this.state;if(t&&n){const s=r==null?void 0:r.findIndex(_i(e));if(r[s]){const a=this.layoutService.togglePanelMaximized();r[s]=a?n:t}}}open(e){const{data:t=[]}=this.state;let n=Nr.cloneDeep(e);const r=t.findIndex(_i(n.id));r>-1?n=t[r]:this.add(n),this.setState({current:n})}getPanel(e){const{data:t=[]}=this.state;return Nr.cloneDeepWith(t.find(_i(e)),n=>{if(n&&typeof n=="object"&&n instanceof GM)return n})}getOutputValue(){const{PANEL_OUTPUT:e=""}=this.builtinService.getConstants(),t=this.getPanel(e);return(t==null?void 0:t.data)||""}updateOutput(e){const{title:t,name:n,sortIndex:r,active:s,closable:o,editable:a}=e;return this.updateOutputProperty({title:t,name:n,sortIndex:r,active:s,closable:o,editable:a})}appendOutput(e){var t;const n=this.getOutputValue();this.updateOutputProperty({data:n+e}),(t=this.outputEditorInstance)===null||t===void 0||t.setValue(n+e)}cleanOutput(){var e;(e=this.outputEditorInstance)===null||e===void 0||e.setValue("")}add(e){let t=this.state.data||[];const n=Nr.cloneDeep(e);Array.isArray(n)?t=t.concat(n):t.push(n),this.setState({data:t})}update(e){const t=this.state.data||[],n=t==null?void 0:t.findIndex(_i(e.id));if(n!==void 0&&n>-1)return Object.assign(t[n],e),this.setState({data:[...t]}),t[n];Hn.error(`There is no panel found in data via the ${e.id}`)}remove(e){const{data:t}=this.state,n=t==null?void 0:t.findIndex(_i(e));if(n!==void 0&&n>-1){const r=(t==null?void 0:t.splice(n,1))||[];return this.setState({data:t}),r[0]}else{Hn.error(`There is no panel found in data via the ${e}`);return}}reset(){this.setState({data:[],current:null,toolbox:[]}),this.cleanOutput()}onTabChange(e){this.subscribe(_m.onTabChange,e)}onToolbarClick(e){this.subscribe(_m.onToolbarClick,e)}onTabClose(e){this.subscribe(_m.onTabClose,e)}};Ny=Fdt([er(),Bdt("design:paramtypes",[])],Ny);var Wdt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Vdt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let Ay=class extends CE{constructor(){super(),this.editorService=qe.resolve(Jl),this.localeService=qe.resolve(Vf),this.colorThemeService=qe.resolve(Ty),this.builtinService=qe.resolve(oo),this.settings=this.getBuiltInSettings()}getBuiltInSettings(){const e=this.editorService.getState().editorOptions,t=this.colorThemeService.getColorTheme(),n=this.localeService.getCurrentLocale();return new nCe(t.id,e,n==null?void 0:n.id)}getDefaultSettingsTab(){const{BuiltInSettingsTab:e}=this.builtinService.getModules();return Object.assign({},e)}onChangeSettings(e){this.subscribe(OR.OnChange,e)}update(e){this.applySettings(e);const t=Nr.cloneDeep(this.settings);this.settings=MZ(t,e)}append(e){this.update(e)}getSettings(){const e=this.getBuiltInSettings();return Object.assign({},this.settings,e)}applySettings(e){const t=this.settings,{colorTheme:n,locale:r,editor:s}=e;n&&n!==t.colorTheme&&this.colorThemeService.setTheme(n),r&&r!==t.locale&&this.localeService.setCurrentLocale(r),s&&!Nr.isEqual(s,t.editor)&&this.editorService.updateEditorOptions(s)}openSettingsInEditor(){const{BuiltInSettingsTab:e}=this.builtinService.getModules();e&&(e.data.value=this.flatObject2JSONString(this.getSettings()),this.editorService.open(e))}normalizeFlatObject(e){try{const t=JSON.parse(e);return Fxe(t)}catch(t){throw new Error(`SettingsService.normalizeFlatJSONObject error: ${t}`)}}flatObject(e){return Pxe(e)}flatObject2JSONString(e){return this.toJSONString(this.flatObject(e))}toJSONString(e,t=4){try{return JSON.stringify(e,null,t)}catch(n){throw new Error(`SettingsService.toJSONString error: ${n}`)}}};Ay=Wdt([er(),Vdt("design:paramtypes",[])],Ay);var Hdt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$dt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let tE=class extends El{constructor(){super(),this.state=qe.resolve(iCe)}toggleNotification(){const e=Nr.cloneDeep(this.state);e.showNotifications=!this.state.showNotifications,this.setState(e)}update(e){const{data:t=[]}=this.state;if(t.length){const n=t.findIndex(_i(e.id));if(n>-1){const r=t[n];return t[n]=Object.assign(r,e),this.setState(Object.assign(Object.assign({},this.state),{data:[...t]})),t[n]}else Hn.error("There is no notification be found, please check the id")}return null}remove(e){const{data:t=[]}=this.state;if(t.length){const n=t.findIndex(_i(e));n>-1?(t.splice(n,1),this.setState(Object.assign(Object.assign({},this.state),{data:[...t]}))):Hn.error("There is no notification be found, please check the id")}else Hn.error("You can't remove notification because there is no notifications in data.")}add(e){const{data:t=[]}=this.state;if(e&&e.length){e.forEach(r=>{r.id===void 0&&(r.id=Kde()),r.status=r9.WaitRead});const n=[...t,...e];return this.setState({data:n}),e}return null}clear(){this.setState({data:[]})}reset(){this.setState({id:"",name:"",data:[],sortIndex:1,showNotifications:!1,actionBar:[],render:void 0})}};tE=Hdt([er(),$dt("design:paramtypes",[])],tE);var zdt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Udt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let PR=class extends El{constructor(){super(),this.getProblemsMarkers=e=>{let t=0,n=0,r=0;const s=o=>{o.forEach(a=>{switch(a.value.status){case Rf.Info:r+=1;break;case Rf.Error:n+=1;break;case Rf.Warning:t+=1;break}a.children&&a.children.length&&s(a.children)})};return s(e),{warnings:t,errors:n,infos:r}},this.state=qe.resolve(rCe),this.statusBarService=qe.resolve(rp),this.builtinService=qe.resolve(oo)}toggleProblems(){this.setState(Object.assign(Object.assign({},this.state),{show:!this.state.show}))}add(e){const t=Array.isArray(e)?e:[e],{data:n}=this.state;t.forEach(r=>{const s=n.findIndex(_i(r.id));s>-1?n.splice(s,1,r):n.push(r)}),this.setState({data:[...n]},()=>{this.updateStatusBar()})}update(e){const t=Array.isArray(e)?e:[e],{data:n}=this.state;t.forEach(r=>{const s=n.findIndex(_i(r.id));s>-1?n.splice(s,1,r):Hn.error(`Update problems failed, because there is no problem found via ${r.id}`)}),this.setState({data:[...n]},()=>{this.updateStatusBar()})}remove(e){const t=Array.isArray(e)?e:[e],{data:n=[]}=this.state;t.forEach(r=>{const s=n.findIndex(_i(r));s>-1?n.splice(s,1):Hn.error(`Remove problems failed, because there is no problem found via ${r}`)}),this.setState({data:[...n]},()=>{this.updateStatusBar()})}reset(){const{builtInStatusProblems:e}=this.builtinService.getModules();this.setState(Object.assign(Object.assign({},this.state),{data:[]})),e&&this.updateStatus(e)}onSelect(e){this.subscribe(MR.onSelect,e)}updateStatusBar(){const{data:e=[]}=this.state,t=this.getProblemsMarkers(e),{builtInStatusProblems:n}=this.builtinService.getModules();n&&this.updateStatus(Object.assign(n,{data:t}))}updateStatus(e){this.statusBarService.update(e)}};PR=zdt([er(),Udt("design:paramtypes",[])],PR);const jdt={LoadExtensionFail:"Load Extension failed",NotFoundActivateMethod:"Not found activate function, the extension must export an activate function as entry."};var Kdt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},qdt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let FR=class{constructor(){this.extensions=[],this._isLoaded=!1,this.colorThemeService=qe.resolve(Ty),this.monacoService=qe.resolve(tp),this.localeService=qe.resolve(Vf)}setLoaded(e){this._isLoaded=e!==void 0?e:!0}isLoaded(){return this._isLoaded}getExtension(e){return this.extensions.find(_i(e))}reset(){this.extensions=[]}getAllExtensions(){return this.extensions.concat()}add(e){if(!e||(e==null?void 0:e.length)===0)return null;const t=e.filter(n=>{const r=this.extensions.find(_i(n.id));return r&&Hn.warn("Warning: Unable to load the existed Extension:"+n.id),!r});return t.length>0&&(this.extensions=this.extensions.concat(t)),t}load(e){try{const t=this.add(e);if(!t)return;this.activate(t)}catch(t){Hn.error(jdt.LoadExtensionFail,t)}}loadContributes(e){Object.keys(e).forEach(n=>{switch(n){case Px.Themes:{const r=e[n];return r?this.colorThemeService.addThemes(r):void 0}case Px.Languages:{const r=e[n];return r?this.localeService.addLocales(r):void 0}}})}registerAction(e){return nYe(e)}executeCommand(e,...t){this.monacoService.commandService.executeCommand(e,...t)}activate(e){if(e.length===0)return;const t=this;e==null||e.forEach((n,r)=>{!n||this.isInactive(n)||(n.activate&&n.activate(t),n.contributes&&this.loadContributes(n.contributes))})}dispose(e){var t;const n=this,r=this.extensions.findIndex(_i(e));if(r>-1){const s=this.extensions[r];(t=s.dispose)===null||t===void 0||t.call(s,n),this.extensions.splice(r,1)}}disposeAll(){this.extensions.forEach(e=>{var t;(t=e.dispose)===null||t===void 0||t.call(e,this)}),this.reset()}inactive(e){this._inactive=e}isInactive(e){return this._inactive&&typeof this._inactive=="function"?this._inactive(e):!1}splitLanguagesExts(e){const t=[],n=[];return e.forEach(r=>{var s;!((s=r.contributes)===null||s===void 0)&&s.languages?t.push(r):n.push(r)}),[t,n]}};FR=Kdt([er(),qdt("design:paramtypes",[])],FR);var Gdt=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Ydt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let u9=class extends Da{constructor(){super(),this.editorStates=new Map,this.onClickContextMenu=(e,t,n)=>{const r=t==null?void 0:t.id,s=n==null?void 0:n.id,{current:o}=this.editorService.getState(),a=o==null?void 0:o.id,{EDITOR_MENU_CLOSE:u,EDITOR_MENU_CLOSE_OTHERS:c,EDITOR_MENU_CLOSE_ALL:h,EDITOR_MENU_CLOSE_TO_RIGHT:f,EDITOR_MENU_CLOSE_TO_LEFT:p}=this.builtinService.getConstants();switch(r){case u:{this.onCloseTab(s,a);break}case c:{this.onCloseOther(n,a);break}case h:{this.onCloseAll(a);break}case f:{this.onCloseToRight(n,a);break}case p:{this.onCloseToLeft(n,a);break}default:this.emit(os.onActionsClick,r,o)}},this.onCloseAll=e=>{this.emit(os.OnCloseAll,e)},this.onCloseTab=(e,t)=>{e&&t&&this.emit(os.OnCloseTab,e,t)},this.onCloseToRight=(e,t)=>{this.emit(os.OnCloseToRight,e,t)},this.onCloseToLeft=(e,t)=>{this.emit(os.OnCloseToLeft,e,t)},this.onCloseOther=(e,t)=>{this.emit(os.OnCloseOther,e,t)},this.onMoveTab=(e,t)=>{this.editorService.updateGroup(t,{data:e}),this.emit(os.OnMoveTab,e,t)},this.onSelectTab=(e,t)=>{this.editorService.setActive(t,e),this.emit(os.OnSelectTab,e,t)},this.onUpdateEditorIns=(e,t)=>{var n,r;if(!e)return;this.initEditorEvents(e,t),this.editorService.updateGroup(t,{editorInstance:e}),this.editorService.updateCurrentGroup({editorInstance:e});const{current:s}=this.editorService.getState(),o=s==null?void 0:s.tab;this.openTab(e,o.id.toString(),(n=o==null?void 0:o.data)===null||n===void 0?void 0:n.value,(r=o==null?void 0:o.data)===null||r===void 0?void 0:r.language),this.onEditorInstanceMount(e)},this.onClickActions=e=>{const{current:t}=this.editorService.getState();if(!t)return;const{EDITOR_MENU_CLOSE_ALL:n,EDITOR_MENU_SHOW_OPENEDITORS:r,EDITOR_MENU_SPILIT:s}=this.builtinService.getConstants();switch(e.id){case n:{this.onCloseAll(t.id);break}case r:break;case s:{this.editorService.cloneGroup();const{groupSplitPos:o}=this.layoutService.getState();this.layoutService.setGroupSplitSize(new Array(o.length+1).fill("auto")),this.emit(os.OnSplitEditorRight);break}default:this.emit(os.onActionsClick,e.id,t)}},this.onPaneSizeChange=e=>{this.layoutService.setGroupSplitSize(e)},this.getViewState=e=>this.editorStates.get(e),this.onChangeEditorProps=(e,t)=>{const{path:n,options:r}=t;if((e==null?void 0:e.path)!==n){const{current:s}=this.editorService.getState(),o=s==null?void 0:s.editorInstance;this.editorStates.set(e.path,o==null?void 0:o.saveViewState()),this.openTab(o,n,r==null?void 0:r.value,r==null?void 0:r.language)}},this.editorService=qe.resolve(Jl),this.layoutService=qe.resolve(dc),this.statusBarService=qe.resolve(rp),this.builtinService=qe.resolve(oo)}initView(){const{builtInEditorInitialActions:e,builtInEditorInitialMenu:t,BuiltInEditorOptions:n}=this.builtinService.getModules();if(!this.editorService.getDefaultActions().length){const o=e||[];this.editorService.setDefaultActions(o)}if(!this.editorService.getDefaultMenus().length){const o=t||[];this.editorService.setDefaultMenus(o)}this.editorService.setState({editorOptions:n||{}})}open(e,t){this.editorService.open(e,t)}initEditorEvents(e,t){e&&(e.onDidChangeModelContent(n=>{var r,s,o,a;const{current:u}=this.editorService.getState(),c=u==null?void 0:u.tab;if(!c)return;const h=(s=(r=u.editorInstance)===null||r===void 0?void 0:r.getModel())===null||s===void 0?void 0:s.uri,f=(o=e==null?void 0:e.getModel())===null||o===void 0?void 0:o.uri;if((h==null?void 0:h.path)!==(f==null?void 0:f.path))return;const p=(a=e.getModel())===null||a===void 0?void 0:a.getValue(),m=Object.assign(Object.assign({},c),{data:Object.assign(Object.assign({},c.data),{value:p})});this.editorService.updateTab(m,t),this.updateStatusBar(e),this.emit(os.OnUpdateTab,m)}),e.onDidFocusEditorText(()=>{const n=this.editorService.getGroupById(t);n!=null&&n.tab.id&&(this.editorService.setActive(t,n.tab.id),this.updateEditorLineColumnInfo(e))}),e.onDidChangeCursorSelection(()=>{this.updateEditorLineColumnInfo(e)}),e.onDidBlurEditorText(()=>{var n;const{current:r}=this.editorService.getState(),s=r==null?void 0:r.tab;if(s!=null&&s.id){const o=e==null?void 0:e.saveViewState();this.editorStates.set((n=s.id)===null||n===void 0?void 0:n.toString(),o)}}))}openTab(e,t,n,r){let s=Za.getModel(l1.parse(t));s||(s=Za.createModel(n,r,l1.parse(t))),e.setModel(s);const o=this.editorStates.get(t);o&&e.restoreViewState(o),e==null||e.focus()}updateStatusBar(e){}updateEditorLineColumnInfo(e){if(e){const t=e.getPosition(),{STATUS_EDITOR_INFO:n}=this.builtinService.getModules();n&&this.statusBarService.update(Object.assign(n,{data:{ln:t==null?void 0:t.lineNumber,col:t==null?void 0:t.column}}))}}onEditorInstanceMount(e){this.emit(os.onEditorInstanceMount,e)}};u9=Gdt([er(),Ydt("design:paramtypes",[])],u9);const ob=zn("editor"),Zdt=mt(ob,"group"),Xdt=mt(ob,"group-container"),Qdt=mt(ob,"group-header"),Jdt=mt(ob,"group-tabs"),eht=mt(ob,"group-actions"),SY=mt(ob,"group-actions-item"),tht=Cn(SY,"disabled"),nht=mt(ob,"group-breadcrumb"),Yle=6;function iht(i){const e=[],t=[];return i.forEach(n=>{n.place==="outer"?e.push(n):t.push(n)}),e.length>Yle&&e.splice(0,Yle-e.length),[e,t]}function rht(i){const{actions:e=[],isActiveGroup:t,onClickActions:n}=i,[r,s]=iht(e),o=ge.useRef(null),a=(h,f)=>{var p;n(f),(p=o.current)===null||p===void 0||p.dispose()},u=h=>{n(h)},c=s.length>0?re.createElement(Cl,{style:{width:200},data:s,onClick:a}):re.createElement("span",{style:{padding:15,fontSize:14}},"No more actions");return re.createElement("div",{className:eht},t&&r.map(h=>re.createElement(qZ,{key:h.id,overlay:h.title},re.createElement("div",{onClick:()=>!h.disabled&&u(h),className:bn(SY,h.disabled&&tht)},h.icon?typeof h.icon=="string"?re.createElement(br,{type:h.icon}):h.icon:h.name))),!!s.length&&re.createElement(tX,{ref:o,placement:"bottom",className:SY,trigger:"click",title:"More Actions...",overlay:c},re.createElement(br,{type:"ellipsis"})))}const sht=ge.memo(rht);function oht(i){const{breadcrumbs:e=[]}=i;return re.createElement("div",{className:nht},re.createElement(Uhe,{role:"breadcrumb",routes:e}))}const aht=ge.memo(oht);function pCe(i){var e,t;const{id:n,data:r,tab:s,currentGroup:o,group:a,actions:u=[],menu:c=[],onMoveTab:h,onCloseTab:f,onClickContextMenu:p,onChangeEditorProps:m,onSelectTab:v,onClickActions:b,editorOptions:S,onUpdateEditorIns:x}=i,w=n===(o==null?void 0:o.id),E=yE(),N=(A,H)=>{const R=(M,G)=>{p==null||p(M,G,H),E.hide()};E==null||E.show(tF(A),()=>re.createElement(Cl,{data:c,onClick:R}))};return ge.useEffect(()=>function(){E==null||E.dispose()}),re.createElement("div",{className:Zdt},re.createElement("div",{className:Qdt},re.createElement("div",{className:Jdt},re.createElement(TJ,{editable:!0,type:"card",data:r,onMoveTab:h,onSelectTab:v,onContextMenu:N,activeTab:w?s==null?void 0:s.id:"",onCloseTab:f})),re.createElement(sht,{isActiveGroup:w,actions:u,menu:c,onClickActions:b})),re.createElement(aht,{breadcrumbs:(s==null?void 0:s.breadcrumb)||[]}),re.createElement("div",{className:Xdt},s!=null&&s.renderPane?typeof s.renderPane=="function"?s.renderPane(Object.assign({},s.data),s,a):s.renderPane:re.createElement(CJ,{options:Object.assign(Object.assign({},S),{value:(e=s==null?void 0:s.data)===null||e===void 0?void 0:e.value,language:(t=s==null?void 0:s.data)===null||t===void 0?void 0:t.language,automaticLayout:!0}),path:s==null?void 0:s.id.toString(),editorInstanceRef:A=>{x==null||x(A,n)},onChangeEditorProps:(A,H)=>{m==null||m(A,H)}})))}const Zle=ge.memo(pCe);function lht({className:i}){return re.createElement("span",{style:{fontSize:0}},re.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 120 120",className:i},re.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",opacity:"0.48"},re.createElement("g",{fill:"#A2A2A2",transform:"translate(-660 -152)"},re.createElement("g",{transform:"translate(660 152)"},re.createElement("path",{d:"M59.3 96.335c4.87 0 8.817 3.954 8.817 8.832S64.169 114 59.3 114c-4.87 0-8.818-3.955-8.818-8.833s3.948-8.832 8.818-8.832zm-22.444-6.826a3.21 3.21 0 013.206 3.212 3.21 3.21 0 01-3.206 3.212 3.21 3.21 0 01-3.206-3.212 3.21 3.21 0 013.206-3.212zm44.887 0a3.21 3.21 0 013.206 3.212 3.21 3.21 0 01-3.206 3.212 3.21 3.21 0 01-3.206-3.212 3.21 3.21 0 013.206-3.212zM59.3 72.245c4.87 0 8.817 3.955 8.817 8.833s-3.948 8.833-8.817 8.833c-4.87 0-8.818-3.955-8.818-8.833s3.948-8.833 8.818-8.833zm-42.483 0c4.87 0 8.817 3.955 8.817 8.833s-3.947 8.833-8.817 8.833S8 85.956 8 81.078s3.948-8.833 8.817-8.833zm85.366 0c4.87 0 8.817 3.955 8.817 8.833s-3.948 8.833-8.817 8.833c-4.87 0-8.817-3.955-8.817-8.833s3.947-8.833 8.817-8.833zm-65.327-6.022a3.21 3.21 0 013.206 3.212 3.21 3.21 0 01-3.206 3.212 3.21 3.21 0 01-3.206-3.212 3.21 3.21 0 013.206-3.212zm44.887 0a3.21 3.21 0 013.206 3.212 3.21 3.21 0 01-3.206 3.212 3.21 3.21 0 01-3.206-3.212 3.21 3.21 0 013.206-3.212zM59.3 48.156c4.87 0 8.817 3.955 8.817 8.833s-3.948 8.833-8.817 8.833c-4.87 0-8.818-3.955-8.818-8.833s3.948-8.833 8.818-8.833zm-42.483 0c4.87 0 8.817 3.955 8.817 8.833s-3.947 8.833-8.817 8.833S8 61.867 8 56.989s3.948-8.833 8.817-8.833zm85.366 0c4.87 0 8.817 3.955 8.817 8.833s-3.948 8.833-8.817 8.833c-4.87 0-8.817-3.955-8.817-8.833s3.947-8.833 8.817-8.833zM80.942 35.31c4.87 0 8.817 3.954 8.817 8.832s-3.948 8.833-8.817 8.833c-4.87 0-8.817-3.955-8.817-8.833s3.947-8.832 8.817-8.832zm-43.284 0c4.87 0 8.817 3.954 8.817 8.832s-3.948 8.833-8.817 8.833c-4.87 0-8.818-3.955-8.818-8.833s3.948-8.832 8.818-8.832zm64.525-11.242c4.87 0 8.817 3.954 8.817 8.833 0 4.878-3.948 8.832-8.817 8.832-4.87 0-8.817-3.954-8.817-8.832 0-4.879 3.947-8.833 8.817-8.833zm-85.366 0c4.87 0 8.817 3.954 8.817 8.833 0 4.878-3.947 8.832-8.817 8.832S8 37.778 8 32.9c0-4.879 3.948-8.833 8.817-8.833zm42.483 5.62a3.21 3.21 0 013.206 3.213 3.21 3.21 0 01-3.206 3.212 3.21 3.21 0 01-3.207-3.212 3.21 3.21 0 013.207-3.212zm-19.238-13.65a3.21 3.21 0 013.206 3.212 3.21 3.21 0 01-3.206 3.212 3.21 3.21 0 01-3.206-3.212 3.21 3.21 0 013.206-3.212zm38.475 0a3.21 3.21 0 013.206 3.212 3.21 3.21 0 01-3.206 3.212 3.21 3.21 0 01-3.206-3.212 3.21 3.21 0 013.206-3.212zM59.3 6a3.21 3.21 0 013.206 3.212 3.21 3.21 0 01-3.206 3.212 3.21 3.21 0 01-3.207-3.212A3.21 3.21 0 0159.3 6z"}))))))}const pf={_isMac:Wde.isMacOs(),queryGlobalKeybinding:i=>{const n=Xo.getDefaultKeybindings().filter(r=>!r.when).filter(r=>r.command===i);return n.length?n[n.length-1].keybinding:null},convertSimpleKeybindingToString:(i=[])=>i.map(e=>{const t=[];return e.altKey&&t.push(pf._isMac?"":"Alt"),e.ctrlKey&&t.push(pf._isMac?"":"Ctrl"),e.metaKey&&t.push(pf._isMac?"":"Meta"),e.shiftKey&&t.push(pf._isMac?"":"Shift"),e.keyCode&&t.push(sCe[e.keyCode]||""),t.join(pf._isMac?"":"+")}).join(" ")},uht=()=>[{id:Ge.ACTION_QUICK_COMMAND,name:pt("menu.commandPalette","Command Palette")},{id:Ge.ACTION_QUICK_ACCESS_SETTINGS,name:pt("menu.settings","Settings")},{id:Ge.ACTION_SELECT_THEME,name:pt("menu.colorTheme","Color Theme")}],cht=()=>{const[i,e]=ge.useState([]);return ge.useEffect(()=>{const t=uht().map(n=>{const r=pf.queryGlobalKeybinding(n.id);if(r!=null&&r.length){const s=pf.convertSimpleKeybindingToString(r);return Object.assign(Object.assign({},n),{keybindings:s})}return null}).filter(Boolean);e(t)},[]),i};function dht(){const i=cht();return re.createElement("div",{className:zn("welcome")},re.createElement(lht,{className:"logo"}),re.createElement("h1",{className:"title"},"Molecule"),re.createElement("div",{className:"keybindings"},re.createElement("ul",null,i.map(e=>re.createElement("li",{className:"keys",key:e.id},re.createElement("span",null,e.name),re.createElement("span",null,e.keybindings.split("").join(" ")))))))}function Mee(i){const{onClickContextMenu:e,onCloseTab:t,onMoveTab:n,onSelectTab:r,onChangeEditorProps:s,onClickActions:o,onUpdateEditorIns:a,onPaneSizeChange:u,editor:c,layout:h}=i,{groups:f=[],current:p,entry:m=re.createElement(dht,null),editorOptions:v}=c||{},{groupSplitPos:b,editorGroupDirection:S}=h||{},x=E=>({onMoveTab:N=>n==null?void 0:n(N,E),onCloseTab:N=>t==null?void 0:t(N,E),onSelectTab:N=>r==null?void 0:r(N,E),onClickActions:o,onUpdateEditorIns:a,onChangeEditorProps:s,onClickContextMenu:e}),w=()=>f.length===1?re.createElement(Zle,Object.assign({editorOptions:v,currentGroup:p,group:f[0]},f[0],x(f[0].id))):f.length>1?re.createElement(cM,{sizes:b,split:S,onChange:u},f.map((E,N)=>re.createElement(am,{key:`group-${N}${E.id}`,minSize:"220px"},re.createElement(Zle,Object.assign({editorOptions:v,currentGroup:p,group:E},E,x(E.id)))))):null;return re.createElement("div",{className:ob},p?w():m)}ge.memo(Mee);function mCe(i){const{data:e={ln:0,col:0}}=i;return re.createElement("span",null,`Ln ${e.ln}, Col ${e.col}`)}ge.memo(mCe);const hht=qe.resolve(Jl),fht=qe.resolve(dc),ght=qe.resolve(u9),pht=Ll({editor:hht,layout:fht},Mee,ght),eL=zn("sidebar"),mht=mt(eL,"pane"),_ht=mt(eL,"header"),vht=mt(eL,"title"),bht=mt(eL,"content"),Cht=mt(eL,"toolbar"),_Ce=ge.memo(function(e){return re.createElement("header",{className:_ht},re.createElement("div",{className:vht},re.createElement("h2",null,e.title)),re.createElement("div",{className:Cht},e.toolbar||null))});function vCe(i){return re.createElement("div",{className:bht},i.children)}function bCe(i){const{panes:e=[],current:t}=i,n=e==null?void 0:e.map(r=>re.createElement("div",{key:r.id,"data-id":r.id,style:{visibility:r.id===t?"visible":"hidden",zIndex:r.id===t?1:-1},className:mht},r.render?r.render():null));return re.createElement("div",{className:eL},n)}var yht=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},wht=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let c9=class extends Da{constructor(){super(),this.onClick=e=>{console.log("onClick:",this.sidebarService)},this.sidebarService=qe.resolve(np)}initView(){}};c9=yht([er(),wht("design:paramtypes",[])],c9);const Sht=qe.resolve(np),xht=qe.resolve(c9),Eht=Ll(Sht,bCe,xht);function Lht({className:i}){return re.createElement("img",{className:i,src:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAABGdBTUEAALGPC/xhBQAAACBjSFJN
AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAA
B3RJTUUH5QwPAyYJr4pYHwAAF6hJREFUeNrtnXm0VMW1xn/79L19GhUTnBAxGNfTuKKJeSsOaBxw
QF5QURzRTODwUIw4RI1RHJ5RUROcgkHFRDEaNUEBjaISUZzBDPqSOORFo0EJkmeMaIQe7qn9/uju
03WGvn243O7Tr8Neq1f3Pd236qv9naratfeuOqKqrJPOFSdtAOukubKO4A6XdQR3uKwjuMNlHcEd
Ll1pA2iFyLOl8XjmXJAtgGfpzp6uu/N62rha0vZOXybJs8VxeHqPf6Hc3LfJuZ/T4XyYNr5mS+cP
0UZPBcrEGsAoKJ9idfGQtKG1QjqfYJWNCQxSUiYa3SRtaK2QzicYfRyjZVIVUAXEoM4TaSNrhXQ+
wca9AHGWoFqZfx0P0e/ovt3/nTa0VkjHG1kAAhke7xkBOpQus1j3dv+UNqaWtf1fgeB/Zen8Ifpf
XNYR3OHSlp4sgS6eL56H4WugWXDmMbD7At2Rj1PH9mDpi3jmKpQdUX0NuqboYV3PpI2rLt52nIPl
+dI1GHOmv35VQGSu7pk9PFVcv8hvjef8DjUb1NbWThFlFz0i+7s0sdWTthui5Td0Y/SUALkKeHqY
PMuwVMEZTkB1A1QAARUwJgs6KWW11ZW2Ixj4BEbdgGvRl9JmqSIzMri8nrZeZaIHp4qrF2k7gnUn
3kPkldoQKFUP1N8pdf8hXXSyqNx7odaLAaOL0sVVX9qOYABUjgP+VvM+yT9BJug+5FPFdVj2LkTu
8l2e5cDFfDZzZ6StsnrSlkYWgLzAxqwqHoAjLt3dj+nuLEsbk49tTs8eeLojGXlND+9qa5922xK8
TvpH+rQOliU9+6LekagMR3UIkAf+gsgCNHu3fom/pN2w/28id7EV+eKxqI5C2ArVHCrLUZageq9O
zPVppFijHiyLi59F9SaUvev/SIqITGeT7im6DYW0FdfuIg/j8m7hcpTJGM0CBA3Mih0iPIXjnKwn
Zl9do/KTEiyLe0ai5j5UN0xY9PMMzB6kn+cfaSuxXUXuYhD5/EMouwfIrL6q4vsE5EPgCJ3kPpa4
jiQEy5Li9ngsBh24Ri1QHmMP98sKXtrKbDeR2WT4qPAIysjaaoFeyKXq0fsIR3bTk7KvJKkn2TLJ
cOsakVu7C0fyTOnkdFXZpvJR4WSMjqwstcpSXhLWPvtZKNbL6EA8c2vSahr2YHmucBDwYGLgRoMg
lRXs7W6p0JOmPmV+4TMUdQvIvaRj+SBVLIvo4vX8MpSaZ85U3uPm3+p1tXUrB+tk96FGdTXuwSJH
J0YevgPLMpine0akoUgAeZ4Bcn9xLgX+iMoTmMI7Mqf09bTwAPBGfkSZ3EoCYJjcck+NmY+l1rPR
RLwkGKL1S71/Ta3SKtDw0ILpvYxmyor8hRgda3me1kf1RzK38JnUMOHsUeuRFQkPxeFrhuDcbCSR
ThMQLFvU/SrOMAiAqN6FWr+MZovKwTV81WHPZOlxRqWGyeiQgK7qkRqePW2ihUQ6TWJklaJKC7/U
AqDWMFIZrr2YMlomsroW9am8G0C9VelhohQY5ewhOtxRAsaWredkOm1MsPJOnesWKInOE0HL8B3S
EpXbI3Oa8He6c8kNx/4Wr6KPOHLjXtXvsfXM20mqauyqdGQhRncIgqj2CFuR9nW7pyg4zsJG1chC
BtOTH4ORL6C6GY58iJE3cJivX16LbInDu29kjm6Ep+cAGwK/x8n8px7G3/papMxmAKsKB6DsCToU
HA8174A8zo7uk7pTg96lstDXWUB/1ueITkPXRB5PhLXxMqm0C5gX/DstAiB0LXJdXtX9s9vXLX8h
g+kpXIrK8ahmov+vIM5zOHKWju5e3GdSQHiYgTq67xvOZBFdLC2chtEpKBvFLmWQZaAX6om523ot
68bCK6h+ti6xcXqwVyiZzK56evevGmJO5Ml6tngvqkckAhC+0zJyqO7rPhBb7oLSTnje/SBDI72/
FgsuF6aOh+iZOsad3leC1kZkNhvxcWE2sJ+fZVLvpi7//TMG5Y7To1gdW96NhUPw9P7a7+voL3Ct
SrLcp99yj0yCO5knK5c9GeXNQKMijQsBKbvVZtQl91G2wegvQYYGFSR2QyrlCajJYPiBzMuf0E+c
JRaZTZaP8w+gGiLXsjeiRtE43i/8RPxGBEUnuQ+AzKj9v1WW0WD5VK8JqLyJuom9g4kI1p14jy53
FCqv1RqgITA2OAFhJhn39FiFgaCFn6E6qLw+tRrjN8SqI3AnOzPkwcK2LeQXVuX/C2UP/6azbZHA
jUlYF0dyc+GkuuV+zj0dZWZ0RBT7RqnpR+Q1HEbpWbyXFHrilB3dnddZP7sbcC0ixVqPDTVM5C0c
+Yru756k+9RxTz5SHIfhi8G1abhCaoT7v9FyFmNJLmsSlRGROxmCyhk+FvuGDrhkbc+Tdd3T/5LZ
DIjV6T706Gm5kxDnK6i8FV37avXmLoJcywbubnqmu0YnE/Qpo0OeZlN6SmPADEcZArIaw1JEF/BJ
d1EjK1IeLszH6Oi6c27AoLB6b+1zkW53Ez2Ej5rAaRDrbYXTUL2+fEOH5t7asqsXKxhwnMN0UnZe
r/XMpJvVhX1QRqE6DGQAhuWILqE79wudzP/2CX+rU3YEHOYXV6GV1NiwdegrpqpMS7FIrUc7HKyH
N3a2rzXeHxceQHWMf6FuMCB0AwTUKj/Ub7qntlTRFWn91pX5bIYxbnzvtRQX6bWVH0iFZM18qiV4
lU/5dQbwVWwHv/dqtAdXPwutwRojaexNcmsGU9xwbCkoYFyFhnFj3JagFdyA5RzGaGL+JzpUtwZr
jLQ+L/rTLAfRSHqK7/0KXTdaM7CC7tHlLcGrLK+bRhPAaeEN/L+CaRHWGGk5wbo9RVRfjK4hQ+tf
u2dX9wHZyyfJ9tmrtYaIny+/Vf+EiFcvzl/sBwgEpFJGCpLOzgaR2bE91Y8nx/Ru/yUgzgt6FEtb
glUz90ZjsmESiYmB+5+LdMU7e1qi6j4tk54o7kCRI1CGA+W8aGUpKo+i3fP0oN4zKeUBBmIKb6C6
acSYguBwTVWhtkEmo/VY95GGOO9gfSiOQTkQNVujMhB4F3gJx5mj3+h+IVF7by7MxejYMrbKxUR+
eAVxfqCnxzt8AnXcyCA+zo/F8B8YhiGSQ3U54iwB7tNzsy+vMVGsaV704wylp3gdxpT9oBqzVoWV
CJdzoHu1xpsg5bLmFceiOgdFYq1p3w9NmeiqJSvOLD0me1xDrHfkT8BwGcjmkRum5pR5DEcm64Ts
a72WdRufopD/FYbBERKr+OLW7cgfWc8drhNZWbdscPje6rNQZwroJ+pHj5x7UfcMnbJmW3iS50X/
srQzxvwC2Dxyl4bJKAN8CMc9Wg+mbmBd5pVOxTPXo+oEFFRdU0rIZSnyIBn3CD2KYt0yZ5MhX5yJ
McdHco2rKg2OBh/iME5P6H1EkBmlXVDvIWDT2F4c/lvlTVxG6Sn1PU8yk/X4R/7noAfFLwttL6GC
yrs4mTE6pfvXSQlONAfL42yFZ+ajbB5w11X9xrYfubZmPQhTuL2esx1Ax3bfAJkDEXmjljMlwSG6
3GtXIc5FHOMe2hu5AKwqTMMzx5c3Z8eMIQHsALohntwnM0tf7K1YPaX7V2TYFZXHgj7yarnW30Zn
k3V36ZVcED5YfTvQC7lKwOEDm2N65svl+a2SEpwsXPho4TGM7h/vcap8sHudnaXgOBP0kO7bey3/
N3TzVnEcno5F+ALKYAwrEf0zxnkIN3uHHk7DpYb8JL8vKo/HDvW9OSLKo8OrDHI/r0c1TtKX6T0j
wBuHslcl38wDeQflCXB+qmd0/7ZhGd8rjUe9WY3jwSFHjwqILNSL3JH9QrA82rMvxitnD/Q2V9aL
54osZay7dW/zcX+J3J5/DhPaBlKVyHKM4PcGIDNBJ/V+M/YLTnC4Kv8mRof5V6pTE2Ed19GtI/vp
RY03pCXIyfKOKb9Xe2mlUvsVXs8Gh+5hzO1petqs3MGwMrkEh85IGM8mN/ydOabZOAG4qudLGIbV
1vc2BolOffY1/10SYU1AsIyoVUjQu2Ssz9U7KxLeA9Ts3bCetRWvNCJ2PRoOCBDzXS3nuPk4AejZ
OzCPB262kC7DS8jadyOS1NSYYKNDgxVWAdgVYvVsQte1UkazRbcIKoGg18nHQmjEsf/W9eRGBjUf
qgyNEBZ2fdYl3Cc7kU4TBBsqfuOAgVVnfghf80MtLRCvqgzr3c/nIp5QYt4HtACwMcHpTHrRX6Qt
/veJcCbJi14WcPb7xkDM3Gsrzx5iWpEX7YQcAPFDcO/kIqt0Qgs2pklmWdSZYc/HEj/1aYD8RA6P
BJvP9MlajjMEh5SY+QLrd7U8qiebrjSyT9bvqRJ/3X6V91Ytaj5OwHiLIn6DcCeq6q/mOArrP5FO
E8zBmbuDBYdMdhPTo30lKiBvcWRX0yM/ehxvozwTsErjLOe4nXx+IXJ3s3ECMGXAYoy8FdCfWvaL
f9NVdRzSf7knJ8LakGAd0/UkyoKa0mIMGAiZ8RZIlQtasQYGINM1pVZ/TMQnzpip4XyZLbItIVjB
IHph1Nq3AyzVH4d7N4As0Km5furBALgnIqyIzAcVtCEXJTXjwblHx2V/2gqlAegJXU8h8n1fMZZG
fdKrf/vXFVQ+xnG+msSL1W9YL8zdCdwT76K0e3ZFn7U88RU45sSk9STLiz6UtxFnNKrLAtZddF6o
gROZh2SPb5XCfDnJ/Q4qN9VfClX+9m0K5wMcxurkFJ7hsGHueIR50aWSNaUEDFZdRlfXaL1sQKKN
Z7Cm4cI5DEHz00COjQ/zCSDvY/RSjnWvt8yulovcVPo6nncFSm3nhK208q/mI5yhp6X3DAcB4aLC
6WAuRGWjWP8zjoLejeTO1ssb++QD5fcp4D+7sB0ih6M6HGQIalajLEWcBQzMPrA2G7z6VXmzyPHP
4kGgo4GtMWYgOCsw+iKZzFyd3P1i2hh9rJewIV7+EAyjUIaBlvOiySxB9D6d6v5Pn8ptl6MMBRxm
lU5GzWiMfojDj/W4XKItkqlhnk2WP60+E5UR4KxAZLqe3ziS1FKMbUPwbflZGMYDVKJQisqxemL2
Z2lji8ULwuX5BcBIa37vIdO1v07peiptfFVpi+OE5c7CdhjGBxPaVDA6NW1sdeXKwv745PoTfBem
57tpQ7OlLQimxLY16zZgQX5aFrXng0PoYduAO7HmB2jtzscG0h4EG/f3qJjIEkZ4ue4OxbQlk3kp
EM+F6rKr9cutXqQtCNYT+AuOTA16xySPo2ekja0u5vO6nke5PeC+FVaCfDttbLb0bZk0hyGsLhyK
VM6LVlYjLEVZwMbuYzq6b8cIyy2F0cDoyqmqd+rE3tNZG5Y3mwxv5/cGORDD1pTP21yByIuoztOz
c2+utQIvLR6N8UZAZgVkb9WL6VPkTKbjsqwwEs+MQpxhGAaALgdZguvev6brX7/cNXJ03MUgKFyK
YSJoNxD1ZAnvQOYC/Ubzc5t6xXp94WAM0zC6nY8zGGBQ4C66c+fqmek+LkDOLY1Hey5D2TKI1Xdf
lhCZSda9UK9Ys+OZk+dFzy5sR5EHUd2mcsXyYNl/V9+dWXwhO7HhkULNUNh1+al4el4kMR/iD0vN
ZMbqt/t+gk+fcc6km9fzM1GdEJ88QfDGFHkdlYP1OvePSetIlhc9l80o6IIyuXGbxgjmD5WzPibw
u8INLVfatcUL8PS8YAZKTMZEbXkzmB7zsFyRwtmVr+dvQJkQrz9Lz+LreBvQBXIOiZ8flczIWl24
GWRYMOSmQWJtZVL53tOJ8qNiyx5HJ9eWdkX1u4FdiDauyOk1foz1kyh39Zak3+9Yzy0ejjIxEIEL
hGMtvdpBf0+HUVh9c9J6GhIs95SG41VOa62XIWFnfNhKLGt3assU55nL8YwEwoP22ZmR+KvVBmN2
4vJiorOn1lYEBGOmBiJwsflkMXgBVMbKqaXhSepq3INL5quRCm0S/cfPhdaDtS0i23FLaeemK+06
hgD7B0aQKu6AnVD9Ljaf+6vNxgnA2aWdUd2uVzyBeDAx8feeRFiTDNH7R3tmaAisKrReDNbofk1X
mlfcB1PpveGztnx8oYSEiEJbgBNAdL/gvEt0+ohkoGgoL04SYU1C8JbR3hvTYyPgqH0vumXTleZp
DadtMduZin5GCgStVh/rQJlOwqfKrIUYb8uoB8zCFNFlzHZSkh3s0tjPa6QLNZZCCPXeagYHUfO+
+m5a4E92pAsvfPNZRPsn5YQ2cgEBf/L7LcCq0hWcQuxRxv+RpUPbWPR1mkmklsZgdFlwuJDgHRYM
DoReUjXz/9p0pZlqHb1Y0IEebpHrL0ecvF7M+03Hqvw1urys4vJ/Q+yI6OuURDpNcqT/s7UKbYWE
nRzE9N6qoWWa/wh0Mc9E9vIEjh60FGq/7JRfT59rOk4Ah2cCy8sw2ZEVSZz+eTZZVY3E6M/jc42t
90iqbOC377J97ulm60zPcd9And8G15JWjwjs6wlkKdrTTWuSCzbMPQ28G2us1tuDbRO/Blgb50Uf
7z4MlTs7PGyEt4TEARO5pGUhP+HCiNWsElzGqf2d2obYn8m4s1oBUy+mB5xLAj00fM5WnLFaI/c5
vanxITSQ1JPlOCdgZGVk2IidIyywIo+wiXtLK5QGoOe585HMrYGh18epoffA90UM4/XiBsdD9Kfs
6d6COI/EEhjeJqD2NVkJTuIzs5PlRU/IvoboWMT5IFBh2Btkf4an6HKPaWUyOQDbZichzpyoW9Uy
Dv3T8wCVPMZ8TS/LNd9OsHV6FB7ruceAPBXrHbQ7Sk2n5Rzum5OHUZOfF31ibhFduqv/QInAlzYQ
yaNcSXduZG/HBzVRcUUucI9E5ByQlYFdeYEN6oDya7oye+llA2a3GieAXslKdsyNBLkSU3l8fcCG
oEauyEIcZ1e9MbdoTeroW8B/Zs+eGO9I0OGYynnRsBRYgOPeoyf3Lb4q1xQ+Q/lpnB+yfu4hnbR2
j6aVK9iYUuFoDAeiVsBfeRGROVziLrAnnD7V8e3Sv2PMXhizgk8MeFAvpk/PY5JJDMWsPgZkFDAM
rQT8HZagcq/e3LcRpn3SZq/JH4+RmzDaXRlWl9OVGaVnZ/+QNra6mM/KT8FwKZVnGKD8CSe3r16T
bgKBLW2RkyXT2AyPGyxyARmCZ25MG1tdzOcUP4fyXcDyf+u2mPz308ZmS1sQjBZ2Ru3DE6qOB3Zr
27RZo3ug6sRkX+yVNjRb2oPgjLM8egIdILzXtmmznnWOdCDwoqmdDR0n7UHwt7pfQpyFUR+3XJ02
tLryb+6j4LwcE89tK8xtQbCCIu5hoNNBXgf9LY5zCue5baWsAObJFOh29wOZBfImqotRxun0AW21
l6ptrOimNfD84vY4Wj4v2shAVFaAvsiA3Hy9ON1Hvbek/Z1KsFxQ2g31pmHYI/asR6SAyA9Zz720
k4nuSIJlSuF0jF4NlaB4vfztssP8DRxnjF6VfTVt3E3RRacRLOcXJqFmRmwudN1jhWU5mtulnRwU
/SVtYWT1l8hFxR2AH9QNtUXirn48dgiavzNt/M2QjiKYHm8qxnRFemogwGBnT9hpSLqPnFU4MO0m
9Ld0DMFyPhtj5KDIDobwoZ7ho3mr1xTo0fFpt6O/pT3dgH0RLe6HaiY454bi1ZGEvIjxdUDazehv
6ZgeDN6w4A6Z8AGeWHlZ1vXq53LPHiSXsEHaLelP6RyCjeSC/mxrKA4My4Rys6xrRuEjcmk3pT+l
g4boyg54tQ0su7fGDdehIRpKTOPvaTelP6WDerCzOJAnFt4fHH7uYHiLSDmb8YW1zfBoN+kYgnVa
9hWQVwPDsp+0Zi+TQmmpwSzRe9NuR39LxxBcFr0ksj85PN/aa+Gg/JVN3Zlpt6C/pbMIvnrAzxHm
RreQQuz+5loqrUGdiX1NmGtn6SiCFZTMgK+jUj4N3e61sQn7CioeKt/UGe5DaeNvhnQUwQD6fT5m
h9wB4EwDqexUsHsv9l6kP5OR0TrDvSlt3M2SjosmBRo3Ob81MB6jBwJbgwxEWYHqizgyh81y97R0
u0oaOuhkgtdJBw7R6yQo6wjucFlHcIfLOoI7XNYR3OHyf7iqrvn/gHCwAAAAJXRFWHRkYXRlOmNy
ZWF0ZQAyMDIxLTEyLTE0VDE5OjM4OjA5KzA4OjAwmXMYFgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAy
MS0xMi0xNFQxOTozODowOSswODowMOguoKoAAAARdEVYdGV4aWY6Q29sb3JTcGFjZQAxD5sCSQAA
ABJ0RVh0ZXhpZjpFeGlmT2Zmc2V0ADI2UxuiZQAAABh0RVh0ZXhpZjpQaXhlbFhEaW1lbnNpb24A
MTIwdAQi7wAAABh0RVh0ZXhpZjpQaXhlbFlEaW1lbnNpb24AMTIw6QvDmQAAACB0RVh0c29mdHdh
cmUAaHR0cHM6Ly9pbWFnZW1hZ2ljay5vcme8zx2dAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBh
Z2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAAxMjBNp8myAAAAF3RFWHRUaHVt
Yjo6SW1hZ2U6OldpZHRoADEyMN5Wme8AAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/
slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTYzOTQ4MTg4ObVTMPUAAAASdEVYdFRodW1iOjpTaXpl
ADc2MjBCQiI6F3sAAABGdEVYdFRodW1iOjpVUkkAZmlsZTovLy9hcHAvdG1wL2ltYWdlbGMvaW1n
dmlldzJfOV8xNjM4ODQ4MDI1NDI2MTE4Ml8zOF9bMF0TNSl1AAAAAElFTkSuQmCC`})}const Dht=zn("menuBar"),S8=Cn(Dht,"horizontal"),CCe=mt(S8,"logo"),Tht=mt(CCe,"content");function Iht(i){const{data:e,onClick:t,logo:n}=i,r=ge.useRef(null),[s,o]=ge.useState(!1),a=h=>{var f;const m=h.target.closest("li"),v=(f=m==null?void 0:m.parentElement)===null||f===void 0?void 0:f.parentElement;return!!v&&v.classList.contains(S8)};ge.useEffect(()=>{const h=document.getElementsByClassName(S8)[0],f=m=>{var v,b;const S=a(m),x=m.target;if(S)s&&((b=(v=r.current)===null||v===void 0?void 0:v.dispose)===null||b===void 0||b.call(v)),setTimeout(()=>o(!s));else{const w=x.closest("li"),E=w&&h.contains(w)&&!(w!=null&&w.dataset.submenu);(!w||E)&&o(!1)}},p=m=>{if(!s)return;const v=m.target;h.contains(v)||o(!1)};return document.addEventListener("click",p),h==null||h.addEventListener("click",f),()=>{document.removeEventListener("click",p),h==null||h.removeEventListener("click",f)}},[s]);const u=s?"hover":"click",c=(h,f)=>{t==null||t(h,f),r.current.dispose()};return re.createElement("div",{className:S8},re.createElement("div",{className:CCe},n||re.createElement(Lht,{className:Tht})),re.createElement(Cl,{ref:r,role:"menu",mode:C1.Horizontal,trigger:u,onClick:c,style:{width:"100%"},data:e}))}const yCe=zn("menuBar"),kht=mt(yCe,"action");function wCe(i){const{data:e,mode:t=_l.vertical,onClick:n,updateFocusinEle:r,logo:s}=i,o=ge.useRef(null),a=(f=[])=>{const p=f.concat(),m=[...p];for(;m.length;){const v=m.pop();if(v)if(v!=null&&v.data)m.push(...v.data);else{const b=pf.queryGlobalKeybinding(v.id)||[];b.length&&(v.keybinding=pf.convertSimpleKeybindingToString(b))}}return p},u=(f,p)=>{n==null||n(f,p),o.current.dispose()},c=re.createElement(Cl,{role:"menu",onClick:u,style:{width:200},data:a(e)}),h=ge.useCallback(f=>{r==null||r(f.target)},[]);return ge.useEffect(()=>(document.body.addEventListener("focusin",h),()=>{document.body.removeEventListener("focusin",h)}),[]),t===_l.horizontal?re.createElement(Iht,{data:a(e),onClick:n,logo:s}):re.createElement("div",{className:yCe},re.createElement(tX,{ref:o,trigger:"click",className:kht,placement:"right",overlay:c},re.createElement(br,{type:"menu"})))}class yf extends Md{constructor(){super({id:yf.ID,label:yf.LABEL,title:yf.LABEL,category:Mve.View,alias:"Toggle Side Bar",precondition:void 0,f1:!0,keybinding:{when:void 0,weight:$c.WorkbenchContrib,primary:cs(xl.CtrlCmd|dn.KeyB)}}),this.layoutService=qe.resolve(dc),this.activityBarService=qe.resolve(ip),this.menuBarService=qe.resolve(H1),this.sideBarService=qe.resolve(np)}run(e,...t){const n=t[0],{selected:r}=this.activityBarService.getState(),s=this.layoutService.toggleSidebarVisibility(),o=n||this._preActivityBar;this.activityBarService.setActive(s?void 0:o),this.sideBarService.setActive(s?void 0:o),this.menuBarService.update(yf.ID,{icon:s?"":"check"}),s&&(this._preActivityBar=r)}}yf.ID=D3;yf.LABEL=pt("menu.showSideBar.label","Toggle Side Bar Visibility");class wf extends Md{constructor(){super({id:wf.ID,label:wf.LABEL,title:wf.LABEL,category:Mve.View,alias:"Toggle Panel",precondition:void 0,f1:!0,keybinding:{when:void 0,weight:$c.WorkbenchContrib,primary:cs(xl.CtrlCmd|dn.KeyJ)}}),this.layoutService=qe.resolve(dc),this.menuBarService=qe.resolve(H1)}run(e){const t=this.layoutService.togglePanelVisibility();this.menuBarService.update(wf.ID,{icon:t?"":"check"})}}wf.ID=Ge.MENU_VIEW_PANEL;wf.LABEL=pt("menu.showPanel.title","Toggle Panel");var Nht=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Aht=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let nE=class extends Da{constructor(){super(),this._focusinEle=null,this._automation={},this.updateFocusinEle=e=>{(e==null?void 0:e.id)!=Iee&&(this._focusinEle=e)},this.onClick=(e,t)=>{var n,r;const s=t.id||"";this.emit(ky.onSelect,s),(r=(n=this._automation)[s])===null||r===void 0||r.call(n),this.updateActivityBarContextMenu(s)},this.createFile=()=>{const{ACTION_QUICK_CREATE_FILE:e}=this.builtinService.getConstants();e&&this.monacoService.commandService.executeCommand(e)},this.undo=()=>{const{ACTION_QUICK_UNDO:e}=this.builtinService.getConstants();e&&this.monacoService.commandService.executeCommand(e,this._focusinEle)},this.redo=()=>{const{ACTION_QUICK_REDO:e}=this.builtinService.getConstants();e&&this.monacoService.commandService.executeCommand(e,this._focusinEle)},this.gotoQuickCommand=()=>{const{ACTION_QUICK_COMMAND:e}=this.builtinService.getConstants();e&&this.monacoService.commandService.executeCommand(e)},this.updateActivityBar=()=>{const e=this.layoutService.toggleActivityBarVisibility(),{MENU_VIEW_ACTIVITYBAR:t}=this.builtinService.getConstants();t&&this.menuBarService.update(t,{icon:e?"":"check"})},this.selectAll=()=>{const{ACTION_QUICK_SELECT_ALL:e}=this.builtinService.getConstants();e&&this.monacoService.commandService.executeCommand(e,this._focusinEle)},this.copyLineUp=()=>{const{ACTION_QUICK_COPY_LINE_UP:e}=this.builtinService.getConstants();e&&this.monacoService.commandService.executeCommand(e)},this.updateMenuBar=()=>{const e=this.layoutService.toggleMenuBarVisibility(),{MENU_VIEW_MENUBAR:t}=this.builtinService.getConstants();t&&this.menuBarService.update(t,{icon:e?"":"check"})},this.updateMenuBarMode=e=>{this.layoutService.setMenuBarMode(e)},this.updateMenuBarDataByMode=e=>{const{builtInMenuBarData:t}=this.builtinService.getModules(),{MENUBAR_MODE_HORIZONTAL:n,MENUBAR_MODE_VERTICAL:r,MENU_APPEARANCE_ID:s}=this.builtinService.getConstants();let o=n,a=r;e===_l.vertical&&(o=r,a=n);const u=this.getMenuBarItem(t,a);this.menuBarService.remove(o),this.menuBarService.append(u,s)},this.getMenuBarItem=(e,t)=>{let n;for(n of e){if(n.id===t)return Object.assign({},n);if(Array.isArray(n.data)&&n.data.length>0){const r=this.getMenuBarItem(n.data,t);if(r)return r}}return null},this.updateStatusBar=()=>{const e=this.layoutService.toggleStatusBarVisibility(),{MENU_VIEW_STATUSBAR:t}=this.builtinService.getConstants();t&&this.menuBarService.update(t,{icon:e?"":"check"})},this.updateSideBar=()=>{this.monacoService.commandService.executeCommand(yf.ID)},this.updateAuxiliaryBar=()=>{const e=this.layoutService.setAuxiliaryBar(n=>!n),{MENU_VIEW_AUXILIARY:t}=this.builtinService.getConstants();t&&this.menuBarService.update(t,{icon:e?"":"check"})},this.updatePanel=()=>{this.monacoService.commandService.executeCommand(wf.ID)},this.menuBarService=qe.resolve(H1),this.layoutService=qe.resolve(dc),this.monacoService=qe.resolve(tp),this.builtinService=qe.resolve(oo),this.activityBarService=qe.resolve(ip)}initView(){const{builtInMenuBarData:e}=this.builtinService.getModules(),{ACTION_QUICK_CREATE_FILE:t,ACTION_QUICK_UNDO:n,ACTION_QUICK_REDO:r,ACTION_QUICK_SELECT_ALL:s,ACTION_QUICK_COPY_LINE_UP:o,MENU_VIEW_ACTIVITYBAR:a,MENU_VIEW_AUXILIARY:u,MENU_VIEW_MENUBAR:c,MENU_VIEW_STATUSBAR:h,MENU_QUICK_COMMAND:f,MENU_VIEW_PANEL:p,MENUBAR_MODE_HORIZONTAL:m,MENUBAR_MODE_VERTICAL:v}=this.builtinService.getConstants();if(e){const b=this.layoutService.getMenuBarMode(),S=this.getMenuBarDataByMode(b,e);this.menuBarService.setMenus(S)}[[t,()=>this.createFile()],[n,()=>this.undo()],[r,()=>this.redo()],[s,()=>this.selectAll()],[o,()=>this.copyLineUp()],[a,()=>this.updateActivityBar()],[c,()=>this.updateMenuBar()],[h,()=>this.updateStatusBar()],[f,()=>this.gotoQuickCommand()],[D3,()=>this.updateSideBar()],[u,()=>this.updateAuxiliaryBar()],[p,()=>this.updatePanel()],[m,()=>this.updateMenuBarMode(_l.horizontal)],[v,()=>this.updateMenuBarMode(_l.vertical)]].forEach(([b,S])=>{b&&(this._automation[b]=S)}),this.subscribe(ky.onChangeMode,this.updateMenuBarDataByMode)}getFilteredMenuBarData(e,t){const n=[];return Array.isArray(e)&&e.forEach(r=>{if(t.includes(r.id))return;const s=Object.assign({},r);Array.isArray(r.data)&&r.data.length>0&&(s.data=this.getFilteredMenuBarData(r.data,t)),n.push(s)}),n}getMenuBarDataByMode(e,t){const{MENUBAR_MODE_VERTICAL:n,MENUBAR_MODE_HORIZONTAL:r}=this.builtinService.getConstants(),s=[];return e===_l.horizontal?s.push(r):e===_l.vertical&&s.push(n),this.getFilteredMenuBarData(t,s)}updateActivityBarContextMenu(e){const{MENU_VIEW_MENUBAR:t,CONTEXT_MENU_MENU:n}=this.builtinService.getConstants();n&&e===t&&this.activityBarService.toggleContextMenuChecked(n)}};nE=Nht([er(),Aht("design:paramtypes",[])],nE);const Oht=qe.resolve(H1),Mht=qe.resolve(nE),Xle=Ll(Oht,wCe,Mht);class d1 extends Md{constructor(){super({id:d1.ID,label:d1.LABEL,title:d1.LABEL,alias:"Color Theme",precondition:void 0,f1:!0,keybinding:{when:void 0,weight:$c.WorkbenchContrib,primary:cs(xl.CtrlCmd|dn.KeyK)}}),this.colorThemeService=qe.resolve(Ty)}run(e){const t=e.get(qc),n=this.colorThemeService.getThemes(),r=this.colorThemeService.getColorTheme(),s=[...Rht(n)];let o;const a=(u,c)=>{o&&clearTimeout(o),o=window.setTimeout(()=>{o=void 0;const h=u&&u.id!==void 0?u.id:r.id;this.colorThemeService.setTheme(h)},c?0:200)};return new Promise(u=>{let c=!1;const h=s.findIndex(p=>p.id===r.id),f=t.createQuickPick();f.items=s,f.placeholder=C("themes.selectTheme","Select Color Theme (Up/Down Keys to Preview)"),f.activeItems=[s[h]],f.canSelectMany=!1,f.onDidAccept(p=>{const m=f.activeItems[0];m&&a(m,!0),c=!0,f.hide(),u()}),f.onDidChangeActive(p=>a(p[0],!1)),f.onDidHide(()=>{c||(a(r,!0),u())}),f.show()})}}d1.ID=Ge.ACTION_SELECT_THEME;d1.LABEL=C("selectTheme.label","Color Theme");function Rht(i,e){const t=s=>({id:s.id,label:s.label,description:s.description}),n=(s,o)=>{var a;return(a=s.label)===null||a===void 0?void 0:a.localeCompare(o.label)},r=i.map(t).sort(n);return r.length>0&&e&&r.unshift({type:"separator",label:e}),r}const xY=ds.as(nb.Quickaccess);function Pht(i){Fht(i.prefix),xY.registerQuickAccessProvider(i)}function Fht(i){const e=xY.providers.findIndex(t=>t.prefix===i);e>-1&&xY.providers.splice(e,1)}var Bht=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};class Eg extends qbe{constructor(){super({showAlias:!1,noResultsPick:{label:C("noCommandResults","No matching commands"),commandId:""}},Eg.services.get(Rn),Eg.services.get(Or),Eg.services.get(Vr),Eg.services.get(up),Eg.services.get(Ts)),this.editorService=qe.resolve(Jl)}get activeTextEditorControl(){var e;return(e=this.editorService)===null||e===void 0?void 0:e.editorInstance}static get services(){return qe.resolve(tp).services}getCommandPicks(e,t){return Bht(this,void 0,void 0,function*(){return t.isCancellationRequested?[]:[...this.getCodeEditorCommandPicks(),...this.getGlobalCommandPicks(e)].map(n=>Object.assign(Object.assign({},n),{buttons:[{iconClass:"codicon codicon-gear",tooltip:C("configure keybinding","Configure Keybinding")}],trigger:()=>eC.CLOSE_PICKER}))})}getGlobalCommandPicks(e){var t;const n=[],r=Sa.getMenuItems(Ft.CommandPalette);for(const s of r){let o=(typeof s.command.title=="string"?s.command.title:s.command.title.value)||s.command.id;const a=typeof s.command.category=="string"?s.command.category:(t=s.command.category)===null||t===void 0?void 0:t.value;a&&(o=C("commandWithCategory","{0}: {1}",a,o));const u=typeof s.command.title!="string"?s.command.title.original:void 0,c=a&&s.command.category&&typeof s.command.category!="string"?s.command.category.original:void 0,h=u&&a?c?`${c}: ${u}`:`${a}: ${u}`:u;n.push({commandId:s.command.id,commandAlias:h,label:eJ(o)})}return n}}Eg.PREFIX=">";Pht({ctor:Eg,prefix:Eg.PREFIX,placeholder:C("commandsQuickAccessPlaceholder","Type the name of a command to run."),helpEntries:[{description:C("commandsQuickAccess","Show and Run Commands"),needsEditor:!1}]});class I3 extends Md{constructor(){super({id:I3.ID,label:KM.quickCommandActionLabel,alias:"Command Palette",title:{value:C("showTriggerActions","Command Palette"),original:"Command Palette"},f1:!1,keybinding:{weight:$c.WorkbenchContrib,when:void 0,primary:xl.CtrlCmd|xl.Shift|dn.KeyP,secondary:[dn.F1]}})}run(e){e.get(qc).quickAccess.show(Eg.PREFIX)}}I3.ID=Ge.ACTION_QUICK_COMMAND;var Wht=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Vht=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let d9=class extends Da{constructor(){super(),this.onClick=(e,t)=>{this.emit(Iy.OnClick,e,t)},this.onChange=(e,t)=>{this.emit(Iy.OnChange,e,t)},this.onSelectColorTheme=()=>{this.monacoService.commandService.executeCommand(d1.ID)},this.onContextMenuClick=(e,t)=>{const n=t==null?void 0:t.id,{ACTION_QUICK_COMMAND:r="",ACTION_QUICK_ACCESS_SETTINGS:s="",ACTION_SELECT_THEME:o="",CONTEXT_MENU_MENU:a="",CONTEXT_MENU_EXPLORER:u="",CONTEXT_MENU_SEARCH:c="",CONTEXT_MENU_HIDE:h}=this.builtinService.getConstants();switch(n){case a:{this.menuBarController.updateMenuBar(),this.activityBarService.toggleContextMenuChecked(n);break}case u:case c:{this.activityBarService.toggleBar(n),this.activityBarService.toggleContextMenuChecked(n);break}case h:{this.menuBarController.updateActivityBar();break}case r:{this.gotoQuickCommand();break}case s:{this.settingsService.openSettingsInEditor();break}case o:{this.onSelectColorTheme();break}}},this.activityBarService=qe.resolve(ip),this.settingsService=qe.resolve(Ay),this.monacoService=qe.resolve(tp),this.menuBarController=qe.resolve(nE),this.builtinService=qe.resolve(oo)}initView(){const{activityBarData:e,contextMenuData:t}=this.builtinService.getModules();e&&this.activityBarService.add(e),t&&this.activityBarService.addContextMenu(t)}gotoQuickCommand(){this.monacoService.commandService.executeCommand(I3.ID)}};d9=Wht([er(),Vht("design:paramtypes",[])],d9);var Hht=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$ht=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let h9=class extends Da{constructor(){super(),this.initView=()=>{},this.onClick=e=>{this.auxiliaryService.setActive(this.auxiliaryService.getState().current===e?void 0:e),this.emit(NR.onTabClick,e)},this.auxiliaryService=qe.resolve(Jx)}};h9=Hht([er(),$ht("design:paramtypes",[])],h9);const k3=zn("notification"),zht=mt(k3,"header"),Uht=mt(k3,"body"),jht=mt(k3,"item"),Kht=Cn(k3,"close");function SCe(i){const{data:e=[],actionBar:t=[],showNotifications:n,onActionBarClick:r,onCloseNotification:s}=i,a=e.length>0?pt("notification.title","notifications"):pt("notification.title.no","no new notifications"),u=n?"block":"none";return re.createElement("div",{className:bn(k3,jde),style:{display:u}},re.createElement("header",{className:zht},re.createElement("span",null,a),re.createElement(BP,{data:t,onClick:r})),re.createElement("div",{className:Uht},e.map(c=>re.createElement("div",{className:jht,key:c.id},re.createElement(br,{title:"Clear Notification",onClick:()=>s==null?void 0:s(c),className:Kht,type:"close"}),typeof c.render=="function"?c.render(c):c.value))))}ge.memo(SCe);const xCe=zn("bell"),qht=Cn(xCe,"active");function Ght(i){const{data:e=[],onClick:t,showNotifications:n,id:r,actionBar:s,onActionBarClick:o,onCloseNotification:a}=i,u=ge.useRef(),h=e.length>0?"bell-dot":"bell";return ge.useEffect(()=>{const f=DS(`.${zn("workbench")}`);f&&(u.current=u.current||document.createElement("div"),f.appendChild(u.current),eF(re.createElement(SCe,{id:r,data:e,actionBar:s,showNotifications:n,onActionBarClick:o,onCloseNotification:a}),u.current))},[r,e,s,n,o,a]),re.createElement(br,{className:bn(xCe,n&&qht),onClick:t,type:h})}const Yht=ge.memo(Ght);var Zht=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Xht=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let EY=class extends Da{constructor(){super(),this.onCloseNotification=e=>{this.notificationService.remove(e.id)},this.onClick=(e,t)=>{this.toggleNotifications()},this.onActionBarClick=(e,t)=>{const n=t.id,{NOTIFICATION_CLEAR_ALL_ID:r,NOTIFICATION_HIDE_ID:s}=this.builtinService.getConstants();n===r?this.notificationService.clear():n===s&&this.toggleNotifications()},this.notificationService=qe.resolve(tE),this.statusBarService=qe.resolve(rp),this.builtinService=qe.resolve(oo)}toggleNotifications(){this.notificationService.toggleNotification()}initView(){const{builtInNotification:e,NOTIFICATION_CLEAR_ALL:t,NOTIFICATION_HIDE:n}=this.builtinService.getModules();if(e){const r=Ll(this.notificationService,Yht),s=Object.assign(Object.assign({},e),{actionBar:[t,n].filter(Boolean),render:()=>re.createElement(r,{onClick:this.onClick,onActionBarClick:this.onActionBarClick,onCloseNotification:this.onCloseNotification})});this.notificationService.setState(Object.assign({},s)),this.statusBarService.add(s,mm.right)}}};EY=Zht([er(),Xht("design:paramtypes",[])],EY);const Qht=zn("output");function Jht(i){const{id:e,data:t="",onUpdateEditorIns:n}=i;return re.createElement("div",{className:Qht},re.createElement(CJ,{key:e,options:{value:t,readOnly:!0,lineDecorationsWidth:0,lineNumbers:"off",minimap:{enabled:!1},automaticLayout:!0},editorInstanceRef:r=>{n==null||n(r)}}))}var eft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},tft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let f9=class extends Da{constructor(){super(),this.onTabChange=e=>{e&&this.panelService.setActive(e),this.emit(_m.onTabChange,e)},this.onClose=e=>{e&&this.emit(_m.onTabClose,e)},this.onToolbarClick=(e,t)=>{const{PANEL_TOOLBOX_CLOSE:n,PANEL_TOOLBOX_RESIZE:r}=this.builtinService.getConstants();t.id===n?this.monacoService.commandService.executeCommand(wf.ID):t.id===r&&this.panelService.toggleMaximize(),this.emit(_m.onToolbarClick,e,t)},this.panelService=qe.resolve(Ny),this.monacoService=qe.resolve(tp),this.builtinService=qe.resolve(oo)}initView(){const{builtInOutputPanel:e,builtInPanelToolbox:t,builtInPanelToolboxResize:n}=this.builtinService.getModules();if(e){const s=e;s.renderPane=o=>re.createElement(Jht,Object.assign({onUpdateEditorIns:a=>{o.outputEditorInstance=a}},o)),this.panelService.add(s),this.panelService.setActive(s.id)}const r=[n,t].filter(Boolean);this.panelService.setState({toolbox:r})}};f9=eft([er(),tft("design:paramtypes",[])],f9);function nft(i){const{data:e={errors:0,warnings:0,infos:0}}=i;return re.createElement(re.Fragment,null,re.createElement(br,{type:"error"}),` ${e.errors} `,re.createElement(br,{type:"warning"}),` ${e.warnings} `,re.createElement(br,{type:"info"}),` ${e.infos}`)}const ift=re.memo(nft),ECe=zn("problems"),Ree=mt(ECe,"treeview"),LCe=mt(Ree,"treeNode"),rft=mt(LCe,"badge"),DCe=mt(Ree,"treeLeaf"),Qle=mt(DCe,"subInfo");function sft(i){const{data:e,onSelect:t}=i;if(!(e!=null&&e.length))return re.createElement("div",{style:{margin:"0 18px",userSelect:"none"}},pt("panel.problems.empty","No problems have been detected in the workspace."));const n=r=>{switch(r){case Rf.Error:return re.createElement(br,{type:"error"});case Rf.Warning:return re.createElement(br,{type:"warning"});case Rf.Info:return re.createElement(br,{type:"info"});default:return""}};return re.createElement(PE,null,re.createElement("div",{className:ECe},re.createElement(TW,{className:Ree,data:e,renderTitle:({children:r,name:s,value:o},a,u)=>u?re.createElement("span",{className:DCe},n(o.status),re.createElement("span",null,o.message),re.createElement("span",{className:Qle},o.code),re.createElement("span",{className:Qle},"[",o.startLineNumber,","," ",o.startColumn,"]")):re.createElement("span",{className:LCe},o.code,re.createElement("span",{className:rft},r==null?void 0:r.length)),onSelect:t,onRightClick:r=>r.preventDefault()})))}const oft=ge.memo(sft);var aft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},lft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let LY=class extends Da{constructor(){super(),this.onClick=(e,t)=>{this.showHideProblems()},this.onSelect=e=>{this.emit(MR.onSelect,e)},this.panelService=qe.resolve(Ny),this.statusBarService=qe.resolve(rp),this.monacoService=qe.resolve(tp),this.layoutService=qe.resolve(dc),this.problemsService=qe.resolve(PR),this.builtinService=qe.resolve(oo)}showHideProblems(){const{panel:e}=this.layoutService.getState(),{current:t}=this.panelService.getState(),{builtInPanelProblems:n}=this.builtinService.getModules();n&&((e.hidden||(t==null?void 0:t.id)===n.id)&&this.monacoService.commandService.executeCommand(wf.ID),this.panelService.open(n))}initView(){const{builtInStatusProblems:e,builtInPanelProblems:t}=this.builtinService.getModules();if(e&&(e.render=s=>re.createElement(ift,Object.assign({},s)),e.onClick=this.onClick,this.statusBarService.add(e,mm.left)),t){const s=Ll(this.problemsService,oft),o=t;o.renderPane=()=>re.createElement(s,{onSelect:this.onSelect}),this.panelService.add(o),this.panelService.setActive(o.id)}const{PROBLEM_MODEL_ID:n,PROBLEM_MODEL_NAME:r}=this.builtinService.getConstants();this.problemsService.setState({id:n,name:r})}};LY=aft([er(),lft("design:paramtypes",[])],LY);function TCe({locale:i}){const e=ge.useRef(null),t=()=>{window.location.reload()};return ge.useEffect(()=>{var n;(n=e.current)===null||n===void 0||n.focus()},[]),re.createElement("div",{style:{lineHeight:"1.5"}},re.createElement("div",{style:{direction:"ltr",width:440,whiteSpace:"normal",textAlign:"left"}},re.createElement("p",{style:{fontWeight:"bold"}},pt("notification.locale.title","")),re.createElement("p",null,pt("notification.locale.description",""))),re.createElement("div",{style:{marginBottom:2}},re.createElement(VC,{ref:e,style:{width:150,margin:"0 0 0 auto"},onClick:t},pt("notification.locale.button",""))))}re.memo(TCe);var uft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},cft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let DY=class extends Da{constructor(){super(),this.onChangeSettings=Nr.debounce(e=>{this.settingsService.update(e),this.emit(OR.OnChange,e)},600),this.editorService=qe.resolve(Jl),this.settingsService=qe.resolve(Ay),this.localeService=qe.resolve(Vf),this.notificationService=qe.resolve(tE),this.builtinService=qe.resolve(oo)}initView(){const{SETTING_ID:e}=this.builtinService.getConstants();this.editorService.onUpdateTab(t=>{var n;if(t.id===e){const r=this.settingsService.normalizeFlatObject(((n=t.data)===null||n===void 0?void 0:n.value)||"");this.onChangeSettings(r)}}),this.localeService.onChange((t,n)=>{this.notifyLocaleChanged(t,n)})}notifyLocaleChanged(e,t){const{SETTING_ID:n}=this.builtinService.getConstants(),r={id:n,value:t,render(s){return re.createElement(TCe,{key:t.id,locale:t.name})}};this.notificationService.getState().showNotifications||this.notificationService.toggleNotification(),this.notificationService.add([r])}};DY=uft([er(),cft("design:paramtypes",[])],DY);var dft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},hft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let g9=class extends Da{constructor(){super(),this.onClick=(e,t)=>{this.emit(AR.onClick,e,t)},this.onContextMenuClick=(e,t)=>{const n=t==null?void 0:t.id,{STATUS_BAR_HIDE_ID:r}=this.builtinService.getConstants();switch(n){case r:this.menuBarController.updateStatusBar();break}},this.menuBarController=qe.resolve(nE),this.statusBarService=qe.resolve(rp),this.builtinService=qe.resolve(oo)}initView(){const{STATUS_EDITOR_INFO:e,CONTEXT_MENU_HIDE_STATUS_BAR:t}=this.builtinService.getModules(),n=Nr.cloneDeep(this.statusBarService.getState().rightItems),r=Nr.cloneDeep(this.statusBarService.getState().contextMenu||[]);e&&n.push(Object.assign(Object.assign({},e),{render:s=>re.createElement(mCe,Object.assign({},s))})),t&&r.push(t),this.statusBarService.setState({rightItems:n,contextMenu:r})}};g9=dft([er(),hft("design:paramtypes",[])],g9);var fft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},gft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let p9=class extends Da{constructor(){super(),this.onPaneSizeChange=e=>{this.layoutService.setPaneSize(e)},this.onHorizontalPaneSizeChange=e=>{this.layoutService.setHorizontalPaneSize(e)},this.onWorkbenchDidMount=()=>{this.layoutService.emit(o9.OnWorkbenchDidMount)},this.layoutService=qe.resolve(dc)}initView(){}};p9=fft([er(),gft("design:paramtypes",[])],p9);const pft=zn(D3),mft=zn(elt,pft),m9=zn(tlt),_ft=Cn(m9,"input"),vft=Cn(m9,"editable"),N3=zn(nlt),_V=mt(N3,"item"),bft=mt(N3,"group"),Cft=mt(_V,"fileName"),yft=mt(_V,"filePath"),Jle=Cn(_V,"active"),wft=mt(N3,"close"),Sft=mt(N3,"file"),xft=i=>{const{activePanelKeys:e,data:t=[],headerToolBar:n,onClick:r,onActionsContextMenuClick:s,onCollapseChange:o,onToolbarClick:a}=i;return re.createElement("div",{className:mft},re.createElement(_Ce,{title:pt("sidebar.explore.title","Explorer"),toolbar:re.createElement(WP,{data:[n],onClick:r,onContextMenuClick:s})}),re.createElement(vCe,null,re.createElement(qhe,{data:t,activePanelKeys:e,onCollapseChange:o,onToolbarClick:a})))};var Eft=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Lft=i=>{const e=[...i];let t=!1;for(;e.length;){const n=e.pop();if(n!=null&&n.isEditable){t=!0;break}else e.push(...(n==null?void 0:n.children)||[])}return t},Dft=re.forwardRef((i,e)=>{const t=ge.useRef(null);return ge.useLayoutEffect(()=>{if(t.current){const n=(i.defaultValue||"").lastIndexOf(".");t.current.selectionStart=0,t.current.selectionEnd=n>0?n:(i.defaultValue||"").length}},[]),re.createElement("input",Object.assign({},i,{ref:t}))}),Tft=i=>{var e;const{folderTree:t={},entry:n,panel:r,onUpdateFileName:s,onSelectFile:o,onDropTree:a,onClickContextMenu:u,onRightClick:c,onLoadData:h,createTreeNode:f,onExpandKeys:p}=i,m=Eft(i,["folderTree","entry","panel","onUpdateFileName","onSelectFile","onDropTree","onClickContextMenu","onRightClick","onLoadData","createTreeNode","onExpandKeys"]),{data:v=[],folderPanelContextMenu:b=[],expandKeys:S,loadedKeys:x,current:w}=t,E=ge.useRef(null),N=ge.useRef(),A=RP(),H=Lft(v),R=(z,k)=>{var q;u==null||u(k),(q=N.current)===null||q===void 0||q.hide()},M=()=>z9({anchor:DS(`.${m9}`),render:()=>re.createElement(Cl,{role:"menu",onClick:R,data:b})}),G=(z,k)=>{u==null||u(z,k),A==null||A.hide()},X=(z,k)=>{if(z.target.nodeName!=="INPUT"){z.preventDefault();const q=(c==null?void 0:c(k))||[];q.length&&(A==null||A.show(tF(z),()=>re.createElement(Cl,{role:"menu",onClick:(fe,ne)=>G(ne,k),data:q})))}},$=(z,k)=>{const q=z.value;s==null||s(Object.assign(Object.assign({},k),{name:q}))},I=(z,k)=>{$(z.target,k)},O=(z,k)=>{(z.keyCode===13||z.keyCode===27)&&$(z.target,k)},B=z=>{const{isEditable:k,name:q}=z;return k?re.createElement(Dft,{role:"input",className:_ft,type:"text",defaultValue:q,ref:E,onKeyDown:fe=>O(fe,z),autoComplete:"off",autoFocus:!0,onBlur:fe=>I(fe,z),onClick:fe=>fe.stopPropagation()}):q},W=()=>{o==null||o()},j=(z,k)=>{a==null||a(z,k)},U=()=>{f==null||f("RootFolder")};ge.useEffect(()=>(b.length>0&&(N.current=M()),()=>{var z;(z=N.current)===null||z===void 0||z.dispose()}),[v.length]);const K=re.createElement("div",{"data-content":r.id},n?re.createElement(re.Fragment,null,n):re.createElement("div",{style:{padding:"10px 5px"}},"you have not yet opened a folder",re.createElement(VC,{onClick:U},"Add Folder")));return v.length?re.createElement(PE,{isShowShadow:!0},re.createElement("div",{"data-content":r.id,style:{height:"100%"}},re.createElement(TW,Object.assign({activeKey:w==null?void 0:w.id,expandKeys:S,loadedKeys:x,data:((e=v[0])===null||e===void 0?void 0:e.children)||[],className:bn(m9,H&&vft),draggable:!H,onDropTree:j,onSelect:o,onTreeClick:W,onRightClick:X,renderTitle:B,onLoadData:h,onExpand:p},m)))):K},Ift=ge.memo(Tft);var kft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Nft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let iE=class extends Da{constructor(){super(),this.getContextMenu=e=>{var t;const n=Of(((t=this.folderTreeService.getState().folderTree)===null||t===void 0?void 0:t.contextMenu)||[]),r=this.folderTreeService.getFileContextMenu(),s=this.folderTreeService.getFolderContextMenu(),{ROOT_FOLDER_CONTEXT_MENU:o}=this.builtinService.getModules();switch(e.fileType){case ba.File:{n.unshift(...r);break}case ba.Folder:{n.unshift(...s);break}case ba.RootFolder:return s.concat(o||[])}return n},this.createTreeNode=(e,t)=>{var n;if(typeof t>"u"){const r=this.folderTreeService.getState(),{data:s,current:o}=(r==null?void 0:r.folderTree)||{},a=typeof(o==null?void 0:o.id)>"u"?(n=s==null?void 0:s[0])===null||n===void 0?void 0:n.id:o==null?void 0:o.id;this.emit(Ms.onCreate,e,a)}else this.emit(Ms.onCreate,e,t)},this.onClickContextMenu=(e,t)=>{const n=e.id,{RENAME_COMMAND_ID:r,DELETE_COMMAND_ID:s,NEW_FILE_COMMAND_ID:o,NEW_FOLDER_COMMAND_ID:a,OPEN_TO_SIDE_COMMAND_ID:u}=this.builtinService.getConstants();switch(n){case r:{const{id:c}=t;this.onRename(c);break}case s:{const{id:c}=t;this.onDelete(c);break}case o:{const{id:c}=t;this.createTreeNode(ba.File,c);break}case a:{const{id:c}=t;this.createTreeNode(ba.Folder,c);break}case u:{this.onSelectFile(t);break}default:this.onContextMenuClick(e,t)}},this.onRightClick=e=>{const t=this.getContextMenu(e);return this.emit(Ms.onRightClick,e,t),t},this.onDropTree=(e,t)=>{this.emit(Ms.onDrop,e,t)},this.onUpdateFileName=e=>{this.emit(Ms.onUpdateFileName,e)},this.onSelectFile=e=>{this.folderTreeService.setActive(e==null?void 0:e.id),e&&!e.isEditable&&e.fileType===ba.File&&this.emit(Ms.onSelectFile,e)},this.onContextMenuClick=(e,t)=>{this.emit(Ms.onContextMenuClick,e,t)},this.onRename=e=>{this.emit(Ms.onRename,e)},this.onDelete=e=>{this.emit(Ms.onDelete,e)},this.onLoadData=e=>this.count(Ms.onLoadData)?(this.folderTreeService.setLoadedKeys([...this.folderTreeService.getLoadedKeys(),e.id.toString()]),new Promise((n,r)=>{const s=o=>{this.folderTreeService.update(o),n()};this.emit(Ms.onLoadData,e,s)})):Promise.resolve(),this.onExpandKeys=e=>{this.emit(Ms.onExpandKeys,e)},this.folderTreeService=qe.resolve(eE),this.builtinService=qe.resolve(oo)}initView(){const{FILE_CONTEXT_MENU:e,BASE_CONTEXT_MENU:t,COMMON_CONTEXT_MENU:n,FOLDER_PANEL_CONTEXT_MENU:r}=this.builtinService.getModules();e&&this.folderTreeService.setFileContextMenu(e),t&&this.folderTreeService.setFolderContextMenu(t),this.folderTreeService.setState({folderTree:{contextMenu:n||[],current:null,folderPanelContextMenu:r||[],data:[],expandKeys:[]}})}};iE=kft([er(),Nft("design:paramtypes",[])],iE);const Aft=i=>{var e;const{current:t,groups:n,groupToolbar:r,contextMenu:s=[],headerContextMenu:o,panel:a,onSelect:u,onSaveGroup:c,onContextMenu:h,onCloseGroup:f,onClose:p,onToolbarClick:m}=i,v=ge.useRef(null),b=ge.useRef(null);if(ge.useLayoutEffect(()=>{var M,G,X;if((((M=b.current)===null||M===void 0?void 0:M.scrollHeight)||0)>A6-kp){const I=(G=v.current)===null||G===void 0?void 0:G.querySelector(`.${Jle}`);if(I){const O=I.offsetTop;(X=b.current)===null||X===void 0||X.scrollTo(O)}}},[(t==null?void 0:t.id)&&((e=t.tab)===null||e===void 0?void 0:e.id)]),!n||!n.length)return null;const S=yE(),x=(M,G)=>{p==null||p(G.id,M.id)},w=(M,G)=>{var X;(M.id!==(t==null?void 0:t.id)||G.id!==((X=t==null?void 0:t.tab)===null||X===void 0?void 0:X.id))&&(u==null||u(G.id,M.id))},E=(M,G,X)=>{S.hide(),h==null||h(M,G.id,X)},N=(M,G,X)=>{M.preventDefault(),S.show(tF(M),()=>re.createElement(Cl,{role:"menu",onClick:($,I)=>E(I,G,X),data:s}))},A=(M,G)=>{M.preventDefault();const X=o||s;S.show(tF(M),()=>re.createElement(Cl,{role:"menu",onClick:($,I)=>E(I,G),data:X}))},H=(M,G)=>{var X;const{target:$}=M,I=(X=G.data)===null||X===void 0?void 0:X[0];$.nextElementSibling&&I&&(u==null||u(I.id,G.id),$.nextElementSibling.focus())},R=(M,G,X)=>{switch(M.stopPropagation(),G.id){case Ge.EXPLORER_TOGGLE_CLOSE_GROUP_EDITORS:f==null||f(X.id);break;case Ge.EXPLORER_TOGGLE_SAVE_GROUP:c==null||c(X.id);break;default:m==null||m(G,X.id);break}};return re.createElement(PE,{ref:b,isShowShadow:!0},re.createElement("div",{className:N3,ref:v,"data-content":a.id},n.map((M,G)=>{var X;return re.createElement(re.Fragment,{key:G},n.length!==1&&re.createElement("div",{className:bft,onClick:$=>H($,M),onContextMenu:$=>A($,M),key:G},pt("sidebar.explore.openEditor.group","Group",(G+1).toString()),r&&re.createElement(WP,{data:r,onClick:($,I)=>R($,I,M)})),(X=M.data)===null||X===void 0?void 0:X.map($=>{var I,O,B,W,j;const U=M.id===(t==null?void 0:t.id)&&$.id===((I=t==null?void 0:t.tab)===null||I===void 0?void 0:I.id);return re.createElement("div",{title:((O=$.data)===null||O===void 0?void 0:O.path)&&`${(B=$.data)===null||B===void 0?void 0:B.path}/${$.name}`,className:bn(_V,U&&Jle),tabIndex:0,key:`${G}_${$.id}`,onClick:()=>w(M,$),onContextMenu:K=>N(K,M,$)},re.createElement(br,{className:wft,onClick:()=>x(M,$),type:"close"}),re.createElement(br,{className:Sft,type:((W=$.data)===null||W===void 0?void 0:W.icon)||$.icon}),re.createElement("span",{className:Cft},$.name),re.createElement("span",{className:yft},(j=$.data)===null||j===void 0?void 0:j.path))}))})))},Oft=qe.resolve(eE),Mft=qe.resolve(iE),Rft=Ll(Oft,Ift,Mft);var Pft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Fft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let TY=class extends Da{constructor(){super(),this.onClick=(e,t)=>{this.emit(_d.onClick,e,t)},this.onActionsContextMenuClick=(e,t)=>{const n=t==null?void 0:t.id;n&&this.explorerService.togglePanel(n)},this.onCollapseChange=e=>{this.emit(_d.onCollapseChange,e)},this.onToolbarClick=(e,t)=>{var n,r,s,o;const a=e.id,{NEW_FILE_COMMAND_ID:u,NEW_FOLDER_COMMAND_ID:c,REMOVE_COMMAND_ID:h,COLLAPSE_COMMAND_ID:f,EXPLORER_TOGGLE_CLOSE_ALL_EDITORS:p,EXPLORER_TOGGLE_SAVE_ALL:m,EXPLORER_TOGGLE_VERTICAL:v}=this.builtinService.getConstants();switch(a){case u:{(r=(n=this.folderTreeController).createTreeNode)===null||r===void 0||r.call(n,ba.File);break}case c:{(o=(s=this.folderTreeController).createTreeNode)===null||o===void 0||o.call(s,ba.Folder);break}case h:{this.emit(_d.onRemovePanel,t);break}case f:{this.emit(_d.onCollapseAllFolders);break}case p:{this.emit(Ws.onCloseAll);break}case m:{this.emit(Ws.onSaveAll);break}case v:{this.emit(Ws.onSplitEditorLayout);break}default:this.emit(_d.onPanelToolbarClick,t,a)}},this.renderFolderTree=e=>re.createElement(Rft,{panel:e}),this.activityBarService=qe.resolve(ip),this.sidebarService=qe.resolve(np),this.explorerService=qe.resolve(Am),this.folderTreeController=qe.resolve(iE),this.builtinService=qe.resolve(oo)}initView(){const e={onClick:this.onClick,onCollapseChange:this.onCollapseChange,onActionsContextMenuClick:this.onActionsContextMenuClick,onToolbarClick:this.onToolbarClick},t=Ll(this.explorerService,xft),n=this.builtinService.getConstants().EXPLORER_ACTIVITY_ITEM;if(!n)return;const r={id:n,title:"EXPLORER",render(){return re.createElement(t,Object.assign({},e))}},{builtInExplorerActivityItem:s,builtInExplorerFolderPanel:o,builtInExplorerHeaderToolbar:a}=this.builtinService.getModules();a&&this.explorerService.setState({headerToolBar:a}),s&&o&&(this.activityBarService.add(s,!0),this.sidebarService.add(r,!0),this.explorerService.addPanel(Object.assign(Object.assign({},o),{renderPanel:this.renderFolderTree})))}};TY=Pft([er(),Fft("design:paramtypes",[])],TY);var Bft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Wft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Vft=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};let IY=class extends Da{constructor(){super(),this.onContextMenu=(e,t,n)=>{const{EDITOR_MENU_CLOSE:r,EDITOR_MENU_CLOSE_OTHERS:s,EDITOR_MENU_CLOSE_SAVED:o,EDITOR_MENU_CLOSE_ALL:a}=this.builtinService.getConstants();switch(e.id){case r:this.onClose(n==null?void 0:n.id,t);break;case s:this.emit(Ws.onCloseOthers,n,t);break;case o:this.emit(Ws.onCloseSaved,t);break;case a:this.emit(Ws.onCloseAll,t);break;default:this.emit(Ws.onContextMenu,e,n,t);break}},this.onClose=(e,t)=>{this.emit(Ws.onClose,e,t)},this.onSelect=(e,t)=>{this.emit(Ws.onSelect,e,t)},this.onCloseGroup=e=>{this.emit(Ws.onCloseAll,e)},this.onSaveGroup=e=>{this.emit(Ws.onSaveAll,e)},this.onToolbarClick=(e,t)=>{this.emit(Ws.onToolbarClick,e,t)},this.editService=qe.resolve(Jl),this.explorerService=qe.resolve(Am),this.builtinService=qe.resolve(oo)}initView(){const e=Ll(this.editService,Aft),{builtInExplorerEditorPanel:t,builtInEditorTreeContextMenu:n,builtInEditorTreeHeaderContextMenu:r}=this.builtinService.getModules();if(t){const{groupToolbar:s}=t,o=Vft(t,["groupToolbar"]),a=n||[],u=r||[];this.explorerService.addPanel(Object.assign(Object.assign({},o),{renderPanel:c=>re.createElement(e,{panel:c,contextMenu:a,headerContextMenu:u,groupToolbar:s,onClose:this.onClose,onSelect:this.onSelect,onCloseGroup:this.onCloseGroup,onSaveGroup:this.onSaveGroup,onContextMenu:this.onContextMenu,onToolbarClick:this.onToolbarClick})}))}}};IY=Bft([er(),Wft("design:paramtypes",[])],IY);var Hft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},$ft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let kY=class extends Da{constructor(){super(),this.onClick=e=>{},this.explorerService=qe.resolve(Am),this.builtinService=qe.resolve(oo)}initView(){const{builtInExplorerOutlinePanel:e}=this.builtinService.getModules();e&&this.explorerService.addPanel(e)}};kY=Hft([er(),$ft("design:paramtypes",[])],kY);const zft=Cn(mt(zn("search"),"treeNode"),"empty"),Uft=Cn(mt(zn("search"),"treeNode"),"match"),jft=Cn(mt(zn("search"),"treeNode"),"delete"),Kft=Cn(mt(zn("search"),"treeNode"),"replace"),qft=mt(zn("search"),"tree"),Gft=i=>{const{data:e=[],onSelect:t,renderTitle:n}=i;return re.createElement(TW,{draggable:!1,className:qft,data:e,renderTitle:n,onSelect:t,onRightClick:r=>r.preventDefault()})},Yft=ge.memo(Gft),Zft=({value:i="",replaceValue:e,searchAddons:t,replaceAddons:n,validationInfo:r,headerToolBar:s,result:o,toggleAddon:a,onResultClick:u,validateValue:c,setValidateInfo:h,onSearch:f,getSearchIndex:p,setSearchValue:m,setReplaceValue:v,onChange:b,toggleMode:S})=>{const x=(R,M)=>{console.log("onClick:",R,M)},w=(R=[])=>{const[M,G]=R;m==null||m(M),v==null||v(G),b==null||b(M||"",G||"")},E=R=>{S==null||S(R)},N=(R,M,G)=>{const{name:X=""}=R;if(!G)return X;const $=p?p(X,i):-1,I=X.substr(0,$),O=X.substr($,i.length),B=X.substr($+i.length);return $>-1?re.createElement("span",null,I,re.createElement("span",{className:bn(Uft,e&&jft)},O),e&&re.createElement("span",{className:Kft},e),B):X},A=(R=[])=>{const[M,G]=R;c==null||c(M||"",X=>{X?h==null||h({type:"error",text:X.message}):f==null||f(M||"",G||"")})},H=R=>{R.isLeaf&&(u==null||u(R,o))};return re.createElement("div",{className:zn("search-pane","sidebar")},re.createElement(_Ce,{title:pt("sidebar.search.title","Search"),toolbar:re.createElement(WP,{data:s||[],onClick:x})}),re.createElement(vCe,null,re.createElement($_e,{values:[i,e],addons:[t,n],validationInfo:r,onChange:w,onSearch:A,onAddonClick:a,onButtonClick:E}),i&&o.length===0?re.createElement("div",{className:zft},""):re.createElement(Yft,{data:o,renderTitle:N,onSelect:H})))};var Xft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Qft=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let NY=class extends Da{constructor(){super(),this.validateValue=(e,t)=>{const{isRegex:n}=this.searchService.getState();if(n)try{return new RegExp(e),t()}catch(r){if(r instanceof Error)return t(r)}return t()},this.getSearchIndex=(e,t="")=>{let n=-1;const{isCaseSensitive:r,isWholeWords:s,isRegex:o}=this.searchService.getState(),a=r,u=s,c=r&&s,h=!r&&!s;try{if(o)a&&(n=e.search(new RegExp(t))),u&&(n=e.search(new RegExp("\\b"+t+"\\b","i"))),c&&(n=e.search(new RegExp("\\b"+t+"\\b"))),h&&(n=e.toLowerCase().search(new RegExp(t,"i")));else{if(a&&(n=e.indexOf(t)),u){const f=new RegExp("\\b"+(t==null?void 0:t.toLowerCase())+"\\b");n=e.toLowerCase().search(f)}c&&(n=e.search(new RegExp("\\b"+t+"\\b"))),h&&(n=e.toLowerCase().indexOf(t==null?void 0:t.toLowerCase()))}}catch(f){console.error(f)}return n},this.setValidateInfo=e=>{this.searchService.setValidateInfo(e)},this.setSearchValue=e=>{this.searchService.setSearchValue(e)},this.setReplaceValue=e=>{this.searchService.setReplaceValue(e)},this.toggleAddon=e=>{const t=e==null?void 0:e.id,{SEARCH_CASE_SENSITIVE_COMMAND_ID:n,SEARCH_WHOLE_WORD_COMMAND_ID:r,SEARCH_REGULAR_EXPRESSION_COMMAND_ID:s,SEARCH_PRESERVE_CASE_COMMAND_ID:o,SEARCH_REPLACE_ALL_COMMAND_ID:a}=this.builtinService.getConstants();switch(t){case n:{this.searchService.toggleCaseSensitive();break}case r:{this.searchService.toggleWholeWord();break}case s:{this.searchService.toggleRegex();break}case o:{this.searchService.togglePreserveCase();break}case a:{this.emit(Cf.onReplaceAll);break}default:console.log("no addon")}},this.toggleMode=e=>{this.searchService.toggleMode(e)},this.onChange=(e="",t="")=>{this.emit(Cf.onChange,e,t)},this.onSearch=(e="",t="")=>{const{isRegex:n,isCaseSensitive:r,isWholeWords:s,preserveCase:o}=this.searchService.getState();this.emit(Cf.onSearch,e,t,{isRegex:n,isCaseSensitive:r,isWholeWords:s,preserveCase:o})},this.onResultClick=(e,t)=>{this.emit(Cf.onResultClick,e,t)},this.activityBarService=qe.resolve(ip),this.sidebarService=qe.resolve(np),this.searchService=qe.resolve(RR),this.builtinService=qe.resolve(oo)}initView(){const{builtInSearchActivityItem:e,builtInHeaderToolbar:t,builtInSearchAddons:n,builtInReplaceAddons:r}=this.builtinService.getModules();if(e){const s=Ll(this.searchService,Zft,this),o={id:e.id,title:"SEARCH",render(){return re.createElement(s,null)}};this.searchService.setState({headerToolBar:t||[],searchAddons:n||[],replaceAddons:r||[]}),this.sidebarService.add(o),this.activityBarService.add(e)}}};NY=Xft([er(),Qft("design:paramtypes",[])],NY);class yC extends Md{constructor(){super({id:yC.ID,label:yC.LABEL,title:yC.LABEL,alias:"Open Settings (JSON)",precondition:void 0,f1:!0,keybinding:{when:void 0,weight:$c.WorkbenchContrib,primary:cs(xl.CtrlCmd|dn.Comma)}}),this.settingsService=qe.resolve(Ay)}run(e){this.settingsService.openSettingsInEditor()}}yC.ID=Ge.ACTION_QUICK_ACCESS_SETTINGS;yC.LABEL=C("quickAccessSettings.label","Open Settings (JSON)");class wC extends Md{constructor(){super({id:wC.ID,label:wC.LABEL,title:wC.LABEL,alias:"Select Display Language",precondition:void 0,f1:!0,keybinding:{when:void 0,primary:xl.CtrlCmd|xl.Shift|dn.KeyL}})}get localeService(){return qe.resolve(Vf)}run(e){const t=e.get(qc),n=this.localeService.getLocales(),r=this.localeService.getCurrentLocale(),s=n.map(u=>({id:u.id,label:u.name,description:u.description}));let o;const a=(u,c)=>{o&&clearTimeout(o),o=window.setTimeout(()=>{o=void 0,u&&u.id&&this.localeService.setCurrentLocale(u.id)},c?0:200)};return new Promise(u=>{let c=!1;const h=s.findIndex(p=>p.id===(r==null?void 0:r.id)),f=t.createQuickPick();f.items=s,f.placeholder=pt("locale.select","Select Display Language (Up/Down Keys to Preview)"),f.activeItems=[s[h]],f.canSelectMany=!1,f.onDidAccept(p=>{const m=f.activeItems[0];m&&a(m,!0),c=!0,f.hide(),u()}),f.onDidHide(()=>{c||(a(r,!0),u())}),f.show()})}}wC.ID=Ge.ACTION_SELECT_LOCALE;wC.LABEL=pt("select.locale","Select Display Language");class Lg extends Md{constructor(){super({id:Lg.ID,alias:Lg.DESC,title:{value:Lg.LABEL,original:Lg.DESC},f1:!0,label:Lg.LABEL,keybinding:{weight:$c.BuiltinExtension,when:void 0,primary:xl.CtrlCmd|dn.KeyA}}),this.editorService=qe.resolve(Jl)}selectEditorAll(){const e=this.editorService.editorInstance;e&&(e.focus(),e.setSelection(e.getModel().getFullModelRange()))}isTextdom(e){return typeof e.selectionStart=="number"}run(e,...t){const r=t[0]||document.activeElement;r&&this.isTextdom(r)&&!r.className.includes("monaco")?r.select():this.selectEditorAll()}}Lg.ID=Ge.ACTION_QUICK_SELECT_ALL;Lg.DESC="Select All";Lg.LABEL=pt("menu.selectAll","Select All");class Dg extends Md{constructor(){super({id:Dg.ID,title:{value:Dg.LABEL,original:Dg.DESC},label:Dg.LABEL,alias:Dg.DESC,f1:!0,keybinding:{when:void 0,weight:$c.WorkbenchContrib,primary:xl.Alt|xl.Shift|dn.PageUp}}),this.editorService=qe.resolve(Jl)}run(){var e;(e=this.editorService.editorInstance)===null||e===void 0||e.getAction(Ge.ACTION_QUICK_COPY_LINE_UP).run()}}Dg.ID=Ge.ACTION_QUICK_COPY_LINE_UP;Dg.LABEL=pt("menu.copyLineUp","Copy Line Up");Dg.DESC="Copy Line Up";class Tg extends Md{constructor(){super({id:Tg.ID,title:{value:Tg.LABEL,original:Tg.DESC},label:Tg.LABEL,alias:Tg.DESC,f1:!0,keybinding:{when:void 0,weight:$c.WorkbenchContrib,primary:xl.CtrlCmd|dn.KeyZ}}),this.editorService=qe.resolve(Jl)}isTextdom(e){return typeof e.selectionStart=="number"}run(e,...t){const r=t[0]||document.activeElement;if(r&&this.isTextdom(r)&&!r.className.includes("monaco"))document.execCommand("undo");else{const s=this.editorService.editorInstance;if(s){const o=this.editorService.getState().current;if(o){const a=this.editorService.getTabById(o.activeTab,o.id);s==null||s.focus(),Za.getModel(l1.parse(a.id.toString())).undo()}}}}}Tg.ID=Ge.ACTION_QUICK_UNDO;Tg.LABEL=pt("menu.undo","Undo");Tg.DESC="Undo";class Ig extends Md{constructor(){super({id:Ig.ID,title:{value:Ig.LABEL,original:Ig.DESC},label:Ig.LABEL,alias:Ig.DESC,f1:!0,keybinding:{when:void 0,weight:$c.WorkbenchContrib,primary:xl.CtrlCmd|xl.Shift|dn.KeyZ}}),this.editorService=qe.resolve(Jl)}isTextdom(e){return typeof e.selectionStart=="number"}run(e,...t){const r=t[0]||document.activeElement;if(r&&this.isTextdom(r)&&!r.className.includes("monaco"))document.execCommand("redo");else{const s=this.editorService.editorInstance;if(s){const o=this.editorService.getState().current;if(o){const a=this.editorService.getTabById(o.activeTab,o.id);s==null||s.focus(),Za.getModel(l1.parse(a.id.toString())).redo()}}}}}Ig.ID=Ge.ACTION_QUICK_REDO;Ig.LABEL=pt("menu.redo","Redo");Ig.DESC="Redo";class kg extends Md{constructor(){super({id:kg.ID,title:{value:kg.LABEL,original:kg.DESC},label:kg.LABEL,alias:kg.DESC,f1:!0,keybinding:{when:void 0,weight:$c.WorkbenchContrib,primary:xl.CtrlCmd|dn.KeyN}}),this.folderTreeController=qe.resolve(iE)}run(){var e,t;(t=(e=this.folderTreeController).createTreeNode)===null||t===void 0||t.call(e,ba.File)}}kg.ID=Ge.ACTION_QUICK_CREATE_FILE;kg.LABEL=pt("menu.newFile","New File");kg.DESC="New File";var Jft=globalThis&&globalThis.__decorate||function(i,e,t,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(i,e,t,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},egt=globalThis&&globalThis.__metadata||function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let AY=class extends Da{constructor(){super(),this.extensionService=qe.resolve(FR),this.builtinService=qe.resolve(oo)}initView(){const{quickAcessViewAction:e,quickSelectColorThemeAction:t,quickAccessSettingsAction:n,quickSelectLocaleAction:r,quickTogglePanelAction:s,quickSelectAllAction:o,quickCopyLineUpAction:a,quickUndoAction:u,quickRedoAction:c,quickCreateFileAction:h}=this.builtinService.getModules();[[e,I3],[t,d1],[n,yC],[r,wC],[D3,yf],[s,wf],[o,Lg],[a,Dg],[u,Tg],[c,Ig],[h,kg]].forEach(([f,p])=>{f&&this.extensionService.registerAction(p)})}};AY=Jft([er(),egt("design:paramtypes",[])],AY);const lw=zn(oCe),tgt=mt(lw,"container"),ngt=mt(lw,"normal"),igt=mt(lw,"global"),vV=mt(lw,"item"),rgt=Cn(vV,"checked"),sgt=Cn(vV,"disabled"),ogt=mt(lw,"label"),agt=mt(lw,"indicator");function ICe(i){const{checked:e=!1,disabled:t=!1,title:n="",data:r={},render:s,icon:o,id:a,onClick:u,contextMenu:c=[],className:h,onContextMenuClick:f}=i,m=RP({render:()=>re.createElement(Cl,{onClick:v,role:"menu",data:c.map(x=>{if(x.id){const w=pf.queryGlobalKeybinding(x.id.toString());w&&(x.keybinding=pf.convertSimpleKeybindingToString(w))}return x})})}),v=(x,w)=>{f==null||f(x,w),m==null||m.hide()},b=function(x){u&&u(i.id,i),c.length>0&&(m==null||m.show({x:x.pageX,y:x.pageY}))},S=re.createElement(br,{type:o,className:ogt,title:n},(s==null?void 0:s())||null);return re.createElement("li",{id:a.toString(),onClick:b,className:bn(h,vV,e?rgt:"",t?sgt:""),"data-id":r.id},S,e?re.createElement("div",{className:agt}):null)}function kCe(i){const{data:e=[],contextMenu:t=[],selected:n,onClick:r,onChange:s,onContextMenuClick:o}=i,a=(b,S)=>{r&&r(b,S),s&&S.type!=="global"&&s(n,b)},u=e.filter(b=>b.type!=="global"&&!b.hidden),c=e.filter(b=>b.type==="global"&&!b.hidden),h=(b,S)=>re.createElement(ICe,Object.assign({key:b.id},b,{onContextMenuClick:o,onClick:a,"data-index":S,checked:n===b.id})),p=RP({render:()=>re.createElement(Cl,{role:"menu",onClick:m,data:t})}),m=ge.useCallback((b,S)=>{o==null||o(b,S),p==null||p.hide()},[t]),v=b=>{if(b.preventDefault(),b.stopPropagation(),!p)return;const x=document.elementsFromPoint(b.pageX,b.pageY).find(w=>w.classList.contains(vV));if(x){const w=x.getBoundingClientRect(),E=t.concat(),N=t.find(A=>A.id===(x==null?void 0:x.id));N&&E.unshift({id:x.id,icon:"check",name:N.name},{type:"divider"}),p.show({x:w.x+w.width/2,y:w.y+w.height},()=>re.createElement(Cl,{role:"menu",onClick:m,data:E}))}else p.show({x:b.pageX,y:b.pageY})};return re.createElement("div",{className:lw,onContextMenu:v,id:oCe},re.createElement("div",{className:tgt},re.createElement(PE,{className:ngt},re.createElement("ul",null,u.map(h))),re.createElement("ul",{className:igt},c.map(h))))}const lgt=qe.resolve(ip),ugt=qe.resolve(d9),cgt=Ll(lgt,kCe,ugt),bV=zn("statusBar"),dgt=mt(bV,"left-items"),hgt=mt(bV,"right-items"),fgt=mt(bV,"item");function ggt(i,e){return i.sortIndex!==void 0&&e.sortIndex!==void 0?i.sortIndex-e.sortIndex:0}var pgt=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function NCe(i){const{className:e,onClick:t,id:n,name:r,data:s,render:o,style:a,role:u,title:c}=i,h=pgt(i,["className","onClick","id","name","data","render","style","role","title"]),f=bn(fgt,e),p={onClick:function(v){t==null||t(v,i)}},m=WC(h);return re.createElement("div",Object.assign({className:f,style:a,role:u,title:c,id:n.toString()},m),re.createElement("a",Object.assign({tabIndex:-1,title:r},p),o?o(i):r))}function ACe(i){const{leftItems:e=[],contextMenu:t=[],onContextMenuClick:n,onClick:r,rightItems:s=[]}=i;let o;const a=ge.useCallback((h,f)=>{n==null||n(h,f),o==null||o.dispose()},[t]),u=()=>re.createElement(Cl,{role:"menu",onClick:a,data:t});ge.useEffect(()=>(t.length>0&&(o=z9({anchor:DS(`#${Ale}`),render:u})),function(){o==null||o.dispose()}));const c=h=>h.sort(ggt).map(f=>re.createElement(NCe,Object.assign({key:f.id},f,{onClick:OZ(f.onClick,r)})));return re.createElement("div",{className:bV,id:Ale},re.createElement("div",{className:dgt},c(e)),re.createElement("div",{className:hgt},c(s)))}const mgt=qe.resolve(rp),_gt=qe.resolve(g9),vgt=Ll(mgt,ACe,_gt),CV=zn("panel"),bgt=mt(CV,"header"),Cgt=mt(CV,"toolbar"),ygt=mt(CV,"container");function OCe(i){var e;const{data:t,current:n,toolbox:r,onTabChange:s,onToolbarClick:o,onClose:a}=i;let u=r||[];n&&n.toolbox&&(u=n.toolbox.concat(u));const c=typeof(n==null?void 0:n.renderPane)=="function"?(e=n==null?void 0:n.renderPane)===null||e===void 0?void 0:e.call(n,n):n==null?void 0:n.renderPane,h=t==null?void 0:t.sort((f,p)=>f.sortIndex&&p.sortIndex?f.sortIndex-p.sortIndex:0);return re.createElement("div",{className:CV},re.createElement("div",{className:bgt},re.createElement(TJ,{activeTab:n==null?void 0:n.id,data:h,onSelectTab:s,onCloseTab:a}),re.createElement(BP,{className:Cgt,data:u,onClick:o})),re.createElement("div",{className:ygt,tabIndex:0},c))}const wgt=qe.resolve(Ny),Sgt=qe.resolve(f9),xgt=Ll(wgt,OCe,Sgt),MCe=zn("auxiliaryBar"),Egt=mt(MCe,"container"),RCe=mt(MCe,"tabs"),PCe=mt(RCe,"tab"),Lgt=Cn(PCe,"active");function Dgt({children:i}){return re.createElement("div",{className:Egt},i)}function Tgt({mode:i,data:e,current:t,onClick:n}){return i==="default"?null:re.createElement("ul",{className:RCe},e==null?void 0:e.map(r=>re.createElement("li",{key:r.key,className:bn(PCe,t===r.key&&Lgt),onClick:()=>n==null?void 0:n(r.key)},r.title)))}const FCe=qe.resolve(Jx),Igt=qe.resolve(h9),kgt=Ll(FCe,Dgt),Ngt=Ll(FCe,Tgt,Igt),Agt=zn("mainBench"),yV=zn("workbench"),Ogt=zn("compositeBar"),Mgt=bn(H9,Vde()),Rgt=Cn(yV,"with-horizontal-menuBar"),Pgt=Cn(yV,"with-hidden-statusBar"),Fgt=mt(yV,"display-activityBar"),Bgt=qe.resolve(p9),Wgt=qe.resolve(dc);function BCe(i){const{activityBar:e,auxiliaryBar:t,menuBar:n,panel:r,sidebar:s,statusBar:o,onPaneSizeChange:a,onWorkbenchDidMount:u,onHorizontalPaneSizeChange:c,splitPanePos:h,horizontalSplitPanePos:f}=i,p=()=>r.hidden?["100%",0]:r.panelMaximized?[0,"100%"]:f,m=()=>!s.hidden&&!t.hidden?h:s.hidden?t.hidden?[0,"100%",0]:[0,"auto",h[2]]:[h[0],"auto",0],v=()=>!s.hidden&&!t.hidden?!0:s.hidden?t.hidden?!1:[!1,!0]:[!0,!1],b=A=>{const H=[];H[0]=s.hidden?Number(h[0]):A[0],H[2]=t.hidden?Number(h[2]):A[2],H[1]=A.reduce((R,M)=>R+M,0)-H[0]-H[2],a==null||a(H)},S=!n.hidden&&n.mode===_l.vertical,x=!n.hidden&&n.mode===_l.horizontal,w=x?Rgt:null,E=o.hidden?Pgt:null,N=bn(yV,w,E);return ge.useEffect(()=>{u==null||u()},[]),re.createElement("div",{id:Iee,className:Mgt,tabIndex:0},re.createElement("div",{className:N},re.createElement(XA,{visible:x},re.createElement(Xle,{mode:_l.horizontal})),re.createElement("div",{className:Agt},re.createElement("div",{className:Ogt},re.createElement(XA,{visible:S},re.createElement(Xle,{mode:_l.vertical})),re.createElement(XA,{visible:!e.hidden,className:Fgt},re.createElement(cgt,null))),re.createElement(cM,{sizes:m(),split:"vertical",showSashes:v(),onChange:b},re.createElement(am,{minSize:170,maxSize:"80%"},re.createElement(Eht,null)),re.createElement(cM,{sizes:p(),showSashes:!r.hidden&&!r.panelMaximized,allowResize:[!0,!1],split:"horizontal",onChange:c},re.createElement(am,{minSize:"10%",maxSize:"80%"},re.createElement(pht,null)),re.createElement(xgt,null)),re.createElement(am,{minSize:100,maxSize:"80%"},re.createElement(kgt,null))),re.createElement(Ngt,null))),re.createElement(XA,{visible:!o.hidden},re.createElement(vgt,null)))}const Vgt=Ll(Wgt,BCe,Bgt),Hgt=qe.resolve(Vf),$gt=qe.resolve(dc),zgt=qe.resolve(ip),Ugt=qe.resolve(Jx),jgt=qe.resolve(Am),Kgt=qe.resolve(eE),qgt=qe.resolve(a9),Ggt=qe.resolve(RR),Ygt=qe.resolve(np),Zgt=qe.resolve(H1),Xgt=qe.resolve(Jl),Qgt=qe.resolve(rp),Jgt=qe.resolve(Ny),ept=qe.resolve(tE),tpt=qe.resolve(PR),npt=qe.resolve(Ty),ipt=qe.resolve(Ay),rpt=qe.resolve(oo),spt=qe.resolve(FR),opt=qe.resolve(tp),on=Object.freeze(Object.defineProperty({__proto__:null,ActivityBar:kCe,ActivityBarItem:ICe,get ActivityBarService(){return ip},get AuxiliaryBarService(){return Jx},BuiltInColorTheme:iO,get BuiltinService(){return oo},get ColorThemeService(){return Ty},DEFAULT_THEME_CLASS_NAME:w8,Editor:Mee,EditorGroup:pCe,get EditorService(){return Jl},get EditorTreeService(){return a9},get ExplorerService(){return Am},get ExtensionService(){return FR},get FolderTreeService(){return eE},get LayoutService(){return dc},get LocaleService(){return Vf},MenuBar:wCe,get MenuBarService(){return H1},get NotificationService(){return tE},Panel:OCe,get PanelService(){return Ny},get ProblemsService(){return PR},get SearchService(){return RR},get SettingsService(){return Ay},Sidebar:bCe,get SidebarService(){return np},StatusBar:ACe,get StatusBarService(){return rp},StatusItem:NCe,Workbench:BCe,activityBar:zgt,auxiliaryBar:Ugt,builtin:rpt,colorTheme:npt,component:eYe,editor:Xgt,editorTree:qgt,event:gxe,explorer:jgt,extension:spt,folderTree:Kgt,i18n:Hgt,layout:$gt,localize:pt,menuBar:Zgt,model:qat,monaco:iYe,monacoService:opt,notification:ept,panel:Jgt,problems:tpt,react:pxe,search:Ggt,settings:ipt,sidebar:Ygt,statusBar:Qgt},Symbol.toStringTag,{value:"Module"})),apt={id:"ExtendsFolderTree",name:"Extends FolderTree",activate(){on.folderTree.onRename(i=>{on.folderTree.update({id:i,isEditable:!0})}),on.folderTree.onUpdateFileName(i=>{const{id:e,name:t,location:n}=i;if(t){const r=(n==null?void 0:n.split("/"))||[];r[r.length-1]=t;const s=r.join("/");on.folderTree.update(Object.assign(Object.assign({},i),{id:e,location:s,isEditable:!1}));const o=on.editor.getGroupIdByTab(e.toString());if(!!o||o===0){const u=on.editor.getTabById(e.toString(),o),c={id:e.toString(),name:t},h=u==null?void 0:u.data;h&&h.path&&(c.data=Object.assign(Object.assign({},h),{path:s})),on.editor.updateTab(c)}}else{const r=on.folderTree.get(e);r!=null&&r.name?on.folderTree.update({id:e,isEditable:!1}):on.folderTree.remove(e)}}),on.folderTree.onExpandKeys(i=>{on.folderTree.setExpandKeys(i)})},dispose(){}},lpt={id:"ExtendsActivityBar",name:"Extend The Default ActivityBar",activate(i){on.activityBar.onChange((e,t)=>{if(t!==e){on.activityBar.setActive(t),on.sidebar.setActive(t);const{sidebar:n}=on.layout.getState();n.hidden&&i.executeCommand(yf.ID,t)}else i.executeCommand(yf.ID,t)})},dispose(){}},upt={id:"ExtendsPanel",name:"Extends Panel",activate(i){on.panel.onTabClose(e=>{const{data:t=[],current:n}=on.panel.getState();if((n==null?void 0:n.id)===e){const r=t.findIndex(a=>a.id===e),s=r===t.length-1?t.length-2:r+1,o=t[s];o&&on.panel.open(o)}on.panel.remove(e)})},dispose(){}},cpt=function(i){on.explorer.removePanel(i.id)},dpt={id:"ExtendsExplorer",name:"Extends Explorer",activate(){on.explorer.onRemovePanel(cpt)},dispose(){}},hpt={id:"ExtendsEditorTree",name:"Extends Editor Tree",dispose(){},activate(){on.editorTree.onSelect((i,e)=>{on.editor.setActive(e,i)}),on.editorTree.onClose((i,e)=>{on.editor.closeTab(i,e)}),on.editorTree.onCloseOthers((i,e)=>{on.editor.closeOther(i,e)}),on.editorTree.onCloseAll(i=>{if(i)on.editor.closeAll(i);else{const{groups:e}=on.editor.getState();e==null||e.forEach(t=>{on.editor.closeAll(t.id)})}})}},fpt="theme-defaults",gpt="%displayName%",ppt="%description%",mpt=["Themes"],_pt="1.0.0",vpt="vscode",bpt="MIT",Cpt={vscode:"*"},ypt={themes:[{id:"Default Dark+",label:"Dark+ (default dark)",uiTheme:"vs-dark",path:"./themes/dark_plus.json"},{id:"Default Light+",label:"Light+ (default light)",uiTheme:"vs",path:"./themes/light_plus.json"},{id:"Visual Studio Dark",label:"Dark (Visual Studio)",uiTheme:"vs-dark",path:"./themes/dark_vs.json"},{id:"Visual Studio Light",label:"Light (Visual Studio)",uiTheme:"vs",path:"./themes/light_vs.json"},{id:"Default High Contrast",label:"High Contrast",uiTheme:"hc-black",path:"./themes/hc_black.json"}],iconThemes:[{id:"vs-minimal",label:"Minimal (Visual Studio Code)",path:"./fileicons/vs_minimal-icon-theme.json"}]},wpt={name:fpt,displayName:gpt,description:ppt,categories:mpt,version:_pt,publisher:vpt,license:bpt,engines:Cpt,contributes:ypt},Spt="vscode://schemas/color-theme",xpt="Dark Default Colors",Ept={"activityBar.foreground":"#fff","activityBar.inactiveForeground":"#ffffff66","activityBarBadge.background":"#007ACC","diffEditor.insertedTextBackground":"#9bb95533","diffEditor.removedTextBackground":"#ff000033","editor.background":"#1E1E1E","editor.findMatchHighlightBackground":"#EA5C0055","editor.foreground":"#D4D4D4","editor.inactiveSelectionBackground":"#3A3D41","editor.selectionHighlightBackground":"#ADD6FF26","editorGroupHeader.tabsBackground":"#252526","editorIndentGuide.activeBackground":"#707070","editorIndentGuide.background":"#404040","icon.foreground":"#C5C5C5","input.placeholderForeground":"#A6A6A6","inputOption.activeBackground":"#007fd466","inputValidation.errorBackground":"#5A1D1D","inputValidation.errorBorder":"#BE1100","inputValidation.infoBackground":"#063B49","inputValidation.infoBorder":"#007acc","inputValidation.warningBackground":"#352A05","inputValidation.warningBorder":"#B89500","list.activeSelectionBackground":"#094771","list.dropBackground":"#383B3D","list.focusOutline":"#007FD4","list.hoverBackground":"#2A2D2E","list.inactiveSelectionBackground":"#37373D","menu.background":"#252526","menu.foreground":"#CCCCCC","menu.selectionBackground":"#094771","menu.separatorBackground":"#BBBBBB","minimapSlider.activeBackground":"#bfbfbf66","minimapSlider.background":"#79797980","minimapSlider.hoverBackground":"#64646480","molecule.welcomeBackground":"#393939","panelTitle.activeForeground":"#E7E7E7","panelTitle.inactiveForeground":"#e7e7e799","problemsErrorIcon.foreground":"#F48771","problemsInfoIcon.foreground":"#75BEFF","problemsWarningIcon.foreground":"#CCA700","sash.hoverBorder":"#007FD4","settings.numberInputBackground":"#292929","settings.textInputBackground":"#292929","sideBarSectionHeader.background":"#0000","sideBarSectionHeader.border":"#ccc3","sideBarTitle.foreground":"#BBBBBB","statusBarItem.remoteBackground":"#16825D","statusBarItem.remoteForeground":"#FFF","tab.activeBackground":"#1E1E1E","tab.activeForeground":"#fff","tab.border":"#252526","tab.inactiveBackground":"#2d2d2d","tab.inactiveForeground":"#ffffff80","tree.indentGuidesStroke":"#585858"},Lpt=!0,Dpt={$schema:Spt,name:xpt,colors:Ept,semanticHighlighting:Lpt},Tpt="vscode://schemas/color-theme",Ipt="Light Default Colors",kpt={"activityBar.foreground":"#fff","activityBar.inactiveForeground":"#ffffff66","activityBarBadge.background":"#007ACC","diffEditor.insertedTextBackground":"#9bb95533","diffEditor.removedTextBackground":"#ff000033","editor.background":"#FFFFFF","editor.findMatchHighlightBackground":"#EA5C0055","editor.foreground":"#000000","editor.inactiveSelectionBackground":"#E5EBF1","editor.selectionHighlightBackground":"#ADD6FF80","editorIndentGuide.activeBackground":"#939393","editorIndentGuide.background":"#D3D3D3","editorSuggestWidget.background":"#F3F3F3","icon.foreground":"#424242","input.placeholderForeground":"#767676","inputOption.activeBackground":"#007fd466","inputValidation.errorBackground":"#F2DEDE","inputValidation.errorBorder":"#BE1100","inputValidation.infoBackground":"#D6ECF2","inputValidation.infoBorder":"#007acc","inputValidation.warningBackground":"#F6F5D2","inputValidation.warningBorder":"#B89500","list.activeSelectionBackground":"#0060C0","list.focusOutline":"#0090F1","list.hoverBackground":"#E8E8E8","list.inactiveSelectionBackground":"#E4E6F1","menu.selectionBackground":"#0060C0","menu.separatorBackground":"#888888","minimapSlider.activeBackground":"#00000099","minimapSlider.background":"#64646480","minimapSlider.hoverBackground":"#64646480","molecule.welcomeBackground":"#fff","panelTitle.activeForeground":"#424242","panelTitle.inactiveForeground":"#424242bf","problemsErrorIcon.foreground":"#E51400","problemsInfoIcon.foreground":"#75BEFF","problemsWarningIcon.foreground":"#BF8803","sash.hoverBorder":"#0090F1","searchEditor.textInputBorder":"#CECECE","settings.numberInputBorder":"#CECECE","settings.textInputBorder":"#CECECE","sideBarSectionHeader.background":"#0000","sideBarSectionHeader.border":"#61616130","sideBarTitle.foreground":"#6F6F6F","statusBarItem.remoteBackground":"#16825D","statusBarItem.remoteForeground":"#FFF","tab.activeBackground":"#fffffe","tab.activeForeground":"#333333","tab.border":"#f3f3f3","tab.inactiveBackground":"#ececec","tab.inactiveForeground":"#333333b3","tree.indentGuidesStroke":"#a9a9a9"},Npt=!0,Apt={$schema:Tpt,name:Ipt,colors:kpt,semanticHighlighting:Npt},Opt="vscode://schemas/color-theme",Mpt="High Contrast Default Colors",Rpt={"editor.background":"#000000","editor.foreground":"#FFFFFF","editorIndentGuide.activeBackground":"#FFFFFF","editorIndentGuide.background":"#FFFFFF","sash.hoverBorder":"#F38518","sideBarTitle.foreground":"#FFFFFF","statusBarItem.remoteBackground":"#00000000","tree.indentGuidesStroke":"#a9a9a9"},Ppt=[{settings:{foreground:"#FFFFFF",background:"#000000"}},{scope:["meta.embedded","source.groovy.embedded"],settings:{foreground:"#FFFFFF",background:"#000000"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{scope:"meta.diff.header",settings:{foreground:"#000080"}},{scope:"comment",settings:{foreground:"#7ca668"}},{scope:"constant.language",settings:{foreground:"#569cd6"}},{scope:["constant.numeric","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],settings:{foreground:"#b5cea8"}},{scope:"constant.regexp",settings:{foreground:"#b46695"}},{scope:"constant.character",settings:{foreground:"#569cd6"}},{scope:"entity.name.tag",settings:{foreground:"#569cd6"}},{scope:"entity.name.tag.css",settings:{foreground:"#d7ba7d"}},{scope:"entity.other.attribute-name",settings:{foreground:"#9cdcfe"}},{scope:["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],settings:{foreground:"#d7ba7d"}},{scope:"invalid",settings:{foreground:"#f44747"}},{scope:"markup.underline",settings:{fontStyle:"underline"}},{scope:"markup.bold",settings:{fontStyle:"bold"}},{scope:"markup.heading",settings:{foreground:"#6796e6"}},{scope:"markup.italic",settings:{fontStyle:"italic"}},{scope:"markup.inserted",settings:{foreground:"#b5cea8"}},{scope:"markup.deleted",settings:{foreground:"#ce9178"}},{scope:"markup.changed",settings:{foreground:"#569cd6"}},{name:"brackets of XML/HTML tags",scope:["punctuation.definition.tag"],settings:{foreground:"#808080"}},{scope:"meta.preprocessor",settings:{foreground:"#569cd6"}},{scope:"meta.preprocessor.string",settings:{foreground:"#ce9178"}},{scope:"meta.preprocessor.numeric",settings:{foreground:"#b5cea8"}},{scope:"meta.structure.dictionary.key.python",settings:{foreground:"#9cdcfe"}},{scope:"storage",settings:{foreground:"#569cd6"}},{scope:"storage.type",settings:{foreground:"#569cd6"}},{scope:"storage.modifier",settings:{foreground:"#569cd6"}},{scope:"string",settings:{foreground:"#ce9178"}},{scope:"string.tag",settings:{foreground:"#ce9178"}},{scope:"string.value",settings:{foreground:"#ce9178"}},{scope:"string.regexp",settings:{foreground:"#d16969"}},{name:"String interpolation",scope:["punctuation.definition.template-expression.begin","punctuation.definition.template-expression.end","punctuation.section.embedded"],settings:{foreground:"#569cd6"}},{name:"Reset JavaScript string interpolation expression",scope:["meta.template.expression"],settings:{foreground:"#ffffff"}},{scope:["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less","source.coffee.embedded"],settings:{foreground:"#d4d4d4"}},{scope:"keyword",settings:{foreground:"#569cd6"}},{scope:"keyword.control",settings:{foreground:"#569cd6"}},{scope:"keyword.operator",settings:{foreground:"#d4d4d4"}},{scope:["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.logical.python"],settings:{foreground:"#569cd6"}},{scope:"keyword.other.unit",settings:{foreground:"#b5cea8"}},{scope:"support.function.git-rebase",settings:{foreground:"#d4d4d4"}},{scope:"constant.sha.git-rebase",settings:{foreground:"#b5cea8"}},{name:"coloring of the Java import and package identifiers",scope:["storage.modifier.import.java","variable.language.wildcard.java","storage.modifier.package.java"],settings:{foreground:"#d4d4d4"}},{name:"coloring of the TS this",scope:"variable.language.this",settings:{foreground:"#569cd6"}}],Fpt=!0,Bpt={$schema:Opt,name:Mpt,colors:Rpt,settings:Ppt,semanticHighlighting:Fpt},Wpt="vscode://schemas/color-theme",Vpt="Dark+ (default dark)",Hpt="./dark_vs.json",$pt=[{name:"Function declarations",scope:["entity.name.function","support.function","support.constant.handlebars","source.powershell variable.other.member","entity.name.operator.custom-literal"],settings:{foreground:"#DCDCAA"}},{name:"Types declaration and references",scope:["meta.return-type","support.class","support.type","entity.name.type","entity.name.namespace","entity.other.attribute","entity.name.scope-resolution","entity.name.class","storage.type.numeric.go","storage.type.byte.go","storage.type.boolean.go","storage.type.string.go","storage.type.uintptr.go","storage.type.error.go","storage.type.rune.go","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],settings:{foreground:"#4EC9B0"}},{name:"Types declaration and references, TS grammar specific",scope:["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"],settings:{foreground:"#4EC9B0"}},{name:"Control flow / Special keywords",scope:["keyword.control","source.cpp keyword.operator.new","keyword.operator.delete","keyword.other.using","keyword.other.operator","entity.name.operator"],settings:{foreground:"#C586C0"}},{name:"Variable and parameter name",scope:["variable","meta.definition.variable.name","support.variable","entity.name.variable"],settings:{foreground:"#9CDCFE"}},{name:"Constants and enums",scope:["variable.other.constant","variable.other.enummember"],settings:{foreground:"#51B6C4"}},{name:"Object keys, TS grammar specific",scope:["meta.object-literal.key"],settings:{foreground:"#9CDCFE"}},{name:"CSS property value",scope:["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],settings:{foreground:"#CE9178"}},{name:"Regular expression groups",scope:["punctuation.definition.group.regexp","punctuation.definition.group.assertion.regexp","punctuation.definition.character-class.regexp","punctuation.character.set.begin.regexp","punctuation.character.set.end.regexp","keyword.operator.negation.regexp","support.other.parenthesis.regexp"],settings:{foreground:"#CE9178"}},{scope:["constant.character.character-class.regexp","constant.other.character-class.set.regexp","constant.other.character-class.regexp","constant.character.set.regexp"],settings:{foreground:"#d16969"}},{scope:["keyword.operator.or.regexp","keyword.control.anchor.regexp"],settings:{foreground:"#DCDCAA"}},{scope:"keyword.operator.quantifier.regexp",settings:{foreground:"#d7ba7d"}},{scope:"constant.character",settings:{foreground:"#569cd6"}},{scope:"constant.character.escape",settings:{foreground:"#d7ba7d"}},{scope:"entity.name.label",settings:{foreground:"#C8C8C8"}}],zpt={$schema:Wpt,name:Vpt,include:Hpt,tokenColors:$pt},Upt="vscode://schemas/color-theme",jpt="Dark (Visual Studio)",Kpt="./dark_defaults.json",qpt=[{scope:["meta.embedded","source.groovy.embedded"],settings:{foreground:"#D4D4D4"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{scope:"header",settings:{foreground:"#000080"}},{scope:"comment",settings:{foreground:"#6A9955"}},{scope:"constant.language",settings:{foreground:"#569cd6"}},{scope:["constant.numeric","entity.name.operator.custom-literal.number","variable.other.enummember","keyword.operator.plus.exponent","keyword.operator.minus.exponent"],settings:{foreground:"#b5cea8"}},{scope:"constant.regexp",settings:{foreground:"#646695"}},{scope:"entity.name.tag",settings:{foreground:"#569cd6"}},{scope:"entity.name.tag.css",settings:{foreground:"#d7ba7d"}},{scope:"entity.other.attribute-name",settings:{foreground:"#9cdcfe"}},{scope:["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],settings:{foreground:"#d7ba7d"}},{scope:"invalid",settings:{foreground:"#f44747"}},{scope:"markup.underline",settings:{fontStyle:"underline"}},{scope:"markup.bold",settings:{fontStyle:"bold",foreground:"#569cd6"}},{scope:"markup.heading",settings:{fontStyle:"bold",foreground:"#569cd6"}},{scope:"markup.italic",settings:{fontStyle:"italic"}},{scope:"markup.inserted",settings:{foreground:"#b5cea8"}},{scope:"markup.deleted",settings:{foreground:"#ce9178"}},{scope:"markup.changed",settings:{foreground:"#569cd6"}},{scope:"punctuation.definition.quote.begin.markdown",settings:{foreground:"#6A9955"}},{scope:"punctuation.definition.list.begin.markdown",settings:{foreground:"#6796e6"}},{scope:"markup.inline.raw",settings:{foreground:"#ce9178"}},{name:"brackets of XML/HTML tags",scope:"punctuation.definition.tag",settings:{foreground:"#808080"}},{scope:["meta.preprocessor","entity.name.function.preprocessor"],settings:{foreground:"#569cd6"}},{scope:"meta.preprocessor.string",settings:{foreground:"#ce9178"}},{scope:"meta.preprocessor.numeric",settings:{foreground:"#b5cea8"}},{scope:"meta.structure.dictionary.key.python",settings:{foreground:"#9cdcfe"}},{scope:"meta.diff.header",settings:{foreground:"#569cd6"}},{scope:"storage",settings:{foreground:"#569cd6"}},{scope:"storage.type",settings:{foreground:"#569cd6"}},{scope:["storage.modifier","keyword.operator.noexcept"],settings:{foreground:"#569cd6"}},{scope:["string","entity.name.operator.custom-literal.string","meta.embedded.assembly"],settings:{foreground:"#ce9178"}},{scope:"string.tag",settings:{foreground:"#ce9178"}},{scope:"string.value",settings:{foreground:"#ce9178"}},{scope:"string.regexp",settings:{foreground:"#d16969"}},{name:"String interpolation",scope:["punctuation.definition.template-expression.begin","punctuation.definition.template-expression.end","punctuation.section.embedded"],settings:{foreground:"#569cd6"}},{name:"Reset JavaScript string interpolation expression",scope:["meta.template.expression"],settings:{foreground:"#d4d4d4"}},{scope:["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less","source.coffee.embedded"],settings:{foreground:"#9cdcfe"}},{scope:"keyword",settings:{foreground:"#569cd6"}},{scope:"keyword.control",settings:{foreground:"#569cd6"}},{scope:"keyword.operator",settings:{foreground:"#d4d4d4"}},{scope:["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.alignof","keyword.operator.typeid","keyword.operator.alignas","keyword.operator.instanceof","keyword.operator.logical.python","keyword.operator.wordlike"],settings:{foreground:"#569cd6"}},{scope:"keyword.other.unit",settings:{foreground:"#b5cea8"}},{scope:["punctuation.section.embedded.begin.php","punctuation.section.embedded.end.php"],settings:{foreground:"#569cd6"}},{scope:"support.function.git-rebase",settings:{foreground:"#9cdcfe"}},{scope:"constant.sha.git-rebase",settings:{foreground:"#b5cea8"}},{name:"coloring of the Java import and package identifiers",scope:["storage.modifier.import.java","variable.language.wildcard.java","storage.modifier.package.java"],settings:{foreground:"#d4d4d4"}},{name:"this.self",scope:"variable.language",settings:{foreground:"#569cd6"}}],Gpt={$schema:Upt,name:jpt,include:Kpt,tokenColors:qpt},Ypt="vscode://schemas/color-theme",Zpt="Light+ (default light)",Xpt="./light_vs.json",Qpt=[{name:"Function declarations",scope:["entity.name.function","support.function","support.constant.handlebars","source.powershell variable.other.member","entity.name.operator.custom-literal"],settings:{foreground:"#795E26"}},{name:"Types declaration and references",scope:["meta.return-type","support.class","support.type","entity.name.type","entity.name.namespace","entity.other.attribute","entity.name.scope-resolution","entity.name.class","storage.type.numeric.go","storage.type.byte.go","storage.type.boolean.go","storage.type.string.go","storage.type.uintptr.go","storage.type.error.go","storage.type.rune.go","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],settings:{foreground:"#267f99"}},{name:"Types declaration and references, TS grammar specific",scope:["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"],settings:{foreground:"#267f99"}},{name:"Control flow / Special keywords",scope:["keyword.control","source.cpp keyword.operator.new","source.cpp keyword.operator.delete","keyword.other.using","keyword.other.operator","entity.name.operator"],settings:{foreground:"#AF00DB"}},{name:"Variable and parameter name",scope:["variable","meta.definition.variable.name","support.variable","entity.name.variable"],settings:{foreground:"#001080"}},{name:"Constants and enums",scope:["variable.other.constant","variable.other.enummember"],settings:{foreground:"#328267"}},{name:"Object keys, TS grammar specific",scope:["meta.object-literal.key"],settings:{foreground:"#001080"}},{name:"CSS property value",scope:["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],settings:{foreground:"#0451a5"}},{name:"Regular expression groups",scope:["punctuation.definition.group.regexp","punctuation.definition.group.assertion.regexp","punctuation.definition.character-class.regexp","punctuation.character.set.begin.regexp","punctuation.character.set.end.regexp","keyword.operator.negation.regexp","support.other.parenthesis.regexp"],settings:{foreground:"#d16969"}},{scope:["constant.character.character-class.regexp","constant.other.character-class.set.regexp","constant.other.character-class.regexp","constant.character.set.regexp"],settings:{foreground:"#811f3f"}},{scope:"keyword.operator.quantifier.regexp",settings:{foreground:"#000000"}},{scope:["keyword.operator.or.regexp","keyword.control.anchor.regexp"],settings:{foreground:"#ff0000"}},{scope:"constant.character",settings:{foreground:"#0000ff"}},{scope:"constant.character.escape",settings:{foreground:"#ff0000"}},{scope:"entity.name.label",settings:{foreground:"#000000"}}],Jpt={$schema:Ypt,name:Zpt,include:Xpt,tokenColors:Qpt},emt="vscode://schemas/color-theme",tmt="Light (Visual Studio)",nmt="./light_defaults.json",imt=[{scope:["meta.embedded","source.groovy.embedded"],settings:{foreground:"#000000ff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{scope:"meta.diff.header",settings:{foreground:"#000080"}},{scope:"comment",settings:{foreground:"#008000"}},{scope:"constant.language",settings:{foreground:"#0000ff"}},{scope:["constant.numeric","entity.name.operator.custom-literal.number","variable.other.enummember","keyword.operator.plus.exponent","keyword.operator.minus.exponent"],settings:{foreground:"#098658"}},{scope:"constant.regexp",settings:{foreground:"#811f3f"}},{name:"css tags in selectors, xml tags",scope:"entity.name.tag",settings:{foreground:"#800000"}},{scope:"entity.name.selector",settings:{foreground:"#800000"}},{scope:"entity.other.attribute-name",settings:{foreground:"#ff0000"}},{scope:["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],settings:{foreground:"#800000"}},{scope:"invalid",settings:{foreground:"#cd3131"}},{scope:"markup.underline",settings:{fontStyle:"underline"}},{scope:"markup.bold",settings:{fontStyle:"bold",foreground:"#000080"}},{scope:"markup.heading",settings:{fontStyle:"bold",foreground:"#800000"}},{scope:"markup.italic",settings:{fontStyle:"italic"}},{scope:"markup.inserted",settings:{foreground:"#098658"}},{scope:"markup.deleted",settings:{foreground:"#a31515"}},{scope:"markup.changed",settings:{foreground:"#0451a5"}},{scope:["punctuation.definition.quote.begin.markdown","punctuation.definition.list.begin.markdown"],settings:{foreground:"#0451a5"}},{scope:"markup.inline.raw",settings:{foreground:"#800000"}},{name:"brackets of XML/HTML tags",scope:"punctuation.definition.tag",settings:{foreground:"#800000"}},{scope:["meta.preprocessor","entity.name.function.preprocessor"],settings:{foreground:"#0000ff"}},{scope:"meta.preprocessor.string",settings:{foreground:"#a31515"}},{scope:"meta.preprocessor.numeric",settings:{foreground:"#098658"}},{scope:"meta.structure.dictionary.key.python",settings:{foreground:"#0451a5"}},{scope:"storage",settings:{foreground:"#0000ff"}},{scope:"storage.type",settings:{foreground:"#0000ff"}},{scope:["storage.modifier","keyword.operator.noexcept"],settings:{foreground:"#0000ff"}},{scope:["string","entity.name.operator.custom-literal.string","meta.embedded.assembly"],settings:{foreground:"#a31515"}},{scope:["string.comment.buffered.block.pug","string.quoted.pug","string.interpolated.pug","string.unquoted.plain.in.yaml","string.unquoted.plain.out.yaml","string.unquoted.block.yaml","string.quoted.single.yaml","string.quoted.double.xml","string.quoted.single.xml","string.unquoted.cdata.xml","string.quoted.double.html","string.quoted.single.html","string.unquoted.html","string.quoted.single.handlebars","string.quoted.double.handlebars"],settings:{foreground:"#0000ff"}},{scope:"string.regexp",settings:{foreground:"#811f3f"}},{name:"String interpolation",scope:["punctuation.definition.template-expression.begin","punctuation.definition.template-expression.end","punctuation.section.embedded"],settings:{foreground:"#0000ff"}},{name:"Reset JavaScript string interpolation expression",scope:["meta.template.expression"],settings:{foreground:"#000000"}},{scope:["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],settings:{foreground:"#0451a5"}},{scope:["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less","source.coffee.embedded"],settings:{foreground:"#ff0000"}},{scope:["support.type.property-name.json"],settings:{foreground:"#0451a5"}},{scope:"keyword",settings:{foreground:"#0000ff"}},{scope:"keyword.control",settings:{foreground:"#0000ff"}},{scope:"keyword.operator",settings:{foreground:"#000000"}},{scope:["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.alignof","keyword.operator.typeid","keyword.operator.alignas","keyword.operator.instanceof","keyword.operator.logical.python","keyword.operator.wordlike"],settings:{foreground:"#0000ff"}},{scope:"keyword.other.unit",settings:{foreground:"#098658"}},{scope:["punctuation.section.embedded.begin.php","punctuation.section.embedded.end.php"],settings:{foreground:"#800000"}},{scope:"support.function.git-rebase",settings:{foreground:"#0451a5"}},{scope:"constant.sha.git-rebase",settings:{foreground:"#098658"}},{name:"coloring of the Java import and package identifiers",scope:["storage.modifier.import.java","variable.language.wildcard.java","storage.modifier.package.java"],settings:{foreground:"#000000"}},{name:"this.self",scope:"variable.language",settings:{foreground:"#0000ff"}}],rmt={$schema:emt,name:tmt,include:nmt,tokenColors:imt},smt="vscode://schemas/color-theme",omt="Dark High Contrast",amt="./hc_black_defaults.json",lmt={"editor.selectionBackground":"#FFFFFF","selection.background":"#008000","statusBarItem.remoteBackground":"#00000000"},umt=[{name:"Function declarations",scope:["entity.name.function","support.function","support.constant.handlebars","source.powershell variable.other.member"],settings:{foreground:"#DCDCAA"}},{name:"Types declaration and references",scope:["meta.return-type","support.class","support.type","entity.name.type","entity.name.namespace","entity.name.scope-resolution","entity.name.class","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],settings:{foreground:"#4EC9B0"}},{name:"Types declaration and references, TS grammar specific",scope:["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"],settings:{foreground:"#4EC9B0"}},{name:"Control flow / Special keywords",scope:["keyword.control","source.cpp keyword.operator.new","source.cpp keyword.operator.delete","keyword.other.using","keyword.other.operator"],settings:{foreground:"#C586C0"}},{name:"Variable and parameter name",scope:["variable","meta.definition.variable.name","support.variable"],settings:{foreground:"#9CDCFE"}},{name:"Object keys, TS grammar specific",scope:["meta.object-literal.key"],settings:{foreground:"#9CDCFE"}},{name:"CSS property value",scope:["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],settings:{foreground:"#CE9178"}},{name:"HC Search Editor context line override",scope:"meta.resultLinePrefix.contextLinePrefix.search",settings:{foreground:"#CBEDCB"}}],cmt={$schema:smt,name:omt,include:amt,colors:lmt,tokenColors:umt};var Nz;const WCe=wpt,VCe=Dpt,HCe=Apt,dmt=Bpt,$Ce=zpt;Object.assign($Ce,VCe);const zCe=Gpt;Object.assign(zCe,VCe);const UCe=Jpt;Object.assign(UCe,HCe);const jCe=rmt;Object.assign(jCe,HCe);const KCe=cmt;Object.assign(KCe,dmt);const bp=((Nz=WCe.contributes)===null||Nz===void 0?void 0:Nz.themes)||[],hmt=bp[0],fmt=bp[1],gmt=bp[2],pmt=bp[3],mmt=bp[4];bp[0]=Object.assign({},hmt,$Ce);bp[1]=Object.assign({},fmt,UCe);bp[2]=Object.assign({},gmt,zCe);bp[3]=Object.assign({},pmt,jCe);bp[4]=Object.assign({},mmt,KCe);const _mt="theme-monokai",vmt="%displayName%",bmt="%description%",Cmt="1.0.0",ymt="vscode",wmt="MIT",Smt={vscode:"*"},xmt={themes:[{id:"Monokai",label:"Monokai",uiTheme:"vs-dark",path:"./themes/monokai-color-theme.json"}]},Emt={name:_mt,displayName:vmt,description:bmt,version:Cmt,publisher:ymt,license:wmt,engines:Smt,contributes:xmt},Lmt="dark",Dmt={"dropdown.background":"#414339","list.activeSelectionBackground":"#75715E","quickInput.list.focusBackground":"#414339","dropdown.listBackground":"#1e1f1c","list.inactiveSelectionBackground":"#414339","list.hoverBackground":"#3e3d32","list.dropBackground":"#414339","list.highlightForeground":"#f8f8f2","button.background":"#75715E","editor.background":"#272822","editor.foreground":"#f8f8f2","selection.background":"#ccccc7","editor.selectionHighlightBackground":"#575b6180","editor.selectionBackground":"#878b9180","minimap.selectionHighlight":"#878b9180","minimap.background":"#272822","editor.wordHighlightBackground":"#4a4a7680","editor.wordHighlightStrongBackground":"#6a6a9680","editor.lineHighlightBackground":"#3e3d32","editorLineNumber.activeForeground":"#c2c2bf","editorCursor.foreground":"#f8f8f0","editorWhitespace.foreground":"#464741","editorIndentGuide.background":"#464741","editorIndentGuide.activeBackground":"#767771","editorGroupHeader.tabsBackground":"#1e1f1c","editorGroup.dropBackground":"#41433980","tab.inactiveBackground":"#34352f","tab.border":"#1e1f1c","tab.inactiveForeground":"#ccccc7","tab.lastPinnedBorder":"#414339","widget.shadow":"#00000098","progressBar.background":"#75715E","badge.background":"#75715E","badge.foreground":"#f8f8f2","editorLineNumber.foreground":"#90908a","panelTitle.activeForeground":"#f8f8f2","panelTitle.activeBorder":"#75715E","panelTitle.inactiveForeground":"#75715E","panel.border":"#414339","settings.focusedRowBackground":"#4143395A","titleBar.activeBackground":"#1e1f1c","statusBar.background":"#414339","statusBar.noFolderBackground":"#414339","statusBar.debuggingBackground":"#75715E","statusBarItem.remoteBackground":"#AC6218","activityBar.background":"#272822","activityBar.foreground":"#f8f8f2","sideBar.background":"#1e1f1c","sideBarSectionHeader.background":"#272822","menu.background":"#1e1f1c","menu.foreground":"#cccccc","pickerGroup.foreground":"#75715E","input.background":"#414339","inputOption.activeBorder":"#75715E",focusBorder:"#75715E","editorWidget.background":"#1e1f1c","debugToolBar.background":"#1e1f1c","diffEditor.insertedTextBackground":"#4b661680","diffEditor.removedTextBackground":"#90274A70","inputValidation.errorBackground":"#90274A","inputValidation.errorBorder":"#f92672","inputValidation.warningBackground":"#848528","inputValidation.warningBorder":"#e2e22e","inputValidation.infoBackground":"#546190","inputValidation.infoBorder":"#819aff","editorHoverWidget.background":"#414339","editorHoverWidget.border":"#75715E","editorSuggestWidget.background":"#272822","editorSuggestWidget.border":"#75715E","editorGroup.border":"#34352f","peekView.border":"#75715E","peekViewEditor.background":"#272822","peekViewResult.background":"#1e1f1c","peekViewTitle.background":"#1e1f1c","peekViewResult.selectionBackground":"#414339","peekViewResult.matchHighlightBackground":"#75715E","peekViewEditor.matchHighlightBackground":"#75715E","terminal.ansiBlack":"#333333","terminal.ansiRed":"#C4265E","terminal.ansiGreen":"#86B42B","terminal.ansiYellow":"#B3B42B","terminal.ansiBlue":"#6A7EC8","terminal.ansiMagenta":"#8C6BC8","terminal.ansiCyan":"#56ADBC","terminal.ansiWhite":"#e3e3dd","terminal.ansiBrightBlack":"#666666","terminal.ansiBrightRed":"#f92672","terminal.ansiBrightGreen":"#A6E22E","terminal.ansiBrightYellow":"#e2e22e","terminal.ansiBrightBlue":"#819aff","terminal.ansiBrightMagenta":"#AE81FF","terminal.ansiBrightCyan":"#66D9EF","terminal.ansiBrightWhite":"#f8f8f2"},Tmt=[{settings:{foreground:"#F8F8F2"}},{scope:["meta.embedded","source.groovy.embedded"],settings:{foreground:"#F8F8F2"}},{name:"Comment",scope:"comment",settings:{foreground:"#88846f"}},{name:"String",scope:"string",settings:{foreground:"#E6DB74"}},{name:"Template Definition",scope:["punctuation.definition.template-expression","punctuation.section.embedded"],settings:{foreground:"#F92672"}},{name:"Reset JavaScript string interpolation expression",scope:["meta.template.expression"],settings:{foreground:"#F8F8F2"}},{name:"Number",scope:"constant.numeric",settings:{foreground:"#AE81FF"}},{name:"Built-in constant",scope:"constant.language",settings:{foreground:"#AE81FF"}},{name:"User-defined constant",scope:"constant.character, constant.other",settings:{foreground:"#AE81FF"}},{name:"Variable",scope:"variable",settings:{fontStyle:"",foreground:"#F8F8F2"}},{name:"Keyword",scope:"keyword",settings:{foreground:"#F92672"}},{name:"Storage",scope:"storage",settings:{fontStyle:"",foreground:"#F92672"}},{name:"Storage type",scope:"storage.type",settings:{fontStyle:"italic",foreground:"#66D9EF"}},{name:"Class name",scope:"entity.name.type, entity.name.class, entity.name.namespace, entity.name.scope-resolution",settings:{fontStyle:"underline",foreground:"#A6E22E"}},{name:"Inherited class",scope:"entity.other.inherited-class",settings:{fontStyle:"italic underline",foreground:"#A6E22E"}},{name:"Function name",scope:"entity.name.function",settings:{fontStyle:"",foreground:"#A6E22E"}},{name:"Function argument",scope:"variable.parameter",settings:{fontStyle:"italic",foreground:"#FD971F"}},{name:"Tag name",scope:"entity.name.tag",settings:{fontStyle:"",foreground:"#F92672"}},{name:"Tag attribute",scope:"entity.other.attribute-name",settings:{fontStyle:"",foreground:"#A6E22E"}},{name:"Library function",scope:"support.function",settings:{fontStyle:"",foreground:"#66D9EF"}},{name:"Library constant",scope:"support.constant",settings:{fontStyle:"",foreground:"#66D9EF"}},{name:"Library class/type",scope:"support.type, support.class",settings:{fontStyle:"italic",foreground:"#66D9EF"}},{name:"Library variable",scope:"support.other.variable",settings:{fontStyle:""}},{name:"Invalid",scope:"invalid",settings:{fontStyle:"",foreground:"#F44747"}},{name:"Invalid deprecated",scope:"invalid.deprecated",settings:{foreground:"#F44747"}},{name:"JSON String",scope:"meta.structure.dictionary.json string.quoted.double.json",settings:{foreground:"#CFCFC2"}},{name:"diff.header",scope:"meta.diff, meta.diff.header",settings:{foreground:"#75715E"}},{name:"diff.deleted",scope:"markup.deleted",settings:{foreground:"#F92672"}},{name:"diff.inserted",scope:"markup.inserted",settings:{foreground:"#A6E22E"}},{name:"diff.changed",scope:"markup.changed",settings:{foreground:"#E6DB74"}},{scope:"constant.numeric.line-number.find-in-files - match",settings:{foreground:"#AE81FFA0"}},{scope:"entity.name.filename.find-in-files",settings:{foreground:"#E6DB74"}},{name:"Markup Quote",scope:"markup.quote",settings:{foreground:"#F92672"}},{name:"Markup Lists",scope:"markup.list",settings:{foreground:"#E6DB74"}},{name:"Markup Styling",scope:"markup.bold, markup.italic",settings:{foreground:"#66D9EF"}},{name:"Markup Inline",scope:"markup.inline.raw",settings:{fontStyle:"",foreground:"#FD971F"}},{name:"Markup Headings",scope:"markup.heading",settings:{foreground:"#A6E22E"}},{name:"Markup Setext Header",scope:"markup.heading.setext",settings:{foreground:"#A6E22E",fontStyle:"bold"}},{name:"Markup Headings",scope:"markup.heading.markdown",settings:{fontStyle:"bold"}},{name:"Markdown Quote",scope:"markup.quote.markdown",settings:{fontStyle:"italic",foreground:"#75715E"}},{name:"Markdown Bold",scope:"markup.bold.markdown",settings:{fontStyle:"bold"}},{name:"Markdown Link Title/Description",scope:"string.other.link.title.markdown,string.other.link.description.markdown",settings:{foreground:"#AE81FF"}},{name:"Markdown Underline Link/Image",scope:"markup.underline.link.markdown,markup.underline.link.image.markdown",settings:{foreground:"#E6DB74"}},{name:"Markdown Emphasis",scope:"markup.italic.markdown",settings:{fontStyle:"italic"}},{name:"Markdown Punctuation Definition Link",scope:"markup.list.unnumbered.markdown, markup.list.numbered.markdown",settings:{foreground:"#f8f8f2"}},{name:"Markdown List Punctuation",scope:["punctuation.definition.list.begin.markdown"],settings:{foreground:"#A6E22E"}},{scope:"token.info-token",settings:{foreground:"#6796e6"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#f44747"}},{scope:"token.debug-token",settings:{foreground:"#b267e6"}},{name:"this.self",scope:"variable.language",settings:{foreground:"#FD971F"}}],Imt=!0,kmt={type:Lmt,colors:Dmt,tokenColors:Tmt,semanticHighlighting:Imt};var Az;const qCe=Emt,Nmt=kmt,GCe=((Az=qCe.contributes)===null||Az===void 0?void 0:Az.themes)||[],Amt=GCe[0];GCe[0]=Object.assign({},Amt,Nmt);const Omt="material-palenight-theme",Mmt="whizkydee",Rmt="Olaolu Olawuyi <mrolaolu@gmail.com> (http://twitter.com/mrolaolu)",Pmt="Palenight Theme",Fmt="2.0.1",Bmt="An elegant and juicy material-inspired theme for Visual Studio Code.",Wmt={color:"#31364A",theme:"dark"},Vmt="icon.png",Hmt=["material theme","palenight","material","purple","dark"],$mt={url:"https://github.com/whizkydee/vscode-palenight-theme",type:"git"},zmt={url:"https://github.com/whizkydee/vscode-palenight-theme/issues"},Umt="MIT",jmt={vscode:"^1.12.0"},Kmt={start:"nodemon --exec vsce package",build:"nodemon --watch src src"},qmt=["Themes","Other"],Gmt={themes:[{id:"Palenight Mild Contrast",label:"Palenight (Mild Contrast)",uiTheme:"vs-dark",path:"./themes/palenight-mild-contrast.json"}]},Ymt={nodemon:"^1.12.1",vsce:"^1.31.0"},Zmt={publisherDisplayName:"Olaolu Olawuyi"},Xmt={name:Omt,publisher:Mmt,author:Rmt,displayName:Pmt,version:Fmt,description:Bmt,galleryBanner:Wmt,icon:Vmt,keywords:Hmt,repository:$mt,bugs:zmt,license:Umt,engines:jmt,scripts:Kmt,categories:qmt,contributes:Gmt,devDependencies:Ymt,__metadata:Zmt},Qmt="Palenight (Mild Contrast)",Jmt="Olaolu Olawuyi",e_t=["Olaolu Olawuyi <mrolaolu@gmail.com>"],t_t="dark",n_t="palenight-mild-contrast",i_t={contrastActiveBorder:null,contrastBorder:"#2C2F40",focusBorder:"#2C2F40",foreground:"#ffffff","widget.shadow":"#232635","selection.background":"#3C435E",descriptionForeground:null,errorForeground:"#EF5350","button.background":"#7e57c2cc","button.foreground":"#ffffffcc","button.hoverBackground":"#7e57c2","dropdown.background":"#292D3E","dropdown.border":"#7e57c2","dropdown.foreground":"#ffffffcc","input.background":"#414863","input.border":"#7e57c2","input.foreground":"#ffffffcc","input.placeholderForeground":"#ffffffcc","inputOption.activeBorder":"#ffffffcc","inputValidation.errorBackground":"#ef5350f2","inputValidation.errorBorder":"#EF5350","inputValidation.infoBackground":"#64b5f6f2","inputValidation.infoBorder":"#64B5F6","inputValidation.warningBackground":"#ffca28f2","inputValidation.warningBorder":"#FFCA28","scrollbar.shadow":"#292D3E00","scrollbarSlider.activeBackground":"#694CA4cc","scrollbarSlider.background":"#694CA466","scrollbarSlider.hoverBackground":"#694CA4cc","badge.background":"#7e57c2","badge.foreground":"#ffffff","progress.background":"#7e57c2","list.activeSelectionBackground":"#7e57c2","list.activeSelectionForeground":"#ffffff","list.dropBackground":"#2E3245","list.focusBackground":"#0000002e","list.focusForeground":"#ffffff","list.highlightForeground":"#ffffff","list.hoverBackground":"#0000001a","list.hoverForeground":"#ffffff","list.inactiveSelectionBackground":"#929ac90d","list.inactiveSelectionForeground":"#929ac9","activityBar.background":"#242839","activityBar.dropBackground":"#7e57c2e3","activityBar.foreground":"#eeffff","activityBar.border":"#2E3243","activityBarBadge.background":"#7e57c2","activityBarBadge.foreground":"#ffffff","sideBar.background":"#25293A","sideBar.foreground":"#6C739A","sideBar.border":"#2C2F40","sideBarTitle.foreground":"#eeffff","sideBarSectionHeader.background":"#25293A","sideBarSectionHeader.foreground":"#eeffff","editorGroup.background":"#32374C","editorGroup.border":"#2E3245","editorGroup.dropBackground":"#7e57c273","editorGroupHeader.noTabsBackground":"#32374C","editorGroupHeader.tabsBackground":"#31364a","editorGroupHeader.tabsBorder":"#2C3041","tab.activeBackground":"#25293A","tab.activeForeground":"#eeffff","tab.border":"#272B3B","tab.activeBorder":"#2C3041","tab.unfocusedActiveBorder":"#2C3041","tab.inactiveBackground":"#31364A","tab.inactiveForeground":"#929ac9","tab.unfocusedActiveForeground":null,"tab.unfocusedInactiveForeground":null,"editor.background":"#292D3E","editor.foreground":"#BFC7D5","editorLineNumber.foreground":"#4c5374","editorLineNumber.activeForeground":"#eeffff","editorCursor.foreground":"#7e57c2","editorCursor.background":null,"editor.selectionBackground":"#7580B850","editor.selectionHighlightBackground":"#383D51","editor.inactiveSelectionBackground":"#7e57c25a","editor.wordHighlightBackground":"#32374D","editor.wordHighlightStrongBackground":"#2E3250","editor.findMatchBackground":"#7e57c25a","editor.findMatchHighlightBackground":"#2E3248","editor.findRangeHighlightBackground":null,"editor.hoverHighlightBackground":"#7e57c25a","editor.lineHighlightBackground":"#0003","editor.lineHighlightBorder":null,"editorLink.activeForeground":null,"editor.rangeHighlightBackground":"#7e57c25a","editorWhitespace.foreground":null,"editorIndentGuide.background":"#4E557980","editorRuler.foreground":null,"editorCodeLens.foreground":"#FFCA28","editorBracketMatch.background":null,"editorBracketMatch.border":null,"editorOverviewRuler.currentContentForeground":"#7e57c2","editorOverviewRuler.incomingContentForeground":"#7e57c2","editorOverviewRuler.commonContentForeground":"#7e57c2","editorError.foreground":"#EF5350","editorError.border":null,"editorWarning.foreground":"#FFCA28","editorWarning.border":null,"editorGutter.background":null,"editorGutter.modifiedBackground":"#e2b93d","editorGutter.addedBackground":"#9CCC65","editorGutter.deletedBackground":"#EF5350","diffEditor.insertedTextBackground":"#99b76d23","diffEditor.removedTextBackground":"#ef535033","editorWidget.background":"#31364a","editorWidget.border":null,"editorSuggestWidget.background":"#2C3043","editorSuggestWidget.border":"#2B2F40","editorSuggestWidget.foreground":"#bfc7d5","editorSuggestWidget.highlightForeground":"#ffffff","editorSuggestWidget.selectedBackground":"#7e57c2","editorHoverWidget.background":"#292D3E","editorHoverWidget.border":"#7e57c2","debugExceptionWidget.background":"#292D3E","debugExceptionWidget.border":"#7e57c2","editorMarkerNavigation.background":"#31364a","editorMarkerNavigationError.background":"#EF5350","editorMarkerNavigationWarning.background":"#FFCA28","peekView.border":"#7e57c2","peekViewEditor.background":"#232635","peekViewEditor.matchHighlightBackground":"#7e57c25a","peekViewResult.background":"#2E3245","peekViewResult.fileForeground":"#eeffff","peekViewResult.lineForeground":"#eeffff","peekViewResult.matchHighlightBackground":"#7e57c25a","peekViewResult.selectionBackground":"#2E3250","peekViewResult.selectionForeground":"#eeffff","peekViewTitle.background":"#292D3E","peekViewTitleDescription.foreground":"#697098","peekViewTitleLabel.foreground":"#eeffff","merge.currentHeaderBackground":"#7e57c25a","merge.currentContentBackground":null,"merge.incomingHeaderBackground":"#7e57c25a","merge.incomingContentBackground":null,"merge.border":null,"panel.background":"#25293A","panel.border":"#2C2F40","panelTitle.activeBorder":"#7e57c2","panelTitle.activeForeground":"#eeffff","panelTitle.inactiveForeground":"#bfc7d580","statusBar.background":"#25293A","statusBar.foreground":"#676E95","statusBar.border":"#2C3041","statusBar.debuggingBackground":"#202431","statusBar.debuggingForeground":null,"statusBar.debuggingBorder":"#1F2330","statusBar.noFolderForeground":null,"statusBar.noFolderBackground":"#292D3E","statusBar.noFolderBorder":"#25293A","statusBarItem.activeBackground":"#202431","statusBarItem.hoverBackground":"#202431","statusBarItem.prominentBackground":"#202431","statusBarItem.prominentHoverBackground":"#202431","titleBar.activeBackground":"#25293A","titleBar.activeForeground":"#eeefff","titleBar.border":"#2C3041","titleBar.inactiveBackground":"#30364c","titleBar.inactiveForeground":null,"notifications.background":"#292D3E","notifications.foreground":"#ffffffcc","notificationLink.foreground":"#80CBC4","extensionButton.prominentForeground":"#ffffffcc","extensionButton.prominentBackground":"#7e57c2cc","extensionButton.prominentHoverBackground":"#7e57c2","pickerGroup.foreground":"#d1aaff","pickerGroup.border":"#2E3245","terminal.ansiWhite":"#ffffff","terminal.ansiBlack":"#676E95","terminal.ansiBlue":"#82AAFF","terminal.ansiCyan":"#89DDFF","terminal.ansiGreen":"#a9c77d","terminal.ansiMagenta":"#C792EA","terminal.ansiRed":"#ff5572","terminal.ansiYellow":"#FFCB6B","terminal.ansiBrightWhite":"#ffffff","terminal.ansiBrightBlack":"#676E95","terminal.ansiBrightBlue":"#82AAFF","terminal.ansiBrightCyan":"#89DDFF","terminal.ansiBrightGreen":"#C3E88D","terminal.ansiBrightMagenta":"#C792EA","terminal.ansiBrightRed":"#ff5572","terminal.ansiBrightYellow":"#FFCB6B","debugToolBar.background":"#292D3E","welcomePage.buttonBackground":null,"welcomePage.buttonHoverBackground":null,"walkThrough.embeddedEditorBackground":"#232635","gitDecoration.modifiedResourceForeground":"#e2c08de6","gitDecoration.deletedResourceForeground":"#EF535090","gitDecoration.untrackedResourceForeground":"#a9c77dff","gitDecoration.ignoredResourceForeground":"#69709890","gitDecoration.conflictingResourceForeground":"#FFEB95CC","editorActiveLineNumber.foreground":"#eeffff","breadcrumb.foreground":"#6c739a","breadcrumb.focusForeground":"#bfc7d5","breadcrumb.activeSelectionForeground":"#eeffff","breadcrumbPicker.background":"#292D3E"},r_t=[{name:"Global settings",settings:{background:"#292D3E",foreground:"#bfc7d5"}},{name:"Comment",scope:"comment",settings:{foreground:"#697098",fontStyle:"italic"}},{name:"String",scope:"string",settings:{foreground:"#C3E88D"}},{name:"String Quoted",scope:"string.quoted",settings:{foreground:"#C3E88D"}},{name:"String Unquoted",scope:"string.unquoted",settings:{foreground:"#bfc7d5"}},{name:"Support Constant Math",scope:"support.constant.math",settings:{foreground:"#ffcb6b"}},{name:"Number",scope:["constant.numeric","constant.character.numeric"],settings:{foreground:"#F78C6C"}},{name:"Built-in constant",scope:["constant.language","punctuation.definition.constant","variable.other.constant"],settings:{foreground:"#82AAFF"}},{name:"User-defined constant",scope:["constant.character","constant.other"],settings:{foreground:"#82AAFF"}},{name:"Constant Character Escape",scope:"constant.character.escape",settings:{foreground:"#F78C6C"}},{name:"RegExp String",scope:["string.regexp","string.regexp keyword.other"],settings:{foreground:"#80CBC4"}},{name:"Comma in functions",scope:"meta.function punctuation.separator.comma",settings:{foreground:"#eeffff"}},{name:"Variable",scope:"variable",settings:{foreground:"#ffcb6b"}},{name:"Keyword",scope:["punctuation.accessor","keyword"],settings:{foreground:"#c792ea"}},{name:"Storage",scope:["storage","storage.type","meta.var.expr storage.type","storage.type.property.js","storage.type.property.ts","storage.type.property.tsx","meta.class meta.method.declaration meta.var.expr storage.type.js"],settings:{foreground:"#c792ea"}},{name:"Class name",scope:["entity.name.class","meta.class entity.name.type.class"],settings:{foreground:"#ffcb6b"}},{name:"Inherited class",scope:"entity.other.inherited-class",settings:{foreground:"#a9c77d"}},{name:"Function name",scope:"entity.name.function",settings:{foreground:"#82AAFF"}},{name:"Function Parameters",scope:"variable.parameter",settings:{foreground:"#7986E7"}},{name:"Meta Tag",scope:["punctuation.definition.tag","meta.tag"],settings:{foreground:"#89DDFF"}},{name:"HTML Tag names",scope:["entity.name.tag support.class.component","meta.tag.other.html","meta.tag.other.js","meta.tag.other.tsx","entity.name.tag.tsx","entity.name.tag.js","entity.name.tag","meta.tag.js","meta.tag.tsx","meta.tag.html"],settings:{foreground:"#ff5572"}},{name:"Tag attribute",scope:"entity.other.attribute-name",settings:{foreground:"#ffcb6b"}},{name:"Entity Name Tag Custom",scope:"entity.name.tag.custom",settings:{foreground:"#ffcb6b"}},{name:"Library (function & constant)",scope:["support.function","support.constant"],settings:{foreground:"#82AAFF"}},{name:"Support Constant Property Value meta",scope:"support.constant.meta.property-value",settings:{foreground:"#89DDFF"}},{name:"Library class/type",scope:["support.type","support.class"],settings:{foreground:"#ffcb6b"}},{name:"Support Variable DOM",scope:"support.variable.dom",settings:{foreground:"#ffcb6b"}},{name:"Invalid",scope:"invalid",settings:{background:"#ff2c83",foreground:"#ffffff"}},{name:"Invalid deprecated",scope:"invalid.deprecated",settings:{foreground:"#ffffff",background:"#d3423e"}},{name:"Keyword Operator",scope:"keyword.operator",settings:{foreground:"#89DDFF"}},{name:"Keyword Operator Relational",scope:"keyword.operator.relational",settings:{foreground:"#c792ea"}},{name:"Keyword Operator Assignment",scope:"keyword.operator.assignment",settings:{foreground:"#c792ea"}},{name:"Double-Slashed Comment",scope:"comment.line.double-slash",settings:{foreground:"#697098"}},{name:"Object",scope:"object",settings:{foreground:"#cdebf7"}},{name:"Null",scope:"constant.language.null",settings:{foreground:"#ff5874"}},{name:"Meta Brace",scope:"meta.brace",settings:{foreground:"#bfc7d5"}},{name:"Meta Delimiter Period",scope:"meta.delimiter.period",settings:{foreground:"#c792ea"}},{name:"Punctuation Definition String",scope:"punctuation.definition.string",settings:{foreground:"#d9f5dd"}},{name:"Boolean",scope:"constant.language.boolean",settings:{foreground:"#ff5874"}},{name:"Object Comma",scope:"object.comma",settings:{foreground:"#ffffff"}},{name:"Variable Parameter Function",scope:"variable.parameter.function",settings:{foreground:"#89DDFF"}},{name:"Support Type Property Name & entity name tags",scope:["support.type.vendored.property-name","support.constant.vendored.property-value","support.type.property-name","meta.property-list entity.name.tag"],settings:{foreground:"#80CBC4"}},{name:"Entity Name tag reference in stylesheets",scope:"meta.property-list entity.name.tag.reference",settings:{foreground:"#ff5572"}},{name:"Constant Other Color RGB Value Punctuation Definition Constant",scope:"constant.other.color.rgb-value punctuation.definition.constant",settings:{foreground:"#F78C6C"}},{name:"Constant Other Color",scope:"constant.other.color",settings:{foreground:"#FFEB95"}},{name:"Keyword Other Unit",scope:"keyword.other.unit",settings:{foreground:"#FFEB95"}},{name:"Meta Selector",scope:"meta.selector",settings:{foreground:"#c792ea"}},{name:"Entity Other Attribute Name Id",scope:"entity.other.attribute-name.id",settings:{foreground:"#FAD430"}},{name:"Meta Property Name",scope:"meta.property-name",settings:{foreground:"#80CBC4"}},{name:"Doctypes",scope:["entity.name.tag.doctype","meta.tag.sgml.doctype"],settings:{foreground:"#c792ea",fontStyle:"italic"}},{name:"Punctuation Definition Parameters",scope:"punctuation.definition.parameters",settings:{foreground:"#d9f5dd"}},{name:"Keyword Control Operator",scope:"keyword.control.operator",settings:{foreground:"#89DDFF"}},{name:"Keyword Operator Logical",scope:"keyword.operator.logical",settings:{foreground:"#c792ea"}},{name:"Variable Instances",scope:["variable.instance","variable.other.instance","variable.reaedwrite.instance","variable.other.readwrite.instance"],settings:{foreground:"#ff5572"}},{name:"Variable Property Other",scope:["variable.other.property","variable.other.object.property"],settings:{foreground:"#89DDFF"}},{name:"Entity Name Function",scope:"entity.name.function",settings:{foreground:"#82AAFF"}},{name:"Keyword Operator Comparison",scope:"keyword.operator.comparison",settings:{foreground:"#c792ea"}},{name:"Support Constant, `new` keyword, Special Method Keyword",scope:["support.constant","keyword.other.special-method","keyword.other.new"],settings:{foreground:"#89DDFF"}},{name:"Support Function",scope:"support.function",settings:{foreground:"#89DDFF"}},{name:"Invalid Broken",scope:"invalid.broken",settings:{foreground:"#020e14",background:"#F78C6C"}},{name:"Invalid Unimplemented",scope:"invalid.unimplemented",settings:{background:"#8BD649",foreground:"#ffffff"}},{name:"Invalid Illegal",scope:"invalid.illegal",settings:{foreground:"#ffffff",background:"#ec5f67"}},{name:"Language Variable",scope:"variable.language",settings:{foreground:"#ff5572"}},{name:"Support Variable Property",scope:"support.variable.property",settings:{foreground:"#89DDFF"}},{name:"Variable Function",scope:"variable.function",settings:{foreground:"#82AAFF"}},{name:"Variable Interpolation",scope:"variable.interpolation",settings:{foreground:"#ec5f67"}},{name:"Meta Function Call",scope:"meta.function-call",settings:{foreground:"#82AAFF"}},{name:"Punctuation Section Embedded",scope:"punctuation.section.embedded",settings:{foreground:"#d3423e"}},{name:"Punctuation Tweaks",scope:["punctuation.terminator.expression","punctuation.definition.arguments","punctuation.definition.array","punctuation.section.array","meta.array"],settings:{foreground:"#bfc7d5"}},{name:"More Punctuation Tweaks",scope:["punctuation.definition.list.begin","punctuation.definition.list.end","punctuation.separator.arguments","punctuation.definition.list"],settings:{foreground:"#d9f5dd"}},{name:"Template Strings",scope:"string.template meta.template.expression",settings:{foreground:"#d3423e"}},{name:"Backtics(``) in Template Strings",scope:"string.template punctuation.definition.string",settings:{foreground:"#bfc7d5"}},{name:"Italics",scope:"italic",settings:{foreground:"#c792ea",fontStyle:"italic"}},{name:"Bold",scope:"bold",settings:{foreground:"#ffcb6b",fontStyle:"bold"}},{name:"Quote",scope:"quote",settings:{foreground:"#697098",fontStyle:"italic"}},{name:"Raw Code",scope:"raw",settings:{foreground:"#80CBC4"}},{name:"CoffeScript Variable Assignment",scope:"variable.assignment.coffee",settings:{foreground:"#89DDFF"}},{name:"CoffeScript Parameter Function",scope:"variable.parameter.function.coffee",settings:{foreground:"#bfc7d5"}},{name:"CoffeeScript Assignments",scope:"variable.assignment.coffee",settings:{foreground:"#89DDFF"}},{name:"C# Readwrite Variables",scope:"variable.other.readwrite.cs",settings:{foreground:"#bfc7d5"}},{name:"C# Classes & Storage types",scope:["entity.name.type.class.cs","storage.type.cs"],settings:{foreground:"#82AAFF"}},{name:"C# Namespaces",scope:"entity.name.type.namespace.cs",settings:{foreground:"#B2CCD6"}},{name:"Tag names in Stylesheets",scope:["entity.name.tag.css","entity.name.tag.less","entity.name.tag.custom.css"],settings:{foreground:"#ff5572"}},{name:"Wildcard(*) selector in Stylesheets",scope:["entity.name.tag.wildcard.css","entity.name.tag.wildcard.less","entity.name.tag.wildcard.scss","entity.name.tag.wildcard.sass"],settings:{foreground:"#ff5572"}},{name:"(C|SC|SA|LE)SS property value unit",scope:["keyword.other.unit.css","constant.length.units.css","keyword.other.unit.less","constant.length.units.less","keyword.other.unit.scss","constant.length.units.scss","keyword.other.unit.sass","constant.length.units.sass"],settings:{foreground:"#FFEB95"}},{name:"Attribute Name for CSS",scope:"meta.attribute-selector.css entity.other.attribute-name.attribute",settings:{foreground:"#F78C6C"}},{name:"punctuations in styled components",scope:["source.js source.css meta.property-list","source.js source.css punctuation.section","source.js source.css punctuation.terminator.rule","source.js source.css punctuation.definition.entity.end.bracket","source.js source.css punctuation.definition.entity.begin.bracket","source.js source.css punctuation.separator.key-value","source.js source.css punctuation.definition.attribute-selector","source.js source.css meta.property-list","source.js source.css meta.property-list punctuation.separator.comma","source.ts source.css punctuation.section","source.ts source.css punctuation.terminator.rule","source.ts source.css punctuation.definition.entity.end.bracket","source.ts source.css punctuation.definition.entity.begin.bracket","source.ts source.css punctuation.separator.key-value","source.ts source.css punctuation.definition.attribute-selector","source.ts source.css meta.property-list","source.ts source.css meta.property-list punctuation.separator.comma"],settings:{foreground:"#bfc7d5"}},{name:"Elixir Classes",scope:["source.elixir support.type.elixir","source.elixir meta.module.elixir entity.name.class.elixir"],settings:{foreground:"#82AAFF"}},{name:"Elixir Functions",scope:"source.elixir entity.name.function",settings:{foreground:"#ffcb6b"}},{name:"Elixir Constants",scope:["source.elixir constant.other.symbol.elixir","source.elixir constant.other.keywords.elixir"],settings:{foreground:"#82AAFF"}},{name:"Elixir String Punctuations",scope:"source.elixir punctuation.definition.string",settings:{foreground:"#a9c77d"}},{name:"Elixir",scope:["source.elixir variable.other.readwrite.module.elixir","source.elixir variable.other.readwrite.module.elixir punctuation.definition.variable.elixir"],settings:{foreground:"#ffcb6b"}},{name:"Elixir Binary Punctuations",scope:"source.elixir .punctuation.binary.elixir",settings:{foreground:"#c792ea"}},{name:"Go Function Calls",scope:"source.go meta.function-call.go",settings:{foreground:"#DDDDDD"}},{name:"GraphQL Variables",scope:"variable.qraphql",settings:{foreground:"#bfc7d5"}},{name:"ID Attribute Name in HTML",scope:"entity.other.attribute-name.id.html",settings:{foreground:"#ffcb6b"}},{name:"HTML Punctuation Definition Tag",scope:"punctuation.definition.tag.html",settings:{foreground:"#89DDFF"}},{name:"HTML Doctype",scope:"meta.tag.sgml.doctype.html",settings:{foreground:"#c792ea",fontStyle:"italic"}},{name:"JavaScript Classes",scope:"meta.class entity.name.type.class.js",settings:{foreground:"#ffcb8b"}},{name:"JavaScript Method Declaration e.g. `constructor`",scope:"meta.method.declaration storage.type.js",settings:{foreground:"#82AAFF",fontStyle:"normal"}},{name:"JavaScript Terminator",scope:"terminator.js",settings:{foreground:"#bfc7d5"}},{name:"JavaScript Meta Punctuation Definition",scope:"meta.js punctuation.definition.js",settings:{foreground:"#bfc7d5"}},{name:"Entity Names in Code Documentations",scope:["entity.name.type.instance.jsdoc","entity.name.type.instance.phpdoc"],settings:{foreground:"#eeffff"}},{name:"Other Variables in Code Documentations",scope:["variable.other.jsdoc","variable.other.phpdoc"],settings:{foreground:"#78ccf0"}},{name:"JavaScript module imports and exports",scope:["variable.other.meta.import.js","meta.import.js variable.other","variable.other.meta.export.js","meta.export.js variable.other"],settings:{foreground:"#bfc7d5"}},{name:"JavaScript Variable Parameter Function",scope:"variable.parameter.function.js",settings:{foreground:"#7986E7"}},{name:"JavaScript Variable Other ReadWrite",scope:"variable.other.readwrite.js",settings:{foreground:"#bfc7d5"}},{name:"Text nested in React tags",scope:["meta.jsx.children","meta.jsx.children.js","meta.jsx.children.tsx"],settings:{foreground:"#bfc7d5"}},{name:"JavaScript[React] Variable Other Object",scope:["variable.other.object.js","variable.other.object.jsx","meta.object-literal.key.js","meta.object-literal.key.jsx","variable.object.property.js","variable.object.property.jsx"],settings:{foreground:"#bfc7d5"}},{name:"JavaScript Variables",scope:["variable.js","variable.other.js"],settings:{foreground:"#bfc7d5"}},{name:"JavaScript Entity Name Type",scope:["entity.name.type.js","entity.name.type.module.js"],settings:{foreground:"#ffcb8b"}},{name:"JavaScript Support Classes",scope:"support.class.js",settings:{foreground:"#bfc7d5"}},{name:"JSON Property Names",scope:"support.type.property-name.json",settings:{foreground:"#C3E88D",fontStyle:"normal"}},{name:"JSON Support Constants",scope:"support.constant.json",settings:{foreground:"#ffcb6b"}},{name:"JSON Property values (string)",scope:"meta.structure.dictionary.value.json string.quoted.double",settings:{foreground:"#80CBC4",fontStyle:"normal"}},{name:"Strings in JSON values",scope:"string.quoted.double.json punctuation.definition.string.json",settings:{foreground:"#80CBC4",fontStyle:"normal"}},{name:"Specific JSON Property values like null",scope:"meta.structure.dictionary.json meta.structure.dictionary.value constant.language",settings:{foreground:"#ff5874"}},{name:"Ruby Variables",scope:"variable.other.ruby",settings:{foreground:"#bfc7d5"}},{name:"Ruby Hashkeys",scope:"constant.language.symbol.hashkey.ruby",settings:{foreground:"#89DDFF"}},{name:"LESS Tag names",scope:"entity.name.tag.less",settings:{foreground:"#ff5572"}},{name:"Attribute Name for LESS",scope:"meta.attribute-selector.less entity.other.attribute-name.attribute",settings:{foreground:"#F78C6C"}},{name:"Markup Headings",scope:"markup.heading",settings:{foreground:"#82b1ff"}},{name:"Markup Italics",scope:"markup.italic",settings:{foreground:"#c792ea",fontStyle:"italic"}},{name:"Markup Bold",scope:"markup.bold",settings:{foreground:"#ffcb6b",fontStyle:"bold"}},{name:"Markup Quote + others",scope:"markup.quote",settings:{foreground:"#697098",fontStyle:"italic"}},{name:"Markup Raw Code + others",scope:"markup.inline.raw",settings:{foreground:"#80CBC4"}},{name:"Markup Links",scope:["markup.underline.link","markup.underline.link.image"],settings:{foreground:"#ff869a"}},{name:"Markup Attributes",scope:["markup.meta.attribute-list"],settings:{foreground:"#a9c77d"}},{name:"Markup Admonitions",scope:"markup.admonition",settings:{fontStyle:"bold"}},{name:"Markup Lists",scope:"markup.list.bullet",settings:{foreground:"#D9F5DD"}},{name:"Markup Superscript and Subscript",scope:["markup.superscript","markup.subscript"],settings:{fontStyle:"italic"}},{name:"Markdown Link Title and Description",scope:["string.other.link.title.markdown","string.other.link.description.markdown"],settings:{foreground:"#bfc7d5"}},{name:"Markdown Punctuation",scope:["punctuation.definition.string.markdown","punctuation.definition.string.begin.markdown","punctuation.definition.string.end.markdown","meta.link.inline.markdown punctuation.definition.string"],settings:{foreground:"#82b1ff"}},{name:"Markdown MetaData Punctuation",scope:["punctuation.definition.metadata.markdown"],settings:{foreground:"#ff5572"}},{name:"Markdown List Punctuation",scope:["beginning.punctuation.definition.list.markdown"],settings:{foreground:"#82b1ff"}},{name:"Asciidoc Function",scope:"entity.name.function.asciidoc",settings:{foreground:"#F78C6C"}},{name:"PHP Variables",scope:"variable.other.php",settings:{foreground:"#bec5d4"}},{name:"Support Classes in PHP",scope:"support.class.php",settings:{foreground:"#ffcb8b"}},{name:"Punctuations in PHP function calls",scope:"meta.function-call.php punctuation",settings:{foreground:"#bfc7d5"}},{name:"PHP Global Variables",scope:"variable.other.global.php",settings:{foreground:"#ffcb6b"}},{name:"Declaration Punctuation in PHP Global Variables",scope:"variable.other.global.php punctuation.definition.variable",settings:{foreground:"#ffcb6b"}},{name:"Language Constants in Python",scope:"constant.language.python",settings:{foreground:"#ff5874"}},{name:"Python Function Parameter and Arguments",scope:["variable.parameter.function.python","meta.function-call.arguments.python"],settings:{foreground:"#7986E7"}},{name:"Python Function Call",scope:["meta.function-call.python","meta.function-call.generic.python"],settings:{foreground:"#B2CCD6"}},{name:"Punctuations in Python",scope:"punctuation.python",settings:{foreground:"#bfc7d5"}},{name:"Decorator Functions in Python",scope:"entity.name.function.decorator.python",settings:{foreground:"#ffcb6b"}},{name:"Python Language Variable",scope:"source.python variable.language.special",settings:{foreground:"#8EACE3"}},{name:"SCSS Variable",scope:["variable.scss","variable.sass","variable.parameter.url.scss","variable.parameter.url.sass"],settings:{foreground:"#DDDDDD"}},{name:"Variables in SASS At-Rules",scope:["source.css.scss meta.at-rule variable","source.css.sass meta.at-rule variable"],settings:{foreground:"#82AAFF"}},{name:"Variables in SASS At-Rules",scope:["source.css.scss meta.at-rule variable","source.css.sass meta.at-rule variable"],settings:{foreground:"#bec5d4"}},{name:"Attribute Name for SASS",scope:["meta.attribute-selector.scss entity.other.attribute-name.attribute","meta.attribute-selector.sass entity.other.attribute-name.attribute"],settings:{foreground:"#F78C6C"}},{name:"Tag names in SASS",scope:["entity.name.tag.scss","entity.name.tag.sass"],settings:{foreground:"#ff5572"}},{name:"TypeScript[React] Variables and Object Properties",scope:["variable.other.readwrite.alias.ts","variable.other.readwrite.alias.tsx","variable.other.readwrite.ts","variable.other.readwrite.tsx","variable.other.object.ts","variable.other.object.tsx","variable.object.property.ts","variable.object.property.tsx","variable.other.ts","variable.other.tsx","variable.tsx","variable.ts"],settings:{foreground:"#bfc7d5"}},{name:"TypeScript[React] Entity Name Types",scope:["entity.name.type.ts","entity.name.type.tsx"],settings:{foreground:"#78ccf0"}},{name:"TypeScript[React] Node Classes",scope:["support.class.node.ts","support.class.node.tsx"],settings:{foreground:"#82AAFF"}},{name:"TypeScript[React] Entity Name Types as Parameters",scope:["meta.type.parameters.ts entity.name.type","meta.type.parameters.tsx entity.name.type"],settings:{foreground:"#eeffff"}},{name:"TypeScript[React] Import/Export Punctuations",scope:["meta.import.ts punctuation.definition.block","meta.import.tsx punctuation.definition.block","meta.export.ts punctuation.definition.block","meta.export.tsx punctuation.definition.block"],settings:{foreground:"#bfc7d5"}},{name:"TypeScript[React] Punctuation Decorators",scope:["meta.decorator punctuation.decorator.ts","meta.decorator punctuation.decorator.tsx"],settings:{foreground:"#82AAFF"}},{name:"TypeScript[React] Punctuation Decorators",scope:"meta.tag.js meta.jsx.children.tsx",settings:{foreground:"#82AAFF"}},{name:"YAML Entity Name Tags",scope:"entity.name.tag.yaml",settings:{foreground:"#89DDFF"}},{name:"handlebars variables",scope:"variable.parameter.handlebars",settings:{foreground:"#bec5d4"}},{name:"handlebars parameters",scope:"entity.other.attribute-name.handlebars variable.parameter.handlebars",settings:{foreground:"#ffcb6b"}},{name:"handlebars enitity attribute names",scope:"entity.other.attribute-name.handlebars",settings:{foreground:"#89DDFF"}},{name:"handlebars enitity attribute values",scope:"entity.other.attribute-value.handlebars variable.parameter.handlebars",settings:{foreground:"#7986E7"}},{name:"normalize font style of certain components",scope:["meta.tag.js meta.embedded.expression.js punctuation.section.embedded.begin.js","meta.tag.js meta.embedded.expression.js punctuation.section.embedded.end.js","meta.property-list.css meta.property-value.css variable.other.less","punctuation.section.embedded.begin.js.jsx","punctuation.section.embedded.end.js.jsx","meta.property-list.scss variable.scss","meta.property-list.sass variable.sass","keyword.operator.logical","keyword.operator.arithmetic","keyword.operator.bitwise","keyword.operator.increment","keyword.operator.ternary","keyword.operator.comparison","keyword.operator.assignment","keyword.operator.operator","keyword.operator.or.regexp","keyword.operator.expression.in","keyword.operator.type","punctuation.section.embedded.js","punctuation.definintion.string","punctuation"],settings:{fontStyle:"normal"}}],s_t={name:Qmt,author:Jmt,maintainers:e_t,type:t_t,semanticClass:n_t,colors:i_t,tokenColors:r_t};var Oz;const YCe=Xmt,o_t=s_t,ZCe=((Oz=YCe.contributes)===null||Oz===void 0?void 0:Oz.themes)||[],a_t=ZCe[0];ZCe[0]=Object.assign({},a_t,o_t);const l_t="webstorm-intellij-darcula-theme",u_t="Webstorm IntelliJ Darcula Theme",c_t="A Darcula Theme designed by IntelliJ",d_t="1.1.1",h_t="xr0master",f_t="MIT",g_t="view.png",p_t={url:"https://github.com/xr0master/vscode-intellij-darcula-theme",type:"git"},m_t={vscode:"^1.27.0"},__t=["Themes"],v_t={themes:[{id:"Webstorm IntelliJ Darcula Theme",label:"Webstorm IntelliJ Darcula Theme",uiTheme:"vs-dark",path:"./themes/darcula-color-theme.json"}]},b_t={name:l_t,displayName:u_t,description:c_t,version:d_t,publisher:h_t,license:f_t,icon:g_t,repository:p_t,engines:m_t,categories:__t,contributes:v_t},C_t="Webstorm IntelliJ Darcula Theme",y_t="dark",w_t={"activityBar.background":"#3c3f41","activityBar.border":"#4b4b4b","activityBar.foreground":"#ffffff","activityBarBadge.background":"#cc7832","dropdown.background":"#3c3f41","dropdown.border":"#4b4b4b","dropdown.foreground":"#bababa","editor.background":"#2b2b2b","editor.foreground":"#a9b7c6","editor.inactiveSelectionBackground":"#3a3d41","editor.lineHighlightBackground":"#323232","editor.selectionHighlightBackground":"#415a41","editorIndentGuide.activeBackground":"#606060","editorIndentGuide.background":"#4b4b4b","editorLineNumber.activeForeground":"#999999","editorLineNumber.foreground":"#606366","input.background":"#3c3f41","input.border":"#4b4b4b","input.foreground":"#bababa","input.placeholderForeground":"#a6a6a6","list.dropBackground":"#373a3c","menu.background":"#3c3f41","menu.foreground":"#bababa","panel.background":"#3c3f41","panel.border":"#4b4b4b","panelTitle.activeBorder":"#bababa","panelTitle.activeForeground":"#bababa","panelTitle.inactiveForeground":"#888888","scrollbarSlider.activeBackground":"#707070","scrollbarSlider.background":"#505050","scrollbarSlider.hoverBackground":"#676767","settings.numberInputBackground":"#292929","settings.textInputBackground":"#292929","sideBar.background":"#3c3f41","sideBar.border":"#4b4b4b","sideBar.foreground":"#bababa","sideBarSectionHeader.foreground":"#bababa","sideBarTitle.foreground":"#bababa","statusBar.background":"#3c3f41","statusBar.border":"#4b4b4b","statusBar.foreground":"#bababa","tab.activeBackground":"#515658","tab.activeBorder":"#bababa","tab.activeForeground":"#bababa","tab.border":"#4b4b4b","tab.inactiveBackground":"#3c3e3f","tab.inactiveForeground":"#a1a1a1","terminal.ansiBlack":"#ffffff","terminal.ansiBlue":"#5394ec","terminal.ansiBrightBlue":"#7eaef1","terminal.ansiBrightCyan":"#6cdada","terminal.ansiBrightGreen":"#a8c023","terminal.ansiBrightMagenta":"#ff99ff","terminal.ansiBrightRed":"#ff8785","terminal.ansiBrightYellow":"#ffff00","terminal.ansiCyan":"#299999","terminal.ansiGreen":"#a8c023","terminal.ansiMagenta":"#ae8abe","terminal.ansiRed":"#ff6b68","terminal.ansiWhite":"#1f1f1f","terminal.ansiYellow":"#d6bf55","terminal.background":"#2b2b2b","terminal.border":"#4b4b4b","widget.shadow":"#1a1a1aaa"},S_t=[{scope:["meta.embedded","source.groovy.embedded"],settings:{foreground:"#D4D4D4"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{scope:"header",settings:{foreground:"#000080"}},{scope:"comment",settings:{foreground:"#6A9955"}},{scope:"constant.language",settings:{foreground:"#569cd6"}},{scope:["constant.numeric"],settings:{foreground:"#b5cea8"}},{scope:"constant.regexp",settings:{foreground:"#646695"}},{scope:"entity.name.tag",settings:{foreground:"#569cd6"}},{scope:"entity.name.tag.css",settings:{foreground:"#d7ba7d"}},{scope:"entity.other.attribute-name",settings:{foreground:"#9cdcfe"}},{scope:["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],settings:{foreground:"#d7ba7d"}},{scope:"invalid",settings:{foreground:"#f44747"}},{scope:"markup.underline",settings:{fontStyle:"underline"}},{scope:"markup.bold",settings:{fontStyle:"bold",foreground:"#569cd6"}},{scope:"markup.heading",settings:{fontStyle:"bold",foreground:"#569cd6"}},{scope:"markup.italic",settings:{fontStyle:"italic"}},{scope:"markup.inserted",settings:{foreground:"#b5cea8"}},{scope:"markup.deleted",settings:{foreground:"#ce9178"}},{scope:"markup.changed",settings:{foreground:"#569cd6"}},{scope:"punctuation.definition.quote.begin.markdown",settings:{foreground:"#6A9955"}},{scope:"punctuation.definition.list.begin.markdown",settings:{foreground:"#6796e6"}},{scope:"markup.inline.raw",settings:{foreground:"#ce9178"}},{name:"brackets of XML/HTML tags",scope:"punctuation.definition.tag",settings:{foreground:"#808080"}},{scope:"meta.preprocessor",settings:{foreground:"#569cd6"}},{scope:"meta.preprocessor.string",settings:{foreground:"#ce9178"}},{scope:"meta.preprocessor.numeric",settings:{foreground:"#b5cea8"}},{scope:"meta.structure.dictionary.key.python",settings:{foreground:"#9cdcfe"}},{scope:"meta.diff.header",settings:{foreground:"#569cd6"}},{scope:"storage",settings:{foreground:"#569cd6"}},{scope:"storage.type",settings:{foreground:"#569cd6"}},{scope:"storage.modifier",settings:{foreground:"#569cd6"}},{scope:"string",settings:{foreground:"#ce9178"}},{scope:"string.tag",settings:{foreground:"#ce9178"}},{scope:"string.value",settings:{foreground:"#ce9178"}},{scope:"string.regexp",settings:{foreground:"#d16969"}},{name:"String interpolation",scope:["punctuation.definition.template-expression.begin","punctuation.definition.template-expression.end","punctuation.section.embedded"],settings:{foreground:"#569cd6"}},{name:"Reset JavaScript string interpolation expression",scope:["meta.template.expression"],settings:{foreground:"#d4d4d4"}},{scope:["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less","source.coffee.embedded"],settings:{foreground:"#9cdcfe"}},{scope:"keyword",settings:{foreground:"#569cd6"}},{scope:"keyword.control",settings:{foreground:"#569cd6"}},{scope:"keyword.operator",settings:{foreground:"#d4d4d4"}},{scope:["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.instanceof","keyword.operator.logical.python"],settings:{foreground:"#569cd6"}},{scope:"keyword.other.unit",settings:{foreground:"#b5cea8"}},{scope:["punctuation.section.embedded.begin.php","punctuation.section.embedded.end.php"],settings:{foreground:"#569cd6"}},{scope:"support.function.git-rebase",settings:{foreground:"#9cdcfe"}},{scope:"constant.sha.git-rebase",settings:{foreground:"#b5cea8"}},{name:"coloring of the Java import and package identifiers",scope:["storage.modifier.import.java","variable.language.wildcard.java","storage.modifier.package.java"],settings:{foreground:"#d4d4d4"}},{name:"this.self",scope:"variable.language",settings:{foreground:"#569cd6"}},{name:"Function declarations",scope:["entity.name.function","support.function","support.constant.handlebars"],settings:{foreground:"#DCDCAA"}},{name:"Types declaration and references",scope:["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.numeric.go","storage.type.byte.go","storage.type.boolean.go","storage.type.string.go","storage.type.uintptr.go","storage.type.error.go","storage.type.rune.go","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],settings:{foreground:"#4EC9B0"}},{name:"Types declaration and references, TS grammar specific",scope:["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"],settings:{foreground:"#4EC9B0"}},{name:"Control flow keywords",scope:"keyword.control",settings:{foreground:"#C586C0"}},{name:"Variable and parameter name",scope:["variable","meta.definition.variable.name","support.variable","entity.name.variable"],settings:{foreground:"#9CDCFE"}},{name:"Object keys, TS grammar specific",scope:["meta.object-literal.key"],settings:{foreground:"#9CDCFE"}},{name:"CSS property value",scope:["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],settings:{foreground:"#CE9178"}},{name:"Regular expression groups",scope:["punctuation.definition.group.regexp","punctuation.definition.group.assertion.regexp","punctuation.definition.character-class.regexp","punctuation.character.set.begin.regexp","punctuation.character.set.end.regexp","keyword.operator.negation.regexp","support.other.parenthesis.regexp"],settings:{foreground:"#CE9178"}},{scope:["constant.character.character-class.regexp","constant.other.character-class.set.regexp","constant.other.character-class.regexp","constant.character.set.regexp"],settings:{foreground:"#d16969"}},{scope:["keyword.operator.or.regexp","keyword.control.anchor.regexp"],settings:{foreground:"#DCDCAA"}},{scope:"keyword.operator.quantifier.regexp",settings:{foreground:"#d7ba7d"}},{scope:"constant.character",settings:{foreground:"#569cd6"}},{scope:"constant.character.escape",settings:{foreground:"#d7ba7d"}},{scope:"token.info-token",settings:{foreground:"#6796e6"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#f44747"}},{scope:"token.debug-token",settings:{foreground:"#b267e6"}},{scope:"string",settings:{foreground:"#6A8759"}},{scope:"keyword - keyword.operator",settings:{foreground:"#CC7832"}},{scope:"keyword.control",settings:{foreground:"#CC7832"}},{scope:"storage",settings:{foreground:"#CC7832"}},{scope:"storage.type",settings:{foreground:"#CC7832"}},{scope:"constant.numeric",settings:{foreground:"#6897BB"}},{scope:"entity.name.type",settings:{foreground:"#CC7832"}},{scope:"entity.name.class",settings:{foreground:"#CC7832"}},{scope:"support.type",settings:{foreground:"#CC7832"}},{scope:"support.class",settings:{foreground:"#CC7832"}},{scope:"entity.name.function",settings:{foreground:"#FFC66D"}},{scope:"support.function",settings:{foreground:"#FFC66D"}},{scope:"variable",settings:{foreground:"#9876AA"}},{scope:"entity.name.variable",settings:{foreground:"#9876AA"}},{name:"Comments",scope:["comment","comment.block","comment.line"],settings:{foreground:"#808080",fontStyle:"italic"}},{scope:["punctuation.terminator.statement","punctuation.separator.comma","punctuation.separator.parameter","punctuation.separator.dictionary.key-value.json","punctuation.separator.dictionary.key-value.json.comments","punctuation.separator.dictionary.pair.json","punctuation.separator.dictionary.pair.json.comments","punctuation.separator.array.json","punctuation.separator.array.json.comments","constant.character.escape","keyword.control.anchor.regexp"],settings:{foreground:"#CC7832"}},{name:"Global keywords",scope:["constant.language","keyword.control","keyword.operator.expression","keyword.operator.new","keyword.other.debugger","support.type","storage.type","storage.modifier","variable.language.super","variable.language.this"],settings:{foreground:"#CC7832",fontStyle:"bold"}},{name:"String",scope:["punctuation.definition.string","string.regexp","constant.other.character-class"],settings:{foreground:"#6A8759"}},{name:"Comment Documentation",scope:["comment.block.documentation","entity.name.type.instance.jsdoc","variable.other.jsdoc"],settings:{foreground:"#6A8759"}},{name:"JsDocs",scope:"storage.type.class.jsdoc",settings:{foreground:"#6A8759",fontStyle:"italic bold underline"}},{name:"Main Text Color",scope:["punctuation.accessor","punctuation.separator.key-value","punctuation.definition.block","variable.other.readwrite","variable.other.constant","variable.parameter","variable.other.object","variable.language.arguments","support.variable","support.variable.object","support.class","keyword","keyword.operator.logical","keyword.operator.optional","keyword.operator.type.annotation","entity.name.type","entity.other.inherited-class","constant.language.import-export-all","storage.type.function.arrow","meta.function.expression","meta.object.member","meta.brace.round","meta.brace.square"],settings:{foreground:"#A9B7C6"}},{name:"Veriables",scope:["meta.function-call","meta.object.member","variable.other.property","variable.other.object.property","meta.object-literal.key","support.variable.property"],settings:{foreground:"#9876AA"}},{name:"Constants",scope:["variable.other.constant.property","variable.other.constant.object.property"],settings:{foreground:"#9876AA",fontStyle:"italic"}},{name:"JSON",scope:["support.type.property-name","support.type.property-name.json.comments","punctuation.support.type.property-name.end.json.comments","punctuation.support.type.property-name.begin.json.comments"],settings:{foreground:"#9876AA",fontStyle:""}},{name:"Regexp Blocks",scope:["punctuation.definition.group.regexp","punctuation.definition.character-class.regexp","punctuation.definition.group.no-capture.regexp","punctuation.definition.group.assertion.regexp","constant.other.character-class.regexp"],settings:{foreground:"#FFC66D"}},{name:"Regex set and etc",scope:["constant.regexp","keyword.operator.quantifier.regexp"],settings:{foreground:"#6897BB"}},{name:"XML/HTML tags",scope:["keyword.other.doctype.xml","entity.name.tag","support.class","punctuation.definition.tag"],settings:{foreground:"#E8BF6A"}},{name:"XML/HTML attribute name",scope:["variable.language.documentroot.xml","entity.other.attribute-name","support.variable.dom.js"],settings:{foreground:"#BABABA"}},{name:"XML/HTML embedded section",scope:["punctuation.section.embedded"],settings:{foreground:"#a9b7c6"}},{name:"HTML attribute value",scope:"text.html.basic string",settings:{foreground:"#A5C261"}},{name:"Constant characters",scope:"constant.character.entity",settings:{foreground:"#6D9CBE"}},{name:"YAML comments",scope:"comment.line.number-sign.yaml",settings:{foreground:"#629755",fontStyle:"italic"}},{name:"YAML key",scope:"entity.name.tag.yaml",settings:{foreground:"#CC7832"}},{name:"YAML block/text",scope:["source.yaml keyword.control","source.yaml constant.language","source.yaml storage.modifier.chomping-indicator","string.unquoted.plain.out.yaml","constant.numeric.integer.yaml"],settings:{foreground:"#A9B7C6",fontStyle:""}},{name:"YAML Anchor/Alias",scope:["entity.name.type.anchor.yaml","variable.other.alias.yaml"],settings:{foreground:"#E8BF6A"}},{name:"CSS/SCSS global key",scope:["keyword.other.important","keyword.other.default"],settings:{foreground:"#CC7832",fontStyle:""}},{name:"CSS atribute/selector",scope:["entity.other.attribute-name.css","entity.other.attribute-name.id.css","entity.other.attribute-name.class.css","entity.other.attribute-name.pseudo-element.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.class.mixin.css","support.function.url.css","constant.other.unicode-range.css","support.constant.language-range.css","punctuation.definition.entity.css"],settings:{foreground:"#E8BF6A"}},{name:"CSS URL",scope:"variable.parameter.url.css",settings:{foreground:"#287BDE"}},{name:"CSS property name",scope:["support.type.property-name.css","support.type.vendored.property-name"],settings:{foreground:"#BABABA",fontStyle:""}},{name:"CSS tag name",scope:["entity.name.tag.css"],settings:{foreground:"#CC7832"}},{name:"CSS terminator",scope:["punctuation.terminator.rule.css"],settings:{foreground:"#CC7832"}},{name:"CSS colon/braces and etc",scope:["keyword.other.unit.percentage.css","punctuation.section.function.end.bracket.round.css","punctuation.section.function.begin.bracket.round.css","punctuation.section.property-list.begin.bracket.curly.css","punctuation.section.property-list.end.bracket.curly.css","punctuation.definition.entity.begin.bracket.square.css","punctuation.definition.entity.end.bracket.square.css"],settings:{foreground:"#A9B7C6"}},{name:"CSS property value",scope:["support.constant.font-name.css","support.constant.color.w3c-standard-color-name.css","support.constant.property-value.css","keyword.other.unit.px.css","keyword.other.unit.em.css"],settings:{foreground:"#A5C261"}},{name:"CSS hex color",scope:"constant.other.color.rgb-value.hex.css",settings:{foreground:"#6897BB"}},{name:"CSS comma",scope:"punctuation.separator.list.comma.css",settings:{foreground:"#CC7832"}},{name:"Sass/SCSS variable",scope:"variable.scss",settings:{foreground:"#6D9CBE"}},{name:"Markdown",scope:["entity.name.section.markdown","punctuation.definition.heading"],settings:{foreground:"#CC7832",fontStyle:"bold"}},{name:"Markdown link",scope:"markup.underline.link",settings:{foreground:"#6D9CBE",fontStyle:"italic"}}],x_t={name:C_t,type:y_t,colors:w_t,tokenColors:S_t};var Mz;const XCe=b_t,E_t=x_t,QCe=((Mz=XCe.contributes)===null||Mz===void 0?void 0:Mz.themes)||[],L_t=QCe[0];QCe[0]=Object.assign({},L_t,E_t);const D_t="github-plus-theme",T_t="GitHub Plus Theme",I_t="A GitHub inspired color theme for VSCode code and interface!",k_t="1.4.2",N_t="thenikso",A_t="icon.png",O_t={type:"git",url:"https://github.com/thenikso/github-plus-theme"},M_t={url:"https://github.com/thenikso/github-plus-theme/issues"},R_t={vscode:"^1.16.0"},P_t=["Themes"],F_t={themes:[{id:"GitHub Plus",label:"GitHub Plus",uiTheme:"vs",path:"./themes/github-plus-theme.json"}]},B_t={publish:"vsce publish"},W_t={id:"d0db9e58-8cdf-49c5-87bf-02f037e10bb0",publisherDisplayName:"thenikso",publisherId:"e748af4a-d17d-4c3b-a7e1-2592de9a7e09"},V_t={name:D_t,displayName:T_t,description:I_t,version:k_t,publisher:N_t,icon:A_t,repository:O_t,bugs:M_t,engines:R_t,categories:P_t,contributes:F_t,scripts:B_t,__metadata:W_t},H_t="light",$_t={focusBorder:"#fafbfc","inputOption.activeBorder":"#e36209","editor.background":"#ffffff","editor.foreground":"#24292e","editor.lineHighlightBackground":"#fffbdd","editorIndentGuide.background":"#eeeeee","editorLineNumber.foreground":"#cccccc","editorBracketMatch.background":"#f1f8ff","editorBracketMatch.border":"#c8e1ff","titleBar.activeBackground":"#fafbfc","titleBar.border":"#e1e4e8","statusBar.foreground":"#24292e","statusBar.noFolderForeground":"#24292e","statusBar.background":"#fafbfc","statusBar.noFolderBackground":"#fafbfc","statusBar.border":"#e1e4e8","statusBar.debuggingBackground":"#fafbfc","statusBar.debuggingForeground":"#24292e","activityBar.background":"#24292e","activityBar.foreground":"#fafbfc","activityBarBadge.background":"#54a3ff","sideBar.background":"#fafbfc","sideBar.foreground":"#586069","sideBar.border":"#e1e4e8","sideBarTitle.foreground":"#24292e","sideBarSectionHeader.background":"#F1F2F3","sideBarSectionHeader.foreground":"#24292e","notification.background":"#54a3ff","editorGroupHeader.tabsBackground":"#fafbfc","editorGroupHeader.tabsBorder":"#e1e4e8","tab.activeBackground":"#ffffff","tab.activeBorder":"#e36209","tab.inactiveBackground":"#fafbfc","tab.border":"#e1e4e8","tab.inactiveForeground":"#586069","scrollbar.shadow":"#00000000","quickInputList.focusBackground":"#e7e6e5","quickInputList.focusForeground":"#24292e","list.focusOutline":"#ffffff","list.highlightForeground":"#0066BF","list.focusHighlightForeground":"#0066BF","terminal.background":"#ffffff","terminal.foreground":"#333333","terminal.ansiBlack":"#414141","terminal.ansiRed":"#D73A49","terminal.ansiGreen":"#90D259","terminal.ansiYellow":"#F7C400","terminal.ansiBlue":"#005CC5","terminal.ansiMagenta":"#FF73FD","terminal.ansiCyan":"#0BC7D7","terminal.ansiWhite":"#BFBFBF","terminal.ansiBrightBlack":"#989898","terminal.ansiBrightRed":"#FA6F71","terminal.ansiBrightGreen":"#35D61C","terminal.ansiBrightYellow":"#FFCA39","terminal.ansiBrightBlue":"#1C23D6","terminal.ansiBrightMagenta":"#FF00FF","terminal.ansiBrightCyan":"#3CD7E7","terminal.ansiBrightWhite":"#E0E0E0","terminalCursor.foreground":"#363636"},z_t=[{settings:{foreground:"#24292eff",background:"#ffffffff"}},{scope:["keyword.operator.accessor","meta.group.braces.round.function.arguments","meta.template.expression","markup.fenced_code meta.embedded.block"],settings:{foreground:"#24292eff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:["strong","markup.heading.markdown","markup.bold.markdown"],settings:{fontStyle:"bold"}},{scope:["markup.italic.markdown"],settings:{fontStyle:"italic"}},{scope:"meta.link.inline.markdown",settings:{fontStyle:"underline",foreground:"#005cc5"}},{scope:["comment","markup.fenced_code","markup.inline"],settings:{foreground:"#6a737d"}},{scope:"string",settings:{foreground:"#032f62"}},{scope:["constant.numeric","constant.language","variable.language.this","variable.other.class","variable.other.constant","meta.property-name","meta.property-value","support"],settings:{foreground:"#005cc5"}},{scope:["keyword","storage.modifier","storage.type","storage.control.clojure","entity.name.function.clojure","support.function.node","support.type.property-name.json","punctuation.separator.key-value","punctuation.definition.template-expression","support.constant.property-value.css"],settings:{foreground:"#d73a49"}},{scope:"variable.parameter.function",settings:{foreground:"#E27F2D"}},{scope:["entity.name.type","entity.other.inherited-class","meta.function-call","meta.instance.constructor","entity.other.attribute-name","entity.name.function","constant.keyword.clojure"],settings:{foreground:"#6f42c1"}},{scope:["entity.name.tag","string.quoted","string.regexp","string.interpolated","string.template","keyword.other.template"],settings:{foreground:"#22863a"}},{scope:"token.info-token",settings:{foreground:"#316bcd"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:["token.error-token","invalid"],settings:{foreground:"#cd3131"}},{scope:"token.debug-token",settings:{foreground:"#800080"}},{scope:"markup.inserted",settings:{foreground:"#22863a"}},{scope:"markup.deleted",settings:{foreground:"#d73a49"}},{scope:"markup.changed",settings:{foreground:"#005cc5"}},{scope:"meta.diff.header",settings:{foreground:"#6a737d"}},{scope:["constant.numeric.css","support.function.misc.css","constant.other.color.rgb-value.hex.css","punctuation.section.function.begin.bracket.round.css","punctuation.section.function.end.bracket.round.css"],settings:{foreground:"#353535"}}],U_t={type:H_t,colors:$_t,tokenColors:z_t};var Rz;const JCe=V_t,j_t=U_t,eye=((Rz=JCe.contributes)===null||Rz===void 0?void 0:Rz.themes)||[],K_t=eye[0];eye[0]=Object.assign({},K_t,j_t);const q_t={id:"ExtendsEditor",name:"Extends Editor",dispose(){},activate(){on.editor.onCloseTab((i,e)=>{i!==void 0&&e!==void 0&&on.editor.closeTab(i,e)}),on.editor.onCloseAll(i=>{i!==void 0&&on.editor.closeAll(i)}),on.editor.onCloseOther((i,e)=>{i&&e!==void 0&&on.editor.closeOther(i,e)}),on.editor.onCloseToLeft((i,e)=>{i&&e!==void 0&&on.editor.closeToLeft(i,e)}),on.editor.onCloseToRight((i,e)=>{i&&e!==void 0&&on.editor.closeToRight(i,e)})}},G_t=[upt,q_t,lpt,dpt,hpt,vYe,WCe,qCe,YCe,XCe,JCe,apt];var bS;(function(i){i.beforeInit="before.init",i.beforeLoad="before.load"})(bS||(bS={}));class Y_t extends CE{constructor(e){super(),this._config={extensions:G_t.concat(),defaultLocale:"en"},this.rendered=!1,this.initialLocaleService=t=>{const n=t.reduce((r,s)=>{var o;const a=((o=s.contributes)===null||o===void 0?void 0:o.languages)||[];return r.concat(a)},[]);on.i18n.initialize(n,localStorage.getItem(rG)||this._config.defaultLocale)},this.getConfig=()=>Object.assign({},this._config),this.render=t=>{if(!this.rendered){this.emit(bS.beforeInit);const[n,r]=on.extension.splitLanguagesExts(this._config.extensions);this.initialLocaleService(n);const s=[d9,h9,u9,TY,IY,AY,iE,p9,nE,EY,kY,f9,LY,NY,DY,c9,g9];on.layout.onWorkbenchDidMount(()=>{this.rendered||(on.monacoService.initWorkspace(on.layout.container),Object.keys(s).forEach(o=>{var a;const u=s[o],c=qe.resolve(u);(a=c.initView)===null||a===void 0||a.call(c)}),this.emit(bS.beforeLoad),on.extension.load(r),this.rendered=!0)})}return t},this.onBeforeInit=t=>{this.subscribe(bS.beforeInit,t)},this.onBeforeLoad=t=>{this.subscribe(bS.beforeLoad,t)},e.defaultLocale&&(this._config.defaultLocale=e.defaultLocale),Array.isArray(e.extensions)&&this._config.extensions.push(...e.extensions)}}var OY;(function(i){let e=null;function t(r){return e||(e=new Y_t(r),e)}i.create=t;function n(){e=null}i.clearInstance=n})(OY||(OY={}));function Z_t(i){return OY.create(i)}function eue(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tye={exports:{}},x8={exports:{}};const X_t={},Q_t=Object.freeze(Object.defineProperty({__proto__:null,default:X_t},Symbol.toStringTag,{value:"Module"})),nye=xye(Q_t);x8.exports;var tue;function J_t(){return tue||(tue=1,function(i){(function(e,t){function n($,I){if(!$)throw new Error(I||"Assertion failed")}function r($,I){$.super_=I;var O=function(){};O.prototype=I.prototype,$.prototype=new O,$.prototype.constructor=$}function s($,I,O){if(s.isBN($))return $;this.negative=0,this.words=null,this.length=0,this.red=null,$!==null&&((I==="le"||I==="be")&&(O=I,I=10),this._init($||0,I||10,O||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=nye.Buffer}catch{}s.isBN=function(I){return I instanceof s?!0:I!==null&&typeof I=="object"&&I.constructor.wordSize===s.wordSize&&Array.isArray(I.words)},s.max=function(I,O){return I.cmp(O)>0?I:O},s.min=function(I,O){return I.cmp(O)<0?I:O},s.prototype._init=function(I,O,B){if(typeof I=="number")return this._initNumber(I,O,B);if(typeof I=="object")return this._initArray(I,O,B);O==="hex"&&(O=16),n(O===(O|0)&&O>=2&&O<=36),I=I.toString().replace(/\s+/g,"");var W=0;I[0]==="-"&&(W++,this.negative=1),W<I.length&&(O===16?this._parseHex(I,W,B):(this._parseBase(I,O,W),B==="le"&&this._initArray(this.toArray(),O,B)))},s.prototype._initNumber=function(I,O,B){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[I&67108863],this.length=1):I<4503599627370496?(this.words=[I&67108863,I/67108864&67108863],this.length=2):(n(I<9007199254740992),this.words=[I&67108863,I/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),O,B)},s.prototype._initArray=function(I,O,B){if(n(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var j,U,K=0;if(B==="be")for(W=I.length-1,j=0;W>=0;W-=3)U=I[W]|I[W-1]<<8|I[W-2]<<16,this.words[j]|=U<<K&67108863,this.words[j+1]=U>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);else if(B==="le")for(W=0,j=0;W<I.length;W+=3)U=I[W]|I[W+1]<<8|I[W+2]<<16,this.words[j]|=U<<K&67108863,this.words[j+1]=U>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);return this.strip()};function a($,I){var O=$.charCodeAt(I);return O>=65&&O<=70?O-55:O>=97&&O<=102?O-87:O-48&15}function u($,I,O){var B=a($,O);return O-1>=I&&(B|=a($,O-1)<<4),B}s.prototype._parseHex=function(I,O,B){this.length=Math.ceil((I.length-O)/6),this.words=new Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var j=0,U=0,K;if(B==="be")for(W=I.length-1;W>=O;W-=2)K=u(I,O,W)<<j,this.words[U]|=K&67108863,j>=18?(j-=18,U+=1,this.words[U]|=K>>>26):j+=8;else{var z=I.length-O;for(W=z%2===0?O+1:O;W<I.length;W+=2)K=u(I,O,W)<<j,this.words[U]|=K&67108863,j>=18?(j-=18,U+=1,this.words[U]|=K>>>26):j+=8}this.strip()};function c($,I,O,B){for(var W=0,j=Math.min($.length,O),U=I;U<j;U++){var K=$.charCodeAt(U)-48;W*=B,K>=49?W+=K-49+10:K>=17?W+=K-17+10:W+=K}return W}s.prototype._parseBase=function(I,O,B){this.words=[0],this.length=1;for(var W=0,j=1;j<=67108863;j*=O)W++;W--,j=j/O|0;for(var U=I.length-B,K=U%W,z=Math.min(U,U-K)+B,k=0,q=B;q<z;q+=W)k=c(I,q,q+W,O),this.imuln(j),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k);if(K!==0){var fe=1;for(k=c(I,q,I.length,O),q=0;q<K;q++)fe*=O;this.imuln(fe),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k)}this.strip()},s.prototype.copy=function(I){I.words=new Array(this.length);for(var O=0;O<this.length;O++)I.words[O]=this.words[O];I.length=this.length,I.negative=this.negative,I.red=this.red},s.prototype.clone=function(){var I=new s(null);return this.copy(I),I},s.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(I,O){I=I||10,O=O|0||1;var B;if(I===16||I==="hex"){B="";for(var W=0,j=0,U=0;U<this.length;U++){var K=this.words[U],z=((K<<W|j)&16777215).toString(16);j=K>>>24-W&16777215,W+=2,W>=26&&(W-=26,U--),j!==0||U!==this.length-1?B=h[6-z.length]+z+B:B=z+B}for(j!==0&&(B=j.toString(16)+B);B.length%O!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(I===(I|0)&&I>=2&&I<=36){var k=f[I],q=p[I];B="";var fe=this.clone();for(fe.negative=0;!fe.isZero();){var ne=fe.modn(q).toString(I);fe=fe.idivn(q),fe.isZero()?B=ne+B:B=h[k-ne.length]+ne+B}for(this.isZero()&&(B="0"+B);B.length%O!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=this.words[1]*67108864:this.length===3&&this.words[2]===1?I+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(I,O){return n(typeof o<"u"),this.toArrayLike(o,I,O)},s.prototype.toArray=function(I,O){return this.toArrayLike(Array,I,O)},s.prototype.toArrayLike=function(I,O,B){var W=this.byteLength(),j=B||Math.max(1,W);n(W<=j,"byte array longer than desired length"),n(j>0,"Requested array length <= 0"),this.strip();var U=O==="le",K=new I(j),z,k,q=this.clone();if(U){for(k=0;!q.isZero();k++)z=q.andln(255),q.iushrn(8),K[k]=z;for(;k<j;k++)K[k]=0}else{for(k=0;k<j-W;k++)K[k]=0;for(k=0;!q.isZero();k++)z=q.andln(255),q.iushrn(8),K[j-k-1]=z}return K},Math.clz32?s.prototype._countBits=function(I){return 32-Math.clz32(I)}:s.prototype._countBits=function(I){var O=I,B=0;return O>=4096&&(B+=13,O>>>=13),O>=64&&(B+=7,O>>>=7),O>=8&&(B+=4,O>>>=4),O>=2&&(B+=2,O>>>=2),B+O},s.prototype._zeroBits=function(I){if(I===0)return 26;var O=I,B=0;return O&8191||(B+=13,O>>>=13),O&127||(B+=7,O>>>=7),O&15||(B+=4,O>>>=4),O&3||(B+=2,O>>>=2),O&1||B++,B},s.prototype.bitLength=function(){var I=this.words[this.length-1],O=this._countBits(I);return(this.length-1)*26+O};function m($){for(var I=new Array($.bitLength()),O=0;O<I.length;O++){var B=O/26|0,W=O%26;I[O]=($.words[B]&1<<W)>>>W}return I}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,O=0;O<this.length;O++){var B=this._zeroBits(this.words[O]);if(I+=B,B!==26)break}return I},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},s.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var O=0;O<I.length;O++)this.words[O]=this.words[O]|I.words[O];return this.strip()},s.prototype.ior=function(I){return n((this.negative|I.negative)===0),this.iuor(I)},s.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},s.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},s.prototype.iuand=function(I){var O;this.length>I.length?O=I:O=this;for(var B=0;B<O.length;B++)this.words[B]=this.words[B]&I.words[B];return this.length=O.length,this.strip()},s.prototype.iand=function(I){return n((this.negative|I.negative)===0),this.iuand(I)},s.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},s.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},s.prototype.iuxor=function(I){var O,B;this.length>I.length?(O=this,B=I):(O=I,B=this);for(var W=0;W<B.length;W++)this.words[W]=O.words[W]^B.words[W];if(this!==O)for(;W<O.length;W++)this.words[W]=O.words[W];return this.length=O.length,this.strip()},s.prototype.ixor=function(I){return n((this.negative|I.negative)===0),this.iuxor(I)},s.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},s.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},s.prototype.inotn=function(I){n(typeof I=="number"&&I>=0);var O=Math.ceil(I/26)|0,B=I%26;this._expand(O),B>0&&O--;for(var W=0;W<O;W++)this.words[W]=~this.words[W]&67108863;return B>0&&(this.words[W]=~this.words[W]&67108863>>26-B),this.strip()},s.prototype.notn=function(I){return this.clone().inotn(I)},s.prototype.setn=function(I,O){n(typeof I=="number"&&I>=0);var B=I/26|0,W=I%26;return this._expand(B+1),O?this.words[B]=this.words[B]|1<<W:this.words[B]=this.words[B]&~(1<<W),this.strip()},s.prototype.iadd=function(I){var O;if(this.negative!==0&&I.negative===0)return this.negative=0,O=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,O=this.isub(I),I.negative=1,O._normSign();var B,W;this.length>I.length?(B=this,W=I):(B=I,W=this);for(var j=0,U=0;U<W.length;U++)O=(B.words[U]|0)+(W.words[U]|0)+j,this.words[U]=O&67108863,j=O>>>26;for(;j!==0&&U<B.length;U++)O=(B.words[U]|0)+j,this.words[U]=O&67108863,j=O>>>26;if(this.length=B.length,j!==0)this.words[this.length]=j,this.length++;else if(B!==this)for(;U<B.length;U++)this.words[U]=B.words[U];return this},s.prototype.add=function(I){var O;return I.negative!==0&&this.negative===0?(I.negative=0,O=this.sub(I),I.negative^=1,O):I.negative===0&&this.negative!==0?(this.negative=0,O=I.sub(this),this.negative=1,O):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},s.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var O=this.iadd(I);return I.negative=1,O._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var B=this.cmp(I);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;var W,j;B>0?(W=this,j=I):(W=I,j=this);for(var U=0,K=0;K<j.length;K++)O=(W.words[K]|0)-(j.words[K]|0)+U,U=O>>26,this.words[K]=O&67108863;for(;U!==0&&K<W.length;K++)O=(W.words[K]|0)+U,U=O>>26,this.words[K]=O&67108863;if(U===0&&K<W.length&&W!==this)for(;K<W.length;K++)this.words[K]=W.words[K];return this.length=Math.max(this.length,K),W!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(I){return this.clone().isub(I)};function v($,I,O){O.negative=I.negative^$.negative;var B=$.length+I.length|0;O.length=B,B=B-1|0;var W=$.words[0]|0,j=I.words[0]|0,U=W*j,K=U&67108863,z=U/67108864|0;O.words[0]=K;for(var k=1;k<B;k++){for(var q=z>>>26,fe=z&67108863,ne=Math.min(k,I.length-1),Ce=Math.max(0,k-$.length+1);Ce<=ne;Ce++){var Te=k-Ce|0;W=$.words[Te]|0,j=I.words[Ce]|0,U=W*j+fe,q+=U/67108864|0,fe=U&67108863}O.words[k]=fe|0,z=q|0}return z!==0?O.words[k]=z|0:O.length--,O.strip()}var b=function(I,O,B){var W=I.words,j=O.words,U=B.words,K=0,z,k,q,fe=W[0]|0,ne=fe&8191,Ce=fe>>>13,Te=W[1]|0,He=Te&8191,ot=Te>>>13,Rt=W[2]|0,Re=Rt&8191,dt=Rt>>>13,wt=W[3]|0,Je=wt&8191,ln=wt>>>13,Yt=W[4]|0,pn=Yt&8191,Ln=Yt>>>13,Un=W[5]|0,ci=Un&8191,di=Un>>>13,Gi=W[6]|0,Vt=Gi&8191,un=Gi>>>13,Qn=W[7]|0,ke=Qn&8191,Pe=Qn>>>13,_t=W[8]|0,ut=_t&8191,yt=_t>>>13,Li=W[9]|0,zt=Li&8191,At=Li>>>13,Zt=j[0]|0,Xt=Zt&8191,Ht=Zt>>>13,yr=j[1]|0,si=yr&8191,$e=yr>>>13,il=j[2]|0,jn=il&8191,oi=il>>>13,fa=j[3]|0,yn=fa&8191,dr=fa>>>13,Il=j[4]|0,tr=Il&8191,Xe=Il>>>13,Co=j[5]|0,Ne=Co&8191,Le=Co>>>13,Oe=j[6]|0,oe=Oe&8191,le=Oe>>>13,me=j[7]|0,J=me&8191,be=me>>>13,Ue=j[8]|0,Fe=Ue&8191,ft=Ue>>>13,Qt=j[9]|0,T=Qt&8191,F=Qt>>>13;B.negative=I.negative^O.negative,B.length=19,z=Math.imul(ne,Xt),k=Math.imul(ne,Ht),k=k+Math.imul(Ce,Xt)|0,q=Math.imul(Ce,Ht);var te=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(te>>>26)|0,te&=67108863,z=Math.imul(He,Xt),k=Math.imul(He,Ht),k=k+Math.imul(ot,Xt)|0,q=Math.imul(ot,Ht),z=z+Math.imul(ne,si)|0,k=k+Math.imul(ne,$e)|0,k=k+Math.imul(Ce,si)|0,q=q+Math.imul(Ce,$e)|0;var ie=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(ie>>>26)|0,ie&=67108863,z=Math.imul(Re,Xt),k=Math.imul(Re,Ht),k=k+Math.imul(dt,Xt)|0,q=Math.imul(dt,Ht),z=z+Math.imul(He,si)|0,k=k+Math.imul(He,$e)|0,k=k+Math.imul(ot,si)|0,q=q+Math.imul(ot,$e)|0,z=z+Math.imul(ne,jn)|0,k=k+Math.imul(ne,oi)|0,k=k+Math.imul(Ce,jn)|0,q=q+Math.imul(Ce,oi)|0;var _e=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(_e>>>26)|0,_e&=67108863,z=Math.imul(Je,Xt),k=Math.imul(Je,Ht),k=k+Math.imul(ln,Xt)|0,q=Math.imul(ln,Ht),z=z+Math.imul(Re,si)|0,k=k+Math.imul(Re,$e)|0,k=k+Math.imul(dt,si)|0,q=q+Math.imul(dt,$e)|0,z=z+Math.imul(He,jn)|0,k=k+Math.imul(He,oi)|0,k=k+Math.imul(ot,jn)|0,q=q+Math.imul(ot,oi)|0,z=z+Math.imul(ne,yn)|0,k=k+Math.imul(ne,dr)|0,k=k+Math.imul(Ce,yn)|0,q=q+Math.imul(Ce,dr)|0;var ue=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(ue>>>26)|0,ue&=67108863,z=Math.imul(pn,Xt),k=Math.imul(pn,Ht),k=k+Math.imul(Ln,Xt)|0,q=Math.imul(Ln,Ht),z=z+Math.imul(Je,si)|0,k=k+Math.imul(Je,$e)|0,k=k+Math.imul(ln,si)|0,q=q+Math.imul(ln,$e)|0,z=z+Math.imul(Re,jn)|0,k=k+Math.imul(Re,oi)|0,k=k+Math.imul(dt,jn)|0,q=q+Math.imul(dt,oi)|0,z=z+Math.imul(He,yn)|0,k=k+Math.imul(He,dr)|0,k=k+Math.imul(ot,yn)|0,q=q+Math.imul(ot,dr)|0,z=z+Math.imul(ne,tr)|0,k=k+Math.imul(ne,Xe)|0,k=k+Math.imul(Ce,tr)|0,q=q+Math.imul(Ce,Xe)|0;var Ie=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,z=Math.imul(ci,Xt),k=Math.imul(ci,Ht),k=k+Math.imul(di,Xt)|0,q=Math.imul(di,Ht),z=z+Math.imul(pn,si)|0,k=k+Math.imul(pn,$e)|0,k=k+Math.imul(Ln,si)|0,q=q+Math.imul(Ln,$e)|0,z=z+Math.imul(Je,jn)|0,k=k+Math.imul(Je,oi)|0,k=k+Math.imul(ln,jn)|0,q=q+Math.imul(ln,oi)|0,z=z+Math.imul(Re,yn)|0,k=k+Math.imul(Re,dr)|0,k=k+Math.imul(dt,yn)|0,q=q+Math.imul(dt,dr)|0,z=z+Math.imul(He,tr)|0,k=k+Math.imul(He,Xe)|0,k=k+Math.imul(ot,tr)|0,q=q+Math.imul(ot,Xe)|0,z=z+Math.imul(ne,Ne)|0,k=k+Math.imul(ne,Le)|0,k=k+Math.imul(Ce,Ne)|0,q=q+Math.imul(Ce,Le)|0;var Be=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(Be>>>26)|0,Be&=67108863,z=Math.imul(Vt,Xt),k=Math.imul(Vt,Ht),k=k+Math.imul(un,Xt)|0,q=Math.imul(un,Ht),z=z+Math.imul(ci,si)|0,k=k+Math.imul(ci,$e)|0,k=k+Math.imul(di,si)|0,q=q+Math.imul(di,$e)|0,z=z+Math.imul(pn,jn)|0,k=k+Math.imul(pn,oi)|0,k=k+Math.imul(Ln,jn)|0,q=q+Math.imul(Ln,oi)|0,z=z+Math.imul(Je,yn)|0,k=k+Math.imul(Je,dr)|0,k=k+Math.imul(ln,yn)|0,q=q+Math.imul(ln,dr)|0,z=z+Math.imul(Re,tr)|0,k=k+Math.imul(Re,Xe)|0,k=k+Math.imul(dt,tr)|0,q=q+Math.imul(dt,Xe)|0,z=z+Math.imul(He,Ne)|0,k=k+Math.imul(He,Le)|0,k=k+Math.imul(ot,Ne)|0,q=q+Math.imul(ot,Le)|0,z=z+Math.imul(ne,oe)|0,k=k+Math.imul(ne,le)|0,k=k+Math.imul(Ce,oe)|0,q=q+Math.imul(Ce,le)|0;var Qe=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,z=Math.imul(ke,Xt),k=Math.imul(ke,Ht),k=k+Math.imul(Pe,Xt)|0,q=Math.imul(Pe,Ht),z=z+Math.imul(Vt,si)|0,k=k+Math.imul(Vt,$e)|0,k=k+Math.imul(un,si)|0,q=q+Math.imul(un,$e)|0,z=z+Math.imul(ci,jn)|0,k=k+Math.imul(ci,oi)|0,k=k+Math.imul(di,jn)|0,q=q+Math.imul(di,oi)|0,z=z+Math.imul(pn,yn)|0,k=k+Math.imul(pn,dr)|0,k=k+Math.imul(Ln,yn)|0,q=q+Math.imul(Ln,dr)|0,z=z+Math.imul(Je,tr)|0,k=k+Math.imul(Je,Xe)|0,k=k+Math.imul(ln,tr)|0,q=q+Math.imul(ln,Xe)|0,z=z+Math.imul(Re,Ne)|0,k=k+Math.imul(Re,Le)|0,k=k+Math.imul(dt,Ne)|0,q=q+Math.imul(dt,Le)|0,z=z+Math.imul(He,oe)|0,k=k+Math.imul(He,le)|0,k=k+Math.imul(ot,oe)|0,q=q+Math.imul(ot,le)|0,z=z+Math.imul(ne,J)|0,k=k+Math.imul(ne,be)|0,k=k+Math.imul(Ce,J)|0,q=q+Math.imul(Ce,be)|0;var lt=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(lt>>>26)|0,lt&=67108863,z=Math.imul(ut,Xt),k=Math.imul(ut,Ht),k=k+Math.imul(yt,Xt)|0,q=Math.imul(yt,Ht),z=z+Math.imul(ke,si)|0,k=k+Math.imul(ke,$e)|0,k=k+Math.imul(Pe,si)|0,q=q+Math.imul(Pe,$e)|0,z=z+Math.imul(Vt,jn)|0,k=k+Math.imul(Vt,oi)|0,k=k+Math.imul(un,jn)|0,q=q+Math.imul(un,oi)|0,z=z+Math.imul(ci,yn)|0,k=k+Math.imul(ci,dr)|0,k=k+Math.imul(di,yn)|0,q=q+Math.imul(di,dr)|0,z=z+Math.imul(pn,tr)|0,k=k+Math.imul(pn,Xe)|0,k=k+Math.imul(Ln,tr)|0,q=q+Math.imul(Ln,Xe)|0,z=z+Math.imul(Je,Ne)|0,k=k+Math.imul(Je,Le)|0,k=k+Math.imul(ln,Ne)|0,q=q+Math.imul(ln,Le)|0,z=z+Math.imul(Re,oe)|0,k=k+Math.imul(Re,le)|0,k=k+Math.imul(dt,oe)|0,q=q+Math.imul(dt,le)|0,z=z+Math.imul(He,J)|0,k=k+Math.imul(He,be)|0,k=k+Math.imul(ot,J)|0,q=q+Math.imul(ot,be)|0,z=z+Math.imul(ne,Fe)|0,k=k+Math.imul(ne,ft)|0,k=k+Math.imul(Ce,Fe)|0,q=q+Math.imul(Ce,ft)|0;var Ot=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,z=Math.imul(zt,Xt),k=Math.imul(zt,Ht),k=k+Math.imul(At,Xt)|0,q=Math.imul(At,Ht),z=z+Math.imul(ut,si)|0,k=k+Math.imul(ut,$e)|0,k=k+Math.imul(yt,si)|0,q=q+Math.imul(yt,$e)|0,z=z+Math.imul(ke,jn)|0,k=k+Math.imul(ke,oi)|0,k=k+Math.imul(Pe,jn)|0,q=q+Math.imul(Pe,oi)|0,z=z+Math.imul(Vt,yn)|0,k=k+Math.imul(Vt,dr)|0,k=k+Math.imul(un,yn)|0,q=q+Math.imul(un,dr)|0,z=z+Math.imul(ci,tr)|0,k=k+Math.imul(ci,Xe)|0,k=k+Math.imul(di,tr)|0,q=q+Math.imul(di,Xe)|0,z=z+Math.imul(pn,Ne)|0,k=k+Math.imul(pn,Le)|0,k=k+Math.imul(Ln,Ne)|0,q=q+Math.imul(Ln,Le)|0,z=z+Math.imul(Je,oe)|0,k=k+Math.imul(Je,le)|0,k=k+Math.imul(ln,oe)|0,q=q+Math.imul(ln,le)|0,z=z+Math.imul(Re,J)|0,k=k+Math.imul(Re,be)|0,k=k+Math.imul(dt,J)|0,q=q+Math.imul(dt,be)|0,z=z+Math.imul(He,Fe)|0,k=k+Math.imul(He,ft)|0,k=k+Math.imul(ot,Fe)|0,q=q+Math.imul(ot,ft)|0,z=z+Math.imul(ne,T)|0,k=k+Math.imul(ne,F)|0,k=k+Math.imul(Ce,T)|0,q=q+Math.imul(Ce,F)|0;var Wt=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,z=Math.imul(zt,si),k=Math.imul(zt,$e),k=k+Math.imul(At,si)|0,q=Math.imul(At,$e),z=z+Math.imul(ut,jn)|0,k=k+Math.imul(ut,oi)|0,k=k+Math.imul(yt,jn)|0,q=q+Math.imul(yt,oi)|0,z=z+Math.imul(ke,yn)|0,k=k+Math.imul(ke,dr)|0,k=k+Math.imul(Pe,yn)|0,q=q+Math.imul(Pe,dr)|0,z=z+Math.imul(Vt,tr)|0,k=k+Math.imul(Vt,Xe)|0,k=k+Math.imul(un,tr)|0,q=q+Math.imul(un,Xe)|0,z=z+Math.imul(ci,Ne)|0,k=k+Math.imul(ci,Le)|0,k=k+Math.imul(di,Ne)|0,q=q+Math.imul(di,Le)|0,z=z+Math.imul(pn,oe)|0,k=k+Math.imul(pn,le)|0,k=k+Math.imul(Ln,oe)|0,q=q+Math.imul(Ln,le)|0,z=z+Math.imul(Je,J)|0,k=k+Math.imul(Je,be)|0,k=k+Math.imul(ln,J)|0,q=q+Math.imul(ln,be)|0,z=z+Math.imul(Re,Fe)|0,k=k+Math.imul(Re,ft)|0,k=k+Math.imul(dt,Fe)|0,q=q+Math.imul(dt,ft)|0,z=z+Math.imul(He,T)|0,k=k+Math.imul(He,F)|0,k=k+Math.imul(ot,T)|0,q=q+Math.imul(ot,F)|0;var Pt=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,z=Math.imul(zt,jn),k=Math.imul(zt,oi),k=k+Math.imul(At,jn)|0,q=Math.imul(At,oi),z=z+Math.imul(ut,yn)|0,k=k+Math.imul(ut,dr)|0,k=k+Math.imul(yt,yn)|0,q=q+Math.imul(yt,dr)|0,z=z+Math.imul(ke,tr)|0,k=k+Math.imul(ke,Xe)|0,k=k+Math.imul(Pe,tr)|0,q=q+Math.imul(Pe,Xe)|0,z=z+Math.imul(Vt,Ne)|0,k=k+Math.imul(Vt,Le)|0,k=k+Math.imul(un,Ne)|0,q=q+Math.imul(un,Le)|0,z=z+Math.imul(ci,oe)|0,k=k+Math.imul(ci,le)|0,k=k+Math.imul(di,oe)|0,q=q+Math.imul(di,le)|0,z=z+Math.imul(pn,J)|0,k=k+Math.imul(pn,be)|0,k=k+Math.imul(Ln,J)|0,q=q+Math.imul(Ln,be)|0,z=z+Math.imul(Je,Fe)|0,k=k+Math.imul(Je,ft)|0,k=k+Math.imul(ln,Fe)|0,q=q+Math.imul(ln,ft)|0,z=z+Math.imul(Re,T)|0,k=k+Math.imul(Re,F)|0,k=k+Math.imul(dt,T)|0,q=q+Math.imul(dt,F)|0;var St=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(St>>>26)|0,St&=67108863,z=Math.imul(zt,yn),k=Math.imul(zt,dr),k=k+Math.imul(At,yn)|0,q=Math.imul(At,dr),z=z+Math.imul(ut,tr)|0,k=k+Math.imul(ut,Xe)|0,k=k+Math.imul(yt,tr)|0,q=q+Math.imul(yt,Xe)|0,z=z+Math.imul(ke,Ne)|0,k=k+Math.imul(ke,Le)|0,k=k+Math.imul(Pe,Ne)|0,q=q+Math.imul(Pe,Le)|0,z=z+Math.imul(Vt,oe)|0,k=k+Math.imul(Vt,le)|0,k=k+Math.imul(un,oe)|0,q=q+Math.imul(un,le)|0,z=z+Math.imul(ci,J)|0,k=k+Math.imul(ci,be)|0,k=k+Math.imul(di,J)|0,q=q+Math.imul(di,be)|0,z=z+Math.imul(pn,Fe)|0,k=k+Math.imul(pn,ft)|0,k=k+Math.imul(Ln,Fe)|0,q=q+Math.imul(Ln,ft)|0,z=z+Math.imul(Je,T)|0,k=k+Math.imul(Je,F)|0,k=k+Math.imul(ln,T)|0,q=q+Math.imul(ln,F)|0;var hi=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(hi>>>26)|0,hi&=67108863,z=Math.imul(zt,tr),k=Math.imul(zt,Xe),k=k+Math.imul(At,tr)|0,q=Math.imul(At,Xe),z=z+Math.imul(ut,Ne)|0,k=k+Math.imul(ut,Le)|0,k=k+Math.imul(yt,Ne)|0,q=q+Math.imul(yt,Le)|0,z=z+Math.imul(ke,oe)|0,k=k+Math.imul(ke,le)|0,k=k+Math.imul(Pe,oe)|0,q=q+Math.imul(Pe,le)|0,z=z+Math.imul(Vt,J)|0,k=k+Math.imul(Vt,be)|0,k=k+Math.imul(un,J)|0,q=q+Math.imul(un,be)|0,z=z+Math.imul(ci,Fe)|0,k=k+Math.imul(ci,ft)|0,k=k+Math.imul(di,Fe)|0,q=q+Math.imul(di,ft)|0,z=z+Math.imul(pn,T)|0,k=k+Math.imul(pn,F)|0,k=k+Math.imul(Ln,T)|0,q=q+Math.imul(Ln,F)|0;var Kn=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,z=Math.imul(zt,Ne),k=Math.imul(zt,Le),k=k+Math.imul(At,Ne)|0,q=Math.imul(At,Le),z=z+Math.imul(ut,oe)|0,k=k+Math.imul(ut,le)|0,k=k+Math.imul(yt,oe)|0,q=q+Math.imul(yt,le)|0,z=z+Math.imul(ke,J)|0,k=k+Math.imul(ke,be)|0,k=k+Math.imul(Pe,J)|0,q=q+Math.imul(Pe,be)|0,z=z+Math.imul(Vt,Fe)|0,k=k+Math.imul(Vt,ft)|0,k=k+Math.imul(un,Fe)|0,q=q+Math.imul(un,ft)|0,z=z+Math.imul(ci,T)|0,k=k+Math.imul(ci,F)|0,k=k+Math.imul(di,T)|0,q=q+Math.imul(di,F)|0;var hr=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(hr>>>26)|0,hr&=67108863,z=Math.imul(zt,oe),k=Math.imul(zt,le),k=k+Math.imul(At,oe)|0,q=Math.imul(At,le),z=z+Math.imul(ut,J)|0,k=k+Math.imul(ut,be)|0,k=k+Math.imul(yt,J)|0,q=q+Math.imul(yt,be)|0,z=z+Math.imul(ke,Fe)|0,k=k+Math.imul(ke,ft)|0,k=k+Math.imul(Pe,Fe)|0,q=q+Math.imul(Pe,ft)|0,z=z+Math.imul(Vt,T)|0,k=k+Math.imul(Vt,F)|0,k=k+Math.imul(un,T)|0,q=q+Math.imul(un,F)|0;var Yi=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,z=Math.imul(zt,J),k=Math.imul(zt,be),k=k+Math.imul(At,J)|0,q=Math.imul(At,be),z=z+Math.imul(ut,Fe)|0,k=k+Math.imul(ut,ft)|0,k=k+Math.imul(yt,Fe)|0,q=q+Math.imul(yt,ft)|0,z=z+Math.imul(ke,T)|0,k=k+Math.imul(ke,F)|0,k=k+Math.imul(Pe,T)|0,q=q+Math.imul(Pe,F)|0;var rl=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(rl>>>26)|0,rl&=67108863,z=Math.imul(zt,Fe),k=Math.imul(zt,ft),k=k+Math.imul(At,Fe)|0,q=Math.imul(At,ft),z=z+Math.imul(ut,T)|0,k=k+Math.imul(ut,F)|0,k=k+Math.imul(yt,T)|0,q=q+Math.imul(yt,F)|0;var kl=(K+z|0)+((k&8191)<<13)|0;K=(q+(k>>>13)|0)+(kl>>>26)|0,kl&=67108863,z=Math.imul(zt,T),k=Math.imul(zt,F),k=k+Math.imul(At,T)|0,q=Math.imul(At,F);var yp=(K+z|0)+((k&8191)<<13)|0;return K=(q+(k>>>13)|0)+(yp>>>26)|0,yp&=67108863,U[0]=te,U[1]=ie,U[2]=_e,U[3]=ue,U[4]=Ie,U[5]=Be,U[6]=Qe,U[7]=lt,U[8]=Ot,U[9]=Wt,U[10]=Pt,U[11]=St,U[12]=hi,U[13]=Kn,U[14]=hr,U[15]=Yi,U[16]=rl,U[17]=kl,U[18]=yp,K!==0&&(U[19]=K,B.length++),B};Math.imul||(b=v);function S($,I,O){O.negative=I.negative^$.negative,O.length=$.length+I.length;for(var B=0,W=0,j=0;j<O.length-1;j++){var U=W;W=0;for(var K=B&67108863,z=Math.min(j,I.length-1),k=Math.max(0,j-$.length+1);k<=z;k++){var q=j-k,fe=$.words[q]|0,ne=I.words[k]|0,Ce=fe*ne,Te=Ce&67108863;U=U+(Ce/67108864|0)|0,Te=Te+K|0,K=Te&67108863,U=U+(Te>>>26)|0,W+=U>>>26,U&=67108863}O.words[j]=K,B=U,U=W}return B!==0?O.words[j]=B:O.length--,O.strip()}function x($,I,O){var B=new w;return B.mulp($,I,O)}s.prototype.mulTo=function(I,O){var B,W=this.length+I.length;return this.length===10&&I.length===10?B=b(this,I,O):W<63?B=v(this,I,O):W<1024?B=S(this,I,O):B=x(this,I,O),B};function w($,I){this.x=$,this.y=I}w.prototype.makeRBT=function(I){for(var O=new Array(I),B=s.prototype._countBits(I)-1,W=0;W<I;W++)O[W]=this.revBin(W,B,I);return O},w.prototype.revBin=function(I,O,B){if(I===0||I===B-1)return I;for(var W=0,j=0;j<O;j++)W|=(I&1)<<O-j-1,I>>=1;return W},w.prototype.permute=function(I,O,B,W,j,U){for(var K=0;K<U;K++)W[K]=O[I[K]],j[K]=B[I[K]]},w.prototype.transform=function(I,O,B,W,j,U){this.permute(U,I,O,B,W,j);for(var K=1;K<j;K<<=1)for(var z=K<<1,k=Math.cos(2*Math.PI/z),q=Math.sin(2*Math.PI/z),fe=0;fe<j;fe+=z)for(var ne=k,Ce=q,Te=0;Te<K;Te++){var He=B[fe+Te],ot=W[fe+Te],Rt=B[fe+Te+K],Re=W[fe+Te+K],dt=ne*Rt-Ce*Re;Re=ne*Re+Ce*Rt,Rt=dt,B[fe+Te]=He+Rt,W[fe+Te]=ot+Re,B[fe+Te+K]=He-Rt,W[fe+Te+K]=ot-Re,Te!==z&&(dt=k*ne-q*Ce,Ce=k*Ce+q*ne,ne=dt)}},w.prototype.guessLen13b=function(I,O){var B=Math.max(O,I)|1,W=B&1,j=0;for(B=B/2|0;B;B=B>>>1)j++;return 1<<j+1+W},w.prototype.conjugate=function(I,O,B){if(!(B<=1))for(var W=0;W<B/2;W++){var j=I[W];I[W]=I[B-W-1],I[B-W-1]=j,j=O[W],O[W]=-O[B-W-1],O[B-W-1]=-j}},w.prototype.normalize13b=function(I,O){for(var B=0,W=0;W<O/2;W++){var j=Math.round(I[2*W+1]/O)*8192+Math.round(I[2*W]/O)+B;I[W]=j&67108863,j<67108864?B=0:B=j/67108864|0}return I},w.prototype.convert13b=function(I,O,B,W){for(var j=0,U=0;U<O;U++)j=j+(I[U]|0),B[2*U]=j&8191,j=j>>>13,B[2*U+1]=j&8191,j=j>>>13;for(U=2*O;U<W;++U)B[U]=0;n(j===0),n((j&-8192)===0)},w.prototype.stub=function(I){for(var O=new Array(I),B=0;B<I;B++)O[B]=0;return O},w.prototype.mulp=function(I,O,B){var W=2*this.guessLen13b(I.length,O.length),j=this.makeRBT(W),U=this.stub(W),K=new Array(W),z=new Array(W),k=new Array(W),q=new Array(W),fe=new Array(W),ne=new Array(W),Ce=B.words;Ce.length=W,this.convert13b(I.words,I.length,K,W),this.convert13b(O.words,O.length,q,W),this.transform(K,U,z,k,W,j),this.transform(q,U,fe,ne,W,j);for(var Te=0;Te<W;Te++){var He=z[Te]*fe[Te]-k[Te]*ne[Te];k[Te]=z[Te]*ne[Te]+k[Te]*fe[Te],z[Te]=He}return this.conjugate(z,k,W),this.transform(z,k,Ce,U,W,j),this.conjugate(Ce,U,W),this.normalize13b(Ce,W),B.negative=I.negative^O.negative,B.length=I.length+O.length,B.strip()},s.prototype.mul=function(I){var O=new s(null);return O.words=new Array(this.length+I.length),this.mulTo(I,O)},s.prototype.mulf=function(I){var O=new s(null);return O.words=new Array(this.length+I.length),x(this,I,O)},s.prototype.imul=function(I){return this.clone().mulTo(I,this)},s.prototype.imuln=function(I){n(typeof I=="number"),n(I<67108864);for(var O=0,B=0;B<this.length;B++){var W=(this.words[B]|0)*I,j=(W&67108863)+(O&67108863);O>>=26,O+=W/67108864|0,O+=j>>>26,this.words[B]=j&67108863}return O!==0&&(this.words[B]=O,this.length++),this},s.prototype.muln=function(I){return this.clone().imuln(I)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(I){var O=m(I);if(O.length===0)return new s(1);for(var B=this,W=0;W<O.length&&O[W]===0;W++,B=B.sqr());if(++W<O.length)for(var j=B.sqr();W<O.length;W++,j=j.sqr())O[W]!==0&&(B=B.mul(j));return B},s.prototype.iushln=function(I){n(typeof I=="number"&&I>=0);var O=I%26,B=(I-O)/26,W=67108863>>>26-O<<26-O,j;if(O!==0){var U=0;for(j=0;j<this.length;j++){var K=this.words[j]&W,z=(this.words[j]|0)-K<<O;this.words[j]=z|U,U=K>>>26-O}U&&(this.words[j]=U,this.length++)}if(B!==0){for(j=this.length-1;j>=0;j--)this.words[j+B]=this.words[j];for(j=0;j<B;j++)this.words[j]=0;this.length+=B}return this.strip()},s.prototype.ishln=function(I){return n(this.negative===0),this.iushln(I)},s.prototype.iushrn=function(I,O,B){n(typeof I=="number"&&I>=0);var W;O?W=(O-O%26)/26:W=0;var j=I%26,U=Math.min((I-j)/26,this.length),K=67108863^67108863>>>j<<j,z=B;if(W-=U,W=Math.max(0,W),z){for(var k=0;k<U;k++)z.words[k]=this.words[k];z.length=U}if(U!==0)if(this.length>U)for(this.length-=U,k=0;k<this.length;k++)this.words[k]=this.words[k+U];else this.words[0]=0,this.length=1;var q=0;for(k=this.length-1;k>=0&&(q!==0||k>=W);k--){var fe=this.words[k]|0;this.words[k]=q<<26-j|fe>>>j,q=fe&K}return z&&q!==0&&(z.words[z.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(I,O,B){return n(this.negative===0),this.iushrn(I,O,B)},s.prototype.shln=function(I){return this.clone().ishln(I)},s.prototype.ushln=function(I){return this.clone().iushln(I)},s.prototype.shrn=function(I){return this.clone().ishrn(I)},s.prototype.ushrn=function(I){return this.clone().iushrn(I)},s.prototype.testn=function(I){n(typeof I=="number"&&I>=0);var O=I%26,B=(I-O)/26,W=1<<O;if(this.length<=B)return!1;var j=this.words[B];return!!(j&W)},s.prototype.imaskn=function(I){n(typeof I=="number"&&I>=0);var O=I%26,B=(I-O)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(O!==0&&B++,this.length=Math.min(B,this.length),O!==0){var W=67108863^67108863>>>O<<O;this.words[this.length-1]&=W}return this.strip()},s.prototype.maskn=function(I){return this.clone().imaskn(I)},s.prototype.iaddn=function(I){return n(typeof I=="number"),n(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(this.words[0]|0)<I?(this.words[0]=I-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},s.prototype._iaddn=function(I){this.words[0]+=I;for(var O=0;O<this.length&&this.words[O]>=67108864;O++)this.words[O]-=67108864,O===this.length-1?this.words[O+1]=1:this.words[O+1]++;return this.length=Math.max(this.length,O+1),this},s.prototype.isubn=function(I){if(n(typeof I=="number"),n(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var O=0;O<this.length&&this.words[O]<0;O++)this.words[O]+=67108864,this.words[O+1]-=1;return this.strip()},s.prototype.addn=function(I){return this.clone().iaddn(I)},s.prototype.subn=function(I){return this.clone().isubn(I)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(I,O,B){var W=I.length+B,j;this._expand(W);var U,K=0;for(j=0;j<I.length;j++){U=(this.words[j+B]|0)+K;var z=(I.words[j]|0)*O;U-=z&67108863,K=(U>>26)-(z/67108864|0),this.words[j+B]=U&67108863}for(;j<this.length-B;j++)U=(this.words[j+B]|0)+K,K=U>>26,this.words[j+B]=U&67108863;if(K===0)return this.strip();for(n(K===-1),K=0,j=0;j<this.length;j++)U=-(this.words[j]|0)+K,K=U>>26,this.words[j]=U&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(I,O){var B=this.length-I.length,W=this.clone(),j=I,U=j.words[j.length-1]|0,K=this._countBits(U);B=26-K,B!==0&&(j=j.ushln(B),W.iushln(B),U=j.words[j.length-1]|0);var z=W.length-j.length,k;if(O!=="mod"){k=new s(null),k.length=z+1,k.words=new Array(k.length);for(var q=0;q<k.length;q++)k.words[q]=0}var fe=W.clone()._ishlnsubmul(j,1,z);fe.negative===0&&(W=fe,k&&(k.words[z]=1));for(var ne=z-1;ne>=0;ne--){var Ce=(W.words[j.length+ne]|0)*67108864+(W.words[j.length+ne-1]|0);for(Ce=Math.min(Ce/U|0,67108863),W._ishlnsubmul(j,Ce,ne);W.negative!==0;)Ce--,W.negative=0,W._ishlnsubmul(j,1,ne),W.isZero()||(W.negative^=1);k&&(k.words[ne]=Ce)}return k&&k.strip(),W.strip(),O!=="div"&&B!==0&&W.iushrn(B),{div:k||null,mod:W}},s.prototype.divmod=function(I,O,B){if(n(!I.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var W,j,U;return this.negative!==0&&I.negative===0?(U=this.neg().divmod(I,O),O!=="mod"&&(W=U.div.neg()),O!=="div"&&(j=U.mod.neg(),B&&j.negative!==0&&j.iadd(I)),{div:W,mod:j}):this.negative===0&&I.negative!==0?(U=this.divmod(I.neg(),O),O!=="mod"&&(W=U.div.neg()),{div:W,mod:U.mod}):this.negative&I.negative?(U=this.neg().divmod(I.neg(),O),O!=="div"&&(j=U.mod.neg(),B&&j.negative!==0&&j.isub(I)),{div:U.div,mod:j}):I.length>this.length||this.cmp(I)<0?{div:new s(0),mod:this}:I.length===1?O==="div"?{div:this.divn(I.words[0]),mod:null}:O==="mod"?{div:null,mod:new s(this.modn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new s(this.modn(I.words[0]))}:this._wordDiv(I,O)},s.prototype.div=function(I){return this.divmod(I,"div",!1).div},s.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},s.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},s.prototype.divRound=function(I){var O=this.divmod(I);if(O.mod.isZero())return O.div;var B=O.div.negative!==0?O.mod.isub(I):O.mod,W=I.ushrn(1),j=I.andln(1),U=B.cmp(W);return U<0||j===1&&U===0?O.div:O.div.negative!==0?O.div.isubn(1):O.div.iaddn(1)},s.prototype.modn=function(I){n(I<=67108863);for(var O=(1<<26)%I,B=0,W=this.length-1;W>=0;W--)B=(O*B+(this.words[W]|0))%I;return B},s.prototype.idivn=function(I){n(I<=67108863);for(var O=0,B=this.length-1;B>=0;B--){var W=(this.words[B]|0)+O*67108864;this.words[B]=W/I|0,O=W%I}return this.strip()},s.prototype.divn=function(I){return this.clone().idivn(I)},s.prototype.egcd=function(I){n(I.negative===0),n(!I.isZero());var O=this,B=I.clone();O.negative!==0?O=O.umod(I):O=O.clone();for(var W=new s(1),j=new s(0),U=new s(0),K=new s(1),z=0;O.isEven()&&B.isEven();)O.iushrn(1),B.iushrn(1),++z;for(var k=B.clone(),q=O.clone();!O.isZero();){for(var fe=0,ne=1;!(O.words[0]&ne)&&fe<26;++fe,ne<<=1);if(fe>0)for(O.iushrn(fe);fe-- >0;)(W.isOdd()||j.isOdd())&&(W.iadd(k),j.isub(q)),W.iushrn(1),j.iushrn(1);for(var Ce=0,Te=1;!(B.words[0]&Te)&&Ce<26;++Ce,Te<<=1);if(Ce>0)for(B.iushrn(Ce);Ce-- >0;)(U.isOdd()||K.isOdd())&&(U.iadd(k),K.isub(q)),U.iushrn(1),K.iushrn(1);O.cmp(B)>=0?(O.isub(B),W.isub(U),j.isub(K)):(B.isub(O),U.isub(W),K.isub(j))}return{a:U,b:K,gcd:B.iushln(z)}},s.prototype._invmp=function(I){n(I.negative===0),n(!I.isZero());var O=this,B=I.clone();O.negative!==0?O=O.umod(I):O=O.clone();for(var W=new s(1),j=new s(0),U=B.clone();O.cmpn(1)>0&&B.cmpn(1)>0;){for(var K=0,z=1;!(O.words[0]&z)&&K<26;++K,z<<=1);if(K>0)for(O.iushrn(K);K-- >0;)W.isOdd()&&W.iadd(U),W.iushrn(1);for(var k=0,q=1;!(B.words[0]&q)&&k<26;++k,q<<=1);if(k>0)for(B.iushrn(k);k-- >0;)j.isOdd()&&j.iadd(U),j.iushrn(1);O.cmp(B)>=0?(O.isub(B),W.isub(j)):(B.isub(O),j.isub(W))}var fe;return O.cmpn(1)===0?fe=W:fe=j,fe.cmpn(0)<0&&fe.iadd(I),fe},s.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var O=this.clone(),B=I.clone();O.negative=0,B.negative=0;for(var W=0;O.isEven()&&B.isEven();W++)O.iushrn(1),B.iushrn(1);do{for(;O.isEven();)O.iushrn(1);for(;B.isEven();)B.iushrn(1);var j=O.cmp(B);if(j<0){var U=O;O=B,B=U}else if(j===0||B.cmpn(1)===0)break;O.isub(B)}while(!0);return B.iushln(W)},s.prototype.invm=function(I){return this.egcd(I).a.umod(I)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(I){return this.words[0]&I},s.prototype.bincn=function(I){n(typeof I=="number");var O=I%26,B=(I-O)/26,W=1<<O;if(this.length<=B)return this._expand(B+1),this.words[B]|=W,this;for(var j=W,U=B;j!==0&&U<this.length;U++){var K=this.words[U]|0;K+=j,j=K>>>26,K&=67108863,this.words[U]=K}return j!==0&&(this.words[U]=j,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(I){var O=I<0;if(this.negative!==0&&!O)return-1;if(this.negative===0&&O)return 1;this.strip();var B;if(this.length>1)B=1;else{O&&(I=-I),n(I<=67108863,"Number is too big");var W=this.words[0]|0;B=W===I?0:W<I?-1:1}return this.negative!==0?-B|0:B},s.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var O=this.ucmp(I);return this.negative!==0?-O|0:O},s.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var O=0,B=this.length-1;B>=0;B--){var W=this.words[B]|0,j=I.words[B]|0;if(W!==j){W<j?O=-1:W>j&&(O=1);break}}return O},s.prototype.gtn=function(I){return this.cmpn(I)===1},s.prototype.gt=function(I){return this.cmp(I)===1},s.prototype.gten=function(I){return this.cmpn(I)>=0},s.prototype.gte=function(I){return this.cmp(I)>=0},s.prototype.ltn=function(I){return this.cmpn(I)===-1},s.prototype.lt=function(I){return this.cmp(I)===-1},s.prototype.lten=function(I){return this.cmpn(I)<=0},s.prototype.lte=function(I){return this.cmp(I)<=0},s.prototype.eqn=function(I){return this.cmpn(I)===0},s.prototype.eq=function(I){return this.cmp(I)===0},s.red=function(I){return new G(I)},s.prototype.toRed=function(I){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(I){return this.red=I,this},s.prototype.forceRed=function(I){return n(!this.red,"Already a number in reduction context"),this._forceRed(I)},s.prototype.redAdd=function(I){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},s.prototype.redIAdd=function(I){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},s.prototype.redSub=function(I){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},s.prototype.redISub=function(I){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},s.prototype.redShl=function(I){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},s.prototype.redMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},s.prototype.redIMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(I){return n(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var E={k256:null,p224:null,p192:null,p25519:null};function N($,I){this.name=$,this.p=new s(I,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var I=new s(null);return I.words=new Array(Math.ceil(this.n/13)),I},N.prototype.ireduce=function(I){var O=I,B;do this.split(O,this.tmp),O=this.imulK(O),O=O.iadd(this.tmp),B=O.bitLength();while(B>this.n);var W=B<this.n?-1:O.ucmp(this.p);return W===0?(O.words[0]=0,O.length=1):W>0?O.isub(this.p):O.strip!==void 0?O.strip():O._strip(),O},N.prototype.split=function(I,O){I.iushrn(this.n,0,O)},N.prototype.imulK=function(I){return I.imul(this.k)};function A(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r(A,N),A.prototype.split=function(I,O){for(var B=4194303,W=Math.min(I.length,9),j=0;j<W;j++)O.words[j]=I.words[j];if(O.length=W,I.length<=9){I.words[0]=0,I.length=1;return}var U=I.words[9];for(O.words[O.length++]=U&B,j=10;j<I.length;j++){var K=I.words[j]|0;I.words[j-10]=(K&B)<<4|U>>>22,U=K}U>>>=22,I.words[j-10]=U,U===0&&I.length>10?I.length-=10:I.length-=9},A.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var O=0,B=0;B<I.length;B++){var W=I.words[B]|0;O+=W*977,I.words[B]=O&67108863,O=W*64+(O/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I};function H(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r(H,N);function R(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r(R,N);function M(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r(M,N),M.prototype.imulK=function(I){for(var O=0,B=0;B<I.length;B++){var W=(I.words[B]|0)*19+O,j=W&67108863;W>>>=26,I.words[B]=j,O=W}return O!==0&&(I.words[I.length++]=O),I},s._prime=function(I){if(E[I])return E[I];var O;if(I==="k256")O=new A;else if(I==="p224")O=new H;else if(I==="p192")O=new R;else if(I==="p25519")O=new M;else throw new Error("Unknown prime "+I);return E[I]=O,O};function G($){if(typeof $=="string"){var I=s._prime($);this.m=I.p,this.prime=I}else n($.gtn(1),"modulus must be greater than 1"),this.m=$,this.prime=null}G.prototype._verify1=function(I){n(I.negative===0,"red works only with positives"),n(I.red,"red works only with red numbers")},G.prototype._verify2=function(I,O){n((I.negative|O.negative)===0,"red works only with positives"),n(I.red&&I.red===O.red,"red works only with red numbers")},G.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):I.umod(this.m)._forceRed(this)},G.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},G.prototype.add=function(I,O){this._verify2(I,O);var B=I.add(O);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},G.prototype.iadd=function(I,O){this._verify2(I,O);var B=I.iadd(O);return B.cmp(this.m)>=0&&B.isub(this.m),B},G.prototype.sub=function(I,O){this._verify2(I,O);var B=I.sub(O);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},G.prototype.isub=function(I,O){this._verify2(I,O);var B=I.isub(O);return B.cmpn(0)<0&&B.iadd(this.m),B},G.prototype.shl=function(I,O){return this._verify1(I),this.imod(I.ushln(O))},G.prototype.imul=function(I,O){return this._verify2(I,O),this.imod(I.imul(O))},G.prototype.mul=function(I,O){return this._verify2(I,O),this.imod(I.mul(O))},G.prototype.isqr=function(I){return this.imul(I,I.clone())},G.prototype.sqr=function(I){return this.mul(I,I)},G.prototype.sqrt=function(I){if(I.isZero())return I.clone();var O=this.m.andln(3);if(n(O%2===1),O===3){var B=this.m.add(new s(1)).iushrn(2);return this.pow(I,B)}for(var W=this.m.subn(1),j=0;!W.isZero()&&W.andln(1)===0;)j++,W.iushrn(1);n(!W.isZero());var U=new s(1).toRed(this),K=U.redNeg(),z=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new s(2*k*k).toRed(this);this.pow(k,z).cmp(K)!==0;)k.redIAdd(K);for(var q=this.pow(k,W),fe=this.pow(I,W.addn(1).iushrn(1)),ne=this.pow(I,W),Ce=j;ne.cmp(U)!==0;){for(var Te=ne,He=0;Te.cmp(U)!==0;He++)Te=Te.redSqr();n(He<Ce);var ot=this.pow(q,new s(1).iushln(Ce-He-1));fe=fe.redMul(ot),q=ot.redSqr(),ne=ne.redMul(q),Ce=He}return fe},G.prototype.invm=function(I){var O=I._invmp(this.m);return O.negative!==0?(O.negative=0,this.imod(O).redNeg()):this.imod(O)},G.prototype.pow=function(I,O){if(O.isZero())return new s(1).toRed(this);if(O.cmpn(1)===0)return I.clone();var B=4,W=new Array(1<<B);W[0]=new s(1).toRed(this),W[1]=I;for(var j=2;j<W.length;j++)W[j]=this.mul(W[j-1],I);var U=W[0],K=0,z=0,k=O.bitLength()%26;for(k===0&&(k=26),j=O.length-1;j>=0;j--){for(var q=O.words[j],fe=k-1;fe>=0;fe--){var ne=q>>fe&1;if(U!==W[0]&&(U=this.sqr(U)),ne===0&&K===0){z=0;continue}K<<=1,K|=ne,z++,!(z!==B&&(j!==0||fe!==0))&&(U=this.mul(U,W[K]),z=0,K=0)}k=26}return U},G.prototype.convertTo=function(I){var O=I.umod(this.m);return O===I?O.clone():O},G.prototype.convertFrom=function(I){var O=I.clone();return O.red=null,O},s.mont=function(I){return new X(I)};function X($){G.call(this,$),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r(X,G),X.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},X.prototype.convertFrom=function(I){var O=this.imod(I.mul(this.rinv));return O.red=null,O},X.prototype.imul=function(I,O){if(I.isZero()||O.isZero())return I.words[0]=0,I.length=1,I;var B=I.imul(O),W=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=B.isub(W).iushrn(this.shift),U=j;return j.cmp(this.m)>=0?U=j.isub(this.m):j.cmpn(0)<0&&(U=j.iadd(this.m)),U._forceRed(this)},X.prototype.mul=function(I,O){if(I.isZero()||O.isZero())return new s(0)._forceRed(this);var B=I.mul(O),W=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=B.isub(W).iushrn(this.shift),U=j;return j.cmp(this.m)>=0?U=j.isub(this.m):j.cmpn(0)<0&&(U=j.iadd(this.m)),U._forceRed(this)},X.prototype.invm=function(I){var O=this.imod(I._invmp(this.m).mul(this.r2));return O._forceRed(this)}})(i,Ca)}(x8)),x8.exports}/**@license
 * LIPS is Pretty Simple - simple scheme like lisp in JavaScript
 *
 * Copyright (c) 2018-2019 Jakub T. Jankiewicz <https://jcubic.pl/me>
 * Released under the MIT license
 *
 * includes:
 *
 * unfetch by Jason Miller (@developit) MIT License
 *
 * includes:
 * contentloaded.js
 *
 * Author: Diego Perini (diego.perini at gmail.com)
 * Summary: cross-browser wrapper for DOMContentLoaded
 * Updated: 20101020
 * License: MIT
 * Version: 1.2
 *
 * URL:
 * http://javascript.nwbox.com/ContentLoaded/
 * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
 */(function(i){(function(e,t){i.exports?i.exports=t(e,J_t()):e.lips=t(e,e.BN)})(typeof Ca<"u"?Ca:window,function(e,t,n){function r(T,F){var te=!1,ie=!0,_e=T.document,ue=_e.documentElement,Ie=_e.addEventListener,Be=Ie?"addEventListener":"attachEvent",Qe=Ie?"removeEventListener":"detachEvent",lt=Ie?"":"on",Ot=function(Pt){Pt.type=="readystatechange"&&_e.readyState!="complete"||((Pt.type=="load"?T:_e)[Qe](lt+Pt.type,Ot,!1),!te&&(te=!0)&&F.call(T,Pt.type||Pt))},Wt=function(){try{ue.doScroll("left")}catch{setTimeout(Wt,50);return}Ot("poll")};if(_e.readyState=="complete")F.call(T,"lazy");else{if(!Ie&&ue.doScroll){try{ie=!T.frameElement}catch{}ie&&Wt()}_e[Be](lt+"DOMContentLoaded",Ot,!1),_e[Be](lt+"readystatechange",Ot,!1),T[Be](lt+"load",Ot,!1)}}e.fetch||(e.fetch=function(T,F){return F=F||{},new Promise((te,ie)=>{let _e=new XMLHttpRequest;_e.open(F.method||"get",T,!0);for(let Ie in F.headers)_e.setRequestHeader(Ie,F.headers[Ie]);_e.withCredentials=F.credentials=="include",_e.onload=()=>{te(ue())},_e.onerror=ie,_e.send(F.body||null);function ue(){let Ie=[],Be=[],Qe={},lt;return _e.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(Ot,Wt,Pt)=>{Ie.push(Wt=Wt.toLowerCase()),Be.push([Wt,Pt]),lt=Qe[Wt],Qe[Wt]=lt?`${lt},${Pt}`:Pt}),{ok:(_e.status/100|0)==2,status:_e.status,statusText:_e.statusText,url:_e.responseURL,clone:ue,text:()=>Promise.resolve(_e.responseText),json:()=>Promise.resolve(_e.responseText).then(JSON.parse),blob:()=>Promise.resolve(new Blob([_e.response])),headers:{keys:()=>Ie,entries:()=>Be,get:Ot=>Qe[Ot.toLowerCase()],has:Ot=>Ot.toLowerCase()in Qe}}}})});var s=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimy]*)$/,o=/^[-+]?[0-9]+([eE][-+]?[0-9]+)?$/,a=/^([-+]?((\.[0-9]+|[0-9]+\.[0-9]+)([eE][-+]?[0-9]+)?)|[0-9]+\.)$/;function u(T){function F(ie){if(ie.match(/^['"]/)){if(ie==='""'||ie==="''")return"";var _e=ie[0],ue=new RegExp("((^|[^\\\\])(?:\\\\\\\\)*)"+_e,"g");ie=ie.replace(ue,"$1")}return JSON.parse('"'+ie.replace(/\n/g,"\\n")+'"')}var te=T.match(s);return te?new RegExp(te[1],te[2]):T.match(/['"]/)?F(T):T.match(o)?$e(parseFloat(T)):T.match(a)?$e(parseFloat(T),!0):T==="nil"?fe:T==="true"?!0:T==="false"?!1:new k(T)}function c(T){return!(["(",")"].includes(T)||T.match(s)||T.match(/['"]/)||T.match(o)||T.match(a)||["nil","true","false"].includes(T))}var h=/("(?:\\[\S\s]|[^"])*"|\/(?! )[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimy]*(?=\s|\(|\)|$)|;.*)/g,f=/"(?:\\[\S\s]|[^"])*"/g;function p(){var T=Object.keys(x).map(v).join("|");return new RegExp(`("(?:\\\\[\\S\\s]|[^"])*"|\\/(?! )[^\\/\\\\]*(?:\\\\[\\S\\s][^\\/\\\\]*)*\\/[gimy]*(?=\\s|\\(|\\)|$)|\\(|\\)|'|"(?:\\\\[\\S\\s]|[^"])+|\\n|(?:\\\\[\\S\\s]|[^"])*"|;.*|(?:[-+]?(?:(?:\\.[0-9]+|[0-9]+\\.[0-9]+)(?:[eE][-+]?[0-9]+)?)|[0-9]+\\.)[0-9]|\\.{2,}|${T}|[^(\\s)]+)`,"gim")}function m(T,F=1){return T[T.length-F]}function v(T){if(typeof T=="string"){var F=/([-\\^$[\]()+{}?*.|])/g;return T.replace(F,"\\$1")}}function b(T){var F=p();T=T.replace(/\n\r|\r/g,`
`);var te=0,ie=0,_e=[],ue=[],Ie=0;return T.split(h).filter(Boolean).forEach(function(Be){if(Be.match(h)){if(Ie=0,ue.length){var Qe=m(ue);if(Qe.token.match(/\n/)){var lt=Qe.token.split(`
`).pop();Ie+=lt.length}else Ie+=Qe.token.length;Ie+=Qe.col}var Ot={col:Ie,line:ie,token:Be,offset:te};_e.push(Ot),ue.push(Ot),te+=Be.length,Ie+=Be.length,ie+=(Be.match(`
`)||[]).length;return}Be.split(F).filter(Boolean).forEach(function(Wt){var Pt={col:Ie,line:ie,token:Wt,offset:te};Ie+=Wt.length,te+=Wt.length,_e.push(Pt),ue.push(Pt),Wt===`
`&&(++ie,ue=[],Ie=0)})}),_e}function S(T,F){return F?b(T):b(T).map(function(te){return te.token.trim()}).filter(function(te){return te&&!te.match(/^;/)})}var x={"'":new k("quote"),"`":new k("quasiquote"),",@":new k("unquote-splicing"),",":new k("unquote")};function w(T){typeof T=="string"&&(T=S(T));var F=[],te=[],ie=null,_e=Object.keys(x),ue=_e.map(Pt=>x[Pt].name),Ie=0,Be=!1,Qe=[],lt=[],Ot=0;function Wt(){var Pt=F[F.length-1];Pt instanceof Array&&Pt[0]instanceof k&&ue.includes(Pt[0].name)&&F.length>1&&!Pt[0].literal&&(F.pop(),F[F.length-1].length===1&&F[F.length-1][0]instanceof k?F[F.length-1].push(Pt):F[F.length-1]instanceof ne?F[F.length-1].cdr instanceof ne?F[F.length-1]=new ne(F[F.length-1],ne.fromArray(Pt)):F[F.length-1].cdr=ne.fromArray(Pt):F[F.length-1].push(Pt))}if(T.forEach(function(Pt){var St=F[F.length-1];if(_e.indexOf(Pt)!==-1)Ot++,ie=Pt,F.push([x[ie]]),ie||(lt=[]),lt.push(ie);else if(ie&&(Qe.push(lt),lt=[]),Pt==="(")Be=!0,Ie++,F.push([]),ie=null,Ot=0;else if(Pt==="."&&!Be)F[F.length-1]=ne.fromArray(St);else if(Pt===")"){if(Ie--,!F.length)throw new Error("Unbalanced parenthesis");if(F.length===1)te.push(F.pop());else if(F.length>1){var hi=F.pop();if(St=F[F.length-1],St instanceof Array?St.push(hi):St instanceof ne&&St.append(ne.fromArray(hi)),Qe.length)for(lt=Qe.pop();lt.length;)Wt(),lt.pop();else Wt()}Ie===0&&F.length&&te.push(F.pop())}else{Be=!1;var Kn=u(Pt);if(ie){for(;Ot--;)F[F.length-1].push(Kn),Kn=F.pop();Qe.pop(),Ot=0,ie=!1}else Kn instanceof k&&ue.includes(Kn.name)&&(Kn.literal=!0);if(St=F[F.length-1],St instanceof ne)for(var hr=St;;)if(hr.cdr===fe){Kn instanceof Array?hr.cdr=ne.fromArray(Kn):hr.cdr=Kn;break}else hr=hr.cdr;else F.length?St.push(Kn):te.push(Kn)}}),!T.filter(Pt=>Pt.match(/^[()]$/)).length&&F.length&&(te=te.concat(F),F=[]),F.length)throw new Error("Unbalanced parenthesis 2");return te.map(Pt=>Pt instanceof Array?ne.fromArray(Pt):Pt)}function E(T,F=ie=>ie,te=null){if(Yt(T)){var ie=T.then(F);return te===null?ie:ie.catch(te)}return F(T)}function N(T,F){if(F instanceof RegExp)return te=>String(te).match(F);if(typeof F!="function")throw new Error(`${T} argument need to be a function or RegExp`);return F}function A(T,F,te){return F&&(te?T.__doc__=F:T.__doc__=H(F)),T}function H(T){return T.split(`
`).map(F=>F.trim()).join(`
`)}function R(T,F=1){var te=T.length;if(F<=0)throw Error(`previousSexp: Invlaid argument sexp = ${F}`);e:for(;F--&&te>=0;){for(var ie=1;ie>0;){var _e=T[--te];if(!_e)break e;_e==="("||_e.token==="("?ie--:(_e===")"||_e.token===")")&&ie++}te--}return T.slice(te+1)}function M(T){if(!T||!T.length)return 0;var F=T.length;if(T[F-1].token===`
`)return 0;for(;--F;)if(T[F].token===`
`){var te=(T[F+1]||{}).token;if(te)return te.length}return 0}function G(T,F){return te(T,F)===F.length;function te(ie,_e){function ue(){return Be>0&&lt>0&&ie[Be-1]===_e[lt-1]&&ie[Be+1]===_e[lt]}function Ie(){return ie[Be]===Symbol.for("symbol")&&!c(_e[lt])}for(var Be=0,Qe={},lt=0;lt<_e.length;++lt){if(typeof ie[Be]>"u")return lt;if(_e[lt].trim()){if(ie[Be]instanceof I){if(ie[Be].flag==="+"){for(var Ot;lt<_e.length&&(Ot=te(ie[Be].pattern,_e.slice(lt)),Ot!==-1);)lt+=Ot;if(Ot===-1&&_e[lt]&&!ie[Be+1])return-1;Be++,lt-=1;continue}else if(ie[Be].flag==="?"){Ot=te(ie[Be].pattern,_e.slice(lt)),Ot===-1?lt-=2:Be++;continue}}if(ie[Be]instanceof RegExp){if(!_e[lt].match(ie[Be]))return-1}else if(typeof ie[Be]=="string"){if(ie[Be]!==_e[lt])return-1}else if(typeof ie[Be]=="symbol"){if(ie[Be]===Symbol.for("*")){if(Qe[Be]=Qe[Be]||0,_e[lt]==="("?Qe[Be]++:_e[lt]===")"&&Qe[Be]--,ue())lt-=1;else if(typeof ie[Be+1]<"u"&&Qe[Be]===0&&ie[Be+1]!==_e[lt+1]||Qe[Be]>0)continue}else if(Ie())return-1}else if(ie[Be]instanceof Array){var Wt=te(ie[Be],_e.slice(lt));if(Wt===-1||Wt+lt>_e.length)return-1;lt+=Wt-1,Be++;continue}else return-1;Be++}}return ie.length!==Be?-1:_e.length}}function X(T){this._code=T.replace(/\r/g,"")}X.defaults={offset:0,indent:2,specials:[/^define/,"lambda","let","let*"]},X.match=G,X.prototype._options=function(F){var te=X.defaults;if(typeof F>"u")return Object.assign({},te);var ie=F&&F.specials||[];return Object.assign({},te,F,{specials:te.specials.concat(ie)})},X.prototype.indent=function(F){var te=S(this._code,!0);return this._indent(te,F)},X.matchSpecial=function(T,F){var te=F.specials;if(te.indexOf(T)!==-1)return!0;var ie=te.filter(_e=>_e instanceof RegExp);for(let _e of ie)if(T.match(_e))return!0;return!1},X.prototype._indent=function(F,te){var ie=this._options(te),_e=M(F),ue=R(F);if(ue&&ue.length){if(ue[0].line>0&&(ie.offset=0),ue.toString()===F.toString()&&Ue(ue))return ie.offset+ue[0].col;if(ue.length===1)return ie.offset+ue[0].col+1;if(X.matchSpecial(ue[1].token,ie))return ie.offset+ue[0].col+ie.indent;if(ue[0].line<ue[1].line)return ie.offset+ue[0].col+1;if(ue.length>3&&ue[1].line===ue[3].line)return ue[1].token==="("?ie.offset+ue[1].col:ie.offset+ue[3].col;if(ue[0].line===ue[1].line)return ie.offset+ie.indent+ue[0].col;for(var Ie=ue.slice(2),Be=0;Be<Ie.length;++Be){var Qe=Ie[Be];if(Qe.token.trim())return Qe.col}}else return 0;return _e+ie.indent};function $(T){this.pattern=T}$.prototype.match=function(T){return T.match(this.pattern)};function I(T,F){this.pattern=T,this.flag=F}X.Pattern=I,X.Ahead=$;const O=new $(/[^)]/),B=Symbol.for("*"),W=new I(["(",B,")"],"+"),j=new I([Symbol.for("symbol")],"?"),U=new I(["(",Symbol.for("symbol"),B,")"],"+");X.rules=[[["(","begin"],1],[["(","begin",W],1,O],[["(",/^let\*?$/,j,"(",U,")"],1],[["(",/^let\*?$/,j,"(",U],2,O],[["(",/^let\*?$/,j,["(",U,")"],W],1,O],[[/(?!lambda)/,"(",B,")"],1,O],[["(","if",/[^()]/],1],[["(","if",/[^()]/,B],1],[["(","if",["(",B,")"]],1],[["(","if",["(",B,")"],/[^()]/],1],[["(","if",["(",B,")"],["(",B,")"]],1,O],[["(",/^(define|lambda)/,["(",B,")"],f],1],[["(",/^(define|lambda)/,"(",B,")"],1],[["(",/^(define|lambda)/,["(",B,")"],f,W],1,O],[["(",/^(define|lambda)/,["(",B,")"],W],1,O]],X.prototype.break=function(){var T=this._code.replace(/\n[ \t]*/g,`
 `);const F=Qe=>Qe.token.match(f)?Qe.token:Qe.token.replace(/\s+/," ");var te=S(T,!0).map(F).filter(Qe=>Qe!==`
`);const{rules:ie}=X;for(let Qe=0;Qe<te.length;++Qe)if(te[Qe].trim()){var _e=te.slice(0,Qe),ue={};ie.map(lt=>lt[1]).forEach(lt=>{ue[lt]||(ue[lt]=R(_e,lt))});for(let[lt,Ot,Wt]of ie){var Ie=G(lt,ue[Ot].filter(Pt=>Pt.trim())),Be=te.slice(Qe).find(Pt=>Pt.trim());if(Ie&&(Wt instanceof $&&Wt.match(Be)||!Wt)){te.splice(Qe,0,`
`),Qe++;continue}}}return this._code=te.join(""),this},X.prototype._spaces=function(T){return new Array(T+1).join(" ")},X.prototype.format=function(F){for(var te=this._code.replace(/[ \t]*\n[ \t]*/g,`
 `),ie=S(te,!0),_e=this._options(F),ue=0,Ie=0,Be=0;Be<ie.length;++Be){var Qe=ie[Be];if(Qe.token===`
`&&(ue=this._indent(ie.slice(0,Be),_e),Ie+=ue,ie[Be+1])){ie[Be+1].token=this._spaces(ue),ue--,Ie--;for(var lt=Be+2;lt<ie.length;++lt)if(ie[lt].offset+=Ie,ie[lt].col+=ue,ie[lt].token===`
`){Be=lt-1;break}}}return ie.map(Ot=>{if(Ot.token.match(f)&&Ot.token.match(/\n/)){var Wt=new Array(Ot.col+1).join(" "),Pt=Ot.token.split(`
`);Ot.token=[Pt[0]].concat(Pt.slice(1).map(St=>Wt+St)).join(`
`)}return Ot.token}).join("")};function K(T,F){var te=Object.prototype.toString,ie="[object Array]",_e=[],ue=F&&T||T.slice(),Ie;if(!T.length)return _e;Ie=ue.pop();do te.call(Ie)===ie?ue.push.apply(ue,Ie):_e.push(Ie);while(ue.length&&(Ie=ue.pop())!==n);return _e.reverse(),_e}function z(T){return typeof T=="symbol"||typeof T=="object"&&Object.prototype.toString.call(T)==="[object Symbol]"}function k(T){if(typeof this<"u"&&this.constructor!==k||typeof this>"u")return new k(T);this.name=T}k.is=function(T,F){return T instanceof k&&(typeof F=="string"&&T.name===F||F instanceof RegExp&&F.test(T.name))},k.prototype.toJSON=k.prototype.toString=function(){return z(this.name)?this.name.toString().replace(/^Symbol\(([^)]+)\)/,"$1"):this.name};function q(){}q.prototype.toString=function(){return"()"};var fe=new q;function ne(T,F){if(typeof this<"u"&&this.constructor!==ne||typeof this>"u")return new ne(T,F);this.car=T,this.cdr=F}function Ce(){return new ne(n,fe)}function Te(T,F){return function(ie){if(Xe(T,ie,["pair","nil"]),ie instanceof ne&&ie.isEmptyList())return[];for(var _e=[],ue=ie;ue instanceof ne;){if(ue.haveCycles("cdr"))break;var Ie=ue.car;F&&Ie instanceof ne&&(Ie=this.get(T).call(this,Ie)),_e.push(Ie),ue=ue.cdr}return _e}}ne.prototype.flatten=function(){return ne.fromArray(K(this.toArray()))},ne.prototype.length=function(){if(Re(this))return 0;for(var T=0,F=this;!(!F||F===fe||!(F instanceof ne)||F.haveCycles("cdr"));)T++,F=F.cdr;return T},ne.prototype.clone=function(){var T=new Map;function F(te){if(te instanceof ne){if(T.has(te))return T.get(te);var ie=new ne;return T.set(te,ie),ie.car=F(te.car),ie.cdr=F(te.cdr),ie.cycles=te.cycles,ie}return te}return F(this)},ne.prototype.toArray=function(){if(this.isEmptyList())return[];var T=[];return this.car instanceof ne?T.push(this.car.toArray()):T.push(this.car),this.cdr instanceof ne&&(T=T.concat(this.cdr.toArray())),T},ne.prototype.isEmptyList=function(){return typeof this.car>"u"&&this.cdr===fe},ne.fromArray=function(T){if(T instanceof ne)return T;if(T.length&&!(T instanceof Array)&&(T=[...T]),T.length===0)return Ce();var F;return T[0]instanceof Array?F=ne.fromArray(T[0]):F=T[0],T.length===1?new ne(F,fe):new ne(F,ne.fromArray(T.slice(1)))},ne.prototype.toObject=function(){for(var T=this,F={};T instanceof ne&&T.car instanceof ne;){var te=T.car,ie=te.car;ie instanceof k&&(ie=ie.name);var _e=te.cdr;_e instanceof ne&&(_e=_e.toObject()),_e instanceof $e&&(_e=_e.valueOf()),F[ie]=_e,T=T.cdr}return F},ne.fromPairs=function(T){return T.reduce((F,te)=>new ne(new ne(new k(te[0]),te[1]),F),fe)},ne.fromObject=function(T){var F=Object.keys(T).map(te=>[te,T[te]]);return ne.fromPairs(F)},ne.prototype.reduce=function(T){for(var F=this,te=fe;F!==fe;)te=T(te,F.car),F=F.cdr;return te},ne.prototype.reverse=function(){if(this.haveCycles())throw new Error("You can't reverse list that have cycles");for(var T=this,F=fe;T!==fe;){var te=T.cdr;T.cdr=F,F=T,T=te}return F},ne.prototype.transform=function(T){function F(te){if(te instanceof ne){if(te.replace)return delete te.replace,te;var ie=T(te.car);ie instanceof ne&&(ie=F(ie));var _e=T(te.cdr);return _e instanceof ne&&(_e=F(_e)),new ne(ie,_e)}return te}return F(this)},ne.prototype.map=function(T){return typeof this.car<"u"?new ne(T(this.car),Re(this.cdr)?fe:this.cdr.map(T)):fe};function He(T){if(typeof T=="function")return"<#function "+(T.name||"anonymous")+">";if(typeof T=="string")return JSON.stringify(T).replace(/\\n/g,`
`);if(Yt(T))return"<#Promise>";if(T instanceof k||T instanceof $e||T instanceof RegExp||T instanceof ne||T===fe)return T.toString();if(T instanceof Array)return T.map(He);if(typeof T=="object"){if(T===null)return"null";var F=T.constructor.name;return F==="Object"?JSON.stringify(T):"<#object("+T.constructor.name+")>"}else if(typeof T<"u")return T}ne.prototype.markCycles=function(){return ot(this),this},ne.prototype.haveCycles=function(T=null){return T?!!(this.cycles&&this.cycles[T]):this.haveCycles("car")||this.haveCycles("cdr")};function ot(T){var F=[],te=[];function ie(ue){if(ue instanceof ne&&F.includes(ue))return te.includes(ue)||te.push(ue),`#${te.length-1}#`}function _e(ue){if(ue instanceof ne){F.push(ue);var Ie={},Be=ie(ue.car),Qe=ie(ue.cdr);Be?Ie.car=Be:_e(ue.car),Qe?Ie.cdr=Qe:_e(ue.cdr),Be||Qe?ue.cycles=Ie:ue.cycles&&delete ue.cycles}}_e(T)}ne.prototype.toString=function(){var T=["("];if(this.car!==n){var F;if(this.cycles&&this.cycles.car?F=this.cycles.car:F=He(this.car),F!==n&&T.push(F),this.cdr instanceof ne)if(this.cycles&&this.cycles.cdr)T.push(" . "),T.push(this.cycles.cdr);else{var te;this.cycles&&this.cycles.cdr&&(te=this.cycles.cdr);var ie=this.cdr.toString(te).replace(/^\(|\)$/g,"");T.push(" "),T.push(ie)}else typeof this.cdr<"u"&&this.cdr!==fe&&(T=T.concat([" . ",He(this.cdr)]))}return T.push(")"),T.join("")},ne.prototype.set=function(T,F){this[T]=F,F instanceof ne&&this.markCycles()},ne.prototype.append=function(T){if(T instanceof Array)return this.append(ne.fromArray(T));var F=this;if(F.car===n)T instanceof ne?(this.car=T.car,this.cdr=T.cdr):this.car=T;else if(T!==fe){for(;F instanceof ne&&F.cdr!==fe;)F=F.cdr;F.cdr=T}return this};function Rt(T,F){return T instanceof $e&&F instanceof $e?T.cmp(F)===0:typeof T=="number"||typeof F=="number"?$e(T).cmp($e(F)):T instanceof k&&F instanceof k?T.name===F.name:T===F}function Re(T){return T instanceof ne&&T.isEmptyList()||T===fe}function dt(T,F,te){if(typeof this<"u"&&this.constructor!==dt||typeof this>"u")return new dt(T,F);Xe("Macro",T,"string",1),Xe("Macro",F,"function",2),te&&(this.__doc__=H(te)),this.name=T,this.fn=F}dt.defmacro=function(T,F,te){var ie=new dt(T,F,te);return ie.defmacro=!0,ie},dt.prototype.invoke=function(T,{env:F,dynamic_scope:te,error:ie},_e){var ue={dynamic_scope:te,error:ie,macro_expand:_e},Ie=this.fn.call(F,T,ue,this.name);return _e?oi(Ie):Ie},dt.prototype.toString=function(){return"#<Macro "+this.name+">"};var wt="define-macro";function Je(T){return async function(F,te){var ie=te.env=this;async function _e(Ie){if(Ie instanceof ne&&Ie.car instanceof k)try{var Be=ie.get(Ie.car);if(Be instanceof dt&&Be.defmacro){var Qe=await Be.invoke(Ie.cdr,te,!0);if(Qe instanceof ne)return Qe}}catch{}var lt=Ie.car;lt instanceof ne&&(lt=await _e(lt));var Ot=Ie.cdr;Ot instanceof ne&&(Ot=await _e(Ot));var Wt=new ne(lt,Ot);return Wt}var ue=F;if(T)return oi((await _e(F)).car);for(;ue=await _e(F),F.toString()!==ue.toString();)F=ue;return oi(ue.car)}}function ln(T){return typeof T>"u"||T===fe||T===null}function Yt(T){return T instanceof Promise||T&&typeof T<"u"&&typeof T.then=="function"}function pn(T,F,...te){let ie=function(..._e){const ue=[...ie.__bind.args,..._e];return ie.__bind.fn.apply(F,ue)};return di(ie,"name",T.name),di(ie,"__bound__",!0),T.__doc__&&(ie.__doc__=T.__doc__),T.__code__&&(ie.__code__=T.__code__),ie.__bind={args:T.__bind?T.__bind.args.concat(te):te,fn:T.__bind?T.__bind.fn:T},ie.toString=function(){return ie.__bind.fn.toString()},ie.apply=function(_e,ue){return ie.__bind.fn.apply(_e,ue)},ie.call=function(_e,...ue){return ie.__bind.fn.call(_e,...ue)},ie.bind=function(_e,...ue){return pn(ie,_e,...ue)},un(ie,ie.__bind.fn.length)}function Ln(T){return typeof T=="function"&&T.__bind?T.__bind.fn:T}var Un=["name","length","caller","callee","arguments","prototype"];function ci(T){return!Un.includes(T)}function di(T,F,te){Object.defineProperty(T,Symbol.for(F),{get:()=>te,set:()=>{},configurable:!1,enumerable:!1})}function Gi(T,F){const te=T.bind(F);return Object.getOwnPropertyNames(T).filter(ci).forEach(_e=>{te[_e]=T[_e]}),di(te,"__bound__",!0),Qn(T)&&di(te,"__native__",!0),te}function Vt(T){if(typeof T=="fuction")return T.__bound__=!1,T.__bound__===!0}function un(T,F){try{return Object.defineProperty(T,"length",{get:function(){return F}}),T}catch{var te=new Array(F).fill(0).map((ue,Ie)=>"a"+Ie).join(","),ie=new Function("f",`return function(${te}) {
                return f.apply(this, arguments);
            };`);return ie(T)}}function Qn(T){var F=Symbol.for("__native__");return typeof T=="function"&&T.toString().match(/\{\s*\[native code\]\s*\}/)&&(T.name.match(/^bound /)&&T[F]===!0||!T.name.match(/^bound /)&&!T[F])}function ke(T){var F="let"+(T?"*":"");return dt.defmacro(F,function(te,ie){var{dynamic_scope:_e,error:ue,macro_expand:Ie}=ie,Be;if(te.car instanceof k){if(!(te.cdr.car instanceof ne))throw new Error("let require list of pairs");var Qe=te.cdr.car.map(Pt=>Pt.car);return Be=te.cdr.car.map(Pt=>Pt.cdr.car),ne.fromArray([k("let*"),[[te.car,ne(k("lambda"),ne(Qe,te.cdr.cdr))]],ne(te.car,Be)])}else if(Ie)return;var lt=this;Be=this.get("list->array")(te.car);var Ot=lt.inherit("let"),Wt=0;return function Pt(){var St=Be[Wt++];function hi(Yi){if(Yt(Yi))return Yi.then(hi);typeof Yi>"u"?Ot.set(St.car,fe):Ot.set(St.car,Yi)}if(_e&&(_e=T?Ot:lt),St){var hr=le(St.cdr.car,{env:T?Ot:lt,dynamic_scope:_e,error:ue});return E(hi(hr),Pt)}else{var Kn=new ne(new k("begin"),te.cdr);return le(Kn,{env:Ot,dynamic_scope:_e,error:ue})}}()})}function Pe(T,F){return new dt(T,function(te,{dynamic_scope:ie,error:_e}={}){var ue=this;ie&&(ie=this);for(var Ie=te,Be=[];Ie instanceof ne&&!Re(Ie);)Be.push(le(Ie.car,{env:ue,dynamic_scope:ie,error:_e})),Ie=Ie.cdr;var Qe=Be.filter(Yt).length;return Qe?Promise.all(Be).then(F.bind(this)):F.call(this,Be)})}function _t(T,...F){return F.forEach(te=>{Xe("",te,"number")}),T(...F)}function ut(...T){return T.forEach((F,te)=>{Xe("pipe",F,"function",te+1)}),function(...F){return T.reduce((te,ie)=>[ie(...te)],F)[0]}}function yt(...T){return T.forEach((F,te)=>{Xe("compose",F,"function",te+1)}),ut(...T.reverse())}function Li(T,F){var te=this;return function ie(_e,ue,...Ie){return Xe(T,_e,"function"),Ie.some(Be=>Re(Be)||ln(Be))?typeof ue=="number"?$e(ue):ue:F.call(te,ie,_e,ue,...Ie)}}function zt(T,F){return yr(T+1,Ht(_t,F))}var At=Ht(zt,1),Zt=Ht(zt,2);function Xt(T){return function(...F){if(F.length)return F.reduce(Zt(T))}}function Ht(T,...F){Xe("curry",T,"function");var te=T.length;return function(){var ie=F.slice();function _e(...ue){return ie=ie.concat(ue),ie.length>=te?T.apply(this,ie):_e}return _e.apply(this,arguments)}}function yr(T,F){return Xe("limit",F,"function",2),function(...te){return F(...te.slice(0,T))}}var si=A(function(F,...te){typeof F=="function"&&F.__bind&&(F=F.__bind.fn);for(let ue of te){var ie=ue instanceof k?ue.name:ue,_e=F[ie];typeof _e=="function"&&(_e=Gi(_e,F)),F=_e}return _e},`(. obj . args)
        (get obj . args)

        Function use object as based and keep using arguments to get the
        property of JavaScript object. Arguments need to be a strings.
        e.g. \`(. console "log")\` if you use any function inside LIPS is
        will be weakly bind (can be rebind), so you can call this log function
        without problem unlike in JavaScript when you use
       \`var log = console.log\`.
       \`get\` is an alias because . don't work in every place, you can't
        pass it as argument`);function $e(T,F){if(typeof this<"u"&&this.constructor!==$e||typeof this>"u")return new $e(T,F===!0?!0:n);if(T instanceof $e)return $e(T.value,T.float);if(!$e.isNumber(T))throw new Error(`You can't create LNumber from ${Ne(T)}`);T===null&&(T=0),$e.isFloat(T)?this.value=T:F?(this.value=T,this.float=!0):typeof BigInt<"u"?typeof T!="bigint"?this.value=BigInt(T):this.value=T:typeof t<"u"&&!(T instanceof t)?this.value=new t(T):this.value=T}$e.isFloat=function(F){return Number(F)===F&&F%1!==0},$e.isNumber=function(T){return T instanceof $e||!Number.isNaN(T)&&$e.isNative(T)||$e.isBN(T)},$e.isNative=function(T){return typeof T=="bigint"||typeof T=="number"},$e.isBN=function(T){return typeof t<"u"&&T instanceof t},$e.prototype.toString=$e.prototype.toJSON=function(){return this.value.toString()},$e.prototype.isBigNumber=function(){return typeof this.value=="bigint"||typeof t<"u"&&!(this.value instanceof t)},["floor","ceil","round"].forEach(T=>{$e.prototype[T]=function(){return this.float||$e.isFloat(this.value)?$e(Math[T](this.value)):$e(this.value)}}),$e.prototype.valueOf=function(){if($e.isNative(this.value))return Number(this.value);if($e.isBN(this.value))return this.value.toNumber()},$e.prototype.coerce=function(T){T===null&&(T=0);var F;return T instanceof $e?F=T.value:F=T,$e.isFloat(F)||(typeof this.value=="bigint"&&typeof F!="bigint"?F=BigInt(F):typeof t<"u"&&this.value instanceof t&&!F instanceof t&&(F=new t(F))),$e(F)},$e.prototype.isFloat=function(){return!!($e.isFloat(this.value)||this.float)},$e.prototype.op=function(T,F){var te={"*":function(ue,Ie){return ue*Ie},"+":function(ue,Ie){return ue+Ie},"-":function(ue,Ie){return ue-Ie},"/":function(ue,Ie){return ue/Ie},"%":function(ue,Ie){return ue%Ie},"|":function(ue,Ie){return ue|Ie},"&":function(ue,Ie){return ue&Ie},"~":function(ue){return~ue},">>":function(ue,Ie){return ue>>Ie},"<<":function(ue,Ie){return ue<<Ie}};if($e.isFloat(F)||F instanceof $e&&F.isFloat()||this.isFloat()){var ie=F instanceof $e?F.valueOf():F;return $e(te[T](this.valueOf(),ie),!0)}if(F=this.coerce(F),$e.isNative(F.value)&&$e.isNative(this.value))return $e(te[T](this.value,F.value));if($e.isBN(this.value)&&$e.isBN(F.value)){var _e={"+":"iadd","-":"isub","*":"imul","/":"idiv","%":"imod","|":"ior","&":"iand","~":"inot","<<":"ishrn",">>":"ishln"};return T=_e[T],$e(this.value.clone()[T](F,ie))}};var il={"+":"add","-":"sub","*":"mul","/":"div","%":"mod","|":"or","&":"and","~":"neg","<<":"shl",">>":"shr"};Object.keys(il).forEach(T=>{$e.prototype[il[T]]=function(F){return this.op(T,F)}}),$e.prototype.sqrt=function(){var T;return $e.isNative(this.value)?T=Math.sqrt(this.value):$e.isBN(this.value)&&(T=this.value.sqrt()),new $e(T)},$e.prototype.pow=function(T){if(T=this.coerce(T),$e.isNative(this.value))try{var F=new Function("a,b","return a**b;");T.value=F(this.value,T.value)}catch{throw new Error("Power operator not supported")}else $e.isBN(this.value)?T.value=this.value.pow(T.value):T.value=Math.pow(this.value,T.value);return T},$e.prototype.neg=function(){var T=this.value;return $e.isNative(T)?T=-T:$e.isBN(T)&&(T=T.neg()),new $e(T)},$e.prototype.abs=function(){var T=this.value;return $e.isNative(this.value)?T<0&&(T=-T):$e.isBN(T)&&T.iabs(),new $e(T)},$e.prototype.isOdd=function(){if($e.isNative(this.value))return this.isBigNumber()?this.value%BigInt(2)===BigInt(1):this.value%2===1;if($e.isBN(this.value))return this.value.isOdd()},$e.prototype.isEven=function(){return!this.isOdd()},$e.prototype.cmp=function(T){if(T=this.coerce(T),$e.isNative(this.value))return this.value<T.value?-1:this.value===T.value?0:1;if($e.isBN(this.value))return this.value.cmp(T.value)};function jn(T,F,te){arguments.length===1&&(typeof arguments[0]=="object"?(T=arguments[0],this.parent=null):typeof arguments[0]=="string"&&(T={},F={},te=arguments[0])),this.env=T,this.parent=F,this.name=te||"anonymous"}jn.prototype.inherit=function(T,F={}){return typeof T=="object"&&(F=T),(!T||typeof T=="object")&&(T="child of "+(this.name||"unknown")),new jn(F||{},this,T)},jn.prototype.get=function(T,F={}){const{weak:te,context:ie=this,throwError:_e=!0}=F;var ue,Ie=!1;if(T instanceof k?T.name in this.env&&(ue=this.env[T.name],Ie=!0):typeof T=="string"&&typeof this.env[T]<"u"&&(ue=this.env[T],Ie=!0),Ie)return $e.isNumber(ue)?$e(ue):ue instanceof ne?ue.markCycles():typeof ue=="function"&&Vt(ue)?te?pn(ue,ie):Gi(ue,ie):ue;if(this.parent instanceof jn)return this.parent.get(T,{weak:te,context:ie,throwError:_e});var Be;if(T instanceof k?Be=T.name:typeof T=="string"&&(Be=T),Be){var Qe=typeof e[Be];if(Qe==="function")return Qn(e[Be])?Gi(e[Be],e):e[Be];if(Qe!=="undefined")return e[Be]}if(_e)throw Be=(Be.name||Be).toString(),new Error("Unbound variable `"+Be+"'")},jn.prototype.set=function(T,F){$e.isNumber(F)&&(F=$e(F)),T instanceof k&&(T=T.name),this.env[T]=F},jn.prototype.has=function(T){return typeof this.env[T]<"u"},jn.prototype.ref=function(T){for(var F=this;F;){if(F.has(T))return F;F=F.parent}},jn.prototype.parents=function(){for(var T=this,F=[];T;)F.unshift(T),T=T.parent;return F};function oi(T){return Yt(T)?T.then(oi):((T instanceof ne||T instanceof k)&&(T.data=!0),T)}var fa=function(){var T=0;return function(F=null){return F!==null?new k(Symbol(`#:${F}`)):(T++,new k(Symbol(`#:g${T}`)))}}(),yn=new jn({nil:fe,undefined:n,true:!0,false:!1,NaN:NaN,stdout:{write:function(...T){console.log(...T)}},stdin:{read:function(){return new Promise(T=>{T(prompt(""))})}},help:A(new dt("help",function(T,{dynamic_scope:F,error:te}){var ie;if(T.car instanceof k)ie=T.car;else if(T.car instanceof ne&&T.car.car instanceof k)ie=T.car.car;else{var _e=this;F&&(F=this);var ue=le(T.car,{env:_e,error:te,dynamic_scope:F});if(ue&&ue.__doc__)return ue.__doc__}return this.get(ie).__doc__}),`(help object)

             Macro returns documentation for function or macros including parser
             macros but only if called with parser macro symbol like (help \`).
             For normal functions and macros you can save the function in variable.`),cons:A(function(T,F){return Re(F)&&(F=fe),new ne(T,F)},`(cons left right)

            Function return new Pair out of two arguments.`),car:A(function(T){return T===fe||(Xe("car",T,"pair"),Re(T))?fe:T.car},`(car pair)

            Function returns car (head) of the list/pair.`),cdr:A(function(T){return T===fe||(Xe("cdr",T,"pair"),Re(T))?fe:T.cdr},`(cdr pair)

            Function returns cdr (tail) of the list/pair.`),"set!":A(new dt("set!",function(T,{dynamic_scope:F,error:te}={}){F&&(F=this);var ie=le(T.cdr.car,{env:this,dynamic_scope:F,error:te});ie=Le(ie);var _e;function ue(Ot,Wt){return Yt(Ot)?Ot.then(Pt=>ue(Pt,Wt)):Yt(Wt)?Wt.then(Pt=>ue(Ot,Pt)):(Qe[Ot]=Wt,Wt)}if(T.car instanceof ne&&k.is(T.car.car,".")){var Ie=T.car.cdr.car,Be=T.car.cdr.cdr.car,Qe=le(Ie,{env:this,dynamic_scope:F,error:te}),lt=le(Be,{env:this,dynamic_scope:F,error:te});return ue(lt,ie)}if(!(T.car instanceof k))throw new Error("set! first argument need to be a symbol or dot accessor that evaluate to object.");return _e=this.ref(T.car.name),_e||(_e=this),E(ie,Ot=>{_e.set(T.car,Ot)})}),`(set! name value)

            Macro that can be used to set the value of the variable (mutate)
            it search the scope chain until it finds first non emtpy slot and set it.`),"set-car!":A(function(T,F){Xe("set-car!",T,"pair"),T.car=F},`(set-car! obj value)

            Function that set car (head) of the list/pair to specified value.
            It can destroy the list. Old value is lost.`),"set-cdr!":A(function(T,F){Xe("set-cdr!",T,"pair"),T.cdr=F},`(set-cdr! obj value)

            Function that set cdr (tail) of the list/pair to specified value.
            It can destroy the list. Old value is lost.`),"empty?":A(function(T){return typeof T>"u"||Re(T)},`(empty? object)

            Function return true if value is undfined empty list.`),assoc:A(function(T,F){if(T instanceof ne&&!(F instanceof ne))throw new Error("First argument to assoc ned to be a key");Xe("assoc",F,"pair");for(var te=F;!(!(te instanceof ne)||this.get("empty?")(te));){var ie=te.car.car;if(Rt(ie,T))return te.car;te.haveCycles("cdr")||(te=te.cdr)}return fe},`(assoc key alist)

            Function search Alist (list of pairs) until it find the one that
            have head set equal to key, and return found pair.`),gensym:A(fa,`(gensym)

             Function generate unique symbol, to use with macros as meta name.`),"require.resolve":A(function(T){var F=require.resolve(T);return F},`(require.resolve path)

           Return path relative the current module.`),require:A(function(T){return eue(T)},`(require module)

            Function to be used inside Node.js to import the module.`),load:A(function(T){Xe("load",T,"string");var F=this;return F.name==="__frame__"&&(F=F.parent),typeof this.get("global",{throwError:!1})<"u"?new Promise((te,ie)=>{nye.readFile(T,function(_e,ue){_e?ie(_e):me(ue.toString(),F).then(()=>{te()})})}):e.fetch(T).then(te=>te.text()).then(te=>me(te,F)).then(()=>{})},`(load filename)

            Function fetch the file and evaluate its content as LIPS code.`),while:A(new dt("while",function(T,{dynamic_scope:F,error:te}){var ie=this,_e=new ne(new k("begin"),T.cdr),ue;return F&&(F=ie),function Ie(){var Be=le(T.car,{env:ie,dynamic_scope:F,error:te});function Qe(lt){return lt&&!ln(lt)&&!Re(lt)?(ue=le(_e,{env:ie,dynamic_scope:F,error:te}),Yt(ue)?ue.then(Ot=>(ue=Ot,Ie())):Ie()):ue}return E(Be,Qe)}()}),`(while cond . body)

            Macro that create a loop, it exectue body untill cond expression is false`),if:A(new dt("if",function(T,{dynamic_scope:F,error:te}){F&&(F=this);var ie=this,_e=Ie=>(Xe("if",Ie,"boolean"),Ie?le(T.cdr.car,{env:ie,dynamic_scope:F,error:te}):le(T.cdr.cdr.car,{env:ie,dynamic_scope:F,error:te})),ue=le(T.car,{env:ie,dynamic_scope:F,error:te});return E(ue,_e)}),`(if cond true-expr false-expr)

            Macro evaluate condition expression and if the value is true, it
            evaluate and return true expression if not it evaluate and return
            false expression`),"let*":A(ke(!0),`(let* ((a value-a) (b value-b)) body)

             Macro that creates new environment, then evaluate and assign values to
             names and then evaluate the body in context of that environment.
             Values are evaluated sequentialy and next value can access to
             previous values/names.`),let:A(ke(!1),`(let ((a value-a) (b value-b)) body)

             Macro that creates new environment, then evaluate and assign values to
             names and then evaluate the body in context of that environment.
             Values are evaluated sequentialy but you can't access
             previous values/names when next are evaluated. You can only get them
             from body of let expression.`),"begin*":A(Pe("begin*",function(T){return T.pop()}),`(begin* . expr)

             This macro is parallel version of begin. It evaluate each expression and
             if it's a promise it will evaluate it in parallel and return value
             of last expression.`),begin:A(new dt("begin",function(T,F){var te=Object.assign({},F),ie=this.get("list->array")(T);te.dynamic_scope&&(te.dynamic_scope=this),te.env=this;var _e;return function ue(){if(ie.length){var Ie=ie.shift(),Be=le(Ie,te);return E(Be,Qe=>(_e=Qe,ue()))}else return _e}()}),`(begin . args)

             Macro runs list of expression and return valuate of the list one.
             It can be used in place where you can only have single exression,
             like if expression.`),ignore:new dt("ignore",function(T,{dynamic_scope:F,error:te}){var ie={env:this,error:te};F&&(ie.dynamic_scope=this),le(new ne(new k("begin"),T),ie)},`(ignore expression)

            Macro that will evaluate expression and swallow any promises that may
            be created. It wil run and ignore any value that may be returned by
            expression. The code should have side effects and/or when it's promise
            it should resolve to undefined.`),define:A(dt.defmacro("define",function(T,F){var te=this;if(T.car instanceof ne&&T.car.car instanceof k){var ie=new ne(new k("define"),new ne(T.car.car,new ne(new ne(new k("lambda"),new ne(T.car.cdr,T.cdr)))));return ie}else if(F.macro_expand)return;F.dynamic_scope&&(F.dynamic_scope=this),F.env=te;var _e=T.cdr.car;_e instanceof ne?_e=le(_e,F):_e instanceof k&&(_e=te.get(_e)),T.car instanceof k&&E(_e,ue=>{te.set(T.car,ue)})}),`(define name expression)
             (define (function-name . args) body)

             Macro for defining values. It can be used to define variables,
             or function. If first argument is list it will create function
             with name beeing first element of the list. The macro evalute
             code \`(define function (lambda args body))\``),"set-obj!":A(function(T,F,te){var ie=typeof T;if(ln(T)||ie!=="object"&&ie!=="function"){var _e=tr("set-obj!",Ne(T),["object","function"]);throw new Error(_e)}Ln(T)[F]=te},`(set-obj! obj key value)

            Function set property of JavaScript object`),"current-environment":A(function(){return this},`(current-environment)

            Function return current environement.`),eval:A(function(T,F){if(Xe("eval",T,["symbol","pair","array"]),F=F||this,T instanceof k)return F.get(T);if(T instanceof ne)return le(T,{env:F,error:ie=>{if(this.get("error")(ie.message),ie.code){var _e=ie.code.map((ue,Ie)=>`[${Ie+1}]: ${ue}`).join(`
`);this.get("error")(_e)}}});if(T instanceof Array){var te=this.get("eval");return T.reduce((ie,_e)=>te(_e,F))}},`(eval list)

            Function evalute LIPS code as list structure.`),lambda:new dt("lambda",function(T,{dynamic_scope:F,error:te}={}){var ie=this,_e;T.cdr instanceof ne&&typeof T.cdr.car=="string"&&T.cdr.cdr!==fe&&(_e=H(T.cdr.car));function ue(...Be){var Qe;F&&this instanceof jn?Qe=this:Qe=ie,Qe=Qe.inherit("lambda");var lt=T.car,Ot=0,Wt;if(typeof this<"u"&&Qe.set("this",this),this instanceof jn)Qe.set("arguments",this.get("arguments")),Qe.set("parent.frame",this.get("parent.frame"));else{var Pt=Be.slice();Pt.callee=ue,Pt.env=Qe,Qe.set("parent.frame",function(){return fe}),Qe.set("arguments",Pt)}if(lt instanceof k||!Re(lt))for(;;){if(lt.car!==fe)if(lt instanceof k){Wt=ne.fromArray(Be.slice(Ot)),Qe.env[lt.name]=Wt;break}else typeof Be[Ot]>"u"?Wt=fe:Wt=Be[Ot],Qe.env[lt.car.name]=Wt;if(lt.cdr===fe)break;Ot++,lt=lt.cdr}F&&(F=Qe);var St=_e?T.cdr.cdr:T.cdr,hi=new ne(new k("begin"),St);return le(hi,{env:Qe,dynamic_scope:F,error:te})}var Ie=T.car instanceof ne?T.car.length():null;return ue.__code__=new ne(new k("lambda"),T),T.car instanceof ne?A(un(ue,Ie),_e,!0):A(ue,_e,!0)},`(lambda (a b) body)
            (lambda args body)
            (lambda (a b . rest) body)

            Macro lambda create new anonymous function, if first element of the body
            is string and there is more elements it will be documentation, that can
            be read using (help fn)`),macroexpand:new dt("macroexpand",Je()),"macroexpand-1":new dt("macroexpand-1",Je(!0)),"define-macro":A(new dt(wt,function(T,{dynamic_scope:F,error:te}){if(T.car instanceof ne&&T.car.car instanceof k){var ie=T.car.car.name,_e;typeof T.cdr.car=="string"&&T.cdr.cdr!==fe&&(_e=T.cdr.car),this.env[ie]=dt.defmacro(ie,function(ue){for(var Ie=new jn({},this,"defmacro"),Be=T.car.cdr,Qe=ue;Be!==fe;){if(Be instanceof k){Ie.env[Be.name]=Qe;break}else Be.car!==fe&&(Qe===fe?Ie.env[Be.car.name]=fe:(Qe.car instanceof ne&&(Qe.car.data=!0),Ie.env[Be.car.name]=Qe.car));if(Be.cdr===fe)break;Qe!==fe&&(Qe=Qe.cdr),Be=Be.cdr}F&&(F=Ie);var lt={env:Ie,dynamic_scope:F,error:te};if(T.cdr instanceof ne){var Ot=_e?T.cdr.cdr:T.cdr,Wt=Ot.reduce(function(Pt,St){return le(St,lt)});return E(Wt,function(Pt){return typeof Pt=="object"&&delete Pt.data,Pt})}},_e),this.env[ie].__code__=new ne(new k("define-macro"),T)}}),`(define-macro (name . args) body)

             Meta macro, macro that create new macros, if return value is list structure
             it will be evaluated when macro is invoked. You can use quasiquote \` and
             unquote , and unquote-splicing ,@ inside to create expression that will be
             evaluated on runtime. Macros works like this: if you pass any expression to
             macro the arguments will not be evaluated unless macro itself evaluate it.
             Because of this macro can manipulate expression (arguments) as lists.`),quote:A(new dt("quote",function(T){return oi(T.car)}),`(quote expression)

             Macro that return single lips expression as data (it don't evaluate its
             argument). It will return list of pairs if put in front of lips code.
             And if put in fron of symbol it will return that symbol not value
             associated with that name.`),"unquote-splicing":A(function(){throw new Error("You can't call `unquote-splicing` outside of quasiquote")},`(unquote-splicing code)

            Special form to be used in quasiquote macro, parser is processing special
            characters ,@ and create call to this pseudo function. It can be used
            to evalute expression inside and return the value without parenthesis.
            the value will be joined to the output list structure.`),unquote:A(function(){throw new Error("You can't call `unquote` outside of quasiquote")},`(unquote code)

            Special form to be used in quasiquote macro, parser is processing special
            characters , and create call to this pseudo function. It can be used
            to evalute expression inside and return the value, the output is inserted
            into list structure created by queasiquote.`),quasiquote:dt.defmacro("quasiquote",function(T,F){var{dynamic_scope:te,error:ie}=F,_e=this;te&&(te=_e);function ue(St){return St instanceof ne}function Ie(St,hi,Kn=ue){if(St instanceof ne&&!Re(St)){var hr=St.car,Yi=St.cdr;return Kn(hr)&&(hr=hi(hr)),Kn(Yi)&&(Yi=hi(Yi)),Yt(hr)||Yt(Yi)?Promise.all([hr,Yi]).then(([rl,kl])=>new ne(rl,kl)):new ne(hr,Yi)}return St}function Be(St,hi){if(St instanceof ne){if(Re(St)&&hi===fe)return fe;St.append(hi)}else St=new ne(St,hi);return St}function Qe(St,hi,Kn){if(hi<Kn)return new ne(new ne(St.car.car,Ot(St.car.cdr,hi,Kn)),fe);var hr=le(St.car.cdr.car,{env:_e,dynamic_scope:te,error:ie});return E(hr,function(Yi){if(!(Yi instanceof ne)){if(St.cdr!==fe){const kl="You can't splice atom inside list";throw new Error(kl)}return Yi}lt.has(Yi)?Yi=Yi.clone():lt.add(Yi);const rl=Ot(St.cdr,0,1);return rl===fe&&Yi===fe?n:E(rl,kl=>Be(Yi,kl))})}var lt=new Set;function Ot(St,hi,Kn){if(St instanceof ne&&!Re(St)){if(k.is(St.car.car,"unquote-splicing"))return Qe(St,hi+1,Kn);if(k.is(St.car,"quasiquote")){var hr=Ot(St.cdr,hi,Kn+1);return new ne(St.car,hr)}if(k.is(St.car.car,"unquote")){if(hi+2===Kn&&St.car.cdr instanceof ne&&St.car.cdr.car instanceof ne&&k.is(St.car.cdr.car.car,"unquote-splicing"))return new ne(new k("unquote"),Qe(St.car.cdr,hi+2,Kn));if(St.car.cdr instanceof ne&&St.car.cdr.cdr!==fe&&!(St.car.cdr.car instanceof ne))return St.car.cdr}if(k.is(St.car,"quote"))return new ne(St.car,Ot(St.cdr,hi,Kn));if(k.is(St.car,"unquote")){if(hi++,hi<Kn)return new ne(new k("unquote"),Ot(St.cdr,hi,Kn));if(hi>Kn)throw new Error("You can't call `unquote` outside of quasiquote");return St.cdr instanceof ne?St.cdr.cdr!==fe?St.cdr.car instanceof ne?E(Ot(St.cdr.cdr,hi,Kn),function(Yi){var rl=le(St.cdr.car,{env:_e,dynamic_scope:te,error:ie});return new ne(rl,Yi)}):St.cdr:le(St.cdr.car,{env:_e,dynamic_scope:te,error:ie}):St.cdr}return Ie(St,Yi=>Ot(Yi,hi,Kn))}return St}function Wt(St){St instanceof ne&&(delete St.data,St.haveCycles("car")||Wt(St.car),St.haveCycles("cdr")||Wt(St.cdr))}var Pt=Ot(T.car,0,1);return E(Pt,St=>(Wt(St),oi(St)))},`(quasiquote list ,value ,@value)

            Similar macro to \`quote\` but inside it you can use special
            expressions unquote abbreviated to , that will evaluate expresion inside
            and return its value or unquote-splicing abbreviated to ,@ that will
            evaluate expression but return value without parenthesis (it will join)
            the list with its value. Best used with macros but it can be used outside`),clone:A(function(T){return Xe("clone",T,"pair"),T.clone()},`(clone list)

            Function return clone of the list.`),append:A(function(T,F){return Xe("append",T,"pair"),this.get("append!")(T.clone(),F)},`(append list item)

            Function will create new list with value appended to the end. It return
            New list.`),"append!":A(function(T,F){return Xe("append!",T,"pair"),ln(F)||Re(F)?T:T.append(F)},`(append! name expression)

             Destructive version of append, it modify the list in place. It return
             original list.`),reverse:A(function(T){if(Xe("reverse",T,["array","pair"]),T instanceof ne){var F=this.get("list->array")(T).reverse();return this.get("array->list")(F)}else{if(T instanceof Array)return T.reverse();throw new Error(tr("reverse",Ne(T),"array or pair"))}},`(reverse list)

            Function will reverse the list or array. If value is not a list
            or array it will throw exception.`),nth:A(function(T,F){if(Xe("nth",T,"number"),Xe("nth",F,["array","pair"]),F instanceof ne){for(var te=F,ie=0;ie<T;){if(!te.cdr||te.cdr===fe||te.haveCycles("cdr"))return fe;te=te.cdr,ie++}return te.car}else{if(F instanceof Array)return F[T];throw new Error(tr("nth",Ne(F),"array or pair",2))}},`(nth index obj)

            Function return nth element of the list or array. If used with different
            value it will throw exception`),list:A(function(...T){return ne.fromArray(T)},`(list . args)

            Function create new list out of its arguments.`),substring:A(function(T,F,te){return Xe("substring",T,"string"),Xe("substring",F,"number"),Xe("substring",te,["number","undefined"]),T.substring(F.valueOf(),te&&te.valueOf())},`(substring string start end)

            Function return part of the string starting at start ending with end.`),concat:A(function(...T){return T.forEach((F,te)=>Xe("concat",F,"string",te+1)),T.join("")},`(concat . strings)

            Function create new string by joining its arguments`),join:A(function(T,F){return Xe("join",T,"string"),Xe("join",F,"pair"),this.get("list->array")(F).join(T)},`(join separator list)

            Function return string by joining elements of the list`),split:A(function(T,F){return Xe("split",T,["regex","string"]),Xe("split",F,"string"),this.get("array->list")(F.split(T))},`(split separator string)

            Function create list by splitting string by separatar that can
            be a string or regular expression.`),replace:A(function(T,F,te){return Xe("replace",T,["regex","string"]),Xe("replace",F,["string","function"]),Xe("replace",te,"string"),te.replace(T,F)},`(replace pattern replacement string)

            Function change pattern to replacement inside string. Pattern can be string
            or regex and replacement can be function or string.`),match:A(function(T,F){Xe("match",T,["regex","string"]),Xe("match",F,"string");var te=F.match(T);return te?this.get("array->list")(te):fe},`(match pattern string)

            function return match object from JavaScript as list.`),search:A(function(T,F){return Xe("search",T,["regex","string"]),Xe("search",F,"string"),F.search(T)},`(search pattern string)

            Function return first found index of the pattern inside a string`),string:A(function T(F,te){if(typeof jQuery<"u"&&F instanceof jQuery.fn.init)return"<#jQuery("+F.length+")>";if(F instanceof $e)return F.value.toString();if(typeof F>"u")return"<#undefined>";if(typeof F=="function")return Qn(F)?"<#function(native)>":"<#function>";if(F instanceof RegExp)return F.toString();if(F===fe)return"nil";if(F instanceof Array)return"["+F.map(ue=>T(ue,!0)).join(", ")+"]";if(F===null||typeof F=="string"&&te)return JSON.stringify(F).replace(/\\n/g,`
`);if(F instanceof ne||F instanceof k)return F.toString();if(e.HTMLElement&&F instanceof e.HTMLElement)return`<#HTMLElement(${F.tagName.toLowerCase()})>`;if(typeof F=="object"){var ie=F.constructor,_e;return typeof ie.__className=="string"?_e=ie.__className:Ne(F)==="instance"?_e="instance":_e=ie.name,_e!==""?"<#"+_e+">":"<#Object>"}return typeof F!="string"?F.toString():F},`(string obj)

            Function return string LIPS representation of an object as string.`),env:A(function(T){T=T||this;var F=Object.keys(T.env),te;return F.length?te=ne.fromArray(F):te=fe,T.parent!==n?this.get("env").call(this,T.parent).append(te):te},`(env obj)

            Function return list values (functions and variables) inside environment.`),new:A(function(T,...F){var te=new(Ln(T))(...F);return Object.defineProperty(te,"__instance__",{enumerable:!1,get:()=>!0,set:()=>{},configurable:!1}),te},`(new obj . args)

            Function create new JavaScript instance of an object.`),"unset!":A(function(T){Xe("unset!",T,"symbol"),delete this.env[T.name]},`(unset! name)

            Function delete specified name from environment.`),"remove-special!":A(function(T){Xe("remove-special!",T,"string"),delete x[T]},"(remove-special! symbol)\n\n            Function remove special symbol from parser. Added by `add-special!`"),"add-special!":A(function(T,F){Xe("remove-special!",T,"string",1),Xe("remove-special!",F,"symbol",2),Qt.specials[T]=F},"(add-special! symbol name)\n\n            Add special symbol to the list of transforming operators by the parser.\n            e.g.: `(add-special! '#)` will allow to use `#(1 2 3)` and it will be\n            transformed into (# (1 2 3)) so you can write # macro that will process\n            the list. It's main purpose to to allow to use `define-symbol-macro`"),get:si,".":si,unbind:A(Ln,`(unbind fn)

             Function remove bidning from function so you can get props from it.`),type:A(Ne,`(type object)

             Function return type of an object as string.`),instanceof:A(function(T,F){return F instanceof T},`(instanceof type obj)

            Function check of object is instance of object.`),"macro?":A(function(T){return T instanceof dt},`(macro? expression)

            Function check if value is a macro.`),"function?":A(function(T){return typeof T=="function"},`(function? expression)

            Function check if value is a function.`),"real?":A(function(T){return Ne(T)!=="number"?!1:T instanceof $e?T.isFloat():$e.isFloat(T)},`(real? number)

            Function check if value is real number.`),"number?":A($e.isNumber,`(number? expression)

             Function check if value is a number`),"string?":A(function(T){return typeof T=="string"},`(string? expression)

            Function check if value is a string.`),"pair?":A(function(T){return T instanceof ne},`(pair? expression)

            Function check if value is a pair or list structure.`),"regex?":A(function(T){return T instanceof RegExp},`(regex? expression)

            Function check if value is regular expression.`),"null?":A(function(T){return ln(T)||T instanceof ne&&T.isEmptyList()},`(null? expression)

            Function check if value is nulish.`),"boolean?":A(function(T){return typeof T=="boolean"},`(boolean? expression)

            Function check if value is boolean.`),"symbol?":A(function(T){return T instanceof k},`(symbol? expression)

            Function check if value is LIPS symbol`),"array?":A(function(T){return T instanceof Array},`(array? expression)

            Function check if value is an arrray.`),"object?":A(function(T){return T!==fe&&T!==null&&!(T instanceof $e)&&typeof T=="object"&&!(T instanceof Array)},`(object? expression)

            Function check if value is an object.`),read:A(function T(F){return typeof F=="string"?w(S(F))[0]:this.get("stdin").read().then(te=>T.call(this,te))},`(read [string])

            Function if used with string will parse the string and return
            list structure of LIPS code. If called without an argument it
            will read string from standard input (using browser prompt or
            user defined way) and call itself with that string (parse is)
            function can be used together with eval to evaluate code from
            string`),pprint:A(function(T){T instanceof ne?(T=new Qt.Formatter(T.toString()).break().format(),this.get("stdout").write(T)):this.get("display").call(this,T)},`(pprint expression)

           Pretty print list expression, if called with non-pair it just call
           print function with passed argument.`),print:A(function(){throw new Error("Function print was removed in version 0.20.0 use display insided")},`(print . args)

            defunct function, we keep it to show proper error when used.`),display:A(function(...T){this.get("stdout").write(...T.map(F=>this.get("string")(F,typeof F=="string")))},`(display . args)

            Function convert each argument to string and print the result to
            standard output (by default it's console but it can be defined
            it user code)`),error:A(function(...T){this.get("display").apply(this,T)},`(error . args)

            Display error message.`),flatten:A(function(T){return Xe("flatten",T,"pair"),T.flatten()},`(flatten list)

            Return shallow list from tree structure (pairs).`),"array->list":A(function(T){return Xe("array->list",T,"array"),ne.fromArray(T)},`(array->list array)

            Function convert JavaScript array to LIPS list.`),"tree->array":A(Te("tree->array",!0),`(tree->array list)

             Function convert LIPS list structure into JavaScript array.`),"list->array":A(Te("list->array"),`(list->array list)

             Function convert LIPS list into JavaScript array.`),apply:A(function(T,F){return Xe("call",T,"function",1),Xe("call",F,"pair",2),T(...this.get("list->array")(F))},`(apply fn list)

            Function that call function with list of arguments.`),length:A(function(T){if(!T)return $e(0);if(T instanceof ne)return $e(T.length());if("length"in T)return $e(T.length)},`(length expression)

            Function return length of the object, the object can be list
            or any object that have length property.`),try:A(new dt("try",function(T,{dynamic_scope:F,error:te}){return new Promise(ie=>{var _e={env:this,error:Ie=>{var Be=this.inherit("try");Be.set(T.cdr.car.cdr.car.car,Ie);var Qe={env:Be,error:te};F&&(Qe.dynamic_scope=this),E(le(new ne(new k("begin"),T.cdr.car.cdr.cdr),Qe),function(lt){ie(lt)})}};F&&(_e.dynamic_scope=this);var ue=le(T.car,_e);Yt(ue)?ue.catch(_e.error).then(ie):ie(ue)})}),"(try expr (catch (e) code)"),find:A(function T(F,te){if(Xe("find",F,["regex","function"]),Xe("find",te,"pair"),ln(te))return fe;var ie=N("find",F);return E(ie(te.car),function(_e){return _e&&_e!==fe?te.car:T(F,te.cdr)})},`(find fn list)
            (find regex list)

            Higher order Function find first value for which function return true.
            If called with regex it will create matcher function.`),"for-each":A(function(T,...F){Xe("for-each",T,"function"),F.forEach((ie,_e)=>{Xe("for-each",ie,["pair","nil"],_e+1)});var te=this.get("map").call(this,T,...F);if(Yt(te))return te.then(()=>{})},`(for-each fn . lists)

            Higher order function that call function \`fn\` by for each
            value of the argument. If you provide more then one list as argument
            it will take each value from each list and call \`fn\` function
            with that many argument as number of list arguments.`),map:A(function T(F,...te){if(Xe("map",F,"function"),te.forEach((ue,Ie)=>{Xe("map",ue,["pair","nil"],Ie+1)}),te.some(ue=>ue===fe))return fe;if(te.some(Re))return Ce();var ie=te.map(ue=>ue.car),_e=this;return ie.callee=F,_e.set("arguments",ie),E(F.call(_e,...ie),ue=>E(T.call(this,F,...te.map(Ie=>Ie.cdr)),Ie=>new ne(ue,Ie)))},`(map fn . lists)

            Higher order function that call function \`fn\` by for each
            value of the argument. If you provide more then one list as argument
            it will take each value from each list and call \`fn\` function
            with that many argument as number of list arguments. The return
            values of the function call is acumulated in result list and
            returned by the call to map.`),some:A(function T(F,te){return Xe("some",F,"function"),Xe("some",te,["pair","nil"]),ln(te)?!1:E(F(te.car),ie=>ie||T(F,te.cdr))},`(some fn list)

            Higher order function that call argument on each element of the list.
            It stops when function fn return true for a value if so it will
            return true. If it don't find the value it will return false`),fold:A(Li("fold",function(T,F,te,...ie){if(Xe("fold",F,"function"),ie.forEach((ue,Ie)=>{Xe("fold",ue,["pair","nil"],Ie+1)}),ie.some(Re))return te;const _e=T.call(this,F,te,...ie.map(ue=>ue.cdr));return E(_e,ue=>F(...ie.map(Ie=>Ie.car),ue))}),`(fold fn init . lists)

             Function fold is reverse of the reduce. it call function \`fn\`
             on each elements on the list and return single value.
             e.g. it call (fn a1 b1 (fn a2 b2 (fn a3 b3 '())))
             for: (fold fn '() alist blist`),pluck:A(function(...T){return function(F){if(T=T.map(ie=>ie instanceof k?ie.name:ie),T.length===0)return fe;if(T.length===1){const[ie]=T;return F[ie]}var te={};return T.forEach(ie=>{te[ie]=F[ie]}),te}},`(pluck . string)

            If called with single string it will return function that will return
            key from object. If called with more then one argument function will
            return new object by taking all properties from given object.`),reduce:A(Li("reduce",function(T,F,te,...ie){return Xe("reduce",F,"function"),ie.forEach((_e,ue)=>{Xe("reduce",_e,["pair","nil"],ue+1)}),ie.some(Re)?te:E(F(...ie.map(_e=>_e.car),te),_e=>T.call(this,F,_e,...ie.map(ue=>ue.cdr)))}),`(reduce fn init list . lists)

             Higher order function take each element of the list and call
             the function with result of previous call or init and next element
             on the list until each element is processed and return single value
             as result of last call to \`fn\` function.
             e.g. it call (fn a3 b3 (fn a2 b2 (fn a1 b1 init)))
             for (reduce fn init alist blist`),filter:A(function(T,F){Xe("filter",T,["regex","function"]),Xe("filter",F,["pair","nil"]);var te=this.get("list->array")(F),ie=[],_e=N("filter",T);return function ue(Ie){function Be(lt){return lt&&lt!==fe&&ie.push(Qe),ue(++Ie)}if(Ie===te.length)return ne.fromArray(ie);var Qe=te[Ie];return E(_e(Qe,Ie),Be)}(0)},`(filter fn list)
            (filter regex list)

            Higher order function that call \`fn\` for each element of the list
            and return list for only those elements for which funtion return
            true value. If called with regex it will create matcher function.`),range:A(function(T){return Xe("range",T,"number"),T instanceof $e&&(T=T.valueOf()),ne.fromArray(new Array(T).fill(0).map((F,te)=>$e(te)))},`(range n)

            Function return list of n numbers from 0 to n - 1`),compose:A(yt,`(compose . fns)

             Higher order function and create new function that apply all functions
             From right to left and return it's value. Reverse of compose.
             e.g.:
             ((compose (curry + 2) (curry * 3)) 3)
             11
            `),pipe:A(ut,`(pipe . fns)

             Higher order function and create new function that apply all functions
             From left to right and return it's value. Reverse of compose.
             e.g.:
             ((pipe (curry + 2) (curry * 3)) 3)
             15`),curry:A(Ht,`(curry fn . args)

             Higher order function that create curried version of the function.
             The result function will have parially applied arguments and it
             will keep returning functions until all arguments are added

             e.g.:
             (define (add a b c d) (+ a b c d))
             (define add1 (curry add 1))
             (define add12 (add 2))
             (display (add12 3 4))`),odd:A(At(function(T){return $e(T).isOdd()}),`(odd number)
             Function check if number os odd.`),even:A(At(function(T){return $e(T).isEvent()}),`(even number)

             Function check if number is even.`),"*":A(Xt(function(T,F){return $e(T).mul(F)}),`(* . numbers)

             Multiplicate all numbers passed as arguments. If single value is passed
              it will return that value.`),"+":A(Xt(function(T,F){return $e(T).add(F)}),`(+ . numbers)

             Sum all numbers passed as arguments. If single value is passed it will
             return that value.`),"-":A(function(...T){if(T.length===1)return $e(T[0]).neg();if(T.length)return T.reduce(Zt(function(F,te){return $e(F).sub(te)}))},`(- . numbers)
            (- number)

            Substract number passed as argument. If only one argument is passed
            it will negate the value.`),"/":A(Xt(function(T,F){return $e(T).div(F)}),`(/ . numbers)

             Divide number passed as arguments one by one. If single argument
             is passed it will return that value.`),abs:A(At(function(T){return $e(T).abs()}),`(abs number)

             Function create absolute value from number.`),sqrt:A(At(function(T){return Math.sqrt(T)}),`(sqrt number)

             Function return square root of the number.`),"**":A(Zt(function(T,F){return $e(T).pow(F)}),`(** a b)

            Function calculate number a to to the power of b. It can throw
            exception when ** native operator is not supported.`),"1+":A(At(function(T){return $e(T).add(1)}),`(1+ number)

             Function add 1 to the number and return result.`),"1-":A(At(function(T){return $e(T).sub(1)}),`(1- number)

             Function substract 1 from the number and return result.`),"++":A(new dt("++",function(T){Xe("++",T.car,"symbol");var F=this.get(T.car),te=$e(F).add(1);return this.set(T.car,te),te}),`(++ variable)

             Macro that work only on variables and increment the value by one.`),"--":A(new dt("--",function(T){Xe("--",T.car,"symbol");var F=this.get(T.car),te=$e(F).sub(1);return this.set(T.car,te),te}),`(-- variable)

             Macro that decrement the value it work only on symbols`),"%":A(Xt(function(T,F){return $e(T).mod(F)}),`(% . numbers)

             Function use modulo operation on each of the numbers. It return
             single number.`),"==":A(function(T,F){return $e(T).cmp(F)===0},`(== a b)

            Function compare two numbers and check if they are equal.`),">":A(function(T,F){return $e(T).cmp(F)===1},`(> a b)

            Function compare two numbers and check if first argument is greater
            than the second one`),"<":A(function(T,F){return $e(T).cmp(F)===-1},`(< a b)

            Function compare two numbers and check if first argument is less
            than the second one`),"<=":A(function(T,F){return[0,-1].includes($e(T).cmp(F))},`(<= a b)

            Function compare two numbers and check if first argument is less or
            equal to the second one`),">=":A(function(T,F){return[0,1].includes($e(T).cmp(F))},`(>= a b)

            Function compare two numbers and check if first argument is less or
            equal to the second one`),"eq?":A(Rt,`(eq? a b)

             Function compare two values if they are identical.`),or:A(new dt("or",function(T,{dynamic_scope:F,error:te}){var ie=this.get("list->array")(T),_e=this;F&&(F=_e);var ue;return function Ie(){function Be(Ot){return ue=Ot,ue||Ie()}var Qe=ie.shift();if(typeof Qe>"u")return ue||!1;var lt=le(Qe,{env:_e,dynamic_scope:F,error:te});return E(lt,Be)}()}),`(or . expressions)

             Macro execute the values one by one and return the one that is truthy value.
             If there are no expression that evaluate to true it return false.`),and:A(new dt("and",function(T,{dynamic_scope:F,error:te}={}){var ie=this.get("list->array")(T),_e=this;if(F&&(F=_e),!ie.length)return!0;var ue;return function Ie(){function Be(Ot){return ue=Ot,ue?Ie():!1}var Qe=ie.shift();if(typeof Qe>"u")return ue||!1;var lt=le(Qe,{env:_e,dynamic_scope:F,error:te});return E(lt,Be)}()}),`(and . expressions)

             Macro evalute each expression in sequence if any value return false it will
             return false. If each value return true it will return the last value.
             If it's called without arguments it will return true.`),"|":A(function(T,F){return $e(T).or(F)},`(& a b)

            Function calculate or bit operation.`),"&":A(function(T,F){return $e(T).and(F)},`(& a b)

            Function calculate and bit operation.`),"~":A(function(T){return $e(T).neg()},`(~ number)

            Function negate the value.`),">>":A(function(T,F){return $e(T).shr(F)},`(>> a b)

            Function right shit the value a by value b.`),"<<":A(function(T,F){return $e(T).shl(F)},`(<< a b)

            Function left shit the value a by value b.`),not:A(function(T){return Re(T)?!0:!T},`(not object)

            Function return negation of the argument.`),"->":A(function(T,F,...te){return T[F](...te)},`(-> obj name . args)

            Function get function from object and call it with arguments.`)},n,"global");["floor","round","ceil"].forEach(T=>{yn.set(T,A(function(F){if(Xe(T,F,"number"),F instanceof $e)return F[T]()},`(${T} number)

            Function calculate ${T} of a number.`))});function dr(T){if(T.length===1)return T[0];for(var F=[],te=dr(T.slice(1)),ie=0;ie<te.length;ie++)for(var _e=0;_e<T[0].length;_e++)F.push(T[0][_e]+te[ie]);return F}function Il(T,F,te){for(var ie=[],_e=F;_e<=te;++_e){for(var ue=[],Ie=0;Ie<_e;++Ie)ue.push(T);ie=ie.concat(dr(ue))}return ie}Il(["d","a"],2,5).forEach(T=>{const F=T.split(""),te=F.slice().reverse(),ie=F.map(ue=>`(c${ue}r`).join(" ")+" arg"+")".repeat(F.length),_e="c"+T+"r";yn.set(_e,A(function(ue){return te.reduce(function(Ie,Be){return Ie===fe?fe:(Xe(_e,Ie,"pair"),Be==="a"?Ie.car:Ie.cdr)},ue)},`(${_e} arg)

            Function calculate ${ie}`))}),typeof Ca<"u"?(yn.set("global",Ca),yn.set("require.resolve",A(function(T){return require.resolve(T)},`(require.resolve path)

           Return path relative the current module.`)),yn.set("require",A(function(T){return eue(T)},`(require module)

            Function to be used inside Node.js to import the module.`))):typeof window<"u"&&yn.set("window",window);function tr(T,F,te,ie=null){let _e=T?` in function \`${T}\``:"";if(ie!==null&&(_e+=` argument ${ie}`),te instanceof Array){const ue=te[te.length-1];te=te.slice(0,-1).join(", ")+" or "+ue}return`Expecting ${te} got ${F}${_e}`}function Xe(T,F,te,ie=null){const _e=Ne(F);var ue=!1;if(te instanceof Array&&te.includes(_e)&&(ue=!0),!ue&&_e!==te)throw new Error(tr(T,_e,te,ie))}function Co(T){var F=typeof T;return["string","function"].includes(F)||T instanceof $e||T instanceof RegExp}function Ne(T){var F={pair:ne,symbol:k,macro:dt,array:Array,native_symbol:Symbol};if(T===fe)return"nil";if(T===null)return"null";for(let[te,ie]of Object.entries(F))if(T instanceof ie)return te;return T instanceof $e?"number":T instanceof RegExp?"regex":typeof T=="object"?T.__instance__&&(T.__instance__=!1,T.__instance__)?"instance":T.constructor.name:typeof T}function Le(T){var F=[];if(te(T),F.length)return _e(T);return T;function te(ue){Yt(ue)?F.push(ue):ue instanceof ne?(ue.haveCycles("car")||te(ue.car),ue.haveCycles("cdr")||te(ue.cdr)):ue instanceof Array&&ue.forEach(te)}async function ie(ue){var Ie=new ne(ue.haveCycles("car")?ue.car:await _e(ue.car),ue.haveCycles("cdr")?ue.cdr:await _e(ue.cdr));return ue.data&&(Ie.data=!0),Ie}function _e(ue){return ue instanceof Array?Promise.all(ue.map(_e)):ue instanceof ne&&F.length?ie(ue):ue}}function Oe(T,{env:F,dynamic_scope:te,error:ie}){var _e=[],ue=T;for(ot(ue);ue instanceof ne&&!Re(ue);){var Ie=le(ue.car,{env:F,dynamic_scope:te,error:ie});if(te&&(Ie=E(Ie,Be=>typeof Be=="function"&&Qn(Be)?Be.bind(te):Be)),_e.push(Ie),ue.haveCycles("cdr"))break;ue=ue.cdr}return Le(_e)}function oe(T,F,te){var ie=T.invoke(F,te);return E(Le(ie),function(ue){return ue&&ue.data||!ue||Co(ue)?ue:oi(le(ue,te))})}function le(T,{env:F,dynamic_scope:te,error:ie=()=>{}}={}){try{te===!0?F=te=F||yn:F===!0?F=te=yn:F=F||yn;var _e={env:F,dynamic_scope:te,error:ie},ue;if(ln(T))return T;if(Re(T))return Ce();if(T instanceof k)return F.get(T,{weak:!0});var Ie=T.car,Be=T.cdr;if(Ie instanceof ne){if(ue=Le(le(Ie,_e)),Yt(ue))return ue.then(Wt=>le(new ne(Wt,T.cdr),_e));if(typeof ue!="function")throw new Error(Ne(ue)+" "+F.get("string")(ue)+" is not a function while evaluating "+T.toString())}if(Ie instanceof k){if(ue=F.get(Ie,{weak:!0}),ue instanceof dt){var Qe=oe(ue,Be,_e);return E(Qe,Wt=>Wt instanceof ne?Wt.markCycles():Wt)}else if(typeof ue!="function"){if(ue){var lt=`${Ne(ue)} \`${ue}' is not a function`;throw new Error(lt)}throw new Error(`Unknown function \`${Ie.name}'`)}}else typeof Ie=="function"&&(ue=Ie);if(typeof ue=="function"){var Ot=Oe(Be,_e);return E(Ot,function(Wt){var Pt=(te||F).inherit("__frame__");Pt.set("parent.frame",function(Kn=1){if(Kn===0)return Pt;if(!(Pt.parent instanceof jn))return fe;var hr=Pt.parent.get("parent.frame",{throwError:!1});return typeof hr=="function"?hr(Kn-1):fe});var St=Wt.slice();St.callee=ue,Pt.set("arguments",St);var hi=Le(ue.apply(Pt,Wt));return E(hi,Kn=>Kn instanceof ne?oi(Kn.markCycles()):Kn,ie)})}else if(T instanceof k){if(ue=F.get(T),ue==="undefined")throw new Error("Unbound variable `"+T.name+"'");return ue}else{if(T instanceof ne)throw ue=Ie&&Ie.toString(),new Error(`${Ne(Ie)} ${ue} is not a function`);return T}}catch(Wt){ie&&ie(Wt,T)}}async function me(T,F,te){te===!0?F=te=F||yn:F===!0?F=te=yn:F=F||yn;for(var ie=w(T),_e=[];;){var ue=ie.shift();if(ue){var Ie=await le(ue,{env:F,dynamic_scope:te,error:(Be,Qe)=>{throw Qe&&(Be.code instanceof Array||(Be.code=[]),Be.code.push(Qe.toString())),Be}});_e.push(Ie)}else return _e}}function J(T){return function(F){return F?(F.token||F).match(T):!1}}var be=J(/[()]/);function Ue(T){var F=typeof T=="string"?S(T):T,te=F.filter(be),ie=te.filter(ue=>(ue.token||ue)===")"),_e=te.filter(ue=>(ue.token||ue)==="(");return ie.length===_e.length}ne.unDry=function(T){return new ne(T.car,T.cdr)},ne.prototype.toDry=function(){return{value:{car:this.car,cdr:this.cdr}}},q.prototype.toDry=function(){return{value:null}},q.unDry=function(){return fe},k.prototype.toDry=function(){return{value:{name:this.name}}},k.unDry=function(T){return new k(T.name)};function Fe(T){console.error(T.message||T),T.code&&console.error(T.code.map((F,te)=>`[${te+1}]: ${F}`))}function ft(){var T="text/x-lips";if(window.document){var F=Array.from(document.querySelectorAll("script"));return function te(){var ie=F.shift();if(ie){var _e=ie.getAttribute("type");if(_e===T){var ue=ie.getAttribute("src");return ue?e.fetch(ue).then(Ie=>Ie.text()).then(me).then(te).catch(Ie=>{Fe(Ie),te()}):me(ie.innerHTML).then(te).catch(Ie=>{Fe(Ie),te()})}else _e&&_e.match(/lips|lisp/)&&console.warn("Expecting "+T+" found "+_e);return te()}}()}}typeof window<"u"&&r(window,ft),$.__className="Ahead",I.__className="Pattern",X.__className="Formatter",dt.__className="Macro",jn.__className="Environment";var Qt={version:"{{VER}}",exec:me,parse:w,tokenize:S,evaluate:le,Environment:jn,global_environment:yn,globalEnvironment:yn,env:yn,balanced_parenthesis:Ue,balancedParenthesis:Ue,Macro:dt,quote:oi,Pair:ne,Formatter:X,specials:x,nil:fe,resolvePromises:Le,LSymbol:k,LNumber:$e};return yn.set("lips",Qt),Qt})})(tye);var evt=tye.exports;const tvt=Om(evt),iye=["FlinkSQL","SparkSQL","HiveSQL","MySQL","PGSQL","TrinoSQL","ImpalaSQL"],_9=iye[0],rye={id:"fixedTab",name:_9,data:{value:"",language:_9.toLowerCase()}},sye={id:"fixedStatusItem",name:_9,sortIndex:3};class oye{constructor(e,t,n){this._onDidChange=new Kve,this._languageId=e,this.setModeConfiguration(t),this._preprocessCode=n??null}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get completionService(){return this._modeConfiguration.completionItems.completionService}get triggerCharacters(){return this._modeConfiguration.completionItems.triggerCharacters}get preprocessCode(){return this._preprocessCode}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}}const nvt=function(i,e,t,n){if(!n)return Promise.resolve([]);const{keywords:r}=n,s=r.map(o=>({label:o,kind:qa.CompletionItemKind.Keyword,detail:"keyword"}));return Promise.resolve(s)},rO={completionItems:{enable:!0,completionService:nvt,triggerCharacters:["."," "]},diagnostics:!0},ivt=2*60*1e3;class rvt{constructor(e){this._defaults=e,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;Date.now()-this._lastUsedTime>ivt&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=Za.createWebWorker({moduleId:this._defaults.languageId,label:this._defaults.languageId,createData:{languageId:this._defaults.languageId}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...e){const t=e==null?void 0:e.filter(Boolean);return this._getClient().then(n=>(t&&(t!=null&&t.length)&&this._worker&&this._worker.withSyncedResources(t),n))}}class svt{constructor(){this.workerClients=new Map}valid(e,t){const n=typeof t=="string"?t:t.getValue(),r=typeof t=="string"?void 0:t.uri;return this.getClientWorker(e,r).then(o=>o.doValidation(n))}parserTreeToString(e,t){const n=typeof t=="string"?t:t.getValue(),r=typeof t=="string"?void 0:t.uri;return this.getClientWorker(e,r).then(o=>o.parserTreeToString(n))}getAllEntities(e,t,n){const r=typeof t=="string"?t:t.getValue(),s=typeof t=="string"?void 0:t.uri;return this.getClientWorker(e,s).then(a=>a.getAllEntities(r,n))}dispose(e){var t;e?this.workerClients.has(e)&&((t=this.workerClients.get(e))===null||t===void 0||t.dispose(),this.workerClients.delete(e)):(this.workerClients.forEach(n=>{n.dispose()}),this.workerClients.clear())}getClientWorker(e,...t){let n=this.workerClients.get(e);if(!n){const r=new rvt(this.getLanguageServiceDefault(e));return this.workerClients.set(e,r),r.getLanguageServiceWorker(...t)}return n.getLanguageServiceWorker(...t)}getLanguageServiceDefault(e){return new oye(e,rO)}}function ovt(i,e,t){let n=null;return(...r)=>{if(n&&clearTimeout(n),t&&!n)return i==null?void 0:i(...r);n=setTimeout(()=>{n&&clearTimeout(n),n=null,i==null||i(...r)},e)}}class avt extends re.Component{constructor(t){super(t);ae(this,"_language",_9);ae(this,"languageService");ae(this,"onClick",(t,n)=>{console.log("onClick:",t,n)});ae(this,"onChangeLanguage",(t,n)=>{n&&n.value&&(this._language=n.value,this.updateLanguage(n.value))});ae(this,"analyseProblems",ovt(t=>{const n=t.data.value;this.languageService.valid(this.language,n).then(r=>{on.problems.reset();const s=this.convertMsgToProblemItem(t,n,r);on.problems.add(s)})},200));ae(this,"convertMsgToProblemItem",(t,n,r=[])=>{const s=t.id,o=`${t.name||""}`,a={id:s,name:o,isLeaf:!1,value:{code:o,message:"",startLineNumber:0,startColumn:1,endLineNumber:0,endColumn:1,status:Rf.Hint},children:[]};return a.children=r.map((u,c)=>({id:`${s}-${c}`,name:u.code||"",isLeaf:!0,value:{code:u.code,message:u.message,startLineNumber:Number(u.startLine),startColumn:Number(u.startCol),endLineNumber:Number(u.endLine),endColumn:Number(u.endCol),status:Rf.Error},children:[]})),a});ae(this,"parse",()=>{this.setupOutputLanguage();const t=on.editor.editorInstance.getValue();on.panel.cleanOutput(),this.languageService.parserTreeToString(this.language,t).then(n=>{const r=n==null?void 0:n.replace(/(\(|\))/g,`$1
`),o=new tvt.Formatter(r).format({indent:2,offset:2}),a=on.panel.getPanel(on.builtin.getConstants().PANEL_OUTPUT??"")??{};on.panel.update({...a,data:o}),on.panel.appendOutput("")})});this.languageService=new svt}componentDidMount(){on.editor.onUpdateTab(this.analyseProblems),Za.setTheme("sql-dark")}get language(){return this._language.toLowerCase()}updateLanguage(t){var u;const n=this.language,r=Object.assign(rye,{name:t,data:{language:n,value:""}}),s=((u=on.editor.getState().current)==null?void 0:u.id)||-1;on.editor.updateTab(r,s);const o=on.editor.editorInstance.getModel();o&&Za.setModelLanguage(o,n);const a=Object.assign(sye,{name:t,sortIndex:3});this.analyseProblems(r),on.statusBar.update(a)}async setupOutputLanguage(){var n;const t=await((n=on.panel.outputEditorInstance)==null?void 0:n.getModel());t&&Za.setModelLanguage(t,"clojure")}renderColorThemes(){const t=iye.map(n=>ld.jsx(U_e,{value:n,children:n},n));return ld.jsx(aR,{style:{margin:"10px 4px 20px 4px"},defaultValue:this._language,onSelect:this.onChangeLanguage,children:t})}render(){return ld.jsx("div",{children:ld.jsxs("div",{style:{margin:"20px 20px"},children:[ld.jsxs("h1",{style:{fontSize:20,textTransform:"uppercase"},children:["Select a language:"," "]}),this.renderColorThemes(),ld.jsx(VC,{onClick:this.parse,children:"Parse"})]})})}}const lvt={id:"ExtendWorkbench",name:"ExtendWorkbench",activate(){const i={id:"ParserSidebar",title:"Sidebar",render(){return ld.jsx(avt,{})}};on.sidebar.add(i),on.sidebar.setState({current:i.id});const e={id:"OnlineParser",icon:"beaker",title:"SQL Languages Online Parse"},t={id:"GotoGithub",icon:"github",title:"Go To Github"};on.activityBar.remove("sidebar.explore.title"),on.activityBar.remove("sidebar.search.title"),on.activityBar.add([e,t]),on.activityBar.setState({selected:e.id}),on.activityBar.onClick(n=>{n===t.id&&(window.location.href="https://github.com/DTStack/monaco-sql-languages")}),on.editor.open(rye),on.statusBar.add(sye,mm.right)},dispose(){}},uvt="0.12.2",cvt={"dt-sql-parser":"4.1.0-beta.4"};var dvt=globalThis&&globalThis.__awaiter||function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):r(h.value).then(a,u)}c((n=n.apply(i,e||[])).next())})};const aye={},Pz={};class Pee{static getOrCreate(e){return Pz[e]||(Pz[e]=new Pee(e)),Pz[e]}constructor(e){this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,n)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=n})}whenLoaded(){return this._lazyLoadPromise}load(){return this._loadingTriggered||(this._loadingTriggered=!0,aye[this._languageId].loader().then(e=>this._lazyLoadPromiseResolve(e),e=>this._lazyLoadPromiseReject(e))),this._lazyLoadPromise}}function uw(i){const e=i.id;aye[e]=i,qa.register(i);const t=Pee.getOrCreate(e);qa.setMonarchTokensProvider(e,t.whenLoaded().then(n=>n.language)),qa.onLanguage(e,()=>dvt(this,void 0,void 0,function*(){const n=yield t.load();qa.setLanguageConfiguration(e,n.conf)}))}var hvt=globalThis&&globalThis.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const nue=new Map,Fz=new Map,Bz=new Map,lye=new Map;function iue(i){const e=i.languageId;Nt(()=>import("./setupLanguageMode-cf5839f0.js"),[]).then(t=>{var n;Fz.has(e)&&((n=Fz.get(e))===null||n===void 0||n.dispose()),Fz.set(e,t.setupLanguageMode(i))})}function gc(i,e){var t;if(typeof e!="object")return;const{preprocessCode:n}=e,r=hvt(e,["preprocessCode"]),s=fvt(i,r),o=new oye(i,s,n);lye.set(i,o),nue.get(i)?iue(o):(Bz.has(i)&&((t=Bz.get(i))===null||t===void 0||t.dispose()),Bz.set(i,qa.onLanguage(i,()=>{iue(o),nue.set(i,!0)})))}function fvt(i,e){var t,n,r,s,o,a,u;const c=lye.get(i),h=typeof e.diagnostics=="boolean"?e.diagnostics:(t=c==null?void 0:c.modeConfiguration.diagnostics)!==null&&t!==void 0?t:rO.diagnostics,f=typeof e.completionItems=="boolean"?e.completionItems:(n=c==null?void 0:c.modeConfiguration.completionItems.enable)!==null&&n!==void 0?n:rO.completionItems.enable,p=typeof e.completionItems!="boolean"&&typeof((r=e.completionItems)===null||r===void 0?void 0:r.completionService)=="function"?(s=e.completionItems)===null||s===void 0?void 0:s.completionService:(o=c==null?void 0:c.modeConfiguration.completionItems.completionService)!==null&&o!==void 0?o:rO.completionItems.completionService,m=typeof e.completionItems!="boolean"&&Array.isArray((a=e.completionItems)===null||a===void 0?void 0:a.triggerCharacters)?e.completionItems.triggerCharacters:(u=c==null?void 0:c.modeConfiguration.completionItems.triggerCharacters)!==null&&u!==void 0?u:rO.completionItems.triggerCharacters;return{diagnostics:h,completionItems:{enable:f,completionService:p,triggerCharacters:m}}}const en={BINARY:"binary",BINARY_ESCAPE:"binary.escape",COMMENT:"comment",COMMENT_QUOTE:"comment.quote",DELIMITER:"delimiter",DELIMITER_CURLY:"delimiter.curly",DELIMITER_PAREN:"delimiter.paren",DELIMITER_SQUARE:"delimiter.square",IDENTIFIER:"identifier",IDENTIFIER_QUOTE:"identifier.quote",KEYWORD:"keyword",KEYWORD_SCOPE:"keyword.scope",NUMBER:"number",NUMBER_FLOAT:"number.float",NUMBER_BINARY:"number.binary",NUMBER_OCTAL:"number.octal",NUMBER_HEX:"number.hex",OPERATOR:"operator",OPERATOR_KEYWORD:"operator.keyword",OPERATOR_SYMBOL:"operator.symbol",PREDEFINED:"predefined",STRING:"string",STRING_DOUBLE:"string.double",STRING_ESCAPE:"string.escape",TYPE:"type",VARIABLE:"variable",WHITE:"white"},tn=i=>i+".sql";var Br;(function(i){i.FLINK="flinksql",i.HIVE="hivesql",i.MYSQL="mysql",i.PG="pgsql",i.SPARK="sparksql",i.TRINO="trinosql",i.IMPALA="impalasql"})(Br||(Br={}));uw({id:Br.FLINK,extensions:[".flinksql"],aliases:["FlinkSQL","flink","Flink"],loader:()=>Nt(()=>import("./flink-e4ecea31.js"),[])});gc(Br.FLINK,{completionItems:!0,diagnostics:!0});uw({id:Br.SPARK,extensions:[".sparksql"],aliases:["SparkSQL","spark","Spark"],loader:()=>Nt(()=>import("./spark-feaf50a2.js"),[])});gc(Br.SPARK,{completionItems:!0,diagnostics:!0});uw({id:Br.HIVE,extensions:[".hivesql"],aliases:["HiveSQL","hive","Hive"],loader:()=>Nt(()=>import("./hive-dee8f8bf.js"),[])});gc(Br.HIVE,{completionItems:!0,diagnostics:!0});uw({id:Br.TRINO,extensions:[".trinosql"],aliases:["TrinoSQL","trino","Trino","prestosql","PrestoSQL","presto","Presto"],loader:()=>Nt(()=>import("./trino-f52638b8.js"),[])});gc(Br.TRINO,{completionItems:!0,diagnostics:!0});uw({id:Br.MYSQL,extensions:[".mysql"],aliases:["MySQL","mysql"],loader:()=>Nt(()=>import("./mysql-8abdf3e5.js"),[])});gc(Br.MYSQL,{completionItems:!0,diagnostics:!0});uw({id:Br.PG,extensions:[".pgsql"],aliases:["PgSQL","postgresql","PostgreSQL"],loader:()=>Nt(()=>import("./pgsql-7982c647.js"),[])});gc(Br.PG,{completionItems:!0,diagnostics:!0});uw({id:Br.IMPALA,extensions:[".impalasql"],aliases:["impalaSQL","impala","Impala"],loader:()=>Nt(()=>import("./impala-4da549ab.js"),[])});gc(Br.IMPALA,{completionItems:!0,diagnostics:!0});const gvt={base:"vs",inherit:!0,rules:[{token:tn(en.BINARY),foreground:"098658"},{token:tn(en.BINARY_ESCAPE),foreground:"098658"},{token:tn(en.COMMENT),foreground:"008000"},{token:tn(en.COMMENT_QUOTE),foreground:"008000"},{token:tn(en.DELIMITER),foreground:"000000"},{token:tn(en.DELIMITER_CURLY),foreground:"319331"},{token:tn(en.DELIMITER_PAREN),foreground:"0431fa"},{token:tn(en.DELIMITER_SQUARE),foreground:"0431fa"},{token:tn(en.IDENTIFIER),foreground:"001080"},{token:tn(en.IDENTIFIER_QUOTE),foreground:"001080"},{token:tn(en.KEYWORD),foreground:"0000ff"},{token:tn(en.KEYWORD_SCOPE),foreground:"af00db"},{token:tn(en.NUMBER),foreground:"098658"},{token:tn(en.NUMBER_FLOAT),foreground:"098658"},{token:tn(en.NUMBER_BINARY),foreground:"098658"},{token:tn(en.NUMBER_OCTAL),foreground:"098658"},{token:tn(en.NUMBER_HEX),foreground:"098658"},{token:tn(en.OPERATOR),foreground:"000000"},{token:tn(en.OPERATOR_KEYWORD),foreground:"0000ff"},{token:tn(en.OPERATOR_SYMBOL),foreground:"000000"},{token:tn(en.PREDEFINED),foreground:"795e26"},{token:tn(en.STRING),foreground:"a31515"},{token:tn(en.STRING_ESCAPE),foreground:"a31515"},{token:tn(en.TYPE),foreground:"267f99"},{token:tn(en.VARIABLE),foreground:"4fc1ff"}],colors:{}},pvt={base:"vs-dark",inherit:!0,rules:[{token:tn(en.BINARY),foreground:"b5cea8"},{token:tn(en.BINARY_ESCAPE),foreground:"b5cea8"},{token:tn(en.COMMENT),foreground:"6a9955"},{token:tn(en.COMMENT_QUOTE),foreground:"6a9955"},{token:tn(en.DELIMITER),foreground:"d4d4d4"},{token:tn(en.DELIMITER_CURLY),foreground:"da70d6"},{token:tn(en.DELIMITER_PAREN),foreground:"ffd700"},{token:tn(en.DELIMITER_SQUARE),foreground:"ffd700"},{token:tn(en.IDENTIFIER),foreground:"9cdcfe"},{token:tn(en.IDENTIFIER_QUOTE),foreground:"9cdcfe"},{token:tn(en.KEYWORD),foreground:"569cd6"},{token:tn(en.KEYWORD_SCOPE),foreground:"c586c0"},{token:tn(en.NUMBER),foreground:"b5cea8"},{token:tn(en.NUMBER_FLOAT),foreground:"b5cea8"},{token:tn(en.NUMBER_BINARY),foreground:"b5cea8"},{token:tn(en.NUMBER_OCTAL),foreground:"b5cea8"},{token:tn(en.NUMBER_HEX),foreground:"b5cea8"},{token:tn(en.OPERATOR),foreground:"d4d4d4"},{token:tn(en.OPERATOR_KEYWORD),foreground:"569cd6"},{token:tn(en.OPERATOR_SYMBOL),foreground:"d4d4d4"},{token:tn(en.PREDEFINED),foreground:"dcdcaa"},{token:tn(en.STRING),foreground:"ce9178"},{token:tn(en.STRING_ESCAPE),foreground:"ce9178"},{token:tn(en.TYPE),foreground:"4ec9b0"},{token:tn(en.VARIABLE),foreground:"4fc1ff"}],colors:{}},mvt={base:"hc-black",inherit:!0,rules:[{token:tn(en.BINARY),foreground:"b5cea8"},{token:tn(en.BINARY_ESCAPE),foreground:"b5cea8"},{token:tn(en.COMMENT),foreground:"7ca668"},{token:tn(en.COMMENT_QUOTE),foreground:"7ca668"},{token:tn(en.DELIMITER),foreground:"ffffff"},{token:tn(en.DELIMITER_CURLY),foreground:"da70d6"},{token:tn(en.DELIMITER_PAREN),foreground:"ffd700"},{token:tn(en.DELIMITER_SQUARE),foreground:"ffd700"},{token:tn(en.IDENTIFIER),foreground:"9cdcfe"},{token:tn(en.IDENTIFIER_QUOTE),foreground:"9cdcfe"},{token:tn(en.KEYWORD),foreground:"569cd6"},{token:tn(en.KEYWORD_SCOPE),foreground:"c586c0"},{token:tn(en.NUMBER),foreground:"b5cea8"},{token:tn(en.NUMBER_FLOAT),foreground:"b5cea8"},{token:tn(en.NUMBER_BINARY),foreground:"b5cea8"},{token:tn(en.NUMBER_OCTAL),foreground:"b5cea8"},{token:tn(en.NUMBER_HEX),foreground:"b5cea8"},{token:tn(en.OPERATOR),foreground:"ffffff"},{token:tn(en.OPERATOR_KEYWORD),foreground:"569cd6"},{token:tn(en.OPERATOR_SYMBOL),foreground:"ffffff"},{token:tn(en.PREDEFINED),foreground:"dcdcaa"},{token:tn(en.STRING),foreground:"ce9178"},{token:tn(en.STRING_ESCAPE),foreground:"ce9178"},{token:tn(en.TYPE),foreground:"4ec9b0"},{token:tn(en.VARIABLE),foreground:"4fc1ff"}],colors:{}},Fee={lightThemeData:gvt,darkThemeData:pvt,hcBlackThemeData:mvt};var _vt=Object.defineProperty,ze=(i,e)=>_vt(i,"name",{value:e,configurable:!0}),ix,ab=(ix=class{constructor(e){ae(this,"target");this.target=e}get isEpsilon(){return!1}get label(){return null}},ze(ix,"Transition"),ae(ix,"serializationNames",["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"]),ix),VR,Bee=(VR=class extends ab{constructor(e){super(e)}},ze(VR,"AbstractPredicateTransition"),VR),ii={EPSILON:1,RANGE:2,RULE:3,PREDICATE:4,ATOM:5,ACTION:6,SET:7,NOT_SET:8,WILDCARD:9,PRECEDENCE:10},HR,uye=(HR=class extends ab{constructor(t,n,r,s){super(t);ae(this,"ruleIndex");ae(this,"actionIndex");ae(this,"isCtxDependent");this.ruleIndex=n,this.actionIndex=r===void 0?-1:r,this.isCtxDependent=s===void 0?!1:s}get isEpsilon(){return!0}get serializationType(){return ii.ACTION}matches(t,n,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}},ze(HR,"ActionTransition"),HR),Xp,kr=(Xp=class{constructor(e){ae(this,"cachedHashCode");this.cachedHashCode=e}isEmpty(){return!1}hasEmptyPath(){return this.getReturnState(this.length-1)===Xp.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(e){e.update(this.cachedHashCode)}toString(e){return""}},ze(Xp,"PredictionContext"),ae(Xp,"EMPTY_RETURN_STATE",2147483647),ae(Xp,"EMPTY"),ae(Xp,"trace_atn_sim",!1),Xp),rue=3432918353,sue=461845907,g6=15,p6=13,oue=5,aue=3864292196,SC,sp=(SC=class{constructor(){ae(this,"count");ae(this,"hash");this.count=0,this.hash=0}static hashStuff(...e){const t=new SC;return t.update(e),t.finish()}static hashString(e=0,t){let n=3735928559^e,r=1103547991^e;for(const s of t){const o=s.charCodeAt(0);n=Math.imul(n^o,2654435761),r=Math.imul(r^o,1597334677)}return n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),Math.imul(4294967296,2097151&r)+(n>>>0)}update(...e){for(const t of e)if(t!=null)if(Array.isArray(t))this.update(...t);else{let n=0;switch(typeof t){case"undefined":case"function":continue;case"number":{n=t;break}case"boolean":{n=t?1237:4327;break}case"string":{n=SC.hashString(this.hash,t);break}default:{t.updateHashCode(this);continue}}this.count=this.count+1,n=Math.imul(n,rue),n=n<<g6|n>>>32-g6,n=Math.imul(n,sue);let r=this.hash^n;r=r<<p6|r>>>32-p6,this.hash=Math.imul(r,oue)+aue}}updateWithHashCode(e){this.count=this.count+1,e=Math.imul(e,rue),e=e<<g6|e>>>32-g6,e=Math.imul(e,sue);let t=this.hash^e;t=t<<p6|t>>>32-p6,this.hash=Math.imul(t,oue)+aue}finish(){let e=this.hash^this.count*4;return e^=e>>>16,e=Math.imul(e,2246822507),e^=e>>>13,e=Math.imul(e,3266489909),e^=e>>>16,e}},ze(SC,"HashCode"),SC),vvt=ze(i=>typeof i.equals=="function","isComparable"),bvt=ze(i=>i===null?"null":i,"valueToString"),tC=ze(i=>Array.isArray(i)?"["+i.map(bvt).join(", ")+"]":"null","arrayToString"),BR=ze((i,e)=>{if(i===e)return!0;if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++){const n=i[t],r=e[t];if(n!==r&&vvt(n)&&!n.equals(r))return!1}return!0},"equalArrays"),Cvt=ze((i,e=!1)=>(i=i.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r"),e&&(i=i.replace(/ /g,"")),i),"escapeWhitespace"),cye=ze((i,e)=>i?i.equals(e):i===e,"standardEqualsFunction"),yvt=Math.round(Math.random()*Math.pow(2,32)),wvt=ze(i=>{let e,t;const n=i.length&3,r=i.length-n;let s=yvt;const o=3432918353,a=461845907;let u=0;for(;u<r;)t=i.charCodeAt(u)&255|(i.charCodeAt(++u)&255)<<8|(i.charCodeAt(++u)&255)<<16|(i.charCodeAt(++u)&255)<<24,++u,t=(t&65535)*o+(((t>>>16)*o&65535)<<16)&4294967295,t=t<<15|t>>>17,t=(t&65535)*a+(((t>>>16)*a&65535)<<16)&4294967295,s^=t,s=s<<13|s>>>19,e=(s&65535)*5+(((s>>>16)*5&65535)<<16)&4294967295,s=(e&65535)+27492+(((e>>>16)+58964&65535)<<16);switch(t=0,n){case 3:t^=(i.charCodeAt(u+2)&255)<<16;case 2:t^=(i.charCodeAt(u+1)&255)<<8;case 1:t^=i.charCodeAt(u)&255,t=(t&65535)*o+(((t>>>16)*o&65535)<<16)&4294967295,t=t<<15|t>>>17,t=(t&65535)*a+(((t>>>16)*a&65535)<<16)&4294967295,s^=t}return s^=i.length,s^=s>>>16,s=(s&65535)*2246822507+(((s>>>16)*2246822507&65535)<<16)&4294967295,s^=s>>>13,s=(s&65535)*3266489909+(((s>>>16)*3266489909&65535)<<16)&4294967295,s^=s>>>16,s>>>0},"stringHashCode"),dye=ze(i=>i?typeof i=="string"?wvt(i):i.hashCode():-1,"standardHashCodeFunction"),sE,$1=(sE=class extends kr{constructor(t,n){const r=new sp;r.update(t,n);const s=r.finish();super(s);ae(this,"parents",[]);ae(this,"returnStates",[]);return this.parents=t,this.returnStates=n,this}isEmpty(){return this.returnStates[0]===kr.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t?!0:!(t instanceof sE)||this.hashCode()!==t.hashCode()?!1:BR(this.returnStates,t.returnStates)&&BR(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let n=0;n<this.returnStates.length;n++){if(n>0&&(t=t+", "),this.returnStates[n]===kr.EMPTY_RETURN_STATE){t=t+"$";continue}t=t+this.returnStates[n],this.parents[n]!==null?t=t+" "+this.parents[n]:t=t+"null"}return t+"]"}}get length(){return this.returnStates.length}},ze(sE,"ArrayPredictionContext"),sE),v9;(i=>{i.EOF=-1,i.UNKNOWN_SOURCE_NAME="<unknown>"})(v9||(v9={}));var kt;(i=>{i.INVALID_TYPE=0,i.EPSILON=-2,i.MIN_USER_TOKEN_TYPE=1,i.EOF=v9.EOF,i.DEFAULT_CHANNEL=0,i.HIDDEN_CHANNEL=1,i.MIN_USER_CHANNEL_VALUE=2})(kt||(kt={}));var Svt=ze(i=>{const e=i;return e.tokenSource!==void 0&&e.channel!==void 0},"isToken"),$R,Sd=($R=class{constructor(e,t){ae(this,"data");ae(this,"hashFunction");ae(this,"equalsFunction");this.data={},this.hashFunction=e??dye,this.equalsFunction=t??cye}add(e){const t=this.hashFunction(e);if(t in this.data){const n=this.data[t];for(const r of n)if(this.equalsFunction(e,r))return r;return n.push(e),e}else return this.data[t]=[e],e}has(e){return this.get(e)!=null}get(e){const t=this.hashFunction(e);if(t in this.data){const n=this.data[t];for(const r of n)if(this.equalsFunction(e,r))return r}return null}values(){return Object.keys(this.data).flatMap(e=>this.data[e],this)}toString(){return tC(this.values())}get length(){return Object.keys(this.data).map(e=>this.data[e].length,this).reduce((e,t)=>e+t,0)}},ze($R,"HashSet"),$R),uf,ls=(uf=class{static andContext(e,t){if(e===null||e===uf.NONE)return t;if(t===null||t===uf.NONE)return e;const n=new xvt(e,t);return n.opnds.length===1?n.opnds[0]:n}static orContext(e,t){if(e===null)return t;if(t===null)return e;if(e===uf.NONE||t===uf.NONE)return uf.NONE;const n=new Evt(e,t);return n.opnds.length===1?n.opnds[0]:n}static filterPrecedencePredicates(e){const t=[];return e.values().forEach(n=>{n instanceof uf.PrecedencePredicate&&t.push(n)}),t}hashCode(){const e=new sp;return this.updateHashCode(e),e.finish()}evalPrecedence(e,t){return this}},ze(uf,"SemanticContext"),uf),z0,xvt=(z0=class extends ls{constructor(t,n){super();ae(this,"opnds");const r=new Sd;t instanceof z0?t.opnds.forEach(o=>{r.add(o)}):r.add(t),n instanceof z0?n.opnds.forEach(o=>{r.add(o)}):r.add(n);const s=ls.filterPrecedencePredicates(r);if(s.length>0){let o=null;s.forEach(a=>{(o===null||a.precedence<o.precedence)&&(o=a)}),o&&r.add(o)}this.opnds=r.values()}equals(t){return this===t?!0:t instanceof z0?BR(this.opnds,t.opnds):!1}updateHashCode(t){t.update(this.opnds),t.updateWithHashCode(3813686060)}evaluate(t,n){for(const r of this.opnds)if(!r.evaluate(t,n))return!1;return!0}evalPrecedence(t,n){let r=!1;const s=[];for(const a of this.opnds){const u=a.evalPrecedence(t,n);if(r||(r=u!==a),u===null)return null;u!==ls.NONE&&s.push(u)}if(!r)return this;if(s.length===0)return ls.NONE;let o=null;return s.forEach(a=>{o=o===null?a:ls.andContext(o,a)}),o}toString(){const t=this.opnds.map(n=>n.toString());return(t.length>3?t.slice(3):t).join("&&")}},ze(z0,"AND"),z0),U0,Evt=(U0=class extends ls{constructor(t,n){super();ae(this,"opnds");const r=new Sd;t instanceof U0?t.opnds.forEach(o=>{r.add(o)}):r.add(t),n instanceof U0?n.opnds.forEach(o=>{r.add(o)}):r.add(n);const s=ls.filterPrecedencePredicates(r);if(s.length>0){const o=s.sort((u,c)=>u.compareTo(c)),a=o[o.length-1];r.add(a)}this.opnds=Array.from(r.values())}equals(t){return this===t?!0:t instanceof U0?BR(this.opnds,t.opnds):!1}updateHashCode(t){t.update(this.opnds),t.updateWithHashCode(3383313031)}evaluate(t,n){for(const r of this.opnds)if(r.evaluate(t,n))return!0;return!1}evalPrecedence(t,n){let r=!1;const s=[];for(const a of this.opnds){const u=a.evalPrecedence(t,n);if(r||(r=u!==a),u===ls.NONE)return ls.NONE;u!==null&&s.push(u)}if(!r)return this;if(s.length===0)return null;let o=null;return s.forEach(a=>{o=o===null?a:ls.orContext(o,a)}),o}toString(){const t=this.opnds.map(n=>n.toString());return(t.length>3?t.slice(3):t).join("||")}},ze(U0,"OR"),U0);(i=>{const n=class n extends i{constructor(a,u,c){super();ae(this,"ruleIndex");ae(this,"predIndex");ae(this,"isCtxDependent");this.ruleIndex=a??-1,this.predIndex=u??-1,this.isCtxDependent=c??!1}evaluate(a,u){const c=this.isCtxDependent?u:null;return a.sempred(c,this.ruleIndex,this.predIndex)}updateHashCode(a){a.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(a){return this===a?!0:a instanceof n?this.ruleIndex===a.ruleIndex&&this.predIndex===a.predIndex&&this.isCtxDependent===a.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}};ze(n,"Predicate");let e=n;i.Predicate=e;const r=class r extends i{constructor(a){super();ae(this,"precedence");this.precedence=a??0}evaluate(a,u){return a.precpred(u,this.precedence)}evalPrecedence(a,u){return a.precpred(u,this.precedence)?i.NONE:null}compareTo(a){return this.precedence-a.precedence}updateHashCode(a){a.update(this.precedence)}equals(a){return this===a?!0:a instanceof r?this.precedence===a.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}};ze(r,"PrecedencePredicate");let t=r;i.PrecedencePredicate=t,i.NONE=new e})(ls||(ls={}));var Lvt=ze(i=>i===null?{state:null,alt:null,context:null,semanticContext:null,reachesIntoOuterContext:null}:{state:i.state??null,alt:i.alt??null,context:i.context??null,semanticContext:i.semanticContext??null,reachesIntoOuterContext:null},"checkParams"),Dvt=ze(i=>i===null?{state:null,alt:null,context:null,semanticContext:null,reachesIntoOuterContext:0}:{state:i.state??null,alt:i.alt??null,context:i.context??null,semanticContext:i.semanticContext??null,reachesIntoOuterContext:i.reachesIntoOuterContext??0,precedenceFilterSuppressed:i.precedenceFilterSuppressed??!1},"checkConfig"),xC,ra=(xC=class{constructor(e,t){ae(this,"state");ae(this,"alt");ae(this,"context");ae(this,"reachesIntoOuterContext");ae(this,"precedenceFilterSuppressed",!1);ae(this,"semanticContext");this.checkContext(e,t);const n=Lvt(e),r=Dvt(t);this.state=n.state??r.state,this.alt=n.alt??r.alt??0,this.context=n.context??r.context,this.semanticContext=n.semanticContext??r.semanticContext??ls.NONE,this.reachesIntoOuterContext=r.reachesIntoOuterContext??0,this.precedenceFilterSuppressed=r.precedenceFilterSuppressed??!1}hashCode(){const e=new sp;return this.updateHashCode(e),e.finish()}updateHashCode(e){e.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(e){return this===e?!0:e instanceof xC?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&(this.context===null?e.context===null:this.context.equals(e.context))&&this.semanticContext.equals(e.semanticContext)&&this.precedenceFilterSuppressed===e.precedenceFilterSuppressed:!1}hashCodeForConfigSet(){const e=new sp;return e.update(this.state.stateNumber,this.alt,this.semanticContext),e.finish()}equalsForConfigSet(e){return this===e?!0:e instanceof xC?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.semanticContext.equals(e.semanticContext):!1}toString(e,t=!0){let n="";return t&&(n=","+this.alt),"("+this.state+n+(this.context!==null?",["+this.context.toString()+"]":"")+(this.semanticContext!==ls.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}checkContext(e,t){(e.context===null||e.context===void 0)&&(t===null||t.context===null||t.context===void 0)&&(this.context=null)}},ze(xC,"ATNConfig"),xC),eo,Tr=(eo=class{constructor(e,t){ae(this,"start");ae(this,"stop");this.start=e,this.stop=t}static of(e,t){return e!==t||e<0||e>eo.INTERVAL_POOL_MAX_VALUE?new eo(e,t):(eo.cache[e]===null&&(eo.cache[e]=new eo(e,e)),eo.cache[e])}equals(e){return e instanceof eo?this.start===e.start&&this.stop===e.stop:!1}hashCode(){let e=23;return e=e*31+this.start,e=e*31+this.stop,e}startsBeforeDisjoint(e){return this.start<e.start&&this.stop<e.start}startsBeforeNonDisjoint(e){return this.start<=e.start&&this.stop>=e.start}startsAfter(e){return this.start>e.start}startsAfterDisjoint(e){return this.start>e.stop}startsAfterNonDisjoint(e){return this.start>e.start&&this.start<=e.stop}disjoint(e){return this.startsBeforeDisjoint(e)||this.startsAfterDisjoint(e)}adjacent(e){return this.start===e.stop+1||this.stop===e.start-1}properlyContains(e){return e.start>=this.start&&e.stop<=this.stop}union(e){return eo.of(Math.min(this.start,e.start),Math.max(this.stop,e.stop))}intersection(e){return eo.of(Math.max(this.start,e.start),Math.min(this.stop,e.stop))}differenceNotProperlyContained(e){let t=null;return e.startsBeforeNonDisjoint(this)?t=eo.of(Math.max(this.start,e.stop+1),this.stop):e.startsAfterNonDisjoint(this)&&(t=eo.of(this.start,e.start-1)),t}toString(){return this.start===this.stop?this.start.toString():this.start.toString()+".."+this.stop.toString()}get length(){return this.stop<this.start?0:this.stop-this.start+1}},ze(eo,"Interval"),ae(eo,"INVALID_INTERVAL",new eo(-1,-2)),ae(eo,"INTERVAL_POOL_MAX_VALUE",1e3),ae(eo,"cache"),eo.cache=new Array(eo.INTERVAL_POOL_MAX_VALUE+1),eo.cache.fill(null),eo),zR,wV=(zR=class{syntaxError(e,t,n,r,s,o){}reportAmbiguity(e,t,n,r,s,o,a){}reportAttemptingFullContext(e,t,n,r,s,o){}reportContextSensitivity(e,t,n,r,s,o){}},ze(zR,"BaseErrorListener"),zR),EC,Tvt=(EC=class extends wV{syntaxError(e,t,n,r,s,o){console.error("line "+n+":"+r+" "+s)}},ze(EC,"ConsoleErrorListener"),ae(EC,"INSTANCE",new EC),EC),UR,Ivt=(UR=class extends wV{constructor(e){return super(),this.delegates=e,this}syntaxError(e,t,n,r,s,o){this.delegates.forEach(a=>{a.syntaxError(e,t,n,r,s,o)})}reportAmbiguity(e,t,n,r,s,o,a){this.delegates.forEach(u=>{u.reportAmbiguity(e,t,n,r,s,o,a)})}reportAttemptingFullContext(e,t,n,r,s,o){this.delegates.forEach(a=>{a.reportAttemptingFullContext(e,t,n,r,s,o)})}reportContextSensitivity(e,t,n,r,s,o){this.delegates.forEach(a=>{a.reportContextSensitivity(e,t,n,r,s,o)})}},ze(UR,"ProxyErrorListener"),UR),vd,dg,jR,hye=(vd=class{constructor(){ae(this,"interpreter");es(this,dg,[Tvt.INSTANCE]);es(this,jR,-1)}checkVersion(e){const t="4.13.1";t!==e&&console.error("ANTLR runtime and generated code versions disagree: "+t+"!="+e)}addErrorListener(e){Bn(this,dg).push(e)}removeErrorListeners(){Pr(this,dg,[])}removeErrorListener(e){for(let t=0;t<Bn(this,dg).length;t++)if(Bn(this,dg)[t]===e){Bn(this,dg).splice(t,1);return}}getErrorListeners(){return Bn(this,dg)}getTokenTypeMap(){const e=this.vocabulary;let t=vd.tokenTypeMapCache.get(e);if(!t){t=new Map;for(let n=0;n<=this.atn.maxTokenType;n++){const r=e.getLiteralName(n);r&&t.set(r,n);const s=e.getSymbolicName(n);s&&t.set(s,n)}t.set("EOF",kt.EOF),vd.tokenTypeMapCache.set(e,t)}return t}getRuleIndexMap(){const e=this.ruleNames;let t=vd.ruleIndexMapCache.get(e);return t||(t=new Map,e.forEach((n,r)=>t.set(n,r)),vd.ruleIndexMapCache.set(e,t)),t}getTokenType(e){const t=this.getTokenTypeMap().get(e);return t||kt.INVALID_TYPE}getErrorHeader(e){var r,s;const t=(r=e.offendingToken)==null?void 0:r.line,n=(s=e.offendingToken)==null?void 0:s.column;return"line "+t+":"+n}getErrorListenerDispatch(){return new Ivt(Bn(this,dg))}sempred(e,t,n){return!0}precpred(e,t){return!0}action(e,t,n){}get atn(){return this.interpreter.atn}get state(){return Bn(this,jR)}set state(e){Pr(this,jR,e)}getSerializedATN(){throw new Error("there is no serialized ATN")}getParseInfo(){return null}},dg=new WeakMap,jR=new WeakMap,ze(vd,"Recognizer"),ae(vd,"EOF",-1),ae(vd,"tokenTypeMapCache",new Map),ae(vd,"ruleIndexMapCache",new Map),vd),h1,hg,kvt=(h1=class{constructor(e,t,n,r,s){ae(this,"source");ae(this,"tokenIndex",-1);ae(this,"start",0);ae(this,"stop",0);ae(this,"type",0);ae(this,"line",0);ae(this,"column",-1);ae(this,"channel",kt.DEFAULT_CHANNEL);es(this,hg,null);this.source=e,this.type=t,this.channel=n??kt.DEFAULT_CHANNEL,this.start=r,this.stop=s,this.source[0]!==null?(this.line=e[0].line,this.column=e[0]._tokenStartColumn):this.column=-1}get tokenSource(){return this.source[0]??null}get inputStream(){return this.source[1]??null}clone(){const e=new h1(this.source,this.type,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,Pr(e,hg,Bn(this,hg)),e}cloneWithType(e){const t=new h1(this.source,e,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,e===kt.EOF&&Pr(t,hg,""),t}toString(e){let t="";this.channel>0&&(t=",channel="+this.channel);let n=this.text;n?(n=n.replace(/\n/g,"\\n"),n=n.replace(/\r/g,"\\r"),n=n.replace(/\t/g,"\\t")):n="<no text>";let r=String(this.type);return e&&(r=e.vocabulary.getDisplayName(this.type)??"<unknown>"),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+n+"',<"+r+">"+t+","+this.line+":"+this.column+"]"}get text(){if(Bn(this,hg)!==null)return Bn(this,hg);const e=this.inputStream;if(e===null)return null;const t=e.size;return this.start<t&&this.stop<t?e.getText(this.start,this.stop):"<EOF>"}set text(e){Pr(this,hg,e)}setText(e){Pr(this,hg,e)}setType(e){this.type=e}setLine(e){this.line=e}setCharPositionInLine(e){this.column=e}setChannel(e){this.channel=e}setTokenIndex(e){this.tokenIndex=e}},hg=new WeakMap,ze(h1,"CommonToken"),ae(h1,"EMPTY_SOURCE",[null,null]),h1),LC,Nvt=(LC=class{constructor(e){ae(this,"copyText",!1);this.copyText=e??!1}create(e,t,n,r,s,o,a,u){const c=new kvt(e,t,r,s,o);return c.line=a,c.column=u,n!==null?c.text=n:this.copyText&&e[1]!==null&&(c.text=e[1].getText(s,o)),c}},ze(LC,"CommonTokenFactory"),ae(LC,"DEFAULT",new LC),LC),oE,A3=(oE=class extends Error{constructor(t){super(t.message);ae(this,"ctx");ae(this,"offendingToken",null);ae(this,"offendingState",-1);ae(this,"recognizer");ae(this,"input");Error.captureStackTrace&&Error.captureStackTrace(this,oE),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.recognizer!==null&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return this.recognizer!==null&&this.ctx!==null?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}},ze(oE,"RecognitionException"),oE),KR,b9=(KR=class extends A3{constructor(t,n,r,s){super({message:"",recognizer:t,input:n,ctx:null});ae(this,"startIndex");ae(this,"deadEndConfigs");this.startIndex=r,this.deadEndConfigs=s}toString(){let t="";return this.input&&this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(this.startIndex,this.startIndex)),"LexerNoViableAltException"+t}},ze(KR,"LexerNoViableAltException"),KR),DC,xd=(DC=class extends kr{constructor(t,n){let r=0;const s=new sp;t!==null?s.update(t,n):s.update(1),r=s.finish();super(r);ae(this,"parent");ae(this,"returnState");this.parent=t,this.returnState=n}static create(t,n){return n===kr.EMPTY_RETURN_STATE&&t===null?kr.EMPTY:new DC(t,n)}getParent(t){return this.parent}getReturnState(t){return this.returnState}equals(t){return this===t?!0:t instanceof DC?this.hashCode()!==t.hashCode()||this.returnState!==t.returnState?!1:this.parent==null?t.parent==null:this.parent.equals(t.parent):!1}toString(){const t=this.parent===null?"":this.parent.toString();return t.length===0?this.returnState===kr.EMPTY_RETURN_STATE?"$":""+this.returnState:""+this.returnState+" "+t}get length(){return 1}},ze(DC,"SingletonPredictionContext"),DC),f1,lue=(f1=class extends xd{constructor(){super(null,kr.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(e){return null}getReturnState(e){return this.returnState}equals(e){return this===e}toString(){return"$"}},ze(f1,"EmptyPredictionContext"),ae(f1,"Instance",new f1),kr.EMPTY=new f1,f1),qR,Oy=(qR=class{constructor(e,t){ae(this,"data");ae(this,"hashFunction");ae(this,"equalsFunction");this.data={},this.hashFunction=e??dye,this.equalsFunction=t??cye}set(e,t){const n=this.hashFunction(e);if(n in this.data){const r=this.data[n];for(const s of r)if(this.equalsFunction(e,s.key)){const o=s.value;return s.value=t,o}return r.push({key:e,value:t}),t}else return this.data[n]=[{key:e,value:t}],t}containsKey(e){const t=this.hashFunction(e);if(t in this.data){const n=this.data[t];for(const r of n)if(this.equalsFunction(e,r.key))return!0}return!1}get(e){const t=this.hashFunction(e);if(t in this.data){const n=this.data[t];for(const r of n)if(this.equalsFunction(e,r.key))return r.value}return null}entries(){return Object.keys(this.data).flatMap(e=>this.data[e],this)}getKeys(){return this.entries().map(e=>e.key)}getValues(){return this.entries().map(e=>e.value)}toString(){return"["+this.entries().map(t=>"{"+t.key+":"+t.value+"}").join(", ")+"]"}get length(){return Object.keys(this.data).map(e=>this.data[e].length,this).reduce((e,t)=>e+t,0)}},ze(qR,"HashMap"),qR),GR,vm=(GR=class{constructor(e){ae(this,"parent",null);ae(this,"symbol");this.symbol=e}getChild(e){return null}getSymbol(){return this.symbol}getPayload(){return this.symbol}getSourceInterval(){if(this.symbol===null)return Tr.INVALID_INTERVAL;const e=this.symbol.tokenIndex;return new Tr(e,e)}getChildCount(){return 0}accept(e){return e.visitTerminal(this)}getText(){var e;return((e=this.symbol)==null?void 0:e.text)??""}toString(){var e,t;return((e=this.symbol)==null?void 0:e.type)===kt.EOF?"<EOF>":((t=this.symbol)==null?void 0:t.text)??""}toStringTree(){return this.toString()}},ze(GR,"TerminalNode"),GR),YR,WR=(YR=class extends vm{accept(e){return e.visitErrorNode(this)}},ze(YR,"ErrorNode"),YR),vc,z1=(vc=class{static toStringTree(e,t,n){t=t??null,n=n??null,n!==null&&(t=n.ruleNames);let r=vc.getNodeText(e,t);r=Cvt(r,!1);const s=e.getChildCount();if(s===0)return r;let o="("+r+" ";s>0&&(r=vc.toStringTree(e.getChild(0),t),o=o.concat(r));for(let a=1;a<s;a++)r=vc.toStringTree(e.getChild(a),t),o=o.concat(" "+r);return o=o.concat(")"),o}static getNodeText(e,t,n){if(t=t??null,n=n??null,n!==null&&(t=n.ruleNames),t!==null)if(e instanceof MY){const o=e.ruleContext.getAltNumber();return o!==0?t[e.ruleIndex]+":"+o:t[e.ruleIndex]}else{if(e instanceof WR)return e.toString();if(e instanceof vm&&e.symbol!==null)return e.symbol.text}const r=e.getPayload();return Svt(r)?r.text:String(e.getPayload())}static getChildren(e){const t=[];for(let n=0;n<e.getChildCount();n++)t.push(e.getChild(n));return t}static getAncestors(e){if(e.parent===null)return[];let t=[],n=e.parent;for(;n!==null;)t=[n].concat(t),n=n.parent;return t}static findAllTokenNodes(e,t){return vc.findAllNodes(e,t,!0)}static findAllRuleNodes(e,t){return vc.findAllNodes(e,t,!1)}static findAllNodes(e,t,n){const r=[];return vc.doFindAllNodes(e,t,n,r),r}static descendants(e){let t=[e];for(let n=0;n<e.getChildCount();n++)t=t.concat(vc.descendants(e.getChild(n)));return t}static doFindAllNodes(e,t,n,r){var s;n&&e instanceof vm?((s=e.symbol)==null?void 0:s.type)===t&&r.push(e):!n&&e instanceof MY&&e.ruleIndex===t&&r.push(e);for(let o=0;o<e.getChildCount();o++)vc.doFindAllNodes(e.getChild(o),t,n,r)}},ze(vc,"Trees"),vc),ZR,XR,MY=(XR=class{constructor(e,t){ae(this,"children",null);ae(this,"invokingState");es(this,ZR,null);this.parent=e??null,this.invokingState=t??-1}get parent(){return Bn(this,ZR)}set parent(e){Pr(this,ZR,e)}depth(){let e=0,t=this;for(;t!==null;)t=t.parent,e+=1;return e}isEmpty(){return this.invokingState===-1}getSourceInterval(){return Tr.INVALID_INTERVAL}get ruleContext(){return this}get ruleIndex(){return-1}getPayload(){return this}getText(){return!this.children||this.getChildCount()===0?"":this.children.map(e=>e.getText()).join("")}getAltNumber(){return Js.INVALID_ALT_NUMBER}setAltNumber(e){}getChild(e){return null}getChildCount(){return 0}accept(e){return e.visitChildren(this)}toStringTree(...e){return e.length===1?z1.toStringTree(this,null,e[0]):z1.toStringTree(this,e[0],e[1])}toString(e,t){e=e??null,t=t??null;let n=this,r="[";for(;n!==null&&n!==t;){if(e===null)n.isEmpty()||(r+=n.invokingState);else{const s=n.ruleIndex,o=s>=0&&s<e.length?e[s]:""+s;r+=o}n.parent!==null&&(e!==null||!n.parent.isEmpty())&&(r+=" "),n=n.parent}return r+="]",r}},ZR=new WeakMap,ze(XR,"RuleContext"),XR),TC,My=(TC=class extends MY{constructor(t,n){var e=(...args)=>{super(...args);ae(this,"start",null);ae(this,"stop",null);ae(this,"exception",null)};t?e(t,n):e(),this.start=null,this.stop=null}get parent(){return super.parent}set parent(t){super.parent=t}copyFrom(t){this.parent=t.parent,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.forEach(n=>{n instanceof WR&&(this.children.push(n),n.parent=this)},this))}enterRule(t){}exitRule(t){}addAnyChild(t){return this.children==null&&(this.children=[]),this.children.push(t),t}addChild(t){return this.addAnyChild(t)}removeLastChild(){this.children!==null&&this.children.pop()}addTokenNode(t){const n=new vm(t);return this.addAnyChild(n),n.parent=this,n}addErrorNode(t){return t.parent=this,this.addAnyChild(t)}getChild(t,n){if(this.children===null||t<0||t>=this.children.length)return null;if(n){for(const r of this.children)if(r instanceof n){if(t===0)return r;t-=1}return null}else return this.children[t]}getToken(t,n){var r;if(this.children===null||n<0||n>=this.children.length)return null;for(const s of this.children)if(s instanceof vm&&((r=s.symbol)==null?void 0:r.type)===t){if(n===0)return s;n-=1}return null}getTokens(t){var n;if(this.children===null)return[];{const r=[];for(const s of this.children)s instanceof vm&&((n=s.symbol)==null?void 0:n.type)===t&&r.push(s);return r}}getRuleContext(t,n){return this.getChild(t,n)}getRuleContexts(t){if(this.children===null)return[];{const n=[];for(const r of this.children)r instanceof t&&n.push(r);return n}}getChildCount(){return this.children===null?0:this.children.length}getSourceInterval(){return this.start===null||this.stop===null?Tr.INVALID_INTERVAL:new Tr(this.start.tokenIndex,this.stop.tokenIndex)}},ze(TC,"ParserRuleContext"),ae(TC,"EMPTY",new TC),TC),Wee=ze((i,e)=>{if(e==null&&(e=My.EMPTY),e.parent===null||e===My.EMPTY)return kr.EMPTY;const t=Wee(i,e.parent),r=i.states[e.invokingState].transitions[0];return xd.create(t,r.followState.stateNumber)},"predictionContextFromRuleContext"),fye=ze((i,e,t)=>{if(i.isEmpty())return i;let n=t.get(i)||null;if(n!==null)return n;if(n=e.get(i),n!==null)return t.set(i,n),n;let r=!1,s=[];for(let a=0;a<s.length;a++){const u=fye(i.getParent(a),e,t);if(r||u!==i.getParent(a)){if(!r){s=[];for(let c=0;c<i.length;c++)s[c]=i.getParent(c);r=!0}s[a]=u}}if(!r)return e.add(i),t.set(i,i),i;let o=null;return s.length===0?o=kr.EMPTY:s.length===1?o=xd.create(s[0],i.getReturnState(0)):o=new $1(s,i.returnStates),e.add(o),t.set(o,o),t.set(i,o),o},"getCachedPredictionContext"),Vee=ze((i,e,t,n)=>{if(i===e)return i;if(i instanceof xd&&e instanceof xd)return Mvt(i,e,t,n);if(t){if(i instanceof lue)return i;if(e instanceof lue)return e}return i instanceof xd&&(i=new $1([i.parent],[i.returnState])),e instanceof xd&&(e=new $1([e.parent],[e.returnState])),Avt(i,e,t,n)},"merge"),Avt=ze((i,e,t,n)=>{if(n!==null){let h=n.get(i,e);if(h!==null||(h=n.get(e,i),h!==null))return h}let r=0,s=0,o=0,a=new Array(i.returnStates.length+e.returnStates.length).fill(0),u=new Array(i.returnStates.length+e.returnStates.length).fill(null);for(;r<i.returnStates.length&&s<e.returnStates.length;){const h=i.parents[r],f=e.parents[s];if(i.returnStates[r]===e.returnStates[s]){const p=i.returnStates[r];p===kr.EMPTY_RETURN_STATE&&h===null&&f===null||h!==null&&f!==null&&h===f?(u[o]=h,a[o]=p):(u[o]=Vee(h,f,t,n),a[o]=p),r+=1,s+=1}else i.returnStates[r]<e.returnStates[s]?(u[o]=h,a[o]=i.returnStates[r],r+=1):(u[o]=f,a[o]=e.returnStates[s],s+=1);o+=1}if(r<i.returnStates.length)for(let h=r;h<i.returnStates.length;h++)u[o]=i.parents[h],a[o]=i.returnStates[h],o+=1;else for(let h=s;h<e.returnStates.length;h++)u[o]=e.parents[h],a[o]=e.returnStates[h],o+=1;if(o<u.length){if(o===1){const h=xd.create(u[0],a[0]);return n!==null&&n.set(i,e,h),h}u=u.slice(0,o),a=a.slice(0,o)}const c=new $1(u,a);return c.equals(i)?(n!==null&&n.set(i,e,i),i):c.equals(e)?(n!==null&&n.set(i,e,e),e):(Ovt(u),n!==null&&n.set(i,e,c),c)},"mergeArrays"),Ovt=ze(i=>{const e=new Oy;for(const t of i)t&&(e.containsKey(t)||e.set(t,t));for(let t=0;t<i.length;t++)i[t]&&(i[t]=e.get(i[t]))},"combineCommonParents"),Mvt=ze((i,e,t,n)=>{if(n!==null){let s=n.get(i,e);if(s!==null||(s=n.get(e,i),s!==null))return s}const r=Rvt(i,e,t);if(r!==null)return n!==null&&n.set(i,e,r),r;if(i.returnState===e.returnState){const s=Vee(i.parent,e.parent,t,n);if(s===i.parent)return i;if(s===e.parent)return e;const o=xd.create(s,i.returnState);return n!==null&&n.set(i,e,o),o}else{let s=null;if((i===e||i.parent!==null&&i.parent===e.parent)&&(s=i.parent),s!==null){const c=[i.returnState,e.returnState];i.returnState>e.returnState&&(c[0]=e.returnState,c[1]=i.returnState);const h=[s,s],f=new $1(h,c);return n!==null&&n.set(i,e,f),f}const o=[i.returnState,e.returnState];let a=[i.parent,e.parent];i.returnState>e.returnState&&(o[0]=e.returnState,o[1]=i.returnState,a=[e.parent,i.parent]);const u=new $1(a,o);return n!==null&&n.set(i,e,u),u}},"mergeSingletons"),Rvt=ze((i,e,t)=>{if(t){if(i===kr.EMPTY||e===kr.EMPTY)return kr.EMPTY}else{if(i===kr.EMPTY&&e===kr.EMPTY)return kr.EMPTY;if(i===kr.EMPTY){const n=[e.returnState,kr.EMPTY_RETURN_STATE],r=[e.parent,null];return new $1(r,n)}else if(e===kr.EMPTY){const n=[i.returnState,kr.EMPTY_RETURN_STATE],r=[i.parent,null];return new $1(r,n)}}return null},"mergeRoot"),QR,$g=(QR=class{constructor(e){ae(this,"data");e?this.data=new Uint32Array(e.map(t=>t>>>0)):this.data=new Uint32Array(1)}[Symbol.iterator](){const e=this.data.length;let t=0,n=this.data[t];const r=this.data;return{[Symbol.iterator](){return this},next:()=>{for(;t<e;)if(n!==0){const s=n&-n,o=(t<<5)+this.bitCount(s-1);return n^=s,{done:!1,value:o}}else t++,t<e&&(n=r[t]);return{done:!0,value:void 0}}}}clear(e){e===void 0?this.data=new Uint32Array:(this.resize(e),this.data[e>>>5]&=~(1<<e))}or(e){const t=Math.min(this.data.length,e.data.length);for(let n=0;n<t;++n)this.data[n]|=e.data[n];if(this.data.length<e.data.length){this.resize((e.data.length<<5)-1);const n=e.data.length;for(let r=t;r<n;++r)this.data[r]=e.data[r]}}get(e){if(e<0)throw new RangeError("index cannot be negative");const t=e>>>5;return t>=this.data.length?!1:(this.data[t]&1<<e%32)!==0}get length(){let e=0;const t=this.data.length,n=this.data;for(let r=0;r<t;r++)e+=this.bitCount(n[r]);return e}values(){const e=new Array(this.length);let t=0;const n=this.data.length;for(let r=0;r<n;++r){let s=this.data[r];for(;s!==0;){const o=s&-s;e[t++]=(r<<5)+this.bitCount(o-1),s^=o}}return e}nextSetBit(e){if(e<0)throw new RangeError("index cannot be negative");for(const t of this)if(t>e)return t}set(e){if(e<0)throw new RangeError("index cannot be negative");this.resize(e),this.data[e>>>5]|=1<<e%32}toString(){return"{"+this.values().join(", ")+"}"}resize(e){const t=e+32>>>5;if(t<=this.data.length)return;const n=new Uint32Array(t);n.set(this.data),n.fill(0,this.data.length),this.data=n}bitCount(e){return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e=e+(e>>8),e=e+(e>>16),e&63}},ze(QR,"BitSet"),QR),Pvt=ze(i=>i.hashCodeForConfigSet(),"hashATNConfig"),Fvt=ze((i,e)=>i===e?!0:i===null||e===null?!1:i.equalsForConfigSet(e),"equalATNConfigs"),aE,lf=(aE=class{constructor(e){ae(this,"configs",[]);ae(this,"hasSemanticContext",!1);ae(this,"dipsIntoOuterContext",!1);ae(this,"fullCtx");ae(this,"uniqueAlt",0);ae(this,"configLookup",new Sd(Pvt,Fvt));ae(this,"conflictingAlts",null);ae(this,"readOnly",!1);ae(this,"cachedHashCode",-1);this.fullCtx=e??!0}add(e,t){if(t===void 0&&(t=null),this.readOnly)throw new Error("This set is readonly");e.semanticContext!==ls.NONE&&(this.hasSemanticContext=!0),e.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.add(e);if(n===e)return this.cachedHashCode=-1,this.configs.push(e),!0;const r=!this.fullCtx,s=Vee(n.context,e.context,r,t);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,e.reachesIntoOuterContext),e.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=s,!0}getStates(){const e=new Sd;for(const t of this.configs)e.add(t.state);return e}getPredicates(){const e=[];for(const t of this.configs)t.semanticContext!==ls.NONE&&e.push(t.semanticContext);return e}optimizeConfigs(e){if(this.readOnly)throw new Error("This set is readonly");if(this.configLookup.length!==0)for(const t of this.configs)t.context=e.getCachedContext(t.context)}addAll(e){for(const t of e)this.add(t,null);return!1}equals(e){return this===e||e instanceof aE&&BR(this.configs,e.configs)&&this.fullCtx===e.fullCtx&&this.uniqueAlt===e.uniqueAlt&&this.conflictingAlts===e.conflictingAlts&&this.hasSemanticContext===e.hasSemanticContext&&this.dipsIntoOuterContext===e.dipsIntoOuterContext}hashCode(){const e=new sp;return e.update(this.configs),e.finish()}updateHashCode(e){this.readOnly?(this.cachedHashCode===-1&&(this.cachedHashCode=this.hashCode()),e.update(this.cachedHashCode)):e.update(this.hashCode())}isEmpty(){return this.configs.length===0}contains(e){if(this.configLookup===null)throw new Error("This method is not implemented for readonly sets.");return this.configLookup.has(e)}containsFast(e){if(this.configLookup===null)throw new Error("This method is not implemented for readonly sets.");return this.configLookup.has(e)}clear(){if(this.readOnly)throw new Error("This set is readonly");this.configs=[],this.cachedHashCode=-1,this.configLookup=new Sd}setReadonly(e){this.readOnly=e,e&&(this.configLookup=new Sd)}toString(){return tC(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==Js.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(this.conflictingAlts!==null?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}getAlts(){let e=new $g;for(let t of this.configs)e.set(t.alt);return e}},ze(aE,"ATNConfigSet"),aE),lE,sm=(lE=class{constructor(e){ae(this,"stateNumber",-1);ae(this,"configs",new lf);ae(this,"edges",null);ae(this,"isAcceptState",!1);ae(this,"prediction",-1);ae(this,"lexerActionExecutor",null);ae(this,"requiresFullContext",!1);ae(this,"predicates",null);e&&(typeof e=="number"?this.stateNumber=e:this.configs=e)}hashCode(){const e=new sp;return e.update(this.configs.configs),e.finish()}equals(e){return this===e?!0:e instanceof lE?this.configs===null?e.configs===null:this.configs.equals(e.configs):!1}toString(){let e="";return e+=this.stateNumber,e+=":",e+=this.configs?this.configs.toString():"",this.isAcceptState&&(e+="=>",this.predicates?e+=tC(this.predicates):e+=this.prediction),e.toString()}},ze(lE,"DFAState"),lE);(i=>{const t=class t{constructor(r,s){ae(this,"pred");ae(this,"alt");this.alt=s,this.pred=r}toString(){return`(${this.pred}, ${this.alt})`}};ze(t,"PredPrediction");let e=t;i.PredPrediction=e})(sm||(sm={}));var rx,Ng=(rx=class{constructor(e,t){ae(this,"atn");ae(this,"sharedContextCache",null);return this.atn=e,this.sharedContextCache=t,this}clearDFA(){throw new Error("This ATN simulator does not support clearing the DFA.")}getCachedContext(e){if(this.sharedContextCache===null)return e;const t=new Oy;return fye(e,this.sharedContextCache,t)}getSharedContextCache(){return this.sharedContextCache}},ze(rx,"ATNSimulator"),ae(rx,"ERROR",new sm(2147483647)),rx),JR,uue=(JR=class extends lf{constructor(){super(),this.configLookup=new Sd}},ze(JR,"OrderedATNConfigSet"),JR),g1,Bm=(g1=class{constructor(){ae(this,"atn");ae(this,"stateNumber");ae(this,"ruleIndex");ae(this,"epsilonOnlyTransitions");ae(this,"nextTokenWithinRule");ae(this,"transitions");this.atn=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}get stateType(){return g1.INVALID_STATE_NUMBER}toString(){return`${this.stateNumber}`}hashCode(){return this.stateNumber}equals(e){return e instanceof g1?this.stateNumber===e.stateNumber:!1}isNonGreedyExitState(){return!1}addTransition(e,t){t===void 0&&(t=-1),this.transitions.length===0?this.epsilonOnlyTransitions=e.isEpsilon:this.epsilonOnlyTransitions!==e.isEpsilon&&(this.epsilonOnlyTransitions=!1),t===-1?this.transitions.push(e):this.transitions.splice(t,1,e)}},ze(g1,"ATNState"),ae(g1,"INVALID_STATE_NUMBER",-1),g1),Zi={INVALID_TYPE:0,BASIC:1,RULE_START:2,BLOCK_START:3,PLUS_BLOCK_START:4,STAR_BLOCK_START:5,TOKEN_START:6,RULE_STOP:7,BLOCK_END:8,STAR_LOOP_BACK:9,STAR_LOOP_ENTRY:10,PLUS_LOOP_BACK:11,LOOP_END:12},e4,Bl=(e4=class extends Bm{get stateType(){return Zi.RULE_STOP}},ze(e4,"RuleStopState"),e4),t4,cw=(t4=class extends Bm{constructor(){super(...arguments);ae(this,"decision",-1);ae(this,"nonGreedy",!1)}},ze(t4,"DecisionState"),t4),uE,eg=(uE=class extends ra{constructor(t,n){super(t,n);ae(this,"lexerActionExecutor");ae(this,"passedThroughNonGreedyDecision");return this.lexerActionExecutor=t.lexerActionExecutor??(n==null?void 0:n.lexerActionExecutor)??null,this.passedThroughNonGreedyDecision=n!==null?this.checkNonGreedyDecision(n,this.state):!1,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof uE&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}hashCodeForConfigSet(){return this.hashCode()}equalsForConfigSet(t){return this.equals(t)}checkNonGreedyDecision(t,n){return t.passedThroughNonGreedyDecision||n instanceof cw&&n.nonGreedy}},ze(uE,"LexerATNConfig"),uE),n4,Cp=(n4=class{constructor(e){ae(this,"actionType");ae(this,"isPositionDependent");this.actionType=e,this.isPositionDependent=!1}hashCode(){const e=new sp;return this.updateHashCode(e),e.finish()}updateHashCode(e){e.update(this.actionType)}equals(e){return this===e}},ze(n4,"LexerAction"),n4),cE,Wz=(cE=class extends Cp{constructor(t,n){super(n.actionType);ae(this,"offset");ae(this,"action");this.offset=t,this.action=n,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t?!0:t instanceof cE?this.offset===t.offset&&this.action===t.action:!1}},ze(cE,"LexerIndexedCustomAction"),cE),Qp,Bvt=(Qp=class extends Cp{constructor(t){super(-1);ae(this,"lexerActions");ae(this,"cachedHashCode");return this.lexerActions=t===null?[]:t,this.cachedHashCode=sp.hashStuff(t),this}static append(t,n){if(t===null)return new Qp([n]);const r=t.lexerActions.concat([n]);return new Qp(r)}fixOffsetBeforeMatch(t){let n=null;for(let r=0;r<this.lexerActions.length;r++)this.lexerActions[r].isPositionDependent&&!(this.lexerActions[r]instanceof Wz)&&(n===null&&(n=this.lexerActions.concat([])),n[r]=new Wz(t,this.lexerActions[r]));return n===null?this:new Qp(n)}execute(t,n,r){if(n===void 0||r===void 0)return;let s=!1;const o=n.index;try{for(const a of this.lexerActions){let u=a;if(a instanceof Wz){const c=a.offset;n.seek(r+c),u=a.action,s=r+c!==o}else a.isPositionDependent&&(n.seek(o),s=!1);u.execute(t)}}finally{s&&n.seek(o)}}hashCode(){return this.cachedHashCode}equals(t){if(this===t)return!0;if(t instanceof Qp){if(this.cachedHashCode!==t.cachedHashCode)return!1;if(this.lexerActions.length!==t.lexerActions.length)return!1;{const n=this.lexerActions.length;for(let r=0;r<n;++r)if(!this.lexerActions[r].equals(t.lexerActions[r]))return!1;return!0}}else return!1}},ze(Qp,"LexerActionExecutor"),Qp),i4,gye=(i4=class{constructor(e,t){ae(this,"dfa");ae(this,"vocabulary");this.dfa=e,this.vocabulary=t}toString(){if(this.dfa.s0===null)return"";let e="";const t=this.dfa.getStates();for(const n of t){let r=0;if(n.edges!==null){r=n.edges.length;for(let s=0;s<r;s++){const o=n.edges[s];if(o!==null&&o.stateNumber!==2147483647){e+=this.getStateString(n);const a=this.getEdgeLabel(s);e+="-",e+=a,e+="->",e+=this.getStateString(o),e+=`
`}}}}return e}getEdgeLabel(e){return`${this.vocabulary.getDisplayName(e-1)}`}getStateString(e){const t=e.stateNumber,n=(e.isAcceptState?":":"")+"s"+t+(e.requiresFullContext?"^":"");return e.isAcceptState?e.predicates!==null?`${n}=>${e.predicates.toString()}`:`${n}=>${e.prediction}`:`${n}`}},ze(i4,"DFASerializer"),i4),cl,U1=(cl=class{constructor(e,t,n){ae(this,"maxTokenType");ae(this,"literalNames");ae(this,"symbolicNames");ae(this,"displayNames");this.literalNames=e??cl.EMPTY_NAMES,this.symbolicNames=t??cl.EMPTY_NAMES,this.displayNames=n??cl.EMPTY_NAMES,this.maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}static fromTokenNames(e){if(e==null||e.length===0)return cl.EMPTY_VOCABULARY;const t=[...e],n=[...e];for(let r=0;r<e.length;r++){const s=e[r];if(s!=null){if((s==null?void 0:s.length)>0){const o=s.charAt(0);if(o==="'"){n[r]=null;continue}else if(o.toUpperCase()===o){t[r]=null;continue}}t[r]=null,n[r]=null}}return new cl(t,n,e)}getMaxTokenType(){return this.maxTokenType}getLiteralName(e){return e>=0&&e<this.literalNames.length?this.literalNames[e]:null}getSymbolicName(e){return e>=0&&e<this.symbolicNames.length?this.symbolicNames[e]:e===kt.EOF?"EOF":null}getDisplayName(e){if(e>=0&&e<this.displayNames.length){const r=this.displayNames[e];if(r!=null)return r}const t=this.getLiteralName(e);if(t!=null)return t;const n=this.getSymbolicName(e);return n??`${e}`}getLiteralNames(){return this.literalNames}getSymbolicNames(){return this.symbolicNames}getDisplayNames(){return this.displayNames}},ze(cl,"Vocabulary"),ae(cl,"EMPTY_NAMES",[]),ae(cl,"EMPTY_VOCABULARY",new cl(cl.EMPTY_NAMES,cl.EMPTY_NAMES,cl.EMPTY_NAMES)),cl),r4,Wvt=(r4=class extends gye{constructor(t){super(t,U1.EMPTY_VOCABULARY);ae(this,"getEdgeLabel",t=>"'"+String.fromCharCode(t)+"'")}},ze(r4,"LexerDFASerializer"),r4),s4,E0=(s4=class extends cw{constructor(){super();ae(this,"loopBackState");ae(this,"precedenceRuleDecision");this.precedenceRuleDecision=!1}get stateType(){return Zi.STAR_LOOP_ENTRY}},ze(s4,"StarLoopEntryState"),s4),o4,O3=(o4=class{constructor(e,t){ae(this,"states",new Sd);ae(this,"s0",null);ae(this,"decision");ae(this,"atnStartState");ae(this,"precedenceDfa");ae(this,"isPrecedenceDfa",()=>this.precedenceDfa);ae(this,"getPrecedenceStartState",e=>{if(!this.isPrecedenceDfa())throw new Error("Only precedence DFAs may contain a precedence start state.");return!this.s0||!this.s0.edges||e<0||e>=this.s0.edges.length?null:this.s0.edges[e]});ae(this,"setPrecedenceStartState",(e,t)=>{var n;if(!this.isPrecedenceDfa())throw new Error("Only precedence DFAs may contain a precedence start state.");if(!(e<0||!((n=this.s0)!=null&&n.edges))){if(e>=this.s0.edges.length){const r=this.s0.edges.length;this.s0.edges.length=e+1,this.s0.edges.fill(null,r,e)}this.s0.edges[e]=t}});this.atnStartState=e,this.decision=t??0;let n=!1;if(e instanceof E0&&e.precedenceRuleDecision){n=!0;const r=new sm;r.edges=[],r.isAcceptState=!1,r.requiresFullContext=!1,this.s0=r}this.precedenceDfa=n}setPrecedenceDfa(e){if(e!==this.isPrecedenceDfa())throw new Error("The precedenceDfa field cannot change after a DFA is constructed.")}getStates(){const e=this.states.values();return e.sort((t,n)=>t.stateNumber-n.stateNumber),e}toString(e){return e?this.s0===null?"":new gye(this,e).toString()??"":this.toString(U1.EMPTY_VOCABULARY)}toLexerString(){return this.s0===null?"":new Wvt(this).toString()??""}},ze(o4,"DFA"),o4),Zr,rE=(Zr=class extends Ng{constructor(t,n,r,s){super(n,s);ae(this,"decisionToDFA");ae(this,"recog",null);ae(this,"startIndex",-1);ae(this,"line",1);ae(this,"column",0);ae(this,"mode",Sf.DEFAULT_MODE);ae(this,"prevAccept",new Zr.SimState);this.decisionToDFA=r,this.recog=t}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,n){this.mode=n;const r=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const s=this.decisionToDFA[n];return s.s0===null?this.matchATN(t):this.execATN(t,s.s0)}finally{t.release(r)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Sf.DEFAULT_MODE}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)===`
`.charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return t===-1?"EOF":"'"+String.fromCharCode(t)+"'"}clearDFA(){for(let t=0;t<this.decisionToDFA.length;t++)this.decisionToDFA[t]=new O3(this.atn.getDecisionState(t),t)}matchATN(t){const n=this.atn.modeToStartState[this.mode];Zr.debug&&console.log("matchATN mode "+this.mode+" start: "+n);const r=this.mode,s=this.computeStartState(t,n),o=s.hasSemanticContext;s.hasSemanticContext=!1;const a=this.addDFAState(s);o||(this.decisionToDFA[this.mode].s0=a);const u=this.execATN(t,a);return Zr.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[r].toLexerString()),u}execATN(t,n){Zr.debug&&console.log("start state closure="+n.configs),n.isAcceptState&&this.captureSimState(this.prevAccept,t,n);let r=t.LA(1),s=n;for(;;){Zr.debug&&console.log("execATN loop starting closure: "+s.configs);let o=this.getExistingTargetState(s,r);if(o===null&&(o=this.computeTargetState(t,s,r)),o===Ng.ERROR||(r!==kt.EOF&&this.consume(t),o.isAcceptState&&(this.captureSimState(this.prevAccept,t,o),r===kt.EOF)))break;r=t.LA(1),s=o}return this.failOrAccept(this.prevAccept,t,s.configs,r)}getExistingTargetState(t,n){if(t.edges===null||n<Zr.MIN_DFA_EDGE||n>Zr.MAX_DFA_EDGE)return null;let r=t.edges[n-Zr.MIN_DFA_EDGE];return r===void 0&&(r=null),Zr.debug&&r!==null&&console.log("reuse state "+t.stateNumber+" edge to "+r.stateNumber),r}computeTargetState(t,n,r){const s=new uue;return this.getReachableConfigSet(t,n.configs,s,r),s.items.length===0?(s.hasSemanticContext||this.addDFAEdge(n,r,Ng.ERROR),Ng.ERROR):this.addDFAEdge(n,r,null,s)}failOrAccept(t,n,r,s){if(t.dfaState!==null){const o=t.dfaState.lexerActionExecutor;return this.accept(n,o,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}else{if(s===kt.EOF&&n.index===this.startIndex)return kt.EOF;throw new b9(this.recog,n,this.startIndex,r)}}getReachableConfigSet(t,n,r,s){let o=Js.INVALID_ALT_NUMBER;for(const a of n.items){const u=a.alt===o;if(!(u&&a.passedThroughNonGreedyDecision)){Zr.debug&&console.log(`testing %s at %s
`,this.getTokenName(s),a.toString(this.recog,!0));for(const c of a.state.transitions){const h=this.getReachableTarget(c,s);if(h!==null){let f=a.lexerActionExecutor;f!==null&&(f=f.fixOffsetBeforeMatch(t.index-this.startIndex));const p=s===kt.EOF,m=new eg({state:h,lexerActionExecutor:f},a);this.closure(t,m,r,u,!0,p)&&(o=a.alt)}}}}}accept(t,n,r,s,o,a){Zr.debug&&console.log(`ACTION %s
`,n),t.seek(s),this.line=o,this.column=a,n!==null&&this.recog!==null&&n.execute(this.recog,t,r)}getReachableTarget(t,n){return t.matches(n,0,Sf.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,n){const r=kr.EMPTY,s=new uue;for(let o=0;o<n.transitions.length;o++){const a=n.transitions[o].target,u=new eg({state:a,alt:o+1,context:r},null);this.closure(t,u,s,!1,!1,!1)}return s}closure(t,n,r,s,o,a){let u=null;if(Zr.debug&&console.log("closure("+n.toString(this.recog,!0)+")"),n.state instanceof Bl){if(Zr.debug&&(this.recog!==null?console.log(`closure at %s rule stop %s
`,this.recog.ruleNames[n.state.ruleIndex],n):console.log(`closure at rule stop %s
`,n)),n.context===null||n.context.hasEmptyPath()){if(n.context===null||n.context.isEmpty())return r.add(n),!0;r.add(new eg({state:n.state,context:kr.EMPTY},n)),s=!0}if(n.context!==null&&!n.context.isEmpty()){for(let c=0;c<n.context.length;c++)if(n.context.getReturnState(c)!==kr.EMPTY_RETURN_STATE){const h=n.context.getParent(c),f=this.atn.states[n.context.getReturnState(c)];u=new eg({state:f,context:h},n),s=this.closure(t,u,r,s,o,a)}}return s}n.state.epsilonOnlyTransitions||(!s||!n.passedThroughNonGreedyDecision)&&r.add(n);for(const c of n.state.transitions)u=this.getEpsilonTarget(t,n,c,r,o,a),u!==null&&(s=this.closure(t,u,r,s,o,a));return s}getEpsilonTarget(t,n,r,s,o,a){let u=null;if(r.serializationType===ii.RULE){const c=xd.create(n.context,r.followState.stateNumber);u=new eg({state:r.target,context:c},n)}else{if(r.serializationType===ii.PRECEDENCE)throw new Error("Precedence predicates are not supported in lexers.");if(r.serializationType===ii.PREDICATE){const c=r;Zr.debug&&console.log("EVAL rule "+c.ruleIndex+":"+c.predIndex),s.hasSemanticContext=!0,this.evaluatePredicate(t,c.ruleIndex,c.predIndex,o)&&(u=new eg({state:r.target},n))}else if(r.serializationType===ii.ACTION)if(n.context===null||n.context.hasEmptyPath()){const c=Bvt.append(n.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);u=new eg({state:r.target,lexerActionExecutor:c},n)}else u=new eg({state:r.target},n);else r.serializationType===ii.EPSILON?u=new eg({state:r.target},n):(r.serializationType===ii.ATOM||r.serializationType===ii.RANGE||r.serializationType===ii.SET)&&a&&r.matches(kt.EOF,0,Sf.MAX_CHAR_VALUE)&&(u=new eg({state:r.target},n))}return u}evaluatePredicate(t,n,r,s){if(this.recog===null)return!0;if(!s)return this.recog.sempred(null,n,r);const o=this.column,a=this.line,u=t.index,c=t.mark();try{return this.consume(t),this.recog.sempred(null,n,r)}finally{this.column=o,this.line=a,t.seek(u),t.release(c)}}captureSimState(t,n,r){t.index=n.index,t.line=this.line,t.column=this.column,t.dfaState=r}addDFAEdge(t,n,r,s){if(r===void 0&&(r=null),s===void 0&&(s=null),r===null&&s!==null){const o=s.hasSemanticContext;if(s.hasSemanticContext=!1,r=this.addDFAState(s),o)return r}return n<Zr.MIN_DFA_EDGE||n>Zr.MAX_DFA_EDGE||(Zr.debug&&console.log("EDGE "+t+" -> "+r+" upon "+n),t.edges===null&&(t.edges=new Array(Zr.MAX_DFA_EDGE-Zr.MIN_DFA_EDGE+1),t.edges.fill(null)),t.edges[n-Zr.MIN_DFA_EDGE]=r),r}addDFAState(t){const n=new sm(t);let r=null;for(const u of t.items)if(u.state instanceof Bl){r=u;break}r!==null&&(n.isAcceptState=!0,n.lexerActionExecutor=r.lexerActionExecutor,n.prediction=this.atn.ruleToTokenType[r.state.ruleIndex]);const s=this.decisionToDFA[this.mode],o=s.states.get(n);if(o!==null)return o;const a=n;return a.stateNumber=s.states.length,t.setReadonly(!0),a.configs=t,s.states.add(a),a}},ze(Zr,"LexerATNSimulator"),ae(Zr,"MIN_DFA_EDGE",0),ae(Zr,"MAX_DFA_EDGE",127),ae(Zr,"debug",!1),ae(Zr,"dfa_debug",!1),Zr);(i=>{const t=class t{constructor(){ae(this,"index",-1);ae(this,"line",0);ae(this,"column",-1);ae(this,"dfaState",null)}reset(){this.index=-1,this.line=0,this.column=-1,this.dfaState=null}};ze(t,"SimState");let e=t;i.SimState=e})(rE||(rE={}));var aa,Sf=(aa=class extends hye{constructor(t){super();ae(this,"_input");ae(this,"_token",null);ae(this,"_tokenStartCharIndex",-1);ae(this,"_tokenStartLine",0);ae(this,"_tokenStartColumn",0);ae(this,"_hitEOF",!1);ae(this,"_channel",0);ae(this,"_type",0);ae(this,"_modeStack",[]);ae(this,"_mode",aa.DEFAULT_MODE);ae(this,"_text",null);ae(this,"_factory");this._input=t,this._factory=Nvt.DEFAULT}reset(t=!0){t&&this._input.seek(0),this._token=null,this._type=kt.INVALID_TYPE,this._channel=kt.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=aa.DEFAULT_MODE,this._modeStack=[],this.interpreter.reset()}nextToken(){if(this._input===null)throw new Error("nextToken requires a non-null input stream.");const t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=kt.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this.interpreter.column,this._tokenStartLine=this.interpreter.line,this._text=null;let n=!1;for(;;){this._type=kt.INVALID_TYPE;let r=aa.SKIP;try{r=this.interpreter.match(this._input,this._mode)}catch(s){if(s instanceof b9)this.notifyListeners(s),this.recover(s);else throw s}if(this._input.LA(1)===kt.EOF&&(this._hitEOF=!0),this._type===kt.INVALID_TYPE&&(this._type=r),this._type===aa.SKIP){n=!0;break}if(this._type!==aa.MORE)break}if(!n)return this._token===null&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=aa.SKIP}more(){this._type=aa.MORE}mode(t){this._mode=t}pushMode(t){rE.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}popMode(){if(this._modeStack.length===0)throw new Error("Empty Stack");return rE.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create([this,this._input],this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const t=this.column,n=this.line,r=this._factory.create([this,this._input],kt.EOF,null,kt.DEFAULT_CHANNEL,this._input.index,this._input.index-1,n,t);return this.emitToken(r),r}getCharIndex(){return this._input.index}getAllTokens(){const t=[];let n=this.nextToken();for(;n.type!==kt.EOF;)t.push(n),n=this.nextToken();return t}notifyListeners(t){const n=this._tokenStartCharIndex,r=this._input.index,s=this._input.getText(n,r),o="token recognition error at: '"+this.getErrorDisplay(s)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,o,t)}getErrorDisplay(t){return t}getErrorDisplayForChar(t){return t.charCodeAt(0)===kt.EOF?"<EOF>":t===`
`?"\\n":t==="	"?"\\t":t==="\r"?"\\r":t}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(t){this._input.LA(1)!==kt.EOF&&(t instanceof b9?this.interpreter.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this.reset(!1),this._input=t}set tokenFactory(t){this._factory=t}get tokenFactory(){return this._factory}get sourceName(){return this._input.getSourceName()}get type(){return this._type}set type(t){this._type=t}get line(){return this.interpreter.line}set line(t){this.interpreter.line=t}get column(){return this.interpreter.column}set column(t){this.interpreter.column=t}get text(){return this._text!==null?this._text:this.interpreter.getText(this._input)}set text(t){this._text=t}},ze(aa,"Lexer"),ae(aa,"DEFAULT_MODE",0),ae(aa,"MORE",-2),ae(aa,"SKIP",-3),ae(aa,"DEFAULT_TOKEN_CHANNEL",kt.DEFAULT_CHANNEL),ae(aa,"HIDDEN",kt.HIDDEN_CHANNEL),ae(aa,"MIN_CHAR_VALUE",0),ae(aa,"MAX_CHAR_VALUE",1114111),aa),Bs,xf=(Bs=class{constructor(e){ae(this,"intervals",[]);ae(this,"readOnly",!1);e&&this.addSet(e)}static of(e,t){const n=new Bs;return n.addRange(e,t),n}[Symbol.iterator](){return this.intervals[Symbol.iterator]()}get minElement(){return this.intervals.length===0?kt.INVALID_TYPE:this.intervals[0].start}get maxElement(){return this.intervals.length===0?kt.INVALID_TYPE:this.intervals[this.intervals.length-1].stop}get isNil(){return this.intervals.length===0}clear(){if(this.readOnly)throw new Error("can't alter readonly IntervalSet");this.intervals=[]}addOne(e){this.addInterval(new Tr(e,e))}addRange(e,t){this.addInterval(new Tr(e,t))}addInterval(e){if(this.readOnly)throw new Error("can't alter readonly IntervalSet");if(this.intervals.length===0)this.intervals.push(e);else{for(let t=0;t<this.intervals.length;t++){const n=this.intervals[t];if(e.equals(n))return;if(e.adjacent(n)||!e.disjoint(n)){const r=e.union(n);this.intervals[t]=r;for(let s=t+1;s<this.intervals.length;){const o=this.intervals[s];if(!r.adjacent(o)&&r.disjoint(o))break;this.intervals.splice(s,1),this.intervals[t]=r.union(o)}return}if(e.startsBeforeDisjoint(n)){this.intervals.splice(t,0,e);return}}this.intervals.push(e)}}addSet(e){return e.intervals.forEach(t=>this.addInterval(t),this),this}complement(e,t){if(!e)return new Bs;const n=new Bs;if(e instanceof Bs){if(e.isNil)return new Bs;n.addSet(e)}else n.addInterval(new Tr(e,t??0));return n.subtract(this)}or(e){const t=new Bs;return t.addSet(this),e.forEach(n=>t.addSet(n)),t}and(e){if(e.isNil)return new Bs;const t=this.intervals,n=e.intervals;let r;const s=t.length,o=n.length;let a=0,u=0;for(;a<s&&u<o;){const c=t[a],h=n[u];c.startsBeforeDisjoint(h)?a++:h.startsBeforeDisjoint(c)?u++:c.properlyContains(h)?(r||(r=new Bs),r.addInterval(c.intersection(h)),u++):h.properlyContains(c)?(r||(r=new Bs),r.addInterval(c.intersection(h)),a++):c.disjoint(h)||(r||(r=new Bs),r.addInterval(c.intersection(h)),c.startsAfterNonDisjoint(h)?u++:h.startsAfterNonDisjoint(c)&&a++)}return r||new Bs}subtract(e){if(this.isNil)return new Bs;const t=new Bs(this);if(e.isNil)return t;let n=0,r=0;for(;n<t.intervals.length&&r<e.intervals.length;){const s=t.intervals[n],o=e.intervals[r];if(o.stop<s.start){r++;continue}if(o.start>s.stop){n++;continue}let a=null,u=null;if(o.start>s.start&&(a=new Tr(s.start,o.start-1)),o.stop<s.stop&&(u=new Tr(o.stop+1,s.stop)),a!=null)if(u!=null){t.intervals[n]=a,t.intervals.splice(n+1,0,u),n++,r++;continue}else{t.intervals[n]=a,n++;continue}else if(u!=null){t.intervals[n]=u,r++;continue}else{t.intervals.splice(n,1);continue}}return t}contains(e){const t=this.intervals.length;let n=0,r=t-1;for(;n<=r;){const s=Math.floor((n+r)/2),o=this.intervals[s];if(o.stop<e)n=s+1;else if(o.start>e)r=s-1;else return!0}return!1}removeRange(e){if(this.readOnly)throw new Error("can't alter readonly IntervalSet");if(e.start===e.stop)this.removeOne(e.start);else if(this.intervals!==null){let t=0;for(const n of this.intervals){if(e.stop<=n.start)return;if(e.start>n.start&&e.stop<n.stop){this.intervals[t]=new Tr(n.start,e.start);const r=new Tr(e.stop,n.stop);this.intervals.splice(t,0,r);return}else e.start<=n.start&&e.stop>=n.stop?(this.intervals.splice(t,1),t=t-1):e.start<n.stop?this.intervals[t]=new Tr(n.start,e.start):e.stop<n.stop&&(this.intervals[t]=new Tr(e.stop,n.stop));t+=1}}}removeOne(e){if(this.readOnly)throw new Error("can't alter readonly IntervalSet");for(let t=0;t<this.intervals.length;t++){const n=this.intervals[t];if(e<n.start)return;if(e===n.start&&e===n.stop){this.intervals.splice(t,1);return}else if(e===n.start){this.intervals[t]=new Tr(n.start+1,n.stop);return}else if(e===n.stop){this.intervals[t]=new Tr(n.start,n.stop);return}else if(e<n.stop){const r=new Tr(n.start,e);this.intervals[t]=new Tr(e+1,n.stop),this.intervals.splice(t,0,r);return}}}toString(e){if(this.intervals.length===0)return"{}";let t="";this.length>1&&(t+="{");let n=!1,r;e instanceof U1?r=e:Array.isArray(e)?r=U1.fromTokenNames(e):n=e??!1;for(let s=0;s<this.intervals.length;++s){const o=this.intervals[s],a=o.start,u=o.stop;if(a===u)a===kt.EOF?t+="<EOF>":n?t+="'"+String.fromCodePoint(a)+"'":r?t+=this.elementName(r,a):t+=a;else if(n)t+="'"+String.fromCodePoint(a)+"'..'"+String.fromCodePoint(u)+"'";else if(r)for(let c=a;c<=u;++c)c>a&&(t+=", "),t+=this.elementName(r,c);else t+=a+".."+u;s<this.intervals.length-1&&(t+=", ")}return this.length>1&&(t+="}"),t}toArray(){const e=[];for(const t of this.intervals)for(let n=t.start;n<=t.stop;n++)e.push(n);return e}get length(){let e=0;if(this.intervals.length===1){const n=this.intervals[0];return n.stop-n.start+1}for(const n of this.intervals)e+=n.length;return e}isReadonly(){return this.readOnly}setReadonly(e){if(this.readOnly&&!e)throw new Error("can't alter readonly IntervalSet");this.readOnly=e}elementName(e,t){return t===kt.EOF?"<EOF>":t===kt.EPSILON?"<EPSILON>":e.getDisplayName(t)}},ze(Bs,"IntervalSet"),ae(Bs,"COMPLETE_CHAR_SET",Bs.of(Sf.MIN_CHAR_VALUE,Sf.MAX_CHAR_VALUE)),ae(Bs,"EMPTY_SET",new Bs),Bs.COMPLETE_CHAR_SET.readOnly=!0,Bs.EMPTY_SET.readOnly=!0,Bs),a4,C9=(a4=class extends ab{constructor(t,n,r,s){super(t);ae(this,"ruleIndex");ae(this,"precedence");ae(this,"followState");this.ruleIndex=n,this.precedence=r,this.followState=s}get isEpsilon(){return!0}get serializationType(){return ii.RULE}matches(t,n,r){return!1}},ze(a4,"RuleTransition"),a4),N0,l4,Hee=(l4=class extends ab{constructor(t,n){super(t);es(this,N0,void 0);n!=null?Pr(this,N0,n):(Pr(this,N0,new xf),Bn(this,N0).addOne(kt.INVALID_TYPE))}get label(){return Bn(this,N0)}get serializationType(){return ii.SET}matches(t,n,r){return this.label.contains(t)}toString(){return Bn(this,N0).toString()}},N0=new WeakMap,ze(l4,"SetTransition"),l4),u4,$ee=(u4=class extends Hee{constructor(e,t){super(e,t)}get serializationType(){return ii.NOT_SET}matches(e,t,n){return e>=t&&e<=n&&!super.matches(e,t,n)}toString(){return"~"+super.toString()}},ze(u4,"NotSetTransition"),u4),c4,pye=(c4=class extends ab{constructor(e){super(e)}get serializationType(){return ii.WILDCARD}matches(e,t,n){return e>=t&&e<=n}toString(){return"."}},ze(c4,"WildcardTransition"),c4),p1,Vvt=(p1=class{constructor(e){ae(this,"atn");this.atn=e}getDecisionLookahead(e){if(e===null)return null;const t=e.transitions.length,n=new Array(t);n.fill(null);for(let r=0;r<t;r++){n[r]=new xf;const s=new Sd,o=!1;this._LOOK(e.transitions[r].target,null,kr.EMPTY,n[r],s,new $g,o,!1),(n[r].length===0||n[r].contains(p1.HIT_PRED))&&(n[r]=null)}return n}LOOK(e,t,n){const r=new xf,s=!0;n=n||null;const o=n!==null?Wee(e.atn,n):null;return this._LOOK(e,t,o,r,new Sd,new $g,s,!0),r}_LOOK(e,t,n,r,s,o,a,u){const c=new ra({state:e,alt:0,context:n},null);if(!s.has(c)){if(s.add(c),e===t){if(n===null){r.addOne(kt.EPSILON);return}else if(n.isEmpty()&&u){r.addOne(kt.EOF);return}}if(e instanceof Bl){if(n===null){r.addOne(kt.EPSILON);return}else if(n.isEmpty()&&u){r.addOne(kt.EOF);return}if(n!==kr.EMPTY){const h=o.get(e.ruleIndex);try{o.clear(e.ruleIndex);for(let f=0;f<n.length;f++){const p=this.atn.states[n.getReturnState(f)];this._LOOK(p,t,n.getParent(f),r,s,o,a,u)}}finally{h&&o.set(e.ruleIndex)}return}}for(const h of e.transitions)if(h instanceof C9){if(o.get(h.target.ruleIndex))continue;const f=xd.create(n,h.followState.stateNumber);try{o.set(h.target.ruleIndex),this._LOOK(h.target,t,f,r,s,o,a,u)}finally{o.clear(h.target.ruleIndex)}}else if(h instanceof Bee)a?this._LOOK(h.target,t,n,r,s,o,a,u):r.addOne(p1.HIT_PRED);else if(h.isEpsilon)this._LOOK(h.target,t,n,r,s,o,a,u);else if(h.constructor===pye)r.addRange(kt.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let f=h.label;f!==null&&(h instanceof $ee&&(f=f.complement(kt.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),r.addSet(f))}}}},ze(p1,"LL1Analyzer"),ae(p1,"HIT_PRED",kt.INVALID_TYPE),p1),sx,Js=(sx=class{constructor(e,t){ae(this,"grammarType");ae(this,"maxTokenType");ae(this,"states",[]);ae(this,"decisionToState",[]);ae(this,"ruleToStartState",[]);ae(this,"ruleToStopState",[]);ae(this,"modeNameToStartState",new Map);ae(this,"ruleToTokenType",[]);ae(this,"lexerActions",[]);ae(this,"modeToStartState",[]);this.grammarType=e,this.maxTokenType=t}addState(e){e!==null&&(e.atn=this,e.stateNumber=this.states.length),this.states.push(e)}removeState(e){this.states[e.stateNumber]=null}defineDecisionState(e){return this.decisionToState.push(e),e.decision=this.decisionToState.length-1,e.decision}getDecisionState(e){return this.decisionToState.length===0?null:this.decisionToState[e]}getExpectedTokens(e,t){if(e<0||e>=this.states.length)throw new Error("Invalid state number.");const n=this.states[e];let r=this.nextTokens(n);if(!r.contains(kt.EPSILON))return r;let s=t;const o=new xf;for(o.addSet(r),o.removeOne(kt.EPSILON);s!==null&&s.invokingState>=0&&r.contains(kt.EPSILON);){const u=this.states[s.invokingState].transitions[0];r=this.nextTokens(u.followState),o.addSet(r),o.removeOne(kt.EPSILON),s=s.parent}return r.contains(kt.EPSILON)&&o.addOne(kt.EOF),o}nextTokens(e,t){return t===void 0?(e.nextTokenWithinRule!==null||(e.nextTokenWithinRule=this.nextTokens(e,null),e.nextTokenWithinRule.setReadonly(!0)),e.nextTokenWithinRule):new Vvt(this).LOOK(e,null,t)}},ze(sx,"ATN"),ae(sx,"INVALID_ALT_NUMBER",0),sx),m1,mye=(m1=class{constructor(e){ae(this,"readOnly",!1);ae(this,"verifyATN");ae(this,"generateRuleBypassTransitions");this.readOnly=!1,this.verifyATN=e==null?!0:e.verifyATN,this.generateRuleBypassTransitions=e==null?!1:e.generateRuleBypassTransitions}},ze(m1,"ATNDeserializationOptions"),ae(m1,"defaultOptions",new m1),m1.defaultOptions.readOnly=!0,m1),sO={LEXER:0,PARSER:1},d4,cue=(d4=class extends Bm{get stateType(){return Zi.BASIC}},ze(d4,"BasicState"),d4),h4,nx=(h4=class extends cw{constructor(){super();ae(this,"endState");this.endState=null}},ze(h4,"BlockStartState"),h4),f4,Vz=(f4=class extends Bm{constructor(){super(...arguments);ae(this,"startState",null)}get stateType(){return Zi.BLOCK_END}},ze(f4,"BlockEndState"),f4),g4,Eb=(g4=class extends Bm{constructor(){super(...arguments);ae(this,"loopBackState",null)}get stateType(){return Zi.LOOP_END}},ze(g4,"LoopEndState"),g4),p4,due=(p4=class extends Bm{constructor(){super();ae(this,"stopState");ae(this,"isLeftRecursiveRule");ae(this,"isPrecedenceRule");this.isPrecedenceRule=!1}get stateType(){return Zi.RULE_START}},ze(p4,"RuleStartState"),p4),m4,Hvt=(m4=class extends cw{get stateType(){return Zi.TOKEN_START}},ze(m4,"TokensStartState"),m4),_4,hue=(_4=class extends cw{get stateType(){return Zi.PLUS_LOOP_BACK}},ze(_4,"PlusLoopbackState"),_4),v4,Hz=(v4=class extends Bm{get stateType(){return Zi.STAR_LOOP_BACK}},ze(v4,"StarLoopbackState"),v4),b4,$z=(b4=class extends nx{constructor(){super(...arguments);ae(this,"loopBackState")}get stateType(){return Zi.PLUS_BLOCK_START}},ze(b4,"PlusBlockStartState"),b4),C4,zz=(C4=class extends nx{get stateType(){return Zi.STAR_BLOCK_START}},ze(C4,"StarBlockStartState"),C4),y4,fue=(y4=class extends nx{get stateType(){return Zi.BLOCK_START}},ze(y4,"BasicBlockStartState"),y4),w4,S4,E8=(S4=class extends ab{constructor(t,n){super(t);ae(this,"labelValue");es(this,w4,void 0);this.labelValue=n,Pr(this,w4,xf.of(n,n))}get label(){return Bn(this,w4)}matches(t,n,r){return this.labelValue===t}get serializationType(){return ii.ATOM}toString(){return this.labelValue.toString()}},w4=new WeakMap,ze(S4,"AtomTransition"),S4),x4,E4,gue=(E4=class extends ab{constructor(t,n,r){super(t);ae(this,"start");ae(this,"stop");es(this,x4,new xf);this.start=n,this.stop=r,Bn(this,x4).addRange(n,r)}get label(){return Bn(this,x4)}get serializationType(){return ii.RANGE}matches(t,n,r){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}},x4=new WeakMap,ze(E4,"RangeTransition"),E4),L4,D4,OA=(D4=class extends ab{constructor(t,n=-1){super(t);es(this,L4,void 0);Pr(this,L4,n)}get isEpsilon(){return!0}matches(t,n,r){return!1}get outermostPrecedenceReturn(){return Bn(this,L4)}get serializationType(){return ii.EPSILON}toString(){return"epsilon"}},L4=new WeakMap,ze(D4,"EpsilonTransition"),D4),T4,_ye=(T4=class extends Bee{constructor(t,n,r,s){super(t);ae(this,"ruleIndex");ae(this,"predIndex");ae(this,"isCtxDependent");this.ruleIndex=n,this.predIndex=r,this.isCtxDependent=s}get isEpsilon(){return!0}matches(t,n,r){return!1}get serializationType(){return ii.PREDICATE}getPredicate(){return new ls.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}},ze(T4,"PredicateTransition"),T4),I4,$vt=(I4=class extends Bee{constructor(t,n){super(t);ae(this,"precedence");this.precedence=n}get isEpsilon(){return!0}matches(t,n,r){return!1}getPredicate(){return new ls.PrecedencePredicate(this.precedence)}get serializationType(){return ii.PRECEDENCE}toString(){return this.precedence+" >= _p"}},ze(I4,"PrecedencePredicateTransition"),I4),hl={CHANNEL:0,CUSTOM:1,MODE:2,MORE:3,POP_MODE:4,PUSH_MODE:5,SKIP:6,TYPE:7},IC,zvt=(IC=class extends Cp{constructor(){super(hl.SKIP)}execute(e){e.skip()}toString(){return"skip"}},ze(IC,"LexerSkipAction"),ae(IC,"INSTANCE",new IC),IC),dE,Uvt=(dE=class extends Cp{constructor(t){super(hl.CHANNEL);ae(this,"channel");this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t?!0:t instanceof dE?this.channel===t.channel:!1}toString(){return"channel("+this.channel+")"}},ze(dE,"LexerChannelAction"),dE),hE,jvt=(hE=class extends Cp{constructor(t,n){super(hl.CUSTOM);ae(this,"ruleIndex");ae(this,"actionIndex");this.ruleIndex=t,this.actionIndex=n,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t?!0:t instanceof hE?this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex:!1}},ze(hE,"LexerCustomAction"),hE),kC,Kvt=(kC=class extends Cp{constructor(){super(hl.MORE)}execute(e){e.more()}toString(){return"more"}},ze(kC,"LexerMoreAction"),ae(kC,"INSTANCE",new kC),kC),fE,qvt=(fE=class extends Cp{constructor(t){super(hl.TYPE);ae(this,"type");this.type=t}execute(t){t._type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t?!0:t instanceof fE?this.type===t.type:!1}toString(){return"type("+this.type+")"}},ze(fE,"LexerTypeAction"),fE),gE,Gvt=(gE=class extends Cp{constructor(t){super(hl.PUSH_MODE);ae(this,"mode");this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t?!0:t instanceof gE?this.mode===t.mode:!1}toString(){return"pushMode("+this.mode+")"}},ze(gE,"LexerPushModeAction"),gE),NC,Yvt=(NC=class extends Cp{constructor(){super(hl.POP_MODE)}execute(e){e.popMode()}toString(){return"popMode"}},ze(NC,"LexerPopModeAction"),ae(NC,"INSTANCE",new NC),NC),pE,Zvt=(pE=class extends Cp{constructor(t){super(hl.MODE);ae(this,"mode");this.mode=t}execute(t){t.mode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t?!0:t instanceof pE?this.mode===t.mode:!1}toString(){return"mode("+this.mode+")"}},ze(pE,"LexerModeAction"),pE),Uz=ze((i,e)=>{const t=new Array(i-1);return t[i-1]=e,t.map(()=>e)},"initArray"),_1,zee=(_1=class{constructor(e){ae(this,"data",[]);ae(this,"pos",0);ae(this,"deserializationOptions");ae(this,"stateFactories",null);ae(this,"actionFactories",null);e||(e=mye.defaultOptions),this.deserializationOptions=e,this.stateFactories=null,this.actionFactories=null}deserialize(e){this.reset(e),this.checkVersion();const t=this.readATN();this.readStates(t),this.readRules(t),this.readModes(t);const n=[];return this.readSets(t,n),this.readEdges(t,n),this.readDecisions(t),this.readLexerActions(t),this.markPrecedenceDecisions(t),this.verifyATN(t),this.deserializationOptions.generateRuleBypassTransitions&&t.grammarType===sO.PARSER&&(this.generateRuleBypassTransitions(t),this.verifyATN(t)),t}reset(e){return this.data=e,this.pos=0,!1}checkVersion(){const e=this.readInt();if(e!==_1.SERIALIZED_VERSION)throw new Error("Could not deserialize ATN with version "+e+" (expected "+_1.SERIALIZED_VERSION+").")}readATN(){const e=this.readInt(),t=this.readInt();return new Js(e,t)}readStates(e){let t,n;const r=[],s=[],o=this.readInt();for(let c=0;c<o;c++){const h=this.readInt();if(h===Zi.INVALID_TYPE){e.addState(null);continue}const f=this.readInt(),p=this.stateFactory(h,f);if(h===Zi.LOOP_END){const m=this.readInt();r.push([p,m])}else if(p instanceof nx){const m=this.readInt();s.push([p,m])}e.addState(p)}for(t=0;t<r.length;t++){const c=r[t];c[0].loopBackState=e.states[c[1]]}for(t=0;t<s.length;t++){const c=s[t];c[0].endState=e.states[c[1]]}const a=this.readInt();for(t=0;t<a;t++)n=this.readInt(),e.states[n].nonGreedy=!0;const u=this.readInt();for(t=0;t<u;t++)n=this.readInt(),e.states[n].isPrecedenceRule=!0}readRules(e){let t;const n=this.readInt();for(e.grammarType===sO.LEXER&&(e.ruleToTokenType=Uz(n,0)),e.ruleToStartState=Uz(n,null),t=0;t<n;t++){const r=this.readInt();if(e.ruleToStartState[t]=e.states[r],e.grammarType===sO.LEXER){const s=this.readInt();e.ruleToTokenType[t]=s}}for(e.ruleToStopState=Uz(n,null),t=0;t<e.states.length;t++){const r=e.states[t];r instanceof Bl&&(e.ruleToStopState[r.ruleIndex]=r,e.ruleToStartState[r.ruleIndex].stopState=r)}}readModes(e){const t=this.readInt();for(let n=0;n<t;n++){const r=this.readInt();e.modeToStartState.push(e.states[r])}}readSets(e,t){const n=this.readInt();for(let r=0;r<n;r++){const s=new xf;t.push(s);const o=this.readInt();this.readInt()!==0&&s.addOne(-1);for(let u=0;u<o;u++){const c=this.readInt(),h=this.readInt();s.addRange(c,h)}}}readEdges(e,t){let n,r,s,o,a;const u=this.readInt();for(n=0;n<u;n++){const c=this.readInt(),h=this.readInt(),f=this.readInt(),p=this.readInt(),m=this.readInt(),v=this.readInt();o=this.edgeFactory(e,f,h,p,m,v,t),e.states[c].addTransition(o)}for(n=0;n<e.states.length;n++)for(s=e.states[n],r=0;r<s.transitions.length;r++){const c=s.transitions[r];if(!(c instanceof C9))continue;let h=-1;e.ruleToStartState[c.target.ruleIndex].isPrecedenceRule&&c.precedence===0&&(h=c.target.ruleIndex),o=new OA(c.followState,h),e.ruleToStopState[c.target.ruleIndex].addTransition(o)}for(n=0;n<e.states.length;n++){if(s=e.states[n],s instanceof nx){if(s.endState===null)throw new Error("IllegalState");if(s.endState.startState)throw new Error("IllegalState");s.endState.startState=s}if(s instanceof hue)for(r=0;r<s.transitions.length;r++)a=s.transitions[r].target,a instanceof $z&&(a.loopBackState=s);else if(s instanceof Hz)for(r=0;r<s.transitions.length;r++)a=s.transitions[r].target,a instanceof E0&&(a.loopBackState=s)}}readDecisions(e){const t=this.readInt();for(let n=0;n<t;n++){const r=this.readInt(),s=e.states[r];e.decisionToState.push(s),s.decision=n}}readLexerActions(e){if(e.grammarType===sO.LEXER){const t=this.readInt();e.lexerActions=[];for(let n=0;n<t;n++){const r=this.readInt(),s=this.readInt(),o=this.readInt();e.lexerActions.push(this.lexerActionFactory(r,s,o))}}}generateRuleBypassTransitions(e){let t;const n=e.ruleToStartState.length;for(t=0;t<n;t++)e.ruleToTokenType[t]=e.maxTokenType+t+1;for(t=0;t<n;t++)this.generateRuleBypassTransition(e,t)}generateRuleBypassTransition(e,t){let n,r;const s=new fue;s.ruleIndex=t,e.addState(s);const o=new Vz;o.ruleIndex=t,e.addState(o),s.endState=o,e.defineDecisionState(s),o.startState=s;let a=null,u=null;if(e.ruleToStartState[t].isPrecedenceRule){for(u=null,n=0;n<e.states.length;n++)if(r=e.states[n],this.stateIsEndStateFor(r,t)){u=r,a=r.loopBackState.transitions[0];break}if(a===null)throw new Error("Couldn't identify final state of the precedence rule prefix section.")}else u=e.ruleToStopState[t];for(n=0;n<e.states.length;n++){r=e.states[n];for(const p of r.transitions)p!==a&&p.target===u&&(p.target=o)}const c=e.ruleToStartState[t],h=c.transitions.length;for(;h>0;)s.addTransition(c.transitions[h-1]),c.transitions=c.transitions.slice(-1);e.ruleToStartState[t].addTransition(new OA(s)),u&&o.addTransition(new OA(u));const f=new cue;e.addState(f),f.addTransition(new E8(o,e.ruleToTokenType[t])),s.addTransition(new OA(f))}stateIsEndStateFor(e,t){if(e.ruleIndex!==t||!(e instanceof E0))return null;const n=e.transitions[e.transitions.length-1].target;return n instanceof Eb&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof Bl?e:null}markPrecedenceDecisions(e){for(const t of e.states)if(t instanceof E0&&e.ruleToStartState[t.ruleIndex].isPrecedenceRule){const n=t.transitions[t.transitions.length-1].target;n instanceof Eb&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof Bl&&(t.precedenceRuleDecision=!0)}}verifyATN(e){if(this.deserializationOptions.verifyATN){for(const t of e.states)if(t!==null)if(this.checkCondition(t.epsilonOnlyTransitions||t.transitions.length<=1),t instanceof $z)this.checkCondition(t.loopBackState!==null);else if(t instanceof E0)if(this.checkCondition(t.loopBackState!==null),this.checkCondition(t.transitions.length===2),t.transitions[0].target instanceof zz)this.checkCondition(t.transitions[1].target instanceof Eb),this.checkCondition(!t.nonGreedy);else if(t.transitions[0].target instanceof Eb)this.checkCondition(t.transitions[1].target instanceof zz),this.checkCondition(t.nonGreedy);else throw new Error("IllegalState");else t instanceof Hz?(this.checkCondition(t.transitions.length===1),this.checkCondition(t.transitions[0].target instanceof E0)):t instanceof Eb?this.checkCondition(t.loopBackState!==null):t instanceof due?this.checkCondition(t.stopState!==null):t instanceof nx?this.checkCondition(t.endState!==null):t instanceof Vz?this.checkCondition(t.startState!==null):t instanceof cw?this.checkCondition(t.transitions.length<=1||t.decision>=0):this.checkCondition(t.transitions.length<=1||t instanceof Bl)}}checkCondition(e,t){if(!e)throw t==null&&(t="IllegalState"),t}readInt(){return this.data[this.pos++]}edgeFactory(e,t,n,r,s,o,a){const u=e.states[n];switch(t){case ii.EPSILON:return new OA(u);case ii.RANGE:return o!==0?new gue(u,kt.EOF,s):new gue(u,r,s);case ii.RULE:return new C9(e.states[r],s,o,u);case ii.PREDICATE:return new _ye(u,r,s,o!==0);case ii.PRECEDENCE:return new $vt(u,r);case ii.ATOM:return o!==0?new E8(u,kt.EOF):new E8(u,r);case ii.ACTION:return new uye(u,r,s,o!==0);case ii.SET:return new Hee(u,a[r]);case ii.NOT_SET:return new $ee(u,a[r]);case ii.WILDCARD:return new pye(u);default:throw new Error("The specified transition type: "+t+" is not valid.")}}stateFactory(e,t){var n,r;if(this.stateFactories===null){const s=[];s[Zi.INVALID_TYPE]=null,s[Zi.BASIC]=()=>new cue,s[Zi.RULE_START]=()=>new due,s[Zi.BLOCK_START]=()=>new fue,s[Zi.PLUS_BLOCK_START]=()=>new $z,s[Zi.STAR_BLOCK_START]=()=>new zz,s[Zi.TOKEN_START]=()=>new Hvt,s[Zi.RULE_STOP]=()=>new Bl,s[Zi.BLOCK_END]=()=>new Vz,s[Zi.STAR_LOOP_BACK]=()=>new Hz,s[Zi.STAR_LOOP_ENTRY]=()=>new E0,s[Zi.PLUS_LOOP_BACK]=()=>new hue,s[Zi.LOOP_END]=()=>new Eb,this.stateFactories=s}if(e>this.stateFactories.length||this.stateFactories[e]===null)throw new Error("The specified state type "+e+" is not valid.");{const s=((r=(n=this.stateFactories)[e])==null?void 0:r.call(n))??null;if(s!==null)return s.ruleIndex=t,s}return null}lexerActionFactory(e,t,n){if(this.actionFactories===null){const r=[];r[hl.CHANNEL]=(s,o)=>new Uvt(s),r[hl.CUSTOM]=(s,o)=>new jvt(s,o),r[hl.MODE]=(s,o)=>new Zvt(s),r[hl.MORE]=(s,o)=>Kvt.INSTANCE,r[hl.POP_MODE]=(s,o)=>Yvt.INSTANCE,r[hl.PUSH_MODE]=(s,o)=>new Gvt(s),r[hl.SKIP]=(s,o)=>zvt.INSTANCE,r[hl.TYPE]=(s,o)=>new qvt(s),this.actionFactories=r}if(e>this.actionFactories.length||this.actionFactories[e]===null)throw new Error("The specified lexer action type "+e+" is not valid.");return this.actionFactories[e](t,n)}},ze(_1,"ATNDeserializer"),ae(_1,"SERIALIZED_VERSION",4),_1),k4,vye=(k4=class extends A3{constructor(t,n=null,r=null,s=null,o=null,a=null){a=a??t.context,s=s??t.getCurrentToken(),r=r??t.getCurrentToken(),n=n??t.inputStream;super({message:"",recognizer:t,input:n,ctx:a});ae(this,"deadEndConfigs",null);ae(this,"startToken");this.deadEndConfigs=o,this.startToken=r,this.offendingToken=s}},ze(k4,"NoViableAltException"),k4),N4,Xvt=(N4=class{constructor(){ae(this,"cacheMap");this.cacheMap=new Oy}get(e,t){const n=this.cacheMap.get(e)??null;return n===null?null:n.get(t)??null}set(e,t,n){let r=this.cacheMap.get(e)??null;r===null&&(r=new Oy,this.cacheMap.set(e,r)),r.set(t,n)}},ze(N4,"DoubleDict"),N4),dl,al=(dl=class{static hasSLLConflictTerminatingPrediction(e,t){if(dl.allConfigsInRuleStopStates(t))return!0;if(e===dl.SLL&&t.hasSemanticContext){const r=new lf;for(let s of t.items)s=new ra({semanticContext:ls.NONE},s),r.add(s);t=r}const n=dl.getConflictingAltSubsets(t);return dl.hasConflictingAltSet(n)&&!dl.hasStateAssociatedWithOneAlt(t)}static hasConfigInRuleStopState(e){for(const t of e.items)if(t.state instanceof Bl)return!0;return!1}static allConfigsInRuleStopStates(e){for(const t of e.items)if(!(t.state instanceof Bl))return!1;return!0}static resolvesToJustOneViableAlt(e){return dl.getSingleViableAlt(e)}static allSubsetsConflict(e){return!dl.hasNonConflictingAltSet(e)}static hasNonConflictingAltSet(e){for(const t of e)if(t.length===1)return!0;return!1}static hasConflictingAltSet(e){for(const t of e)if(t.length>1)return!0;return!1}static allSubsetsEqual(e){let t=null;for(const n of e)if(t===null)t=n;else if(n!==t)return!1;return!0}static getUniqueAlt(e){const t=dl.getAlts(e);return t.length===1?t.nextSetBit(0):Js.INVALID_ALT_NUMBER}static getAlts(e){const t=new $g;return e.forEach(n=>{t.or(n)}),t}static getConflictingAltSubsets(e){const t=new Oy(n=>sp.hashStuff(n.state.stateNumber,n.context),(n,r)=>{var s;return n.state.stateNumber===r.state.stateNumber&&(((s=n.context)==null?void 0:s.equals(r.context))??!0)});return e.items.forEach(n=>{let r=t.get(n);r===null&&(r=new $g,t.set(n,r)),r.set(n.alt)}),t.getValues()}static getStateToAltMap(e){const t=new Oy;return e.items.forEach(n=>{let r=t.get(n.state);r||(r=new $g,t.set(n.state,r)),r.set(n.alt)}),t}static hasStateAssociatedWithOneAlt(e){const t={};return e.items.forEach(n=>{const r=n.state.stateNumber;t[r]||(t[r]=0),t[r]++}),Object.values(t).some(n=>n===1)}static getSingleViableAlt(e){let t=null;for(const n of e){const r=n.nextSetBit(0);if(t===null)t=r;else if(t!==r)return Js.INVALID_ALT_NUMBER}return t??0}},ze(dl,"PredictionMode"),ae(dl,"SLL",0),ae(dl,"LL",1),ae(dl,"LL_EXACT_AMBIG_DETECTION",2),dl),Nn,Uee=(Nn=class extends Ng{constructor(t,n,r,s){super(n,s);ae(this,"predictionMode");ae(this,"decisionToDFA");ae(this,"parser");ae(this,"mergeCache",null);ae(this,"_input",null);ae(this,"_startIndex",0);ae(this,"_outerContext",null);ae(this,"_dfa",null);this.parser=t,this.decisionToDFA=r}static getUniqueAlt(t){let n=Js.INVALID_ALT_NUMBER;for(const r of t.items)if(n===Js.INVALID_ALT_NUMBER)n=r.alt;else if(r.alt!==n)return Js.INVALID_ALT_NUMBER;return n}reset(){}clearDFA(){for(let t=0;t<this.decisionToDFA.length;t++)this.decisionToDFA[t]=new O3(this.atn.getDecisionState(t),t)}adaptivePredict(t,n,r){(Nn.debug||Nn.trace_atn_sim)&&console.log("adaptivePredict decision "+n+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=r;const s=this.decisionToDFA[n];this._dfa=s;const o=t.mark(),a=t.index;try{let u;if(s.precedenceDfa?u=s.getPrecedenceStartState(this.parser.getPrecedence()):u=s.s0,u===null){r===null&&(r=My.EMPTY),Nn.debug&&console.log("predictATN decision "+s.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+r.toString(this.parser.ruleNames));const h=!1;let f=this.computeStartState(s.atnStartState,My.EMPTY,h);s.precedenceDfa?(s.s0.configs=f,f=this.applyPrecedenceFilter(f),u=this.addDFAState(s,new sm(f)),s.setPrecedenceStartState(this.parser.getPrecedence(),u)):(u=this.addDFAState(s,new sm(f)),s.s0=u)}const c=this.execATN(s,u,t,a,r);return Nn.debug&&console.log("DFA after predictATN: "+s.toString(this.parser.vocabulary)),c}finally{this._dfa=null,this.mergeCache=null,t.seek(a),t.release(o)}}execATN(t,n,r,s,o){(Nn.debug||Nn.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+n+", LA(1)=="+this.getLookaheadName(r)+" line "+r.LT(1).line+":"+r.LT(1).column);let a,u=n;Nn.debug&&console.log("s0 = "+n);let c=r.LA(1);for(;;){let h=this.getExistingTargetState(u,c);if(h===null&&(h=this.computeTargetState(t,u,c)),h===Ng.ERROR){const f=this.noViableAlt(r,o,u.configs,s);if(r.seek(s),a=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(u.configs,o),a!==Js.INVALID_ALT_NUMBER)return a;throw f}if(h.requiresFullContext&&this.predictionMode!==al.SLL){let f=null;if(h.predicates!==null){Nn.debug&&console.log("DFA state has preds in DFA sim LL failover");const v=r.index;if(v!==s&&r.seek(s),f=this.evalSemanticContext(h.predicates,o,!0),f.length===1)return Nn.debug&&console.log("Full LL avoided"),f.nextSetBit(0);v!==s&&r.seek(v)}const p=!0,m=this.computeStartState(t.atnStartState,o,p);return this.reportAttemptingFullContext(t,f,h.configs,s,r.index),a=this.execATNWithFullContext(t,h,m,r,s,o),a}if(h.isAcceptState){if(h.predicates===null)return h.prediction;const f=r.index;r.seek(s);const p=this.evalSemanticContext(h.predicates,o,!0);if(p.length===0)throw this.noViableAlt(r,o,h.configs,s);return p.length===1||this.reportAmbiguity(t,h,s,f,!1,p,h.configs),p.nextSetBit(0)}u=h,c!==kt.EOF&&(r.consume(),c=r.LA(1))}}getExistingTargetState(t,n){const r=t.edges;return r===null?null:r[n+1]||null}computeTargetState(t,n,r){const s=this.computeReachSet(n.configs,r,!1);if(s===null)return this.addDFAEdge(t,n,r,Ng.ERROR),Ng.ERROR;let o=new sm(s);const a=Nn.getUniqueAlt(s);if(Nn.debug){const u=al.getConflictingAltSubsets(s);console.log("SLL altSubSets="+tC(u)+", configs="+s+", predict="+a+", allSubsetsConflict="+al.allSubsetsConflict(u)+", conflictingAlts="+this.getConflictingAlts(s))}return a!==Js.INVALID_ALT_NUMBER?(o.isAcceptState=!0,o.configs.uniqueAlt=a,o.prediction=a):al.hasSLLConflictTerminatingPrediction(this.predictionMode,s)&&(o.configs.conflictingAlts=this.getConflictingAlts(s),o.requiresFullContext=!0,o.isAcceptState=!0,o.prediction=o.configs.conflictingAlts.nextSetBit(0)),o.isAcceptState&&o.configs.hasSemanticContext&&(this.predicateDFAState(o,this.atn.getDecisionState(t.decision)),o.predicates!==null&&(o.prediction=Js.INVALID_ALT_NUMBER)),o=this.addDFAEdge(t,n,r,o),o}getRuleName(t){return this.parser!==null&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getTokenName(t){if(t===kt.EOF)return"EOF";const r=(this.parser!=null?this.parser.vocabulary:U1.EMPTY_VOCABULARY).getDisplayName(t);return r===t.toString()?r:r+"<"+t+">"}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const n=t.deadEndConfigs.items;for(const r of n){let s="no edges";if(r.state.transitions.length>0){const o=r.state.transitions[0];o instanceof E8?s="Atom "+this.getTokenName(o.labelValue):o instanceof Hee&&(s=(o instanceof $ee?"~":"")+"Set "+o.label)}console.error(r.toString(this.parser,!0)+":"+s)}}predicateDFAState(t,n){const r=n.transitions.length,s=this.getConflictingAltsOrUniqueAlt(t.configs),o=this.getPredsForAmbigAlts(s,t.configs,r);o!==null?(t.predicates=this.getPredicatePredictions(s,o),t.prediction=Js.INVALID_ALT_NUMBER):t.prediction=s.nextSetBit(0)}execATNWithFullContext(t,n,r,s,o,a){(Nn.debug||Nn.trace_atn_sim)&&console.log("execATNWithFullContext "+r);const u=!0;let c=!1,h,f=r;s.seek(o);let p=s.LA(1),m=-1;for(;;){if(h=this.computeReachSet(f,p,u),h===null){const b=this.noViableAlt(s,a,f,o);s.seek(o);const S=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(f,a);if(S!==Js.INVALID_ALT_NUMBER)return S;throw b}const v=al.getConflictingAltSubsets(h);if(Nn.debug&&console.log("LL altSubSets="+v+", predict="+al.getUniqueAlt(v)+", resolvesToJustOneViableAlt="+al.resolvesToJustOneViableAlt(v)),h.uniqueAlt=Nn.getUniqueAlt(h),h.uniqueAlt!==Js.INVALID_ALT_NUMBER){m=h.uniqueAlt;break}else if(this.predictionMode!==al.LL_EXACT_AMBIG_DETECTION){if(m=al.resolvesToJustOneViableAlt(v),m!==Js.INVALID_ALT_NUMBER)break}else if(al.allSubsetsConflict(v)&&al.allSubsetsEqual(v)){c=!0,m=al.getSingleViableAlt(v);break}f=h,p!==kt.EOF&&(s.consume(),p=s.LA(1))}return h.uniqueAlt!==Js.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,m,h,o,s.index),m):(this.reportAmbiguity(t,n,o,s.index,c,null,h),m)}computeReachSet(t,n,r){Nn.debug&&console.log("in computeReachSet, starting closure: "+t),this.mergeCache===null&&(this.mergeCache=new Xvt);const s=new lf(r);let o=null;for(const u of t.items){if(Nn.debug&&console.log("testing "+this.getTokenName(n)+" at "+u),u.state instanceof Bl){(r||n===kt.EOF)&&(o===null&&(o=[]),o.push(u));continue}for(const c of u.state.transitions){const h=this.getReachableTarget(c,n);if(h!==null){const f=new ra({state:h},u);s.add(f,this.mergeCache)}}}let a=null;if(o===null&&n!==kt.EOF&&(s.items.length===1||Nn.getUniqueAlt(s)!==Js.INVALID_ALT_NUMBER)&&(a=s),a===null){a=new lf(r);const u=new Sd,c=n===kt.EOF;for(const h of s.items)this.closure(h,a,u,!1,r,c)}if(n===kt.EOF&&(a=this.removeAllConfigsNotInRuleStopState(a,a===s)),o!==null&&(!r||!al.hasConfigInRuleStopState(a)))for(const u of o)a.add(u,this.mergeCache);return a.items.length===0?null:a}removeAllConfigsNotInRuleStopState(t,n){if(al.allConfigsInRuleStopStates(t))return t;const r=new lf(t.fullCtx);for(const s of t.items){if(s.state instanceof Bl){r.add(s,this.mergeCache);continue}if(n&&s.state.epsilonOnlyTransitions&&this.atn.nextTokens(s.state).contains(kt.EPSILON)){const a=this.atn.ruleToStopState[s.state.ruleIndex];r.add(new ra({state:a},s),this.mergeCache)}}return r}computeStartState(t,n,r){const s=Wee(this.atn,n),o=new lf(r);for(let a=0;a<t.transitions.length;a++){const u=t.transitions[a].target,c=new ra({state:u,alt:a+1,context:s},null),h=new Sd;this.closure(c,o,h,!0,r,!1)}return o}applyPrecedenceFilter(t){const n=[],r=new lf(t.fullCtx);for(const s of t.items){if(s.alt!==1)continue;const o=s.semanticContext.evalPrecedence(this.parser,this._outerContext);o!==null&&(n[s.state.stateNumber]=s.context,o!==s.semanticContext?r.add(new ra({semanticContext:o},s),this.mergeCache):r.add(s,this.mergeCache))}for(const s of t.items)if(s.alt!==1){if(!s.precedenceFilterSuppressed){const o=n[s.state.stateNumber]||null;if(o!==null&&o.equals(s.context))continue}r.add(s,this.mergeCache)}return r}getReachableTarget(t,n){return t.matches(n,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,n,r){let s=[];for(const a of n.items)t.get(a.alt)&&(s[a.alt]=ls.orContext(s[a.alt]??null,a.semanticContext));let o=0;for(let a=1;a<r+1;a++){const u=s[a]??null;u===null?s[a]=ls.NONE:u!==ls.NONE&&(o+=1)}return o===0&&(s=null),Nn.debug&&console.log("getPredsForAmbigAlts result "+tC(s)),s}getPredicatePredictions(t,n){const r=[];let s=!1;for(let o=1;o<n.length;o++){const a=n[o];t!==null&&t.get(o)&&r.push(new sm.PredPrediction(a,o)),a!==ls.NONE&&(s=!0)}return s?r:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,n){const r=this.splitAccordingToSemanticValidity(t,n),s=r[0],o=r[1];let a=this.getAltThatFinishedDecisionEntryRule(s);return a!==Js.INVALID_ALT_NUMBER||o.items.length>0&&(a=this.getAltThatFinishedDecisionEntryRule(o),a!==Js.INVALID_ALT_NUMBER)?a:Js.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const n=[];for(const r of t.items)(r.reachesIntoOuterContext>0||r.state instanceof Bl&&r.context.hasEmptyPath())&&n.indexOf(r.alt)<0&&n.push(r.alt);return n.length===0?Js.INVALID_ALT_NUMBER:Math.min(...n)}splitAccordingToSemanticValidity(t,n){const r=new lf(t.fullCtx),s=new lf(t.fullCtx);for(const o of t.items)o.semanticContext!==ls.NONE?o.semanticContext.evaluate(this.parser,n)?r.add(o):s.add(o):r.add(o);return[r,s]}evalSemanticContext(t,n,r){const s=new $g;for(const o of t){if(o.pred===ls.NONE){if(s.set(o.alt),!r)break;continue}const a=o.pred.evaluate(this.parser,n);if((Nn.debug||Nn.dfa_debug)&&console.log("eval pred "+o+"="+a),a&&((Nn.debug||Nn.dfa_debug)&&console.log("PREDICT "+o.alt),s.set(o.alt),!r))break}return s}closure(t,n,r,s,o,a){this.closureCheckingStopState(t,n,r,s,o,0,a)}closureCheckingStopState(t,n,r,s,o,a,u){if(t.state instanceof Bl)if(t.context&&!t.context.isEmpty()){for(let c=0;c<t.context.length;c++){if(t.context.getReturnState(c)===kr.EMPTY_RETURN_STATE){if(o){n.add(new ra({state:t.state,context:kr.EMPTY},t),this.mergeCache);continue}else Nn.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,n,r,s,o,a,u);continue}const h=this.atn.states[t.context.getReturnState(c)],f=t.context.getParent(c),p={state:h,alt:t.alt,context:f,semanticContext:t.semanticContext},m=new ra(p,null);m.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(m,n,r,s,o,a-1,u)}return}else if(o){n.add(t,this.mergeCache);return}else Nn.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex));this.closure_(t,n,r,s,o,a,u)}closure_(t,n,r,s,o,a,u){var h;const c=t.state;c.epsilonOnlyTransitions||n.add(t,this.mergeCache);for(let f=0;f<c.transitions.length;f++){if(f===0&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const p=c.transitions[f],m=s&&!(p instanceof uye),v=this.getEpsilonTarget(t,p,m,a===0,o,u);if(v!==null){let b=a;if(t.state instanceof Bl){if(this._dfa!==null&&this._dfa.precedenceDfa&&p.outermostPrecedenceReturn===((h=this._dfa.atnStartState)==null?void 0:h.ruleIndex)&&(v.precedenceFilterSuppressed=!0),v.reachesIntoOuterContext+=1,r.add(v)!==v)continue;n.dipsIntoOuterContext=!0,b-=1,Nn.debug&&console.log("dips into outer ctx: "+v)}else{if(!p.isEpsilon&&r.add(v)!==v)continue;p instanceof C9&&b>=0&&(b+=1)}this.closureCheckingStopState(v,n,r,m,o,b,u)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const n=t.state;if(n.stateType!==Zi.STAR_LOOP_ENTRY||!t.context||!n.precedenceRuleDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const r=t.context.length;for(let u=0;u<r;u++)if(this.atn.states[t.context.getReturnState(u)].ruleIndex!==n.ruleIndex)return!1;const o=n.transitions[0].target.endState.stateNumber,a=this.atn.states[o];for(let u=0;u<r;u++){const c=t.context.getReturnState(u),h=this.atn.states[c];if(h.transitions.length!==1||!h.transitions[0].isEpsilon)return!1;const f=h.transitions[0].target;if(!(h.stateType===Zi.BLOCK_END&&f===n)&&h!==a&&f!==a&&!(f.stateType===Zi.BLOCK_END&&f.transitions.length===1&&f.transitions[0].isEpsilon&&f.transitions[0].target===n))return!1}return!0}getEpsilonTarget(t,n,r,s,o,a){switch(n.serializationType){case ii.RULE:return this.ruleTransition(t,n);case ii.PRECEDENCE:return this.precedenceTransition(t,n,r,s,o);case ii.PREDICATE:return this.predTransition(t,n,r,s,o);case ii.ACTION:return this.actionTransition(t,n);case ii.EPSILON:return new ra({state:n.target},t);case ii.ATOM:case ii.RANGE:case ii.SET:return a&&n.matches(kt.EOF,0,1)?new ra({state:n.target},t):null;default:return null}}actionTransition(t,n){if(Nn.debug){const r=n.actionIndex===-1?65535:n.actionIndex;console.log("ACTION edge "+n.ruleIndex+":"+r)}return new ra({state:n.target},t)}precedenceTransition(t,n,r,s,o){Nn.debug&&(console.log("PRED (collectPredicates="+r+") "+n.precedence+">=_p, ctx dependent=true"),this.parser!==null&&console.log("context surrounding pred is "+tC(this.parser.getRuleInvocationStack())));let a=null;if(r&&s)if(o&&this._input){const u=this._input.index;this._input.seek(this._startIndex);const c=n.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(u),c&&(a=new ra({state:n.target},t))}else{const u=ls.andContext(t.semanticContext,n.getPredicate());a=new ra({state:n.target,semanticContext:u},t)}else a=new ra({state:n.target},t);return Nn.debug&&console.log("config from pred transition="+a),a}predTransition(t,n,r,s,o){Nn.debug&&(console.log("PRED (collectPredicates="+r+") "+n.ruleIndex+":"+n.predIndex+", ctx dependent="+n.isCtxDependent),this.parser!==null&&console.log("context surrounding pred is "+tC(this.parser.getRuleInvocationStack())));let a=null;if(r&&(n.isCtxDependent&&s||!n.isCtxDependent))if(o&&this._input){const u=this._input.index;this._input.seek(this._startIndex);const c=n.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(u),c&&(a=new ra({state:n.target},t))}else{const u=ls.andContext(t.semanticContext,n.getPredicate());a=new ra({state:n.target,semanticContext:u},t)}else a=new ra({state:n.target},t);return Nn.debug&&console.log("config from pred transition="+a),a}ruleTransition(t,n){Nn.debug&&console.log("CALL rule "+this.getRuleName(n.target.ruleIndex)+", ctx="+t.context);const r=n.followState,s=xd.create(t.context,r.stateNumber);return new ra({state:n.target,context:s},t)}getConflictingAlts(t){const n=al.getConflictingAltSubsets(t);return al.getAlts(n)}getConflictingAltsOrUniqueAlt(t){let n;return t.uniqueAlt!==Js.INVALID_ALT_NUMBER?(n=new $g,n.set(t.uniqueAlt)):n=t.conflictingAlts,n}noViableAlt(t,n,r,s){return new vye(this.parser,t,t.get(s),t.LT(1),r,n)}addDFAEdge(t,n,r,s){return Nn.debug&&console.log("EDGE "+n+" -> "+s+" upon "+this.getTokenName(r)),s===null?null:(s=this.addDFAState(t,s),n===null||r<-1||r>this.atn.maxTokenType||(n.edges===null&&(n.edges=new Array(this.atn.maxTokenType+2),n.edges.fill(null)),n.edges[r+1]=s,Nn.debug&&console.log(`DFA=
`+t.toString(this.parser!=null?this.parser.vocabulary:U1.EMPTY_VOCABULARY))),s)}addDFAState(t,n){if(n===Ng.ERROR)return n;const r=t.states.get(n);return r!==null?r:(n.stateNumber=t.states.length,n.configs.readOnly||(n.configs.optimizeConfigs(this),n.configs.setReadonly(!0)),t.states.add(n),Nn.debug&&console.log("adding new DFA state: "+n),n)}reportAttemptingFullContext(t,n,r,s,o){if(Nn.debug||Nn.retry_debug){const a=new Tr(s,o+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+r+", input="+this.parser.tokenStream.getText(a))}this.parser!==null&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,s,o,n,r)}reportContextSensitivity(t,n,r,s,o){if(Nn.debug||Nn.retry_debug){const a=new Tr(s,o+1);console.log("reportContextSensitivity decision="+t.decision+":"+r+", input="+this.parser.tokenStream.getText(a))}this.parser!==null&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,s,o,n,r)}reportAmbiguity(t,n,r,s,o,a,u){if(Nn.debug||Nn.retry_debug){const c=new Tr(r,s+1);console.log("reportAmbiguity "+a+":"+u+", input="+this.parser.tokenStream.getText(c))}this.parser!==null&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,r,s,o,a,u)}},ze(Nn,"ParserATNSimulator"),ae(Nn,"debug"),ae(Nn,"trace_atn_sim",!1),ae(Nn,"debug_add",!1),ae(Nn,"debug_closure",!1),ae(Nn,"dfa_debug",!1),ae(Nn,"retry_debug",!1),Nn),A4,jee=(A4=class{constructor(){ae(this,"cache",new Oy)}add(e){if(e===kr.EMPTY)return kr.EMPTY;const t=this.cache.get(e)||null;return t!==null?t:(this.cache.set(e,e),e)}get(e){return this.cache.get(e)||null}get length(){return this.cache.length}},ze(A4,"PredictionContextCache"),A4),O4,M3=(O4=class{constructor(e,t,n,r,s,o){ae(this,"decision");ae(this,"configs");ae(this,"input");ae(this,"startIndex");ae(this,"stopIndex");ae(this,"fullCtx");this.decision=e,this.configs=t,this.input=n,this.startIndex=r,this.stopIndex=s,this.fullCtx=o}},ze(O4,"DecisionEventInfo"),O4),M4,Qvt=(M4=class extends M3{constructor(t,n,r,s,o,a,u){super(t,n,s,o,a,u);ae(this,"ambigAlts");this.ambigAlts=r}},ze(M4,"AmbiguityInfo"),M4),R4,pue=(R4=class extends M3{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}},ze(R4,"ContextSensitivityInfo"),R4),P4,Jvt=(P4=class{constructor(e){ae(this,"decision",0);ae(this,"invocations",0);ae(this,"timeInPrediction",0);ae(this,"SLL_TotalLook",0);ae(this,"SLL_MinLook",0);ae(this,"SLL_MaxLook",0);ae(this,"SLL_MaxLookEvent");ae(this,"LL_TotalLook",0);ae(this,"LL_MinLook",0);ae(this,"LL_MaxLook",0);ae(this,"LL_MaxLookEvent");ae(this,"contextSensitivities");ae(this,"errors");ae(this,"ambiguities");ae(this,"predicateEvals");ae(this,"SLL_ATNTransitions",0);ae(this,"SLL_DFATransitions",0);ae(this,"LL_Fallback",0);ae(this,"LL_ATNTransitions",0);ae(this,"LL_DFATransitions",0);this.decision=e,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[]}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}},ze(P4,"DecisionInfo"),P4),F4,jz=(F4=class extends M3{constructor(e,t,n,r,s,o){super(e,t,n,r,s,o)}},ze(F4,"ErrorInfo"),F4),B4,mue=(B4=class extends M3{constructor(t,n,r,s,o,a,u){super(t,n,s,o,a,u);ae(this,"predictedAlt");this.predictedAlt=r}},ze(B4,"LookaheadEventInfo"),B4),jp,Kp,W4,Kz=(W4=class extends Uee{constructor(t){const n=t.interpreter.getSharedContextCache();super(t,t.interpreter.atn,t.interpreter.decisionToDFA,n);ae(this,"decisions");ae(this,"numDecisions",0);ae(this,"currentDecision",0);ae(this,"currentState");ae(this,"conflictingAltResolvedBySLL");es(this,jp,0);es(this,Kp,0);if(n){this.numDecisions=this.atn.decisionToState.length,this.decisions=new Array(this.numDecisions);for(let r=0;r<this.numDecisions;r++)this.decisions[r]=new Jvt(r)}}adaptivePredict(t,n,r){try{Pr(this,jp,-1),Pr(this,Kp,-1),this.currentDecision=n;const s=performance.now(),o=super.adaptivePredict(t,n,r),a=performance.now();this.decisions[n].timeInPrediction+=a-s,this.decisions[n].invocations++;const u=Bn(this,jp)-this._startIndex+1;if(this.decisions[n].SLL_TotalLook+=u,this.decisions[n].SLL_MinLook=this.decisions[n].SLL_MinLook===0?u:Math.min(this.decisions[n].SLL_MinLook,u),u>this.decisions[n].SLL_MaxLook&&(this.decisions[n].SLL_MaxLook=u,this.decisions[n].SLL_MaxLookEvent=new mue(n,null,o,t,this._startIndex,Bn(this,jp),!1)),Bn(this,Kp)>=0){const c=Bn(this,Kp)-this._startIndex+1;this.decisions[n].LL_TotalLook+=c,this.decisions[n].LL_MinLook=this.decisions[n].LL_MinLook===0?c:Math.min(this.decisions[n].LL_MinLook,c),c>this.decisions[n].LL_MaxLook&&(this.decisions[n].LL_MaxLook=c,this.decisions[n].LL_MaxLookEvent=new mue(n,null,o,t,this._startIndex,Bn(this,Kp),!0))}return o}finally{this.currentDecision=-1}}getExistingTargetState(t,n){if(this._input){Pr(this,jp,this._input.index);const r=super.getExistingTargetState(t,n);return r!==null&&(this.decisions[this.currentDecision].SLL_DFATransitions++,r===Ng.ERROR&&this.decisions[this.currentDecision].errors.push(new jz(this.currentDecision,t.configs,this._input,this._startIndex,Bn(this,jp),!1))),this.currentState=r,r}return null}computeTargetState(t,n,r){const s=super.computeTargetState(t,n,r);return this.currentState=s,s}computeReachSet(t,n,r){r&&this._input&&Pr(this,Kp,this._input.index);const s=super.computeReachSet(t,n,r);return this._input&&(r?(this.decisions[this.currentDecision].LL_ATNTransitions++,s===null&&this.decisions[this.currentDecision].errors.push(new jz(this.currentDecision,t,this._input,this._startIndex,Bn(this,Kp),!0))):(this.decisions[this.currentDecision].SLL_ATNTransitions++,s===null&&this.decisions[this.currentDecision].errors.push(new jz(this.currentDecision,t,this._input,this._startIndex,Bn(this,jp),!1)))),s}reportAttemptingFullContext(t,n,r,s,o){n!==null?this.conflictingAltResolvedBySLL=n.nextSetBit(0):this.conflictingAltResolvedBySLL=r.getAlts().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,n&&super.reportAttemptingFullContext(t,n,r,s,o)}reportContextSensitivity(t,n,r,s,o){n!==this.conflictingAltResolvedBySLL&&this._input&&this.decisions[this.currentDecision].contextSensitivities.push(new pue(this.currentDecision,r,this._input,s,o)),super.reportContextSensitivity(t,n,r,s,o)}reportAmbiguity(t,n,r,s,o,a,u){let c;a!==null?c=a.nextSetBit(0):c=u.getAlts().nextSetBit(0),this._input&&(u.fullCtx&&c!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new pue(this.currentDecision,u,this._input,r,s)),this.decisions[this.currentDecision].ambiguities.push(new Qvt(this.currentDecision,u,a,this._input,r,s,u.fullCtx))),super.reportAmbiguity(t,n,r,s,o,a,u)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}},jp=new WeakMap,Kp=new WeakMap,ze(W4,"ProfilingATNSimulator"),W4),V4;V4=class{constructor(e){ae(this,"atnSimulator");this.atnSimulator=e}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){const e=this.atnSimulator.getDecisionInfo(),t=[];for(let n=0;n<e.length;n++)e[n].LL_Fallback>0&&t.push(n);return t}getTotalTimeInPrediction(){const e=this.atnSimulator.getDecisionInfo();let t=0;for(let n=0;n<e.length;n++)t+=e[n].timeInPrediction;return t}getTotalSLLLookaheadOps(){const e=this.atnSimulator.getDecisionInfo();let t=0;for(let n=0;n<e.length;n++)t+=e[n].SLL_TotalLook;return t}getTotalLLLookaheadOps(){const e=this.atnSimulator.getDecisionInfo();let t=0;for(let n=0;n<e.length;n++)t+=e[n].LL_TotalLook;return t}getTotalSLLATNLookaheadOps(){const e=this.atnSimulator.getDecisionInfo();let t=0;for(let n=0;n<e.length;n++)t+=e[n].SLL_ATNTransitions;return t}getTotalLLATNLookaheadOps(){const e=this.atnSimulator.getDecisionInfo();let t=0;for(let n=0;n<e.length;n++)t+=e[n].LL_ATNTransitions;return t}getTotalATNLookaheadOps(){const e=this.atnSimulator.getDecisionInfo();let t=0;for(let n=0;n<e.length;n++)t+=e[n].SLL_ATNTransitions,t+=e[n].LL_ATNTransitions;return t}getDFASize(e){return this.atnSimulator.decisionToDFA[e].states.length}},ze(V4,"ParseInfo");var H4;H4=class extends M3{constructor(t,n,r,s,o,a,u,c){super(t,new lf,n,r,s,c);ae(this,"semctx");ae(this,"predictedAlt");ae(this,"evalResult");this.semctx=o,this.evalResult=a,this.predictedAlt=u}},ze(H4,"PredicateEvalInfo");var mE,_ue=(mE=class extends Error{constructor(e){super(),Error.captureStackTrace(this,mE)}},ze(mE,"ParseCancellationException"),mE),$4;$4=class{static parseInterpreterData(e){const t=[],n=[],r=[],s=[],o=[],a=e.split(`
`);let u=0,c=a[u++];if(c!=="token literal names:")throw new Error("Unexpected data entry");do{if(c=a[u++],c.length===0)break;s.push(c==="null"?null:c)}while(!0);if(c=a[u++],c!=="token symbolic names:")throw new Error("Unexpected data entry");do{if(c=a[u++],c.length===0)break;o.push(c==="null"?null:c)}while(!0);if(c=a[u++],c!=="rule names:")throw new Error("Unexpected data entry");do{if(c=a[u++],c.length===0)break;t.push(c)}while(!0);if(c=a[u++],c==="channel names:"){do{if(c=a[u++],c.length===0)break;n.push(c)}while(!0);if(c=a[u++],c!=="mode names:")throw new Error("Unexpected data entry");do{if(c=a[u++],c.length===0)break;r.push(c)}while(!0)}if(c=a[u++],c!=="atn:")throw new Error("Unexpected data entry");c=a[u++];const h=c.split(",");let f;const p=[];for(let v=0;v<h.length;++v){const b=h[v];b.startsWith("[")?f=Number(b.substring(1).trim()):b.endsWith("]")?f=Number(b.substring(0,b.length-1).trim()):f=Number(b.trim()),p[v]=f}return{atn:new zee().deserialize(p),vocabulary:new U1(s,o,[]),ruleNames:t,channels:n.length>0?n:void 0,modes:r.length>0?r:void 0}}},ze($4,"InterpreterDataReader");var z4;z4=class{visit(e){return e.accept(this)}visitChildren(e){let t=this.defaultResult();const n=e.getChildCount();for(let r=0;r<n&&this.shouldVisitNextChild(e,t);r++){const s=e.getChild(r);if(s){const o=s.accept(this);t=this.aggregateResult(t,o)}}return t}visitTerminal(e){return this.defaultResult()}visitErrorNode(e){return this.defaultResult()}defaultResult(){return null}shouldVisitNextChild(e,t){return!0}aggregateResult(e,t){return t}},ze(z4,"AbstractParseTreeVisitor");var AC;AC=class{walk(e,t){if(t instanceof WR)e.visitErrorNode(t);else if(t instanceof vm)e.visitTerminal(t);else{const r=t;this.enterRule(e,r);for(let s=0;s<t.getChildCount();s++)this.walk(e,t.getChild(s));this.exitRule(e,r)}}enterRule(e,t){const n=t.ruleContext;e.enterEveryRule(n),n.enterRule(e)}exitRule(e,t){const n=t.ruleContext;n.exitRule(e),e.exitEveryRule(n)}},ze(AC,"ParseTreeWalker"),ae(AC,"DEFAULT",new AC);var U4,RY,j4,e0t=(j4=class{constructor(e){es(this,U4);ae(this,"name","");ae(this,"index",0);ae(this,"data");const t=[];for(const n of e)t.push(n.codePointAt(0));this.data=new Uint32Array(t)}reset(){this.index=0}consume(){if(this.index>=this.data.length)throw new Error("cannot consume EOF");this.index+=1}LA(e){if(e===0)return 0;e<0&&(e+=1);const t=this.index+e-1;return t<0||t>=this.data.length?kt.EOF:this.data[t]}mark(){return-1}release(e){}seek(e){if(e<=this.index){this.index=e;return}this.index=Math.min(e,this.data.length)}getText(e,t){let n,r;return e instanceof Tr?(n=e.start,r=e.stop):(n=e,r=t??this.data.length-1),r>=this.data.length&&(r=this.data.length-1),n>=this.data.length?"":xV(this,U4,RY).call(this,n,r+1)}toString(){return xV(this,U4,RY).call(this,0)}get size(){return this.data.length}getSourceName(){return this.name?this.name:v9.UNKNOWN_SOURCE_NAME}},U4=new WeakSet,RY=function(e,t){const n=this.data.slice(e,t);let r="";return n.forEach(s=>{r+=String.fromCodePoint(s)}),r},ze(j4,"CharStreamImpl"),j4),K4,t0t=(K4=class{static fromString(e){return new e0t(e)}},ze(K4,"CharStreams"),K4),q4,n0t=(q4=class{constructor(e){ae(this,"tokenSource");ae(this,"tokens",[]);ae(this,"p",-1);ae(this,"fetchedEOF",!1);this.tokenSource=e}mark(){return 0}release(e){}reset(){this.seek(0)}seek(e){this.lazyInit(),this.p=this.adjustSeekIndex(e)}get size(){return this.tokens.length}get index(){return this.p}get(e){return this.lazyInit(),this.tokens[e]}consume(){let e=!1;if(this.p>=0?this.fetchedEOF?e=this.p<this.tokens.length-1:e=this.p<this.tokens.length:e=!1,!e&&this.LA(1)===kt.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(e){const t=e-this.tokens.length+1;return t>0?this.fetch(t)>=t:!0}fetch(e){if(this.fetchedEOF)return 0;for(let t=0;t<e;t++){const n=this.tokenSource.nextToken();if(n.tokenIndex=this.tokens.length,this.tokens.push(n),n.type===kt.EOF)return this.fetchedEOF=!0,t+1}return e}getTokens(e,t,n){if(this.lazyInit(),e===void 0&&t===void 0)return this.tokens;if(e??(e=0),t===void 0&&(t=this.tokens.length-1),e<0||t>=this.tokens.length||t<0||e>=this.tokens.length)throw new RangeError("start "+e+" or stop "+t+" not in 0.."+(this.tokens.length-1));if(e>t)return[];if(n===void 0)return this.tokens.slice(e,t+1);const r=[];t>=this.tokens.length&&(t=this.tokens.length-1);for(let s=e;s<t;s++){const o=this.tokens[s];if(o.type===kt.EOF){r.push(o);break}n.has(o.type)&&r.push(o)}return r}LA(e){return this.LT(e).type}LB(e){return this.p-e<0?null:this.tokens[this.p-e]}LT(e){if(this.lazyInit(),e===0)return null;if(e<0)return this.LB(-e);const t=this.p+e-1;return this.sync(t),t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]}adjustSeekIndex(e){return e}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}setTokenSource(e){this.tokenSource=e,this.tokens=[],this.p=-1,this.fetchedEOF=!1}getTokenSource(){return this.tokenSource}nextTokenOnChannel(e,t){if(this.sync(e),e>=this.tokens.length)return-1;let n=this.tokens[e];for(;n.channel!==t;){if(n.type===kt.EOF)return-1;e+=1,this.sync(e),n=this.tokens[e]}return e}previousTokenOnChannel(e,t){for(;e>=0&&this.tokens[e].channel!==t;)e-=1;return e}getHiddenTokensToRight(e,t){if(t===void 0&&(t=-1),this.lazyInit(),e<0||e>=this.tokens.length)throw new Error(`${e} not in 0..${this.tokens.length-1}`);const n=this.nextTokenOnChannel(e+1,Sf.DEFAULT_TOKEN_CHANNEL),r=e+1,s=n===-1?this.tokens.length-1:n;return this.filterForChannel(r,s,t)}getHiddenTokensToLeft(e,t){if(t===void 0&&(t=-1),this.lazyInit(),e<0||e>=this.tokens.length)throw new Error(`${e} not in 0..${this.tokens.length-1}`);const n=this.previousTokenOnChannel(e-1,Sf.DEFAULT_TOKEN_CHANNEL);if(n===e-1)return null;const r=n+1,s=e-1;return this.filterForChannel(r,s,t)}filterForChannel(e,t,n){const r=[];for(let s=e;s<t+1;s++){const o=this.tokens[s];n===-1?o.channel!==Sf.DEFAULT_TOKEN_CHANNEL&&r.push(o):o.channel===n&&r.push(o)}return r.length===0?null:r}getSourceName(){return this.tokenSource.sourceName}getText(...e){switch(e.length){case 0:return this.getText(Tr.of(0,this.size-1));case 1:if(e[0]instanceof Tr){const t=e[0],n=t.start;let r=t.stop;if(n<0||r<0)return"";this.sync(r),r>=this.tokens.length&&(r=this.tokens.length-1);let s="";for(let o=n;o<=r;o++){const a=this.tokens[o];if(a.type===kt.EOF)break;s+=a.text}return s.toString()}else{const t=e[0];return this.getText(t.getSourceInterval())}case 2:{const t=e[0],n=e[1];return t!==null&&n!==null?this.getText(Tr.of(t.tokenIndex,n.tokenIndex)):""}default:throw new Error("Invalid number of arguments")}}fill(){for(this.lazyInit();this.fetch(1e3)===1e3;);}},ze(q4,"BufferedTokenStream"),q4),G4,i0t=(G4=class extends n0t{constructor(t,n){super(t);ae(this,"channel",kt.DEFAULT_CHANNEL);this.channel=n??kt.DEFAULT_CHANNEL}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(t===0||this.index-t<0)return null;let n=this.index,r=1;for(;r<=t;)n=this.previousTokenOnChannel(n-1,this.channel),r+=1;return n<0?null:this.tokens[n]}LT(t){if(this.lazyInit(),t===0)return null;if(t<0)return this.LB(-t);let n=this.index,r=1;for(;r<t;)this.sync(n+1)&&(n=this.nextTokenOnChannel(n+1,this.channel)),r+=1;return this.tokens[n]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(const n of this.tokens)if(n.channel===this.channel&&(t+=1),n.type===kt.EOF)break;return t}},ze(G4,"CommonTokenStream"),G4),Pi,qh=(Pi=class extends Sf{constructor(e){super(e),this.interpreter=new rE(this,Pi._ATN,Pi.decisionsToDFA,new jee)}get grammarFileName(){return"XPathLexer.g4"}get literalNames(){return Pi.literalNames}get symbolicNames(){return Pi.symbolicNames}get ruleNames(){return Pi.ruleNames}get serializedATN(){return Pi._serializedATN}get channelNames(){return Pi.channelNames}get modeNames(){return Pi.modeNames}action(e,t,n){switch(t){case 4:this.ID_action(e,n);break}}ID_action(e,t){switch(t){case 0:const n=this.text;n.charAt(0)===n.charAt(0).toUpperCase()?this.type=Pi.TOKEN_REF:this.type=Pi.RULE_REF;break}}static get _ATN(){return Pi.__ATN||(Pi.__ATN=new zee().deserialize(Pi._serializedATN)),Pi.__ATN}get vocabulary(){return Pi.vocabulary}},ze(Pi,"XPathLexer"),ae(Pi,"TOKEN_REF",1),ae(Pi,"RULE_REF",2),ae(Pi,"ANYWHERE",3),ae(Pi,"ROOT",4),ae(Pi,"WILDCARD",5),ae(Pi,"BANG",6),ae(Pi,"ID",7),ae(Pi,"STRING",8),ae(Pi,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),ae(Pi,"literalNames",[null,null,null,"'//'","'/'","'*'","'!'"]),ae(Pi,"symbolicNames",[null,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"]),ae(Pi,"modeNames",["DEFAULT_MODE"]),ae(Pi,"ruleNames",["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"]),ae(Pi,"_serializedATN",[4,0,8,48,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,1,0,1,0,1,0,1,1,1,1,1,2,1,2,1,3,1,3,1,4,1,4,5,4,29,8,4,10,4,12,4,32,9,4,1,4,1,4,1,5,1,5,1,6,1,6,1,7,1,7,5,7,42,8,7,10,7,12,7,45,9,7,1,7,1,7,1,43,0,8,1,3,3,4,5,5,7,6,9,7,11,0,13,0,15,8,1,0,2,784,0,0,8,14,27,48,57,65,90,95,95,97,122,127,159,170,170,173,173,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,895,895,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1327,1329,1366,1369,1369,1376,1416,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1519,1522,1536,1541,1552,1562,1564,1564,1568,1641,1646,1747,1749,1757,1759,1768,1770,1788,1791,1791,1807,1866,1869,1969,1984,2037,2042,2042,2045,2045,2048,2093,2112,2139,2144,2154,2160,2183,2185,2190,2192,2193,2200,2403,2406,2415,2417,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2556,2556,2558,2558,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2809,2815,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2901,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3072,3084,3086,3088,3090,3112,3114,3129,3132,3140,3142,3144,3146,3149,3157,3158,3160,3162,3165,3165,3168,3171,3174,3183,3200,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3293,3294,3296,3299,3302,3311,3313,3315,3328,3340,3342,3344,3346,3396,3398,3400,3402,3406,3412,3415,3423,3427,3430,3439,3450,3455,3457,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3558,3567,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3718,3722,3724,3747,3749,3749,3751,3773,3776,3780,3782,3782,3784,3790,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5109,5112,5117,5121,5740,5743,5759,5761,5786,5792,5866,5870,5880,5888,5909,5919,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6169,6176,6264,6272,6314,6320,6389,6400,6430,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6832,6845,6847,6862,6912,6988,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7296,7304,7312,7354,7357,7359,7376,7378,7380,7418,7424,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8203,8207,8234,8238,8255,8256,8276,8276,8288,8292,8294,8303,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12591,12593,12686,12704,12735,12784,12799,13312,19903,19968,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42737,42775,42783,42786,42888,42891,42954,42960,42961,42963,42963,42965,42969,42994,43047,43052,43052,43072,43123,43136,43205,43216,43225,43232,43255,43259,43259,43261,43309,43312,43347,43360,43388,43392,43456,43471,43481,43488,43518,43520,43574,43584,43597,43600,43609,43616,43638,43642,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43824,43866,43868,43881,43888,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65071,65075,65076,65101,65103,65136,65140,65142,65276,65279,65279,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65529,65531,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66045,66045,66176,66204,66208,66256,66272,66272,66304,66335,66349,66378,66384,66426,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,66720,66729,66736,66771,66776,66811,66816,66855,66864,66915,66928,66938,66940,66954,66956,66962,66964,66965,66967,66977,66979,66993,66995,67001,67003,67004,67072,67382,67392,67413,67424,67431,67456,67461,67463,67504,67506,67514,67584,67589,67592,67592,67594,67637,67639,67640,67644,67644,67647,67669,67680,67702,67712,67742,67808,67826,67828,67829,67840,67861,67872,67897,67968,68023,68030,68031,68096,68099,68101,68102,68108,68115,68117,68119,68121,68149,68152,68154,68159,68159,68192,68220,68224,68252,68288,68295,68297,68326,68352,68405,68416,68437,68448,68466,68480,68497,68608,68680,68736,68786,68800,68850,68864,68903,68912,68921,69248,69289,69291,69292,69296,69297,69373,69404,69415,69415,69424,69456,69488,69509,69552,69572,69600,69622,69632,69702,69734,69749,69759,69818,69821,69821,69826,69826,69837,69837,69840,69864,69872,69881,69888,69940,69942,69951,69956,69959,69968,70003,70006,70006,70016,70084,70089,70092,70094,70106,70108,70108,70144,70161,70163,70199,70206,70209,70272,70278,70280,70280,70282,70285,70287,70301,70303,70312,70320,70378,70384,70393,70400,70403,70405,70412,70415,70416,70419,70440,70442,70448,70450,70451,70453,70457,70459,70468,70471,70472,70475,70477,70480,70480,70487,70487,70493,70499,70502,70508,70512,70516,70656,70730,70736,70745,70750,70753,70784,70853,70855,70855,70864,70873,71040,71093,71096,71104,71128,71133,71168,71232,71236,71236,71248,71257,71296,71352,71360,71369,71424,71450,71453,71467,71472,71481,71488,71494,71680,71738,71840,71913,71935,71942,71945,71945,71948,71955,71957,71958,71960,71989,71991,71992,71995,72003,72016,72025,72096,72103,72106,72151,72154,72161,72163,72164,72192,72254,72263,72263,72272,72345,72349,72349,72368,72440,72704,72712,72714,72758,72760,72768,72784,72793,72818,72847,72850,72871,72873,72886,72960,72966,72968,72969,72971,73014,73018,73018,73020,73021,73023,73031,73040,73049,73056,73061,73063,73064,73066,73102,73104,73105,73107,73112,73120,73129,73440,73462,73472,73488,73490,73530,73534,73538,73552,73561,73648,73648,73728,74649,74752,74862,74880,75075,77712,77808,77824,78933,82944,83526,92160,92728,92736,92766,92768,92777,92784,92862,92864,92873,92880,92909,92912,92916,92928,92982,92992,92995,93008,93017,93027,93047,93053,93071,93760,93823,93952,94026,94031,94087,94095,94111,94176,94177,94179,94180,94192,94193,94208,100343,100352,101589,101632,101640,110576,110579,110581,110587,110589,110590,110592,110882,110898,110898,110928,110930,110933,110933,110948,110951,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,113821,113822,113824,113827,118528,118573,118576,118598,119141,119145,119149,119170,119173,119179,119210,119213,119362,119364,119808,119892,119894,119964,119966,119967,119970,119970,119973,119974,119977,119980,119982,119993,119995,119995,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120134,120134,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,120782,120831,121344,121398,121403,121452,121461,121461,121476,121476,121499,121503,121505,121519,122624,122654,122661,122666,122880,122886,122888,122904,122907,122913,122915,122916,122918,122922,122928,122989,123023,123023,123136,123180,123184,123197,123200,123209,123214,123214,123536,123566,123584,123641,124112,124153,124896,124902,124904,124907,124909,124910,124912,124926,124928,125124,125136,125142,125184,125259,125264,125273,126464,126467,126469,126495,126497,126498,126500,126500,126503,126503,126505,126514,126516,126519,126521,126521,126523,126523,126530,126530,126535,126535,126537,126537,126539,126539,126541,126543,126545,126546,126548,126548,126551,126551,126553,126553,126555,126555,126557,126557,126559,126559,126561,126562,126564,126564,126567,126570,126572,126578,126580,126583,126585,126588,126590,126590,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651,130032,130041,131072,173791,173824,177977,177984,178205,178208,183969,183984,191456,194560,195101,196608,201546,201552,205743,917505,917505,917536,917631,917760,917999,662,0,65,90,97,122,170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,895,895,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1327,1329,1366,1369,1369,1376,1416,1488,1514,1519,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2144,2154,2160,2183,2185,2190,2208,2249,2308,2361,2365,2365,2384,2384,2392,2401,2417,2432,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2556,2556,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2809,2809,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3129,3133,3133,3160,3162,3165,3165,3168,3169,3200,3200,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3293,3294,3296,3297,3313,3314,3332,3340,3342,3344,3346,3386,3389,3389,3406,3406,3412,3414,3423,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3718,3722,3724,3747,3749,3749,3751,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5109,5112,5117,5121,5740,5743,5759,5761,5786,5792,5866,5870,5880,5888,5905,5919,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6264,6272,6276,6279,6312,6314,6314,6320,6389,6400,6430,6480,6509,6512,6516,6528,6571,6576,6601,6656,6678,6688,6740,6823,6823,6917,6963,6981,6988,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7296,7304,7312,7354,7357,7359,7401,7404,7406,7411,7413,7414,7418,7418,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12591,12593,12686,12704,12735,12784,12799,13312,19903,19968,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42653,42656,42735,42775,42783,42786,42888,42891,42954,42960,42961,42963,42963,42965,42969,42994,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43261,43262,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43488,43492,43494,43503,43514,43518,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43646,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43824,43866,43868,43881,43888,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66176,66204,66208,66256,66304,66335,66349,66378,66384,66421,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,66736,66771,66776,66811,66816,66855,66864,66915,66928,66938,66940,66954,66956,66962,66964,66965,66967,66977,66979,66993,66995,67001,67003,67004,67072,67382,67392,67413,67424,67431,67456,67461,67463,67504,67506,67514,67584,67589,67592,67592,67594,67637,67639,67640,67644,67644,67647,67669,67680,67702,67712,67742,67808,67826,67828,67829,67840,67861,67872,67897,67968,68023,68030,68031,68096,68096,68112,68115,68117,68119,68121,68149,68192,68220,68224,68252,68288,68295,68297,68324,68352,68405,68416,68437,68448,68466,68480,68497,68608,68680,68736,68786,68800,68850,68864,68899,69248,69289,69296,69297,69376,69404,69415,69415,69424,69445,69488,69505,69552,69572,69600,69622,69635,69687,69745,69746,69749,69749,69763,69807,69840,69864,69891,69926,69956,69956,69959,69959,69968,70002,70006,70006,70019,70066,70081,70084,70106,70106,70108,70108,70144,70161,70163,70187,70207,70208,70272,70278,70280,70280,70282,70285,70287,70301,70303,70312,70320,70366,70405,70412,70415,70416,70419,70440,70442,70448,70450,70451,70453,70457,70461,70461,70480,70480,70493,70497,70656,70708,70727,70730,70751,70753,70784,70831,70852,70853,70855,70855,71040,71086,71128,71131,71168,71215,71236,71236,71296,71338,71352,71352,71424,71450,71488,71494,71680,71723,71840,71903,71935,71942,71945,71945,71948,71955,71957,71958,71960,71983,71999,71999,72001,72001,72096,72103,72106,72144,72161,72161,72163,72163,72192,72192,72203,72242,72250,72250,72272,72272,72284,72329,72349,72349,72368,72440,72704,72712,72714,72750,72768,72768,72818,72847,72960,72966,72968,72969,72971,73008,73030,73030,73056,73061,73063,73064,73066,73097,73112,73112,73440,73458,73474,73474,73476,73488,73490,73523,73648,73648,73728,74649,74752,74862,74880,75075,77712,77808,77824,78895,78913,78918,82944,83526,92160,92728,92736,92766,92784,92862,92880,92909,92928,92975,92992,92995,93027,93047,93053,93071,93760,93823,93952,94026,94032,94032,94099,94111,94176,94177,94179,94179,94208,100343,100352,101589,101632,101640,110576,110579,110581,110587,110589,110590,110592,110882,110898,110898,110928,110930,110933,110933,110948,110951,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,119808,119892,119894,119964,119966,119967,119970,119970,119973,119974,119977,119980,119982,119993,119995,119995,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120134,120134,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,122624,122654,122661,122666,122928,122989,123136,123180,123191,123197,123214,123214,123536,123565,123584,123627,124112,124139,124896,124902,124904,124907,124909,124910,124912,124926,124928,125124,125184,125251,125259,125259,126464,126467,126469,126495,126497,126498,126500,126500,126503,126503,126505,126514,126516,126519,126521,126521,126523,126523,126530,126530,126535,126535,126537,126537,126539,126539,126541,126543,126545,126546,126548,126548,126551,126551,126553,126553,126555,126555,126557,126557,126559,126559,126561,126562,126564,126564,126567,126570,126572,126578,126580,126583,126585,126588,126590,126590,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651,131072,173791,173824,177977,177984,178205,178208,183969,183984,191456,194560,195101,196608,201546,201552,205743,47,0,1,1,0,0,0,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,15,1,0,0,0,1,17,1,0,0,0,3,20,1,0,0,0,5,22,1,0,0,0,7,24,1,0,0,0,9,26,1,0,0,0,11,35,1,0,0,0,13,37,1,0,0,0,15,39,1,0,0,0,17,18,5,47,0,0,18,19,5,47,0,0,19,2,1,0,0,0,20,21,5,47,0,0,21,4,1,0,0,0,22,23,5,42,0,0,23,6,1,0,0,0,24,25,5,33,0,0,25,8,1,0,0,0,26,30,3,13,6,0,27,29,3,11,5,0,28,27,1,0,0,0,29,32,1,0,0,0,30,28,1,0,0,0,30,31,1,0,0,0,31,33,1,0,0,0,32,30,1,0,0,0,33,34,6,4,0,0,34,10,1,0,0,0,35,36,7,0,0,0,36,12,1,0,0,0,37,38,7,1,0,0,38,14,1,0,0,0,39,43,5,39,0,0,40,42,9,0,0,0,41,40,1,0,0,0,42,45,1,0,0,0,43,44,1,0,0,0,43,41,1,0,0,0,44,46,1,0,0,0,45,43,1,0,0,0,46,47,5,39,0,0,47,16,1,0,0,0,3,0,30,43,1,1,4,0]),ae(Pi,"__ATN"),ae(Pi,"vocabulary",new U1(Pi.literalNames,Pi.symbolicNames,[])),ae(Pi,"decisionsToDFA",Pi._ATN.decisionToState.map((e,t)=>new O3(e,t))),Pi),Y4,r0t=(Y4=class extends wV{syntaxError(e,t,n,r,s,o){}},ze(Y4,"XPathLexerErrorListener"),Y4),Z4,tL=(Z4=class{constructor(e){ae(this,"invert");ae(this,"nodeName");this.nodeName=e,this.invert=!1}toString(){return"XPathElement["+(this.invert?"!":"")+this.nodeName+"]"}},ze(Z4,"XPathElement"),Z4),X4,s0t=(X4=class extends tL{constructor(t,n){super(t);ae(this,"ruleIndex");this.ruleIndex=n}evaluate(t){return z1.findAllRuleNodes(t,this.ruleIndex)}toString(){return"XPathRuleAnywhereElement["+(this.invert?"!":"")+this.nodeName+"]"}},ze(X4,"XPathRuleAnywhereElement"),X4),Q4,o0t=(Q4=class extends tL{constructor(t,n){super(t);ae(this,"ruleIndex");this.ruleIndex=n}evaluate(t){const n=[];for(const r of z1.getChildren(t))r instanceof My&&(r.ruleIndex===this.ruleIndex&&!this.invert||r.ruleIndex!==this.ruleIndex&&this.invert)&&n.push(r);return n}toString(){return"XPathRuleElement["+(this.invert?"!":"")+this.nodeName+"]"}},ze(Q4,"XPathRuleElement"),Q4),J4,a0t=(J4=class extends tL{constructor(t,n){super(t);ae(this,"tokenType");this.tokenType=n}evaluate(t){return z1.findAllTokenNodes(t,this.tokenType)}toString(){return"XPathTokenAnywhereElement["+(this.invert?"!":"")+this.nodeName+"]"}},ze(J4,"XPathTokenAnywhereElement"),J4),eP,l0t=(eP=class extends tL{constructor(t,n){super(t);ae(this,"tokenType");this.tokenType=n}evaluate(t){const n=[];for(const r of z1.getChildren(t))r instanceof vm&&r.symbol&&(r.symbol.type===this.tokenType&&!this.invert||r.symbol.type!==this.tokenType&&this.invert)&&n.push(r);return n}toString(){return"XPathTokenElement["+(this.invert?"!":"")+this.nodeName+"]"}},ze(eP,"XPathTokenElement"),eP),tP,u0t=(tP=class extends tL{constructor(){super(bye.WILDCARD)}evaluate(e){return this.invert?[]:z1.descendants(e)}toString(){return"XPathWildcardAnywhereElement["+(this.invert?"!":"")+this.nodeName+"]"}},ze(tP,"XPathWildcardAnywhereElement"),tP),nP,c0t=(nP=class extends tL{constructor(){super(bye.WILDCARD)}evaluate(e){const t=[];if(this.invert)return t;for(const n of z1.getChildren(e))t.push(n);return t}toString(){return"XPathWildcardElement["+(this.invert?"!":"")+this.nodeName+"]"}},ze(nP,"XPathWildcardElement"),nP),j0,bye=(j0=class{constructor(e,t){ae(this,"path");ae(this,"elements");ae(this,"parser");this.parser=e,this.path=t,this.elements=this.split(t)}static findAll(e,t,n){return new j0(n,t).evaluate(e)}split(e){const t=new qh(t0t.fromString(e));t.recover=u=>{throw u},t.removeErrorListeners(),t.addErrorListener(new r0t);const n=new i0t(t);try{n.fill()}catch(u){if(u instanceof b9){const h="Invalid tokens or characters at index "+t.column+" in path '"+e+"' -- "+u.message;throw new RangeError(h)}throw u}const r=n.getTokens(),s=[],o=r.length;let a=0;e:for(;a<o;){const u=r[a];let c;switch(u.type){case qh.ROOT:case qh.ANYWHERE:const h=u.type===qh.ANYWHERE;a++,c=r[a];const f=c.type===qh.BANG;f&&(a++,c=r[a]);const p=this.getXPathElement(c,h);p.invert=f,s.push(p),a++;break;case qh.TOKEN_REF:case qh.RULE_REF:case qh.WILDCARD:s.push(this.getXPathElement(u,!1)),a++;break;case kt.EOF:break e;default:throw new Error("Unknown path element "+u)}}return s}evaluate(e){const t=new My;t.addChild(e);let n=new Set([t]),r=0;for(;r<this.elements.length;){const s=new Set;for(const o of n)o.getChildCount()>0&&this.elements[r].evaluate(o).forEach(u=>{s.add(u)},s);r++,n=s}return n}getXPathElement(e,t){if(e.type===kt.EOF)throw new Error("Missing path element at end of path");const n=e.text;if(n==null)throw new Error("Expected wordToken to have text content.");const r=this.parser.getTokenType(n),s=this.parser.getRuleIndex(n);switch(e.type){case qh.WILDCARD:return t?new u0t:new c0t;case qh.TOKEN_REF:case qh.STRING:if(r===kt.INVALID_TYPE)throw new Error(n+" at index "+e.start+" isn't a valid token name");return t?new a0t(n,r):new l0t(n,r);default:if(s===-1)throw new Error(n+" at index "+e.start+" isn't a valid rule name");return t?new s0t(n,s):new o0t(n,s)}}},ze(j0,"XPath"),ae(j0,"WILDCARD","*"),ae(j0,"NOT","!"),j0),iP,UO=(iP=class extends A3{constructor(e){super({message:"",recognizer:e,input:e.inputStream,ctx:e.context}),this.offendingToken=e.getCurrentToken()}},ze(iP,"InputMismatchException"),iP),rP,PY=(rP=class extends A3{constructor(t,n,r=null){super({message:d0t(n??"no predicate",r??null),recognizer:t,input:t.inputStream,ctx:t.context});ae(this,"ruleIndex",0);ae(this,"predicateIndex",0);ae(this,"predicate");const o=t.atn.states[t.state].transitions[0];o instanceof _ye?(this.ruleIndex=o.ruleIndex,this.predicateIndex=o.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=n,this.offendingToken=t.getCurrentToken()}},ze(rP,"FailedPredicateException"),rP),d0t=ze((i,e)=>e!==null?e:"failed predicate: {"+i+"}?","formatMessage"),sP,Cye=(sP=class{constructor(){ae(this,"errorRecoveryMode",!1);ae(this,"lastErrorIndex",-1);ae(this,"lastErrorStates",new xf);ae(this,"nextTokensContext",null);ae(this,"nextTokenState",0)}reset(e){this.endErrorCondition(e)}beginErrorCondition(e){this.errorRecoveryMode=!0}inErrorRecoveryMode(e){return this.errorRecoveryMode}endErrorCondition(e){this.errorRecoveryMode=!1,this.lastErrorStates=new xf,this.lastErrorIndex=-1}reportMatch(e){this.endErrorCondition(e)}reportError(e,t){this.inErrorRecoveryMode(e)||(this.beginErrorCondition(e),t instanceof vye?this.reportNoViableAlternative(e,t):t instanceof UO?this.reportInputMismatch(e,t):t instanceof PY?this.reportFailedPredicate(e,t):e.notifyErrorListeners(t.message,t.offendingToken,t))}recover(e,t){this.lastErrorIndex===e.inputStream.index&&this.lastErrorStates.contains(e.state)&&e.consume(),this.lastErrorIndex=e.inputStream.index,this.lastErrorStates.addOne(e.state);const n=this.getErrorRecoverySet(e);this.consumeUntil(e,n)}sync(e){if(this.inErrorRecoveryMode(e))return;const t=e.atn.states[e.state],n=e.tokenStream.LA(1),r=e.atn.nextTokens(t);if(r.contains(n)){this.nextTokensContext=null,this.nextTokenState=Bm.INVALID_STATE_NUMBER;return}else if(r.contains(kt.EPSILON)){this.nextTokensContext===null&&(this.nextTokensContext=e.context,this.nextTokenState=e.state);return}switch(t.stateType){case Zi.BLOCK_START:case Zi.STAR_BLOCK_START:case Zi.PLUS_BLOCK_START:case Zi.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(e)!==null)return;throw new UO(e);case Zi.PLUS_LOOP_BACK:case Zi.STAR_LOOP_BACK:{this.reportUnwantedToken(e);const s=new xf;s.addSet(e.getExpectedTokens());const o=s.addSet(this.getErrorRecoverySet(e));this.consumeUntil(e,o)}break}}reportNoViableAlternative(e,t){if(t.message.length>0){e.notifyErrorListeners(t.message,t.offendingToken,t);return}const n=e.tokenStream;let r;n!==null&&t.startToken?t.startToken.type===kt.EOF?r="<EOF>":r=n.getText(new Tr(t.startToken.tokenIndex,t.offendingToken.tokenIndex)):r="<unknown input>";const s="no viable alternative at input "+this.escapeWSAndQuote(r);e.notifyErrorListeners(s,t.offendingToken,t)}reportInputMismatch(e,t){if(t.message.length>0){e.notifyErrorListeners(t.message,t.offendingToken,t);return}const n="mismatched input "+this.getTokenErrorDisplay(t.offendingToken)+" expecting "+t.getExpectedTokens().toString(e.vocabulary);e.notifyErrorListeners(n,t.offendingToken,t)}reportFailedPredicate(e,t){const r="rule "+e.ruleNames[e.context.ruleIndex]+" "+t.message;e.notifyErrorListeners(r,t.offendingToken,t)}reportUnwantedToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);const t=e.getCurrentToken(),n=this.getTokenErrorDisplay(t),r=this.getExpectedTokens(e),s="extraneous input "+n+" expecting "+r.toString(e.vocabulary);e.notifyErrorListeners(s,t,null)}reportMissingToken(e){if(this.inErrorRecoveryMode(e))return;this.beginErrorCondition(e);const t=e.getCurrentToken(),r="missing "+this.getExpectedTokens(e).toString(e.vocabulary)+" at "+this.getTokenErrorDisplay(t);e.notifyErrorListeners(r,t,null)}recoverInline(e){const t=this.singleTokenDeletion(e);if(t!==null)return e.consume(),t;if(this.singleTokenInsertion(e))return this.getMissingSymbol(e);throw new UO(e)}singleTokenInsertion(e){const t=e.tokenStream.LA(1),n=e.atn,s=n.states[e.state].transitions[0].target;return n.nextTokens(s,e.context).contains(t)?(this.reportMissingToken(e),!0):!1}singleTokenDeletion(e){const t=e.tokenStream.LA(2);if(this.getExpectedTokens(e).contains(t)){this.reportUnwantedToken(e),e.consume();const r=e.getCurrentToken();return this.reportMatch(e),r}else return null}getMissingSymbol(e){const t=e.getCurrentToken(),n=this.getExpectedTokens(e);let r=kt.INVALID_TYPE;n.isNil||(r=n.minElement);let s;r===kt.EOF?s="<missing EOF>":s="<missing "+e.vocabulary.getDisplayName(r)+">";let o=t;const a=e.tokenStream.LT(-1);return o.type===kt.EOF&&a!==null&&(o=a),e.getTokenFactory().create(o.source,r,s,kt.DEFAULT_CHANNEL,-1,-1,o.line,o.column)}getExpectedTokens(e){return e.getExpectedTokens()}getTokenErrorDisplay(e){if(e===null)return"<no token>";let t=e.text;return t===null&&(e.type===kt.EOF?t="<EOF>":t="<"+e.type+">"),this.escapeWSAndQuote(t)}escapeWSAndQuote(e){return e=e.replace(/\n/g,"\\n"),e=e.replace(/\r/g,"\\r"),e=e.replace(/\t/g,"\\t"),"'"+e+"'"}getErrorRecoverySet(e){const t=e.atn;let n=e.context;const r=new xf;for(;n!==null&&n.invokingState>=0;){const o=t.states[n.invokingState].transitions[0],a=t.nextTokens(o.followState);r.addSet(a),n=n.parent}return r.removeOne(kt.EPSILON),r}consumeUntil(e,t){let n=e.tokenStream.LA(1);for(;n!==kt.EOF&&!t.contains(n);)e.consume(),n=e.tokenStream.LA(1)}},ze(sP,"DefaultErrorStrategy"),sP),oP;oP=class extends Cye{recover(e,t){let n=e.context;for(;n!==null;)n.exception=t,n=n.parent;throw new _ue(t)}recoverInline(e){const t=new UO(e);let n=e.context;for(;n!==null;)n.exception=t,n=n.parent;throw new _ue(t)}sync(e){}},ze(oP,"BailErrorStrategy");var aP;aP=class extends wV{constructor(t){super();ae(this,"exactOnly");ae(this,"reportAmbiguity",(t,n,r,s,o,a,u)=>{if(this.exactOnly&&!o)return;const c=this.getDecisionDescription(t,n),h=this.getConflictingAlts(a,u),f=t.tokenStream.getText(Tr.of(r,s)),p=`reportAmbiguity d=${c}: ambigAlts=${h}, input='${f}'`;t.notifyErrorListeners(p,null,null)});ae(this,"reportAttemptingFullContext",(t,n,r,s,o,a)=>{const u=this.getDecisionDescription(t,n),c=t.tokenStream.getText(Tr.of(r,s)),h=`reportAttemptingFullContext d=${u}, input='${c}'`;t.notifyErrorListeners(h,null,null)});ae(this,"reportContextSensitivity",(t,n,r,s,o,a)=>{const u=this.getDecisionDescription(t,n),c=t.tokenStream.getText(Tr.of(r,s)),h=`reportContextSensitivity d=${u}, input='${c}'`;t.notifyErrorListeners(h,null,null)});ae(this,"getDecisionDescription",(t,n)=>{const r=n.decision,s=n.atnStartState.ruleIndex,o=t.ruleNames;if(s<0||s>=o.length)return r.toString();const a=o[s];return a.length===0?r.toString():`${r} (${a})`});ae(this,"getConflictingAlts",(t,n)=>{if(t!==null)return t;const r=new $g;for(let s=0;s<n.configs.length;s++)r.set(n.configs[s].alt);return r});this.exactOnly=t??!0}},ze(aP,"DiagnosticErrorListener");var lP,uP,h0t=(uP=class extends My{constructor(t,n,r){var i=(...args)=>{super(...args);es(this,lP,void 0)};r!==void 0?i(n,r):i(),Pr(this,lP,t)}get ruleIndex(){return Bn(this,lP)}},lP=new WeakMap,ze(uP,"InterpreterRuleContext"),uP),cP,dP,hP,fP,gP,pP,mP,y9,_P;_P=class extends Sf{constructor(t,n,r,s,o,a,u){super(u);es(this,cP,void 0);es(this,dP,void 0);es(this,hP,void 0);es(this,fP,void 0);es(this,gP,void 0);es(this,pP,void 0);es(this,mP,void 0);es(this,y9,new jee);if(a.grammarType!==sO.LEXER)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");Pr(this,cP,t),Pr(this,dP,a),Pr(this,hP,r.slice(0)),Pr(this,fP,s.slice(0)),Pr(this,gP,o.slice(0)),Pr(this,pP,n),Pr(this,mP,a.decisionToState.map((c,h)=>new O3(c,h))),this.interpreter=new rE(this,a,Bn(this,mP),Bn(this,y9))}get atn(){return Bn(this,dP)}get grammarFileName(){return Bn(this,cP)}get ruleNames(){return Bn(this,hP)}get channelNames(){return Bn(this,fP)}get modeNames(){return Bn(this,gP)}get vocabulary(){return Bn(this,pP)}},cP=new WeakMap,dP=new WeakMap,hP=new WeakMap,fP=new WeakMap,gP=new WeakMap,pP=new WeakMap,mP=new WeakMap,y9=new WeakMap,ze(_P,"LexerInterpreter");var vP,f0t=(vP=class{constructor(e){ae(this,"parser");this.parser=e}enterEveryRule(e){console.log("enter   "+this.parser.ruleNames[e.ruleIndex]+", LT(1)="+this.parser.inputStream.LT(1).text)}visitTerminal(e){console.log("consume "+e.getSymbol()+" rule "+this.parser.ruleNames[this.parser.context.ruleIndex])}exitEveryRule(e){console.log("exit    "+this.parser.ruleNames[e.ruleIndex]+", LT(1)="+this.parser.inputStream.LT(1).text)}visitErrorNode(e){}},ze(vP,"TraceListener"),vP),bP,g0t=(bP=class extends hye{constructor(t){super();ae(this,"printer",null);ae(this,"buildParseTrees",!0);ae(this,"errorHandler",new Cye);ae(this,"context",null);ae(this,"_input",null);ae(this,"_precedenceStack",[]);ae(this,"_parseListeners",null);ae(this,"_syntaxErrors",0);ae(this,"matchedEOF",!1);ae(this,"_tracer",null);ae(this,"bypassAltsAtnCache",null);this._precedenceStack.push(0),this._syntaxErrors=0,this.tokenStream=t}reset(){this._input!==null&&this._input.seek(0),this.errorHandler.reset(this),this.context=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),this.interpreter&&this.interpreter.reset()}match(t){let n=this.getCurrentToken();return n.type===t?(this.errorHandler.reportMatch(this),this.consume()):(n=this.errorHandler.recoverInline(this),this.buildParseTrees&&n.tokenIndex===-1&&this.context.addErrorNode(this.createErrorNode(this.context,n))),n}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this.errorHandler.reportMatch(this),this.consume()):(t=this.errorHandler.recoverInline(this),this.buildParseTrees&&t.tokenIndex===-1&&this.context.addErrorNode(this.createErrorNode(this.context,t))),t}getParseListeners(){return this._parseListeners??[]}addParseListener(t){if(t===null)throw new Error("listener");this._parseListeners===null&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(this._parseListeners!==null&&t!==null){const n=this._parseListeners.indexOf(t);n>=0&&this._parseListeners.splice(n,1),this._parseListeners.length===0&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(this._parseListeners!==null){const t=this.context;this._parseListeners.forEach(n=>{n.enterEveryRule(t),t.enterRule(n)})}}triggerExitRuleEvent(){if(this._parseListeners!==null){const t=this.context;this._parseListeners.slice(0).reverse().forEach(n=>{t.exitRule(n),n.exitEveryRule(t)})}}getTokenFactory(){return this._input.getTokenSource().tokenFactory}setTokenFactory(t){this._input.getTokenSource().tokenFactory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(t===null)throw new Error("The current parser does not support an ATN with bypass alternatives.");if(this.bypassAltsAtnCache!==null)return this.bypassAltsAtnCache;const n=new mye;return n.generateRuleBypassTransitions=!0,this.bypassAltsAtnCache=new zee(n).deserialize(t),this.bypassAltsAtnCache}get tokenStream(){return this._input}set tokenStream(t){this._input=null,this.reset(),this._input=t}get inputStream(){return this._input}set inputStream(t){this.tokenStream=t}get numberOfSyntaxErrors(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,n,r){n=n??null,r=r??null,n===null&&(n=this.getCurrentToken()),this._syntaxErrors+=1;const s=n.line,o=n.column;this.getErrorListenerDispatch().syntaxError(this,n,s,o,t,r)}consume(){const t=this.getCurrentToken();t.type!==kt.EOF&&this.tokenStream.consume();const n=this._parseListeners!==null&&this._parseListeners.length>0;if(this.buildParseTrees||n){let r;this.errorHandler.inErrorRecoveryMode(this)?r=this.context.addErrorNode(this.createErrorNode(this.context,t)):r=this.context.addTokenNode(t),n&&this._parseListeners.forEach(s=>{r instanceof WR?s.visitErrorNode(r):s.visitTerminal(r)})}return t}addContextToParseTree(){var t;((t=this.context)==null?void 0:t.parent)!==null&&this.context.parent.addChild(this.context)}enterRule(t,n,r){this.state=n,this.context=t,this.context.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.context.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this.context.invokingState,this.context=this.context.parent}enterOuterAlt(t,n){t.setAltNumber(n),this.buildParseTrees&&this.context!==t&&this.context.parent!==null&&(this.context.parent.removeLastChild(),this.context.parent.addChild(t)),this.context=t}getPrecedence(){return this._precedenceStack.length===0?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,n,r,s){this.state=n,this._precedenceStack.push(s),this.context=t,this.context.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,n,r){const s=this.context;s.parent=t,s.invokingState=n,s.stop=this._input.LT(-1),this.context=t,this.context.start=s.start,this.buildParseTrees&&this.context.addChild(s),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this.context.stop=this._input.LT(-1);const n=this.context,r=this.getParseListeners();if(r!==null&&r.length>0)for(;this.context!==t;)this.triggerExitRuleEvent(),this.context=this.context.parent;else this.context=t;n.parent=t,this.buildParseTrees&&t!==null&&t.addChild(n)}getInvokingContext(t){let n=this.context;for(;n!==null;){if(n.ruleIndex===t)return n;n=n.parent}return null}precpred(t,n){return n>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(t){const n=this.interpreter.atn;let r=this.context;const s=n.states[this.state];let o=n.nextTokens(s);if(o.contains(t))return!0;if(!o.contains(kt.EPSILON))return!1;for(;r!==null&&r.invokingState>=0&&o.contains(kt.EPSILON);){const u=n.states[r.invokingState].transitions[0];if(o=n.nextTokens(u.followState),o.contains(t))return!0;r=r.parent}return!!(o.contains(kt.EPSILON)&&t===kt.EOF)}getExpectedTokens(){return this.interpreter.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){const t=this.interpreter.atn,n=t.states[this.state];return t.nextTokens(n)}getRuleIndex(t){const n=this.getRuleIndexMap().get(t);return n??-1}getRuleInvocationStack(t){t=t??null,t===null&&(t=this.context);const n=[];for(;t!==null;){const r=t.ruleIndex;r<0?n.push("n/a"):n.push(this.ruleNames[r]),t=t.parent}return n}getDFAStrings(){return this.interpreter.decisionToDFA.toString()}dumpDFA(){let t=!1;for(const n of this.interpreter.decisionToDFA)n.states.length>0&&(t&&console.log(),this.printer&&(this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.vocabulary))),t=!0)}getSourceName(){return this._input.getSourceName()}setProfile(t){const n=this.interpreter,r=n.predictionMode;if(t)n instanceof Kz||(this.interpreter=new Kz(this));else if(n instanceof Kz){const s=n.getSharedContextCache();if(s){const o=new Uee(this,this.atn,n.decisionToDFA,s);this.interpreter=o}}this.interpreter.predictionMode=r}setTrace(t){t?(this._tracer!==null&&this.removeParseListener(this._tracer),this._tracer=new f0t(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}createTerminalNode(t,n){return new vm(n)}createErrorNode(t,n){return new WR(n)}},ze(bP,"Parser"),bP),CP,ef,yP,wP,SP,w9,ox,xP;xP=class extends g0t{constructor(t,n,r,s,o){super(o);ae(this,"_rootContext");ae(this,"_parentContextStack",[]);ae(this,"overrideDecision",-1);ae(this,"overrideDecisionInputIndex",-1);ae(this,"overrideDecisionAlt",-1);ae(this,"overrideDecisionReached",!1);ae(this,"_overrideDecisionRoot",null);es(this,CP,void 0);es(this,ef,void 0);es(this,yP,void 0);es(this,wP,void 0);es(this,SP,void 0);es(this,w9,new jee);es(this,ox,void 0);Pr(this,CP,t),Pr(this,ef,s),Pr(this,yP,r.slice(0)),Pr(this,wP,n),Pr(this,ox,new $g);for(const a of s.states)a instanceof E0&&a.precedenceRuleDecision&&Bn(this,ox).set(a.stateNumber);Pr(this,SP,s.decisionToState.map((a,u)=>new O3(a,u))),this.interpreter=new Uee(this,s,Bn(this,SP),Bn(this,w9))}reset(){super.reset(),this.overrideDecisionReached=!1,this._overrideDecisionRoot=null}get atn(){return Bn(this,ef)}get vocabulary(){return Bn(this,wP)}get ruleNames(){return Bn(this,yP)}get grammarFileName(){return Bn(this,CP)}get atnState(){return Bn(this,ef).states[this.state]}parse(t){var r;const n=Bn(this,ef).ruleToStartState[t];for(this._rootContext=this.createInterpreterRuleContext(null,Bm.INVALID_STATE_NUMBER,t),n.isPrecedenceRule?this.enterRecursionRule(this._rootContext,n.stateNumber,t,0):this.enterRule(this._rootContext,n.stateNumber,t);;){const s=this.atnState;switch(s.stateType){case Zi.RULE_STOP:if((r=this.context)!=null&&r.isEmpty)if(n.isPrecedenceRule){const o=this.context,a=this._parentContextStack.pop();return this.unrollRecursionContexts(a[0]),o}else return this.exitRule(),this._rootContext;this.visitRuleStopState(s);break;default:try{this.visitState(s)}catch(o){if(o instanceof A3)this.state=Bn(this,ef).ruleToStopState[s.ruleIndex].stateNumber,this.context.exception=o,this.errorHandler.reportError(this,o),this.recover(o);else throw o}break}}}addDecisionOverride(t,n,r){this.overrideDecision=t,this.overrideDecisionInputIndex=n,this.overrideDecisionAlt=r}get overrideDecisionRoot(){return this._overrideDecisionRoot}get rootContext(){return this._rootContext}enterRecursionRule(t,n,r,s){this._parentContextStack.push([this.context,t.invokingState]),super.enterRecursionRule(t,n,r,s)}visitState(t){let n=1;t instanceof cw&&(n=this.visitDecisionState(t));const r=t.transitions[n-1];switch(r.serializationType){case ii.EPSILON:if(Bn(this,ox).get(t.stateNumber)&&!(r.target instanceof Eb)){const h=this._parentContextStack[this._parentContextStack.length-1],f=this.createInterpreterRuleContext(h[0],h[1],this.context.ruleIndex);this.pushNewRecursionContext(f,Bn(this,ef).ruleToStartState[t.ruleIndex].stateNumber,this.context.ruleIndex)}break;case ii.ATOM:this.match(r.label.minElement);break;case ii.RANGE:case ii.SET:case ii.NOT_SET:r.matches(this._input.LA(1),kt.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case ii.WILDCARD:this.matchWildcard();break;case ii.RULE:const s=r.target,o=s.ruleIndex,a=this.createInterpreterRuleContext(this.context,t.stateNumber,o);s.isPrecedenceRule?this.enterRecursionRule(a,s.stateNumber,o,r.precedence):this.enterRule(a,r.target.stateNumber,o);break;case ii.PREDICATE:const u=r;if(!this.sempred(this.context,u.ruleIndex,u.predIndex))throw new PY(this);break;case ii.ACTION:const c=r;this.action(this.context,c.ruleIndex,c.actionIndex);break;case ii.PRECEDENCE:if(!this.precpred(this.context,r.precedence)){const h=r.precedence;throw new PY(this,`precpred(_ctx, ${h})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=r.target.stateNumber}visitDecisionState(t){let n=1;if(t.transitions.length>1){this.errorHandler.sync(this);const r=t.decision;r===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(n=this.overrideDecisionAlt,this.overrideDecisionReached=!0):n=this.interpreter.adaptivePredict(this._input,r,this.context)}return n}createInterpreterRuleContext(t,n,r){return new h0t(r,t,n)}visitRuleStopState(t){if(Bn(this,ef).ruleToStartState[t.ruleIndex].isPrecedenceRule){const[s,o]=this._parentContextStack.pop();this.unrollRecursionContexts(s),this.state=o}else this.exitRule();const r=Bn(this,ef).states[this.state].transitions[0];this.state=r.followState.stateNumber}recover(t){const n=this._input.index;if(this.errorHandler.recover(this,t),this._input.index===n){const r=t.offendingToken;if(!r)throw new Error("Expected exception to have an offending token");const s=r.tokenSource,o=(s==null?void 0:s.inputStream)??null,a=[s,o];if(t instanceof UO){const u=t.getExpectedTokens();if(!u)throw new Error("Expected the exception to provide expected tokens");let c=kt.INVALID_TYPE;u.isNil||(c=u.minElement);const h=this.getTokenFactory().create(a,c,r.text,kt.DEFAULT_CHANNEL,-1,-1,r.line,r.column);this.context.addErrorNode(this.createErrorNode(this.context,h))}else{const u=this.getTokenFactory().create(a,kt.INVALID_TYPE,r.text,kt.DEFAULT_CHANNEL,-1,-1,r.line,r.column);this.context.addErrorNode(this.createErrorNode(this.context,u))}}}recoverInline(){return this.errorHandler.recoverInline(this)}},CP=new WeakMap,ef=new WeakMap,yP=new WeakMap,wP=new WeakMap,SP=new WeakMap,w9=new WeakMap,ox=new WeakMap,ze(xP,"ParserInterpreter");var Yu;Yu=class{constructor(e){ae(this,"tokens");ae(this,"programs",new Map);ae(this,"lastRewriteTokenIndexes");this.tokens=e}getTokenStream(){return this.tokens}insertAfter(e,t,n=Yu.DEFAULT_PROGRAM_NAME){let r;typeof e=="number"?r=e:r=e.tokenIndex;const s=this.getProgram(n),o=new vue(this.tokens,r,s.length,t);s.push(o)}insertBefore(e,t,n=Yu.DEFAULT_PROGRAM_NAME){let r;typeof e=="number"?r=e:r=e.tokenIndex;const s=this.getProgram(n),o=new Uw(this.tokens,r,s.length,t);s.push(o)}replaceSingle(e,t,n=Yu.DEFAULT_PROGRAM_NAME){this.replace(e,e,t,n)}replace(e,t,n,r=Yu.DEFAULT_PROGRAM_NAME){if(typeof e!="number"&&(e=e.tokenIndex),typeof t!="number"&&(t=t.tokenIndex),e>t||e<0||t<0||t>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${t}(size=${this.tokens.size})`);const s=this.getProgram(r),o=new m6(this.tokens,e,t,s.length,n);s.push(o)}delete(e,t,n=Yu.DEFAULT_PROGRAM_NAME){t==null&&(t=e),this.replace(e,t,null,n)}getProgram(e){let t=this.programs.get(e);return t==null&&(t=this.initializeProgram(e)),t}initializeProgram(e){const t=[];return this.programs.set(e,t),t}getText(e,t=Yu.DEFAULT_PROGRAM_NAME){let n;e instanceof Tr?n=e:n=new Tr(0,this.tokens.size-1),typeof e=="string"&&(t=e);const r=this.programs.get(t);let s=n.start,o=n.stop;if(o>this.tokens.size-1&&(o=this.tokens.size-1),s<0&&(s=0),r==null||r.length===0)return this.tokens.getText(new Tr(s,o));const a=[],u=this.reduceToSingleOperationPerIndex(r);let c=s;for(;c<=o&&c<this.tokens.size;){const h=u.get(c);u.delete(c);const f=this.tokens.get(c);h==null?(f.type!==kt.EOF&&a.push(String(f.text)),c++):c=h.execute(a)}if(o===this.tokens.size-1)for(const h of u.values())h&&h.index>=this.tokens.size-1&&a.push(String(h.text));return a.join("")}reduceToSingleOperationPerIndex(e){for(let n=0;n<e.length;n++){const r=e[n];if(r==null||!(r instanceof m6))continue;const s=r,o=this.getKindOfOps(e,Uw,n);for(const u of o)u.index===s.index?(e[u.instructionIndex]=null,s.text=String(u.text)+(s.text!=null?s.text.toString():"")):u.index>s.index&&u.index<=s.lastIndex&&(e[u.instructionIndex]=null);const a=this.getKindOfOps(e,m6,n);for(const u of a){if(u.index>=s.index&&u.lastIndex<=s.lastIndex){e[u.instructionIndex]=null;continue}const c=u.lastIndex<s.index||u.index>s.lastIndex;if(u.text==null&&s.text==null&&!c)e[u.instructionIndex]=null,s.index=Math.min(u.index,s.index),s.lastIndex=Math.max(u.lastIndex,s.lastIndex);else if(!c)throw new Error(`replace op boundaries of ${s} overlap with previous ${u}`)}}for(let n=0;n<e.length;n++){const r=e[n];if(r==null||!(r instanceof Uw))continue;const s=r,o=this.getKindOfOps(e,Uw,n);for(const u of o)u.index===s.index&&(u instanceof vue?(s.text=this.catOpText(u.text,s.text),e[u.instructionIndex]=null):u instanceof Uw&&(s.text=this.catOpText(s.text,u.text),e[u.instructionIndex]=null));const a=this.getKindOfOps(e,m6,n);for(const u of a){if(s.index===u.index){u.text=this.catOpText(s.text,u.text),e[n]=null;continue}if(s.index>=u.index&&s.index<=u.lastIndex)throw new Error(`insert op ${s} within boundaries of previous ${u}`)}}const t=new Map;for(const n of e)if(n!=null){if(t.get(n.index)!=null)throw new Error("should only be one op per index");t.set(n.index,n)}return t}catOpText(e,t){let n="",r="";return e!=null&&(n=e.toString()),t!=null&&(r=t.toString()),n+r}getKindOfOps(e,t,n){return e.slice(0,n).filter(r=>r&&r instanceof t)}},ze(Yu,"TokenStreamRewriter"),ae(Yu,"DEFAULT_PROGRAM_NAME","default"),ae(Yu,"PROGRAM_INIT_SIZE",100),ae(Yu,"MIN_TOKEN_INDEX",0);var EP,yye=(EP=class{constructor(e,t,n,r){ae(this,"instructionIndex");ae(this,"index");ae(this,"text");ae(this,"tokens");this.tokens=e,this.instructionIndex=n,this.index=t,this.text=r===void 0?"":r}execute(e){return this.index}toString(){return"<RewriteOperation@"+this.tokens.get(this.index)+':"'+this.text+'">'}},ze(EP,"RewriteOperation"),EP),LP,Uw=(LP=class extends yye{constructor(e,t,n,r){super(e,t,n,r)}execute(e){return this.text&&e.push(this.text.toString()),this.tokens.get(this.index).type!==kt.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}toString(){return"<InsertBeforeOp@"+this.tokens.get(this.index)+':"'+this.text+'">'}},ze(LP,"InsertBeforeOp"),LP),DP,vue=(DP=class extends Uw{constructor(e,t,n,r){super(e,t+1,n,r)}toString(){return"<InsertAfterOp@"+this.tokens.get(this.index)+':"'+this.text+'">'}},ze(DP,"InsertAfterOp"),DP),TP,m6=(TP=class extends yye{constructor(t,n,r,s,o){super(t,n,s,o);ae(this,"lastIndex");this.lastIndex=r}execute(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}},ze(TP,"ReplaceOp"),TP),qu;(function(i){i.CATALOG="catalog",i.CATALOG_CREATE="catalogCreate",i.DATABASE="database",i.DATABASE_CREATE="databaseCreate",i.TABLE="table",i.TABLE_CREATE="tableCreate",i.VIEW="view",i.VIEW_CREATE="viewCreate",i.FUNCTION="function",i.FUNCTION_CREATE="functionCreate",i.PROCEDURE="procedure",i.PROCEDURE_CREATE="procedureCreate",i.COLUMN="column",i.COLUMN_CREATE="columnCreate"})(qu||(qu={}));globalThis&&globalThis.__rest;var bue;(function(i){i.COMMON_STMT="commonStmt",i.CREATE_CATALOG_STMT="createCatalogStmt",i.CREATE_DATABASE_STMT="createDatabaseStmt",i.CREATE_TABLE_STMT="createTableStmt",i.CREATE_VIEW_STMT="createViewStmt",i.SELECT_STMT="selectStmt",i.INSERT_STMT="insertStmt",i.CREATE_FUNCTION_STMT="createFunctionStmt",i.ALTER_TABLE_STMT="alterTableStmt"})(bue||(bue={}));var Vb;(function(i){i.comment="_comment",i.colType="_colType",i.alias="_alias"})(Vb||(Vb={}));function p0t(){return new Worker("/monaco-sql-languages/assets/editor.worker-a4e6c28c.js")}function m0t(){return new Worker("/monaco-sql-languages/assets/flink.worker-cf34d75e.js")}function _0t(){return new Worker("/monaco-sql-languages/assets/spark.worker-db1419fa.js")}function v0t(){return new Worker("/monaco-sql-languages/assets/hive.worker-de0221f4.js")}function b0t(){return new Worker("/monaco-sql-languages/assets/pgsql.worker-fd5fcc44.js")}function C0t(){return new Worker("/monaco-sql-languages/assets/mysql.worker-ca5627dc.js")}function y0t(){return new Worker("/monaco-sql-languages/assets/trino.worker-fa53c48f.js")}function w0t(){return new Worker("/monaco-sql-languages/assets/impala.worker-bc42abfb.js")}globalThis.MonacoEnvironment={getWorker(i,e){return e===Br.FLINK?new m0t:e===Br.HIVE?new v0t:e===Br.SPARK?new _0t:e===Br.PG?new b0t:e===Br.MYSQL?new C0t:e===Br.TRINO?new y0t:e===Br.IMPALA?new w0t:new p0t}};Za.defineTheme("sql-dark",Fee.darkThemeData);Za.defineTheme("sql-light",Fee.lightThemeData);Za.defineTheme("sql-hc",Fee.hcBlackThemeData);const S0t=["mock_catalog_1","mock_catalog_2","mock_catalog_3"],x0t=["mock_schema_1","mock_schema_2","mock_schema_3"],E0t=["mock_database_1","mock_database_2","mock_database_3"],L0t=["mock_table1","mock_table2","mock_table3"],D0t=["mock_view1","mock_view2","mock_view3"],T0t=["current_catalog_db1","current_catalog_db2","current_catalog_db3"],I0t=["current_catalog_schema1","current_catalog_schema2","current_catalog_schema3"],k0t=["current_db_table1","current_db_table2","current_db_table3"],N0t=["current_db_view1","current_db_view2","current_db_view3"],op=(i,e)=>{const t=i?i.replace(/sql/gi,"").toLocaleLowerCase():"";return t?`${t}_${e}`:e};function _6(i){const e=S0t.map(t=>({label:op(i,t),kind:qa.CompletionItemKind.Field,detail:"catalog",sortText:"1"+op(i,t)}));return Promise.resolve(e)}function A0t(i,e){const n=(e?E0t:T0t).map(r=>({label:op(i,r),kind:qa.CompletionItemKind.Field,detail:"database",sortText:"1"+op(i,r)}));return Promise.resolve(n)}function O0t(i,e){const n=(e?x0t:I0t).map(r=>({label:op(i,r),kind:qa.CompletionItemKind.Field,detail:"schema",sortText:"1"+op(i,r)}));return Promise.resolve(n)}function qz(i,e,t){const r=(e&&t?L0t:k0t).map(s=>({label:op(i,s),kind:qa.CompletionItemKind.Field,detail:"table",sortText:"1"+op(i,s)}));return Promise.resolve(r)}function Gz(i,e,t){const r=(e&&t?D0t:N0t).map(s=>({label:op(i,s),kind:qa.CompletionItemKind.Field,detail:"view",sortText:"1"+op(i,s)}));return Promise.resolve(r)}const M0t=i=>["flinksql","trinosql"].includes(i.toLowerCase()),R0t=i=>["trinosql","hivesql","sparksql"].includes(i),P0t=i=>{var e;return i.length>1&&((e=i.at(-1))==null?void 0:e.text)===" "},F0t=async(i,e,t)=>{const n=M0t(i),r=R0t(i)?O0t:A0t;let s=[],o=!1,a=!1,u=!1,c=!1,h=!1,f=!1,p=!1;for(let m=0;m<e.length;m++){const{syntaxContextType:v,wordRanges:b}=e[m],S=b.map(w=>w.text),x=S.length;if(!P0t(b)){if((v===qu.CATALOG||v===qu.DATABASE_CREATE)&&!o&&x<=1&&(s=s.concat(await _6(i)),o=!0),(v===qu.DATABASE||v===qu.TABLE_CREATE||v===qu.VIEW_CREATE)&&(!o&&n&&x<=1&&(s=s.concat(await _6(i)),o=!0),!a&&x<=1&&(s=s.concat(await r(i)),a=!0),!u&&n&&x>=2&&x<=3&&(s=s.concat(await r(i,S[0])),u=!0)),v===qu.TABLE)if(x<=1){if(!o&&n){const w=await _6(i);s=s.concat(w),o=!0}if(a||(s=s.concat(await r(i)),a=!0),!c){const w=(t==null?void 0:t.filter(E=>E.entityContextType===qu.TABLE_CREATE).map(E=>({label:E.text,kind:qa.CompletionItemKind.Field,detail:"table",sortText:"1"+E.text})))||[];s=s.concat(await qz(i),w),c=!0}}else x>=2&&x<=3?(!u&&n&&(s=s.concat(await r(i,S[0])),u=!0),h||(s=s.concat(await qz(i,void 0,S[0])),h=!0)):x>=4&&x<=5&&(h||(s=s.concat(await qz(i,S[0],S[2])),h=!0));if(v===qu.VIEW&&(x<=1?(!o&&n&&(s=s.concat(await _6(i)),o=!0),a||(s=s.concat(await r(i)),a=!0),f||(s=s.concat(await Gz(i)),f=!0)):x>=2&&x<=3?(!u&&n&&(s=s.concat(await r(i,S[0])),u=!0),p||(s=s.concat(await Gz(i,void 0,S[0])),p=!0)):x>=4&&x<=5&&(p||(s=s.concat(await Gz(i,S[0],S[2])),p=!0))),v===qu.COLUMN){const w=t==null?void 0:t.some(N=>N.entityContextType===qu.TABLE&&N.belongStmt.isContainCaret),E=(t==null?void 0:t.filter(N=>N.entityContextType===qu.TABLE_CREATE))||[];if(w){const N=(t==null?void 0:t.filter(M=>M.entityContextType===qu.TABLE&&M.belongStmt.isContainCaret))||[],A=E.filter(M=>N==null?void 0:N.some(G=>G.text===M.text)),H=A.reduce((M,G)=>{var X,$;return M[G.text]=(($=(X=N==null?void 0:N.find(I=>I.text===G.text))==null?void 0:X[Vb.alias])==null?void 0:$.text)||G.text,M},{});let R=[];if(b.length<=1){const M=new Map;R=A.map(X=>{var I;const $=H[X.text]===X.text?X.text:H[X.text];return((I=X.columns)==null?void 0:I.map(O=>{var j;const B=O.text,W=M.get(B)||0;return M.set(B,W+1),{label:O.text+((j=O[Vb.colType])!=null&&j.text?`(${O[Vb.colType].text})`:""),insertText:O.text,kind:qa.CompletionItemKind.EnumMember,detail:` ${$} `,sortText:"0"+$+O.text+W,_tableName:$,_columnText:O.text}}))||[]}).flat(),R=R.map(X=>{const $=M.get(X.label)||0,I=N.length>1;return $>1&&I?{...X,insertText:`${X._tableName}.${X._columnText}`}:X});const G=N.map(X=>{const $=H[X.text]?H[X.text]:X.text;return{label:$,kind:qa.CompletionItemKind.Field,detail:"table",sortText:"1"+$}});s=s.concat(G)}else if(b.length>=2&&S[1]==="."){const M=S[0];R=A.filter(G=>G.text===M||H[G.text]===M).map(G=>{var $;const X=H[G.text]?H[G.text]:G.text;return(($=G.columns)==null?void 0:$.map(I=>{var O;return{label:I.text+((O=I[Vb.colType])!=null&&O.text?`(${I[Vb.colType].text})`:""),insertText:I.text,kind:qa.CompletionItemKind.EnumMember,detail:` ${X} `,sortText:"0"+X+I.text}}))||[]}).flat()}s=s.concat(R)}}}}return s},dw=async function(i,e,t,n,r){if(!n)return Promise.resolve([]);const s=i.getLanguageId(),{keywords:o,syntax:a}=n;console.log("syntax",a),console.log("entities",r);const u=o.map(h=>({label:h,kind:qa.CompletionItemKind.Keyword,detail:"",sortText:"2"+h}));return[...await F0t(s,a,r),...u]},nL=i=>{const e=/@@{[A-Za-z0-9._-]*}/g,t=/\${[A-Za-z0-9._-]*}/g;let n=i;return e.test(i)&&(n=n.replace(e,r=>r.replace(/@|{|}|\.|-/g,"_"))),t.test(i)&&(n=n.replace(t,r=>r.replace(/\$|{|}|\.|-/g,"_"))),n},B0t=(i,e)=>{const t=/@@{[A-Za-z0-9._-]*}/g,n=/\${[A-Za-z0-9._-]*}/g;let r=i;return t.test(i)&&(r=r.replace(t,s=>e?s.replace(/@/,e).replace(/}/,e).replace(/@|{|\.|-/g,"_"):s.replace(/@|{|}|\.|-/g,"_"))),n.test(i)&&(r=r.replace(n,s=>e?s.replace(/\$|}/g,e).replace(/{|\.|-/g,"_"):s.replace(/\$|{|}|\.|-/g,"_"))),r};gc(Br.FLINK,{completionItems:{enable:!0,completionService:dw},preprocessCode:nL});gc(Br.SPARK,{completionItems:{enable:!0,completionService:dw},preprocessCode:nL});gc(Br.HIVE,{completionItems:{enable:!0,completionService:dw},preprocessCode:i=>B0t(i,"`")});gc(Br.MYSQL,{completionItems:{enable:!0,completionService:dw},preprocessCode:nL});gc(Br.TRINO,{completionItems:{enable:!0,completionService:dw},preprocessCode:nL});gc(Br.PG,{completionItems:{enable:!0,completionService:dw},preprocessCode:nL});gc(Br.IMPALA,{completionItems:{enable:!0,completionService:dw},preprocessCode:nL});function W0t(){const i=ge.useRef(),[e,t]=ge.useState();return ge.useEffect(()=>{i.current||(i.current=Z_t({extensions:[lvt]}),i.current&&t(()=>{var r;return(r=i.current)==null?void 0:r.render(ld.jsx(Vgt,{}))}))},[]),ld.jsx("div",{children:e})}window.console.log(`%c dt-sql-parser: ${cvt["dt-sql-parser"]} 

 monaco-sql-languages: ${uvt}`,"font-family: Cabin, Helvetica, Arial, sans-serif;text-align: left;font-size:26px;color:#B21212;");Yz.createRoot(document.getElementById("root")).render(ld.jsx(re.StrictMode,{children:ld.jsx(W0t,{})}));export{sXe as M,nXe as R,en as T,rvt as W,Nt as _,Za as e,qa as l,m3 as m};
